<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æ”¯æŒå‘é‡æœº</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/SupportVectorMachine%20/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/SupportVectorMachine%20/</url>
    
    <content type="html"><![CDATA[<h1 id="Support-Vector-Machine-æ”¯æŒå‘é‡æœº"><a href="#Support-Vector-Machine-æ”¯æŒå‘é‡æœº" class="headerlink" title="Support Vector Machine æ”¯æŒå‘é‡æœº"></a>Support Vector Machine æ”¯æŒå‘é‡æœº</h1><p>æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰çš„æ ¸å¿ƒå…³é”®è¯ï¼š é—´éš”ã€å¯¹å¶ã€æ ¸å‡½æ•°</p><p>SVMåœ¨åˆ†ç±»é—®é¢˜ä¸­æœ‰ç€é‡è¦åœ°ä½ï¼Œå…¶ä¸»è¦æ€æƒ³æ˜¯æœ€å¤§åŒ–ä¸¤ç±»ä¹‹é—´çš„é—´éš”ã€‚æŒ‰ç…§æ•°æ®é›†çš„ç‰¹ç‚¹ï¼š</p><ol><li>çº¿æ€§å¯åˆ†é—®é¢˜ï¼Œå¦‚ä¹‹å‰çš„æ„ŸçŸ¥æœºç®—æ³•å¤„ç†çš„é—®é¢˜</li><li>çº¿æ€§å¯åˆ†ï¼Œåªæœ‰ä¸€ç‚¹ç‚¹é”™è¯¯ç‚¹ï¼Œå¦‚æ„ŸçŸ¥æœºç®—æ³•å‘å±•å‡ºæ¥çš„ Pocket ç®—æ³•å¤„ç†çš„é—®é¢˜</li><li>éçº¿æ€§é—®é¢˜ï¼Œå®Œå…¨ä¸å¯åˆ†ï¼Œå¦‚åœ¨æ„ŸçŸ¥æœºé—®é¢˜å‘å±•å‡ºæ¥çš„å¤šå±‚æ„ŸçŸ¥æœºå’Œæ·±åº¦å­¦ä¹ </li></ol><p>è¿™ä¸‰ç§æƒ…å†µå¯¹äº SVM åˆ†åˆ«æœ‰ä¸‹é¢ä¸‰ç§å¤„ç†æ‰‹æ®µï¼š</p><ol><li>Hard-margin SVM</li><li>Soft-margin SVM</li><li>Kernel SVM</li></ol><p>SVM çš„æ±‚Sè§£ä¸­ï¼Œå¤§é‡ç”¨åˆ°äº† Lagrange ä¹˜å­æ³•ï¼Œé¦–å…ˆå¯¹è¿™ç§æ–¹æ³•è¿›è¡Œä»‹ç»ã€‚</p><h2 id="çº¦æŸä¼˜åŒ–é—®é¢˜"><a href="#çº¦æŸä¼˜åŒ–é—®é¢˜" class="headerlink" title="çº¦æŸä¼˜åŒ–é—®é¢˜"></a>çº¦æŸä¼˜åŒ–é—®é¢˜</h2><p>ä¸€èˆ¬åœ°ï¼Œçº¦æŸä¼˜åŒ–é—®é¢˜ï¼ˆåŸé—®é¢˜ï¼‰å¯ä»¥å†™æˆï¼š<br>$$<br>\begin{align}</p><p>&amp;\min_{x\in\mathbb{R^p}}f(x)\<br>&amp;s.t.\ m_i(x)\le0,i&#x3D;1,2,\cdots,M\<br>&amp;\ \ \ \ \ \ \ \ n_j(x)&#x3D;0,j&#x3D;1,2,\cdots,N</p><p>\end{align}<br>$$<br>å®šä¹‰ Lagrange å‡½æ•°ï¼š<br>$$<br>L(x,\lambda,\eta)&#x3D;f(x)+\sum\limits_{i&#x3D;1}^M\lambda_im_i(x)+\sum\limits_{i&#x3D;1}^N\eta_in_i(x)<br>$$<br>é‚£ä¹ˆåŸé—®é¢˜å¯ä»¥ç­‰ä»·äºæ— çº¦æŸå½¢å¼ï¼š<br>$$<br>\min_{x\in\mathbb{R}^p}\max_{\lambda,\eta}L(x,\lambda,\eta)\ s.t.\ \lambda_i\ge0<br>$$</p><ul><li>å¦‚æœ$x$è¿åäº†çº¦æŸ$m_i(x)$ï¼Œåˆ™ï¼š</li></ul><p>$$<br>m_i(x)&gt;0 \implies \max_{\lambda} L&#x3D; \infty<br>$$</p><ul><li>å¦‚æœ$x$ç¬¦åˆçº¦æŸ$m_i(x)$ï¼Œåˆ™</li></ul><p>$$<br>m_i(x) \leq 0 \implies \exists \max_\lambda L<br>$$</p><p>è¿™æ˜¯ç”±äºï¼Œå½“æ»¡è¶³åŸé—®é¢˜çš„ä¸ç­‰å¼çº¦æŸçš„æ—¶å€™ï¼Œ$\lambda_i&#x3D;0$ æ‰èƒ½å–å¾—æœ€å¤§å€¼ï¼Œç›´æ¥ç­‰ä»·äºåŸé—®é¢˜ï¼Œå¦‚æœä¸æ»¡è¶³åŸé—®é¢˜çš„ä¸ç­‰å¼çº¦æŸï¼Œé‚£ä¹ˆæœ€å¤§å€¼å°±ä¸º $+\infin$ï¼Œç”±äºéœ€è¦å–æœ€å°å€¼ï¼Œäºæ˜¯ä¸ä¼šå–åˆ°è¿™ä¸ªæƒ…å†µã€‚è¿™é‡Œçš„å‰åå˜é‡$x$éƒ½æ˜¯å±äº$\mathbb{R}^p$ä½†æ˜¯åŸå¼çš„$x$ä»£è¡¨çš„æ˜¯å¯å–æ•´ä¸ªæ ·æœ¬ç©ºé—´ï¼Œåä¸€ä¸ªå˜é‡$x$åˆ™æ˜¯ä»£è¡¨ç¬¦åˆæ¡ä»¶çš„å¥½çš„æ ·æœ¬ã€‚</p><p>è¿™ä¸ªé—®é¢˜çš„å¯¹å¶å½¢å¼ï¼š<br>$$<br>\max_{\lambda,\eta}\min_{x\in\mathbb{R}^p}L(x,\lambda,\eta)\ s.t.\ \lambda_i\ge0<br>$$<br>å¯¹å¶é—®é¢˜æ˜¯å…³äº $Â \lambda, \eta$ çš„æœ€å¤§åŒ–é—®é¢˜ã€‚</p><p>ç”±äºï¼š<br>$$<br>\max_{\lambda_i,\eta_j}\min_{x}L(x,\lambda_i,\eta_j)\le\min_{x}\max_{\lambda_i,\eta_j}L(x,\lambda_i,\eta_j)<br>$$</p><blockquote><p>  è¯æ˜ï¼šæ˜¾ç„¶æœ‰ $\min\limits_{x}L\le L\le\max\limits_{\lambda,\eta}L$ï¼Œäºæ˜¯æ˜¾ç„¶æœ‰ $\max\limits_{\lambda,\eta}\min\limits_{x}L\le L$ï¼Œä¸” $\min\limits_{x}\max\limits_{\lambda,\eta}L\ge L$ã€‚</p></blockquote><p>å¯¹å¶é—®é¢˜çš„è§£å°äºåŸé—®é¢˜ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p><ol><li>å¼ºå¯¹å¶ï¼šå¯ä»¥å–ç­‰äºå·</li><li>å¼±å¯¹å¶ï¼šä¸å¯ä»¥å–ç­‰äºå·</li></ol><p>$$<br>G:{(m_1(x),f(x)) \ | \  x \in D }\<br>p^* &#x3D; inf { f(x) \ | \  (m_1(x),f(x)) \in G }\<br>d^* &#x3D; \max_{\lambda} \min_{x} L(x,\lambda) &#x3D; \max_\lambda g(\lambda)<br>$$<br>å¯¹äºä¸€ä¸ªå‡¸ä¼˜åŒ–é—®é¢˜ï¼Œæœ‰å¦‚ä¸‹å®šç†ï¼š</p><blockquote><p>  å¦‚æœå‡¸ä¼˜åŒ–é—®é¢˜æ»¡è¶³æŸäº›æ¡ä»¶å¦‚ Slater æ¡ä»¶ï¼Œé‚£ä¹ˆå®ƒå’Œå…¶å¯¹å¶é—®é¢˜æ»¡è¶³å¼ºå¯¹å¶å…³ç³»ã€‚è®°é—®é¢˜çš„å®šä¹‰åŸŸä¸ºï¼š$\mathcal{D}&#x3D;domf(x)\cap dom m_i(x)\cap domn_j(x)$ã€‚äºæ˜¯ Slater æ¡ä»¶ä¸ºï¼š<br>  $$<br>  \exist\hat{x}\in Relint , \mathcal{D}\ s.t.\ \forall i&#x3D;1,2,\cdots,M,m_i(x)\lt0<br>  $$<br>  å…¶ä¸­ Relint è¡¨ç¤ºç›¸å¯¹å†…éƒ¨ï¼ˆä¸åŒ…å«è¾¹ç•Œçš„å†…éƒ¨ï¼‰ã€‚</p></blockquote><ol><li>å¯¹äºå¤§å¤šæ•°å‡¸ä¼˜åŒ–é—®é¢˜ï¼ŒSlater æ¡ä»¶æˆç«‹ã€‚</li><li>æ¾å¼› Slater æ¡ä»¶ï¼Œå¦‚æœ M ä¸ªä¸ç­‰å¼çº¦æŸä¸­ï¼Œæœ‰ K ä¸ªå‡½æ•°ä¸ºä»¿å°„å‡½æ•°ï¼Œé‚£ä¹ˆåªè¦å…¶ä½™çš„å‡½æ•°æ»¡è¶³ Slater æ¡ä»¶ï¼Œè¯¥å‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜å°±æ˜¯ä¸ªå¼ºå¯¹å¶é—®é¢˜ã€‚</li></ol><p>ä¸Šé¢ä»‹ç»äº†åŸé—®é¢˜å’Œå¯¹å¶é—®é¢˜çš„å¯¹å¶å…³ç³»ï¼Œä½†æ˜¯å®é™…è¿˜éœ€è¦å¯¹å‚æ•°è¿›è¡Œæ±‚è§£ï¼Œæ±‚è§£æ–¹æ³•ä½¿ç”¨ KKT æ¡ä»¶è¿›è¡Œ:ï¼ˆåŸå§‹å¯è¡Œæ€§ã€åŸå§‹æœ€ä¼˜åŒ–ã€å¯¹å¶å¯è¡Œæ€§ã€äº’è¡¥æ¾å¼›æ¡ä»¶ï¼‰</p><blockquote><p>  KKT æ¡ä»¶å’Œå¼ºå¯¹å¶å…³ç³»æ˜¯ç­‰ä»·å…³ç³»ã€‚KKT æ¡ä»¶å¯¹æœ€ä¼˜è§£çš„æ¡ä»¶ä¸ºï¼š</p><ol><li><p>å¯è¡ŒåŸŸï¼š<br>$$<br>\begin{align}<br>m_i(x^*)\le0\<br>n_j(x^*)&#x3D;0\<br>\lambda^*\ge0<br>\end{align}<br>$$</p></li><li><p>äº’è¡¥æ¾å¼› $\lambda^<em>m_i(x^</em>)&#x3D;0,\forall m_i$ï¼Œå¯¹å¶é—®é¢˜çš„æœ€ä½³å€¼ä¸º $d^*$ï¼ŒåŸé—®é¢˜ä¸º $p^*$<br>$$<br>\begin{align}<br>d^*&amp;&#x3D;\max_{\lambda,\eta}g(\lambda,\eta)&#x3D;g(\lambda^*,\eta^*)\nonumber\<br>&amp;&#x3D;\min_{x}L(x,\lambda^*,\eta^*)\nonumber\<br>&amp;\le L(x^*,\lambda^*,\eta^*)\nonumber\<br>&amp;&#x3D;f(x^*)+\sum\limits_{i&#x3D;1}^M\lambda^<em>m_i(x^</em>)\nonumber\<br>&amp;\le f(x^*)&#x3D;p^*<br>\end{align}<br>$$<br>ä¸ºäº†æ»¡è¶³ç›¸ç­‰ï¼Œä¸¤ä¸ªä¸ç­‰å¼å¿…é¡»æˆç«‹ï¼Œäºæ˜¯ï¼Œå¯¹äºç¬¬ä¸€ä¸ªä¸ç­‰äºå·ï¼Œéœ€è¦æœ‰æ¢¯åº¦ä¸º0æ¡ä»¶ï¼Œå¯¹äºç¬¬äºŒä¸ªä¸ç­‰äºå·éœ€è¦æ»¡è¶³äº’è¡¥æ¾å¼›æ¡ä»¶ã€‚</p></li><li><p>å¯¹å¶å¯è¡Œï¼Œæ¢¯åº¦ä¸º0ï¼š $\frac{\partial L(x,\lambda^*,\eta^*)}{\partial x}|_{x&#x3D;x^*}&#x3D;0$</p></li></ol></blockquote><h2 id="Hard-margin-SVM"><a href="#Hard-margin-SVM" class="headerlink" title="Hard-margin SVM"></a>Hard-margin SVM</h2><p>æ”¯æ’‘å‘é‡æœºä¹Ÿæ˜¯ä¸€ç§ç¡¬åˆ†ç±»æ¨¡å‹ï¼Œåœ¨ä¹‹å‰çš„æ„ŸçŸ¥æœºæ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬åœ¨çº¿æ€§æ¨¡å‹çš„åŸºç¡€ä¸Šå åŠ äº†ç¬¦å·å‡½æ•°ï¼Œåœ¨å‡ ä½•ç›´è§‚ä¸Šï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¸¤ç±»åˆ†çš„å¾ˆå¼€çš„è¯ï¼Œé‚£ä¹ˆå…¶å®ä¼šå­˜åœ¨æ— ç©·å¤šæ¡çº¿å¯ä»¥å°†ä¸¤ç±»åˆ†å¼€ã€‚åœ¨ SVM ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥æœ€å¤§åŒ–é—´éš”è¿™ä¸ªæ¦‚å¿µï¼Œé—´éš”æŒ‡çš„æ˜¯æ•°æ®å’Œç›´çº¿çš„è·ç¦»çš„æœ€å°å€¼ï¼Œå› æ­¤æœ€å¤§åŒ–è¿™ä¸ªå€¼åæ˜ äº†æˆ‘ä»¬çš„æ¨¡å‹å€¾å‘ã€‚è§£å†³äº†perceptionå­˜åœ¨å¤šè§£çš„é—®é¢˜ã€‚</p><p>åˆ†å‰²çš„è¶…å¹³é¢å¯ä»¥å†™ä¸ºï¼š<br>$$<br>0&#x3D;w^Tx+b<br>$$<br>é‚£ä¹ˆæœ€å¤§åŒ–é—´éš”ï¼ˆçº¦æŸä¸ºåˆ†ç±»ä»»åŠ¡çš„è¦æ±‚ï¼‰ï¼š<br>$$<br>\mathop{argmax}<em>{w,b}[\min_i\frac{|w^Tx_i+b|}{||w||}]\quad s.t.\ y_i(w^Tx_i+b)&gt;0\\Longrightarrow\mathop{argmax}</em>{w,b}[\min_i\frac{y_i(w^Tx_i+b)}{||w||}] \quad s.t.\ y_i(w^Tx_i+b)&gt;0<br>$$<br>å¯¹äºè¿™ä¸ªçº¦æŸ $y_i(w^Tx_i+b)&gt;0$ï¼Œä¸å¦¨å›ºå®š $\min y_i(w^Tx_i+b)&#x3D;1&gt;0$ï¼Œè¿™æ˜¯ç”±äºåˆ†å¼€ä¸¤ç±»çš„è¶…å¹³é¢çš„ç³»æ•°ç»è¿‡æ¯”ä¾‹æ”¾ç¼©ä¸ä¼šæ”¹å˜è¿™ä¸ªå¹³é¢ï¼Œè¿™ä¹Ÿç›¸å½“äºç»™è¶…å¹³é¢çš„ç³»æ•°ä½œå‡ºäº†çº¦æŸã€‚åŒ–ç®€åçš„å¼å­å¯ä»¥è¡¨ç¤ºä¸ºï¼š<br>$$<br>\mathop{argmin}<em>{w,b}\frac{1}{2}w^Tw \quad s.t.\ \min_iy_i(w^Tx_i+b)&#x3D;1\\Rightarrow\mathop{argmin}</em>{w,b}\frac{1}{2}w^Tw \quad s.t.\ y_i(w^Tx_i+b)\ge1,i&#x3D;1,2,\cdots,N<br>$$<br>è¿™å°±æ˜¯ä¸€ä¸ªåŒ…å« $N$ ä¸ªçº¦æŸçš„å‡¸ä¼˜åŒ–é—®é¢˜ï¼Œæœ‰å¾ˆå¤šæ±‚è§£è¿™ç§é—®é¢˜çš„è½¯ä»¶ã€‚</p><blockquote><p>å‡¸é›†ã€å‡¸æ¡ä»¶ã€å‡¸å‡½æ•°çš„æ€§è´¨ï¼š</p><ul><li><p>å‡¸é›†ï¼šä¸€ä¸ªç‚¹é›†ï¼Œå¦‚æœå…¶ä¸­ä»»æ„ä¸¤ä¸ªç‚¹$x_1,x_2$çš„çº¿æ®µï¼Œå‡åŒ…å«åœ¨é›†åˆå†…ï¼Œè¿™æ ·çš„ç‚¹é›†æˆä¸ºå‡¸é›†ã€‚</p></li><li><p>å‡¸æ¡ä»¶ï¼š</p><ol><li><p>ä¸€é˜¶ï¼š$f(x)$å®šä¹‰åœ¨å‡¸é›†ä¸Šï¼Œä¸”å…·æœ‰è¿ç»­çš„ä¸€é˜¶å¯¼æ•°çš„å‡½æ•°ï¼Œåˆ™$f(x)$æ»¡è¶³$\quad \forall x_1,x_2,f(x_1)&gt;f(x_2)+(x_2-x_1)^T \nabla f(x_1)$</p></li><li><p>äºŒé˜¶ï¼šf(x)$å®šä¹‰åœ¨å‡¸é›†ä¸Šï¼Œä¸”å…·æœ‰è¿ç»­çš„äºŒé˜¶å¯¼æ•°çš„å‡½æ•°ã€‚</p></li></ol><p>   â€‹å……è¦æ¡ä»¶ï¼šHessençŸ©é˜µåœ¨$\mathbb{R}$ä¸Šå¤„å¤„åŠæ­£å®šã€‚<br>   $$<br>   A&#x3D;\begin{pmatrix} \frac{\partial^2 f}{\partial x_1^2} &amp; \frac{\partial^2 f}{\partial x_1x_2 } \<br>   \frac{\partial^2 f}{\partial x_2x_1 } &amp;\frac{\partial^2 f}{\partial x_2^2 }\end{pmatrix}  ,\forall x,x^TAx \geq 0 \iff Aæ˜¯åŠæ­£å®šçŸ©é˜µ<br>   $$</p></li><li><p>å‡¸å‡½æ•°çš„æ€§è´¨ï¼š</p><ol><li>è‹¥ç»™å®šä¸€ç‚¹$x_0$ï¼Œé›†åˆ$R &#x3D; {x| f(x)&lt;f(x_0)}$ä¸ºå‡¸é›†</li><li>å¯è¡ŒåŸŸ$R &#x3D; {x| g_i(x) \leq 0,i&#x3D; 1,2, \cdots,}$ä¸ºå‡¸é›†</li><li>å‡¸è§„åˆ’çš„ä»»ä½•å±€éƒ¨æœ€ä¼˜è§£å°±æ˜¯å…¨å±€æœ€ä¼˜è§£</li></ol></li></ul></blockquote><p>ä½†æ˜¯ï¼Œå¦‚æœæ ·æœ¬æ•°é‡æˆ–ç»´åº¦éå¸¸é«˜ï¼Œç›´æ¥æ±‚è§£å›°éš¾ç”šè‡³ä¸å¯è§£ï¼Œäºæ˜¯éœ€è¦å¯¹è¿™ä¸ªé—®é¢˜è¿›ä¸€æ­¥å¤„ç†ã€‚å¼•å…¥Lagrange å‡½æ•°ï¼š<br>$$<br>L(w,b,\lambda)&#x3D;\frac{1}{2}w^Tw+\sum\limits_{i&#x3D;1}^N\lambda_i(1-y_i(w^Tx_i+b))<br>$$<br>æˆ‘ä»¬æœ‰åŸé—®é¢˜å°±ç­‰ä»·äºï¼š<br>$$<br>\mathop{argmin}<em>{w,b}\max</em>{\lambda}L(w,b,\lambda_i)\ s.t.\ \lambda_i\ge0<br>$$<br>æˆ‘ä»¬äº¤æ¢æœ€å°å’Œæœ€å¤§å€¼çš„ç¬¦å·å¾—åˆ°å¯¹å¶é—®é¢˜ï¼š<br>$$<br>\max_{\lambda_i}\min_{w,b}L(w,b,\lambda_i)\ s.t.\ \lambda_i\ge0<br>$$<br>ç”±äºä¸ç­‰å¼çº¦æŸæ˜¯ä»¿å°„å‡½æ•°ï¼ˆä»¿å°„å‡½æ•°æ˜¯ä¸€é˜¶å¤šé¡¹å¼ï¼‰ï¼Œå¯¹å¶é—®é¢˜å’ŒåŸé—®é¢˜ç­‰ä»·ï¼š</p><ul><li><p>$b$ï¼š$\frac{\partial}{\partial b}L&#x3D;0\Rightarrow\sum\limits_{i&#x3D;1}^N\lambda_iy_i&#x3D;0$</p></li><li><p>$w$ï¼šé¦–å…ˆå°† $b$ ä»£å…¥ï¼š<br>$$<br>\begin{align}L(w,b,\lambda_i)&amp;&#x3D;\frac{1}{2}w^Tw+\sum\limits_{i&#x3D;1}^N\lambda_i(1-y_iw^Tx_i-y_ib)\ &amp;&#x3D;\frac{1}{2}w^Tw+\sum\limits_{i&#x3D;1}^N\lambda_i-\sum\limits_{i&#x3D;1}^N\lambda_iy_iw^Tx_i\end{align}<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\frac{\partial}{\partial w}L&#x3D;0\Rightarrow w&#x3D;\sum\limits_{i&#x3D;1}^N\lambda_iy_ix_i<br>$$</p></li><li><p>å°†ä¸Šé¢ä¸¤ä¸ªå‚æ•°ä»£å…¥ï¼š<br>$$<br>L(w,b,\lambda_i)&#x3D;-\frac{1}{2}\sum\limits_{i&#x3D;1}^N\sum\limits_{j&#x3D;1}^N\lambda_i\lambda_jy_iy_jx_i^Tx_j+\sum\limits_{i&#x3D;1}^N\lambda_i<br>$$</p></li></ul><p>å› æ­¤ï¼Œå¯¹å¶é—®é¢˜å°±æ˜¯ï¼š<br>$$<br>\max_{\lambda}-\frac{1}{2}\sum\limits_{i&#x3D;1}^N\sum\limits_{j&#x3D;1}^N\lambda_i\lambda_jy_iy_jx_i^Tx_j+\sum\limits_{i&#x3D;1}^N\lambda_i,\quad s.t.\ \lambda_i\ge0 \<br>\implies \min_{\lambda}\frac{1}{2}\sum\limits_{i&#x3D;1}^N\sum\limits_{j&#x3D;1}^N\lambda_i\lambda_jy_iy_jx_i^Tx_j+\sum\limits_{i&#x3D;1}^N\lambda_i,\quad s.t.\ \lambda_i\ge0 \<br>$$<br>ä» KKTæ¡ä»¶ (Kaursh-Kuhn-Tucker Conditions)å¾—åˆ°è¶…å¹³é¢çš„å‚æ•°ï¼š</p><blockquote><p>  åŸé—®é¢˜å’Œå¯¹å¶é—®é¢˜æ»¡è¶³å¼ºå¯¹å¶å…³ç³»çš„å……è¦æ¡ä»¶ä¸ºå…¶æ»¡è¶³ KKT æ¡ä»¶ï¼š<br>  $$<br>  \begin{align}<br>  &amp;\frac{\partial L}{\partial w}&#x3D;0,\frac{\partial L}{\partial b}&#x3D;0<br>  \&amp;\lambda_k(1-y_k(w^Tx_k+b))&#x3D;0(slackness\ complementary)\<br>  &amp;\lambda_i\ge0\<br>  &amp;1-y_i(w^Tx_i+b)\le0<br>  \end{align}<br>  $$</p></blockquote><p>æ ¹æ®è¿™ä¸ªæ¡ä»¶å°±å¾—åˆ°äº†å¯¹åº”çš„æœ€ä½³å‚æ•°ï¼š<br>$$<br>\hat{w}&#x3D;\sum\limits_{i&#x3D;1}^N\lambda_iy_ix_i\<br>\hat{b}&#x3D;y_k-w^Tx_k&#x3D;y_k-\sum\limits_{i&#x3D;1}^N\lambda_iy_ix_i^Tx_k,\exist k,1-y_k(w^Tx_k+b)&#x3D;0<br>$$<br>äºæ˜¯è¿™ä¸ªè¶…å¹³é¢çš„å‚æ•° $w$ å°±æ˜¯æ•°æ®ç‚¹çš„çº¿æ€§ç»„åˆï¼Œæœ€ç»ˆçš„å‚æ•°å€¼å°±æ˜¯éƒ¨åˆ†æ»¡è¶³ $y_i(w^Tx_i+b)&#x3D;1$å‘é‡çš„çº¿æ€§ç»„åˆï¼ˆäº’è¡¥æ¾å¼›æ¡ä»¶ç»™å‡ºï¼‰ï¼Œè¿™äº›å‘é‡ä¹Ÿå«æ”¯æ’‘å‘é‡ã€‚ç”±äºSVMè§£çš„ç¨€ç–æ€§ï¼šå¤§éƒ¨åˆ†è®­ç»ƒæ ·æœ¬ä¸ä¿ç•™ï¼Œæœ€ç»ˆæ¨¡å‹ä»…ä¸æ”¯æŒå‘é‡æœ‰å…³ã€‚</p><p>![å±å¹•æˆªå›¾ 2021-10-25 162156](E:\PHOTO\learning\å±å¹•æˆªå›¾ 2021-10-25 162156.png)</p><h2 id="Soft-margin-SVM"><a href="#Soft-margin-SVM" class="headerlink" title="Soft-margin SVM"></a>Soft-margin SVM</h2><p>Hard-margin çš„ SVM åªå¯¹å¯åˆ†æ•°æ®å¯è§£ï¼Œå¦‚æœä¸å¯åˆ†çš„æƒ…å†µï¼Œæˆ‘ä»¬çš„åŸºæœ¬æƒ³æ³•æ˜¯åœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥é”™è¯¯åˆ†ç±»çš„å¯èƒ½æ€§ã€‚é”™è¯¯åˆ†ç±»çš„ä¸ªæ•°å¯ä»¥å†™æˆï¼š<br>$$<br>error&#x3D;\sum\limits_{i&#x3D;1}^N\mathbb{I}{y_i(w^Tx_i+b)\lt1}<br>$$<br>è¿™ä¸ªæŒ‡ç¤ºå‡½æ•°ä¸è¿ç»­ï¼Œå¯ä»¥å°†å…¶æ”¹å†™ä¸ºï¼š<br>$$<br>if \quad 1-y_i(w^Tx_i+b) &gt;1   \implies error &#x3D;0<br>\ if \quad 1-y_i(w^Tx_i+b) &lt;1   \implies error &#x3D;1-y_i(w^Tx_i+b)\<br>Conclusion:error&#x3D;\sum\limits_{i&#x3D;1}^N\max{0,1-y_i(w^Tx_i+b)}<br>$$<br>æ±‚å’Œç¬¦å·ä¸­çš„å¼å­åˆå«åš Hinge Functionã€‚</p><p>å°†è¿™ä¸ªé”™è¯¯åŠ å…¥ Hard-margin SVM ä¸­ï¼Œäºæ˜¯ï¼š<br>$$<br>\mathop{argmin}<em>{w,b}\frac{1}{2}w^Tw+C\sum\limits</em>{i&#x3D;1}^N\max{0,1-y_i(w^Tx_i+b)}\ s.t.\ y_i(w^Tx_i+b)\ge1-\xi_i,i&#x3D;1,2,\cdots,N<br>$$<br>è¿™ä¸ªå¼å­ä¸­ï¼Œå¸¸æ•° $C$ å¯ä»¥çœ‹ä½œå…è®¸çš„é”™è¯¯æ°´å¹³ï¼ŒåŒæ—¶ä¸Šå¼ä¸ºäº†è¿›ä¸€æ­¥æ¶ˆé™¤ $\max$ ç¬¦å·ï¼Œå¯¹æ•°æ®é›†ä¸­çš„æ¯ä¸€ä¸ªè§‚æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå…¶å¤§éƒ¨åˆ†æ»¡è¶³çº¦æŸï¼Œä½†æ˜¯å…¶ä¸­éƒ¨åˆ†è¿åçº¦æŸï¼Œå› æ­¤è¿™éƒ¨åˆ†çº¦æŸå˜æˆ $y_i(w^Tx+b)\ge1-\xi_i$ï¼Œå…¶ä¸­ $\xi_i&#x3D;1-y_i(w^Tx_i+b)$ï¼Œè¿›ä¸€æ­¥çš„åŒ–ç®€ï¼š<br>$$<br>\mathop{argmin}<em>{w,b}\frac{1}{2}w^Tw+C\sum\limits</em>{i&#x3D;1}^N\xi_i \ s.t.\ y_i(w^Tx_i+b)\ge1-\xi_i,\xi_i\ge0,i&#x3D;1,2,\cdots,N<br>$$</p><p>![å±å¹•æˆªå›¾ 2021-10-25 163525](E:\PHOTO\learning\å±å¹•æˆªå›¾ 2021-10-25 163525.png)</p><h2 id="Kernel-Method"><a href="#Kernel-Method" class="headerlink" title="Kernel Method"></a>Kernel Method</h2><p>æ ¸æ–¹æ³•å¯ä»¥åº”ç”¨åœ¨å¾ˆå¤šé—®é¢˜ä¸Šï¼Œåœ¨åˆ†ç±»é—®é¢˜ä¸­ï¼Œå¯¹äºä¸¥æ ¼ä¸å¯åˆ†é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªç‰¹å¾è½¬æ¢å‡½æ•°å°†åŸæ¥çš„ä¸å¯åˆ†çš„æ•°æ®é›†å˜ä¸ºå¯åˆ†çš„æ•°æ®é›†ï¼Œç„¶åå†æ¥åº”ç”¨å·²æœ‰çš„æ¨¡å‹ã€‚å¾€å¾€å°†ä½ç»´ç©ºé—´çš„æ•°æ®é›†å˜ä¸ºé«˜ç»´ç©ºé—´çš„æ•°æ®é›†åï¼Œæ•°æ®ä¼šå˜å¾—å¯åˆ†ï¼ˆæ•°æ®å˜å¾—æ›´ä¸ºç¨€ç–ï¼‰ï¼š</p><blockquote><p>  Cover Theoremï¼šé«˜ç»´ç©ºé—´æ¯”ä½ç»´ç©ºé—´æ›´æ˜“çº¿æ€§å¯åˆ†ã€‚</p></blockquote><p>åº”ç”¨åœ¨ SVM ä¸­æ—¶ï¼Œè§‚å¯Ÿä¸Šé¢çš„ SVM å¯¹å¶é—®é¢˜ï¼š<br>$$<br>\max_{\lambda}-\frac{1}{2}\sum\limits_{i&#x3D;1}^N\sum\limits_{j&#x3D;1}^N\lambda_i\lambda_jy_iy_jx_i^Tx_j+\sum\limits_{i&#x3D;1}^N\lambda_i,\ s.t.\ \lambda_i\ge0<br>$$<br>åœ¨æ±‚è§£çš„æ—¶å€™éœ€è¦æ±‚å¾—å†…ç§¯ï¼Œäºæ˜¯ä¸å¯åˆ†æ•°æ®åœ¨é€šè¿‡ç‰¹å¾å˜æ¢åï¼Œéœ€è¦æ±‚å¾—å˜æ¢åçš„å†…ç§¯ã€‚æˆ‘ä»¬å¸¸å¸¸å¾ˆéš¾æ±‚å¾—å˜æ¢å‡½æ•°çš„å†…ç§¯ã€‚äºæ˜¯ç›´æ¥å¼•å…¥å†…ç§¯çš„å˜æ¢å‡½æ•°ï¼š<br>$$<br>\forall x,xâ€™\in\mathcal{X},\exist\phi\in\mathcal{H}:x\rightarrow z\ s.t.\ k(x,xâ€™)&#x3D;\phi(x)^T\phi(x)<br>$$<br>ç§° $k(x,xâ€™)$ ä¸ºä¸€ä¸ªæ­£å®šæ ¸å‡½æ•°ï¼Œå…¶ä¸­$\mathcal{H}$ æ˜¯ Hilbert ç©ºé—´ï¼ˆå®Œå¤‡çš„ã€å¯èƒ½æ˜¯æ— çº¿ç»´çš„è¢«èµ‹äºˆå†…ç§¯çš„çº¿æ€§ç©ºé—´ï¼‰ã€‚</p><ul><li><p>å®Œå¤‡çš„ï¼š æé™å€¼æ˜¯å°é—­çš„<br>$$<br>{k_n} \to \lim_{n \to \infty}{k_n} &#x3D; K \in \mathcal{H}<br>$$</p></li><li><p>å†…ç§¯ï¼š$&lt;a,b&gt; &#x3D; |a||b|\cos\theta$  çº¿æ€§ã€æ­£å®šæ€§ã€å¯¹ç§°æ€§</p></li><li><p>çº¿æ€§ç©ºé—´ï¼šå‘é‡ç©ºé—´&lt;åŠ æ³•å’Œæ•°ä¹˜&gt; æ˜¯ä¸ªå°é—­ç©ºé—´</p></li></ul><blockquote><p>  $k(x,xâ€™)&#x3D;\exp(-\frac{(x-xâ€™)^2}{2\sigma^2})$ æ˜¯ä¸€ä¸ªæ ¸å‡½æ•°ã€‚</p><p>  è¯æ˜ï¼š<br>  $$<br>  \begin{align}<br>  \exp(-\frac{(x-xâ€™)^2}{2\sigma^2})&amp;&#x3D;\exp(-\frac{x^2}{2\sigma^2})\exp(\frac{xxâ€™}{\sigma^2})\exp(-\frac{xâ€™^2}{2\sigma^2})\nonumber\<br>  &amp;&#x3D;\exp(-\frac{x^2}{2\sigma^2})\sum\limits_{n&#x3D;0}^{+\infin}\frac{x^nxâ€™^n}{\sigma^{2n}n!}\exp(-\frac{xâ€™^2}{2\sigma^2})\nonumber\<br>  &amp;&#x3D;\exp(-\frac{x^2}{2\sigma^2})\varphi(x)\varphi(xâ€™)\exp(-\frac{xâ€™^2}{2\sigma^2})\nonumber\<br>  &amp;&#x3D;\phi(x)\phi(xâ€™)<br>  \end{align}<br>  $$</p></blockquote><p>æ­£å®šæ ¸å‡½æ•°æœ‰ä¸‹é¢çš„ç­‰ä»·å®šä¹‰ï¼š</p><blockquote><p>  å¦‚æœæ ¸å‡½æ•°æ»¡è¶³ï¼š</p><ol><li>å¯¹ç§°æ€§</li><li>æ­£å®šæ€§</li></ol><p>  é‚£ä¹ˆè¿™ä¸ªæ ¸å‡½æ•°æ—¶æ­£å®šæ ¸å‡½æ•°ã€‚</p><p>  è¯æ˜ï¼š</p><ol><li>å¯¹ç§°æ€§ $\Leftrightarrow$ $k(x,z)&#x3D;k(z,x)$ï¼Œæ˜¾ç„¶æ»¡è¶³å†…ç§¯çš„å®šä¹‰</li><li>æ­£å®šæ€§ $\Leftrightarrow$ $\forall N,x_1,x_2,\cdots,x_N\in\mathcal{X}$ï¼Œå¯¹åº”çš„ Gram Matrix $K&#x3D;[k(x_i,x_j)]$ æ˜¯åŠæ­£å®šçš„ã€‚</li></ol><p>  è¦è¯ï¼š$k(x,z)&#x3D;\phi(x)^T\phi(z)\Leftrightarrow K$ åŠæ­£å®š+å¯¹ç§°æ€§ã€‚</p><ol><li><p>$\Rightarrow$ï¼šé¦–å…ˆï¼Œå¯¹ç§°æ€§æ˜¯æ˜¾ç„¶çš„ï¼Œå¯¹äºæ­£å®šæ€§ï¼š<br>$$<br>K&#x3D;\begin{pmatrix}k(x_1,x_2)&amp;\cdots&amp;k(x_1,x_N)\\vdots&amp;\vdots&amp;\vdots\k(x_N,x_1)&amp;\cdots&amp;k(x_N,x_N)\end{pmatrix}<br>$$<br>ä»»æ„å– $\alpha\in\mathbb{R}^N$ï¼Œå³éœ€è¦è¯æ˜ $\alpha^TK\alpha\ge0$ï¼š<br>$$<br>\begin{align}\alpha^TK\alpha&amp;&#x3D;\sum\limits_{i,j}\alpha_i\alpha_jK_{ij}&#x3D;\sum\limits_{i,j}\alpha_i\phi^T(x_i)\phi(x_j)\alpha_j\ &amp;&#x3D;\sum\limits_{i}\alpha_i\phi^T(x_i)\sum\limits_{j}\alpha_j\phi(x_j) \end{align}<br>$$<br>è¿™ä¸ªå¼å­å°±æ˜¯å†…ç§¯çš„å½¢å¼ï¼ŒHilbert ç©ºé—´æ»¡è¶³çº¿æ€§æ€§ï¼Œäºæ˜¯æ­£å®šæ€§çš„è¯ã€‚</p></li><li><p>$\Leftarrow$ï¼šå¯¹äº $K$ è¿›è¡Œåˆ†è§£ï¼Œå¯¹äºå¯¹ç§°çŸ©é˜µ $K&#x3D;V\Lambda V^T$ï¼Œé‚£ä¹ˆä»¤ $\phi(x_i)&#x3D;\sqrt{\lambda_i}V_i$ï¼Œå…¶ä¸­ $V_i$æ˜¯ç‰¹å¾å‘é‡ï¼Œäºæ˜¯å°±æ„é€ äº† $k(x,z)&#x3D;\sqrt{\lambda_i\lambda_j}V_i^TV_j$</p></li></ol></blockquote><p>å¸¸è§çš„æ ¸å‡½æ•°ï¼š</p><ul><li>linear kernel:$k(x_i,x_j)&#x3D;x_i^T x_j$ </li><li>polynomial kernel:$k(x_i,x_j)&#x3D;(x_i^T x_j)^d   \ \ d\geq1$ä¸ºå¤šé¡¹å¼çš„æ¬¡æ•° </li><li>Gauss kernel:$k(x_i,x_j)&#x3D;\exp(-\frac{||(x_i-x_j)||^2}{2\sigma^2}) \ \  \sigma &gt;0$ ä¸ºé«˜æ–¯æ ¸çš„å®½åº¦</li><li>Laplace kernel:$k(x_i,x_j)&#x3D;\exp(-\frac{||(x_i-x_j)||}{\sigma^2}) \ \  \sigma &gt;0$</li><li>Sigmoid kernel:$k(x_i,x_j)&#x3D;tanh(\beta x_i^T x_j + \theta)\ \  \beta &gt;0 \ \ \theta&lt;0 \ \ tanh$æ˜¯åŒæ›²æ­£åˆ‡å‡½æ•°</li></ul><h2 id="SMO-Sequential-Minimal-Optimization"><a href="#SMO-Sequential-Minimal-Optimization" class="headerlink" title="SMO: Sequential Minimal Optimization"></a>SMO: Sequential Minimal Optimization</h2><p>è¿™æ˜¯ä¸€ç§SVMå­¦ä¹ çš„å¿«é€Ÿç®—æ³•ï¼Œå…¶ç‰¹ç‚¹æ˜¯ä¸æ–­åœ°å°†åŸäºŒæ¬¡è§„åˆ’é—®é¢˜åˆ†è§£æˆåªæœ‰ä¸¤ä¸ªå˜é‡çš„äºŒæ¬¡è§„åˆ’å­é—®é¢˜ã€‚å¹¶å¯¹å­é—®é¢˜è¿›è¡Œè§£ææ±‚è§£ï¼Œç›´åˆ°æ‰€æœ‰çš„å˜é‡éƒ½èƒ½æ»¡è¶³KKTæ¡ä»¶ä¸ºæ­¢ã€‚</p><p>åŸºæœ¬æ€è·¯ï¼š</p><ol><li><p>é€‰å–ä¸€å¯¹éœ€è¦æ›´æ–°çš„å˜é‡$\alpha_i$å’Œ$\alpha_j$</p></li><li><p>å›ºå®š$\alpha_i$å’Œ$\alpha_j$ä»¥å¤–çš„å‚æ•°ï¼Œæ±‚è§£å¯¹å¶é—®é¢˜æ›´æ–°$\alpha_i$å’Œ$\alpha_j$</p></li></ol><p>   ä»…è€ƒè™‘$\alpha_i$å’Œ$\alpha_j$æ—¶ï¼Œå¯¹å¶é—®é¢˜çš„çº¦æŸä¸ºï¼š<br>   $$<br>   \alpha_iy_i+\alpha_jy_j&#x3D;-\sum_{k\neq i,j}\alpha_ky_k,\alpha_i \geq0,\alpha_j\geq 0<br>   $$</p><p>SMOç®—æ³•è¦è§£å†³å¦‚ä¸‹å‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜çš„å¯¹å¶é—®é¢˜ï¼š<br>$$<br>\min_{\alpha} \quad \frac{1}{2}\sum^N_{i&#x3D;1}\sum^N_{j&#x3D;1}\alpha_i\alpha_jy_iy_jK(x_i,x_j)-\sum^N_{i&#x3D;1}\alpha_i \<br>s.t. \sum^N_{i&#x3D;1}\alpha_iy_i&#x3D;0 \quad 0\leq a_i \leq C, \ i&#x3D;1,2,\cdots,N<br>$$<br>åˆ™ä¸å¤±ä¸€èˆ¬æ€§ï¼Œå‡è®¾é€‰å–çš„ä¸¤ä¸ªå˜é‡$\alpha_1,\alpha_2$,å…¶ä»–å˜é‡$\alpha_i(i&#x3D;3,4,\cdots,\N)$æ˜¯å›ºå®šçš„ã€‚äºæ˜¯SMOçš„æœ€ä¼˜åŒ–é—®é¢˜çš„å­é—®é¢˜å¯ä»¥å†™æˆï¼š<br>$$<br>\min_{\alpha_1,\alpha_2} \quad W(\alpha_1,\alpha_2)&#x3D;\frac{1}{2}K_{11}\alpha_1^2+\frac{1}{2}K_{22}\alpha_2^2+y_1y_2K_{12}\alpha_1\alpha_2-\(\alpha_1+\alpha_2)+y_1\alpha_1\sum^N_{i&#x3D;3}y_i\alpha_iK_{i1}+y_2\alpha_2\sum^N_{i&#x3D;3}y_i\alpha_iK_{i2}\<br>s.t. \quad \alpha_1y_1+\alpha_2y_2&#x3D;-\sum^N_{i&#x3D;3}y_i\alpha_{i}&#x3D;\varsigma \quad 0\leq \alpha_i \leq C,  i&#x3D;1,2<br>$$<br>å¯¹äºè¯¥é—®é¢˜çš„<strong>å˜é‡é€‰å–æ–¹æ³•</strong>ï¼š</p><p>ç¬¬ä¸€ä¸ªå˜é‡é€‰å–ï¼šå¤–å±‚å¾ªç¯ã€‚å¤–å±‚å¾ªç¯åœ¨è®­ç»ƒæ ·æœ¬ä¸­é€‰å–è¿åKKTæ¡ä»¶æœ€ä¸¥é‡çš„æ ·æœ¬ç‚¹ï¼Œå¹¶å°†å…¶å¯¹åº”çš„å˜é‡ä½œä¸ºç¬¬ä¸€ä¸ªå˜é‡ã€‚</p><p>ç¬¬äºŒä¸ªå˜é‡é€‰å–ï¼šå†…å±‚å¾ªç¯ã€‚å‡è®¾åœ¨å¤–å±‚å¾ªç¯ä¸­å·²ç»æ‰¾åˆ°ç¬¬ä¸€ä¸ªå˜é‡$\alpha_1$,ç°åœ¨éœ€è¦åœ¨å†…å±‚å¾ªç¯ä¸­æ‰¾åˆ°ç¬¬äºŒä¸ªå˜é‡$\alpha_2$ã€‚ç¬¬äºŒä¸ªå˜é‡é€‰æ‹©çš„æ ‡å‡†æ˜¯å¸Œæœ›èƒ½ä½¿$\alpha_2$æœ‰è¶³å¤Ÿå¤§çš„å˜åŒ–ã€‚</p><p>åˆ™å¯¹äºè¯¥é—®é¢˜çš„<strong>æ±‚è§£æ–¹æ³•</strong>ï¼š<br>$$<br>g(x)&#x3D;\sum^N_{i&#x3D;1}\alpha_iy_iK(x_i,x)+b\<br>E_i&#x3D;g(x_i)-y_i&#x3D;(\sum^N_{i&#x3D;1}\alpha_iy_iK(x_i,x)+b)-y_i \quad i&#x3D;1,2<br>$$</p><ul><li>$E_i$ä¸ºå‡½æ•°$g(x)$å¯¹è¾“å…¥$x_i$çš„é¢„æµ‹å€¼ä¸çœŸå®è¾“å‡º$y_i$ä¹‹å·®ã€‚</li></ul><p>è®°$\alpha_2$çš„æœ€ä¼˜è§£$\alpha_2^{new,nuc}$ï¼Œåˆ™æœ€ä¼˜åŒ–é—®é¢˜æ²¿ç€çº¦æŸæ–¹å‘æœªç»å‰ªè¾‘æ—¶çš„è§£æ˜¯<br>$$<br>\alpha_2^{new,nuc} &#x3D; \alpha_2^{old}+\frac{y_2(E_1-E_2)}{\eta}\<br>\eta&#x3D;K_{11}+K_{22}-2K_{12}&#x3D;||\phi(x_1)-\phi(x_2)||^2<br>$$</p><ul><li>$\phiï¼ˆxï¼‰$æ˜¯è¾“å…¥ç©ºé—´åˆ°ç‰¹å¾ç©ºæ ¼çš„æ˜ å°„ã€‚</li></ul><p>ç»è¿‡å‰ªè¾‘å$\alpha_2$çš„è§£æ˜¯<br>$$<br>\alpha_2^{new} &#x3D; \begin{cases} H,&amp;\alpha_2^{new,nuc} &gt;H \<br>    \alpha_2^{new,nuc}, &amp;L \leq \alpha_2^{new,nuc}\leq H \<br>    L,&amp;\alpha_2^{new,nuc}&lt;L<br> \end{cases}<br>$$</p><p>ç”±$\alpha_2^{new}$æ±‚å¾—$\alpha_1^{new}$æ˜¯<br>$$<br>\alpha_1^{new}&#x3D;a_1^{old}+y_1y_2(\alpha_2^{old}-\alpha_2^{new})<br>$$</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a><strong>å°ç»“</strong></h2><p>åˆ†ç±»é—®é¢˜åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½ä¾èµ– SVMï¼Œå¯¹äºä¸¥æ ¼å¯åˆ†çš„æ•°æ®é›†ï¼ŒHard-margin SVM é€‰å®šä¸€ä¸ªè¶…å¹³é¢ï¼Œä¿è¯æ‰€æœ‰æ•°æ®åˆ°è¿™ä¸ªè¶…å¹³é¢çš„è·ç¦»æœ€å¤§ï¼Œå¯¹è¿™ä¸ªå¹³é¢æ–½åŠ çº¦æŸï¼Œå›ºå®š $y_i(w^Tx_i+b)&#x3D;1$ï¼Œå¾—åˆ°äº†ä¸€ä¸ªå‡¸ä¼˜åŒ–é—®é¢˜å¹¶ä¸”æ‰€æœ‰çš„çº¦æŸæ¡ä»¶éƒ½æ˜¯ä»¿å°„å‡½æ•°ï¼Œäºæ˜¯æ»¡è¶³ Slater æ¡ä»¶ï¼Œå°†è¿™ä¸ªé—®é¢˜å˜æ¢æˆä¸ºå¯¹å¶çš„é—®é¢˜ï¼Œå¯ä»¥å¾—åˆ°ç­‰ä»·çš„è§£ï¼Œå¹¶æ±‚å‡ºçº¦æŸå‚æ•°ï¼š<br>$$<br>\max_{\lambda}-\frac{1}{2}\sum\limits_{i&#x3D;1}^N\sum\limits_{j&#x3D;1}^N\lambda_i\lambda_jy_iy_jx_i^Tx_j+\sum\limits_{i&#x3D;1}^N\lambda_i,\ s.t.\ \lambda_i\ge0<br>$$<br>å¯¹éœ€è¦çš„è¶…å¹³é¢å‚æ•°çš„æ±‚è§£é‡‡ç”¨å¼ºå¯¹å¶é—®é¢˜çš„ KKT æ¡ä»¶è¿›è¡Œã€‚<br>$$<br>\begin{align}<br>&amp;\frac{\partial L}{\partial w}&#x3D;0,\frac{\partial L}{\partial b}&#x3D;0<br>\&amp;\lambda_k(1-y_k(w^Tx_k+b))&#x3D;0(slackness\ complementary)\<br>&amp;\lambda_i\ge0\<br>&amp;1-y_i(w^Tx_i+b)\le0<br>\end{align}<br>$$<br>è§£å°±æ˜¯ï¼š<br>$$<br>\hat{w}&#x3D;\sum\limits_{i&#x3D;1}^N\lambda_iy_ix_i\<br>\hat{b}&#x3D;y_k-w^Tx_k&#x3D;y_k-\sum\limits_{i&#x3D;1}^N\lambda_iy_ix_i^Tx_k,\ \exist k,1-y_k(w^Tx_k+b)&#x3D;0<br>$$<br>å½“å…è®¸ä¸€ç‚¹é”™è¯¯çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨ Hard-margin SVM ä¸­åŠ å…¥é”™è¯¯é¡¹ã€‚ç”¨ Hinge Function è¡¨ç¤ºé”™è¯¯é¡¹çš„å¤§å°ï¼Œå¾—åˆ°ï¼š<br>$$<br>\mathop{argmin}<em>{w,b}\frac{1}{2}w^Tw+C\sum\limits</em>{i&#x3D;1}^N\xi_i\ s.t.\ y_i(w^Tx_i+b)\ge1-\xi_i,\xi_i\ge0,i&#x3D;1,2,\cdots,N<br>$$<br>å¯¹äºå®Œå…¨ä¸å¯åˆ†çš„é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨ç‰¹å¾è½¬æ¢çš„æ–¹å¼ï¼Œåœ¨ SVM ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥æ­£å®šæ ¸å‡½æ•°æ¥ç›´æ¥å¯¹å†…ç§¯è¿›è¡Œå˜æ¢ï¼Œåªè¦è¿™ä¸ªå˜æ¢æ»¡è¶³å¯¹ç§°æ€§å’Œæ­£å®šæ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨åšæ ¸å‡½æ•°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æœºå™¨å­¦ä¹ å¼•å…¥</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/Preface/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/Preface/</url>
    
    <content type="html"><![CDATA[<h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a><strong>Preface</strong></h1><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a><strong>å®šä¹‰</strong></h2><p>Machine learning is a filed that bridge compation and statistics with ties to information ,signal process,algorithm control theroy and optimization theory.</p><p>Machine Learning &#x3D; Matrix + Optimization + Algorithm + Statistics</p><p>Tom Mitchellæå‡ºäº†ä¸€ä¸ªæ›´å½¢å¼åŒ–çš„å®šä¹‰ï¼šå‡è®¾ç”¨Pæ¥è¯„ä¼°è®¡ç®—æœºç¨‹åºåœ¨æŸä»»åŠ¡ç±»Tä¸Šçš„æ€§èƒ½ï¼Œè‹¥ä¸€ä¸ªç¨‹åºé€šè¿‡ç»éªŒEåœ¨Tä¸­ä»»åŠ¡ä¸Šå¾—åˆ°äº†æå‡ï¼Œåˆ™æˆ‘ä»¬å°±è¯´å…³äºTå’ŒPï¼Œç¨‹åºå¯¹Eâ€œå­¦ä¹ â€äº†ã€‚</p><table><thead><tr><th>å‘å±•</th><th></th><th></th></tr></thead><tbody><tr><td>1950s-1970s  é€»è¾‘æ¨ç†æ—¶æœŸ</td><td></td><td></td></tr><tr><td>1970s-1990s  ä¸“å®¶ç³»ç»Ÿæ—¶æœŸ</td><td></td><td></td></tr><tr><td>1990s-è‡³ä»Š     æœºå™¨å­¦ä¹ æ—¶æœŸ</td><td></td><td></td></tr></tbody></table><h2 id="åŸºæœ¬åˆ†ç±»ï¼š"><a href="#åŸºæœ¬åˆ†ç±»ï¼š" class="headerlink" title="åŸºæœ¬åˆ†ç±»ï¼š"></a>åŸºæœ¬åˆ†ç±»ï¼š</h2><ul><li>ç›‘ç£å­¦ä¹  supervised learningï¼šæœ‰æ ‡è®°ã€æœ‰åé¦ˆã€é¢„æµ‹ç»“æœ</li><li>æ— ç›‘ç£å­¦ä¹  Unsupervised learning : æ— æ ‡è®°ã€æ— åé¦ˆã€å†…åœ¨ç»“æ„</li><li>å¼ºåŒ–å­¦ä¹  Reinforcement learningï¼š å†³ç­–è¿‡ç¨‹ã€å¥–åŠ±æœºåˆ¶ã€å­¦ä¹ ä¸€ç³»åˆ—åŠ¨ä½œ</li><li>åŠç›‘ç£å­¦ä¹  Self-supervised learningï¼š åˆ©ç”¨æœªæ ‡æ³¨çš„æ•°æ®ä¸­ä¿¡æ¯ï¼Œè¾…åŠ©æ ‡è®°æ•°æ®ï¼Œè¿›è¡Œç›‘ç£å­¦ä¹ ï¼Œä»¥è¾ƒä½æˆæœ¬è¾¾åˆ°è¾ƒå¥½çš„å­¦ä¹ æ•ˆæœ</li><li>ä¸»åŠ¨å­¦ä¹  Active learningï¼šæœºå™¨ä¸æ–­ä¸»å…¬ç»™å‡ºå®ä¾‹è®©äººæ ‡æ³¨ï¼Œç„¶ååˆ©ç”¨æ ‡æ³¨æ•°æ®å­¦ä¹ é¢„æµ‹æ¨¡å‹çš„æœºå™¨å­¦ä¹ é—®é¢˜ã€‚</li></ul><h2 id="ä»»åŠ¡ï¼š"><a href="#ä»»åŠ¡ï¼š" class="headerlink" title="ä»»åŠ¡ï¼š"></a>ä»»åŠ¡ï¼š</h2><p><strong>Regressionã€Classificationã€Clustering</strong></p><h2 id="æ¨¡å‹åå¥½ï¼š"><a href="#æ¨¡å‹åå¥½ï¼š" class="headerlink" title="æ¨¡å‹åå¥½ï¼š"></a>æ¨¡å‹åå¥½ï¼š</h2><p>Occamâ€˜s Razorï¼šè‹¥å¤šä¸ªå‡è®¾ä¸è§‚å¯Ÿä¸€è‡´ï¼Œåˆ™é€‰æ‹©æœ€ç®€å•çš„é‚£ä¸ª</p><p>No Free Lunch Theoremï¼šä¸¤ä¸ªç®—æ³•$\xi_a,\xi_b$æ²¡æœ‰ç»å¯¹çš„å¥½å</p><h2 id="ç»Ÿè®¡å­¦ä¹ ä¸‰è¦ç´ ï¼šæ¨¡å‹-ç­–ç•¥-ç®—æ³•"><a href="#ç»Ÿè®¡å­¦ä¹ ä¸‰è¦ç´ ï¼šæ¨¡å‹-ç­–ç•¥-ç®—æ³•" class="headerlink" title="ç»Ÿè®¡å­¦ä¹ ä¸‰è¦ç´ ï¼šæ¨¡å‹+ç­–ç•¥+ç®—æ³•"></a>ç»Ÿè®¡å­¦ä¹ ä¸‰è¦ç´ ï¼šæ¨¡å‹+ç­–ç•¥+ç®—æ³•</h2><p><strong>æ¨¡å‹</strong>ï¼šæ¨¡å‹çš„å‡è®¾ç©ºé—´ï¼ˆhypothesis spaceï¼‰åŒ…å«æ‰€æœ‰å¯èƒ½çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒæˆ–å†³ç­–å‡½æ•°)ã€‚</p><p>å‡è®¾ç©ºé—´ç”¨$\mathcal{F}$è¡¨ç¤ºã€‚å‡è®¾ç©ºé—´å¯ä»¥å®šä¹‰ä¸ºå†³ç­–å‡½æ•°çš„é›†åˆï¼š$\mathcal{F} &#x3D; { f\   | Y&#x3D;f,(X)}$</p><p>å…¶ä¸­ï¼Œ$\mathit{X}ï¼Œ\mathit{Y}$å‡æ˜¯å®šä¹‰åœ¨è¾“å…¥ç©ºé—´$\mathcal{X}$å’Œè¾“å‡ºç©ºé—´$\mathcal{Y}$ä¸Šçš„å˜é‡ã€‚è¿™æ—¶$\mathcal{F}$é€šå¸¸ç”±ä¸€ä¸ªå‚æ•°å‘é‡å†³å®šçš„å‡½æ•°æ—ï¼š$\mathcal{F}&#x3D;{\mathit{f}|\mathit{Y}&#x3D;\mathit{f_\theta(\mathit{X}),\theta\in\mathbb{R^n}}}$</p><p><strong>ç­–ç•¥</strong>: æŸå¤±å‡½æ•°å’Œé£é™©å‡½æ•°</p><p>ç»éªŒé£é™©æœ€å°åŒ–ï¼šempirical risk minimizationï¼ŒERM:<br>$$<br>\min_{f \in \mathcal{F}} \frac{1}{N},\sum_{i&#x3D;1}^{N}L(y_i,f(x_i))<br>$$<br>ç»“æ„é£é™©æœ€å°åŒ–ï¼šstructural risk minimizationï¼ŒSRMï¼š<br>$$<br>\min_{f \in \mathcal{F}} \frac{1}{N},\sum_{i&#x3D;1}^{N}L(y_i,f(x_i))+\lambda\mathit{J}(f)<br>$$<br><strong>ç®—æ³•ï¼š</strong>å…¶å®å°±æ˜¯æŒ‡å­¦ä¹ æ¨¡å‹çš„å…·ä½“ç®—æ³•ã€‚</p><ul><li>æ³›åŒ–è¯¯å·®ï¼šæœºå™¨å­¦ä¹ æ¨¡å‹åœ¨æ ·æœ¬é›†åˆ$\mathit{D}\ $ä¸Šçš„æ•´ä½“è¯¯å·®ã€‚ï¼ˆä¹Ÿç§°ä¸ºæœŸæœ›é£é™©ï¼‰</li></ul><p>$$<br>\mathit{R}<em>{exp}(f)&#x3D; \mathit{E}</em>{p(\mathit{D})}[\boldsymbol{L}(y,f(x))]<br>$$</p><ul><li>ç»éªŒè¯¯å·®ï¼šæœºå™¨å­¦ä¹ æ¨¡å‹åœ¨è®­ç»ƒæ ·æœ¬$\mathit{G},$ä¸Šçš„æ•´ä½“è¯¯å·®ã€‚ï¼ˆä¹Ÿç§°ä¸ºç»éªŒé£é™©ï¼‰</li></ul><p>$$<br>\mathit{R}<em>{emp}(f)&#x3D; \frac{1}{N}\sum^n</em>{k&#x3D;1}[\boldsymbol{L}(y_k,f(x_k))]&#x3D;\frac{1}{n}\sum^n_{i&#x3D;1}\boldsymbol{L}(y_i,\hat{y_i})<br>$$</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æ„ŸçŸ¥æœº</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/Perceptron/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/Perceptron/</url>
    
    <content type="html"><![CDATA[<h1 id="Perceptron-Linear-Algorithm-æ„ŸçŸ¥æœº"><a href="#Perceptron-Linear-Algorithm-æ„ŸçŸ¥æœº" class="headerlink" title="Perceptron Linear Algorithm æ„ŸçŸ¥æœº"></a>Perceptron Linear Algorithm æ„ŸçŸ¥æœº</h1><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>å‡è®¾è¾“å…¥ç©ºé—´ï¼ˆç‰¹å¾ç©ºé—´ï¼‰æ˜¯$\mathcal{X} \subset \mathbb{R}^n$ï¼Œè¾“å‡ºç©ºé—´æ˜¯$\mathcal{Y}&#x3D;{-1,+1}$ã€‚è¾“å…¥$x\in \mathcal{X}$è¡¨ç¤ºå®ä¾‹çš„ç‰¹å¾å‘é‡ï¼Œå¯¹åº”äºè¾“å…¥ç©ºé—´ï¼ˆç‰¹å¾ç©ºé—´ï¼‰çš„ç‚¹ï¼›è¾“å‡º$y\in \mathcal{Y}$è¡¨ç¤ºç±»åˆ«ã€‚ç”±è¾“å…¥ç©ºé—´åˆ°è¾“å‡ºç©ºé—´çš„å¦‚ä¸‹å‡½æ•°ï¼š<br>$$<br>f(x)&#x3D;sign(w \cdot x+b)<br>$$<br>æˆä¸ºæ„ŸçŸ¥æœºã€‚å…¶ä¸­ï¼Œ$w,b$æˆä¸ºæ„ŸçŸ¥æœºæ¨¡å‹çš„å‚æ•°,$w \in \mathbb{R}^n$å«åšæƒå€¼ï¼ˆweightï¼‰æˆ–æƒå€¼å‘é‡ï¼ˆweight vectorï¼‰ï¼Œ$b \in \mathbb{R}$å«åšåç½®ï¼ˆbiasï¼‰ï¼Œ$w \cdot x$è¡¨ç¤ºä¸¤è€…çš„å†…ç§¯ã€‚$sign$æ˜¯ç¬¦å·å‡½æ•°ï¼Œå³<br>$$<br>sign(a)&#x3D;\left {\begin{matrix}+1,a\ge0\-1,a\lt0\end{matrix} \right.<br>$$</p><p>æ„ŸçŸ¥æœºæ˜¯ä¸€ç§çº¿æ€§åˆ†ç±»å™¨ï¼Œå±äºåˆ¤åˆ«æ¨¡å‹ã€‚æ„ŸçŸ¥æœºæ¨¡å‹çš„å‡è®¾ç©ºé—´æ˜¯å®šä¹‰åœ¨ç‰¹å¾ç©ºé—´ä¸­çš„æ‰€æœ‰çº¿æ€§åˆ†ç±»æ¨¡å‹ï¼ˆlinear classification modelï¼‰æˆ–çº¿æ€§åˆ†ç±»å™¨ï¼ˆlinear classifierï¼‰ï¼Œå³å‡½æ•°æ¨¡å‹ ${f,|,f(x)&#x3D;w \cdot x +b }$</p><h2 id="Loss-Function"><a href="#Loss-Function" class="headerlink" title="Loss Function"></a>Loss Function</h2><ol><li><p>ç»Ÿè®¡è¯¯åˆ†ç±»ç‚¹ï¼š<br>$$<br>l(w)&#x3D;\sum_{i&#x3D;1}^N \ \mathbb{I}(y_i \cdot (w^Tx +b ) &lt; 0)<br>$$<br>ä½†æ˜¯æŒ‡ç¤ºå‡½æ•°ä¸è¿ç»­ï¼Œåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ä¸å¤ªå‹å¥½</p></li><li><p>ç»Ÿè®¡è¯¯åˆ†ç±»ç‚¹åˆ°åˆ†æ¥è¶…å¹³é¢çš„è·ç¦»ï¼š<br>$$<br>\begin{align}l(w) &amp;&#x3D;|w^Tx +b |\ &amp;&#x3D;\sum_{i&#x3D;1}^N - ,y_i \cdot (w^Tx +b )\end{align}<br>$$</p></li></ol><h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>ä¸ºäº†æ‰¾åˆ°æ›´å¥½çš„$w,b$ã€‚ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™SGD, ä½†æ˜¯å®¹æ˜“å—ç‰¹å¾ç¼©æ”¾ã€å­¦ä¹ ç‡å› ç´ å½±å“é™·å…¥å±€éƒ¨æœ€å°å€¼ã€‚<br>$$<br>w_{n+1} \leftarrow w_n +\eta \frac{\partial l}{\partial w}\<br>b_{n+1} \leftarrow b_n +\eta \frac{\partial l}{\partial b}<br>$$<br>å¯¹è¯¥ç®—æ³•çš„è¶…å‚æ•°ï¼šå­¦ä¹ ç‡$\eta$ï¼Œè¯¯å·®ä¸Šé™$\varepsilon$ï¼Œå­¦ä¹ æ¬¡æ•°$epoch$</p><h2 id="æ”¶æ•›æ€§ï¼š"><a href="#æ”¶æ•›æ€§ï¼š" class="headerlink" title="æ”¶æ•›æ€§ï¼š"></a>æ”¶æ•›æ€§ï¼š</h2><p>è®¾è®­ç»ƒæ•°æ®é›†$T&#x3D;{(x_1,y_1),(x_2,y_2),\cdots,(x_N,y_N)}$æ˜¯çº¿æ€§å¯åˆ†çš„ï¼Œå…¶ä¸­$x_i\in \mathcal{X}&#x3D;\mathbb{R}^n,\ y_i\in\mathcal{Y}&#x3D;{+1,-1},\ i&#x3D;1,2,\cdots,N$åˆ™:</p><ul><li><p>å­˜åœ¨æ»¡è¶³æ¡ä»¶ $||\hat{w}<em>{opt}||&#x3D;1$ çš„è¶…å¹³é¢ $\hat{w}</em>{opt} \cdot \hat{x}&#x3D;w_{opt}\cdot x +b_{opt}&#x3D;0$ å°†è®­ç»ƒæ•°æ®é›†å®Œå…¨æ­£ç¡®åˆ†å¼€ï¼›ä¸”å­˜åœ¨ $\gamma&gt;0$ ,å¯¹æ‰€æœ‰ $i&#x3D;1,2,\cdots,N$ :</p><p>  $$<br>  y_i (\hat{w}<em>{opt} \cdot \hat{x})&#x3D;y_i(w</em>{opt}\cdot x +b_{opt})\geq \gamma<br>  $$</p></li><li><p>ä»¤$R&#x3D;max_{i \leq i \leq N} ||\hat{x}_i||$,åˆ™æ„ŸçŸ¥æœºç®—æ³•åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šçš„è¯¯åˆ†ç±»æ¬¡æ•°$k$æ»¡è¶³ä¸ç­‰å¼:</p></li></ul><p>$$<br>k \leq (\frac{R}{\gamma})^2<br>$$</p><h2 id="Disadvantage"><a href="#Disadvantage" class="headerlink" title="Disadvantage"></a><strong>Disadvantage</strong></h2><ol><li>å­˜åœ¨å¤šè§£</li><li>ä¾èµ–åˆå€¼ï¼Œä¹Ÿä¾èµ–é€‰æ‹©é¡ºåº</li><li>å½“æ•°æ®é›†çº¿æ€§ä¸å¯åˆ†å°±ä¼šäº§ç”Ÿè¿­ä»£éœ‡è¡ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”çº¿æ€§å›å½’</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/LinearRegression/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/LinearRegression/</url>
    
    <content type="html"><![CDATA[<h1 id="Linear-Regression"><a href="#Linear-Regression" class="headerlink" title="Linear Regression"></a>Linear Regression</h1><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><ul><li><p>å›å½’å®šä¹‰ï¼š é€šè¿‡å¸¦æ ‡ç­¾æ ·æœ¬è®­ç»ƒæ„é€ é€‚å½“æ¨¡å‹å¹¶é€šè¿‡è¯¥æ¨¡å‹ç®—å‡ºæ–°æ ·æœ¬çš„é¢„æµ‹å€¼</p></li><li><p>çº¿æ€§å›å½’ï¼š åŸºäºçº¿æ€§æ¨¡å‹çš„å›å½’å­¦ä¹ ä»»åŠ¡é€šå¸¸ç§°ä¹‹ä¸ºçº¿æ€§å›å½’ï¼Œç›¸åº”çš„çº¿æ€§æ¨¡å‹ç§°ä¸ºçº¿æ€§å›å½’æ¨¡å‹</p></li><li><p>å¯¹äºä»»æ„ç»™å®šçš„æ ·æœ¬$X&#x3D; (x_1, x_2, â€¦ , x_ğ‘š)^ğ‘‡,Y&#x3D; (y_1, y_2, â€¦ , y_ğ‘š)^ğ‘‡$ï¼Œ çº¿æ€§å›å½’çš„åˆå§‹æ¨¡å‹è¡¨ç¤ºä¸ºï¼š<br>$$<br>ğ‘“(X) &#x3D; ğ‘¤_1ğ‘¥_1 + ğ‘¤_2ğ‘¥_2 + Â·Â·Â· +ğ‘¤_ğ‘šğ‘¥_ğ‘š<br>$$<br>å…¶ä¸­$W &#x3D; (ğ‘¤_1, ğ‘¤_2, â€¦ , ğ‘¤_ğ‘š)^ğ‘‡$ä¸ºå‚æ•°å‘é‡</p></li></ul><h2 id="æ¨¡å‹æ±‚è§£"><a href="#æ¨¡å‹æ±‚è§£" class="headerlink" title="æ¨¡å‹æ±‚è§£"></a>æ¨¡å‹æ±‚è§£</h2><p>ç»™å®šè®­ç»ƒæ ·æœ¬$x_1, x_2, â€¦ , x_ğ‘š$ï¼Œä½¿ç”¨æœ€å°äºŒä¹˜æ³•ï¼Œå³åŸºäºå‡æ–¹è¯¯å·®æœ€å°åŒ–è¿›è¡Œæ¨¡å‹æ±‚è§£ï¼š<br>$$<br>ğ’˜^âˆ—&#x3D; \arg min_{w} \sum^n_{i&#x3D;1}(ğ‘“(ğ’™<em>ğ‘–) - ğ‘¦_ğ‘–)^2 &#x3D; \arg min</em>{w}  \sum^n_{i&#x3D;1}(ğ’˜^ğ‘‡ğ’™<em>ğ‘– - ğ‘¦_ğ‘–)^2<br>$$<br>åˆ™ï¼š<br>$$<br>ğ½(ğ’˜) &#x3D; \sum^n</em>{i&#x3D;1}(ğ’˜^ğ‘‡ğ’™_ğ‘– - ğ‘¦_ğ‘–)^2 &#x3D; \vert \vert Xğ’˜ - ğ’š \vert \vert ^2<br>$$<br>ä»¤$ğ½(ğ’˜)$å¯¹å‚æ•°å‘é‡$ğ’˜$å„åˆ†é‡çš„åå¯¼æ•°ä¸º0ï¼Œå³ï¼š<br>$$<br>\frac{\partial J}{\partial w}&#x3D; X^ğ‘‡(ğ² - Xğ’˜ )&#x3D; 0 \<br>\longrightarrow ğ’˜ &#x3D; (X^ğ‘‡X)^{-1}X^ğ‘‡ğ²&#x3D;X^+Y<br>$$<br>è¿™ä¸ªå¼å­ä¸­ $(X^TX)^{-1}X^T$ åˆè¢«ç§°ä¸ºä¼ªé€†ã€‚å¯¹äºè¡Œæ»¡ç§©æˆ–è€…åˆ—æ»¡ç§©çš„ $X$ï¼Œå¯ä»¥ç›´æ¥æ±‚è§£ï¼Œä½†æ˜¯å¯¹äºéæ»¡ç§©çš„æ ·æœ¬é›†åˆï¼Œéœ€è¦ä½¿ç”¨å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼‰çš„æ–¹æ³•ï¼Œå¯¹ $X$ æ±‚å¥‡å¼‚å€¼åˆ†è§£ï¼Œå¾—åˆ°<br>$$<br>X&#x3D;U\Sigma V^T \<br>X^+&#x3D;V\Sigma^{-1}U^T<br>$$<br>åœ¨å‡ ä½•ä¸Šçš„è§£é‡Šå¯ä»¥è¿™æ ·è¯´ï¼š</p><ul><li>æœ€å°äºŒä¹˜æ³•ç›¸å½“äºæ¨¡å‹ï¼ˆè¿™é‡Œå°±æ˜¯ç›´çº¿ï¼‰å’Œè¯•éªŒå€¼çš„è·ç¦»çš„å¹³æ–¹æ±‚å’Œã€‚<br><strong>åˆ†æ•£åˆ°æ¯ä¸ªæ ·æœ¬</strong></li><li>å‡è®¾æˆ‘ä»¬çš„è¯•éªŒæ ·æœ¬é‡æ„æˆä¸€ä¸ª $p$ ç»´ç©ºé—´ï¼ˆæ»¡ç§©çš„æƒ…å†µï¼‰ï¼š$X&#x3D;Span(x_1,\cdots,x_N)$ï¼Œè€Œæ¨¡å‹å¯ä»¥å†™æˆ $f(w)&#x3D;X \beta$ï¼Œä¹Ÿå°±æ˜¯ $x_1,\cdots,x_N$ çš„æŸç§ç»„åˆï¼Œè€Œæœ€å°äºŒä¹˜æ³•å°±æ˜¯è¯´å¸Œæœ› $Y$ å’Œè¿™ä¸ªæ¨¡å‹è·ç¦»è¶Šå°è¶Šå¥½ï¼Œäºæ˜¯å®ƒä»¬çš„å·®åº”è¯¥ä¸è¿™ä¸ªé‡æ„çš„ç©ºé—´å‚ç›´ï¼š</li></ul><p>$$<br>X^T\cdot(Y-X\beta)&#x3D;0\longrightarrow\beta&#x3D;(X^TX)^{-1}X^TY<br>$$</p><p>â€‹<strong>åˆ†æ•£åˆ°æ¯ä¸ªé‡æ„çš„ç»´åº¦</strong>ã€‚è¿™é‡Œçš„0å¹¶éæ˜¯å®æ•°ï¼Œè€Œæ˜¯0å‘é‡ã€‚</p><h2 id="å¤šé‡å…±çº¿ç°è±¡ä¸è¿‡æ‹Ÿåˆ"><a href="#å¤šé‡å…±çº¿ç°è±¡ä¸è¿‡æ‹Ÿåˆ" class="headerlink" title="å¤šé‡å…±çº¿ç°è±¡ä¸è¿‡æ‹Ÿåˆ"></a>å¤šé‡å…±çº¿ç°è±¡ä¸è¿‡æ‹Ÿåˆ</h2><ul><li><p>å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹ï¼š å…¶é‡è¦å‡å®šä¹‹ä¸€ä¸åŒæ ·æœ¬ä¹‹é—´çš„å±æ€§æ ‡è®°å€¼ä¹‹é—´ä¸å­˜åœ¨çº¿æ€§å…³ç³»ã€‚å³$ğ—^ğ‘‡ğ—$æ˜¯å¯é€†çŸ©é˜µ</p></li><li><p>å¤šé‡å…±çº¿ç°è±¡ï¼š å½“çŸ©é˜µ$ğ—$çš„è¡Œå‘é‡ä¹‹é—´å­˜åœ¨ä¸€å®šçš„çº¿æ€§ç›¸å…³æ€§æ—¶ï¼Œå°±ä¼šä½¿å¾—çŸ©é˜µ$ğ—^ğ‘‡ğ—$ä¸å¯é€†,æ­¤æ—¶å°±æ— æ³•è§£å‡ºwçš„è§£æè§£ã€‚</p></li><li><p>åœ¨å®é™…åº”ç”¨æ—¶ï¼Œå¦‚æœæ ·æœ¬å®¹é‡ä¸è¿œè¿œå¤§äºæ ·æœ¬çš„ç‰¹å¾ç»´åº¦($n&lt;&lt;d$)ï¼Œå¾ˆå¯èƒ½é€ æˆè¿‡æ‹Ÿåˆï¼Œå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æœ‰ä¸‹é¢ä¸‰ä¸ªè§£å†³æ–¹å¼ï¼š</p><ol><li>åŠ æ•°æ®</li><li>ç‰¹å¾é€‰æ‹©ï¼ˆé™ä½ç‰¹å¾ç»´åº¦ï¼‰å¦‚ PCA ç®—æ³•ã€‚</li><li>æ­£åˆ™åŒ–</li></ol></li></ul><h2 id="çº¿æ€§å›å½’çš„è´å¶æ–¯æ–¹æ³•è§£é‡Š"><a href="#çº¿æ€§å›å½’çš„è´å¶æ–¯æ–¹æ³•è§£é‡Š" class="headerlink" title="çº¿æ€§å›å½’çš„è´å¶æ–¯æ–¹æ³•è§£é‡Š"></a>çº¿æ€§å›å½’çš„è´å¶æ–¯æ–¹æ³•è§£é‡Š</h2><h3 id="å™ªå£°ä¸ºé«˜æ–¯åˆ†å¸ƒçš„-MLE"><a href="#å™ªå£°ä¸ºé«˜æ–¯åˆ†å¸ƒçš„-MLE" class="headerlink" title="å™ªå£°ä¸ºé«˜æ–¯åˆ†å¸ƒçš„ MLE"></a>å™ªå£°ä¸ºé«˜æ–¯åˆ†å¸ƒçš„ MLE</h3><p>å¯¹äºä¸€ç»´çš„æƒ…å†µï¼Œè®° $y&#x3D;w^Tx+\epsilon,\epsilon\sim\mathcal{N}(0,\sigma^2)$ï¼Œé‚£ä¹ˆ $y\sim\mathcal{N}(w^Tx,\sigma^2)$ã€‚ä»£å…¥æå¤§ä¼¼ç„¶ä¼°è®¡ä¸­ï¼š<br>$$<br>\begin{align}<br>L(w)&#x3D;\log p(Y|X,w)&amp;&#x3D;\log\prod\limits_{i&#x3D;1}^Np(y_i|x_i,w)\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^N\log(\frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{(y_i-w^Tx_i)^2}{2\sigma^2}})\<br>\mathop{argmax}\limits_wL(w)&amp;&#x3D;\mathop{argmin}\limits_w\sum\limits_{i&#x3D;1}^N(y_i-w^Tx_i)^2<br>\end{align}<br>$$<br>è¿™ä¸ªè¡¨è¾¾å¼å’Œæœ€å°äºŒä¹˜ä¼°è®¡å¾—åˆ°çš„ç»“æœä¸€æ ·ã€‚<br>$$<br>LSE  \iff  MLE \ (noise \ is \ Gaussian \ Distribution)<br>$$</p><h3 id="æƒé‡å…ˆéªŒä¹Ÿä¸ºé«˜æ–¯åˆ†å¸ƒçš„-MAP"><a href="#æƒé‡å…ˆéªŒä¹Ÿä¸ºé«˜æ–¯åˆ†å¸ƒçš„-MAP" class="headerlink" title="æƒé‡å…ˆéªŒä¹Ÿä¸ºé«˜æ–¯åˆ†å¸ƒçš„ MAP"></a>æƒé‡å…ˆéªŒä¹Ÿä¸ºé«˜æ–¯åˆ†å¸ƒçš„ MAP</h3><p>å–å…ˆéªŒåˆ†å¸ƒ $w\sim\mathcal{N}(0,\sigma_0^2)$ã€‚äºæ˜¯ï¼šÂ <br>$$<br>\begin{align}<br>\hat{w}&#x3D;\mathop{argmax}\limits_wp(w|Y)&amp;&#x3D;\mathop{argmax}\limits_wp(Y|w)p(w)\nonumber\<br>&amp;&#x3D;\mathop{argmax}\limits_w\log p(Y|w)p(w)\nonumber\<br>&amp;&#x3D;\mathop{argmax}\limits_w(\log p(Y|w)+\log p(w))\nonumber\<br>&amp;&#x3D;\mathop{argmin}\limits_w[(y-w^Tx)^2+\frac{\sigma^2}{\sigma_0^2}w^Tw]<br>\end{align}<br>$$<br>è¿™é‡Œçœç•¥äº† $X$ï¼Œ$p(Y)$å’Œ $w$ æ²¡æœ‰å…³ç³»ï¼ŒåŒæ—¶ä¹Ÿåˆ©ç”¨äº†ä¸Šé¢é«˜æ–¯åˆ†å¸ƒçš„ MLEçš„ç»“æœã€‚</p><p>æˆ‘ä»¬å°†ä¼šçœ‹åˆ°ï¼Œè¶…å‚æ•° $\sigma_0$çš„å­˜åœ¨å’Œä¸‹é¢ä¼šä»‹ç»çš„ Ridge æ­£åˆ™é¡¹å¯ä»¥å¯¹åº”ï¼ŒåŒæ ·çš„å¦‚æœå°†å…ˆéªŒåˆ†å¸ƒå–ä¸º Laplace åˆ†å¸ƒï¼Œé‚£ä¹ˆå°±ä¼šå¾—åˆ°å’Œ $L_1$æ­£åˆ™ç±»ä¼¼çš„ç»“æœã€‚</p><h2 id="æ­£åˆ™åŒ–"><a href="#æ­£åˆ™åŒ–" class="headerlink" title="æ­£åˆ™åŒ–"></a><a href="./Regularization.md">æ­£åˆ™åŒ–</a></h2><p>æ­£åˆ™åŒ–ä¸€èˆ¬æ˜¯åœ¨æŸå¤±å‡½æ•°ï¼ˆå¦‚ä¸Šé¢ä»‹ç»çš„æœ€å°äºŒä¹˜æŸå¤±ï¼‰ä¸ŠåŠ å…¥æ­£åˆ™åŒ–é¡¹ï¼ˆè¡¨ç¤ºæ¨¡å‹çš„å¤æ‚åº¦å¯¹æ¨¡å‹çš„æƒ©ç½šï¼‰ï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸€èˆ¬æƒ…å†µä¸‹çš„ä¸¤ç§æ­£åˆ™åŒ–æ¡†æ¶ã€‚<br>$$<br>\begin{align}<br>L_1&amp;:\mathop{argmin}\limits_wL(w)+\lambda||w||_1,\lambda\gt0\<br>L_2&amp;:\mathop{argmin}\limits_wL(w)+\lambda||w||^2_2,\lambda \gt 0<br>\end{align}<br>$$<br>ä¸‹é¢å¯¹æœ€å°äºŒä¹˜è¯¯å·®åˆ†åˆ«åˆ†æè¿™ä¸¤è€…çš„åŒºåˆ«ã€‚</p><h3 id="Lasso-L-1-èŒƒæ•°"><a href="#Lasso-L-1-èŒƒæ•°" class="headerlink" title="Lasso : $ L_1 $èŒƒæ•°"></a>Lasso : $ L_1 $èŒƒæ•°</h3><p> $L_1$æ­£åˆ™åŒ–å¯ä»¥å¼•èµ·ç¨€ç–è§£ã€‚<br>ä»æœ€å°åŒ–æŸå¤±çš„è§’åº¦çœ‹ï¼Œç”±äº  $L_1$é¡¹æ±‚å¯¼åœ¨0é™„è¿‘çš„å·¦å³å¯¼æ•°éƒ½ä¸æ˜¯0ï¼Œå› æ­¤æ›´å®¹æ˜“å–åˆ°0è§£ã€‚<br>ä»å¦ä¸€ä¸ªæ–¹é¢çœ‹ï¼Œ $L_1$æ­£åˆ™åŒ–ç›¸å½“äºï¼š<br>$$<br>\mathop{argmin}\limits_wL(w)\<br>s.t. ||w||_1\lt C<br>$$<br>æˆ‘ä»¬å·²ç»çœ‹åˆ°å¹³æ–¹è¯¯å·®æŸå¤±å‡½æ•°åœ¨ $w$ ç©ºé—´æ˜¯ä¸€ä¸ªæ¤­çƒï¼Œå› æ­¤ä¸Šå¼æ±‚è§£å°±æ˜¯æ¤­çƒå’Œ $||w||_1&#x3D;C$çš„åˆ‡ç‚¹ï¼Œå› æ­¤æ›´å®¹æ˜“ç›¸åˆ‡åœ¨åæ ‡è½´ä¸Šã€‚</p><h3 id="Ridge-L-2-èŒƒæ•°"><a href="#Ridge-L-2-èŒƒæ•°" class="headerlink" title="Ridge : $L_2$èŒƒæ•°"></a>Ridge : $L_2$èŒƒæ•°</h3><p>ä¹Ÿç§°å²­å›å½’ ä¸ºäº†è§£å†³å¤šé‡å…±çº¿ç°è±¡å¸¦æ¥çš„é—®é¢˜ï¼Œå¯¹çº¿æ€§å›å½’å‚æ•°çš„æ±‚è§£æ–¹æ³•è¿›è¡Œæ”¹è¿› ã€‚åŒæ—¶è¿™ç§æ–¹æ³•åˆç§°æƒå€¼è¡°å‡ã€‚</p><p><strong>åŸºæœ¬æ€æƒ³ï¼š</strong> åœ¨çº¿æ€§å›å½’æ¨¡å‹æŸå¤±å‡½æ•°ä¸Šå¢åŠ ä¸€ä¸ªé’ˆå¯¹$ğ’˜$çš„èŒƒæ•°æƒ©ç½šå‡½æ•°ï¼Œé€šè¿‡å¯¹ç›®æ ‡å‡½æ•°åšæ­£åˆ™åŒ–å¤„ç†ï¼Œå°†å‚æ•°å‘é‡ $ğ’˜ $ä¸­æ‰€æœ‰å‚æ•°çš„å–å€¼å‹ç¼©åˆ°ä¸€ä¸ªç›¸å¯¹è¾ƒå°çš„èŒƒå›´ï¼Œå³è¦æ±‚$ğ’˜$ä¸­æ‰€æœ‰å‚æ•°çš„å–å€¼ä¸èƒ½è¿‡å¤§</p><p>å²­å›å½’çš„<strong>æŸå¤±å‡½æ•°</strong>ï¼š<br>$$<br>ğ½(ğ’˜) &#x3D; \vert\vert Xğ’˜ - ğ’š\vert \vert ^2 + \lambda\vert \vert ğ’˜ \vert \vert ^2<br>$$<br>å…¶ä¸­ï¼Œ $\lambda \ge 0$ç§°ä¸ºæ­£åˆ™åŒ–å‚æ•°ã€‚å½“$\lambda $çš„å–å€¼è¾ƒå¤§æ—¶ï¼Œæƒ©ç½šé¡¹$\lambda ğ’˜^ğ‘‡ğ’˜$å°±ä¼šå¯¹æŸå¤±å‡½æ•°çš„æœ€å°åŒ–äº§ç”Ÿä¸€å®šçš„å¹²æ‰°ï¼Œä¼˜åŒ–ç®—æ³•å°±ä¼šå¯¹å›å½’æ¨¡å‹å‚æ•°$ğ’˜$èµ‹äºˆè¾ƒå°çš„å–å€¼ä»¥æ¶ˆé™¤è¿™ç§å¹²æ‰° ã€‚ä»¤$ğ½(ğ’˜)$å¯¹å‚æ•°$ğ’˜$çš„åå¯¼æ•°ä¸º0ï¼Œå¾—ï¼š<br>$$<br>ğ’˜ &#x3D; (ğ—^ğ‘‡ğ— + \lambda ğˆ)^{-1}ğ—^ğ‘‡ğ²<br>$$<br>å…¶ä¸­$ğˆ$ä¸ºğ‘šé˜¶å•ä½çŸ©é˜µã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ­£åˆ™åŒ–å‚æ•°å’Œå‰é¢çš„ MAP ç»“æœä¸è°‹è€Œåˆã€‚åˆ©ç”¨2èŒƒæ•°è¿›è¡Œæ­£åˆ™åŒ–ä¸ä»…å¯ä»¥æ˜¯æ¨¡å‹é€‰æ‹© $w$ è¾ƒå°çš„å‚æ•°ï¼ŒåŒæ—¶ä¹Ÿé¿å… $Â X^TX$ä¸å¯é€†çš„é—®é¢˜ã€‚å³ä½¿$ğ—^ğ‘‡ğ—$æœ¬èº«ä¸æ˜¯å¯é€†çŸ©é˜µï¼ŒåŠ ä¸Š$\lambda ğˆ$ä¹Ÿå¯ä½¿å¾—$ğ—^ğ‘‡ğ— + \lambdağˆ$ç»„æˆä¸ºå¯é€†çŸ©é˜µï¼Œè¿™ä¹Ÿè§£å†³äº†å¤šé‡å…±çº¿é—®é¢˜<br>$$<br>Regularized \ LSE  \iff  MAP \ (noise \ is \ Gaussian \ Distribution)<br>$$</p><p>æ­£åˆ™åŒ–å‚æ•°çš„å½±å“  </p><p><img src="/%5Csrc%5Cimage-20220114102556206.png" alt="image-20220114102556206"></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>çº¿æ€§å›å½’æ¨¡å‹æ˜¯æœ€ç®€å•çš„æ¨¡å‹ï¼Œä½†æ˜¯éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆ©ç”¨æœ€å°äºŒä¹˜è¯¯å·®å¾—åˆ°äº†é—­å¼è§£ã€‚åŒæ—¶ä¹Ÿå‘ç°ï¼Œåœ¨å™ªå£°ä¸ºé«˜æ–¯åˆ†å¸ƒçš„æ—¶å€™ï¼ŒMLE çš„è§£ç­‰ä»·äºæœ€å°äºŒä¹˜è¯¯å·®ï¼Œè€Œå¢åŠ äº†æ­£åˆ™é¡¹åï¼Œæœ€å°äºŒä¹˜è¯¯å·®åŠ ä¸Š L2 æ­£åˆ™é¡¹ç­‰ä»·äºé«˜æ–¯å™ªå£°å…ˆéªŒä¸‹çš„ MAPè§£ï¼ŒåŠ ä¸Š L1 æ­£åˆ™é¡¹åï¼Œç­‰ä»·äº Laplace å™ªå£°å…ˆéªŒã€‚</p><p>ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•æˆ–å¤šæˆ–å°‘éƒ½æœ‰çº¿æ€§å›å½’æ¨¡å‹çš„å½±å­ï¼š</p><ol><li>çº¿æ€§æ¨¡å‹å¾€å¾€ä¸èƒ½å¾ˆå¥½åœ°æ‹Ÿåˆæ•°æ®ï¼Œå› æ­¤æœ‰ä¸‰ç§æ–¹æ¡ˆå…‹æœè¿™ä¸€åŠ£åŠ¿ï¼š<ol><li>å¯¹ç‰¹å¾çš„ç»´æ•°è¿›è¡Œå˜æ¢ï¼Œä¾‹å¦‚å¤šé¡¹å¼å›å½’æ¨¡å‹å°±æ˜¯åœ¨çº¿æ€§ç‰¹å¾çš„åŸºç¡€ä¸ŠåŠ å…¥é«˜æ¬¡é¡¹ã€‚</li><li>åœ¨çº¿æ€§æ–¹ç¨‹åé¢åŠ å…¥ä¸€ä¸ªéçº¿æ€§å˜æ¢ï¼Œå³å¼•å…¥ä¸€ä¸ªéçº¿æ€§çš„æ¿€æ´»å‡½æ•°ï¼Œå…¸å‹çš„æœ‰çº¿æ€§åˆ†ç±»æ¨¡å‹å¦‚æ„ŸçŸ¥æœºã€‚</li><li>å¯¹äºä¸€è‡´çš„çº¿æ€§ç³»æ•°ï¼Œæˆ‘ä»¬è¿›è¡Œå¤šæ¬¡å˜æ¢ï¼Œè¿™æ ·åŒä¸€ä¸ªç‰¹å¾ä¸ä»…ä»…è¢«å•ä¸ªç³»æ•°å½±å“ï¼Œä¾‹å¦‚å¤šå±‚æ„ŸçŸ¥æœºï¼ˆæ·±åº¦å‰é¦ˆç½‘ç»œï¼‰ã€‚</li></ol></li><li>çº¿æ€§å›å½’åœ¨æ•´ä¸ªæ ·æœ¬ç©ºé—´éƒ½æ˜¯çº¿æ€§çš„ï¼Œæˆ‘ä»¬ä¿®æ”¹è¿™ä¸ªé™åˆ¶ï¼Œåœ¨ä¸åŒåŒºåŸŸå¼•å…¥ä¸åŒçš„çº¿æ€§æˆ–éçº¿æ€§ï¼Œä¾‹å¦‚çº¿æ€§æ ·æ¡å›å½’å’Œå†³ç­–æ ‘æ¨¡å‹ã€‚</li><li>çº¿æ€§å›å½’ä¸­ä½¿ç”¨äº†æ‰€æœ‰çš„æ ·æœ¬ï¼Œä½†æ˜¯å¯¹æ•°æ®é¢„å…ˆè¿›è¡ŒåŠ å·¥å­¦ä¹ çš„æ•ˆæœå¯èƒ½æ›´å¥½ï¼ˆæ‰€è°“çš„ç»´æ•°ç¾éš¾ï¼Œé«˜ç»´åº¦æ•°æ®æ›´éš¾å­¦ä¹ ï¼‰ï¼Œä¾‹å¦‚ PCA ç®—æ³•å’Œæµå½¢å­¦ä¹ ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”çº¿æ€§é«˜æ–¯æ¨¡å‹</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/LinearGaussianModel/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/LinearGaussianModel/</url>
    
    <content type="html"><![CDATA[<h1 id="LinearGaussianModel"><a href="#LinearGaussianModel" class="headerlink" title="LinearGaussianModel"></a>LinearGaussianModel</h1><p>é«˜æ–¯ä½œä¸ºæœºå™¨å­¦ä¹ ä¸­çš„å¸¸å®¢ä¹Ÿæ˜¯æ— æ³•é¿å…çš„,è€Œçº¿æ€§æ¨¡å‹ä½œä¸ºæ¯”è¾ƒç®€å•çš„æ¨¡å‹ï¼Œä¸¤è€…ç»“åˆå‡ºçš„çº¿æ€§é«˜æ–¯æ¨¡å‹ï¼Œåœ¨ä»Šåçš„æœºå™¨å­¦ä¹ ä¸­å¤§é‡æ¶‰åŠåˆ°è¿™æ–¹é¢çš„çŸ¥è¯†ã€‚ä¾‹å¦‚åœ¨å„ç§æ»¤æ³¢ä¸­,é«˜æ–¯æ»¤æ³¢ï¼Œå¡æ›¼æ»¤æ³¢ï¼Œç²’å­æ»¤æ³¢ã€‚</p><h3 id="ä¸€ç»´æƒ…å†µ-MLE-Maximum-Likelihood-Estimation"><a href="#ä¸€ç»´æƒ…å†µ-MLE-Maximum-Likelihood-Estimation" class="headerlink" title="ä¸€ç»´æƒ…å†µ MLE: Maximum Likelihood Estimation"></a>ä¸€ç»´æƒ…å†µ MLE: Maximum Likelihood Estimation</h3><p>é«˜æ–¯åˆ†å¸ƒåœ¨æœºå™¨å­¦ä¹ ä¸­å æœ‰ä¸¾è¶³è½»é‡çš„ä½œç”¨ã€‚åœ¨ MLE æ–¹æ³•ä¸­ï¼š</p><p>$$<br>\theta&#x3D;(\mu,\Sigma)&#x3D;(\mu,\sigma^{2}),x_i \stackrel{i.i.d}{\longrightarrow} p(x|\theta),\<br>\theta_{MLE}&#x3D;\mathop{argmax}\limits _{\theta}\log p(X|\theta)\mathop{&#x3D;}\limits _{i.i.d}\mathop{argmax}\limits _{\theta}\sum\limits <em>{i&#x3D;1}^{N}\log p(x</em>{i}|\theta)<br>$$<br>ä¸€èˆ¬åœ°ï¼Œé«˜æ–¯åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•° PDFï¼ˆProbability Density Functionï¼‰å†™ä¸ºï¼š</p><p>$$<br>p(x|\mu,\Sigma)&#x3D;\frac{1}{(2\pi)^{p&#x2F;2}|\Sigma|^{1&#x2F;2} }e^{-\frac{1}{2}(x-\mu)^{T}\Sigma^{-1}(x-\mu)}<br>$$<br>å¸¦å…¥ MLE ä¸­æˆ‘ä»¬è€ƒè™‘ä¸€ç»´çš„æƒ…å†µ</p><p>$$<br>\log p(X|\theta)&#x3D;\sum\limits <em>{i&#x3D;1}^{N}\log p(x</em>{i}|\theta)&#x3D;\sum\limits <em>{i&#x3D;1}^{N}\log\frac{1}{\sqrt{2\pi}\sigma}\exp(\frac{-(x</em>{i}-\mu)^{2} }{2\sigma^{2} })<br>$$<br>é¦–å…ˆå¯¹ $\mu$ çš„æå€¼å¯ä»¥å¾—åˆ° ï¼š<br>$$<br>\mu_{MLE}&#x3D;\mathop{argmax}\limits <em>{\mu}\log p(X|\theta)&#x3D;\mathop{argmax}\limits <em>{\mu}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu)^{2}<br>$$<br> äºæ˜¯ï¼š<br>$$<br>\frac{\partial}{\partial\mu}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu)^{2}&#x3D;0\longrightarrow\mu</em>{MLE}&#x3D;\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}<br>$$<br>å…¶æ¬¡å¯¹ $\theta$ ä¸­çš„å¦ä¸€ä¸ªå‚æ•° $\sigma$ ï¼Œæœ‰ï¼š<br>$$<br>\begin{align}<br>\sigma</em>{MLE}&#x3D;\mathop{argmax}\limits <em>{\sigma}\log p(X|\theta)&amp;&#x3D;\mathop{argmax}\limits <em>{\sigma}\sum\limits <em>{i&#x3D;1}^{N}[-\log\sigma-\frac{1}{2\sigma^{2} }(x</em>{i}-\mu)^{2}]\nonumber\<br>&amp;&#x3D;\mathop{argmin}\limits <em>{\sigma}\sum\limits <em>{i&#x3D;1}^{N}[\log\sigma+\frac{1}{2\sigma^{2} }(x</em>{i}-\mu)^{2}]<br>\end{align}<br>$$<br>äºæ˜¯ï¼š<br>$$<br>\frac{\partial}{\partial\sigma}\sum\limits <em>{i&#x3D;1}^{N}[\log\sigma+\frac{1}{2\sigma^{2} }(x</em>{i}-\mu)^{2}]&#x3D;0\longrightarrow\sigma</em>{MLE}^{2}&#x3D;\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu)^{2}<br>$$<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢çš„æ¨å¯¼ä¸­ï¼Œé¦–å…ˆå¯¹ $\mu$ æ±‚ MLEï¼Œ ç„¶ååˆ©ç”¨è¿™ä¸ªç»“æœæ±‚ $\sigma</em>{MLE}$ ï¼Œå› æ­¤å¯ä»¥é¢„æœŸçš„æ˜¯å¯¹æ•°æ®é›†$\mathcal{D}$æ±‚æœŸæœ›æ—¶ $\mathbb{E}</em>{\mathcal{D} }[\mu_{MLE}]$ æ˜¯<strong>æ— åå·®</strong>çš„ï¼š<br>$$<br>\mathbb{E}<em>{\mathcal{D} }[\mu</em>{MLE}]&#x3D;\mathbb{E}<em>{\mathcal{D} }[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}]&#x3D;\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}\mathbb{E}</em>{\mathcal{D} }[x</em>{i}]&#x3D;\mu<br>$$<br>ä½†æ˜¯å½“å¯¹ $\sigma_{MLE}$ æ±‚ æœŸæœ›çš„æ—¶å€™ç”±äºä½¿ç”¨äº†å•ä¸ªæ•°æ®é›†çš„ $\mu_{MLE}$ï¼Œå› æ­¤å¯¹æ‰€æœ‰æ•°æ®é›†æ±‚æœŸæœ›çš„æ—¶å€™æˆ‘ä»¬ä¼šå‘ç° $\sigma_{MLE}$ æ˜¯ <strong>æœ‰å</strong>çš„ï¼š</p><p>$$<br>\begin{align}<br>\mathbb{E}<em>{\mathcal{D} }[\sigma</em>{MLE}^{2}]&amp;&#x3D;\mathbb{E}<em>{\mathcal{D} }[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu</em>{MLE})^{2}]&#x3D;\mathbb{E}<em>{\mathcal{D} }[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}^{2}-2x</em>{i}\mu_{MLE}+\mu_{MLE}^{2})\nonumber<br>\&amp;&#x3D;\mathbb{E}<em>{\mathcal{D} }[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}^{2}-\mu</em>{MLE}^{2}]&#x3D;\mathbb{E}<em>{\mathcal{D} }[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}^{2}-\mu^{2}+\mu^{2}-\mu</em>{MLE}^{2}]\nonumber\<br>&amp;&#x3D; \mathbb{E}<em>{\mathcal{D} }[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}^{2}-\mu^{2}]-\mathbb{E}</em>{\mathcal{D} }[\mu_{MLE}^{2}-\mu^{2}]&#x3D;\sigma^{2}-(\mathbb{E}<em>{\mathcal{D} }[\mu</em>{MLE}^{2}]-\mu^{2})\nonumber\&amp;&#x3D;\sigma^{2}-(\mathbb{E}<em>{\mathcal{D} }[\mu</em>{MLE}^{2}]-\mathbb{E}<em>{\mathcal{D} }^{2}[\mu</em>{MLE}])&#x3D;\sigma^{2}-Var[\mu_{MLE}]\nonumber\&amp;&#x3D;\sigma^{2}-Var[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}]&#x3D;\sigma^{2}-\frac{1}{N^{2} }\sum\limits <em>{i&#x3D;1}^{N}Var[x</em>{i}]&#x3D;\frac{N-1}{N}\sigma^{2}<br>\end{align}<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\hat{\sigma}^{2}&#x3D;\frac{1}{N-1}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu)^{2}<br>$$</p><h3 id="å¤šç»´æƒ…å†µMLE"><a href="#å¤šç»´æƒ…å†µMLE" class="headerlink" title="å¤šç»´æƒ…å†µMLE"></a>å¤šç»´æƒ…å†µMLE</h3><p>å¤šç»´é«˜æ–¯åˆ†å¸ƒè¡¨è¾¾å¼ä¸ºï¼š<br>$$<br>p(x|\mu,\Sigma)&#x3D;\frac{1}{(2\pi)^{p&#x2F;2}|\Sigma|^{1&#x2F;2} }e^{-\frac{1}{2}(x-\mu)^{T}\Sigma^{-1}(x-\mu)}<br>$$<br>å…¶ä¸­ $x,\mu\in\mathbb{R}^{p},\Sigma\in\mathbb{R}^{p\times p}$ ï¼Œ$\mu $æ˜¯æœŸæœ›,$\Sigma$ ä¸ºåæ–¹å·®çŸ©é˜µï¼Œä¸€èˆ¬è€Œè¨€ä¹Ÿæ˜¯åŠæ­£å®šçŸ©é˜µã€‚è¿™é‡Œæˆ‘ä»¬åªè€ƒè™‘æ­£å®šçŸ©é˜µ,ä»¥æ–¹ä¾¿è®¡ç®—ã€‚</p><blockquote><p>ä»€ä¹ˆæ˜¯æ­£å®šï¼Ÿ<br>    å½“$A\in \mathbb{R}^{n\times n}, A^T&#x3D;A$æ—¶ï¼Œå¯¹ä»»æ„$x\neq0,x \in R^n$,éƒ½æœ‰$x^TAx\gt0$</p><p>ä»€ä¹ˆæ˜¯åŠæ­£å®šï¼Ÿ</p><p>â€‹å½“$A\in \mathbb{R}^{n\times n}, A^T&#x3D;A$æ—¶ï¼Œå¯¹ä»»æ„$x\neq0,x \in R^n$,éƒ½æœ‰$x^TAx\ge0$</p><p>å¸¸ç”¨çš„æ­£å®šåˆ¤å®šæœ‰</p><ol><li>$\lambda(A)\gt0$</li><li>å„é˜¶ä¸»å­å¼å‡å¤§äº0</li></ol></blockquote><p>é¦–å…ˆæˆ‘ä»¬å¤„ç†æŒ‡æ•°ä¸Šçš„æ•°å­—ï¼ŒæŒ‡æ•°ä¸Šçš„æ•°å­—å¯ä»¥è®°ä¸º $x$ å’Œ $\mu$ ä¹‹é—´çš„é©¬æ°è·ç¦»ã€‚å¯¹äºå¯¹ç§°çš„åæ–¹å·®çŸ©é˜µå¯è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼Œ<br>$$<br>\Sigma&#x3D;U\Lambda U^{T}&#x3D;(u_{1},u_{2},\cdots,u_{p})diag(\lambda_{i})(u_{1},u_{2},\cdots,u_{p})^{T}&#x3D;\sum\limits <em>{i&#x3D;1}^{p}u</em>{i}\lambda_{i}u_{i}^{T}<br>$$<br>ï¼Œäºæ˜¯ï¼š<br>$$<br>\Sigma^{-1}&#x3D;{(U\Lambda U^{T})}^{-1}&#x3D;U{\Lambda}^{-1} U^{T}&#x3D;\sum\limits <em>{i&#x3D;1}^{p}u</em>{i}\frac{1}{\lambda_{i} }u_{i}^{T}<br>$$</p><p>$$<br>\begin{align}<br>\Delta &amp;&#x3D;(x-\mu)^{T}\Sigma^{-1}(x-\mu)\<br>&amp;&#x3D;\sum\limits <em>{i&#x3D;1}^{p}(x-\mu)^{T}u</em>{i}\frac{1}{\lambda_{i} }u_{i}^{T}(x-\mu)\<br>&amp;&#x3D;\sum\limits <em>{i&#x3D;1}^{p}\frac{ {[(x-u)^{T}u_i]}^{2} }{\lambda</em>{i} }&#x3D;\sum\limits <em>{i&#x3D;1}^{p}\frac{y</em>{i}^{2} }{\lambda_{i} }<br>\end{align}<br>$$</p><p>æˆ‘ä»¬æ³¨æ„åˆ° $y_{i}$ æ˜¯ $x-\mu$ åœ¨ç‰¹å¾å‘é‡ $u_{i}$ ä¸Šçš„æŠ•å½±é•¿åº¦ï¼Œç›¸å½“äºæ˜¯åæ ‡è½´çš„å¹³ç§»ä¸æ—‹è½¬ã€‚å› æ­¤ä¸Šå¼å­å°±æ˜¯ $\Delta$ å–ä¸åŒå€¼æ—¶çš„åŒå¿ƒæ¤­åœ†ã€‚</p><p><img src="/%5Csrc%5CIMG_0994.JPG" alt="IMG_0994"></p><p>ä¸‹é¢æˆ‘ä»¬çœ‹å¤šç»´é«˜æ–¯æ¨¡å‹åœ¨å®é™…åº”ç”¨æ—¶çš„ä¸¤ä¸ªé—®é¢˜</p><ol><li><p>å‚æ•° $\Sigma,\mu$ çš„è‡ªç”±åº¦ä¸º $O(p^{2})$ å¯¹äºç»´åº¦å¾ˆé«˜çš„æ•°æ®å…¶è‡ªç”±åº¦å¤ªé«˜ã€‚è§£å†³æ–¹æ¡ˆï¼šé«˜è‡ªç”±åº¦çš„æ¥æºæ˜¯ $\Sigma$ æœ‰ $\frac{p(p+1)}{2}$ ä¸ªè‡ªç”±å‚æ•°ï¼Œå¯ä»¥å‡è®¾å…¶æ˜¯å¯¹è§’çŸ©é˜µï¼Œç”šè‡³åœ¨å„å‘åŒæ€§å‡è®¾ä¸­å‡è®¾å…¶å¯¹è§’çº¿ä¸Šçš„å…ƒç´ éƒ½ç›¸åŒã€‚å‰ä¸€ç§çš„ç®—æ³•æœ‰ Factor Analysisï¼Œåä¸€ç§æœ‰æ¦‚ç‡ PCA: Principal Component Analysis(p-PCA) ã€‚</p><p>$\forall i,j \in 1 \cdots p,i\neq j,\lambda_{i}&#x3D;\lambda_{j},\Sigma$ä¸ºå¯¹è§’çŸ©é˜µ,å¯åˆ¤å®šå„ç‰¹å¾<strong>å„è‡ªåŒæ€§</strong>ã€‚</p></li><li><p>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯å•ä¸ªé«˜æ–¯åˆ†å¸ƒæ˜¯å•å³°çš„ï¼Œå¯¹æœ‰å¤šä¸ªå³°çš„æ•°æ®åˆ†å¸ƒä¸èƒ½å¾—åˆ°å¥½çš„ç»“æœã€‚è§£å†³æ–¹æ¡ˆï¼šé«˜æ–¯æ··åˆæ¨¡å‹ GMMã€‚</p></li></ol><p>ä¸‹é¢å¯¹å¤šç»´é«˜æ–¯åˆ†å¸ƒçš„å¸¸ç”¨å®šç†è¿›è¡Œä»‹ç»ã€‚</p><p>æˆ‘ä»¬è®° $x&#x3D;(x_1, x_2,\cdots,x_p)^T&#x3D;(x_{a,m\times 1}, x_{b,n\times1})^T,\mu&#x3D;(\mu_{a,m\times1}, \mu_{b,n\times1})^{T},\Sigma&#x3D;\begin{pmatrix}\Sigma_{aa}&amp;\Sigma_{ab}\\Sigma_{ba}&amp;\Sigma_{bb}\end{pmatrix}$ï¼Œå·²çŸ¥ $x\sim\mathcal{N}(\mu,\Sigma)$ã€‚</p><p>é¦–å…ˆæ˜¯ä¸€ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å®šç†ï¼š&#96;</p><blockquote><p>  å®šç†ï¼šå·²çŸ¥ $x\sim\mathcal{N}(\mu,\Sigma), y\sim Ax+b$ï¼Œé‚£ä¹ˆ $y\sim\mathcal{N}(A\mu+b, A\Sigma A^T)$ã€‚</p><p>  è¯æ˜ï¼š$\mathbb{E}[y]&#x3D;\mathbb{E}[Ax+b]&#x3D;A\mathbb{E}[x]+b&#x3D;A\mu+b$ï¼Œ$Var[y]&#x3D;Var[Ax+b]&#x3D;Var[Ax]&#x3D;A\cdot Var[x]\cdot A^T$ã€‚</p></blockquote><p>ä¸‹é¢åˆ©ç”¨è¿™ä¸ªå®šç†å¾—åˆ° $p(x_a),p(x_b),p(x_a|x_b),p(x_b|x_a)$ è¿™å››ä¸ªé‡ã€‚</p><ol><li><p>$x_a&#x3D;\begin{pmatrix}\mathbb{I}<em>{m\times m}&amp;\mathbb{O}</em>{m\times n})\end{pmatrix}\begin{pmatrix}x_a\x_b\end{pmatrix}$ï¼Œä»£å…¥å®šç†ä¸­å¾—åˆ°ï¼š<br>$$<br>\mathbb{E}[x_a]&#x3D;\begin{pmatrix}\mathbb{I}&amp;\mathbb{O}\end{pmatrix}\begin{pmatrix}\mu_a\\mu_b\end{pmatrix}&#x3D;\mu_a\<br>Var[x_a]&#x3D;\begin{pmatrix}\mathbb{I}&amp;\mathbb{O}\end{pmatrix}\begin{pmatrix}\Sigma_{aa}&amp;\Sigma_{ab}\\Sigma_{ba}&amp;\Sigma_{bb}\end{pmatrix}\begin{pmatrix}\mathbb{I}\\mathbb{O}\end{pmatrix}&#x3D;\Sigma_{aa}<br>$$<br>æ‰€ä»¥ $x_a\sim\mathcal{N}(\mu_a,\Sigma_{aa})$ã€‚</p></li><li><p>åŒæ ·çš„ï¼Œ$x_b\sim\mathcal{N}(\mu_b,\Sigma_{bb})$ã€‚</p></li><li><p>å¯¹äºä¸¤ä¸ªæ¡ä»¶æ¦‚ç‡ï¼Œæˆ‘ä»¬å¼•å…¥ä¸‰ä¸ªé‡ï¼š<br>$$<br>x_{b\cdot a}&#x3D;x_b-\Sigma_{ba}\Sigma_{aa}^{-1}x_a\<br>\mu_{b\cdot a}&#x3D;\mu_b-\Sigma_{ba}\Sigma_{aa}^{-1}\mu_a\<br>\Sigma_{bb\cdot a}&#x3D;\Sigma_{bb}-\Sigma_{ba}\Sigma_{aa}^{-1}\Sigma_{ab}<br>$$<br>ç‰¹åˆ«çš„ï¼Œæœ€åä¸€ä¸ªå¼å­å«åš $\Sigma_{bb}$ çš„ Schur Complementaryã€‚å¯ä»¥çœ‹åˆ°ï¼š<br>$$<br>x_{b\cdot a}&#x3D;\begin{pmatrix}-\Sigma_{ba}\Sigma_{aa}^{-1}&amp;\mathbb{I}<em>{n\times n}\end{pmatrix}\begin{pmatrix}x_a\x_b\end{pmatrix}<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\mathbb{E}[x</em>{b\cdot a}]&#x3D;\begin{pmatrix}-\Sigma_{ba}\Sigma_{aa}^{-1}&amp;\mathbb{I}<em>{n\times n}\end{pmatrix}\begin{pmatrix}\mu_a\\mu_b\end{pmatrix}&#x3D;\mu</em>{b\cdot a}\<br>Var[x_{b\cdot a}]&#x3D;\begin{pmatrix}-\Sigma_{ba}\Sigma_{aa}^{-1}&amp;\mathbb{I}<em>{n\times n}\end{pmatrix}\begin{pmatrix}\Sigma</em>{aa}&amp;\Sigma_{ab}\\Sigma_{ba}&amp;\Sigma_{bb}\end{pmatrix}\begin{pmatrix}-\Sigma_{aa}^{-1}\Sigma_{ba}^T\\mathbb{I}<em>{n\times n}\end{pmatrix}&#x3D;\Sigma</em>{bb\cdot a}<br>$$<br>åˆ©ç”¨è¿™ä¸‰ä¸ªé‡å¯ä»¥å¾—åˆ° $x_b&#x3D;x_{b\cdot a}+\Sigma_{ba}\Sigma_{aa}^{-1}x_a$ã€‚å› æ­¤ï¼š<br>$$<br>\mathbb{E}[x_b|x_a]&#x3D;\mu_{b\cdot a}+\Sigma_{ba}\Sigma_{aa}^{-1}x_a<br>$$</p><p>$$<br>Var[x_b|x_a]&#x3D;\Sigma_{bb\cdot a}<br>$$</p><p>è¿™é‡ŒåŒæ ·ç”¨åˆ°äº†å®šç†ã€‚</p></li><li><p>åŒæ ·ï¼š<br>$$<br>x_{a\cdot b}&#x3D;x_a-\Sigma_{ab}\Sigma_{bb}^{-1}x_b\<br>\mu_{a\cdot b}&#x3D;\mu_a-\Sigma_{ab}\Sigma_{bb}^{-1}\mu_b\<br>\Sigma_{aa\cdot b}&#x3D;\Sigma_{aa}-\Sigma_{ab}\Sigma_{bb}^{-1}\Sigma_{ba}<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\mathbb{E}[x_a|x_b]&#x3D;\mu_{a\cdot b}+\Sigma_{ab}\Sigma_{bb}^{-1}x_b<br>$$</p><p>$$<br>Var[x_a|x_b]&#x3D;\Sigma_{aa\cdot b}<br>$$</p></li></ol><p>ä¸‹é¢åˆ©ç”¨ä¸Šè¾¹å››ä¸ªé‡ï¼Œæ±‚è§£çº¿æ€§æ¨¡å‹ï¼š</p><blockquote><p>  å·²çŸ¥ï¼š$p(x)&#x3D;\mathcal{N}(\mu,\Lambda^{-1}),p(y|x)&#x3D;\mathcal{N}(Ax+b,L^{-1})$ï¼Œæ±‚è§£ï¼š$p(y),p(x|y)$ã€‚</p><p>  è§£ï¼šä»¤ $y&#x3D;Ax+b+\epsilon,\epsilon\sim\mathcal{N}(0,L^{-1})$ï¼Œæ‰€ä»¥ $\mathbb{E}[y]&#x3D;\mathbb{E}[Ax+b+\epsilon]&#x3D;A\mu+b$ï¼Œ$Var[y]&#x3D;A \Lambda^{-1}A^T+L^{-1}$ï¼Œå› æ­¤ï¼š<br>  $$<br>  p(y)&#x3D;\mathcal{N}(A\mu+b,L^{-1}+A\Lambda^{-1}A^T)<br>  $$<br>  å¼•å…¥ $z&#x3D;\begin{pmatrix}x\y\end{pmatrix}$ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° $Cov[x,y]&#x3D;\mathbb{E}[(x-\mathbb{E}[x])(y-\mathbb{E}[y])^T]$ã€‚å¯¹äºè¿™ä¸ªåæ–¹å·®å¯ä»¥ç›´æ¥è®¡ç®—ï¼š<br>  $$<br>  \begin{align}<br>  Cov(x,y)&amp;&#x3D;\mathbb{E}[(x-\mu)(Ax-A\mu+\epsilon)^T]\ &amp;&#x3D;\mathbb{E}[(x-\mu)(x-\mu)^TA^T]\<br>  &amp;&#x3D;Var[x]A^T&#x3D;\Lambda^{-1}A^T<br>  \end{align}<br>  $$<br>  æ³¨æ„åˆ°åæ–¹å·®çŸ©é˜µçš„å¯¹ç§°æ€§ï¼Œæ‰€ä»¥ $p(z)&#x3D;\mathcal{N}\begin{pmatrix}\mu\A\mu+b\end{pmatrix},\begin{pmatrix}\Lambda^{-1}&amp;\Lambda^{-1}A^T\A\Lambda^{-1}&amp;L^{-1}+A\Lambda^{-1}A^T\end<br>  {pmatrix}$ã€‚æ ¹æ®ä¹‹å‰çš„å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š<br>  $$<br>  \mathbb{E}[x|y]&#x3D;\mu+\Lambda^{-1}A^T(L^{-1}+A\Lambda^{-1}A^T)^{-1}(y-A\mu-b)<br>  $$</p><p>  $$<br>  Var[x|y]&#x3D;\Lambda^{-1}-\Lambda^{-1}A^T(L^{-1}+A\Lambda^{-1}A^T)^{-1}A\Lambda^{-1}<br>  $$</p></blockquote><p>è¿™é‡Œçš„$\Lambda^{-1}$æ˜¯ç²¾åº¦çŸ©é˜µï¼Œ$\mathit{L}^{-1}$æ˜¯åæ–¹å·®çŸ©é˜µã€‚</p><p>$$<br>Precision Matrix &#x3D; Covariance Matrix ^ {-1}<br>$$<br>è¿™é‡Œè¡¥å……ä¸€äº›å°çŸ¥è¯†</p><ol><li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªéšæœºå˜é‡$x ,y$ç‹¬ç«‹ä¸ç›¸å…³ï¼Œä¸ç›¸å…³ä¸ä¸€å®šç‹¬ç«‹</li><li>è‹¥$x,y\sim N(\mu,\Sigma)$ï¼Œä¸ç›¸å…³ç­‰ä»·äºç‹¬ç«‹ï¿½ï¿½</li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”çº¿æ€§åˆ†ç±»</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/LinearClassification/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/LinearClassification/</url>
    
    <content type="html"><![CDATA[<h1 id="çº¿æ€§åˆ†ç±»"><a href="#çº¿æ€§åˆ†ç±»" class="headerlink" title="çº¿æ€§åˆ†ç±»"></a>çº¿æ€§åˆ†ç±»</h1><h2 id="çº¿æ€§å›å½’ï¼š"><a href="#çº¿æ€§å›å½’ï¼š" class="headerlink" title="çº¿æ€§å›å½’ï¼š"></a>çº¿æ€§å›å½’ï¼š</h2><pre><code class=" mermaid">graph TD;    LinearRegression--&gt;non-linear;    LinearRegression--&gt;non-crude --&gt; PCA;    LinearRegression--&gt;non-globa --&gt; DecisionTree;    non-linear --&gt; Attribute --&gt; FeatureChange;    non-linear --&gt; Globa --&gt; Classification;    non-linear --&gt; Parameters --&gt; NeuralNetwork;    </code></pre><p>å¯¹äºåˆ†ç±»ä»»åŠ¡ï¼Œçº¿æ€§å›å½’æ¨¡å‹å°±æ— èƒ½ä¸ºåŠ›äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨çº¿æ€§æ¨¡å‹çš„å‡½æ•°è¿›è¡Œåå†åŠ å…¥ä¸€å±‚æ¿€æ´»å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯éçº¿æ€§çš„ï¼Œ<strong>æ¿€æ´»å‡½æ•°çš„åå‡½</strong>æ•°å«åš<strong>é“¾æ¥å‡½æ•°</strong>ã€‚æˆ‘ä»¬æœ‰ä¸¤ç§çº¿æ€§åˆ†ç±»çš„æ–¹å¼ï¼š</p><ol><li>ç¡¬åˆ†ç±»ï¼Œæˆ‘ä»¬ç›´æ¥éœ€è¦è¾“å‡ºè§‚æµ‹å¯¹åº”çš„åˆ†ç±»ã€‚è¿™ç±»æ¨¡å‹çš„ä»£è¡¨ä¸ºï¼š<ol><li>çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆFisher åˆ¤åˆ«ï¼‰</li><li>æ„ŸçŸ¥æœº</li></ol></li><li>è½¯åˆ†ç±»ï¼Œäº§ç”Ÿä¸åŒç±»åˆ«çš„æ¦‚ç‡ï¼Œè¿™ç±»ç®—æ³•æ ¹æ®æ¦‚ç‡æ–¹æ³•çš„ä¸åŒåˆ†ä¸ºä¸¤ç§<ol><li>ç”Ÿæˆå¼ï¼ˆæ ¹æ®è´å¶æ–¯å®šç†å…ˆè®¡ç®—å‚æ•°åéªŒï¼Œå†è¿›è¡Œæ¨æ–­ï¼‰ï¼šé«˜æ–¯åˆ¤åˆ«åˆ†æï¼ˆGDAï¼‰å’Œæœ´ç´ è´å¶æ–¯ç­‰ä¸ºä»£è¡¨<ol><li>Gaussian Discrimination Analysis</li><li>Naive Bayes</li></ol></li><li>åˆ¤åˆ«å¼ï¼ˆç›´æ¥å¯¹æ¡ä»¶æ¦‚ç‡è¿›è¡Œå»ºæ¨¡ï¼‰ï¼šLogistic Regression</li></ol></li></ol><h2 id="ä¸¤åˆ†ç±»-ç¡¬åˆ†ç±»-æ„ŸçŸ¥æœºç®—æ³•-Perception-Linear-Algorithm"><a href="#ä¸¤åˆ†ç±»-ç¡¬åˆ†ç±»-æ„ŸçŸ¥æœºç®—æ³•-Perception-Linear-Algorithm" class="headerlink" title="ä¸¤åˆ†ç±»-ç¡¬åˆ†ç±»-æ„ŸçŸ¥æœºç®—æ³• Perception Linear Algorithm"></a>ä¸¤åˆ†ç±»-ç¡¬åˆ†ç±»-æ„ŸçŸ¥æœºç®—æ³• Perception Linear Algorithm</h2><p>æˆ‘ä»¬é€‰å–æ¿€æ´»å‡½æ•°ä¸ºï¼š<br>$$<br>sign(a)&#x3D;\left{\begin{matrix}+1,a\ge0\-1,a\lt0\end{matrix}\right.<br>$$<br>è¿™æ ·å°±å¯ä»¥å°†çº¿æ€§å›å½’çš„ç»“æœæ˜ å°„åˆ°ä¸¤åˆ†ç±»çš„ç»“æœä¸Šäº†ã€‚</p><p>å®šä¹‰æŸå¤±å‡½æ•°ä¸º<strong>é”™è¯¯åˆ†ç±»</strong>çš„æ•°ç›®ï¼Œæ¯”è¾ƒç›´è§‚çš„æ–¹å¼æ˜¯ä½¿ç”¨æŒ‡ç¤ºå‡½æ•°ï¼Œä½†æ˜¯æŒ‡ç¤ºå‡½æ•°ä¸å¯å¯¼ï¼Œå› æ­¤å¯ä»¥å®šä¹‰ï¼š<br>$$<br>L(w)&#x3D;\sum\limits_{x_i\in\mathcal{D}<em>{wrong}}-y_iw^Tx_i<br>$$<br>å…¶ä¸­ï¼Œ$\mathcal{D}</em>{wrong}$æ˜¯é”™è¯¯åˆ†ç±»é›†åˆï¼Œå®é™…åœ¨æ¯ä¸€æ¬¡è®­ç»ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬é‡‡ç”¨æ¢¯åº¦ä¸‹é™çš„ç®—æ³•ã€‚æŸå¤±å‡½æ•°å¯¹ $w$ çš„åå¯¼ä¸ºï¼š<br>$$<br>\frac{\partial}{\partial w}L(w)&#x3D;\sum\limits_{x_i\in\mathcal{D}<em>{wrong}}-y_ix_i<br>$$<br>ä½†æ˜¯å¦‚æœæ ·æœ¬éå¸¸å¤šçš„æƒ…å†µä¸‹ï¼Œè®¡ç®—å¤æ‚åº¦è¾ƒé«˜ï¼Œä½†æ˜¯ï¼Œå®é™…ä¸Šæˆ‘ä»¬å¹¶ä¸éœ€è¦ç»å¯¹çš„æŸå¤±å‡½æ•°ä¸‹é™çš„æ–¹å‘ï¼Œæˆ‘ä»¬åªéœ€è¦æŸå¤±å‡½æ•°çš„æœŸæœ›å€¼ä¸‹é™ï¼Œä½†æ˜¯è®¡ç®—æœŸæœ›éœ€è¦çŸ¥é“çœŸå®çš„æ¦‚ç‡åˆ†å¸ƒï¼Œæˆ‘ä»¬å®é™…åªèƒ½æ ¹æ®è®­ç»ƒæ•°æ®æŠ½æ ·æ¥ä¼°ç®—è¿™ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼ˆç»éªŒé£é™©ï¼‰ï¼š<br>$$<br>\mathbb{E}</em>{\mathcal D}[\mathbb{E}<em>\hat{p}[\nabla_wL(w)]]&#x3D;\mathbb{E}</em>{\mathcal D}[\frac{1}{N}\sum\limits_{i&#x3D;1}^N\nabla_wL(w)]<br>$$<br>æˆ‘ä»¬çŸ¥é“ï¼Œ $N$ è¶Šå¤§ï¼Œæ ·æœ¬è¿‘ä¼¼çœŸå®åˆ†å¸ƒè¶Šå‡†ç¡®ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªæ ‡å‡†å·®ä¸º $\sigma$ çš„æ•°æ®ï¼Œå¯ä»¥ç¡®å®šçš„æ ‡å‡†å·®ä»…å’Œ $\sqrt{N}$ æˆåæ¯”ï¼Œè€Œè®¡ç®—é€Ÿåº¦å´å’Œ $N$ æˆæ­£æ¯”ã€‚å› æ­¤å¯ä»¥æ¯æ¬¡ä½¿ç”¨è¾ƒå°‘æ ·æœ¬ï¼Œåˆ™åœ¨æ•°å­¦æœŸæœ›çš„æ„ä¹‰ä¸ŠæŸå¤±é™ä½çš„åŒæ—¶ï¼Œæœ‰å¯ä»¥æé«˜è®¡ç®—é€Ÿåº¦ï¼Œå¦‚æœæ¯æ¬¡åªä½¿ç”¨ä¸€ä¸ªé”™è¯¯æ ·æœ¬ï¼Œæˆ‘ä»¬æœ‰ä¸‹é¢çš„æ›´æ–°ç­–ç•¥ï¼ˆæ ¹æ®æ³°å‹’å…¬å¼ï¼Œåœ¨è´Ÿæ–¹å‘ï¼‰ï¼š<br>$$<br>w^{t+1}\leftarrow w^{t}+\lambda y_ix_i<br>$$<br>æ˜¯å¯ä»¥æ”¶æ•›çš„ï¼ŒåŒæ—¶ä½¿ç”¨å•ä¸ªè§‚æµ‹æ›´æ–°ä¹Ÿå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ ä¸ç¡®å®šåº¦ï¼Œä»è€Œå‡è½»é™·å…¥å±€éƒ¨æœ€å°çš„å¯èƒ½ã€‚åœ¨æ›´å¤§è§„æ¨¡çš„æ•°æ®ä¸Šï¼Œå¸¸ç”¨çš„æ˜¯å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™æ³•ã€‚</p><h2 id="ä¸¤åˆ†ç±»-ç¡¬åˆ†ç±»-çº¿æ€§åˆ¤åˆ«åˆ†æ-Linear-Discriminant-Analysis"><a href="#ä¸¤åˆ†ç±»-ç¡¬åˆ†ç±»-çº¿æ€§åˆ¤åˆ«åˆ†æ-Linear-Discriminant-Analysis" class="headerlink" title="ä¸¤åˆ†ç±»-ç¡¬åˆ†ç±»-çº¿æ€§åˆ¤åˆ«åˆ†æ Linear Discriminant Analysis"></a>ä¸¤åˆ†ç±»-ç¡¬åˆ†ç±»-çº¿æ€§åˆ¤åˆ«åˆ†æ Linear Discriminant Analysis</h2><p>åœ¨ LDA ä¸­ï¼Œæˆ‘ä»¬çš„åŸºæœ¬æƒ³æ³•æ˜¯é€‰å®šä¸€ä¸ªæ–¹å‘ï¼Œå°†è¯•éªŒæ ·æœ¬é¡ºç€è¿™ä¸ªæ–¹å‘æŠ•å½±ï¼ŒæŠ•å½±åçš„æ•°æ®éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼Œä»è€Œå¯ä»¥æ›´å¥½åœ°åˆ†ç±»ï¼š</p><ol><li>ç›¸åŒç±»å†…éƒ¨çš„è¯•éªŒæ ·æœ¬è·ç¦»æ¥è¿‘ã€‚</li><li>ä¸åŒç±»åˆ«ä¹‹é—´çš„è·ç¦»è¾ƒå¤§ã€‚</li></ol><p>é¦–å…ˆæ˜¯æŠ•å½±ï¼Œæˆ‘ä»¬å‡å®šåŸæ¥çš„æ•°æ®æ˜¯å‘é‡ $x$ï¼Œé‚£ä¹ˆé¡ºç€ $Â w$ æ–¹å‘çš„æŠ•å½±å°±æ˜¯æ ‡é‡ï¼š<br>$$<br>z&#x3D;w^T\cdot x(&#x3D;|w|\cdot|x|\cos\theta)<br>$$<br>å¯¹ç¬¬ä¸€ç‚¹ï¼Œç›¸åŒç±»å†…éƒ¨çš„æ ·æœ¬æ›´ä¸ºæ¥è¿‘ï¼Œæˆ‘ä»¬å‡è®¾å±äºä¸¤ç±»çš„è¯•éªŒæ ·æœ¬æ•°é‡åˆ†åˆ«æ˜¯ $N_1$å’Œ $N_2$ï¼Œé‚£ä¹ˆæˆ‘ä»¬é‡‡ç”¨æ–¹å·®çŸ©é˜µæ¥è¡¨å¾æ¯ä¸€ä¸ªç±»å†…çš„æ€»ä½“åˆ†å¸ƒï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†åæ–¹å·®çš„å®šä¹‰ï¼Œç”¨ $S$ è¡¨ç¤ºåŸæ•°æ®çš„åæ–¹å·®ï¼š<br>$$<br>\begin{align}<br>C_1:Var_z[C_1]&amp;&#x3D;\frac{1}{N_1}\sum\limits_{i&#x3D;1}^{N_1}(z_i-\overline{z_{c1}})(z_i-\overline{z_{c1}})^T\nonumber\<br>&amp;&#x3D;\frac{1}{N_1}\sum\limits_{i&#x3D;1}^{N_1}(w^Tx_i-\frac{1}{N_1}\sum\limits_{j&#x3D;1}^{N_1}w^Tx_j)(w^Tx_i-\frac{1}{N_1}\sum\limits_{j&#x3D;1}^{N_1}w^Tx_j)^T\nonumber\<br>&amp;&#x3D;w^T\frac{1}{N_1}\sum\limits_{i&#x3D;1}^{N_1}(x_i-\overline{x_{c1}})(x_i-\overline{x_{c1}})^Tw\nonumber\<br>&amp;&#x3D;w^TS_1w\<br>C_2:Var_z[C_2]&amp;&#x3D;\frac{1}{N_2}\sum\limits_{i&#x3D;1}^{N_2}(z_i-\overline{z_{c2}})(z_i-\overline{z_{c2}})^T\nonumber\<br>&amp;&#x3D;w^TS_2w<br>\end{align}<br>$$<br>æ‰€ä»¥ç±»å†…è·ç¦»å¯ä»¥è®°ä¸ºï¼š<br>$$<br>\begin{align}<br>Var_z[C_1]+Var_z[C_2]&#x3D;w^T(S_1+S_2)w<br>\end{align}<br>$$<br>å¯¹äºç¬¬äºŒç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ç±»çš„å‡å€¼è¡¨ç¤ºè¿™ä¸ªè·ç¦»ï¼š<br>$$<br>\begin{align}<br>(\overline{z_{c1}}-\overline{z_{c2}})^2&amp;&#x3D;(\frac{1}{N_1}\sum\limits_{i&#x3D;1}^{N_1}w^Tx_i-\frac{1}{N_2}\sum\limits_{i&#x3D;1}^{N_2}w^Tx_i)^2\nonumber\<br>&amp;&#x3D;(w^T(\overline{x_{c1}}-\overline{x_{c2}}))^2\nonumber\<br>&amp;&#x3D;w^T(\overline{x_{c1}}-\overline{x_{c2}})(\overline{x_{c1}}-\overline{x_{c2}})^Tw<br>\end{align}<br>$$<br>ç»¼åˆè¿™ä¸¤ç‚¹ï¼Œç”±äºåæ–¹å·®æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œäºæ˜¯æˆ‘ä»¬ç”¨å°†è¿™ä¸¤ä¸ªå€¼ç›¸é™¤æ¥å¾—åˆ°æˆ‘ä»¬çš„æŸå¤±å‡½æ•°ï¼Œå¹¶æœ€å¤§åŒ–è¿™ä¸ªå€¼ï¼š<br>$$<br>\begin{align}<br>\hat{w}&#x3D;\mathop{argmax}\limits_wJ(w)&amp;&#x3D;\mathop{argmax}\limits_w\frac{(\overline{z_{c1}}-\overline{z_{c2}})^2}{Var_z[C_1]+Var_z[C_2]}\nonumber\<br>&amp;&#x3D;\mathop{argmax}\limits_w\frac{w^T(\overline{x_{c1}}-\overline{x_{c2}})(\overline{x_{c1}}-\overline{x_{c2}})^Tw}{w^T(S_1+S_2)w}\nonumber\<br>&amp;&#x3D;\mathop{argmax}\limits_w\frac{w^TS_bw}{w^TS_ww}<br>\end{align}<br>$$<br>è¿™æ ·ï¼Œæˆ‘ä»¬å°±æŠŠæŸå¤±å‡½æ•°å’ŒåŸæ•°æ®é›†ä»¥åŠå‚æ•°ç»“åˆèµ·æ¥äº†ã€‚ä¸‹é¢å¯¹è¿™ä¸ªæŸå¤±å‡½æ•°æ±‚åå¯¼ï¼Œæ³¨æ„æˆ‘ä»¬å…¶å®å¯¹ $w$ çš„ç»å¯¹å€¼æ²¡æœ‰ä»»ä½•è¦æ±‚ï¼Œåªå¯¹æ–¹å‘æœ‰è¦æ±‚ï¼Œå› æ­¤åªè¦ä¸€ä¸ªæ–¹ç¨‹å°±å¯ä»¥æ±‚è§£äº†ï¼š<br>$$<br>\begin{align}<br>&amp;\frac{\partial}{\partial w}J(w)&#x3D;2S_bw(w^TS_ww)^{-1}-2w^TS_bw(w^TS_ww)^{-2}S_ww&#x3D;0\nonumber\<br>&amp;\Longrightarrow S_bw(w^TS_ww)&#x3D;(w^TS_bw)S_ww\nonumber\<br>&amp;\Longrightarrow w\propto S_w^{-1}S_bw&#x3D;S_w^{-1}(\overline{x_{c1}}-\overline{x_{c2}})(\overline{x_{c1}}-\overline{x_{c2}})^Tw\propto S_w^{-1}(\overline{x_{c1}}-\overline{x_{c2}})<br>\end{align}<br>$$<br>äºæ˜¯ $Â S_w^{-1}(\overline{x_{c1}}-\overline{x_{c2}})$ å°±æ˜¯æˆ‘ä»¬éœ€è¦å¯»æ‰¾çš„æ–¹å‘ã€‚æœ€åå¯ä»¥å½’ä¸€åŒ–æ±‚å¾—å•ä½çš„ $w$ å€¼ã€‚</p><h2 id="ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹-Logistic-Regression"><a href="#ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹-Logistic-Regression" class="headerlink" title="ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹-Logistic Regression"></a>ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹-Logistic Regression</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬åªè¦å¾—åˆ°ä¸€ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ç§èƒ½è¾“å‡º $[0,1]$ åŒºé—´çš„å€¼çš„å‡½æ•°ã€‚è€ƒè™‘ä¸¤åˆ†ç±»æ¨¡å‹ï¼Œæˆ‘ä»¬åˆ©ç”¨åˆ¤åˆ«æ¨¡å‹ï¼Œå¸Œæœ›å¯¹ $p(C|x)$ å»ºæ¨¡ï¼Œåˆ©ç”¨è´å¶æ–¯å®šç†ï¼š<br>$$<br>p(C_1|x)&#x3D;\frac{p(x|C_1)p(C_1)}{p(x|C_1)p(C_1)+p(x|C_2)p(C_2)}<br>$$<br>å– $a&#x3D;\ln\frac{p(x|C_1)p(C_1)}{p(x|C_2)p(C_2)}$ï¼Œäºæ˜¯ï¼š<br>$$<br>p(C_1|x)&#x3D;\frac{1}{1+\exp(-a)}<br>$$<br>ä¸Šé¢çš„å¼å­å« Logistic Sigmoid å‡½æ•°ï¼Œå…¶å‚æ•°è¡¨ç¤ºäº†ä¸¤ç±»è”åˆæ¦‚ç‡æ¯”å€¼çš„å¯¹æ•°ã€‚åœ¨åˆ¤åˆ«å¼ä¸­ï¼Œä¸å…³å¿ƒè¿™ä¸ªå‚æ•°çš„å…·ä½“å€¼ï¼Œæ¨¡å‹å‡è®¾ç›´æ¥å¯¹ $a$ è¿›è¡Œã€‚</p><p>Logistic å›å½’çš„æ¨¡å‹å‡è®¾æ˜¯ï¼š<br>$$<br>a&#x3D;w^Tx<br>$$<br>äºæ˜¯ï¼Œé€šè¿‡å¯»æ‰¾ $Â Â w$ çš„æœ€ä½³å€¼å¯ä»¥å¾—åˆ°åœ¨è¿™ä¸ªæ¨¡å‹å‡è®¾ä¸‹çš„æœ€ä½³æ¨¡å‹ã€‚æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹å¸¸ç”¨æœ€å¤§ä¼¼ç„¶ä¼°è®¡çš„æ–¹å¼æ¥ç¡®å®šå‚æ•°ã€‚</p><p>å¯¹äºä¸€æ¬¡è§‚æµ‹ï¼Œè·å¾—åˆ†ç±» $y$ çš„æ¦‚ç‡ä¸ºï¼ˆå‡å®š$C_1&#x3D;1,C_2&#x3D;0$ï¼‰ï¼š<br>$$<br>p(y|x)&#x3D;p_1^yp_0^{1-y}<br>$$</p><p>é‚£ä¹ˆå¯¹äº $N$ æ¬¡ç‹¬ç«‹å…¨åŒçš„è§‚æµ‹ MLEä¸ºï¼š<br>$$<br>\hat{w}&#x3D;\mathop{argmax}_wJ(w)&#x3D;\mathop{argmax}<em>w\sum\limits</em>{i&#x3D;1}^N(y_i\log p_1+(1-y_i)\log p_0)<br>$$<br>æ³¨æ„åˆ°ï¼Œè¿™ä¸ªè¡¨è¾¾å¼æ˜¯äº¤å‰ç†µè¡¨è¾¾å¼çš„ç›¸åæ•°ä¹˜ $N$ï¼ŒMLE ä¸­çš„å¯¹æ•°ä¹Ÿä¿è¯äº†å¯ä»¥å’ŒæŒ‡æ•°å‡½æ•°ç›¸åŒ¹é…ï¼Œä»è€Œåœ¨å¤§çš„åŒºé—´æ±‡æ€»è·å–ç¨³å®šçš„æ¢¯åº¦ã€‚</p><p>å¯¹è¿™ä¸ªå‡½æ•°æ±‚å¯¼æ•°ï¼Œæ³¨æ„åˆ°ï¼š<br>$$<br>p_1â€™&#x3D;(\frac{1}{1+\exp(-a)})â€™&#x3D;p_1(1-p_1)<br>$$<br>åˆ™ï¼š<br>$$<br>Jâ€™(w)&#x3D;\sum\limits_{i&#x3D;1}^Ny_i(1-p_1)x_i-p_1x_i+y_ip_1x_i&#x3D;\sum\limits_{i&#x3D;1}^N(y_i-p_1)x_i<br>$$<br>ç”±äºæ¦‚ç‡å€¼çš„éçº¿æ€§ï¼Œæ”¾åœ¨æ±‚å’Œç¬¦å·ä¸­æ—¶ï¼Œè¿™ä¸ªå¼å­æ— æ³•ç›´æ¥æ±‚è§£ã€‚äºæ˜¯åœ¨å®é™…è®­ç»ƒçš„æ—¶å€™ï¼Œå’Œæ„ŸçŸ¥æœºç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒå¤§å°çš„æ‰¹é‡éšæœºæ¢¯åº¦ä¸Šå‡ï¼ˆå¯¹äºæœ€å°åŒ–å°±æ˜¯æ¢¯åº¦ä¸‹é™ï¼‰æ¥è·å¾—è¿™ä¸ªå‡½æ•°çš„æå¤§å€¼ã€‚</p><h2 id="ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡ç”Ÿæˆæ¨¡å‹-é«˜æ–¯åˆ¤åˆ«åˆ†æ-Gaussian-Discrimination-Analysis"><a href="#ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡ç”Ÿæˆæ¨¡å‹-é«˜æ–¯åˆ¤åˆ«åˆ†æ-Gaussian-Discrimination-Analysis" class="headerlink" title="ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡ç”Ÿæˆæ¨¡å‹-é«˜æ–¯åˆ¤åˆ«åˆ†æ Gaussian Discrimination Analysis"></a>ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡ç”Ÿæˆæ¨¡å‹-é«˜æ–¯åˆ¤åˆ«åˆ†æ Gaussian Discrimination Analysis</h2><p>ç”Ÿæˆæ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬å¯¹è”åˆæ¦‚ç‡åˆ†å¸ƒè¿›è¡Œå»ºæ¨¡ï¼Œç„¶åé‡‡ç”¨ MAP æ¥è·å¾—å‚æ•°çš„æœ€ä½³å€¼ã€‚ä¸¤åˆ†ç±»çš„æƒ…å†µï¼Œæˆ‘ä»¬é‡‡ç”¨çš„å‡è®¾ï¼š</p><ol><li>$y\sim Bernoulli(\phi)$</li><li>$x|y&#x3D;1\sim\mathcal{N}(\mu_1,\Sigma)$</li><li>$x|y&#x3D;0\sim\mathcal{N}(\mu_0,\Sigma)$</li></ol><p>é‚£ä¹ˆç‹¬ç«‹å…¨åŒçš„æ•°æ®é›†æœ€å¤§åéªŒæ¦‚ç‡å¯ä»¥è¡¨ç¤ºä¸ºï¼š<br>$$<br>\begin{align}<br>\mathop{argmax}<em>{\phi,\mu_0,\mu_1,\Sigma}\log p(X|Y)p(Y)&amp;&#x3D;\mathop{argmax}</em>{\phi,\mu_0,\mu_1,\Sigma}\sum\limits_{i&#x3D;1}^N (\log p(x_i|y_i)+\log p(y_i))\nonumber\<br>&amp;&#x3D;\mathop{argmax}<em>{\phi,\mu_0,\mu_1,\Sigma}\sum\limits</em>{i&#x3D;1}^N((1-y_i)\log\mathcal{N}(\mu_0,\Sigma)+y_i\log \mathcal{N}(\mu_1,\Sigma)+y_i\log\phi+(1-y_i)\log(1-\phi))<br>\end{align}<br>$$</p><ul><li><p>é¦–å…ˆå¯¹ $\phi$ è¿›è¡Œæ±‚è§£ï¼Œå°†å¼å­å¯¹ $\phi$ æ±‚åå¯¼ï¼š<br>$$<br>\begin{align}\sum\limits_{i&#x3D;1}^N\frac{y_i}{\phi}+\frac{y_i-1}{1-\phi}&#x3D;0\nonumber\<br>\Longrightarrow\phi&#x3D;\frac{\sum\limits_{i&#x3D;1}^Ny_i}{N}&#x3D;\frac{N_1}{N}<br>\end{align}<br>$$</p></li><li><p>ç„¶åæ±‚è§£ $\mu_1$ï¼š<br>$$<br>\begin{align}\hat{\mu_1}&amp;&#x3D;\mathop{argmax}<em>{\mu_1}\sum\limits</em>{i&#x3D;1}^Ny_i\log\mathcal{N}(\mu_1,\Sigma)\nonumber\<br>&amp;&#x3D;\mathop{argmin}<em>{\mu_1}\sum\limits</em>{i&#x3D;1}^Ny_i(x_i-\mu_1)^T\Sigma^{-1}(x_i-\mu_1)<br>\end{align}<br>$$<br>ç”±äºï¼š<br>$$<br>\sum\limits_{i&#x3D;1}^Ny_i(x_i-\mu_1)^T\Sigma^{-1}(x_i-\mu_1)\ &#x3D;\sum\limits_{i&#x3D;1}^Ny_ix_i^T\Sigma^{-1}x_i-2y_i\mu_1^T\Sigma^{-1}x_i+y_i\mu_1^T\Sigma^{-1}\mu_1<br>$$</p><p>æ±‚å¾®åˆ†å·¦è¾¹ä¹˜ä»¥ $\Sigma$ å¯ä»¥å¾—åˆ°ï¼š<br>$$<br>\begin{align}\sum\limits_{i&#x3D;1}^N-2y_i\Sigma^{-1}x_i+2y_i\Sigma^{-1}\mu_1&#x3D;0\nonumber\<br>\Longrightarrow\mu_1&#x3D;\frac{\sum\limits_{i&#x3D;1}^Ny_ix_i}{\sum\limits_{i&#x3D;1}^Ny_i}&#x3D;\frac{\sum\limits_{i&#x3D;1}^Ny_ix_i}{N_1}<br>\end{align}<br>$$</p></li><li><p>æ±‚è§£ $\mu_0$ï¼Œç”±äºæ­£åä¾‹æ˜¯å¯¹ç§°çš„ï¼Œæ‰€ä»¥ï¼š<br>$$<br>\mu_0&#x3D;\frac{\sum\limits_{i&#x3D;1}^N(1-y_i)x_i}{N_0}<br>$$</p></li><li><p>æœ€ä¸ºå›°éš¾çš„æ˜¯æ±‚è§£ $\Sigma$ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å‡è®¾å¯¹æ­£åä¾‹é‡‡ç”¨ç›¸åŒçš„åæ–¹å·®çŸ©é˜µï¼Œå½“ç„¶ä»ä¸Šé¢çš„æ±‚è§£ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå³ä½¿é‡‡ç”¨ä¸åŒçš„çŸ©é˜µä¹Ÿä¸ä¼šå½±å“ä¹‹å‰çš„ä¸‰ä¸ªå‚æ•°ã€‚é¦–å…ˆæˆ‘ä»¬æœ‰ï¼š<br>$$<br>\begin{align}<br>\sum\limits_{i&#x3D;1}^N\log\mathcal{N}(\mu,\Sigma)&amp;&#x3D;\sum\limits_{i&#x3D;1}^N\log(\frac{1}{(2\pi)^{p&#x2F;2}|\Sigma|^{1&#x2F;2}})+(-\frac{1}{2}(x_i-\mu)^T\Sigma^{-1}(x_i-\mu))\nonumber\<br>&amp;&#x3D;Const-\frac{1}{2}N\log|\Sigma|-\frac{1}{2}Trace((x_i-\mu)^T\Sigma^{-1}(x_i-\mu))\nonumber\<br>&amp;&#x3D;Const-\frac{1}{2}N\log|\Sigma|-\frac{1}{2}Trace((x_i-\mu)(x_i-\mu)^T\Sigma^{-1})\nonumber\<br>&amp;&#x3D;Const-\frac{1}{2}N\log|\Sigma|-\frac{1}{2}NTrace(S\Sigma^{-1})<br>\end{align}<br>$$<br>åœ¨è¿™ä¸ªè¡¨è¾¾å¼ä¸­ï¼Œæˆ‘ä»¬åœ¨æ ‡é‡ä¸ŠåŠ å…¥è¿¹ä»è€Œå¯ä»¥äº¤æ¢çŸ©é˜µçš„é¡ºåºï¼Œå¯¹äºåŒ…å«ç»å¯¹å€¼å’Œè¿¹çš„è¡¨è¾¾å¼çš„å¯¼æ•°ï¼Œæˆ‘ä»¬æœ‰ï¼š<br>$$<br>\begin{align}<br>\frac{\partial}{\partial A}(|A|)&amp;&#x3D;|A|A^{-1}\<br>\frac{\partial}{\partial A}Trace(AB)&amp;&#x3D;B^T<br>\end{align}<br>$$<br>å› æ­¤ï¼š<br>$$<br>\begin{align}[\sum\limits_{i&#x3D;1}^N((1-y_i)\log\mathcal{N}(\mu_0,\Sigma)+y_i\log \mathcal{N}(\mu_1,\Sigma)]â€™<br>\nonumber\&#x3D;Const-\frac{1}{2}N\log|\Sigma|-\frac{1}{2}N_1Trace(S_1\Sigma^{-1})-\frac{1}{2}N_2Trace(S_2\Sigma^{-1})<br>\end{align}<br>$$<br>å…¶ä¸­ï¼Œ$S_1,S_2$ åˆ†åˆ«ä¸ºä¸¤ä¸ªç±»æ•°æ®å†…éƒ¨çš„åæ–¹å·®çŸ©é˜µï¼Œäºæ˜¯ï¼š<br>$$<br>\begin{align}N\Sigma^{-1}-N_1S_1^T\Sigma^{-2}-N_2S_2^T\Sigma^{-2}&#x3D;0\nonumber<br>\\Longrightarrow\Sigma&#x3D;\frac{N_1S_1+N_2S_2}{N}<br>\end{align}<br>$$<br>è¿™é‡Œåº”ç”¨äº†ç±»åæ–¹å·®çŸ©é˜µçš„å¯¹ç§°æ€§ã€‚</p></li></ul><p>äºæ˜¯æˆ‘ä»¬å°±åˆ©ç”¨æœ€å¤§åéªŒçš„æ–¹æ³•æ±‚å¾—äº†æˆ‘ä»¬æ¨¡å‹å‡è®¾é‡Œé¢çš„æ‰€æœ‰å‚æ•°ï¼Œæ ¹æ®æ¨¡å‹ï¼Œå¯ä»¥å¾—åˆ°è”åˆåˆ†å¸ƒï¼Œä¹Ÿå°±å¯ä»¥å¾—åˆ°ç”¨äºæ¨æ–­çš„æ¡ä»¶åˆ†å¸ƒäº†ã€‚</p><h2 id="ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡ç”Ÿæˆæ¨¡å‹-æœ´ç´ è´å¶æ–¯-Naive-Bayes"><a href="#ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡ç”Ÿæˆæ¨¡å‹-æœ´ç´ è´å¶æ–¯-Naive-Bayes" class="headerlink" title="ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡ç”Ÿæˆæ¨¡å‹-æœ´ç´ è´å¶æ–¯ Naive Bayes"></a>ä¸¤åˆ†ç±»-è½¯åˆ†ç±»-æ¦‚ç‡ç”Ÿæˆæ¨¡å‹-æœ´ç´ è´å¶æ–¯ Naive Bayes</h2><p>ä¸Šé¢çš„é«˜æ–¯åˆ¤åˆ«åˆ†æçš„æ˜¯å¯¹æ•°æ®é›†çš„åˆ†å¸ƒä½œå‡ºäº†é«˜æ–¯åˆ†å¸ƒçš„å‡è®¾ï¼ŒåŒæ—¶å¼•å…¥ä¼¯åŠªåˆ©åˆ†å¸ƒä½œä¸ºç±»å…ˆéªŒï¼Œä»è€Œåˆ©ç”¨æœ€å¤§åéªŒæ±‚å¾—è¿™äº›å‡è®¾ä¸­çš„å‚æ•°ã€‚</p><p>æœ´ç´ è´å¶æ–¯é˜Ÿæ•°æ®çš„å±æ€§ä¹‹é—´çš„å…³ç³»ä½œå‡ºäº†å‡è®¾ï¼Œä¸€èˆ¬åœ°ï¼Œæˆ‘ä»¬æœ‰éœ€è¦å¾—åˆ° $p(x|y)$ è¿™ä¸ªæ¦‚ç‡å€¼ï¼Œç”±äº $x$ æœ‰ $p$ ä¸ªç»´åº¦ï¼Œå› æ­¤éœ€è¦å¯¹è¿™ä¹ˆå¤šçš„ç»´åº¦çš„è”åˆæ¦‚ç‡è¿›è¡Œé‡‡æ ·ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“è¿™ä¹ˆé«˜ç»´åº¦çš„ç©ºé—´ä¸­é‡‡æ ·éœ€è¦çš„æ ·æœ¬æ•°é‡éå¸¸å¤§æ‰èƒ½è·å¾—è¾ƒä¸ºå‡†ç¡®çš„æ¦‚ç‡è¿‘ä¼¼ã€‚</p><p>åœ¨ä¸€èˆ¬çš„æœ‰å‘æ¦‚ç‡å›¾æ¨¡å‹ä¸­ï¼Œå¯¹å„ä¸ªå±æ€§ç»´åº¦ä¹‹é—´çš„æ¡ä»¶ç‹¬ç«‹å…³ç³»ä½œå‡ºäº†ä¸åŒçš„å‡è®¾ï¼Œå…¶ä¸­æœ€ä¸ºç®€å•çš„ä¸€ä¸ªå‡è®¾å°±æ˜¯åœ¨æœ´ç´ è´å¶æ–¯æ¨¡å‹æè¿°ä¸­çš„æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾ã€‚<br>$$<br>p(x|y)&#x3D;\prod\limits_{i&#x3D;1}^pp(x_i|y)<br>$$<br>å³ï¼š<br>$$<br>x_i\perp x_j|y,\forall\  i\ne j<br>$$<br>äºæ˜¯åˆ©ç”¨è´å¶æ–¯å®šç†ï¼Œå¯¹äºå•æ¬¡è§‚æµ‹ï¼š<br>$$<br>p(y|x)&#x3D;\frac{p(x|y)p(y)}{p(x)}&#x3D;\frac{\prod\limits_{i&#x3D;1}^pp(x_i|y)p(y)}{p(x)}<br>$$<br>å¯¹äºå•ä¸ªç»´åº¦çš„æ¡ä»¶æ¦‚ç‡ä»¥åŠç±»å…ˆéªŒä½œå‡ºè¿›ä¸€æ­¥çš„å‡è®¾ï¼š</p><ol><li>$x_i$ ä¸ºè¿ç»­å˜é‡ï¼š$p(x_i|y)&#x3D;\mathcal{N}(\mu_i,\sigma_i^2)$</li><li>$x_i$ ä¸ºç¦»æ•£å˜é‡ï¼šç±»åˆ«åˆ†å¸ƒï¼ˆCategoricalï¼‰ï¼š$p(x_i&#x3D;i|y)&#x3D;\theta_i,\sum\limits_{i&#x3D;1}^K\theta_i&#x3D;1$</li><li>$p(y)&#x3D;\phi^y(1-\phi)^{1-y}$</li></ol><p>å¯¹è¿™äº›å‚æ•°çš„ä¼°è®¡ï¼Œå¸¸ç”¨ MLE çš„æ–¹æ³•ç›´æ¥åœ¨æ•°æ®é›†ä¸Šä¼°è®¡ï¼Œç”±äºä¸éœ€è¦çŸ¥é“å„ä¸ªç»´åº¦ä¹‹é—´çš„å…³ç³»ï¼Œå› æ­¤ï¼Œæ‰€éœ€æ•°æ®é‡å¤§å¤§å‡å°‘äº†ã€‚ä¼°ç®—å®Œè¿™äº›å‚æ•°ï¼Œå†ä»£å…¥è´å¶æ–¯å®šç†ä¸­å¾—åˆ°ç±»åˆ«çš„åéªŒåˆ†å¸ƒã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>åˆ†ç±»ä»»åŠ¡åˆ†ä¸ºä¸¤ç±»ï¼Œå¯¹äºéœ€è¦ç›´æ¥è¾“å‡ºç±»åˆ«çš„ä»»åŠ¡ï¼Œæ„ŸçŸ¥æœºç®—æ³•ä¸­æˆ‘ä»¬åœ¨çº¿æ€§æ¨¡å‹çš„åŸºç¡€ä¸ŠåŠ å…¥ç¬¦å·å‡½æ•°ä½œä¸ºæ¿€æ´»å‡½æ•°ï¼Œé‚£ä¹ˆå°±èƒ½å¾—åˆ°è¿™ä¸ªç±»åˆ«ï¼Œä½†æ˜¯ç¬¦å·å‡½æ•°ä¸å…‰æ»‘ï¼Œäºæ˜¯æˆ‘ä»¬é‡‡ç”¨é”™è¯¯é©±åŠ¨çš„æ–¹å¼ï¼Œå¼•å…¥ $\sum\limits_{x_i\in\mathcal{D}<em>{wrong}}-y_iw^Tx_i$ ä½œä¸ºæŸå¤±å‡½æ•°ï¼Œç„¶åæœ€å°åŒ–è¿™ä¸ªè¯¯å·®ï¼Œé‡‡ç”¨æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™çš„æ–¹æ³•æ¥è·å–æœ€ä½³çš„å‚æ•°å€¼ã€‚è€Œåœ¨çº¿æ€§åˆ¤åˆ«åˆ†æä¸­ï¼Œæˆ‘ä»¬å°†çº¿æ€§æ¨¡å‹çœ‹ä½œæ˜¯æ•°æ®ç‚¹åœ¨æŸä¸€ä¸ªæ–¹å‘çš„æŠ•å½±ï¼Œé‡‡ç”¨ç±»å†…å°ï¼Œç±»é—´å¤§çš„æ€è·¯æ¥å®šä¹‰æŸå¤±å‡½æ•°ï¼Œå…¶ä¸­ç±»å†…å°å®šä¹‰ä¸ºä¸¤ç±»æ•°æ®çš„æ–¹å·®ä¹‹å’Œï¼Œç±»é—´å¤§å®šä¹‰ä¸ºä¸¤ç±»æ•°æ®ä¸­å¿ƒç‚¹çš„é—´è·ï¼Œå¯¹æŸå¤±å‡½æ•°æ±‚å¯¼å¾—åˆ°å‚æ•°çš„æ–¹å‘ï¼Œè¿™ä¸ªæ–¹å‘å°±æ˜¯ $S_w^{-1}(\overline x</em>{c1}-\overline x_{c2})$ï¼Œå…¶ä¸­ $S_w$ ä¸ºåŸæ•°æ®é›†ä¸¤ç±»çš„æ–¹å·®ä¹‹å’Œã€‚</p><p>å¦ä¸€ç§ä»»åŠ¡æ˜¯è¾“å‡ºåˆ†ç±»çš„æ¦‚ç‡ï¼Œå¯¹äºæ¦‚ç‡æ¨¡å‹ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œç¬¬ä¸€ç§æ˜¯åˆ¤åˆ«æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥å¯¹ç±»åˆ«çš„æ¡ä»¶æ¦‚ç‡å»ºæ¨¡ï¼Œå°†çº¿æ€§æ¨¡å‹å¥—å…¥ Logistic å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº† Logistic å›å½’æ¨¡å‹ï¼Œè¿™é‡Œçš„æ¦‚ç‡è§£é‡Šæ˜¯ä¸¤ç±»çš„è”åˆæ¦‚ç‡æ¯”å€¼çš„å¯¹æ•°æ˜¯çº¿æ€§çš„ï¼Œæˆ‘ä»¬å®šä¹‰çš„æŸå¤±å‡½æ•°æ˜¯äº¤å‰ç†µï¼ˆç­‰ä»·äº MLEï¼‰ï¼Œå¯¹è¿™ä¸ªå‡½æ•°æ±‚å¯¼å¾—åˆ° $\frac{1}{N}\sum\limits_{i&#x3D;1}^N(y_i-p_1)x_i$ï¼ŒåŒæ ·åˆ©ç”¨æ‰¹é‡éšæœºæ¢¯åº¦ï¼ˆä¸Šå‡ï¼‰çš„æ–¹æ³•è¿›è¡Œä¼˜åŒ–ã€‚ç¬¬äºŒç§æ˜¯ç”Ÿæˆæ¨¡å‹ï¼Œç”Ÿæˆæ¨¡å‹å¼•å…¥äº†ç±»åˆ«çš„å…ˆéªŒï¼Œåœ¨é«˜æ–¯åˆ¤åˆ«åˆ†æä¸­ï¼Œæˆ‘ä»¬å¯¹æ•°æ®é›†çš„æ•°æ®åˆ†å¸ƒä½œå‡ºäº†å‡è®¾ï¼Œå…¶ä¸­ç±»å…ˆéªŒæ˜¯äºŒé¡¹åˆ†å¸ƒï¼Œè€Œæ¯ä¸€ç±»çš„ä¼¼ç„¶æ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œå¯¹è¿™ä¸ªè”åˆåˆ†å¸ƒçš„å¯¹æ•°ä¼¼ç„¶è¿›è¡Œæœ€å¤§åŒ–å°±å¾—åˆ°äº†å‚æ•°ï¼Œ $\frac{\sum\limits_{i&#x3D;1}^Ny_ix_i}{N_1},\frac{\sum\limits_{i&#x3D;1}^N(1-y_i)x_i}{N_0},\frac{N_1S_1+N_2S_2}{N},\frac{N_1}{N}$ã€‚åœ¨æœ´ç´ è´å¶æ–¯ä¸­ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å¯¹å±æ€§çš„å„ä¸ªç»´åº¦ä¹‹é—´çš„ä¾èµ–å…³ç³»ä½œå‡ºå‡è®¾ï¼Œæ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾å¤§å¤§å‡å°‘äº†æ•°æ®é‡çš„éœ€æ±‚ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æ•°å­¦å¼•å…¥</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/Intro_Math/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/Intro_Math/</url>
    
    <content type="html"><![CDATA[<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>å¯¹æ¦‚ç‡çš„è¯ é‡Šæœ‰ä¸¤å¤§å­¦æ´¾ï¼Œä¸€ç§æ˜¯é¢‘ç‡æ´¾å¦ä¸€ç§æ˜¯è´å¶æ–¯æ´¾ã€‚åé¢æˆ‘ä»¬å¯¹è§‚æµ‹é›†é‡‡ç”¨ä¸‹é¢è®°å·ï¼š<br>$$<br>\mathcal{X}<em>{N\times p}&#x3D;(x</em>{1},x_{2},\cdots,x_{N})^{T},x_{i}&#x3D;(x_{i1},x_{i2},\cdots,x_{ip})^{T}<br>$$<br> è¿™ä¸ªè®°å·è¡¨ç¤ºæœ‰ $N$ ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬éƒ½æ˜¯ $p$ ç»´å‘é‡ã€‚å…¶ä¸­æ¯ä¸ªè§‚æµ‹éƒ½æ˜¯ç”± $p(x|\theta)$ ç”Ÿæˆçš„ã€‚</p><h2 id="é¢‘ç‡æ´¾çš„è§‚ç‚¹"><a href="#é¢‘ç‡æ´¾çš„è§‚ç‚¹" class="headerlink" title="é¢‘ç‡æ´¾çš„è§‚ç‚¹"></a>é¢‘ç‡æ´¾çš„è§‚ç‚¹</h2><p>$p(x|\theta)$ä¸­çš„ $\theta$ æ˜¯ä¸€ä¸ªæœªçŸ¥å¸¸é‡ï¼Œ$x$æ˜¯ä¸€ä¸ªéšæœºå˜é‡ã€‚å¯¹äº $N$ ä¸ªè§‚æµ‹æ¥è¯´è§‚æµ‹é›†çš„æ¦‚ç‡ä¸º $p(\mathcal{X}|\theta)\mathop{&#x3D;}\limits <em>{i.i.d}\prod\limits <em>{i&#x3D;1}^{N}p(x</em>{i}|\theta))$ ã€‚$i.i.d$æŒ‡çš„æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒ Indentical Independent Distributionã€‚ä¸ºäº†æ±‚ $\theta$ çš„å¤§å°ï¼Œæˆ‘ä»¬é‡‡ç”¨å¯¹æ•°ä¼°è®¡MLEçš„æ–¹æ³•ï¼š<br>$$<br>\begin{equation}<br>    \begin{split}<br>    \theta</em>{MLE}&amp;&#x3D;\mathop{argmax}\limits _{\theta}\log p(\mathcal{X}|\theta) \<br>    &amp;\mathop{&#x3D;}\limits _{i.i.d}\mathop{argmax}\limits _{\theta}\log \prod\limits <em>{i&#x3D;1}^{N}p(x</em>{i}|\theta) \<br>    &amp;\mathop{&#x3D;}\mathop{argmax}\limits _{\theta}\sum\limits <em>{i&#x3D;1}^{N}\log p(x</em>{i}|\theta)<br>    \end{split}<br>\end{equation}<br>$$<br>è¿ä¹˜ä¼šå¯¼è‡´ä¸‹é™æº¢å‡ºï¼Œæ‰€ä»¥ç”¨å¯¹æ•°å°†è¿ä¹˜è½¬åŒ–æˆè¿åŠ ã€‚</p><h2 id="è´å¶æ–¯æ´¾çš„è§‚ç‚¹"><a href="#è´å¶æ–¯æ´¾çš„è§‚ç‚¹" class="headerlink" title="è´å¶æ–¯æ´¾çš„è§‚ç‚¹"></a>è´å¶æ–¯æ´¾çš„è§‚ç‚¹</h2><p>è´å¶æ–¯æ´¾åˆ™è®¤ä¸º $p(x|\theta)$ ä¸­çš„ $\theta$ ä¸æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚è¿™ä¸ª $\theta$ æ»¡è¶³ä¸€ä¸ªé¢„è®¾çš„å…ˆéªŒçš„åˆ†å¸ƒ $\theta\sim p(\theta)$ ã€‚äºæ˜¯æ ¹æ®è´å¶æ–¯å®šç†ä¾èµ–è§‚æµ‹é›†å‚æ•°çš„åéªŒå¯ä»¥å†™æˆï¼š</p><p>$$<br>p(\theta|\mathcal{X})&#x3D;\frac{p(\mathcal{X}|\theta)\cdot p(\theta)}{p(\mathcal{X})}&#x3D;\frac{p(\mathcal{X}|\theta)\cdot p(\theta)}{\int\limits _{\theta}p(\mathcal{X}|\theta)\cdot p(\theta)d\theta}\propto p(\mathcal{X}|\theta)\cdot p(\theta)<br>$$<br>ä¸ºäº†æ±‚ $\theta$ çš„å€¼ï¼Œæˆ‘ä»¬è¦æœ€å¤§åŒ–è¿™ä¸ªå‚æ•°åéªŒMAP Maximum Posteriori Estimationï¼š</p><p>$$<br>\theta_{MAP}&#x3D;\mathop{argmax}\limits _{\theta}p(\theta|\mathcal{X})\propto\mathop{argmax}\limits _{\theta}p(\mathcal{X}|\theta)\cdot p(\theta)<br>$$<br>å…¶ä¸­ç¬¬äºŒä¸ªç­‰å·æ˜¯ç”±äºåˆ†æ¯å’Œ $\theta$ æ²¡æœ‰å…³ç³»ã€‚æ±‚è§£è¿™ä¸ª $\theta$ å€¼åè®¡ç®—$\frac{p(\mathcal{X}|\theta)\cdot p(\theta)}{\int\limits <em>{\theta}p(\mathcal{X}|\theta)\cdot p(\theta)d\theta}$ ï¼Œå°±å¾—åˆ°äº†å‚æ•°çš„åéªŒæ¦‚ç‡ã€‚å…¶ä¸­ $p(\mathcal{X}|\theta)$ å«ä¼¼ç„¶ï¼Œæ˜¯æˆ‘ä»¬çš„æ¨¡å‹åˆ†å¸ƒã€‚å¾—åˆ°äº†å‚æ•°çš„åéªŒåˆ†å¸ƒåï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªåˆ†å¸ƒç”¨äºé¢„æµ‹è´å¶æ–¯é¢„æµ‹ï¼š<br>$$<br>p(x</em>{new}|\mathcal{X})&#x3D;\int\limits <em>{\theta}p(x</em>{new}|\theta)\cdot p(\theta|\mathcal{X})d\theta<br>$$<br> å…¶ä¸­ç§¯åˆ†ä¸­çš„è¢«ä¹˜æ•°æ˜¯æ¨¡å‹ï¼Œä¹˜æ•°æ˜¯åéªŒåˆ†å¸ƒã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>é¢‘ç‡æ´¾å’Œè´å¶æ–¯æ´¾åˆ†åˆ«ç»™å‡ºäº†ä¸€ç³»åˆ—çš„æœºå™¨å­¦ä¹ ç®—æ³•ã€‚é¢‘ç‡æ´¾çš„è§‚ç‚¹å¯¼å‡ºäº†ä¸€ç³»åˆ—çš„ç»Ÿè®¡æœºå™¨å­¦ä¹ ç®—æ³•è€Œè´å¶æ–¯æ´¾å¯¼å‡ºäº†æ¦‚ç‡å›¾ç†è®ºã€‚åœ¨åº”ç”¨é¢‘ç‡æ´¾çš„ MLE æ–¹æ³•æ—¶<strong>æœ€ä¼˜åŒ–ç†è®º</strong>å æœ‰é‡è¦åœ°ä½ã€‚è€Œè´å¶æ–¯æ´¾çš„ç®—æ³•æ— è®ºæ˜¯åéªŒæ¦‚ç‡çš„å»ºæ¨¡è¿˜æ˜¯åº”ç”¨è¿™ä¸ªåéªŒè¿›è¡Œæ¨æ–­æ—¶<strong>ç§¯åˆ†</strong>å æœ‰é‡è¦åœ°ä½ã€‚å› æ­¤é‡‡æ ·ç§¯åˆ†æ–¹æ³•å¦‚Monte Carlo Method ã€Bayes Predictionç­‰å¾ˆå¤šæ–¹é¢åº”ç”¨ã€‚</p><h1 id="Math-Basics"><a href="#Math-Basics" class="headerlink" title="Math Basics"></a>Math Basics</h1><h2 id="é«˜æ–¯åˆ†å¸ƒ"><a href="#é«˜æ–¯åˆ†å¸ƒ" class="headerlink" title="é«˜æ–¯åˆ†å¸ƒ"></a>é«˜æ–¯åˆ†å¸ƒ</h2><h3 id="ä¸€ç»´æƒ…å†µ-MLE-Maximum-Likelihood-Estimation"><a href="#ä¸€ç»´æƒ…å†µ-MLE-Maximum-Likelihood-Estimation" class="headerlink" title="ä¸€ç»´æƒ…å†µ MLE: Maximum Likelihood Estimation"></a>ä¸€ç»´æƒ…å†µ MLE: Maximum Likelihood Estimation</h3><p>é«˜æ–¯åˆ†å¸ƒåœ¨æœºå™¨å­¦ä¹ ä¸­å æœ‰ä¸¾è¶³è½»é‡çš„ä½œç”¨ã€‚åœ¨ MLE æ–¹æ³•ä¸­ï¼š</p><p>$$<br>\theta&#x3D;(\mu,\Sigma)&#x3D;(\mu,\sigma^{2}),x_i \stackrel{i.i.d}{\longrightarrow} p(x|\theta),\ \theta_{MLE}&#x3D;\mathop{argmax}\limits _{\theta}\log p(X|\theta)\mathop{&#x3D;}\limits _{i.i.d}\mathop{argmax}\limits _{\theta}\sum\limits <em>{i&#x3D;1}^{N}\log p(x</em>{i}|\theta)<br>$$<br>ä¸€èˆ¬åœ°ï¼Œé«˜æ–¯åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•° PDFï¼ˆProbability Density Functionï¼‰å†™ä¸ºï¼š</p><p>$$<br>p(x|\mu,\Sigma)&#x3D;\frac{1}{(2\pi)^{p&#x2F;2}|\Sigma|^{1&#x2F;2}}e^{-\frac{1}{2}(x-\mu)^{T}\Sigma^{-1}(x-\mu)}<br>$$<br>å¸¦å…¥ MLE ä¸­æˆ‘ä»¬è€ƒè™‘ä¸€ç»´çš„æƒ…å†µ</p><p>$$<br>\log p(X|\theta)&#x3D;\sum\limits <em>{i&#x3D;1}^{N}\log p(x</em>{i}|\theta)&#x3D;\sum\limits <em>{i&#x3D;1}^{N}\log\frac{1}{\sqrt{2\pi}\sigma}\exp(\frac{-(x</em>{i}-\mu)^{2}}{2\sigma^{2}})<br>$$<br>é¦–å…ˆå¯¹ $\mu$ çš„æå€¼å¯ä»¥å¾—åˆ° ï¼š<br>$$<br>\mu_{MLE}&#x3D;\mathop{argmax}\limits <em>{\mu}\log p(X|\theta)&#x3D;\mathop{argmax}\limits <em>{\mu}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu)^{2}<br>$$<br> äºæ˜¯ï¼š<br>$$<br>\frac{\partial}{\partial\mu}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu)^{2}&#x3D;0\longrightarrow\mu</em>{MLE}&#x3D;\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}<br>$$<br>å…¶æ¬¡å¯¹ $\theta$ ä¸­çš„å¦ä¸€ä¸ªå‚æ•° $\sigma$ ï¼Œæœ‰ï¼š<br>$$<br>\begin{align}<br>\sigma</em>{MLE}&#x3D;\mathop{argmax}\limits <em>{\sigma}\log p(X|\theta)&amp;&#x3D;\mathop{argmax}\limits <em>{\sigma}\sum\limits <em>{i&#x3D;1}^{N}[-\log\sigma-\frac{1}{2\sigma^{2}}(x</em>{i}-\mu)^{2}]\nonumber\<br>&amp;&#x3D;\mathop{argmin}\limits <em>{\sigma}\sum\limits <em>{i&#x3D;1}^{N}[\log\sigma+\frac{1}{2\sigma^{2}}(x</em>{i}-\mu)^{2}]<br>\end{align}<br>$$<br>äºæ˜¯ï¼š<br>$$<br>\frac{\partial}{\partial\sigma}\sum\limits <em>{i&#x3D;1}^{N}[\log\sigma+\frac{1}{2\sigma^{2}}(x</em>{i}-\mu)^{2}]&#x3D;0\longrightarrow\sigma</em>{MLE}^{2}&#x3D;\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu)^{2}<br>$$<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢çš„æ¨å¯¼ä¸­ï¼Œé¦–å…ˆå¯¹ $\mu$ æ±‚ MLEï¼Œ ç„¶ååˆ©ç”¨è¿™ä¸ªç»“æœæ±‚ $\sigma</em>{MLE}$ ï¼Œå› æ­¤å¯ä»¥é¢„æœŸçš„æ˜¯å¯¹æ•°æ®é›†æ±‚æœŸæœ›æ—¶ $\mathbb{E}</em>{\mathcal{D}}[\mu_{MLE}]$ æ˜¯æ— åå·®çš„ï¼š<br>$$<br>\mathbb{E}<em>{\mathcal{D}}[\mu</em>{MLE}]&#x3D;\mathbb{E}<em>{\mathcal{D}}[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}]&#x3D;\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}\mathbb{E}</em>{\mathcal{D}}[x</em>{i}]&#x3D;\mu<br>$$<br>ä½†æ˜¯å½“å¯¹ $\sigma_{MLE}$ æ±‚ æœŸæœ›çš„æ—¶å€™ç”±äºä½¿ç”¨äº†å•ä¸ªæ•°æ®é›†çš„ $\mu_{MLE}$ï¼Œå› æ­¤å¯¹æ‰€æœ‰æ•°æ®é›†æ±‚æœŸæœ›çš„æ—¶å€™æˆ‘ä»¬ä¼šå‘ç° $\sigma_{MLE}$ æ˜¯ æœ‰åçš„ï¼š</p><p>$$<br>\begin{align}<br>\mathbb{E}<em>{\mathcal{D}}[\sigma</em>{MLE}^{2}]&amp;&#x3D;\mathbb{E}<em>{\mathcal{D}}[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu</em>{MLE})^{2}]&#x3D;\mathbb{E}<em>{\mathcal{D}}[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}^{2}-2x</em>{i}\mu_{MLE}+\mu_{MLE}^{2})\nonumber<br>\&amp;&#x3D;\mathbb{E}<em>{\mathcal{D}}[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}^{2}-\mu</em>{MLE}^{2}]&#x3D;\mathbb{E}<em>{\mathcal{D}}[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}^{2}-\mu^{2}+\mu^{2}-\mu</em>{MLE}^{2}]\nonumber\<br>&amp;&#x3D; \mathbb{E}<em>{\mathcal{D}}[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}^{2}-\mu^{2}]-\mathbb{E}</em>{\mathcal{D}}[\mu_{MLE}^{2}-\mu^{2}]&#x3D;\sigma^{2}-(\mathbb{E}<em>{\mathcal{D}}[\mu</em>{MLE}^{2}]-\mu^{2})\nonumber\&amp;&#x3D;\sigma^{2}-(\mathbb{E}<em>{\mathcal{D}}[\mu</em>{MLE}^{2}]-\mathbb{E}<em>{\mathcal{D}}^{2}[\mu</em>{MLE}])&#x3D;\sigma^{2}-Var[\mu_{MLE}]\nonumber\&amp;&#x3D;\sigma^{2}-Var[\frac{1}{N}\sum\limits <em>{i&#x3D;1}^{N}x</em>{i}]&#x3D;\sigma^{2}-\frac{1}{N^{2}}\sum\limits <em>{i&#x3D;1}^{N}Var[x</em>{i}]&#x3D;\frac{N-1}{N}\sigma^{2}<br>\end{align}<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\hat{\sigma}^{2}&#x3D;\frac{1}{N-1}\sum\limits <em>{i&#x3D;1}^{N}(x</em>{i}-\mu)^{2}<br>$$</p><h3 id="å¤šç»´æƒ…å†µ"><a href="#å¤šç»´æƒ…å†µ" class="headerlink" title="å¤šç»´æƒ…å†µ"></a>å¤šç»´æƒ…å†µ</h3><p>å¤šç»´é«˜æ–¯åˆ†å¸ƒè¡¨è¾¾å¼ä¸ºï¼š<br>$$<br>p(x|\mu,\Sigma)&#x3D;\frac{1}{(2\pi)^{p&#x2F;2}|\Sigma|^{1&#x2F;2}}e^{-\frac{1}{2}(x-\mu)^{T}\Sigma^{-1}(x-\mu)}<br>$$<br>å…¶ä¸­ $x,\mu\in\mathbb{R}^{p},\Sigma\in\mathbb{R}^{p\times p}$ ï¼Œ$\mu $æ˜¯æœŸæœ›,$\Sigma$ ä¸ºåæ–¹å·®çŸ©é˜µï¼Œä¸€èˆ¬è€Œè¨€ä¹Ÿæ˜¯åŠæ­£å®šçŸ©é˜µã€‚è¿™é‡Œæˆ‘ä»¬åªè€ƒè™‘æ­£å®šçŸ©é˜µ,ä»¥æ–¹ä¾¿è®¡ç®—ã€‚é¦–å…ˆæˆ‘ä»¬å¤„ç†æŒ‡æ•°ä¸Šçš„æ•°å­—ï¼ŒæŒ‡æ•°ä¸Šçš„æ•°å­—å¯ä»¥è®°ä¸º $x$ å’Œ $\mu$ ä¹‹é—´çš„é©¬æ°è·ç¦»ã€‚å¯¹äºå¯¹ç§°çš„åæ–¹å·®çŸ©é˜µå¯è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼Œ$\Sigma&#x3D;U\Lambda U^{T}&#x3D;(u_{1},u_{2},\cdots,u_{p})diag(\lambda_{i})(u_{1},u_{2},\cdots,u_{p})^{T}&#x3D;\sum\limits <em>{i&#x3D;1}^{p}u</em>{i}\lambda_{i}u_{i}^{T}$ ï¼Œäºæ˜¯ï¼š</p><p>$$<br>\Sigma^{-1}&#x3D;{(U\Lambda U^{T})}^{-1}&#x3D;U{\Lambda}^{-1} U^{T}&#x3D;\sum\limits <em>{i&#x3D;1}^{p}u</em>{i}\frac{1}{\lambda_{i}}u_{i}^{T}<br>$$</p><p>$$<br>\begin{align}<br>\Delta &amp;&#x3D;(x-\mu)^{T}\Sigma^{-1}(x-\mu)\<br>&amp;&#x3D;\sum\limits <em>{i&#x3D;1}^{p}(x-\mu)^{T}u</em>{i}\frac{1}{\lambda_{i}}u_{i}^{T}(x-\mu)\<br>&amp;&#x3D;\sum\limits <em>{i&#x3D;1}^{p}\frac{ { [(x-u)^{T}u_i] }^{2} }{\lambda</em>{i} }&#x3D;\sum\limits <em>{i&#x3D;1}^{p}\frac{ y</em>{i}^{2} }{\lambda_{i} }<br>\end{align}<br>$$</p><p>æˆ‘ä»¬æ³¨æ„åˆ° $y_{i}$ æ˜¯ $x-\mu$ åœ¨ç‰¹å¾å‘é‡ $u_{i}$ ä¸Šçš„æŠ•å½±é•¿åº¦ï¼Œç›¸å½“äºæ˜¯åæ ‡è½´çš„å¹³ç§»ä¸æ—‹è½¬ã€‚å› æ­¤ä¸Šå¼å­å°±æ˜¯ $\Delta$ å–ä¸åŒå€¼æ—¶çš„åŒå¿ƒæ¤­åœ†ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬çœ‹å¤šç»´é«˜æ–¯æ¨¡å‹åœ¨å®é™…åº”ç”¨æ—¶çš„ä¸¤ä¸ªé—®é¢˜</p><ol><li><p>å‚æ•° $\Sigma,\mu$ çš„è‡ªç”±åº¦ä¸º $O(p^{2})$ å¯¹äºç»´åº¦å¾ˆé«˜çš„æ•°æ®å…¶è‡ªç”±åº¦å¤ªé«˜ã€‚è§£å†³æ–¹æ¡ˆï¼šé«˜è‡ªç”±åº¦çš„æ¥æºæ˜¯ $\Sigma$ æœ‰ $\frac{p(p+1)}{2}$ ä¸ªè‡ªç”±å‚æ•°ï¼Œå¯ä»¥å‡è®¾å…¶æ˜¯å¯¹è§’çŸ©é˜µï¼Œç”šè‡³åœ¨å„å‘åŒæ€§å‡è®¾ä¸­å‡è®¾å…¶å¯¹è§’çº¿ä¸Šçš„å…ƒç´ éƒ½ç›¸åŒã€‚å‰ä¸€ç§çš„ç®—æ³•æœ‰ Factor Analysisï¼Œåä¸€ç§æœ‰æ¦‚ç‡ PCA: Principal Component Analysis(p-PCA) ã€‚</p><p>$\forall i,j \in 1 \cdots p,i\neq j,\lambda_{i}&#x3D;\lambda_{j},\Sigma$ä¸ºå¯¹è§’çŸ©é˜µ,å¯åˆ¤å®šå„ç‰¹å¾<strong>å„è‡ªåŒæ€§</strong>ã€‚</p></li><li><p>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯å•ä¸ªé«˜æ–¯åˆ†å¸ƒæ˜¯å•å³°çš„ï¼Œå¯¹æœ‰å¤šä¸ªå³°çš„æ•°æ®åˆ†å¸ƒä¸èƒ½å¾—åˆ°å¥½çš„ç»“æœã€‚è§£å†³æ–¹æ¡ˆï¼šé«˜æ–¯æ··åˆæ¨¡å‹ GMMã€‚</p></li></ol><p>ä¸‹é¢å¯¹å¤šç»´é«˜æ–¯åˆ†å¸ƒçš„å¸¸ç”¨å®šç†è¿›è¡Œä»‹ç»ã€‚</p><p>æˆ‘ä»¬è®° $x&#x3D;(x_1, x_2,\cdots,x_p)^T&#x3D;(x_{a,m\times 1}, x_{b,n\times1})^T,\mu&#x3D;(\mu_{a,m\times1}, \mu_{b,n\times1})^{T},\Sigma&#x3D;\begin{pmatrix}\Sigma_{aa}&amp;\Sigma_{ab}\\Sigma_{ba}&amp;\Sigma_{bb}\end{pmatrix}$ï¼Œå·²çŸ¥ $x\sim\mathcal{N}(\mu,\Sigma)$ã€‚</p><p>é¦–å…ˆæ˜¯ä¸€ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å®šç†ï¼š&#96;</p><blockquote><p>  å®šç†ï¼šå·²çŸ¥ $x\sim\mathcal{N}(\mu,\Sigma), y\sim Ax+b$ï¼Œé‚£ä¹ˆ $y\sim\mathcal{N}(A\mu+b, A\Sigma A^T)$ã€‚</p><p>  è¯æ˜ï¼š$\mathbb{E}[y]&#x3D;\mathbb{E}[Ax+b]&#x3D;A\mathbb{E}[x]+b&#x3D;A\mu+b$ï¼Œ$Var[y]&#x3D;Var[Ax+b]&#x3D;Var[Ax]&#x3D;A\cdot Var[x]\cdot A^T$ã€‚</p></blockquote><p>ä¸‹é¢åˆ©ç”¨è¿™ä¸ªå®šç†å¾—åˆ° $p(x_a),p(x_b),p(x_a|x_b),p(x_b|x_a)$ è¿™å››ä¸ªé‡ã€‚</p><ol><li><p>$x_a&#x3D;\begin{pmatrix}\mathbb{I}<em>{m\times m}&amp;\mathbb{O}</em>{m\times n})\end{pmatrix}\begin{pmatrix}x_a\x_b\end{pmatrix}$ï¼Œä»£å…¥å®šç†ä¸­å¾—åˆ°ï¼š<br>$$<br>\mathbb{E}[x_a]&#x3D;\begin{pmatrix}\mathbb{I}&amp;\mathbb{O}\end{pmatrix}\begin{pmatrix}\mu_a\\mu_b\end{pmatrix}&#x3D;\mu_a\<br>Var[x_a]&#x3D;\begin{pmatrix}\mathbb{I}&amp;\mathbb{O}\end{pmatrix}\begin{pmatrix}\Sigma_{aa}&amp;\Sigma_{ab}\\Sigma_{ba}&amp;\Sigma_{bb}\end{pmatrix}\begin{pmatrix}\mathbb{I}\\mathbb{O}\end{pmatrix}&#x3D;\Sigma_{aa}<br>$$<br>æ‰€ä»¥ $x_a\sim\mathcal{N}(\mu_a,\Sigma_{aa})$ã€‚</p></li><li><p>åŒæ ·çš„ï¼Œ$x_b\sim\mathcal{N}(\mu_b,\Sigma_{bb})$ã€‚</p></li><li><p>å¯¹äºä¸¤ä¸ªæ¡ä»¶æ¦‚ç‡ï¼Œæˆ‘ä»¬å¼•å…¥ä¸‰ä¸ªé‡ï¼š<br>$$<br>x_{b\cdot a}&#x3D;x_b-\Sigma_{ba}\Sigma_{aa}^{-1}x_a\<br>\mu_{b\cdot a}&#x3D;\mu_b-\Sigma_{ba}\Sigma_{aa}^{-1}\mu_a\<br>\Sigma_{bb\cdot a}&#x3D;\Sigma_{bb}-\Sigma_{ba}\Sigma_{aa}^{-1}\Sigma_{ab}<br>$$<br>ç‰¹åˆ«çš„ï¼Œæœ€åä¸€ä¸ªå¼å­å«åš $\Sigma_{bb}$ çš„ Schur Complementaryã€‚å¯ä»¥çœ‹åˆ°ï¼š<br>$$<br>x_{b\cdot a}&#x3D;\begin{pmatrix}-\Sigma_{ba}\Sigma_{aa}^{-1}&amp;\mathbb{I}<em>{n\times n}\end{pmatrix}\begin{pmatrix}x_a\x_b\end{pmatrix}<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\mathbb{E}[x</em>{b\cdot a}]&#x3D;\begin{pmatrix}-\Sigma_{ba}\Sigma_{aa}^{-1}&amp;\mathbb{I}<em>{n\times n}\end{pmatrix}\begin{pmatrix}\mu_a\\mu_b\end{pmatrix}&#x3D;\mu</em>{b\cdot a}\<br>Var[x_{b\cdot a}]&#x3D;\begin{pmatrix}-\Sigma_{ba}\Sigma_{aa}^{-1}&amp;\mathbb{I}<em>{n\times n}\end{pmatrix}\begin{pmatrix}\Sigma</em>{aa}&amp;\Sigma_{ab}\\Sigma_{ba}&amp;\Sigma_{bb}\end{pmatrix}\begin{pmatrix}-\Sigma_{aa}^{-1}\Sigma_{ba}^T\\mathbb{I}<em>{n\times n}\end{pmatrix}&#x3D;\Sigma</em>{bb\cdot a}<br>$$<br>åˆ©ç”¨è¿™ä¸‰ä¸ªé‡å¯ä»¥å¾—åˆ° $x_b&#x3D;x_{b\cdot a}+\Sigma_{ba}\Sigma_{aa}^{-1}x_a$ã€‚å› æ­¤ï¼š<br>$$<br>\mathbb{E}[x_b|x_a]&#x3D;\mu_{b\cdot a}+\Sigma_{ba}\Sigma_{aa}^{-1}x_a<br>$$</p><p>$$<br>Var[x_b|x_a]&#x3D;\Sigma_{bb\cdot a}<br>$$</p><p>è¿™é‡ŒåŒæ ·ç”¨åˆ°äº†å®šç†ã€‚</p></li><li><p>åŒæ ·ï¼š<br>$$<br>x_{a\cdot b}&#x3D;x_a-\Sigma_{ab}\Sigma_{bb}^{-1}x_b\<br>\mu_{a\cdot b}&#x3D;\mu_a-\Sigma_{ab}\Sigma_{bb}^{-1}\mu_b\<br>\Sigma_{aa\cdot b}&#x3D;\Sigma_{aa}-\Sigma_{ab}\Sigma_{bb}^{-1}\Sigma_{ba}<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\mathbb{E}[x_a|x_b]&#x3D;\mu_{a\cdot b}+\Sigma_{ab}\Sigma_{bb}^{-1}x_b<br>$$</p><p>$$<br>Var[x_a|x_b]&#x3D;\Sigma_{aa\cdot b}<br>$$</p></li></ol><p>ä¸‹é¢åˆ©ç”¨ä¸Šè¾¹å››ä¸ªé‡ï¼Œæ±‚è§£çº¿æ€§æ¨¡å‹ï¼š</p><blockquote><p>  å·²çŸ¥ï¼š$p(x)&#x3D;\mathcal{N}(\mu,\Lambda^{-1}),p(y|x)&#x3D;\mathcal{N}(Ax+b,L^{-1})$ï¼Œæ±‚è§£ï¼š$p(y),p(x|y)$ã€‚</p><p>  è§£ï¼šä»¤ $y&#x3D;Ax+b+\epsilon,\epsilon\sim\mathcal{N}(0,L^{-1})$ï¼Œæ‰€ä»¥ $\mathbb{E}[y]&#x3D;\mathbb{E}[Ax+b+\epsilon]&#x3D;A\mu+b$ï¼Œ$Var[y]&#x3D;A \Lambda^{-1}A^T+L^{-1}$ï¼Œå› æ­¤ï¼š<br>  $$<br>  p(y)&#x3D;\mathcal{N}(A\mu+b,L^{-1}+A\Lambda^{-1}A^T)<br>  $$<br>  å¼•å…¥ $z&#x3D;\begin{pmatrix}x\y\end{pmatrix}$ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° $Cov[x,y]&#x3D;\mathbb{E}[(x-\mathbb{E}[x])(y-\mathbb{E}[y])^T]$ã€‚å¯¹äºè¿™ä¸ªåæ–¹å·®å¯ä»¥ç›´æ¥è®¡ç®—ï¼š<br>  $$<br>  \begin{align}<br>  Cov(x,y)&amp;&#x3D;\mathbb{E}[(x-\mu)(Ax-A\mu+\epsilon)^T]\ &amp;&#x3D;\mathbb{E}[(x-\mu)(x-\mu)^TA^T]\<br>  &amp;&#x3D;Var[x]A^T&#x3D;\Lambda^{-1}A^T<br>  \end{align}<br>  $$<br>  æ³¨æ„åˆ°åæ–¹å·®çŸ©é˜µçš„å¯¹ç§°æ€§ï¼Œæ‰€ä»¥ $p(z)&#x3D;\mathcal{N}\begin{pmatrix}\mu\A\mu+b\end{pmatrix},\begin{pmatrix}\Lambda^{-1}&amp;\Lambda^{-1}A^T\A\Lambda^{-1}&amp;L^{-1}+A\Lambda^{-1}A^T\end<br>  {pmatrix}$ã€‚æ ¹æ®ä¹‹å‰çš„å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š<br>  $$<br>  \mathbb{E}[x|y]&#x3D;\mu+\Lambda^{-1}A^T(L^{-1}+A\Lambda^{-1}A^T)^{-1}(y-A\mu-b)<br>  $$</p><p>  $$<br>  Var[x|y]&#x3D;\Lambda^{-1}-\Lambda^{-1}A^T(L^{-1}+A\Lambda^{-1}A^T)^{-1}A\Lambda^{-1}<br>  $$</p></blockquote><p>è¿™é‡Œçš„$\Lambda^{-1}$æ˜¯ç²¾åº¦çŸ©é˜µï¼Œ$\mathit{L}^{-1}$æ˜¯åæ–¹å·®çŸ©é˜µã€‚</p><p>Precision matrix &#x3D; Covariance matrix ^ {-1}</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æ€»ç»“</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/cheatsheet/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/cheatsheet/</url>
    
    <content type="html"><![CDATA[<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2><ol><li><p>MLE<br>$$<br>\theta_{MLE}&#x3D;\mathop{argmax}\limits _{\theta}\log p(X|\theta)\mathop{&#x3D;}\limits _{iid}\mathop{argmax}\limits _{\theta}\sum\limits <em>{i&#x3D;1}^{N}\log p(x</em>{i}|\theta)<br>$$</p></li><li><p>MAP<br>$$<br>\theta_{MAP}&#x3D;\mathop{argmax}\limits _{\theta} \  p(\theta|X)&#x3D;\mathop{argmax}\limits _{\theta}\  p(X|\theta)\cdot p(\theta)<br>$$</p></li><li><p>Gaussian Distribution<br>$$<br>\begin{align}&amp;p(x|\mu,\Sigma)&#x3D;\frac{1}{(2\pi)^{p&#x2F;2}|\Sigma|^{1&#x2F;2}}e^{-\frac{1}{2}(x-\mu)^{T}\Sigma^{-1}(x-\mu)}\<br>&amp;\Delta&#x3D;(x-\mu)^{T}\Sigma^{-1}(x-\mu)&#x3D;\sum\limits <em>{i&#x3D;1}^{p}(x-\mu)^{T}u</em>{i}\frac{1}{\lambda_{i}}u_{i}^{T}(x-\mu)&#x3D;\sum\limits <em>{i&#x3D;1}^{p}\frac{y</em>{i}^{2}}{\lambda_{i}}<br>\end{align}<br>$$</p></li><li><p>å·²çŸ¥ $x\sim\mathcal{N}(\mu,\Sigma), y\sim Ax+b$ï¼Œæœ‰ï¼š<br>$$<br>\begin{align}y\sim\mathcal{N}(A\mu+b, A\Sigma A^T)<br>\end{align}<br>$$</p></li><li><p>è®° $x&#x3D;(x_1, x_2,\cdots,x_p)^T&#x3D;(x_{a,m\times 1}, x_{b,n\times1})^T,\mu&#x3D;(\mu_{a,m\times1}, \mu_{b,n\times1}),\Sigma&#x3D;\begin{pmatrix}\Sigma_{aa}&amp;\Sigma_{ab}\\Sigma_{ba}&amp;\Sigma_{bb}\end{pmatrix}$ï¼Œå·²çŸ¥ $x\sim\mathcal{N}(\mu,\Sigma)$ï¼Œåˆ™ï¼š<br>$$<br>\begin{align}&amp;x_a\sim\mathcal{N}(\mu_a,\Sigma_{aa})\<br>&amp;x_b|x_a\sim\mathcal{N}(\mu_{b|a},\Sigma_{b|a})\<br>&amp;\mu_{b|a}&#x3D;\Sigma_{ba}\Sigma_{aa}^{-1}(x_a-\mu_a)+\mu_b\<br>&amp;\Sigma_{b|a}&#x3D;\Sigma_{bb}-\Sigma_{ba}\Sigma_{aa}^{-1}\Sigma_{ab}<br>\end{align}<br>$$</p></li></ol><h2 id="Linear-Regression"><a href="#Linear-Regression" class="headerlink" title="Linear Regression"></a>Linear Regression</h2><h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><ol><li><p>Dataset:<br>$$<br>\mathcal{D}&#x3D;{(x_1, y_1),(x_2, y_2),\cdots,(x_N, y_N)}<br>$$</p></li><li><p>Notation:<br>$$<br>X&#x3D;(x_1,x_2,\cdots,x_N)^T,Y&#x3D;(y_1,y_2,\cdots,y_N)^T<br>$$</p></li><li><p>Model:<br>$$<br>f(w)&#x3D;w^Tx<br>$$</p></li></ol><h3 id="Loss-Function"><a href="#Loss-Function" class="headerlink" title="Loss Function"></a>Loss Function</h3><ol><li>æœ€å°äºŒä¹˜è¯¯å·®&#x2F;é«˜æ–¯å™ªå£°çš„MLE<br>$$<br>L(w)&#x3D;\sum\limits_{i&#x3D;1}^N||w^Tx_i-y_i||^2_2<br>$$</li></ol><h3 id="é—­å¼è§£"><a href="#é—­å¼è§£" class="headerlink" title="é—­å¼è§£"></a>é—­å¼è§£</h3><p>$$<br>\begin{align}\hat{w}&#x3D;(X^TX)^{-1}X^TY&#x3D;X^+Y\<br>X&#x3D;U\Sigma V^T\<br>X^+&#x3D;V\Sigma^{-1}U^T<br>\end{align}<br>$$</p><h3 id="æ­£åˆ™åŒ–"><a href="#æ­£åˆ™åŒ–" class="headerlink" title="æ­£åˆ™åŒ–"></a>æ­£åˆ™åŒ–</h3><p>$$<br>\begin{align}<br>L1-Gaussian \ priori&amp;:\mathop{argmin}\limits_wL(w)+\lambda||w||_1,\lambda\gt0\<br>L2-Laplasian\ priori-Sparsity&amp;:\mathop{argmin}\limits_wL(w)+\lambda||w||^2_2,\lambda \gt 0<br>\end{align}<br>$$</p><h2 id="Linear-Classification"><a href="#Linear-Classification" class="headerlink" title="Linear Classification"></a>Linear Classification</h2><h3 id="Hard"><a href="#Hard" class="headerlink" title="Hard"></a>Hard</h3><h4 id="PCA"><a href="#PCA" class="headerlink" title="PCA"></a>PCA</h4><ol><li><p>Idea: åœ¨çº¿æ€§æ¨¡å‹ä¸ŠåŠ å…¥æ¿€æ´»å‡½æ•°</p></li><li><p>Loss Function:</p></li></ol><p>$$<br>L(w)&#x3D;\sum\limits_{x_i\in\mathcal{D}_{wrong}}-y_iw^Tx_i<br>$$</p><ol start="3"><li>Parameters:</li></ol><p>$$<br>w^{t+1}\leftarrow w^{t}+\lambda y_ix_i<br>$$</p><h4 id="Fisher"><a href="#Fisher" class="headerlink" title="Fisher"></a>Fisher</h4><ol><li><p>Idea: æŠ•å½±ï¼Œç±»å†…å°ï¼Œç±»é—´å¤§ã€‚</p></li><li><p>Loss Function:<br>$$<br>\begin{align}&amp;J(w)&#x3D;\frac{w^TS_bw}{w^TS_ww}\<br>&amp;S_b&#x3D;(\overline{x_{c1}}-\overline{x_{c2}})(\overline{x_{c1}}-\overline{x_{c2}})^T\<br>&amp;S_w&#x3D;S_1+S_2<br>\end{align}<br>$$</p></li><li><p>é—­å¼è§£ï¼ŒæŠ•å½±æ–¹å‘:<br>$$<br>S_w^{-1}(\overline{x_{c1}}-\overline{x_{c2}})<br>$$</p></li></ol><h3 id="Soft"><a href="#Soft" class="headerlink" title="Soft"></a>Soft</h3><h4 id="åˆ¤åˆ«æ¨¡å‹"><a href="#åˆ¤åˆ«æ¨¡å‹" class="headerlink" title="åˆ¤åˆ«æ¨¡å‹"></a>åˆ¤åˆ«æ¨¡å‹</h4><h5 id="Logistic-Regression"><a href="#Logistic-Regression" class="headerlink" title="Logistic Regression"></a>Logistic Regression</h5><ol><li><p>Ideaï¼Œæ¿€æ´»å‡½æ•°:<br>$$<br>\begin{align}p(C_1|x)&amp;&#x3D;\frac{1}{1+\exp(-a)}\<br>a&amp;&#x3D;w^Tx<br>\end{align}<br>$$</p></li><li><p>Loss Function(äº¤å‰ç†µ):<br>$$<br>\hat{w}&#x3D;\mathop{argmax}_wJ(w)&#x3D;\mathop{argmax}<em>w\sum\limits</em>{i&#x3D;1}^N(y_i\log p_1+(1-y_i)\log p_0)<br>$$</p></li><li><p>è§£æ³•ï¼ŒSGD<br>$$<br>Jâ€™(w)&#x3D;\sum\limits_{i&#x3D;1}^N(y_i-p_1)x_i<br>$$</p></li></ol><h4 id="ç”Ÿæˆæ¨¡å‹"><a href="#ç”Ÿæˆæ¨¡å‹" class="headerlink" title="ç”Ÿæˆæ¨¡å‹"></a>ç”Ÿæˆæ¨¡å‹</h4><h5 id="GDA"><a href="#GDA" class="headerlink" title="GDA"></a>GDA</h5><ol><li><p>Model</p><ol><li>$y\sim Bernoulli(\phi)$</li><li>$x|y&#x3D;1\sim\mathcal{N}(\mu_1,\Sigma)$</li><li>$x|y&#x3D;0\sim\mathcal{N}(\mu_0,\Sigma)$</li></ol></li><li><p>MAP<br>$$<br>\begin{align}<br>&amp;\mathop{argmax}<em>{\phi,\mu_0,\mu_1,\Sigma}\log p(X|Y)p(Y)\nonumber\<br>&amp;&#x3D;\mathop{argmax}</em>{\phi,\mu_0,\mu_1,\Sigma}\sum\limits_{i&#x3D;1}^N((1-y_i)\log\mathcal{N}(\mu_0,\Sigma)+y_i\log \mathcal{N}(\mu_1,\Sigma)+y_i\log\phi+(1-y_i)\log(1-\phi))<br>\end{align}<br>$$</p></li><li><p>è§£<br>$$<br>\begin{align}\phi&amp;&#x3D;\frac{N_1}{N}\<br>\mu_1&amp;&#x3D;\frac{\sum\limits_{i&#x3D;1}^Ny_ix_i}{N_1}\<br>\mu_0&amp;&#x3D;\frac{\sum\limits_{i&#x3D;1}^N(1-y_i)x_i}{N_0}\<br>\Sigma&amp;&#x3D;\frac{N_1S_1+N_2S_2}{N}<br>\end{align}<br>$$</p></li></ol><h5 id="Naive-Bayesian"><a href="#Naive-Bayesian" class="headerlink" title="Naive Bayesian"></a>Naive Bayesian</h5><ol><li><p>Model, å¯¹å•ä¸ªæ•°æ®ç‚¹çš„å„ä¸ªç»´åº¦ä½œå‡ºé™åˆ¶<br>$$<br>x_i\perp x_j|y,\forall\  i\ne j<br>$$</p><ol><li>$x_i$ ä¸ºè¿ç»­å˜é‡ï¼š$p(x_i|y)&#x3D;\mathcal{N}(\mu_i,\sigma_i^2)$</li><li>$x_i$ ä¸ºç¦»æ•£å˜é‡ï¼šç±»åˆ«åˆ†å¸ƒï¼ˆCategoricalï¼‰ï¼š$p(x_i&#x3D;i|y)&#x3D;\theta_i,\sum\limits_{i&#x3D;1}^K\theta_i&#x3D;1$</li><li>$p(y)&#x3D;\phi^y(1-\phi)^{1-y}$</li></ol></li><li><p>è§£ï¼šå’ŒGDAç›¸åŒ</p></li></ol><h2 id="Dimension-Reduction"><a href="#Dimension-Reduction" class="headerlink" title="Dimension Reduction"></a>Dimension Reduction</h2><p>ä¸­å¿ƒåŒ–ï¼š<br>$$<br>\begin{align}S<br>&amp;&#x3D;\frac{1}{N}X^T(E_N-\frac{1}{N}\mathbb{I}<em>{N1}\mathbb{I}</em>{1N})(E_N-\frac{1}{N}\mathbb{I}<em>{N1}\mathbb{I}</em>{1N})^TX\nonumber\<br>&amp;&#x3D;\frac{1}{N}X^TH^2X&#x3D;\frac{1}{N}X^THX<br>\end{align}<br>$$</p><h3 id="PCA-1"><a href="#PCA-1" class="headerlink" title="PCA"></a>PCA</h3><ol><li><p>Idea: åæ ‡å˜æ¢ï¼Œå¯»æ‰¾çº¿æ€§æ— å…³çš„æ–°åŸºçŸ¢ï¼Œå–ä¿¡æ¯æŸå¤±æœ€å°çš„å‰å‡ ä¸ªç»´åº¦</p></li><li><p>Loss Function:<br>$$<br>\begin{align}J<br>&amp;&#x3D;\sum\limits_{j&#x3D;1}^qu_j^TSu_j\ ,\ s.t.\ u_j^Tu_j&#x3D;1<br>\end{align}<br>$$</p></li><li><p>è§£ï¼š</p><ol><li><p>ç‰¹å¾åˆ†è§£æ³•<br>$$<br>S&#x3D;U\Lambda U^T<br>$$</p></li><li><p>SVD for X&#x2F;S<br>$$<br>\begin{align}HX&#x3D;U\Sigma V^T\<br>S&#x3D;\frac{1}{N}V\Sigma^T\Sigma V^T<br>\new\ co&#x3D;HX\cdot V\end{align}<br>$$</p></li><li><p>SVD for T<br>$$<br>\begin{align}T&#x3D;HXX^TH&#x3D;U\Sigma\Sigma^TU^T\<br>new\ co&#x3D;U\Sigma<br>\end{align}<br>$$</p></li></ol></li></ol><h3 id="p-PCA"><a href="#p-PCA" class="headerlink" title="p-PCA"></a>p-PCA</h3><ol><li><p>Model:<br>$$<br>\begin{align}<br>z&amp;\sim\mathcal{N}(\mathbb{O}<em>{q1},\mathbb{I}</em>{qq})\<br>x&amp;&#x3D;Wz+\mu+\varepsilon\<br>\varepsilon&amp;\sim\mathcal{N}(0,\sigma^2\mathbb{I}_{pp})<br>\end{align}<br>$$</p></li><li><p>Learning: E-M</p></li><li><p>Inference:<br>$$<br>p(z|x)&#x3D;\mathcal{N}(W^T(WW^T+\sigma^2\mathbb{I})^{-1}(x-\mu),\mathbb{I}-W^T(WW^T+\sigma^2\mathbb{I})^{-1}W)<br>$$</p></li></ol><h2 id="SVM"><a href="#SVM" class="headerlink" title="SVM"></a>SVM</h2><ol><li>å¼ºå¯¹å¶å…³ç³»ï¼šå‡¸ä¼˜åŒ–+ï¼ˆæ¾å¼›ï¼‰Slater æ¡ä»¶-&gt;å¼ºå¯¹å¶ã€‚</li><li>å‚æ•°æ±‚è§£ï¼šKKTæ¡ä»¶<ol><li>å¯è¡ŒåŸŸ</li><li>äº’è¡¥æ¾å¼›+æ¢¯åº¦ä¸º0</li></ol></li></ol><h3 id="Hard-margin"><a href="#Hard-margin" class="headerlink" title="Hard-margin"></a>Hard-margin</h3><ol><li><p>Idea: æœ€å¤§åŒ–é—´éš”</p></li><li><p>Model:<br>$$<br>\mathop{argmin}_{w,b}\frac{1}{2}w^Tw\ s.t.\ y_i(w^Tx_i+b)\ge1,i&#x3D;1,2,\cdots,N<br>$$</p></li><li><p>å¯¹å¶é—®é¢˜<br>$$<br>\max_{\lambda}-\frac{1}{2}\sum\limits_{i&#x3D;1}^N\sum\limits_{j&#x3D;1}^N\lambda_i\lambda_jy_iy_jx_i^Tx_j+\sum\limits_{i&#x3D;1}^N\lambda_i,\ s.t.\ \lambda_i\ge0<br>$$</p></li><li><p>æ¨¡å‹å‚æ•°<br>$$<br>\hat{w}&#x3D;\sum\limits_{i&#x3D;1}^N\lambda_iy_ix_i\<br>\hat{b}&#x3D;y_k-w^Tx_k&#x3D;y_k-\sum\limits_{i&#x3D;1}^N\lambda_iy_ix_i^Tx_k,\exist k,1-y_k(w^Tx_k+b)&#x3D;0<br>$$</p></li></ol><h3 id="Soft-margin"><a href="#Soft-margin" class="headerlink" title="Soft-margin"></a>Soft-margin</h3><ol><li><p>Idea:å…è®¸å°‘é‡é”™è¯¯</p></li><li><p>Model:<br>$$<br>error&#x3D;\sum\limits_{i&#x3D;1}^N\max{0,1-y_i(w^Tx_i+b)}\<br>\mathop{argmin}<em>{w,b}\frac{1}{2}w^Tw+C\sum\limits</em>{i&#x3D;1}^N\xi_i\ s.t.\ y_i(w^Tx_i+b)\ge1-\xi_i,\xi_i\ge0,i&#x3D;1,2,\cdots,N<br>$$</p></li></ol><h3 id="Kernel"><a href="#Kernel" class="headerlink" title="Kernel"></a>Kernel</h3><p>å¯¹ç§°çš„æ­£å®šå‡½æ•°éƒ½å¯ä»¥ä½œä¸ºæ­£å®šæ ¸ã€‚</p><h2 id="Exp-Family"><a href="#Exp-Family" class="headerlink" title="Exp Family"></a>Exp Family</h2><ol><li><p>è¡¨è¾¾å¼<br>$$<br>p(x|\eta)&#x3D;h(x)\exp(\eta^T\phi(x)-A(\eta))&#x3D;\frac{1}{\exp(A(\eta))}h(x)\exp(\eta^T\phi(x))<br>$$</p></li><li><p>å¯¹æ•°é…åˆ†å‡½æ•°<br>$$<br>\begin{align}<br>Aâ€™(\eta)&#x3D;\mathbb{E}<em>{p(x|\eta)}[\phi(x)]\<br>Aâ€™â€™(\eta)&#x3D;Var</em>{p(x|\eta)}[\phi(x)]<br>\end{align}<br>$$</p></li><li><p>æŒ‡æ•°æ—åˆ†å¸ƒæ»¡è¶³æœ€å¤§ç†µå®šç†</p></li></ol><h2 id="PGM"><a href="#PGM" class="headerlink" title="PGM"></a>PGM</h2><h3 id="Representation"><a href="#Representation" class="headerlink" title="Representation"></a>Representation</h3><ol><li><p>æœ‰å‘å›¾<br>$$<br>p(x_1,x_2,\cdots,x_p)&#x3D;\prod\limits_{i&#x3D;1}^pp(x_i|x_{parent(i)})<br>$$<br>D-separation<br>$$<br>p(x_i|x_{-i})&#x3D;\frac{p(x)}{\int p(x)dx_{i}}&#x3D;\frac{\prod\limits_{j&#x3D;1}^pp(x_j|x_{parents(j)})}{\int\prod\limits_{j&#x3D;1}^pp(x_j|x_{parents(j)})dx_i}&#x3D;\frac{p(x_i|x_{parents(i)})p(x_{child(i)}|x_i)}{\int p(x_i|x_{parents(i)})p(x_{child(i)}|x_i)dx_i}<br>$$</p></li><li><p>æ— å‘å›¾<br>$$<br>\begin{align}p(x)&#x3D;\frac{1}{Z}\prod\limits_{i&#x3D;1}^{K}\phi(x_{ci})\<br>Z&#x3D;\sum\limits_{x\in\mathcal{X}}\prod\limits_{i&#x3D;1}^{K}\phi(x_{ci})\<br>\phi(x_{ci})&#x3D;\exp(-E(x_{ci}))<br>\end{align}<br>$$</p></li><li><p>æœ‰å‘è½¬æ— å‘</p><ol><li>å°†æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸¤ä¸¤ç›¸è¿</li><li>å°†æœ‰å‘è¾¹æ›¿æ¢ä¸ºæ— å‘è¾¹</li></ol></li></ol><h3 id="Learning"><a href="#Learning" class="headerlink" title="Learning"></a>Learning</h3><p>å‚æ•°å­¦ä¹ -EM</p><ol><li><p>ç›®çš„ï¼šè§£å†³å…·æœ‰éšå˜é‡çš„æ··åˆæ¨¡å‹çš„å‚æ•°ä¼°è®¡ï¼ˆæå¤§ä¼¼ç„¶ä¼°è®¡ï¼‰</p></li><li><p>å‚æ•°ï¼š<br>$$<br>\theta_{MLE}&#x3D;\mathop{argmax}\limits_\theta\log p(x|\theta)<br>$$</p></li><li><p>è¿­ä»£æ±‚è§£ï¼š<br>$$<br>\theta^{t+1}&#x3D;\mathop{argmax}\limits_{\theta}\int_z\log [p(x,z|\theta)]p(z|x,\theta^t)dz&#x3D;\mathbb{E}_{z|x,\theta^t}[\log p(x,z|\theta)]<br>$$</p></li><li><p>åŸç†<br>$$<br>\log p(x|\theta^t)\le\log p(x|\theta^{t+1})<br>$$</p></li><li><p>å¹¿ä¹‰EM</p><ol><li><p>E stepï¼š<br>$$<br>\hat{q}^{t+1}(z)&#x3D;\mathop{argmax}_q\int_zq^t(z)\log\frac{p(x,z|\theta)}{q^t(z)}dz,fixed\ \theta<br>$$</p></li><li><p>M stepï¼š<br>$$<br>\hat{\theta}&#x3D;\mathop{argmax}_\theta \int_zq^{t+1}(z)\log\frac{p(x,z|\theta)}{q^{t+1}(z)}dz,fixed\ \hat{q}<br>$$</p></li></ol></li></ol><h3 id="Inference"><a href="#Inference" class="headerlink" title="Inference"></a>Inference</h3><ol><li><p>ç²¾ç¡®æ¨æ–­</p><ol><li><p>VE</p></li><li><p>BP<br>$$<br>m_{j\to i}(i)&#x3D;\sum\limits_j\phi_j(j)\phi_{ij}(ij)\prod\limits_{k\in Neighbour(j)-i}m_{k\to j}(j)<br>$$</p></li><li><p>MP<br>$$<br>m_{j\to i}&#x3D;\max\limits_{j}\phi_j\phi_{ij}\prod\limits_{k\in Neighbour(j)-i}m_{k\to j}<br>$$</p></li></ol></li><li><p>è¿‘ä¼¼æ¨æ–­</p><ol><li><p>ç¡®å®šæ€§è¿‘ä¼¼ï¼ŒVI</p><ol><li><p>å˜åˆ†è¡¨è¾¾å¼<br>$$<br>\hat{q}(Z)&#x3D;\mathop{argmax}_{q(Z)}L(q)<br>$$</p></li><li><p>å¹³å‡åœºè¿‘ä¼¼ä¸‹çš„ VI-åæ ‡ä¸Šå‡<br>$$<br>\mathbb{E}<em>{\prod\limits</em>{i\ne j}q_i(Z_i)}[\log p(X,Z)]&#x3D;\log \hat{p}(X,Z_j)\<br>q_j(Z_j)&#x3D;\hat{p}(X,Z_j)<br>$$</p></li><li><p>SGVI-å˜æˆä¼˜åŒ–é—®é¢˜ï¼Œé‡å‚æ•°æ³•<br>$$<br>\mathop{argmax}<em>{q(Z)}L(q)&#x3D;\mathop{argmax}</em>{\phi}L(\phi)\<br>\nabla_\phi L(\phi)&#x3D;\mathbb{E}<em>{q_\phi}[(\nabla_\phi\log q_\phi)(\log p_\theta(x^i,z)-\log q_\phi(z))]\<br>&#x3D;\mathbb{E}</em>{p(\varepsilon)}[\nabla_z[\log p_\theta(x^i,z)-\log q_\phi(z)]\nabla_\phi g_\phi(\varepsilon,x^i)]\<br>z&#x3D;g_\phi(\varepsilon,x^i),\varepsilon\sim p(\varepsilon)<br>$$</p></li></ol></li><li><p>éšæœºæ€§è¿‘ä¼¼</p><ol><li><p>è’™ç‰¹å¡æ´›æ–¹æ³•é‡‡æ ·</p><ol><li><p>CDF é‡‡æ ·</p></li><li><p>æ‹’ç»é‡‡æ ·ï¼Œ $q(z)$ï¼Œä½¿å¾— $\forall z_i,Mq(z_i)\ge p(z_i)$ï¼Œæ‹’ç»å› å­ï¼š$\alpha&#x3D;\frac{p(z^i)}{Mq(z^i)}\le1$</p></li><li><p>é‡è¦æ€§é‡‡æ ·<br>$$<br>\mathbb{E}<em>{p(z)}[f(z)]&#x3D;\int p(z)f(z)dz&#x3D;\int \frac{p(z)}{q(z)}f(z)q(z)dz\simeq\frac{1}{N}\sum\limits</em>{i&#x3D;1}^Nf(z_i)\frac{p(z_i)}{q(z_i)}<br>$$</p></li><li><p>é‡è¦æ€§é‡é‡‡æ ·ï¼šé‡è¦æ€§é‡‡æ ·+é‡é‡‡æ ·</p></li></ol></li><li><p>MCMCï¼šæ„å»ºé©¬å°”å¯å¤«é“¾æ¦‚ç‡åºåˆ—ï¼Œä½¿å…¶æ”¶æ•›åˆ°å¹³ç¨³åˆ†å¸ƒ $p(z)$ã€‚</p><ol><li><p>è½¬ç§»çŸ©é˜µï¼ˆæè®®åˆ†å¸ƒï¼‰<br>$$<br>p(z)\cdot Q_{z\to z^*}\alpha(z,z^*)&#x3D;p(z^*)\cdot Q_{z^<em>\to z}\alpha(z^</em>,z)\<br>\alpha(z,z^*)&#x3D;\min{1,\frac{p(z^*)Q_{z^<em>\to z}}{p(z)Q_{z\to z^</em>}}}<br>$$</p></li><li><p>ç®—æ³•ï¼ˆMHï¼‰ï¼š</p><ol><li>é€šè¿‡åœ¨0ï¼Œ1ä¹‹é—´å‡åŒ€åˆ†å¸ƒå–ç‚¹ $u$</li><li>ç”Ÿæˆ $z^<em>\sim Q(z^</em>|z^{i-1})$</li><li>è®¡ç®— $\alpha$ å€¼</li><li>å¦‚æœ $\alpha\ge u$ï¼Œåˆ™ $z^i&#x3D;z^*$ï¼Œå¦åˆ™ $z^{i}&#x3D;z^{i-1}$</li></ol></li></ol></li><li><p>Gibbs é‡‡æ ·ï¼šç»™å®šåˆå§‹å€¼ $z_1^0,z_2^0,\cdots$åœ¨ $t+1$ æ—¶åˆ»ï¼Œé‡‡æ · $z_i^{t+1}\sim p(z_i|z_{-i})$ï¼Œä»ç¬¬ä¸€ä¸ªç»´åº¦ä¸€ä¸ªä¸ªé‡‡æ ·ã€‚</p></li></ol></li></ol></li></ol><h2 id="GMM"><a href="#GMM" class="headerlink" title="GMM"></a>GMM</h2><ol><li><p>Model<br>$$<br>p(x)&#x3D;\sum\limits_{k&#x3D;1}^Kp_k\mathcal{N}(x|\mu_k,\Sigma_k)<br>$$</p></li><li><p>æ±‚è§£-EM<br>$$<br>\begin{align}Q(\theta,\theta^t)&amp;&#x3D;\sum\limits_z[\log\prod\limits_{i&#x3D;1}^Np(x_i,z_i|\theta)]\prod \limits_{i&#x3D;1}^Np(z_i|x_i,\theta^t)\nonumber\<br>&amp;&#x3D;\sum\limits_z[\sum\limits_{i&#x3D;1}^N\log p(x_i,z_i|\theta)]\prod \limits_{i&#x3D;1}^Np(z_i|x_i,\theta^t)\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^N\sum\limits_{z_i}\log p(x_i,z_i|\theta)p(z_i|x_i,\theta^t)\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^N\sum\limits_{z_i}\log p_{z_i}\mathcal{N(x_i|\mu_{z_i},\Sigma_{z_i})}\frac{p_{z_i}^t\mathcal{N}(x_i|\mu_{z_i}^t,\Sigma_{z_i}^t)}{\sum\limits_kp_k^t\mathcal{N}(x_i|\mu_k^t,\Sigma_k^t)}<br>\end{align}<br>$$</p><p>$$<br>p_k^{t+1}&#x3D;\frac{1}{N}\sum\limits_{i&#x3D;1}^Np(z_i&#x3D;k|x_i,\theta^t)<br>$$</p></li></ol><h2 id="åºåˆ—æ¨¡å‹-HMMï¼ŒLDSï¼ŒParticle"><a href="#åºåˆ—æ¨¡å‹-HMMï¼ŒLDSï¼ŒParticle" class="headerlink" title="åºåˆ—æ¨¡å‹-HMMï¼ŒLDSï¼ŒParticle"></a>åºåˆ—æ¨¡å‹-HMMï¼ŒLDSï¼ŒParticle</h2><ol><li><p>å‡è®¾ï¼š</p><ol><li><p>é½æ¬¡ Markov å‡è®¾ï¼ˆæœªæ¥åªä¾èµ–äºå½“å‰ï¼‰ï¼š<br>$$<br>p(i_{t+1}|i_t,i_{t-1},\cdots,i_1,o_t,o_{t-1},\cdots,o_1)&#x3D;p(i_{t+1}|i_t)<br>$$</p></li><li><p>è§‚æµ‹ç‹¬ç«‹å‡è®¾ï¼š<br>$$<br>p(o_t|i_t,i_{t-1},\cdots,i_1,o_{t-1},\cdots,o_1)&#x3D;p(o_t|i_t)<br>$$</p></li></ol></li><li><p>å‚æ•°<br>$$<br>\lambda&#x3D;(\pi,A,B)<br>$$</p></li></ol><h3 id="ç¦»æ•£çº¿æ€§éšå˜é‡-HMM"><a href="#ç¦»æ•£çº¿æ€§éšå˜é‡-HMM" class="headerlink" title="ç¦»æ•£çº¿æ€§éšå˜é‡-HMM"></a>ç¦»æ•£çº¿æ€§éšå˜é‡-HMM</h3><ol><li><p>Evaluationï¼š$p(O|\lambda)$ï¼ŒForward-Backward ç®—æ³•<br>$$<br>p(O|\lambda)&#x3D;\sum\limits_{i&#x3D;1}^Np(O,i_T&#x3D;q_i|\lambda)&#x3D;\sum\limits_{i&#x3D;1}^N\alpha_T(i)&#x3D;\sum\limits_{i&#x3D;1}^Nb_i(o_1)\pi_i\beta_1(i)\<br>\alpha_{t+1}(j)&#x3D;\sum\limits_{i&#x3D;1}^Nb_{j}(o_t)a_{ij}\alpha_t(i)\<br>\beta_t(i)&#x3D;\sum\limits_{j&#x3D;1}^Nb_j(o_{t+1})a_{ij}\beta_{t+1}(j)<br>$$</p></li><li><p>Learningï¼š$\lambda&#x3D;\mathop{argmax}\limits_{\lambda}p(O|\lambda)$ï¼ŒEM ç®—æ³•ï¼ˆBaum-Welchï¼‰<br>$$<br>\lambda^{t+1}&#x3D;\mathop{argmax}<em>\lambda\sum\limits_I\log p(O,I|\lambda)p(O,I|\lambda^t)\&#x3D;\sum\limits_I[\log \pi</em>{i_1}+\sum\limits_{t&#x3D;2}^T\log a_{i_{t-1},i_t}+\sum\limits_{t&#x3D;1}^T\log b_{i_t}(o_t)]p(O,I|\lambda^t)<br>$$</p></li><li><p>Decodingï¼š$I&#x3D;\mathop{argmax}\limits_{I}p(I|O,\lambda)$ï¼ŒViterbi ç®—æ³•-åŠ¨æ€è§„åˆ’<br>$$<br>\delta_{t}(j)&#x3D;\max\limits_{i_1,\cdots,i_{t-1}}p(o_1,\cdots,o_t,i_1,\cdots,i_{t-1},i_t&#x3D;q_i)\\delta_{t+1}(j)&#x3D;\max\limits_{1\le i\le N}\delta_t(i)a_{ij}b_j(o_{t+1})\\psi_{t+1}(j)&#x3D;\mathop{argmax}\limits_{1\le i\le N}\delta_t(i)a_{ij}<br>$$</p></li></ol><h3 id="è¿ç»­çº¿æ€§éšå˜é‡-LDS"><a href="#è¿ç»­çº¿æ€§éšå˜é‡-LDS" class="headerlink" title="è¿ç»­çº¿æ€§éšå˜é‡-LDS"></a>è¿ç»­çº¿æ€§éšå˜é‡-LDS</h3><ol><li><p>Model<br>$$<br>\begin{align}<br>p(z_t|z_{t-1})&amp;\sim\mathcal{N}(A\cdot z_{t-1}+B,Q)\<br>p(x_t|z_t)&amp;\sim\mathcal{N}(C\cdot z_t+D,R)\<br>z_1&amp;\sim\mathcal{N}(\mu_1,\Sigma_1)<br>\end{align}<br>$$</p></li><li><p>æ»¤æ³¢<br>$$<br>p(z_t|x_{1:t})&#x3D;p(x_{1:t},z_t)&#x2F;p(x_{1:t})\propto p(x_{1:t},z_t)\&#x3D;p(x_t|z_t)p(z_t|x_{1:t-1})p(x_{1:t-1})\propto p(x_t|z_t)p(z_t|x_{1:t-1})<br>$$</p></li><li><p>é€’æ¨æ±‚è§£-çº¿æ€§é«˜æ–¯æ¨¡å‹</p><ol><li><p>Prediction<br>$$<br>p(z_t|x_{1:t-1})&#x3D;\int_{z_{t-1}}p(z_t|z_{t-1})p(z_{t-1}|x_{1:t-1})dz_{t-1}&#x3D;\int_{z_{t-1}}\mathcal{N}(Az_{t-1}+B,Q)\mathcal{N}(\mu_{t-1},\Sigma_{t-1})dz_{t-1}<br>$$</p></li><li><p>Update:<br>$$<br>p(z_t|x_{1:t})\propto p(x_t|z_t)p(z_t|x_{1:t-1}<br>$$</p></li></ol></li></ol><h3 id="è¿ç»­éçº¿æ€§éšå˜é‡-ç²’å­æ»¤æ³¢"><a href="#è¿ç»­éçº¿æ€§éšå˜é‡-ç²’å­æ»¤æ³¢" class="headerlink" title="è¿ç»­éçº¿æ€§éšå˜é‡-ç²’å­æ»¤æ³¢"></a>è¿ç»­éçº¿æ€§éšå˜é‡-ç²’å­æ»¤æ³¢</h3><p>é€šè¿‡é‡‡æ ·(SIR)è§£å†³ï¼š<br>$$<br>\mathbb{E}[f(z)]&#x3D;\int_zf(z)p(z)dz&#x3D;\int_zf(z)\frac{p(z)}{q(z)}q(z)dz&#x3D;\sum\limits_{i&#x3D;1}^Nf(z_i)\frac{p(z_i)}{q(z_i)}<br>$$</p><ol><li><p>é‡‡æ ·<br>$$<br>w_t^i\propto\frac{p(x_t|z_t)p(z_t|z_{t-1})}{q(z_t|z_{1:t-1},x_{1:t})}w_{t-1}^i\<br>q(z_t|z_{1:t-1},x_{1:t})&#x3D;p(z_t|z_{t-1})<br>$$</p></li><li><p>é‡é‡‡æ ·</p></li></ol><h2 id="CRF"><a href="#CRF" class="headerlink" title="CRF"></a>CRF</h2><ol><li><p>PDF<br>$$<br>p(Y&#x3D;y|X&#x3D;x)&#x3D;\frac{1}{Z(x,\theta)}\exp[\theta^TH(y_t,y_{t-1},x)]<br>$$</p></li><li><p>è¾¹ç¼˜æ¦‚ç‡<br>$$<br>p(y_t&#x3D;i|x)&#x3D;\sum\limits_{y_{1:t-1}}\sum\limits_{y_{t+1:T}}\frac{1}{Z}\prod\limits_{tâ€™&#x3D;1}^T\phi_{tâ€™}(y_{tâ€™-1},y_{tâ€™},x)\<br>p(y_t&#x3D;i|x)&#x3D;\frac{1}{Z}\Delta_l\Delta_r\<br>\Delta_l&#x3D;\sum\limits_{y_{1:t-1}}\phi_{1}(y_0,y_1,x)\phi_2(y_1,y_2,x)\cdots\phi_{t-1}(y_{t-2},y_{t-1},x)\phi_t(y_{t-1},y_t&#x3D;i,x)\<br>\Delta_r&#x3D;\sum\limits_{y_{t+1:T}}\phi_{t+1}(y_t&#x3D;i,y_{t+1},x)\phi_{t+2}(y_{t+1},y_{t+2},x)\cdots\phi_T(y_{T-1},y_T,x)<br>$$</p><p>$$<br>\alpha_t(i)&#x3D;\Delta_l&#x3D;\sum\limits_{j\in S}\phi_t(y_{t-1}&#x3D;j,y_t&#x3D;i,x)\alpha_{t-1}(j)\<br>\Delta_r&#x3D;\beta_t(i)&#x3D;\sum\limits_{j\in S}\phi_{t+1}(y_t&#x3D;i,y_{t+1}&#x3D;j,x)\beta_{t+1}(j)<br>$$</p></li><li><p>å­¦ä¹ <br>$$<br>\nabla_\lambda L&#x3D;\sum\limits_{i&#x3D;1}^N\sum\limits_{t&#x3D;1}^T[f(y_{t-1},y_t,x^i)-\sum\limits_{y_{t-1}}\sum\limits_{y_t}p(y_{t-1},y_t|x^i)f(y_{t-1},y_t,x^i)]<br>$$</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”é«˜æ–¯æ··åˆæ¨¡å‹</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/9.GMM/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/9.GMM/</url>
    
    <content type="html"><![CDATA[<h1 id="é«˜æ–¯æ··åˆæ¨¡å‹"><a href="#é«˜æ–¯æ··åˆæ¨¡å‹" class="headerlink" title="é«˜æ–¯æ··åˆæ¨¡å‹"></a>é«˜æ–¯æ··åˆæ¨¡å‹</h1><p>ä¸ºäº†è§£å†³é«˜æ–¯æ¨¡å‹çš„å•å³°æ€§çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥å¤šä¸ªé«˜æ–¯æ¨¡å‹çš„åŠ æƒå¹³å‡æ¥æ‹Ÿåˆå¤šå³°æ•°æ®ï¼š<br>$$<br>p(x)&#x3D;\sum\limits_{k&#x3D;1}^K\alpha_k\mathcal{N}(\mu_k,\Sigma_k)<br>$$<br>å¼•å…¥éšå˜é‡ $z$ï¼Œè¿™ä¸ªå˜é‡è¡¨ç¤ºå¯¹åº”çš„æ ·æœ¬ $x$ å±äºå“ªä¸€ä¸ªé«˜æ–¯åˆ†å¸ƒï¼Œè¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªç¦»æ•£çš„éšæœºå˜é‡ï¼š<br>$$<br>p(z&#x3D;i)&#x3D;p_i,\sum\limits_{i&#x3D;1}^kp(z&#x3D;i)&#x3D;1<br>$$<br>ä½œä¸ºä¸€ä¸ªç”Ÿæˆå¼æ¨¡å‹ï¼Œé«˜æ–¯æ··åˆæ¨¡å‹é€šè¿‡éšå˜é‡ $z$ çš„åˆ†å¸ƒæ¥ç”Ÿæˆæ ·æœ¬ã€‚ç”¨æ¦‚ç‡å›¾æ¥è¡¨ç¤ºï¼š</p><pre><code class=" mermaid">graph LR;z((z))--&gt;x((x))</code></pre><p>å…¶ä¸­ï¼ŒèŠ‚ç‚¹ $z$ å°±æ˜¯ä¸Šé¢çš„æ¦‚ç‡ï¼Œ$x$ å°±æ˜¯ç”Ÿæˆçš„é«˜æ–¯åˆ†å¸ƒã€‚äºæ˜¯å¯¹ $p(x)$ï¼š<br>$$<br>p(x)&#x3D;\sum\limits_zp(x,z)&#x3D;\sum\limits_{k&#x3D;1}^Kp(x,z&#x3D;k)&#x3D;\sum\limits_{k&#x3D;1}^Kp(z&#x3D;k)p(x|z&#x3D;k)<br>$$<br>å› æ­¤ï¼š<br>$$<br>p(x)&#x3D;\sum\limits_{k&#x3D;1}^Kp_k\mathcal{N}(x|\mu_k,\Sigma_k)<br>$$</p><h2 id="æå¤§ä¼¼ç„¶ä¼°è®¡"><a href="#æå¤§ä¼¼ç„¶ä¼°è®¡" class="headerlink" title="æå¤§ä¼¼ç„¶ä¼°è®¡"></a>æå¤§ä¼¼ç„¶ä¼°è®¡</h2><p>æ ·æœ¬ä¸º $X&#x3D;(x_1,x_2,\cdots,x_N)$ï¼Œ$Â (X,Z)$ ä¸ºå®Œå…¨å‚æ•°ï¼Œå‚æ•°ä¸º $\theta&#x3D;{p_1,p_2,\cdots,p_K,\mu_1,\mu_2,\cdots,\mu_K\Sigma_1,\Sigma_2,\cdots,\Sigma_K}$ã€‚æˆ‘ä»¬é€šè¿‡æå¤§ä¼¼ç„¶ä¼°è®¡å¾—åˆ° $\theta$ çš„å€¼ï¼š<br>$$<br>\begin{align}\theta_{MLE}&amp;&#x3D;\mathop{argmax}\limits_{\theta}\log p(X)&#x3D;\mathop{argmax}<em>{\theta}\sum\limits</em>{i&#x3D;1}^N\log p(x_i)\nonumber\<br>&amp;&#x3D;\mathop{argmax}<em>\theta\sum\limits</em>{i&#x3D;1}^N\log \sum\limits_{k&#x3D;1}^Kp_k\mathcal{N}(x_i|\mu_k,\Sigma_k)<br>\end{align}<br>$$<br>è¿™ä¸ªè¡¨è¾¾å¼ç›´æ¥é€šè¿‡æ±‚å¯¼ï¼Œç”±äºè¿åŠ å·çš„å­˜åœ¨ï¼Œæ— æ³•å¾—åˆ°è§£æè§£ã€‚å› æ­¤éœ€è¦ä½¿ç”¨ EM ç®—æ³•ã€‚</p><h2 id="EM-æ±‚è§£-GMM"><a href="#EM-æ±‚è§£-GMM" class="headerlink" title="EM æ±‚è§£ GMM"></a>EM æ±‚è§£ GMM</h2><p>EM ç®—æ³•çš„åŸºæœ¬è¡¨è¾¾å¼ä¸ºï¼š$\theta^{t+1}&#x3D;\mathop{argmax}\limits_{\theta}\mathbb{E}<em>{z|x,\theta_t}[p(x,z|\theta)]$ã€‚å¥—ç”¨ GMM çš„è¡¨è¾¾å¼ï¼Œå¯¹æ•°æ®é›†æ¥è¯´ï¼š<br>$$<br>\begin{align}Q(\theta,\theta^t)&amp;&#x3D;\sum\limits_z[\log\prod\limits</em>{i&#x3D;1}^Np(x_i,z_i|\theta)]\prod \limits_{i&#x3D;1}^Np(z_i|x_i,\theta^t)\nonumber\<br>&amp;&#x3D;\sum\limits_z[\sum\limits_{i&#x3D;1}^N\log p(x_i,z_i|\theta)]\prod \limits_{i&#x3D;1}^Np(z_i|x_i,\theta^t)<br>\end{align}<br>$$<br>å¯¹äºä¸­é—´çš„é‚£ä¸ªæ±‚å’Œå·ï¼Œå±•å¼€ï¼Œç¬¬ä¸€é¡¹ä¸ºï¼š<br>$$<br>\begin{align}<br>\sum\limits_z\log p(x_1,z_1|\theta)\prod\limits_{i&#x3D;1}^Np(z_i|x_i,\theta^t)&amp;&#x3D;\sum\limits_z\log p(x_1,z_1|\theta)p(z_1|x_1,\theta^t)\prod\limits_{i&#x3D;2}^Np(z_i|x_i,\theta^t)\nonumber\<br>&amp;&#x3D;\sum\limits_{z_1}\log p(x_1,z_1|\theta)<br>p(z_1|x_1,\theta^t)\sum\limits_{z_2,\cdots,z_K}\prod\limits_{i&#x3D;2}^Np(z_i|x_i,\theta^t)\nonumber\<br>&amp;&#x3D;\sum\limits_{z_1}\log p(x_1,z_1|\theta)p(z_1|x_1,\theta^t)\end{align}<br>$$<br>ç±»ä¼¼åœ°ï¼Œ$Q$ å¯ä»¥å†™ä¸ºï¼š<br>$$<br>Q(\theta,\theta^t)&#x3D;\sum\limits_{i&#x3D;1}^N\sum\limits_{z_i}\log p(x_i,z_i|\theta)p(z_i|x_i,\theta^t)<br>$$<br>å¯¹äº $p(x,z|\theta)$ï¼š<br>$$<br>p(x,z|\theta)&#x3D;p(z|\theta)p(x|z,\theta)&#x3D;p_z\mathcal{N}(x|\mu_z,\Sigma_z)<br>$$<br>å¯¹ $p(z|x,\theta^t)$ï¼š<br>$$<br>p(z|x,\theta^t)&#x3D;\frac{p(x,z|\theta^t)}{p(x|\theta^t)}&#x3D;\frac{p_z^t\mathcal{N}(x|\mu_z^t,\Sigma_z^t)}{\sum\limits_kp_k^t\mathcal{N}(x|\mu_k^t,\Sigma_k^t)}<br>$$<br>ä»£å…¥ $Q$ï¼š<br>$$<br>Q&#x3D;\sum\limits_{i&#x3D;1}^N\sum\limits_{z_i}\log p_{z_i}\mathcal{N(x_i|\mu_{z_i},\Sigma_{z_i})}\frac{p_{z_i}^t\mathcal{N}(x_i|\mu_{z_i}^t,\Sigma_{z_i}^t)}{\sum\limits_kp_k^t\mathcal{N}(x_i|\mu_k^t,\Sigma_k^t)}<br>$$<br>ä¸‹é¢éœ€è¦å¯¹ $Q$ å€¼æ±‚æœ€å¤§å€¼ï¼š<br>$$<br>Q&#x3D;\sum\limits_{k&#x3D;1}^K\sum\limits_{i&#x3D;1}^N[\log p_k+\log \mathcal{N}(x_i|\mu_k,\Sigma_k)]p(z_i&#x3D;k|x_i,\theta^t)<br>$$</p><ol><li><p>$p_k^{t+1}$ï¼š<br>$$<br>p_k^{t+1}&#x3D;\mathop{argmax}<em>{p_k}\sum\limits</em>{k&#x3D;1}^K\sum\limits_{i&#x3D;1}^N[\log p_k+\log \mathcal{N}(x_i|\mu_k,\Sigma_k)]p(z_i&#x3D;k|x_i,\theta^t)\ s.t.\ \sum\limits_{k&#x3D;1}^Kp_k&#x3D;1<br>$$<br>å³ï¼š<br>$$<br>p_k^{t+1}&#x3D;\mathop{argmax}<em>{p_k}\sum\limits</em>{k&#x3D;1}^K\sum\limits_{i&#x3D;1}^N\log p_kp(z_i&#x3D;k|x_i,\theta^t)\ s.t.\ \sum\limits_{k&#x3D;1}^Kp_k&#x3D;1<br>$$<br>å¼•å…¥ Lagrange ä¹˜å­ï¼š$L(p_k,\lambda)&#x3D;\sum\limits_{k&#x3D;1}^K\sum\limits_{i&#x3D;1}^N\log p_kp(z_i&#x3D;k|x_i,\theta^t)-\lambda(1-\sum\limits_{k&#x3D;1}^Kp_k)$ã€‚æ‰€ä»¥ï¼š<br>$$<br>\frac{\partial}{\partial p_k}L&#x3D;\sum\limits_{i&#x3D;1}^N\frac{1}{p_k}p(z_i&#x3D;k|x_i,\theta^t)+\lambda&#x3D;0\<br>\Rightarrow \sum\limits_k\sum\limits_{i&#x3D;1}^N\frac{1}{p_k}p(z_i&#x3D;k|x_i,\theta^t)+\lambda\sum\limits_kp_k&#x3D;0\<br>\Rightarrow\lambda&#x3D;-N<br>$$</p><p>äºæ˜¯æœ‰ï¼š<br>$$<br>p_k^{t+1}&#x3D;\frac{1}{N}\sum\limits_{i&#x3D;1}^Np(z_i&#x3D;k|x_i,\theta^t)<br>$$</p></li><li><p>$\mu_k,\Sigma_k$ï¼Œè¿™ä¸¤ä¸ªå‚æ•°æ˜¯æ— çº¦æŸçš„ï¼Œç›´æ¥æ±‚å¯¼å³å¯ã€‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æœŸæœ›æœ€å¤§</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/8.EM/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/8.EM/</url>
    
    <content type="html"><![CDATA[<h1 id="æœŸæœ›æœ€å¤§"><a href="#æœŸæœ›æœ€å¤§" class="headerlink" title="æœŸæœ›æœ€å¤§"></a>æœŸæœ›æœ€å¤§</h1><p>æœŸæœ›æœ€å¤§ç®—æ³•çš„ç›®çš„æ˜¯è§£å†³å…·æœ‰éšå˜é‡çš„æ··åˆæ¨¡å‹çš„å‚æ•°ä¼°è®¡ï¼ˆæå¤§ä¼¼ç„¶ä¼°è®¡ï¼‰ã€‚MLE å¯¹ $p(x|\theta)$ å‚æ•°çš„ä¼°è®¡è®°ä¸ºï¼š$\theta_{MLE}&#x3D;\mathop{argmax}\limits_\theta\log p(x|\theta)$ã€‚EM ç®—æ³•å¯¹è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•æ˜¯é‡‡ç”¨è¿­ä»£çš„æ–¹æ³•ï¼š<br>$$<br>\theta^{t+1}&#x3D;\mathop{argmax}\limits_{\theta}\int_z\log [p(x,z|\theta)]p(z|x,\theta^t)dz&#x3D;\mathbb{E}_{z|x,\theta^t}[\log p(x,z|\theta)]<br>$$<br>è¿™ä¸ªå…¬å¼åŒ…å«äº†è¿­ä»£çš„ä¸¤æ­¥ï¼š</p><ol><li>E stepï¼šè®¡ç®— $\log p(x,z|\theta)$ åœ¨æ¦‚ç‡åˆ†å¸ƒ $p(z|x,\theta^t)$ ä¸‹çš„æœŸæœ›</li><li>M stepï¼šè®¡ç®—ä½¿è¿™ä¸ªæœŸæœ›æœ€å¤§åŒ–çš„å‚æ•°å¾—åˆ°ä¸‹ä¸€ä¸ª EM æ­¥éª¤çš„è¾“å…¥</li></ol><blockquote><p>  æ±‚è¯ï¼š$\log p(x|\theta^t)\le\log p(x|\theta^{t+1})$</p><p>  è¯æ˜ï¼š$\log p(x|\theta)&#x3D;\log p(z,x|\theta)-\log p(z|x,\theta)$ï¼Œå¯¹å·¦å³ä¸¤è¾¹æ±‚ç§¯åˆ†ï¼š<br>  $$<br>  Left:\int_zp(z|x,\theta^t)\log p(x|\theta)dz&#x3D;\log p(x|\theta)<br>  $$</p><p>  $$<br>  Right:\int_zp(z|x,\theta^t)\log p(x,z|\theta)dz-\int_zp(z|x,\theta^t)\log p(z|x,\theta)dz&#x3D;Q(\theta,\theta^t)-H(\theta,\theta^t)<br>  $$</p><p>  æ‰€ä»¥ï¼š<br>  $$<br>  \log p(x|\theta)&#x3D;Q(\theta,\theta^t)-H(\theta,\theta^t)<br>  $$<br>  ç”±äº $Q(\theta,\theta^t)&#x3D;\int_zp(z|x,\theta^t)\log p(x,z|\theta)dz$ï¼Œè€Œ $\theta^{t+1}&#x3D;\mathop{argmax}\limits_{\theta}\int_z\log [p(x,z|\theta)]p(z|x,\theta^t)dz$ï¼Œæ‰€ä»¥ $Q(\theta^{t+1},\theta^t)\ge Q(\theta^t,\theta^t)$ã€‚è¦è¯ $\log p(x|\theta^t)\le\log p(x|\theta^{t+1})$ï¼Œéœ€è¯ï¼š$H(\theta^t,\theta^t)\ge H(\theta^{t+1},\theta^t)$ï¼š<br>  $$<br>  \begin{align}H(\theta^{t+1},\theta^t)-H(\theta^{t},\theta^t)&amp;&#x3D;\int_zp(z|x,\theta^{t})\log p(z|x,\theta^{t+1})dz-\int_zp(z|x,\theta^t)\log p(z|x,\theta^{t})dz\nonumber\<br>  &amp;&#x3D;\int_zp(z|x,\theta^t)\log\frac{p(z|x,\theta^{t+1})}{p(z|x,\theta^t)}&#x3D;-KL(p(z|x,\theta^t),p(z|x,\theta^{t+1}))\le0<br>  \end{align}<br>  $$<br>  ç»¼åˆä¸Šé¢çš„ç»“æœï¼š<br>  $$<br>  \log p(x|\theta^t)\le\log p(x|\theta^{t+1})<br>  $$</p></blockquote><p>æ ¹æ®ä¸Šé¢çš„è¯æ˜ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œä¼¼ç„¶å‡½æ•°åœ¨æ¯ä¸€æ­¥éƒ½ä¼šå¢å¤§ã€‚è¿›ä¸€æ­¥çš„ï¼Œæˆ‘ä»¬çœ‹ EM è¿­ä»£è¿‡ç¨‹ä¸­çš„å¼å­æ˜¯æ€ä¹ˆæ¥çš„ï¼š<br>$$<br>\log p(x|\theta)&#x3D;\log p(z,x|\theta)-\log p(z|x,\theta)&#x3D;\log \frac{p(z,x|\theta)}{q(z)}-\log \frac{p(z|x,\theta)}{q(z)}<br>$$<br>åˆ†åˆ«å¯¹ä¸¤è¾¹æ±‚æœŸæœ› $\mathbb{E}<em>{q(z)}$ï¼š<br>$$<br>\begin{align}<br>&amp;Left:\int_zq(z)\log p(x|\theta)dz&#x3D;\log p(x|\theta)\<br>&amp;Right:\int_zq(z)\log \frac{p(z,x|\theta)}{q(z)}dz-\int_zq(z)\log \frac{p(z|x,\theta)}{q(z)}dz&#x3D;ELBO+KL(q(z),p(z|x,\theta))<br>\end{align}<br>$$<br>ä¸Šå¼ä¸­ï¼ŒEvidence Lower Bound(ELBO)ï¼Œæ˜¯ä¸€ä¸ªä¸‹ç•Œï¼Œæ‰€ä»¥ $\log p(x|\theta)\ge ELBO$ï¼Œç­‰äºå·å–åœ¨ KL æ•£åº¦ä¸º0æ˜¯ï¼Œå³ï¼š$q(z)&#x3D;p(z|x,\theta)$ï¼ŒEM ç®—æ³•çš„ç›®çš„æ˜¯å°† ELBO æœ€å¤§åŒ–ï¼Œæ ¹æ®ä¸Šé¢çš„è¯æ˜è¿‡ç¨‹ï¼Œåœ¨æ¯ä¸€æ­¥ EM åï¼Œæ±‚å¾—äº†æœ€å¤§çš„ELBOï¼Œå¹¶æ ¹æ®è¿™ä¸ªä½¿ ELBO æœ€å¤§çš„å‚æ•°ä»£å…¥ä¸‹ä¸€æ­¥ä¸­ï¼š<br>$$<br>\hat{\theta}&#x3D;\mathop{argmax}</em>{\theta}ELBO&#x3D;\mathop{argmax}<em>\theta\int_zq(z)\log\frac{p(x,z|\theta)}{q(z)}dz<br>$$<br>ç”±äº $Â q(z)&#x3D;p(z|x,\theta^t)$ çš„æ—¶å€™ï¼Œè¿™ä¸€æ­¥çš„æœ€å¤§å€¼æ‰èƒ½å–ç­‰å·ï¼Œæ‰€ä»¥ï¼š<br>$$<br>\hat{\theta}&#x3D;\mathop{argmax}</em>{\theta}ELBO&#x3D;\mathop{argmax}_\theta\int_zq(z)\log\frac{p(x,z|\theta)}{q(z)}dz&#x3D;\mathop{argmax}_\theta\int_zp(z|x,\theta^t)\log\frac{p(x,z|\theta)}{p(z|x,\theta^t)}d z\<br>&#x3D;\mathop{argmax}_\theta\int_z p(z|x,\theta^t)\log p(x,z|\theta)<br>$$<br>è¿™ä¸ªå¼å­å°±æ˜¯ä¸Šé¢ EM è¿­ä»£è¿‡ç¨‹ä¸­çš„å¼å­ã€‚</p><p>ä» Jensen ä¸ç­‰å¼å‡ºå‘ï¼Œä¹Ÿå¯ä»¥å¯¼å‡ºè¿™ä¸ªå¼å­ï¼š<br>$$<br>\log p(x|\theta)&#x3D;\log\int_zp(x,z|\theta)dz&#x3D;\log\int_z\frac{p(x,z|\theta)q(z)}{q(z)}dz\<br>&#x3D;\log \mathbb{E}<em>{q(z)}[\frac{p(x,z|\theta)}{q(z)}]\ge \mathbb{E}</em>{q(z)}[\log\frac{p(x,z|\theta)}{q(z)}]<br>$$<br>å…¶ä¸­ï¼Œå³è¾¹çš„å¼å­å°±æ˜¯ ELBOï¼Œç­‰å·åœ¨ $Â p(x,z|\theta)&#x3D;Cq(z)$ æ—¶æˆç«‹ã€‚äºæ˜¯ï¼š<br>$$<br>\int_zq(z)dz&#x3D;\frac{1}{C}\int_zp(x,z|\theta)dz&#x3D;\frac{1}{C}p(x|\theta)&#x3D;1\<br>\Rightarrow q(z)&#x3D;\frac{1}{p(x|\theta)}p(x,z|\theta)&#x3D;p(z|x,\theta)<br>$$<br>æˆ‘ä»¬å‘ç°ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ä¸Šé¢çš„æœ€å¤§å€¼å–ç­‰å·çš„æ¡ä»¶ã€‚</p><h2 id="å¹¿ä¹‰-EM"><a href="#å¹¿ä¹‰-EM" class="headerlink" title="å¹¿ä¹‰ EM"></a>å¹¿ä¹‰ EM</h2><p>EM æ¨¡å‹è§£å†³äº†æ¦‚ç‡ç”Ÿæˆæ¨¡å‹çš„å‚æ•°ä¼°è®¡çš„é—®é¢˜ï¼Œé€šè¿‡å¼•å…¥éšå˜é‡ $z$ï¼Œæ¥å­¦ä¹  $\theta$ï¼Œå…·ä½“çš„æ¨¡å‹å¯¹ $z$ æœ‰ä¸åŒçš„å‡è®¾ã€‚å¯¹å­¦ä¹ ä»»åŠ¡ $p(x|\theta)$ï¼Œå°±æ˜¯å­¦ä¹ ä»»åŠ¡ $\frac{p(x,z|\theta)}{p(z|x,\theta)}$ã€‚åœ¨è¿™ä¸ªå¼å­ä¸­ï¼Œæˆ‘ä»¬å‡å®šäº†åœ¨ E æ­¥éª¤ä¸­ï¼Œ$q(z)&#x3D;p(z|x,\theta)$ï¼Œä½†æ˜¯è¿™ä¸ª$p(z|x,\theta)$ å¦‚æœæ— æ³•æ±‚è§£ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨é‡‡æ ·ï¼ˆMCMCï¼‰æˆ–è€…å˜åˆ†æ¨æ–­ç­‰æ–¹æ³•æ¥è¿‘ä¼¼æ¨æ–­è¿™ä¸ªåéªŒã€‚æˆ‘ä»¬è§‚å¯Ÿ KL æ•£åº¦çš„è¡¨è¾¾å¼ï¼Œä¸ºäº†æœ€å¤§åŒ– ELBOï¼Œåœ¨å›ºå®šçš„ $\theta$ æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æœ€å°åŒ– KL æ•£åº¦ï¼Œäºæ˜¯ï¼š<br>$$<br>\hat{q}(z)&#x3D;\mathop{argmin}_qKL(p,q)&#x3D;\mathop{argmax}_qELBO<br>$$<br>è¿™å°±æ˜¯å¹¿ä¹‰ EM çš„åŸºæœ¬æ€è·¯ï¼š</p><ol><li><p>E stepï¼š<br>$$<br>\hat{q}^{t+1}(z)&#x3D;\mathop{argmax}_q\int_zq^t(z)\log\frac{p(x,z|\theta)}{q^t(z)}dz,fixed\ \theta<br>$$</p></li><li><p>M stepï¼š<br>$$<br>\hat{\theta}&#x3D;\mathop{argmax}_\theta \int_zq^{t+1}(z)\log\frac{p(x,z|\theta)}{q^{t+1}(z)}dz,fixed\ \hat{q}<br>$$</p></li></ol><p>å¯¹äºä¸Šé¢çš„ç§¯åˆ†ï¼š<br>$$<br>ELBO&#x3D;\int_zq(z)\log\frac{p(x,z|\theta)}{q(z)}dz&#x3D;\mathbb{E}_{q(z)}[p(x,z|\theta)]+Entropy(q(z))<br>$$<br>å› æ­¤ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œå¹¿ä¹‰ EM ç›¸å½“äºåœ¨åŸæ¥çš„å¼å­ä¸­åŠ å…¥ç†µè¿™ä¸€é¡¹ã€‚</p><h2 id="EM-çš„æ¨å¹¿"><a href="#EM-çš„æ¨å¹¿" class="headerlink" title="EM çš„æ¨å¹¿"></a>EM çš„æ¨å¹¿</h2><p>EM ç®—æ³•ç±»ä¼¼äºåæ ‡ä¸Šå‡æ³•ï¼Œå›ºå®šéƒ¨åˆ†åæ ‡ï¼Œä¼˜åŒ–å…¶ä»–åæ ‡ï¼Œå†ä¸€éä¸€éçš„è¿­ä»£ã€‚å¦‚æœåœ¨ EM æ¡†æ¶ä¸­ï¼Œæ— æ³•æ±‚è§£ $z$ åéªŒæ¦‚ç‡ï¼Œé‚£ä¹ˆéœ€è¦é‡‡ç”¨ä¸€äº›å˜ç§çš„ EM æ¥ä¼°ç®—è¿™ä¸ªåéªŒã€‚</p><ol><li>åŸºäºå¹³å‡åœºçš„å˜åˆ†æ¨æ–­ï¼ŒVBEM&#x2F;VEM</li><li>åŸºäºè’™ç‰¹å¡æ´›çš„EMï¼ŒMCEM</li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æ¦‚ç‡å›¾æ¨¡å‹</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/7.PGMIntro/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/7.PGMIntro/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚ç‡å›¾æ¨¡å‹"><a href="#æ¦‚ç‡å›¾æ¨¡å‹" class="headerlink" title="æ¦‚ç‡å›¾æ¨¡å‹"></a>æ¦‚ç‡å›¾æ¨¡å‹</h1><p>æ¦‚ç‡å›¾æ¨¡å‹ä½¿ç”¨å›¾çš„æ–¹å¼è¡¨ç¤ºæ¦‚ç‡åˆ†å¸ƒã€‚ä¸ºäº†åœ¨å›¾ä¸­æ·»åŠ å„ç§æ¦‚ç‡ï¼Œé¦–å…ˆæ€»ç»“ä¸€ä¸‹éšæœºå˜é‡åˆ†å¸ƒçš„ä¸€äº›è§„åˆ™ï¼š<br>$$<br>\begin{align}<br>&amp;Sum\ Rule:p(x_1)&#x3D;\int p(x_1,x_2)dx_2\<br>&amp;Product\ Rule:p(x_1,x_2)&#x3D;p(x_1|x_2)p(x_2)\<br>&amp;Chain\ Rule:p(x_1,x_2,\cdots,x_p)&#x3D;\prod\limits_{i&#x3D;1}^pp(x_i|x_{i+1,x_{i+2} \cdots}x_p)\<br>&amp;Bayesian\ Rule:p(x_1|x_2)&#x3D;\frac{p(x_2|x_1)p(x_1)}{p(x_2)}<br>\end{align}<br>$$<br>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨é“¾å¼æ³•åˆ™ä¸­ï¼Œå¦‚æœæ•°æ®ç»´åº¦ç‰¹åˆ«é«˜ï¼Œé‚£ä¹ˆçš„é‡‡æ ·å’Œè®¡ç®—éå¸¸å›°éš¾ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸€å®šç¨‹åº¦ä¸Šä½œå‡ºç®€åŒ–ï¼Œåœ¨æœ´ç´ è´å¶æ–¯ä¸­ï¼Œä½œå‡ºäº†æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾ã€‚åœ¨ Markov å‡è®¾ä¸­ï¼Œç»™å®šæ•°æ®çš„ç»´åº¦æ˜¯ä»¥æ—¶é—´é¡ºåºå‡ºç°çš„ï¼Œç»™å®šå½“å‰æ—¶é—´çš„ç»´åº¦ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªç»´åº¦ä¸ä¹‹å‰çš„ç»´åº¦ç‹¬ç«‹ã€‚åœ¨ HMM ä¸­ï¼Œé‡‡ç”¨äº†é½æ¬¡ Markov å‡è®¾ã€‚åœ¨ Markov å‡è®¾ä¹‹ä¸Šï¼Œæ›´ä¸€èˆ¬çš„ï¼ŒåŠ å…¥æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾ï¼Œå¯¹ç»´åº¦åˆ’åˆ†é›†åˆ $A,B,C$ï¼Œä½¿å¾— $X_A\perp X_B|X_C$ã€‚</p><p>æ¦‚ç‡å›¾æ¨¡å‹é‡‡ç”¨å›¾çš„ç‰¹ç‚¹è¡¨ç¤ºä¸Šè¿°çš„æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾ï¼ŒèŠ‚ç‚¹è¡¨ç¤ºéšæœºå˜é‡ï¼Œè¾¹è¡¨ç¤ºæ¡ä»¶æ¦‚ç‡ã€‚æ¦‚ç‡å›¾æ¨¡å‹å¯ä»¥åˆ†ä¸ºä¸‰å¤§ç†è®ºéƒ¨åˆ†ï¼š</p><ol><li>è¡¨ç¤ºï¼š<ol><li>æœ‰å‘å›¾ï¼ˆç¦»æ•£ï¼‰ï¼šè´å¶æ–¯ç½‘ç»œ</li><li>é«˜æ–¯å›¾ï¼ˆè¿ç»­ï¼‰ï¼šé«˜æ–¯è´å¶æ–¯å’Œé«˜æ–¯é©¬å°”å¯å¤«ç½‘è·¯</li><li>æ— å‘å›¾ï¼ˆç¦»æ•£ï¼‰ï¼šé©¬å°”å¯å¤«ç½‘ç»œ</li></ol></li><li>æ¨æ–­<ol><li>ç²¾ç¡®æ¨æ–­</li><li>è¿‘ä¼¼æ¨æ–­<ol><li>ç¡®å®šæ€§è¿‘ä¼¼ï¼ˆå¦‚å˜åˆ†æ¨æ–­ï¼‰</li><li>éšæœºè¿‘ä¼¼ï¼ˆå¦‚ MCMCï¼‰</li></ol></li></ol></li><li>å­¦ä¹ <ol><li>å‚æ•°å­¦ä¹ <ol><li>å®Œå¤‡æ•°æ®</li><li>éšå˜é‡ï¼šE-M ç®—æ³•</li></ol></li><li>ç»“æ„å­¦ä¹ </li></ol></li></ol><h2 id="æœ‰å‘å›¾-è´å¶æ–¯ç½‘ç»œ"><a href="#æœ‰å‘å›¾-è´å¶æ–¯ç½‘ç»œ" class="headerlink" title="æœ‰å‘å›¾-è´å¶æ–¯ç½‘ç»œ"></a>æœ‰å‘å›¾-è´å¶æ–¯ç½‘ç»œ</h2><p>å·²çŸ¥è”åˆåˆ†å¸ƒä¸­ï¼Œå„ä¸ªéšæœºå˜é‡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡æ‹“æ‰‘æ’åºï¼ˆæ ¹æ®ä¾èµ–å…³ç³»ï¼‰å¯ä»¥è·å¾—ä¸€ä¸ªæœ‰å‘å›¾ã€‚è€Œå¦‚æœå·²çŸ¥ä¸€ä¸ªå›¾ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¾—åˆ°è”åˆæ¦‚ç‡åˆ†å¸ƒçš„å› å­åˆ†è§£ï¼š<br>$$<br>p(x_1,x_2,\cdots,x_p)&#x3D;\prod\limits_{i&#x3D;1}^pp(x_i|x_{parent(i)})<br>$$<br>é‚£ä¹ˆå®é™…çš„å›¾ä¸­æ¡ä»¶ç‹¬ç«‹æ€§æ˜¯å¦‚ä½•ä½“ç°çš„å‘¢ï¼Ÿåœ¨å±€éƒ¨ä»»ä½•ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥æœ‰ä¸‰ç§ç»“æ„ï¼š</p><ol><li><pre><code class="mermaid">graph TB;    A((A))--&gt;B((B));    B--&gt;C((C));<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs coq"><br>    $$<br>    p(A,B,C)=p(A)p(B|<span class="hljs-type">A</span>)p(C|<span class="hljs-type">B</span>)=p(A)p(B|<span class="hljs-type">A</span>)p(C|<span class="hljs-type">B</span>,A)\\<br>    \Longrightarrow p(C|<span class="hljs-type">B</span>)=p(C|<span class="hljs-type">B</span>,A)\\<br>    \Leftrightarrow p(C|<span class="hljs-type">B</span>)p(A|<span class="hljs-type">B</span>)=p(C|<span class="hljs-type">A</span>,B)p(A|<span class="hljs-type">B</span>)=p(C,A|<span class="hljs-type">B</span>)\\<br>    \Longrightarrow C\perp A|<span class="hljs-type">B</span><br>    $$<br><br><span class="hljs-number">2.</span>  ```mermaid<br>    graph TB;<br>    B((B))--&gt;A((A));<br>    B--&gt;C((C));<br></code></pre></td></tr></table></figure>$$p(A,B,C)=p(A|B)p(B)p(C|B)=p(B)p(A|B)p(C|A,B)\\\Longrightarrow p(C|B)=p(C|B,A)\\\Leftrightarrow p(C|B)p(A|B)=p(C|A,B)p(A|B)=p(C,A|B)\\\Longrightarrow C\perp A|B$$</code></pre></li><li><pre><code class="mermaid">graph TB;    A((A))--&gt;B((B));    C((C))--&gt;B<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs gams"><br>    <span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br>    p(A,B,C)=p(A)p(C)p(B|C,A)=p(A)p(C|A)p(B|C,A)\\<br>    \Longrightarrow p(C)=p(C|A)\\<br>    \Leftrightarrow C\perp A\\<br>    <span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br><br>    å¯¹è¿™ç§ç»“æ„ï¼Œ<span class="hljs-symbol">$</span>A,C<span class="hljs-symbol">$</span> ä¸ä¸ <span class="hljs-symbol">$</span>B<span class="hljs-symbol">$</span> æ¡ä»¶ç‹¬ç«‹ã€‚<br><br>ä»æ•´ä½“çš„å›¾æ¥çœ‹ï¼Œå¯ä»¥å¼•å…¥ D åˆ’åˆ†çš„æ¦‚å¿µã€‚å¯¹äºç±»ä¼¼ä¸Šé¢å›¾ <span class="hljs-number">1</span>å’Œå›¾ <span class="hljs-number">2</span>çš„å…³ç³»ï¼Œå¼•å…¥é›†åˆAï¼ŒBï¼Œé‚£ä¹ˆæ»¡è¶³ <span class="hljs-symbol">$</span>A\perp B|C<span class="hljs-symbol">$</span> çš„ <span class="hljs-symbol">$</span>C<span class="hljs-symbol">$</span> é›†åˆä¸­çš„ç‚¹ä¸ <span class="hljs-symbol">$</span>A,B<span class="hljs-symbol">$</span>  ä¸­çš„ç‚¹çš„å…³ç³»éƒ½æ»¡è¶³å›¾ <span class="hljs-number">1</span>ï¼Œ<span class="hljs-number">2</span>ï¼Œæ»¡è¶³å›¾<span class="hljs-number">3</span> å…³ç³»çš„ç‚¹éƒ½ä¸åœ¨ <span class="hljs-symbol">$</span>C<span class="hljs-symbol">$</span> ä¸­ã€‚D åˆ’åˆ†åº”ç”¨åœ¨è´å¶æ–¯å®šç†ä¸­ï¼š<br><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br>p(x_i|x_&#123;-i&#125;)=\<span class="hljs-built_in">frac</span>&#123;p(x)&#125;&#123;\int p(x)dx_&#123;i&#125;&#125;=\<span class="hljs-built_in">frac</span>&#123;\<span class="hljs-keyword">prod</span>\limits_&#123;j=<span class="hljs-number">1</span>&#125;^pp(x_j|x_&#123;parents(j)&#125;)&#125;&#123;\int\<span class="hljs-keyword">prod</span>\limits_&#123;j=<span class="hljs-number">1</span>&#125;^pp(x_j|x_&#123;parents(j)&#125;)dx_i&#125;<br><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br>å¯ä»¥å‘ç°ï¼Œä¸Šä¸‹éƒ¨åˆ†å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯å’Œ <span class="hljs-symbol">$</span>x_i<span class="hljs-symbol">$</span> ç›¸å…³çš„ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯å’Œ <span class="hljs-symbol">$</span>x_i<span class="hljs-symbol">$</span> æ— å…³çš„ï¼Œè€Œè¿™ä¸ªæ— å…³çš„éƒ¨åˆ†å¯ä»¥ç›¸äº’çº¦æ‰ã€‚äºæ˜¯è®¡ç®—åªæ¶‰åŠå’Œ <span class="hljs-symbol">$</span>x_i<span class="hljs-symbol">$</span> ç›¸å…³çš„éƒ¨åˆ†ã€‚<br><br>ä¸ <span class="hljs-symbol">$</span>x_i<span class="hljs-symbol">$</span> ç›¸å…³çš„éƒ¨åˆ†å¯ä»¥å†™æˆï¼š<br><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br>p(x_i|x_&#123;parents(i)&#125;)p(x_&#123;child(i)&#125;|x_i)<br><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br>è¿™äº›ç›¸å…³çš„éƒ¨åˆ†åˆå«åš Markov æ¯¯ã€‚<br><br>å®é™…åº”ç”¨çš„æ¨¡å‹ä¸­ï¼Œå¯¹è¿™äº›æ¡ä»¶ç‹¬ç«‹æ€§ä½œå‡ºäº†å‡è®¾ï¼Œä»å•ä¸€åˆ°æ··åˆï¼Œä»æœ‰é™åˆ°æ— é™ï¼ˆæ—¶é—´ï¼Œç©ºé—´ï¼‰å¯ä»¥åˆ†ä¸ºï¼š<br><br><span class="hljs-number">1.</span>  æœ´ç´ è´å¶æ–¯ï¼Œå•ä¸€çš„æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾ <span class="hljs-symbol">$</span>p(x|y)=\<span class="hljs-keyword">prod</span>\limits_&#123;i=<span class="hljs-number">1</span>&#125;^pp(x_i|y)<span class="hljs-symbol">$</span>ï¼Œåœ¨ D åˆ’åˆ†åï¼Œæ‰€æœ‰æ¡ä»¶ä¾èµ–çš„é›†åˆå°±æ˜¯å•ä¸ªå…ƒç´ ã€‚<br><span class="hljs-number">2.</span>  é«˜æ–¯æ··åˆæ¨¡å‹ï¼šæ··åˆçš„æ¡ä»¶ç‹¬ç«‹ã€‚å¼•å…¥å¤šç±»åˆ«çš„éšå˜é‡ <span class="hljs-symbol">$</span>z_1, z_2,\cdots,z_k<span class="hljs-symbol">$</span>ï¼Œ <span class="hljs-symbol">$</span>p(x|z)=\mathcal&#123;N&#125;(\mu,\Sigma)<span class="hljs-symbol">$</span>ï¼Œæ¡ä»¶ä¾èµ–é›†åˆä¸ºå¤šä¸ªå…ƒç´ ã€‚<br><span class="hljs-number">3.</span>  ä¸æ—¶é—´ç›¸å…³çš„æ¡ä»¶ä¾èµ–<br>    <span class="hljs-number">1.</span>  Markov é“¾<br>    <span class="hljs-number">2.</span>  é«˜æ–¯è¿‡ç¨‹ï¼ˆæ— é™ç»´é«˜æ–¯åˆ†å¸ƒï¼‰<br><span class="hljs-number">4.</span>  è¿ç»­ï¼šé«˜æ–¯è´å¶æ–¯ç½‘ç»œ<br><span class="hljs-number">5.</span>  ç»„åˆä¸Šé¢çš„åˆ†ç±»<br>    *   GMM ä¸æ—¶åºç»“åˆï¼šåŠ¨æ€æ¨¡å‹<br>        *   HMMï¼ˆç¦»æ•£ï¼‰<br>        *   çº¿æ€§åŠ¨æ€ç³»ç»Ÿ LDSï¼ˆKalman æ»¤æ³¢ï¼‰<br>        *   ç²’å­æ»¤æ³¢ï¼ˆéé«˜æ–¯ï¼Œéçº¿æ€§ï¼‰<br><br>## æ— å‘å›¾-é©¬å°”å¯å¤«ç½‘ç»œï¼ˆé©¬å°”å¯å¤«éšæœºåœºï¼‰<br><br>æ— å‘å›¾æ²¡æœ‰äº†ç±»ä¼¼æœ‰å‘å›¾çš„å±€éƒ¨ä¸åŒç»“æ„ï¼Œåœ¨é©¬å°”å¯å¤«ç½‘ç»œä¸­ï¼Œä¹Ÿå­˜åœ¨ D åˆ’åˆ†çš„æ¦‚å¿µã€‚ç›´æ¥å°†æ¡ä»¶ç‹¬ç«‹çš„é›†åˆ <span class="hljs-symbol">$</span>x_A\perp x_B|x_C<span class="hljs-symbol">$</span> åˆ’åˆ†ä¸ºä¸‰ä¸ªé›†åˆã€‚è¿™ä¸ªä¹Ÿå«å…¨å±€ Markovã€‚å¯¹å±€éƒ¨çš„èŠ‚ç‚¹ï¼Œ<span class="hljs-symbol">$</span>x\perp (X-Neighbour(\mathcal&#123;x&#125;))|Neighbour(x)<span class="hljs-symbol">$</span>ã€‚è¿™ä¹Ÿå«å±€éƒ¨ Markovã€‚å¯¹äºæˆå¯¹çš„èŠ‚ç‚¹ï¼š<span class="hljs-symbol">$</span>x_i\perp x_j|x_&#123;-i-j&#125;<span class="hljs-symbol">$</span>ï¼Œå…¶ä¸­ <span class="hljs-symbol">$</span>i,j<span class="hljs-symbol">$</span> ä¸èƒ½ç›¸é‚»ã€‚è¿™ä¹Ÿå«æˆå¯¹ Markovã€‚äº‹å®ä¸Šä¸Šé¢ä¸‰ä¸ªç‚¹å±€éƒ¨å…¨å±€æˆå¯¹æ˜¯ç›¸äº’ç­‰ä»·çš„ã€‚<br><br>æœ‰äº†è¿™ä¸ªæ¡ä»¶ç‹¬ç«‹æ€§çš„åˆ’åˆ†ï¼Œè¿˜éœ€è¦å› å­åˆ†è§£æ¥å®é™…è®¡ç®—ã€‚å¼•å…¥å›¢çš„æ¦‚å¿µï¼š<br><br>&gt;   å›¢ï¼Œæœ€å¤§å›¢ï¼šå›¾ä¸­èŠ‚ç‚¹çš„é›†åˆï¼Œé›†åˆä¸­çš„èŠ‚ç‚¹ä¹‹é—´ç›¸äº’éƒ½æ˜¯è¿æ¥çš„å«åšå›¢ï¼Œå¦‚æœä¸èƒ½å†æ·»åŠ èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå«æœ€å¤§å›¢ã€‚<br><br>åˆ©ç”¨è¿™ä¸ªå®šä¹‰è¿›è¡Œçš„ <span class="hljs-symbol">$</span>x<span class="hljs-symbol">$</span> æ‰€æœ‰ç»´åº¦çš„è”åˆæ¦‚ç‡åˆ†å¸ƒçš„å› å­åˆ†è§£ä¸ºï¼Œå‡è®¾æœ‰ <span class="hljs-symbol">$</span>K<span class="hljs-symbol">$</span> ä¸ªå›¢ï¼Œ<span class="hljs-symbol">$</span>Z<span class="hljs-symbol">$</span> å°±æ˜¯å¯¹æ‰€æœ‰å¯èƒ½å–å€¼æ±‚å’Œï¼š<br><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br>\begin&#123;align&#125;p(x)=\<span class="hljs-built_in">frac</span>&#123;<span class="hljs-number">1</span>&#125;&#123;Z&#125;\<span class="hljs-keyword">prod</span>\limits_&#123;i=<span class="hljs-number">1</span>&#125;^&#123;K&#125;\phi(x_&#123;ci&#125;)\\<br>Z=\<span class="hljs-keyword">sum</span>\limits_&#123;x\in\mathcal&#123;X&#125;&#125;\<span class="hljs-keyword">prod</span>\limits_&#123;i=<span class="hljs-number">1</span>&#125;^&#123;K&#125;\phi(x_&#123;ci&#125;)<br>\end&#123;align&#125;<br><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br>å…¶ä¸­ <span class="hljs-symbol">$</span>\phi(x_&#123;ci&#125;)<span class="hljs-symbol">$</span> å«åšåŠ¿å‡½æ•°ï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªæ­£å€¼ï¼Œå¯ä»¥è®°ä¸ºï¼š<br><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br>\phi(x_&#123;ci&#125;)=\<span class="hljs-built_in">exp</span>(-E(x_&#123;ci&#125;))<br><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span><br> è¿™ä¸ªåˆ†å¸ƒå«åš Gibbs åˆ†å¸ƒï¼ˆç»å°”å…¹æ›¼åˆ†å¸ƒï¼‰ã€‚äºæ˜¯ä¹Ÿå¯ä»¥è®°ä¸ºï¼š<span class="hljs-symbol">$</span>p(x)=\<span class="hljs-built_in">frac</span>&#123;<span class="hljs-number">1</span>&#125;&#123;Z&#125;\<span class="hljs-built_in">exp</span>(-\<span class="hljs-keyword">sum</span>\limits_&#123;i=<span class="hljs-number">1</span>&#125;^KE(x_&#123;ci&#125;))<span class="hljs-symbol">$</span>ã€‚è¿™ä¸ªåˆ†è§£å’Œæ¡ä»¶ç‹¬ç«‹æ€§ç­‰ä»·ï¼ˆHammesley-Clifford å®šç†ï¼‰ï¼Œè¿™ä¸ªåˆ†å¸ƒçš„å½¢å¼ä¹Ÿå’ŒæŒ‡æ•°æ—åˆ†å¸ƒå½¢å¼ä¸Šç›¸åŒï¼Œäºæ˜¯æ»¡è¶³æœ€å¤§ç†µåŸç†ã€‚<br><br>## ä¸¤ç§å›¾çš„è½¬æ¢-é“å¾·å›¾<br><br>æˆ‘ä»¬å¸¸å¸¸æƒ³å°†æœ‰å‘å›¾è½¬ä¸ºæ— å‘å›¾ï¼Œä»è€Œåº”ç”¨æ›´ä¸€èˆ¬çš„è¡¨è¾¾å¼ã€‚<br><br><span class="hljs-number">1.</span>  é“¾å¼ï¼š<br><br>    ```mermaid<br>    graph TB;<br>    A((A))--&gt;B((B));<br>    B--&gt;C((C));<br></code></pre></td></tr></table></figure>ç›´æ¥å»æ‰ç®­å¤´ï¼Œ$p(a,b,c)=p(a)p(b|a)p(c|b)=\phi(a,b)\phi(b,c)$ï¼š<pre><code class=" mermaid">graph TB;A((A))---B((B));B---C((C));</code></pre></code></pre></li><li><p>V å½¢ï¼š</p><pre><code class=" mermaid">graph TB;B((B))--&gt;A((A));B--&gt;C((C));</code></pre><p>ç”±äº $p(a,b,c)&#x3D;p(b)p(a|b)p(c|b)&#x3D;\phi(a,b)\phi(b,c)$ï¼Œç›´æ¥å»æ‰ç®­å¤´ï¼š</p><pre><code class=" mermaid">graph TB;B((B))---A((A));B---C((C));</code></pre></li><li><p>å€’ V å½¢ï¼š</p><pre><code class=" mermaid">graph TB;A((A))--&gt;B((B));C((C))--&gt;B</code></pre><p>ç”±äº $p(a,b,c)&#x3D;p(a)p(c)p(b|a,c)&#x3D;\phi(a,b,c)$ï¼Œäºæ˜¯åœ¨ $a,c$ ä¹‹é—´æ·»åŠ çº¿ï¼š</p><pre><code class=" mermaid">graph TD;a((a))---b((b));b---c((c));a---c;</code></pre><p>è§‚å¯Ÿç€ä¸‰ç§æƒ…å†µå¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</p><ol><li>å°†æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸¤ä¸¤ç›¸è¿</li><li>å°†æœ‰å‘è¾¹æ›¿æ¢ä¸ºæ— å‘è¾¹</li></ol></li></ol><h2 id="æ›´ç²¾ç»†çš„åˆ†è§£-å› å­å›¾"><a href="#æ›´ç²¾ç»†çš„åˆ†è§£-å› å­å›¾" class="headerlink" title="æ›´ç²¾ç»†çš„åˆ†è§£-å› å­å›¾"></a>æ›´ç²¾ç»†çš„åˆ†è§£-å› å­å›¾</h2><p>å¯¹äºä¸€ä¸ªæœ‰å‘å›¾ï¼Œå¯ä»¥é€šè¿‡å¼•å…¥ç¯çš„æ–¹å¼ï¼Œå¯ä»¥å°†å…¶è½¬æ¢ä¸ºæ— å‘å›¾ï¼ˆTree-like graphï¼‰ï¼Œè¿™ä¸ªå›¾å°±å«åšé“å¾·å›¾ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸Šé¢çš„ BP ç®—æ³•åªå¯¹æ— ç¯å›¾æœ‰æ•ˆï¼Œé€šè¿‡å› å­å›¾å¯ä»¥å˜ä¸ºæ— ç¯å›¾ã€‚</p><p>è€ƒè™‘ä¸€ä¸ªæ— å‘å›¾ï¼š</p><pre><code class=" mermaid">graph TD;a((a))---b((b));b---c((c));a---c;</code></pre><p>å¯ä»¥å°†å…¶è½¬ä¸ºï¼š</p><pre><code class=" mermaid">graph TD;a((a))---f;f---b((b));f---c((c))</code></pre><p>å…¶ä¸­ $f&#x3D;f(a,b,c)$ã€‚å› å­å›¾ä¸æ˜¯å”¯ä¸€çš„ï¼Œè¿™æ˜¯ç”±äºå› å¼åˆ†è§£æœ¬èº«å°±å¯¹åº”ä¸€ä¸ªç‰¹æ®Šçš„å› å­å›¾ï¼Œå°†å› å¼åˆ†è§£ï¼š$p(x)&#x3D;\prod\limits_{s}f_s(x_s)$ å¯ä»¥è¿›ä¸€æ­¥åˆ†è§£å¾—åˆ°å› å­å›¾ã€‚</p><h2 id="æ¨æ–­"><a href="#æ¨æ–­" class="headerlink" title="æ¨æ–­"></a>æ¨æ–­</h2><p>æ¨æ–­çš„ä¸»è¦ç›®çš„æ˜¯æ±‚å„ç§æ¦‚ç‡åˆ†å¸ƒï¼ŒåŒ…æ‹¬è¾¹ç¼˜æ¦‚ç‡ï¼Œæ¡ä»¶æ¦‚ç‡ï¼Œä»¥åŠä½¿ç”¨ MAP æ¥æ±‚å¾—å‚æ•°ã€‚é€šå¸¸æ¨æ–­å¯ä»¥åˆ†ä¸ºï¼š</p><ol><li>ç²¾ç¡®æ¨æ–­<ol><li>Variable Elimination(VE)</li><li>Belief Propagation(BP, Sum-Product Algo)ï¼Œä» VE å‘å±•è€Œæ¥</li><li>Junction Treeï¼Œä¸Šé¢ä¸¤ç§åœ¨æ ‘ç»“æ„ä¸Šåº”ç”¨ï¼ŒJunction Tree åœ¨å›¾ç»“æ„ä¸Šåº”ç”¨</li></ol></li><li>è¿‘ä¼¼æ¨æ–­<ol><li>Loop Belief Propagationï¼ˆé’ˆå¯¹æœ‰ç¯å›¾ï¼‰</li><li>Mente Carlo Interferenceï¼šä¾‹å¦‚ Importance Samplingï¼ŒMCMC</li><li>Variational Inference</li></ol></li></ol><h3 id="æ¨æ–­-å˜é‡æ¶ˆé™¤ï¼ˆVEï¼‰"><a href="#æ¨æ–­-å˜é‡æ¶ˆé™¤ï¼ˆVEï¼‰" class="headerlink" title="æ¨æ–­-å˜é‡æ¶ˆé™¤ï¼ˆVEï¼‰"></a>æ¨æ–­-å˜é‡æ¶ˆé™¤ï¼ˆVEï¼‰</h3><p>å˜é‡æ¶ˆé™¤çš„æ–¹æ³•æ˜¯åœ¨æ±‚è§£æ¦‚ç‡åˆ†å¸ƒçš„æ—¶å€™ï¼Œå°†ç›¸å…³çš„æ¡ä»¶æ¦‚ç‡å…ˆè¡Œæ±‚å’Œæˆ–ç§¯åˆ†ï¼Œä»è€Œä¸€æ­¥æ­¥åœ°æ¶ˆé™¤å˜é‡ï¼Œä¾‹å¦‚åœ¨é©¬å°”å¯å¤«é“¾ä¸­ï¼š</p><pre><code class=" mermaid">graph LR;a((a))--&gt;b((b));b--&gt;c((c));c--&gt;d((d))</code></pre><p>$$<br>p(d)&#x3D;\sum\limits_{a,b,c}p(a,b,c,d)&#x3D;\sum\limits_cp(d|c)\sum\limits_bp(c|b)\sum\limits_ap(b|a)p(a)<br>$$</p><p>å˜é‡æ¶ˆé™¤çš„ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼š</p><ol><li>è®¡ç®—æ­¥éª¤æ— æ³•å­˜å‚¨</li><li>æ¶ˆé™¤çš„æœ€ä¼˜æ¬¡åºæ˜¯ä¸€ä¸ª NP-hard é—®é¢˜</li></ol><h3 id="æ¨æ–­-ä¿¡å¿µä¼ æ’­ï¼ˆBPï¼‰"><a href="#æ¨æ–­-ä¿¡å¿µä¼ æ’­ï¼ˆBPï¼‰" class="headerlink" title="æ¨æ–­-ä¿¡å¿µä¼ æ’­ï¼ˆBPï¼‰"></a>æ¨æ–­-ä¿¡å¿µä¼ æ’­ï¼ˆBPï¼‰</h3><p>ä¸ºäº†å…‹æœ VE çš„ç¬¬ä¸€ä¸ªç¼ºé™·-è®¡ç®—æ­¥éª¤æ— æ³•å­˜å‚¨ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥åœ°å¯¹ä¸Šé¢çš„é©¬å°”å¯å¤«é“¾è¿›è¡Œè§‚å¯Ÿï¼š</p><pre><code class=" mermaid">graph LR;a((a))--&gt;b((b));b--&gt;c((c));c--&gt;d((d));d--&gt;e((e));</code></pre><p>è¦æ±‚ $p(e)$ï¼Œå½“ç„¶ä½¿ç”¨ VEï¼Œä» $a$ ä¸€ç›´æ¶ˆé™¤åˆ° $d$ï¼Œè®° $\sum\limits_ap(a)p(b|a)&#x3D;m_{a\to b(b)}$ï¼Œè¡¨ç¤ºè¿™æ˜¯æ¶ˆé™¤ $a$ åçš„å…³äº $b$ çš„æ¦‚ç‡ï¼Œç±»ä¼¼åœ°ï¼Œè®° $\sum\limits_bp(c|b)m_{a\to b}(b)&#x3D;m_{b\to c}(c)$ã€‚äºæ˜¯ $p(e)&#x3D;\sum\limits_dp(e|d)m_{b\to c}(c)$ã€‚</p><p>è¿›ä¸€æ­¥è§‚å¯Ÿï¼Œå¯¹ $p(c)$ï¼š<br>$$<br>p(c)&#x3D;[\sum\limits_bp(c|b)\sum\limits_ap(b|a)p(a)]\cdot[\sum\limits_dp(d|c)\sum\limits_ep(e)p(e|d)]<br>$$<br>æˆ‘ä»¬å‘ç°äº†å’Œä¸Šé¢è®¡ç®— $p(e)$ ç±»ä¼¼çš„ç»“æ„ï¼Œè¿™ä¸ªå¼å­å¯ä»¥åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯ä» $a$ ä¼ æ’­è¿‡æ¥çš„æ¦‚ç‡ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ä» $Â e$ ä¼ æ’­è¿‡æ¥çš„æ¦‚ç‡ã€‚</p><p>ä¸€èˆ¬åœ°ï¼Œå¯¹äºå›¾ï¼ˆåªå¯¹æ ‘å½¢çŠ¶çš„å›¾ï¼‰ï¼š</p><pre><code class=" mermaid">graph TD;a((a))---b((b));b---c((c));b---d((d));</code></pre><p>è¿™å››ä¸ªå›¢ï¼ˆå¯¹äºæ— å‘å›¾æ˜¯å›¢ï¼Œå¯¹äºæœ‰å‘å›¾å°±æ˜¯æ¦‚ç‡ä¸ºé™¤äº†æ ¹çš„èŠ‚ç‚¹ä¸º1ï¼‰ï¼Œæœ‰å››ä¸ªèŠ‚ç‚¹ï¼Œä¸‰ä¸ªè¾¹ï¼š<br>$$<br>p(a,b,c,d)&#x3D;\frac{1}{Z}\phi_a(a)\phi_b(b)\phi_c(c)\phi_d(d)\cdot\phi_{ab}(a,b)\phi_{bc}(c,b)\phi_{bd}(d,b)<br>$$<br>å¥—ç”¨ä¸Šé¢å…³äºæœ‰å‘å›¾çš„è§‚å¯Ÿï¼Œå¦‚æœæ±‚è§£è¾¹ç¼˜æ¦‚ç‡ $p(a)$ï¼Œå®šä¹‰ $m_{c\to b}(b)&#x3D;\sum\limits_c\phi_c(c)\phi_{bc}(bc)$ï¼Œ$m_{d\to b}(b)&#x3D;\sum\limits_d\phi_d(d)\phi_{bd}(bd)$ï¼Œ$m_{b\to a}(a)&#x3D;\sum\limits_b\phi_{ba}(ba)\phi_b(b)m_{c\to b}(b)<em>{d\to b}m(b)$ï¼Œè¿™æ ·æ¦‚ç‡å°±ä¸€æ­¥æ­¥åœ°ä¼ æ’­åˆ°äº† $a$ï¼š<br>$$<br>p(a)&#x3D;\phi_a(a)m</em>{b\to a}(a)<br>$$<br>å†™æˆä¸€èˆ¬çš„å½¢å¼ï¼Œå¯¹äºç›¸é‚»èŠ‚ç‚¹ $i,j$ï¼š<br>$$<br>m_{j\to i}(i)&#x3D;\sum\limits_j\phi_j(j)\phi_{ij}(ij)\prod\limits_{k\in Neighbour(j)-i}m_{k\to j}(j)<br>$$<br>è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå°±å¯ä»¥ä¿å­˜è®¡ç®—è¿‡ç¨‹äº†ï¼Œåªè¦å¯¹æ¯æ¡è¾¹çš„ä¼ æ’­åˆ†åˆ«è®¡ç®—ï¼Œå¯¹äºä¸€ä¸ªæ— å‘æ ‘å½¢å›¾å¯ä»¥é€’å½’å¹¶è¡Œå®ç°ï¼š</p><ol><li>ä»»å–ä¸€ä¸ªèŠ‚ç‚¹ $a$ ä½œä¸ºæ ¹èŠ‚ç‚¹</li><li>å¯¹è¿™ä¸ªæ ¹èŠ‚ç‚¹çš„é‚»å±…ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ”¶é›†ä¿¡æ¯ï¼ˆè®¡ç®—å…¥ä¿¡æ¯ï¼‰</li><li>å¯¹æ ¹èŠ‚ç‚¹çš„é‚»å±…ï¼Œåˆ†å‘ä¿¡æ¯ï¼ˆè®¡ç®—å‡ºä¿¡æ¯ï¼‰</li></ol><h3 id="æ¨æ–­-Max-Product-ç®—æ³•"><a href="#æ¨æ–­-Max-Product-ç®—æ³•" class="headerlink" title="æ¨æ–­-Max-Product ç®—æ³•"></a>æ¨æ–­-Max-Product ç®—æ³•</h3><p>åœ¨æ¨æ–­ä»»åŠ¡ä¸­ï¼ŒMAP ä¹Ÿæ˜¯å¸¸å¸¸éœ€è¦çš„ï¼ŒMAP çš„ç›®çš„æ˜¯å¯»æ‰¾æœ€ä½³å‚æ•°ï¼š<br>$$<br>(\hat{a},\hat{b},\hat{c},\hat{d})&#x3D;\mathop{argmax}<em>{a,b,c,d}p(a,b,c,d|E)<br>$$<br>ç±»ä¼¼ BPï¼Œæˆ‘ä»¬é‡‡ç”¨ä¿¡æ¯ä¼ é€’çš„æ–¹å¼æ¥æ±‚å¾—æœ€ä¼˜å‚æ•°ï¼Œä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨æ‰€æœ‰ä¿¡æ¯ä¼ é€’ä¸­ï¼Œä¼ é€’çš„æ˜¯æœ€å¤§åŒ–å‚æ•°çš„æ¦‚ç‡ï¼Œè€Œä¸æ˜¯å°†æ‰€æœ‰å¯èƒ½æ±‚å’Œï¼š<br>$$<br>m</em>{j\to i}&#x3D;\max\limits_{j}\phi_j\phi_{ij}\prod\limits_{k\in Neighbour(j)-i}m_{k\to j}<br>$$<br>äºæ˜¯å¯¹äºä¸Šé¢çš„å›¾ï¼š<br>$$<br>\max_a p(a,b,c,d)&#x3D;\max_a\phi_a\phi_{ab}m_{c\to b}m_{d\to b}<br>$$<br>è¿™ä¸ªç®—æ³•æ˜¯ Sum-Product ç®—æ³•çš„æ”¹è¿›ï¼Œä¹Ÿæ˜¯åœ¨ HMM ä¸­åº”ç”¨ç»™çš„ Viterbi ç®—æ³•çš„æ¨å¹¿ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æŒ‡æ•°æ—åˆ†å¸ƒ</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/6.Exponentialfamily/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/6.Exponentialfamily/</url>
    
    <content type="html"><![CDATA[<h1 id="æŒ‡æ•°æ—åˆ†å¸ƒ"><a href="#æŒ‡æ•°æ—åˆ†å¸ƒ" class="headerlink" title="æŒ‡æ•°æ—åˆ†å¸ƒ"></a>æŒ‡æ•°æ—åˆ†å¸ƒ</h1><p>æŒ‡æ•°æ—æ˜¯ä¸€ç±»åˆ†å¸ƒï¼ŒåŒ…æ‹¬é«˜æ–¯åˆ†å¸ƒã€ä¼¯åŠªåˆ©åˆ†å¸ƒã€äºŒé¡¹åˆ†å¸ƒã€æ³Šæ¾åˆ†å¸ƒã€Beta åˆ†å¸ƒã€Dirichlet åˆ†å¸ƒã€Gamma åˆ†å¸ƒç­‰ä¸€ç³»åˆ—åˆ†å¸ƒã€‚æŒ‡æ•°æ—åˆ†å¸ƒå¯ä»¥å†™ä¸ºç»Ÿä¸€çš„å½¢å¼ï¼š<br>$$<br>p(x|\eta)&#x3D;h(x)\exp(\eta^T\phi(x)-A(\eta))&#x3D;\frac{1}{\exp(A(\eta))}h(x)\exp(\eta^T\phi(x))<br>$$<br>å…¶ä¸­ï¼Œ$\eta$ æ˜¯å‚æ•°å‘é‡ï¼Œ$A(\eta)$ æ˜¯å¯¹æ•°é…åˆ†å‡½æ•°ï¼ˆå½’ä¸€åŒ–å› å­ï¼‰ã€‚</p><p>åœ¨è¿™ä¸ªå¼å­ä¸­ï¼Œ$Â \phi(x)$ å«åšå……åˆ†ç»Ÿè®¡é‡ï¼ŒåŒ…å«æ ·æœ¬é›†åˆæ‰€æœ‰çš„ä¿¡æ¯ï¼Œä¾‹å¦‚é«˜æ–¯åˆ†å¸ƒä¸­çš„å‡å€¼å’Œæ–¹å·®ã€‚å……åˆ†ç»Ÿè®¡é‡åœ¨åœ¨çº¿å­¦ä¹ ä¸­æœ‰åº”ç”¨ï¼Œå¯¹äºä¸€ä¸ªæ•°æ®é›†ï¼Œåªéœ€è¦è®°å½•æ ·æœ¬çš„å……åˆ†ç»Ÿè®¡é‡å³å¯ã€‚</p><p>å¯¹äºä¸€ä¸ªæ¨¡å‹åˆ†å¸ƒå‡è®¾ï¼ˆä¼¼ç„¶ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æ±‚è§£ä¸­ï¼Œå¸¸å¸¸éœ€è¦å¯»æ‰¾ä¸€ä¸ªå…±è½­å…ˆéªŒï¼Œä½¿å¾—å…ˆéªŒä¸åéªŒçš„å½¢å¼ç›¸åŒï¼Œä¾‹å¦‚é€‰å–ä¼¼ç„¶æ˜¯äºŒé¡¹åˆ†å¸ƒï¼Œå¯å–å…ˆéªŒæ˜¯ Beta åˆ†å¸ƒï¼Œé‚£ä¹ˆåéªŒä¹Ÿæ˜¯ Beta åˆ†å¸ƒã€‚æŒ‡æ•°æ—åˆ†å¸ƒå¸¸å¸¸å…·æœ‰å…±è½­çš„æ€§è´¨ï¼Œäºæ˜¯æˆ‘ä»¬åœ¨æ¨¡å‹é€‰æ‹©ä»¥åŠæ¨æ–­å…·æœ‰å¾ˆå¤§çš„ä¾¿åˆ©ã€‚</p><p>å…±è½­å…ˆéªŒçš„æ€§è´¨ä¾¿äºè®¡ç®—ï¼ŒåŒæ—¶ï¼ŒæŒ‡æ•°æ—åˆ†å¸ƒæ»¡è¶³æœ€å¤§ç†µçš„æ€æƒ³ï¼ˆæ— ä¿¡æ¯å…ˆéªŒï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºç»éªŒåˆ†å¸ƒåˆ©ç”¨æœ€å¤§ç†µåŸç†å¯¼å‡ºçš„åˆ†å¸ƒå°±æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒã€‚</p><p>è§‚å¯Ÿåˆ°æŒ‡æ•°æ—åˆ†å¸ƒçš„è¡¨è¾¾å¼ç±»ä¼¼çº¿æ€§æ¨¡å‹ï¼Œäº‹å®ä¸Šï¼ŒæŒ‡æ•°æ—åˆ†å¸ƒå¾ˆè‡ªç„¶åœ°å¯¼å‡ºå¹¿ä¹‰çº¿æ€§æ¨¡å‹ï¼š<br>$$<br>y&#x3D;f(w^Tx)\<br>y|x\sim Exp Family<br>$$<br>åœ¨æ›´å¤æ‚çš„æ¦‚ç‡å›¾æ¨¡å‹ä¸­ï¼Œä¾‹å¦‚åœ¨æ— å‘å›¾æ¨¡å‹ä¸­å¦‚å—é™ç»å°”å…¹æ›¼æœºä¸­ï¼ŒæŒ‡æ•°æ—åˆ†å¸ƒä¹Ÿæ‰®æ¼”ç€é‡è¦ä½œç”¨ã€‚</p><p>åœ¨æ¨æ–­çš„ç®—æ³•ä¸­ï¼Œä¾‹å¦‚å˜åˆ†æ¨æ–­ä¸­ï¼ŒæŒ‡æ•°æ—åˆ†å¸ƒä¹Ÿä¼šå¤§å¤§ç®€åŒ–è®¡ç®—ã€‚</p><h2 id="ä¸€ç»´é«˜æ–¯åˆ†å¸ƒ"><a href="#ä¸€ç»´é«˜æ–¯åˆ†å¸ƒ" class="headerlink" title="ä¸€ç»´é«˜æ–¯åˆ†å¸ƒ"></a>ä¸€ç»´é«˜æ–¯åˆ†å¸ƒ</h2><p>ä¸€ç»´é«˜æ–¯åˆ†å¸ƒå¯ä»¥å†™æˆï¼š<br>$$<br>p(x|\theta)&#x3D;\frac{1}{\sqrt{2\pi}\sigma}\exp(-\frac{(x-\mu)^2}{2\sigma^2})<br>$$<br>å°†è¿™ä¸ªå¼å­æ”¹å†™ï¼š<br>$$<br>\frac{1}{\sqrt{2\pi\sigma^2}}\exp(-\frac{1}{2\sigma^2}(x^2-2\mu x+\mu^2))\<br>&#x3D;\exp(\log(2\pi\sigma^2)^{-1&#x2F;2})\exp(-\frac{1}{2\sigma^2}\begin{pmatrix}-2\mu&amp;1\end{pmatrix}\begin{pmatrix}x\x^2\end{pmatrix}-\frac{\mu^2}{2\sigma^2})<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\eta&#x3D;\begin{pmatrix}\frac{\mu}{\sigma^2}\-\frac{1}{2\sigma^2}\end{pmatrix}&#x3D;\begin{pmatrix}\eta_1\\eta_2\end{pmatrix}<br>$$<br>äºæ˜¯ $A(\eta)$ï¼š<br>$$<br>A(\eta)&#x3D;-\frac{\eta_1^2}{4\eta_2}+\frac{1}{2}\log(-\frac{\pi}{\eta_2})<br>$$</p><h2 id="å……åˆ†ç»Ÿè®¡é‡å’Œå¯¹æ•°é…åˆ†å‡½æ•°çš„å…³ç³»"><a href="#å……åˆ†ç»Ÿè®¡é‡å’Œå¯¹æ•°é…åˆ†å‡½æ•°çš„å…³ç³»" class="headerlink" title="å……åˆ†ç»Ÿè®¡é‡å’Œå¯¹æ•°é…åˆ†å‡½æ•°çš„å…³ç³»"></a>å……åˆ†ç»Ÿè®¡é‡å’Œå¯¹æ•°é…åˆ†å‡½æ•°çš„å…³ç³»</h2><p>å¯¹æ¦‚ç‡å¯†åº¦å‡½æ•°æ±‚ç§¯åˆ†ï¼š<br>$$<br>\begin{align}<br>\exp(A(\eta))&amp;&#x3D;\int h(x)\exp(\eta^T\phi(x))dx\nonumber<br>\end{align}<br>$$<br>ä¸¤è¾¹å¯¹å‚æ•°æ±‚å¯¼ï¼š<br>$$<br>\exp(A(\eta))Aâ€™(\eta)&#x3D;\int h(x)\exp(\eta^T\phi(x))\phi(x)dx\<br>\Longrightarrow Aâ€™(\eta)&#x3D;\mathbb{E}<em>{p(x|\eta)}[\phi(x)]<br>$$<br>ç±»ä¼¼çš„ï¼š<br>$$<br>Aâ€™â€™(\eta)&#x3D;Var</em>{p(x|\eta)}[\phi(x)]<br>$$<br>ç”±äºæ–¹å·®ä¸ºæ­£ï¼Œäºæ˜¯ $A(\eta)$ ä¸€å®šæ˜¯å‡¸å‡½æ•°ã€‚</p><h2 id="å……åˆ†ç»Ÿè®¡é‡å’Œæå¤§ä¼¼ç„¶ä¼°è®¡"><a href="#å……åˆ†ç»Ÿè®¡é‡å’Œæå¤§ä¼¼ç„¶ä¼°è®¡" class="headerlink" title="å……åˆ†ç»Ÿè®¡é‡å’Œæå¤§ä¼¼ç„¶ä¼°è®¡"></a>å……åˆ†ç»Ÿè®¡é‡å’Œæå¤§ä¼¼ç„¶ä¼°è®¡</h2><p>å¯¹äºç‹¬ç«‹å…¨åŒé‡‡æ ·å¾—åˆ°çš„æ•°æ®é›† $\mathcal{D}&#x3D;{x_1,x_2,\cdots,x_N}$ã€‚<br>$$<br>\begin{align}\eta_{MLE}&amp;&#x3D;\mathop{argmax}<em>\eta\sum\limits</em>{i&#x3D;1}^N\log p(x_i|\eta)\nonumber\<br>&amp;&#x3D;\mathop{argmax}<em>\eta\sum\limits</em>{i&#x3D;1}^N(\eta^T\phi(x_i)-A(\eta))\nonumber\<br>&amp;\Longrightarrow Aâ€™(\eta_{MLE})&#x3D;\frac{1}{N}\sum\limits_{i&#x3D;1}^N\phi(x_i)</p><p>\end{align}<br>$$<br>ç”±æ­¤å¯ä»¥çœ‹åˆ°ï¼Œä¸ºäº†ä¼°ç®—å‚æ•°ï¼Œåªéœ€è¦çŸ¥é“å……åˆ†ç»Ÿè®¡é‡å°±å¯ä»¥äº†ã€‚</p><h2 id="æœ€å¤§ç†µ"><a href="#æœ€å¤§ç†µ" class="headerlink" title="æœ€å¤§ç†µ"></a>æœ€å¤§ç†µ</h2><p>ä¿¡æ¯ç†µè®°ä¸ºï¼š<br>$$<br>Entropy&#x3D;\int-p(x)\log(p(x))dx<br>$$</p><blockquote><p>   ä¸€èˆ¬åœ°ï¼Œå¯¹äºå®Œå…¨éšæœºçš„å˜é‡ï¼ˆç­‰å¯èƒ½ï¼‰ï¼Œä¿¡æ¯ç†µæœ€å¤§ã€‚</p><p>  æˆ‘ä»¬çš„å‡è®¾ä¸ºæœ€å¤§ç†µåŸåˆ™ï¼Œå‡è®¾æ•°æ®æ˜¯ç¦»æ•£åˆ†å¸ƒçš„ï¼Œ$k$ ä¸ªç‰¹å¾çš„æ¦‚ç‡åˆ†åˆ«ä¸º $p_k$ï¼Œæœ€å¤§ç†µåŸç†å¯ä»¥è¡¨è¿°ä¸ºï¼š<br>  $$<br>  \max{H(p)}&#x3D;\min{\sum\limits_{k&#x3D;1}^Kp_k\log p_k}\ s.t.\ \sum\limits_{k&#x3D;1}^Kp_k&#x3D;1<br>  $$<br>  åˆ©ç”¨ Lagrange ä¹˜å­æ³•ï¼š<br>  $$<br>  L(p,\lambda)&#x3D;\sum\limits_{k&#x3D;1}^Kp_k\log p_k+\lambda(1-\sum\limits_{k&#x3D;1}^Kp_k)<br>  $$<br>  äºæ˜¯å¯å¾—ï¼š<br>  $$<br>  p_1&#x3D;p_2&#x3D;\cdots&#x3D;p_K&#x3D;\frac{1}{K}<br>  $$<br>  å› æ­¤ç­‰å¯èƒ½çš„æƒ…å†µç†µæœ€å¤§ã€‚</p></blockquote><p>ä¸€ä¸ªæ•°æ®é›† $\mathcal{D}$ï¼Œåœ¨è¿™ä¸ªæ•°æ®é›†ä¸Šçš„ç»éªŒåˆ†å¸ƒä¸º $\hat{p}(x)&#x3D;\frac{Count(x)}{N}$ï¼Œå®é™…ä¸å¯èƒ½æ»¡è¶³æ‰€æœ‰çš„ç»éªŒæ¦‚ç‡ç›¸åŒï¼Œäºæ˜¯åœ¨ä¸Šé¢çš„æœ€å¤§ç†µåŸç†ä¸­è¿˜éœ€è¦åŠ å…¥è¿™ä¸ªç»éªŒåˆ†å¸ƒçš„çº¦æŸã€‚</p><p>å¯¹ä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œç»éªŒåˆ†å¸ƒçš„ç»éªŒæœŸæœ›å¯ä»¥æ±‚å¾—ä¸ºï¼š<br>$$<br>\mathbb{E}<em>\hat{p}[f(x)]&#x3D;\Delta<br>$$<br>äºæ˜¯ï¼š<br>$$<br>\max{H(p)}&#x3D;\min{\sum\limits</em>{k&#x3D;1}^Np_k\log p_k}\ s.t.\ \sum\limits_{k&#x3D;1}^Np_k&#x3D;1,\mathbb{E}<em>p[f(x)]&#x3D;\Delta<br>$$<br>Lagrange å‡½æ•°ä¸ºï¼š<br>$$<br>L(p,\lambda_0,\lambda)&#x3D;\sum\limits</em>{k&#x3D;1}^Np_k\log p_k+\lambda_0(1-\sum\limits_{k&#x3D;1}^Np_k)+\lambda^T(\Delta-\mathbb{E}<em>p[f(x)])<br>$$<br>æ±‚å¯¼å¾—åˆ°ï¼š<br>$$<br>\frac{\partial}{\partial p(x)}L&#x3D;\sum\limits</em>{k&#x3D;1}^N(\log p(x)+1)-\sum\limits_{k&#x3D;1}^N\lambda_0-\sum\limits_{k&#x3D;1}^N\lambda^Tf(x)\<br>\Longrightarrow\sum\limits_{k&#x3D;1}^N\log p(x)+1-\lambda_0-\lambda^Tf(x)&#x3D;0<br>$$<br>ç”±äºæ•°æ®é›†æ˜¯ä»»æ„çš„ï¼Œå¯¹æ•°æ®é›†æ±‚å’Œä¹Ÿæ„å‘³ç€æ±‚å’Œé¡¹é‡Œé¢çš„æ¯ä¸€é¡¹éƒ½æ˜¯0ï¼š<br>$$<br>p(x)&#x3D;\exp(\lambda^Tf(x)+\lambda_0-1)<br>$$<br>è¿™å°±æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”é™ç»´</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/4.DimentionReduction/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/4.DimentionReduction/</url>
    
    <content type="html"><![CDATA[<h1 id="é™ç»´"><a href="#é™ç»´" class="headerlink" title="é™ç»´"></a>é™ç»´</h1><p>æˆ‘ä»¬çŸ¥é“ï¼Œè§£å†³è¿‡æ‹Ÿåˆçš„é—®é¢˜é™¤äº†æ­£åˆ™åŒ–å’Œæ·»åŠ æ•°æ®ä¹‹å¤–ï¼Œé™ç»´å°±æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚é™ç»´çš„æ€è·¯æ¥æºäºç»´åº¦ç¾éš¾çš„é—®é¢˜ï¼Œæˆ‘ä»¬çŸ¥é“ $n$ ç»´çƒçš„ä½“ç§¯ä¸ºï¼š<br>$$<br>CR^n<br>$$<br>é‚£ä¹ˆåœ¨çƒä½“ç§¯ä¸è¾¹é•¿ä¸º $2R$ çš„è¶…ç«‹æ–¹ä½“æ¯”å€¼ä¸ºï¼š<br>$$<br>\lim\limits_{n\rightarrow0}\frac{CR^n}{2^nR^n}&#x3D;0<br>$$</p><p>è¿™å°±æ˜¯æ‰€è°“çš„ç»´åº¦ç¾éš¾ï¼Œåœ¨é«˜ç»´æ•°æ®ä¸­ï¼Œä¸»è¦æ ·æœ¬éƒ½åˆ†å¸ƒåœ¨ç«‹æ–¹ä½“çš„è¾¹ç¼˜ï¼Œæ‰€ä»¥æ•°æ®é›†æ›´åŠ ç¨€ç–ã€‚</p><p>é™ç»´çš„ç®—æ³•åˆ†ä¸ºï¼š</p><ol><li>ç›´æ¥é™ç»´ï¼Œç‰¹å¾é€‰æ‹©</li><li>çº¿æ€§é™ç»´ï¼ŒPCAï¼ŒMDSç­‰</li><li>åˆ†çº¿æ€§ï¼Œæµå½¢åŒ…æ‹¬ Isomapï¼ŒLLE ç­‰</li></ol><p>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬é¦–å…ˆå°†åæ–¹å·®çŸ©é˜µï¼ˆæ•°æ®é›†ï¼‰å†™æˆä¸­å¿ƒåŒ–çš„å½¢å¼ï¼š<br>$$<br>\begin{align}S&amp;&#x3D;\frac{1}{N}\sum\limits_{i&#x3D;1}^N(x_i-\overline{x})(x_i-\overline{x})^T\nonumber\<br>&amp;&#x3D;\frac{1}{N}(x_1-\overline{x},x_2-\overline{x},\cdots,x_N-\overline{x})(x_1-\overline{x},x_2-\overline{x},\cdots,x_N-\overline{x})^T\nonumber\<br>&amp;&#x3D;\frac{1}{N}(X^T-\frac{1}{N}X^T\mathbb{I}<em>{N1}\mathbb{I}</em>{N1}^T)(X^T-\frac{1}{N}X^T\mathbb{I}<em>{N1}\mathbb{I}</em>{N1}^T)^T\nonumber\<br>&amp;&#x3D;\frac{1}{N}X^T(E_N-\frac{1}{N}\mathbb{I}<em>{N1}\mathbb{I}</em>{1N})(E_N-\frac{1}{N}\mathbb{I}<em>{N1}\mathbb{I}</em>{1N})^TX\nonumber\<br>&amp;&#x3D;\frac{1}{N}X^TH_NH_N^TX\nonumber\<br>&amp;&#x3D;\frac{1}{N}X^TH_NH_NX&#x3D;\frac{1}{N}X^THX<br>\end{align}<br>$$<br>è¿™ä¸ªå¼å­åˆ©ç”¨äº†ä¸­å¿ƒçŸ©é˜µ $Â H$çš„å¯¹ç§°æ€§ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæŠ•å½±çŸ©é˜µã€‚</p><h2 id="çº¿æ€§é™ç»´-ä¸»æˆåˆ†åˆ†æ-PCA"><a href="#çº¿æ€§é™ç»´-ä¸»æˆåˆ†åˆ†æ-PCA" class="headerlink" title="çº¿æ€§é™ç»´-ä¸»æˆåˆ†åˆ†æ PCA"></a>çº¿æ€§é™ç»´-ä¸»æˆåˆ†åˆ†æ PCA</h2><h3 id="æŸå¤±å‡½æ•°"><a href="#æŸå¤±å‡½æ•°" class="headerlink" title="æŸå¤±å‡½æ•°"></a>æŸå¤±å‡½æ•°</h3><p>ä¸»æˆåˆ†åˆ†æä¸­ï¼Œæˆ‘ä»¬çš„åŸºæœ¬æƒ³æ³•æ˜¯å°†æ‰€æœ‰æ•°æ®æŠ•å½±åˆ°ä¸€ä¸ªå­—ç©ºé—´ä¸­ï¼Œä»è€Œè¾¾åˆ°é™ç»´çš„ç›®æ ‡ï¼Œä¸ºäº†å¯»æ‰¾è¿™ä¸ªå­ç©ºé—´ï¼Œæˆ‘ä»¬åŸºæœ¬æƒ³æ³•æ˜¯ï¼š</p><ol><li>æ‰€æœ‰æ•°æ®åœ¨å­ç©ºé—´ä¸­æ›´ä¸ºåˆ†æ•£</li><li>æŸå¤±çš„ä¿¡æ¯æœ€å°ï¼Œå³ï¼šåœ¨è¡¥ç©ºé—´çš„åˆ†é‡å°‘</li></ol><p>åŸæ¥çš„æ•°æ®å¾ˆæœ‰å¯èƒ½å„ä¸ªç»´åº¦ä¹‹é—´æ˜¯ç›¸å…³çš„ï¼Œäºæ˜¯æˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ç»„ $p$ ä¸ªæ–°çš„çº¿æ€§æ— å…³çš„å•ä½åŸº $u_i$ï¼Œé™ç»´å°±æ˜¯å–å…¶ä¸­çš„ $q$ ä¸ªåŸºã€‚äºæ˜¯å¯¹äºä¸€ä¸ªæ ·æœ¬ $x_i$ï¼Œç»è¿‡è¿™ä¸ªåæ ‡å˜æ¢åï¼š<br>$$<br>\hat{x_i}&#x3D;\sum\limits_{i&#x3D;1}^p(u_i^Tx_i)u_i&#x3D;\sum\limits_{i&#x3D;1}^q(u_i^Tx_i)u_i+\sum\limits_{i&#x3D;q+1}^p(u_i^Tx_i)u_i<br>$$<br>å¯¹äºæ•°æ®é›†æ¥è¯´ï¼Œæˆ‘ä»¬é¦–å…ˆå°†å…¶ä¸­å¿ƒåŒ–ç„¶åå†å»ä¸Šé¢çš„å¼å­çš„ç¬¬ä¸€é¡¹ï¼Œå¹¶ä½¿ç”¨å…¶ç³»æ•°çš„å¹³æ–¹å¹³å‡ä½œä¸ºæŸå¤±å‡½æ•°å¹¶æœ€å¤§åŒ–ï¼š<br>$$<br>\begin{align}J&amp;&#x3D;\frac{1}{N}\sum\limits_{i&#x3D;1}^N\sum\limits_{j&#x3D;1}^q((x_i-\overline{x})^Tu_j)^2\nonumber\<br>&amp;&#x3D;\sum\limits_{j&#x3D;1}^qu_j^TSu_j\ ,\ s.t.\ u_j^Tu_j&#x3D;1<br>\end{align}<br>$$<br>ç”±äºæ¯ä¸ªåŸºéƒ½æ˜¯çº¿æ€§æ— å…³çš„ï¼Œäºæ˜¯æ¯ä¸€ä¸ª $u_j$ çš„æ±‚è§£å¯ä»¥åˆ†åˆ«è¿›è¡Œï¼Œä½¿ç”¨æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ï¼š<br>$$<br>\mathop{argmax}<em>{u_j}L(u_j,\lambda)&#x3D;\mathop{argmax}</em>{u_j}u_j^TSu_j+\lambda(1-u_j^Tu_j)<br>$$<br>äºæ˜¯ï¼š<br>$$<br>Su_j&#x3D;\lambda u_j<br>$$<br>å¯è§ï¼Œæˆ‘ä»¬éœ€è¦çš„åŸºå°±æ˜¯åæ–¹å·®çŸ©é˜µçš„æœ¬å¾çŸ¢ã€‚æŸå¤±å‡½æ•°æœ€å¤§å–åœ¨æœ¬å¾å€¼å‰ $q$ ä¸ªæœ€å¤§å€¼ã€‚</p><p>ä¸‹é¢çœ‹å…¶æŸå¤±çš„ä¿¡æ¯æœ€å°‘è¿™ä¸ªæ¡ä»¶ï¼ŒåŒæ ·é€‚ç”¨ç³»æ•°çš„å¹³æ–¹å¹³å‡ä½œä¸ºæŸå¤±å‡½æ•°ï¼Œå¹¶æœ€å°åŒ–ï¼š<br>$$<br>\begin{align}J&amp;&#x3D;\frac{1}{N}\sum\limits_{i&#x3D;1}^N\sum\limits_{j&#x3D;q+1}^p((x_i-\overline{x})^Tu_j)^2\nonumber\<br>&amp;&#x3D;\sum\limits_{j&#x3D;q+1}^pu_j^TSu_j\ ,\ s.t.\ u_j^Tu_j&#x3D;1<br>\end{align}<br>$$<br>åŒæ ·çš„ï¼š<br>$$<br>\mathop{argmin}<em>{u_j}L(u_j,\lambda)&#x3D;\mathop{argmin}</em>{u_j}u_j^TSu_j+\lambda(1-u_j^Tu_j)<br>$$<br>æŸå¤±å‡½æ•°æœ€å°å–åœ¨æœ¬å¾å€¼å‰©ä¸‹çš„ä¸ªæœ€å°çš„å‡ ä¸ªå€¼ã€‚æ•°æ®é›†çš„åæ–¹å·®çŸ©é˜µå¯ä»¥å†™æˆ $S&#x3D;U\Lambda U^T$ï¼Œç›´æ¥å¯¹è¿™ä¸ªè¡¨è¾¾å¼å½“ç„¶å¯ä»¥å¾—åˆ°æœ¬å¾çŸ¢ã€‚</p><h3 id="SVD-ä¸-PCoA"><a href="#SVD-ä¸-PCoA" class="headerlink" title="SVD ä¸ PCoA"></a>SVD ä¸ PCoA</h3><p>ä¸‹é¢ä½¿ç”¨å®é™…è®­ç»ƒæ—¶å¸¸å¸¸ä½¿ç”¨çš„ SVD ç›´æ¥æ±‚å¾—è¿™ä¸ª $q$ ä¸ªæœ¬å¾çŸ¢ã€‚</p><p>å¯¹ä¸­å¿ƒåŒ–åçš„æ•°æ®é›†è¿›è¡Œå¥‡å¼‚å€¼åˆ†è§£ï¼š<br>$$<br>HX&#x3D;U\Sigma V^T,U^TU&#x3D;E_N,V^TV&#x3D;E_p,\Sigma:N\times p<br>$$</p><p>äºæ˜¯ï¼š<br>$$<br>S&#x3D;\frac{1}{N}X^THX&#x3D;\frac{1}{N}X^TH^THX&#x3D;\frac{1}{N}V\Sigma^T\Sigma V^T<br>$$<br>å› æ­¤ï¼Œæˆ‘ä»¬ç›´æ¥å¯¹ä¸­å¿ƒåŒ–åçš„æ•°æ®é›†è¿›è¡Œ SVDï¼Œå°±å¯ä»¥å¾—åˆ°ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ $V$ï¼Œåœ¨æ–°åæ ‡ç³»ä¸­çš„åæ ‡å°±æ˜¯ï¼š<br>$$<br>HX\cdot V<br>$$<br>ç”±ä¸Šé¢çš„æ¨å¯¼ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¾—åˆ°å¦ä¸€ç§æ–¹æ³• PCoA ä¸»åæ ‡åˆ†æï¼Œå®šä¹‰å¹¶è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼š<br>$$<br>T&#x3D;HXX^TH&#x3D;U\Sigma\Sigma^TU^T<br>$$<br>ç”±äºï¼š<br>$$<br>TU\Sigma&#x3D;U\Sigma(\Sigma^T\Sigma)<br>$$<br>äºæ˜¯å¯ä»¥ç›´æ¥å¾—åˆ°åæ ‡ã€‚è¿™ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥å¾—åˆ°ä¸»æˆåˆ†ï¼Œä½†æ˜¯ç”±äºæ–¹å·®çŸ©é˜µæ˜¯ $p\times p$ çš„ï¼Œè€Œ $T$ æ˜¯ $N\times N$ çš„ï¼Œæ‰€ä»¥å¯¹æ ·æœ¬é‡è¾ƒå°‘çš„æ—¶å€™å¯ä»¥é‡‡ç”¨ PCoAçš„æ–¹æ³•ã€‚</p><h3 id="p-PCA"><a href="#p-PCA" class="headerlink" title="p-PCA"></a>p-PCA</h3><p>ä¸‹é¢ä»æ¦‚ç‡çš„è§’åº¦å¯¹ PCA è¿›è¡Œåˆ†æï¼Œæ¦‚ç‡æ–¹æ³•ä¹Ÿå« p-PCAã€‚æˆ‘ä»¬ä½¿ç”¨çº¿æ€§æ¨¡å‹ï¼Œç±»ä¼¼ä¹‹å‰ LDAï¼Œæˆ‘ä»¬é€‰å®šä¸€ä¸ªæ–¹å‘ï¼Œå¯¹åŸæ•°æ® $x\in\mathbb{R}^p$ ï¼Œé™ç»´åçš„æ•°æ®ä¸º $z\in\mathbb{R}^q,q&lt;p$ã€‚é™ç»´é€šè¿‡ä¸€ä¸ªçŸ©é˜µå˜æ¢ï¼ˆæŠ•å½±ï¼‰è¿›è¡Œï¼š<br>$$<br>\begin{align}<br>z&amp;\sim\mathcal{N}(\mathbb{O}<em>{q1},\mathbb{I}</em>{qq})\<br>x&amp;&#x3D;Wz+\mu+\varepsilon\<br>\varepsilon&amp;\sim\mathcal{N}(0,\sigma^2\mathbb{I}<em>{pp})<br>\end{align}<br>$$<br>å¯¹äºè¿™ä¸ªæ¨¡å‹ï¼Œæˆ‘ä¹ˆå¯ä»¥ä½¿ç”¨æœŸæœ›-æœ€å¤§ï¼ˆEMï¼‰çš„ç®—æ³•è¿›è¡Œå­¦ä¹ ï¼Œåœ¨è¿›è¡Œæ¨æ–­çš„æ—¶å€™éœ€è¦æ±‚å¾— $p(z|x)$ï¼Œæ¨æ–­çš„æ±‚è§£è¿‡ç¨‹å’Œçº¿æ€§é«˜æ–¯æ¨¡å‹ç±»ä¼¼ã€‚<br>$$<br>\begin{align}<br>&amp;p(z|x)&#x3D;\frac{p(x|z)p(z)}{p(x)}\<br>&amp;\mathbb{E}[x]&#x3D;\mathbb{E}[Wz+\mu+\varepsilon]&#x3D;\mu\<br>&amp;Var[x]&#x3D;WW^T+\sigma^2\mathbb{I}</em>{pp}\<br>\Longrightarrow p(z|x)&#x3D;\mathcal{N}(W^T(WW^T+&amp;\sigma^2\mathbb{I})^{-1}(x-\mu),\mathbb{I}-W^T(WW^T+\sigma^2\mathbb{I})^{-1}W)<br>\end{align}<br>$$</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>é™ç»´æ˜¯è§£å†³ç»´åº¦ç¾éš¾å’Œè¿‡æ‹Ÿåˆçš„é‡è¦æ–¹æ³•ï¼Œé™¤äº†ç›´æ¥çš„ç‰¹å¾é€‰æ‹©å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é‡‡ç”¨ç®—æ³•çš„é€”å¾„å¯¹ç‰¹å¾è¿›è¡Œç­›é€‰ï¼Œçº¿æ€§çš„é™ç»´æ–¹æ³•ä»¥ PCA ä¸ºä»£è¡¨ï¼Œåœ¨ PCA ä¸­ï¼Œæˆ‘ä»¬åªè¦ç›´æ¥å¯¹æ•°æ®çŸ©é˜µè¿›è¡Œä¸­å¿ƒåŒ–ç„¶åæ±‚å¥‡å¼‚å€¼åˆ†è§£æˆ–è€…å¯¹æ•°æ®çš„åæ–¹å·®çŸ©é˜µè¿›è¡Œåˆ†è§£å°±å¯ä»¥å¾—åˆ°å…¶ä¸»è¦ç»´åº¦ã€‚éçº¿æ€§å­¦ä¹ çš„æ–¹æ³•å¦‚æµå½¢å­¦ä¹ å°†æŠ•å½±é¢ä»å¹³é¢æ”¹ä¸ºè¶…æ›²é¢ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”è¿‘ä¼¼æ¨æ–­</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/23.ApproInference/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/23.ApproInference/</url>
    
    <content type="html"><![CDATA[<h1 id="è¿‘ä¼¼æ¨æ–­"><a href="#è¿‘ä¼¼æ¨æ–­" class="headerlink" title="è¿‘ä¼¼æ¨æ–­"></a>è¿‘ä¼¼æ¨æ–­</h1><p>è¿™ä¸€è®²ä¸­çš„è¿‘ä¼¼æ¨æ–­å…·ä½“æè¿°åœ¨æ·±åº¦ç”Ÿæˆæ¨¡å‹ä¸­çš„è¿‘ä¼¼æ¨æ–­ã€‚æ¨æ–­çš„ç›®çš„æœ‰ä¸‹é¢å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ol><li>æ¨æ–­æœ¬èº«ï¼Œæ ¹æ®ç»“æœï¼ˆè§‚æµ‹ï¼‰å¾—åˆ°åŸå› ï¼ˆéšå˜é‡ï¼‰ã€‚</li><li>ä¸ºå‚æ•°çš„å­¦ä¹ æä¾›å¸®åŠ©ã€‚</li></ol><p>ä½†æ˜¯æ¨æ–­æœ¬èº«æ˜¯ä¸€ä¸ªå›°éš¾çš„é¢ä»»åŠ¡ï¼Œè®¡ç®—å¤æ‚åº¦å¾€å¾€å¾ˆé«˜ï¼Œå¯¹äºæ— å‘å›¾ï¼Œç”±äºèŠ‚ç‚¹ä¹‹é—´çš„è”ç³»è¿‡å¤šï¼Œé‚£ä¹ˆå› å­åˆ†è§£å¾ˆéš¾è¿›è¡Œï¼Œå¹¶ä¸”ç›¸äº’ä¹‹é—´éƒ½æœ‰è€¦åˆï¼Œäºæ˜¯å¾ˆéš¾æ±‚è§£ï¼Œä»…ä»…åœ¨æŸäº›æƒ…å†µå¦‚ RBM ä¸­å¯è§£ï¼Œåœ¨æœ‰å‘å›¾ä¸­ï¼Œå¸¸å¸¸ç”±äºæ¡ä»¶ç‹¬ç«‹æ€§é—®é¢˜ï¼Œå¦‚ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æ¡ä»¶ç›¸å…³ï¼ˆexplain awayï¼‰ï¼Œäºæ˜¯æ±‚è§£è¿™äº›èŠ‚ç‚¹çš„æ¡ä»¶æ¦‚ç‡å°±å¾ˆå›°éš¾ï¼Œä»…ä»…åœ¨æŸäº›æ¦‚ç‡å‡è®¾æƒ…å†µä¸‹å¯è§£å¦‚é«˜æ–¯æ¨¡å‹ï¼Œäºæ˜¯éœ€è¦è¿‘ä¼¼æ¨æ–­ã€‚</p><p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¸¸å¸¸è®²æ¨æ–­é—®é¢˜å˜ä¸ºä¼˜åŒ–é—®é¢˜ï¼Œå³ï¼š<br>$$<br>Log-likehood:\sum\limits_{v\in V}\log p(v)<br>$$<br>å¯¹ä¸Šé¢è¿™ä¸ªé—®é¢˜ï¼Œç”±äºï¼š<br>$$<br>\log p(v)&#x3D;\log\frac{p(v,h)}{p(h|v)}&#x3D;\log\frac{p(v,h)}{q(h|v)}+\log\frac{q(h|v)}{p(h|v)}<br>$$<br>å·¦å³ä¸¤è¾¹å¯¹ $h$ ç§¯åˆ†ï¼š<br>$$<br>\int_h\log p(v)\cdot q(h|v)dh&#x3D;\log p(v)<br>$$<br>å³è¾¹ç§¯åˆ†æœ‰ï¼š<br>$$<br>\mathbb{E}<em>{q(h|v)}[\log\frac{p(v,h)}{q(h|v)}]+KL(q(h|v)||p(h|v))&#x3D;\mathbb{E}</em>{q(h|v)}[\log p(v,h)]+H(q)+KL(q||p)<br>$$<br>å…¶ä¸­å‰ä¸¤é¡¹æ˜¯ ELBOï¼Œäºæ˜¯è¿™å°±å˜æˆä¸€ä¸ªä¼˜åŒ– ELBO çš„é—®é¢˜ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”é…åˆ†å‡½æ•°</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/22.PartitionFunction/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/22.PartitionFunction/</url>
    
    <content type="html"><![CDATA[<h1 id="é…åˆ†å‡½æ•°"><a href="#é…åˆ†å‡½æ•°" class="headerlink" title="é…åˆ†å‡½æ•°"></a>é…åˆ†å‡½æ•°</h1><p>åœ¨å­¦ä¹ å’Œæ¨æ–­ä¸­ï¼Œå¯¹äºä¸€ä¸ªæ¦‚ç‡çš„å½’ä¸€åŒ–å› å­å¾ˆéš¾å¤„ç†ï¼Œè¿™ä¸ªå½’ä¸€åŒ–å› å­å’Œé…åˆ†å‡½æ•°ç›¸å…³ã€‚å‡è®¾ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼š<br>$$<br>p(x|\theta)&#x3D;\frac{1}{Z(\theta)}\hat{p}(x|\theta),Z(\theta)&#x3D;\int\hat{p}(x|\theta)dx<br>$$</p><h2 id="åŒ…å«é…åˆ†å‡½æ•°çš„-MLE"><a href="#åŒ…å«é…åˆ†å‡½æ•°çš„-MLE" class="headerlink" title="åŒ…å«é…åˆ†å‡½æ•°çš„ MLE"></a>åŒ…å«é…åˆ†å‡½æ•°çš„ MLE</h2><p>åœ¨å­¦ä¹ ä»»åŠ¡ä¸­ï¼Œé‡‡ç”¨æœ€å¤§ä¼¼ç„¶ï¼š<br>$$<br>\begin{align}<br>\hat{\theta}&amp;&#x3D;\mathop{argmax}<em>{\theta}p(x|\theta)&#x3D;\mathop{argmax}<em>\theta\sum\limits</em>{i&#x3D;1}^N\log p(x_i|\theta)\nonumber\<br>&amp;&#x3D;\mathop{argmax}<em>\theta\sum\limits</em>{i&#x3D;1}^N\log \hat{p}(x|\theta)-N\log Z(\theta)\nonumber\<br>&amp;&#x3D;\mathop{argmax}</em>{\theta}\frac{1}{N}\sum\limits_{i&#x3D;1}^N\log \hat{p}(x|\theta)-\log Z(\theta)&#x3D;\mathop{argmax}<em>\theta l(\theta)<br>\end{align}<br>$$<br>æ±‚å¯¼ï¼š<br>$$<br>\begin{align}\nabla_\theta\log Z(\theta)&amp;&#x3D;\frac{1}{Z(\theta)}\nabla_\theta Z(\theta)\nonumber\<br>&amp;&#x3D;\frac{p(x|\theta)}{\hat{p}(x|\theta)}\int\nabla_\theta \hat{p}(x|\theta)dx\nonumber\<br>&amp;&#x3D;\int\frac{p(x|\theta)}{\hat{p}(x|\theta)}\nabla_\theta\hat{p}(x|\theta)dx\nonumber\<br>&amp;&#x3D;\mathbb{E}</em>{p(x|\theta)}[\nabla_\theta\log\hat{p}(x|\theta)]<br>\end{align}<br>$$<br>ç”±äºè¿™ä¸ªè¡¨è¾¾å¼å’ŒæœªçŸ¥çš„æ¦‚ç‡ç›¸å…³ï¼Œäºæ˜¯æ— æ³•ç›´æ¥ç²¾ç¡®æ±‚è§£ï¼Œéœ€è¦è¿‘ä¼¼é‡‡æ ·ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸€é¡¹ï¼Œé‚£ä¹ˆå¯ä»¥é‡‡ç”¨æ¢¯åº¦ä¸‹é™ï¼Œä½†æ˜¯å­˜åœ¨é…åˆ†å‡½æ•°å°±æ— æ³•ç›´æ¥é‡‡ç”¨æ¢¯åº¦ä¸‹é™äº†ã€‚</p><p>ä¸Šé¢è¿™ä¸ªæœŸæœ›å€¼ï¼Œæ˜¯å¯¹æ¨¡å‹å‡è®¾çš„æ¦‚ç‡åˆ†å¸ƒï¼Œå®šä¹‰çœŸå®æ¦‚ç‡åˆ†å¸ƒä¸º $p_{data}$ï¼Œäºæ˜¯ï¼Œ$l(\theta)$ ä¸­çš„ç¬¬ä¸€é¡¹çš„æ¢¯åº¦å¯ä»¥çœ‹æˆæ˜¯ä»è¿™ä¸ªæ¦‚ç‡åˆ†å¸ƒä¸­é‡‡æ ·å‡ºæ¥çš„ $N$ ä¸ªç‚¹æ±‚å’Œå¹³å‡ï¼Œå¯ä»¥è¿‘ä¼¼æœŸæœ›å€¼ã€‚<br>$$<br>\nabla_\theta l(\theta)&#x3D;\mathbb{E}<em>{p</em>{data}}[\nabla_\theta\log\hat{p}(x|\theta)]-\mathbb{E}_{p(x|\theta)}[\nabla_\theta\log\hat{p}(x|\theta)]<br>$$<br>äºæ˜¯ï¼Œç›¸å½“äºçœŸå®åˆ†å¸ƒå’Œæ¨¡å‹å‡è®¾è¶Šæ¥è¿‘è¶Šå¥½ã€‚ä¸Šé¢è¿™ä¸ªå¼å­ç¬¬ä¸€é¡¹å«åšæ­£ç›¸ï¼Œç¬¬äºŒé¡¹å«åšè´Ÿç›¸ã€‚ä¸ºäº†å¾—åˆ°è´Ÿç›¸çš„å€¼ï¼Œéœ€è¦é‡‡ç”¨å„ç§é‡‡æ ·æ–¹æ³•ï¼Œå¦‚ MCMCã€‚</p><p>é‡‡æ ·å¾—åˆ° $\hat{x}<em>{1-m}\sim p</em>{model}(x|\theta^t)$ï¼Œé‚£ä¹ˆï¼š<br>$$<br>\theta^{t+1}&#x3D;\theta^t+\eta(\sum\limits_{i&#x3D;1}^m\nabla_\theta \log \hat{p}(x_i|\theta^t)-\sum\limits_{i&#x3D;1}^m\nabla_\theta\log \hat{p}(\hat{x_i}|\theta^t))<br>$$<br>è¿™ä¸ªç®—æ³•ä¹Ÿå«åšåŸºäº MCMC é‡‡æ ·çš„æ¢¯åº¦ä¸Šå‡ã€‚æ¯æ¬¡é€šè¿‡é‡‡æ ·å¾—åˆ°çš„æ ·æœ¬å«åšå¹»æƒ³ç²’å­ï¼Œå¦‚æœè¿™äº›å¹»æƒ³ç²’å­åŒºåŸŸçš„æ¦‚ç‡é«˜äºå®é™…åˆ†å¸ƒï¼Œé‚£ä¹ˆæœ€å¤§åŒ–å‚æ•°çš„ç»“æœå°±æ˜¯é™ä½è¿™äº›éƒ¨åˆ†çš„æ¦‚ç‡ã€‚</p><h2 id="å¯¹æ¯”æ•£åº¦-CD-Learning"><a href="#å¯¹æ¯”æ•£åº¦-CD-Learning" class="headerlink" title="å¯¹æ¯”æ•£åº¦-CD Learning"></a>å¯¹æ¯”æ•£åº¦-CD Learning</h2><p>ä¸Šé¢å¯¹äºè´Ÿç›¸çš„é‡‡æ ·ï¼Œæœ€å¤§çš„é—®é¢˜æ˜¯ï¼Œé‡‡æ ·åˆ°è¾¾å¹³ç¨³åˆ†å¸ƒçš„æ­¥éª¤æ•°é‡æ˜¯æœªçŸ¥çš„ã€‚å¯¹æ¯”æ•£åº¦çš„æ–¹æ³•ï¼Œæ˜¯å¯¹ä¸Šè¿°çš„é‡‡æ ·æ˜¯çš„åˆå§‹å€¼ä½œå‡ºé™åˆ¶ï¼Œç›´æ¥é‡‡æ · $\hat{x}_i&#x3D;x_i$ï¼Œè¿™æ ·å¯ä»¥ç¼©çŸ­é‡‡æ ·çš„æ··åˆæ—¶é—´ã€‚è¿™ä¸ªç®—æ³•å«åš CD-k ç®—æ³•ï¼Œ$k$ å°±æ˜¯åˆå§‹åŒ–åè¿›è¡Œçš„æ¼”åŒ–æ—¶é—´ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œå³ä½¿ $k&#x3D;1$ ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>æˆ‘ä»¬çœ‹ MLE çš„è¡¨è¾¾å¼ï¼š<br>$$<br>\begin{align}\hat{\theta}&amp;&#x3D;\mathop{argmax}<em>{\theta}p(x|\theta)&#x3D;\mathop{argmax}</em>{\theta}\frac{1}{N}\sum\limits_{i&#x3D;1}^N\log p(x_i|\theta)&#x3D;\mathbb{E}<em>{p</em>{data}}[\log p_{model}(x|\theta)]\nonumber\<br>&amp;&#x3D;\mathop{argmax}<em>\theta\int p</em>{data}\log p_{model}dx\nonumber\<br>&amp;&#x3D;\mathop{argmax}<em>\theta\int p</em>{data}\log \frac{p_{model}}{p_{data}}dx\nonumber\<br>&amp;&#x3D;\mathop{argmin}<em>\theta KL(p</em>{data}||p_{model})<br>\end{align}<br>$$<br>å¯¹äº CD-k çš„é‡‡æ ·è¿‡ç¨‹ï¼Œå¯ä»¥å°†åˆå§‹å€¼è¿™äº›ç‚¹è¡¨ç¤ºä¸ºï¼š<br>$$<br>p^0&#x3D;p_{data}<br>$$<br>è€Œæˆ‘ä»¬çš„æ¨¡å‹éœ€è¦é‡‡æ ·è¿‡ç¨‹è¾¾åˆ°å¹³ç¨³åˆ†å¸ƒï¼š<br>$$<br>p^\infin&#x3D;p_{model}<br>$$<br>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ $KL(p^0||p^\infin)$ã€‚å®šä¹‰ CDï¼š<br>$$<br>KL(p^0||p^\infin)-KL(p^k||p^\infin)<br>$$<br>è¿™å°±æ˜¯ CD-k ç®—æ³•ç¬¬ $k$ æ¬¡é‡‡æ ·çš„ç›®æ ‡å‡½æ•°ã€‚</p><h2 id="RBM-çš„å­¦ä¹ é—®é¢˜"><a href="#RBM-çš„å­¦ä¹ é—®é¢˜" class="headerlink" title="RBM çš„å­¦ä¹ é—®é¢˜"></a>RBM çš„å­¦ä¹ é—®é¢˜</h2><p>RBM çš„å‚æ•°ä¸ºï¼š<br>$$<br>\begin{align}<br>h&#x3D;(h_1,\cdots,h_m)^T\<br>v&#x3D;(v_1,\cdots,v_n)^T\<br>w&#x3D;(w_{ij})<em>{mn}\<br>\alpha&#x3D;(\alpha_1,\cdots,\alpha_n)^T\<br>\beta&#x3D;(\beta_1,\cdots,\beta_m)^T<br>\end{align}<br>$$<br>å­¦ä¹ é—®é¢˜å…³æ³¨çš„æ¦‚ç‡åˆ†å¸ƒä¸ºï¼š<br>$$<br>\begin{align}<br>\log p(v)&amp;&#x3D;\log\sum\limits</em>{h}p(h,v)\nonumber\<br>&amp;&#x3D;\log\sum\limits_h\frac{1}{Z}\exp(-E(v,h))\nonumber\<br>&amp;&#x3D;\log\sum\limits_{h}\exp(-E(v,h))-\log\sum\limits_{v,h}\exp(-E(h,v))<br>\end{align}<br>$$<br>å¯¹ä¸Šé¢è¿™ä¸ªå¼å­æ±‚å¯¼ç¬¬ä¸€é¡¹ï¼š<br>$$<br>\frac{\partial \log\sum\limits_{h}\exp(-E(v,h))}{\partial\theta}&#x3D;-\frac{\sum\limits_h\exp(-E(v,h))\frac{\partial E(v,h)}{\partial\theta}}{\sum\limits_{h}\exp(-E(v,h))}\<br>&#x3D;-\sum\limits_h\frac{\exp(-E(v,h))\frac{\partial E(v,h)}{\partial\theta}}{\sum\limits_{h}\exp(-E(v,h))}&#x3D;-\sum\limits_hp(h|v)\frac{\partial E(v,h)}{\partial\theta}<br>$$<br>ç¬¬äºŒé¡¹ï¼š<br>$$<br>\frac{\partial \log\sum\limits_{v,h}\exp(-E(h,v))}{\partial\theta}&#x3D;-\sum\limits_{h,v}\frac{\exp(-E(v,h))\frac{\partial E(v,h)}{\partial\theta}}{\sum\limits_{h,v}\exp(-E(v,h))}&#x3D;-\sum\limits_{v,h}p(v,h)\frac{\partial E(v,h)}{\partial\theta}<br>$$<br>æ‰€ä»¥æœ‰ï¼š<br>$$<br>\frac{\partial}{\partial\theta}\log p(v)&#x3D;-\sum\limits_hp(h|v)\frac{\partial E(v,h)}{\partial\theta}+\sum\limits_{v,h}p(v,h)\frac{\partial E(v,h)}{\partial\theta}<br>$$<br>å°† RBM çš„æ¨¡å‹å‡è®¾ä»£å…¥ï¼š<br>$$<br>E(v,h)&#x3D;-(h^Twv+\alpha^Tv+\beta^Th)<br>$$</p><ol><li><p>$w_{ij}$ï¼š<br>$$<br>\frac{\partial}{\partial w_{ij}}E(v,h)&#x3D;-h_iv_j<br>$$<br>äºæ˜¯ï¼š<br>$$<br>\frac{\partial}{\partial\theta}\log p(v)&#x3D;\sum\limits_{h}p(h|v)h_iv_j-\sum\limits_{h,v}p(h,v)h_iv_j<br>$$<br>ç¬¬ä¸€é¡¹ï¼š<br>$$<br>\sum\limits_{h_1,h_2,\cdots,h_m}p(h_1,h_2,\cdots,h_m|v)h_iv_j&#x3D;\sum\limits_{h_i}p(h_i|v)h_iv_j&#x3D;p(h_i&#x3D;1|v)v_j<br>$$<br>è¿™é‡Œå‡è®¾äº† $h_i$ æ˜¯äºŒå…ƒå˜é‡ã€‚</p><p>ç¬¬äºŒé¡¹ï¼š<br>$$<br>\sum\limits_{h,v}p(h,v)h_iv_j&#x3D;\sum\limits_{h,v}p(v)p(h|v)h_iv_j&#x3D;\sum\limits_vp(v)p(h_i&#x3D;1|v)v_j<br>$$<br>è¿™ä¸ªæ±‚å’Œæ˜¯æŒ‡æ•°é˜¶çš„ï¼Œäºæ˜¯éœ€è¦é‡‡æ ·è§£å†³ï¼Œæˆ‘ä¹ˆä½¿ç”¨ CD-k æ–¹æ³•ã€‚</p><p>å¯¹äºç¬¬ä¸€é¡¹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è®­ç»ƒæ ·æœ¬å¾—åˆ°ï¼Œç¬¬äºŒé¡¹é‡‡ç”¨ CD-k é‡‡æ ·æ–¹æ³•ï¼Œé¦–å…ˆä½¿ç”¨æ ·æœ¬ $v^0&#x3D;v$ï¼Œç„¶åé‡‡æ ·å¾—åˆ° $h^0$ï¼Œç„¶åé‡‡æ ·å¾—åˆ° $v^1$ï¼Œè¿™æ ·é¡ºæ¬¡è¿›è¡Œï¼Œæœ€ç»ˆå¾—åˆ° $v^k$ï¼Œå¯¹äºæ¯ä¸ªæ ·æœ¬éƒ½å¾—åˆ°ä¸€ä¸ª $v^k$ï¼Œæœ€ç»ˆé‡‡æ ·å¾—åˆ° $N$ ä¸ª $v^k $ï¼Œäºæ˜¯ç¬¬äºŒé¡¹å°±æ˜¯ï¼š<br>$$<br>p(h_i&#x3D;1|v^k)v_j^k<br>$$<br>å…·ä½“çš„ç®—æ³•ä¸ºï¼š</p><ol><li>å¯¹æ¯ä¸€ä¸ªæ ·æœ¬ä¸­çš„ $v$ï¼Œè¿›è¡Œé‡‡æ ·ï¼š<ol><li>ä½¿ç”¨è¿™ä¸ªæ ·æœ¬åˆå§‹åŒ–é‡‡æ ·</li><li>è¿›è¡Œ $k$ æ¬¡é‡‡æ ·ï¼ˆ0-k-1ï¼‰ï¼š<ol><li>$h_i^l\sim p(h_i|v^l)$</li><li>$v_i^{l+1}\sim p(v_i|h^l)$</li></ol></li><li>å°†è¿™äº›é‡‡æ ·å‡ºæ¥çš„ç»“æœç´¯åŠ è¿›æ¢¯åº¦ä¸­</li></ol></li><li>é‡å¤è¿›è¡Œä¸Šè¿°è¿‡ç¨‹ï¼Œæœ€ç»ˆçš„æ¢¯åº¦é™¤ä»¥ $N$</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”å‰é¦ˆç¥ç»ç½‘ç»œ</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/21.NN/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/21.NN/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰é¦ˆç¥ç»ç½‘ç»œ"><a href="#å‰é¦ˆç¥ç»ç½‘ç»œ" class="headerlink" title="å‰é¦ˆç¥ç»ç½‘ç»œ"></a>å‰é¦ˆç¥ç»ç½‘ç»œ</h1><p>æœºå™¨å­¦ä¹ æˆ‘ä»¬å·²ç»çŸ¥é“å¯ä»¥åˆ†ä¸ºä¸¤å¤§æµæ´¾ï¼š</p><ol><li><p>é¢‘ç‡æ´¾ï¼Œè¿™ä¸ªæµæ´¾çš„æ–¹æ³•å«åšç»Ÿè®¡å­¦ä¹ ï¼Œæ ¹æ®å…·ä½“é—®é¢˜æœ‰ä¸‹é¢çš„ç®—æ³•ï¼š</p><ol><li><p>æ­£åˆ™åŒ–ï¼ŒL1ï¼ŒL2 ç­‰</p></li><li><p>æ ¸åŒ–ï¼Œå¦‚æ ¸æ”¯æ’‘å‘é‡æœº</p></li><li><p>é›†æˆåŒ–ï¼ŒAdaBoostï¼ŒRandomForest</p></li><li><p>å±‚æ¬¡åŒ–ï¼Œç¥ç»ç½‘ç»œï¼Œç¥ç»ç½‘ç»œæœ‰å„ç§ä¸åŒçš„æ¨¡å‹ï¼Œæœ‰ä»£è¡¨æ€§çš„æœ‰ï¼š</p><ol><li>å¤šå±‚æ„ŸçŸ¥æœº</li><li>Autoencoder</li><li>CNN</li><li>RNN</li></ol><p>è¿™å‡ ç§æ¨¡å‹åˆå«åšæ·±åº¦ç¥ç»ç½‘ç»œã€‚</p></li></ol></li><li><p>è´å¶æ–¯æ´¾ï¼Œè¿™ä¸ªæµæ´¾çš„æ–¹æ³•å«æ¦‚ç‡å›¾æ¨¡å‹ï¼Œæ ¹æ®å›¾ç‰¹ç‚¹åˆ†ä¸ºï¼š</p><ol><li>æœ‰å‘å›¾-è´å¶æ–¯ç½‘ç»œï¼ŒåŠ å…¥å±‚æ¬¡åŒ–åæœ‰æ·±åº¦æœ‰å‘ç½‘ç»œï¼ŒåŒ…æ‹¬<ol><li>Sigmoid Belief Network</li><li>Variational Autoencoder</li><li>GAN</li></ol></li><li>æ— å‘å›¾-é©¬å°”å¯å¤«ç½‘ç»œï¼ŒåŠ å…¥å±‚æ¬¡åŒ–åæœ‰æ·±åº¦ç»å°”å…¹æ›¼æœºã€‚</li><li>æ··åˆï¼ŒåŠ å…¥å±‚æ¬¡åŒ–åæœ‰æ·±åº¦ä¿¡å¿µç½‘ç»œ</li></ol><p>è¿™å‡ ä¸ªåŠ å…¥å±‚æ¬¡åŒ–åçš„æ¨¡å‹å«åšæ·±åº¦ç”Ÿæˆç½‘ç»œã€‚</p></li></ol><p>ä»å¹¿ä¹‰æ¥è¯´ï¼Œæ·±åº¦å­¦ä¹ åŒ…æ‹¬æ·±åº¦ç”Ÿæˆç½‘ç»œå’Œæ·±åº¦ç¥ç»ç½‘ç»œã€‚</p><h2 id="From-PLA-to-DL"><a href="#From-PLA-to-DL" class="headerlink" title="From PLA to DL"></a>From PLA to DL</h2><ul><li>1958ï¼ŒPLA</li><li>1969ï¼ŒPLA ä¸èƒ½è§£å†³ XOR ç­‰éçº¿æ€§æ•°æ®</li><li>1981ï¼ŒMLPï¼Œå¤šå±‚æ„ŸçŸ¥æœºçš„å‡ºç°è§£å†³äº†ä¸Šé¢çš„é—®é¢˜</li><li>1986ï¼ŒBP ç®—æ³•åº”ç”¨åœ¨ MLP ä¸Šï¼ŒRNN</li><li>1989ï¼ŒCNNï¼ŒUniveral Approximation Theoremï¼Œä½†æ˜¯äºæ­¤åŒæ—¶ï¼Œç”±äºæ·±åº¦å’Œå®½åº¦çš„ç›¸å¯¹æ•ˆç‡ä¸çŸ¥é“ï¼Œå¹¶ä¸”æ— æ³•è§£å†³ BP ç®—æ³•çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</li><li>1993ï¼Œ1995ï¼ŒSVM + kernelï¼ŒAdaBoostï¼ŒRandomForestï¼Œè¿™äº›ç®—æ³•çš„å‘å±•ï¼ŒDL é€æ¸æ²¡è½</li><li>1997ï¼ŒLSTM</li><li>2006ï¼ŒåŸºäº RBM çš„ æ·±åº¦ä¿¡å¿µç½‘ç»œå’Œæ·±åº¦è‡ªç¼–ç </li><li>2009ï¼ŒGPUçš„å‘å±•</li><li>2011ï¼Œåœ¨è¯­éŸ³æ–¹é¢çš„åº”ç”¨</li><li>2012ï¼ŒImageNet</li><li>2013ï¼ŒVAE</li><li>2014ï¼ŒGAN</li><li>2016ï¼ŒAlphaGo</li><li>2018ï¼ŒGNN</li></ul><p>DL ä¸æ˜¯ä¸€ä¸ªæ–°çš„ä¸œè¥¿ï¼Œå…¶è¿‘å¹´æ¥çš„å¤§å‘å±•ä¸»è¦åŸå› å¦‚ä¸‹ï¼š</p><ol><li>æ•°æ®é‡å˜å¤§</li><li>åˆ†å¸ƒå¼è®¡ç®—çš„å‘å±•</li><li>ç¡¬ä»¶ç®—åŠ›çš„å‘å±•</li></ol><h2 id="éçº¿æ€§é—®é¢˜"><a href="#éçº¿æ€§é—®é¢˜" class="headerlink" title="éçº¿æ€§é—®é¢˜"></a>éçº¿æ€§é—®é¢˜</h2><p>å¯¹äºéçº¿æ€§çš„é—®é¢˜ï¼Œæœ‰ä¸‰ç§æ–¹æ³•ï¼š</p><ol><li>éçº¿æ€§è½¬æ¢ï¼Œå°†ä½ç»´ç©ºé—´è½¬æ¢åˆ°é«˜ç»´ç©ºé—´ï¼ˆCover å®šç†ï¼‰ï¼Œä»è€Œå˜ä¸ºä¸€ä¸ªçº¿æ€§é—®é¢˜ã€‚</li><li>æ ¸æ–¹æ³•ï¼Œç”±äºéçº¿æ€§è½¬æ¢æ˜¯å˜æ¢ä¸ºé«˜ç»´ç©ºé—´ï¼Œå› æ­¤å¯èƒ½å¯¼è‡´ç»´åº¦ç¾éš¾ï¼Œå¹¶ä¸”å¯èƒ½å¾ˆéš¾å¾—åˆ°è¿™ä¸ªå˜æ¢å‡½æ•°ï¼Œæ ¸æ–¹æ³•ä¸ç›´æ¥å¯»æ‰¾è¿™ä¸ªè½¬æ¢ï¼Œè€Œæ˜¯å¯»æ‰¾ä¸€ä¸ªå†…ç§¯ã€‚</li><li>ç¥ç»ç½‘ç»œæ–¹æ³•ï¼Œå°†å¤åˆè¿ç®—å˜ä¸ºåŸºæœ¬çš„çº¿æ€§è¿ç®—çš„ç»„åˆã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”è°±èšç±»</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/20.Spectral/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/20.Spectral/</url>
    
    <content type="html"><![CDATA[<h1 id="è°±èšç±»"><a href="#è°±èšç±»" class="headerlink" title="è°±èšç±»"></a>è°±èšç±»</h1><p>èšç±»é—®é¢˜å¯ä»¥åˆ†ä¸ºä¸¤ç§æ€è·¯ï¼š</p><ol><li>Compactnessï¼Œè¿™ç±»æœ‰ K-meansï¼ŒGMM ç­‰ï¼Œä½†æ˜¯è¿™ç±»ç®—æ³•åªèƒ½å¤„ç†å‡¸é›†ï¼Œä¸ºäº†å¤„ç†éå‡¸çš„æ ·æœ¬é›†ï¼Œå¿…é¡»å¼•å…¥æ ¸æŠ€å·§ã€‚</li><li>Connectivityï¼Œè¿™ç±»ä»¥è°±èšç±»ä¸ºä»£è¡¨ã€‚</li></ol><p>è°±èšç±»æ˜¯ä¸€ç§åŸºäºæ— å‘å¸¦æƒå›¾çš„èšç±»æ–¹æ³•ã€‚è¿™ä¸ªå›¾ç”¨ $G&#x3D;(V,E)$ è¡¨ç¤ºï¼Œå…¶ä¸­ $V&#x3D;{1,2,\cdots,N}$ï¼Œ$E&#x3D;{w_{ij}}$ï¼Œè¿™é‡Œ $w_{ij}$ å°±æ˜¯è¾¹çš„æƒé‡ï¼Œè¿™é‡Œæƒé‡å–ä¸ºç›¸ä¼¼åº¦ï¼Œ$W&#x3D;(w_{ij})$ æ˜¯ç›¸ä¼¼åº¦çŸ©é˜µï¼Œå®šä¹‰ç›¸ä¼¼åº¦ï¼ˆå¾„å‘æ ¸ï¼‰ï¼š<br>$$<br>w_{ij}&#x3D;k(x_i,x_j)&#x3D;\exp(-\frac{||x_i-x_j||<em>2^2}{2\sigma^2}),(i,j)\in E\<br>w</em>{ij}&#x3D;0,(i,j)\notin E<br>$$<br>ä¸‹é¢å®šä¹‰å›¾çš„åˆ†å‰²ï¼Œè¿™ç§åˆ†å‰²å°±ç›¸å½“äºèšç±»çš„ç»“æœã€‚å®šä¹‰ $w(A,B)$ï¼š<br>$$<br>A\sub V,B\sub V,A\cap B&#x3D;\emptyset,w(A,B)&#x3D;\sum\limits_{i\in A,j\in B}w_{ij}<br>$$<br>å‡è®¾ä¸€å…±æœ‰ $K$ ä¸ªç±»åˆ«ï¼Œå¯¹è¿™ä¸ªå›¾çš„åˆ†å‰² $CUT(V)&#x3D;CUT(A_1,A_2,\cdots,A_K)&#x3D;\sum\limits_{k&#x3D;1}^Kw(A_k,\overline{A_k})&#x3D;\sum\limits_{k&#x3D;1}^K[w(A_k,V)-w(A_k,A_k)]$</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯ $\min\limits_{A_k}CUT(V)$ã€‚</p><p>ä¸ºäº†å¹³è¡¡æ¯ä¸€ç±»å†…éƒ¨çš„æƒé‡ä¸åŒï¼Œæˆ‘ä»¬åšå½’ä¸€åŒ–çš„æ“ä½œï¼Œå®šä¹‰æ¯ä¸€ä¸ªé›†åˆçš„åº¦ï¼Œé¦–å…ˆï¼Œå¯¹å•ä¸ªèŠ‚ç‚¹çš„åº¦å®šä¹‰ï¼š<br>$$<br>d_i&#x3D;\sum\limits_{j&#x3D;1}^Nw_{ij}<br>$$<br>å…¶æ¬¡ï¼Œæ¯ä¸ªé›†åˆï¼š<br>$$<br>\Delta_k&#x3D;degree(A_k)&#x3D;\sum\limits_{i\in A_k}d_i<br>$$<br>äºæ˜¯ï¼š<br>$$<br>N(CUT)&#x3D;\sum\limits_{k&#x3D;1}^K\frac{w(A_k,\overline{A_k})}{\sum\limits_{i\in A_k}d_i}<br>$$<br>æ‰€ä»¥ç›®æ ‡å‡½æ•°å°±æ˜¯æœ€å°åŒ–è¿™ä¸ªå¼å­ã€‚</p><p>è°±èšç±»çš„æ¨¡å‹å°±æ˜¯ï¼š<br>$$<br>{\hat{A}<em>k}</em>{k&#x3D;1}^K&#x3D;\mathop{argmin}<em>{A_k}N(CUT)<br>$$<br>å¼•å…¥æŒ‡ç¤ºå‘é‡ï¼š<br>$$<br>\left{<br>\begin{align}y_i\in {0,1}^K\<br>\sum\limits</em>{j&#x3D;1}^Ky_{ij}&#x3D;1\end{align}<br>\right.<br>$$<br>å…¶ä¸­ï¼Œ$y_{ij}$ è¡¨ç¤ºç¬¬ $i$ ä¸ªæ ·æœ¬å±äº $j$ ä¸ªç±»åˆ«ï¼Œè®°ï¼š$Y&#x3D;(y_1,y_2,\cdots,y_N)^T$ã€‚æ‰€ä»¥ï¼š<br>$$<br>\hat{Y}&#x3D;\mathop{argmin}<em>YN(CUT)<br>$$<br>å°† $N(CUT)$ å†™æˆå¯¹è§’çŸ©é˜µçš„å½¢å¼ï¼Œäºæ˜¯ï¼š<br>$$<br>\begin{align}N(CUT)&amp;&#x3D;Trace[diag(\frac{w(A_1,\overline{A_1})}{\sum\limits</em>{i\in A_1}d_i},\frac{w(A_2,\overline{A_2})}{\sum\limits_{i\in A_2}d_i},\cdots,\frac{w(A_K,\overline{A_K})}{\sum\limits_{i\in A_K}d_i})]\nonumber\<br>&amp;&#x3D;Trace[diag(w(A_1,\overline{A_1}),w(A_2,\overline{A_2}),\cdots,w(A_K,\overline{A_K}))\cdot diag(\sum\limits_{i\in A_1}d_i,\cdots,\sum\limits_{i\in A_K}d_i)^{-1}]\nonumber\<br>&amp;&#x3D;Trace[O\cdot P^{-1}]<br>\end{align}<br>$$<br>æˆ‘ä»¬å·²ç»çŸ¥é“ $Y,w$ è¿™ä¸¤ä¸ªçŸ©é˜µï¼Œæˆ‘ä»¬å¸Œæœ›æ±‚å¾— $O,P$ã€‚</p><p>ç”±äºï¼š<br>$$<br>Y^TY&#x3D;\sum\limits_{i&#x3D;1}^Ny_iy_i^T<br>$$<br>å¯¹äº $y_iy_i^T$ï¼Œåªåœ¨å¯¹è§’çº¿ä¸Šçš„ $k\times k$ å¤„ä¸º 1ï¼Œæ‰€ä»¥ï¼š<br>$$<br>Y^TY&#x3D;diag(N_1,N_2,\cdots,N_K)<br>$$<br>å…¶ä¸­ï¼Œ$N_i$ è¡¨ç¤ºæœ‰ $N_i$ ä¸ªæ ·æœ¬å±äº $i$ï¼Œå³ $N_k&#x3D;\sum\limits_{k\in A_k}1$ã€‚</p><p>å¼•å…¥å¯¹è§’çŸ©é˜µï¼Œæ ¹æ® $d_i$ çš„å®šä¹‰ï¼Œ $D&#x3D;diag(d_1,d_2,\cdots,d_N)&#x3D;diag(w_{NN}\mathbb{I}<em>{N1})$ï¼Œäºæ˜¯ï¼š<br>$$<br>P&#x3D;Y^TDY<br>$$<br>å¯¹å¦ä¸€é¡¹ $O&#x3D;diag(w(A_1,\overline{A_1}),w(A_2,\overline{A_2}),\cdots,w(A_K,\overline{A_K})$ï¼š<br>$$<br>O&#x3D;diag(w(A_i,V))-diag(w(A_i,A_i))&#x3D;diag(\sum\limits</em>{j\in A_i}d_j)-diag(w(A_i,A_i))<br>$$<br>å…¶ä¸­ï¼Œç¬¬ä¸€é¡¹å·²çŸ¥ï¼Œç¬¬äºŒé¡¹å¯ä»¥å†™æˆ $Y^TwY$ï¼Œè¿™æ˜¯ç”±äºï¼š<br>$$<br>Y^TwY&#x3D;\sum\limits_{i&#x3D;1}^N\sum\limits_{j&#x3D;1}^Ny_iy_j^Tw_{ij}<br>$$<br>äºæ˜¯è¿™ä¸ªçŸ©é˜µçš„ç¬¬ $lm$ é¡¹å¯ä»¥å†™ä¸ºï¼š<br>$$<br>\sum\limits_{i\in A_l,j\in A_m}w_{ij}<br>$$<br>è¿™ä¸ªçŸ©é˜µçš„å¯¹è§’çº¿ä¸Šçš„é¡¹å’Œ $w(A_i,A_i)$ ç›¸åŒï¼Œæ‰€ä»¥å–è¿¹åçš„å–å€¼ä¸ä¼šå˜åŒ–ã€‚</p><p>æ‰€ä»¥ï¼š<br>$$<br>N(CUT)&#x3D;Trace[(Y^T(D-w))Y)\cdot(Y^TDY)^{-1}]<br>$$<br>å…¶ä¸­ï¼Œ$Â L&#x3D;D-w$ å«åšæ‹‰æ™®æ‹‰æ–¯çŸ©é˜µã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”å—é™ç»å°”å…¹æ›¼æœº</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/19.RBM/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/19.RBM/</url>
    
    <content type="html"><![CDATA[<h1 id="å—é™ç»å°”å…¹æ›¼æœº"><a href="#å—é™ç»å°”å…¹æ›¼æœº" class="headerlink" title="å—é™ç»å°”å…¹æ›¼æœº"></a>å—é™ç»å°”å…¹æ›¼æœº</h1><p>ç»å°”å…¹æ›¼æœºæ˜¯ä¸€ç§å­˜åœ¨éšèŠ‚ç‚¹çš„æ— å‘å›¾æ¨¡å‹ã€‚åœ¨å›¾æ¨¡å‹ä¸­æœ€ç®€å•çš„æ˜¯æœ´ç´ è´å¶æ–¯æ¨¡å‹ï¼ˆæœ´ç´ è´å¶æ–¯å‡è®¾ï¼‰ï¼Œå¼•å…¥å•ä¸ªéšå˜é‡åï¼Œå‘å±•å‡ºäº† GMMï¼Œå¦‚æœå•ä¸ªéšå˜é‡å˜æˆåºåˆ—çš„éšå˜é‡ï¼Œå°±å¾—åˆ°äº†çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼ˆå¼•å…¥é½æ¬¡é©¬å°”å¯å¤«å‡è®¾å’Œè§‚æµ‹ç‹¬ç«‹å‡è®¾å°±æœ‰HMMï¼ŒKalman Filterï¼ŒParticle Filterï¼‰ï¼Œä¸ºäº†å¼•å…¥è§‚æµ‹å˜é‡ä¹‹é—´çš„å…³è”ï¼Œå¼•å…¥äº†ä¸€ç§æœ€å¤§ç†µæ¨¡å‹-MEMMï¼Œä¸ºäº†å…‹æœ MEMM ä¸­çš„å±€åŸŸé—®é¢˜ï¼Œåˆå¼•å…¥äº† CRFï¼ŒCRF æ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œå…¶ä¸­ï¼Œç ´åäº†é½æ¬¡é©¬å°”å¯å¤«å‡è®¾ï¼Œå¦‚æœéšå˜é‡æ˜¯ä¸€ä¸ªé“¾å¼ç»“æ„ï¼Œé‚£ä¹ˆåˆå«çº¿æ€§é“¾ CRFã€‚</p><p>åœ¨æ— å‘å›¾çš„åŸºç¡€ä¸Šï¼Œå¼•å…¥éšå˜é‡å¾—åˆ°äº†ç»å°”å…¹æ›¼æœºï¼Œè¿™ä¸ªå›¾æ¨¡å‹çš„æ¦‚ç‡å¯†åº¦å‡½æ•°æ˜¯ä¸€ä¸ªæŒ‡æ•°æ—åˆ†å¸ƒã€‚å¯¹éšå˜é‡å’Œè§‚æµ‹å˜é‡ä½œå‡ºä¸€å®šçš„é™åˆ¶ï¼Œå°±å¾—åˆ°äº†å—é™ç»å°”å…¹æ›¼æœºï¼ˆRBMï¼‰ã€‚</p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œä¸åŒçš„æ¦‚ç‡å›¾æ¨¡å‹å¯¹ä¸‹é¢å‡ ä¸ªç‰¹ç‚¹ä½œå‡ºå‡è®¾ï¼š</p><ol><li>æ–¹å‘-è¾¹çš„æ€§è´¨</li><li>ç¦»æ•£&#x2F;è¿ç»­&#x2F;æ··åˆ-ç‚¹çš„æ€§è´¨</li><li>æ¡ä»¶ç‹¬ç«‹æ€§-è¾¹çš„æ€§è´¨</li><li>éšå˜é‡-èŠ‚ç‚¹çš„æ€§è´¨</li><li>æŒ‡æ•°æ—-ç»“æ„ç‰¹ç‚¹</li></ol><p>å°†è§‚æµ‹å˜é‡å’Œéšå˜é‡åˆ†åˆ«è®°ä¸º $v,h,h&#x3D;{h_1,\cdots,h_m},v&#x3D;{v_1,\cdots,v_n}$ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ— å‘å›¾æ ¹æ®æœ€å¤§å›¢çš„åˆ†è§£ï¼Œå¯ä»¥å†™ä¸ºç»å°”å…¹æ›¼åˆ†å¸ƒçš„å½¢å¼ $p(x)&#x3D;\frac{1}{Z}\prod\limits_{i&#x3D;1}^K\psi_i(x_{ci})&#x3D;\frac{1}{Z}\exp(-\sum\limits_{i&#x3D;1}^KE(x_{ci}))$ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡æ•°æ—åˆ†å¸ƒã€‚</p><p>ä¸€ä¸ªç»å°”å…¹æ›¼æœºå­˜åœ¨ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œåœ¨å…¶æ¨æ–­ä»»åŠ¡ä¸­ï¼Œæƒ³è¦ç²¾ç¡®æ¨æ–­ï¼Œæ˜¯æ— æ³•è¿›è¡Œçš„ï¼Œæƒ³è¦è¿‘ä¼¼æ¨æ–­ï¼Œè®¡ç®—é‡è¿‡å¤§ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€ç§ç®€åŒ–çš„ç»å°”å…¹æ›¼æœº-å—é™ç»å°”å…¹æ›¼æœºä½œå‡ºäº†å‡è®¾ï¼Œæ‰€æœ‰éšå˜é‡å†…éƒ¨ä»¥åŠè§‚æµ‹å˜é‡å†…éƒ¨æ²¡æœ‰è¿æ¥ï¼Œåªåœ¨éšå˜é‡å’Œè§‚æµ‹å˜é‡ä¹‹é—´æœ‰è¿æ¥ï¼Œè¿™æ ·ä¸€æ¥ï¼š<br>$$<br>p(x)&#x3D;p(h,v)&#x3D;\frac{1}{Z}\exp(-E(v,h))<br>$$<br>å…¶ä¸­èƒ½é‡å‡½æ•° $E(v,h)$ å¯ä»¥å†™å‡ºä¸‰ä¸ªéƒ¨åˆ†ï¼ŒåŒ…æ‹¬ä¸èŠ‚ç‚¹é›†åˆç›¸å…³çš„ä¸¤é¡¹ä»¥åŠä¸è¾¹ $w$ ç›¸å…³çš„ä¸€é¡¹ï¼Œè®°ä¸ºï¼š<br>$$<br>E(v,h)&#x3D;-(h^Twv+\alpha^T v+\beta^T h)<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>p(x)&#x3D;\frac{1}{Z}\exp(h^Twv)\exp(\alpha^T v)\exp(\beta^T h)&#x3D;\frac{1}{Z}\prod_{i&#x3D;1}^m\prod_{j&#x3D;1}^n\exp(h_iw_{ij}v_j)\prod_{j&#x3D;1}^n\exp(\alpha_jv_j)\prod_{i&#x3D;1}^m\exp(\beta_ih_i)<br>$$<br>ä¸Šé¢è¿™ä¸ªå¼å­ä¹Ÿå’Œ RBM çš„å› å­å›¾ä¸€ä¸€å¯¹åº”ã€‚</p><h2 id="æ¨æ–­"><a href="#æ¨æ–­" class="headerlink" title="æ¨æ–­"></a>æ¨æ–­</h2><p>æ¨æ–­ä»»åŠ¡åŒ…æ‹¬æ±‚åéªŒæ¦‚ç‡ $ p(v|h),p(h|v)$ ä»¥åŠæ±‚è¾¹ç¼˜æ¦‚ç‡ $p(v)$ã€‚</p><h3 id="p-h-v"><a href="#p-h-v" class="headerlink" title="$p(h|v)$"></a>$p(h|v)$</h3><p>å¯¹äºä¸€ä¸ªæ— å‘å›¾ï¼Œæ»¡è¶³å±€åŸŸçš„ Markov æ€§è´¨ï¼Œå³ $p(h_1|h-{h_1},v)&#x3D;p(h_1|Neighbour(h_1))&#x3D;p(h_1|v)$ã€‚æˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š<br>$$<br>p(h|v)&#x3D;\prod_{i&#x3D;1}^mp(h_i|v)<br>$$<br>è€ƒè™‘ Binary RBMï¼Œæ‰€æœ‰çš„éšå˜é‡åªæœ‰ä¸¤ä¸ªå–å€¼ $0,1$ï¼š<br>$$<br>p(h_l&#x3D;1|v)&#x3D;\frac{p(h_l&#x3D;1,h_{-l},v)}{p(h_{-l},v)}&#x3D;\frac{p(h_l&#x3D;1,h_{-l},v)}{p(h_l&#x3D;1,h_{-l},v)+p(h_l&#x3D;0,h_{-l},v)}<br>$$<br>å°†èƒ½é‡å‡½æ•°å†™æˆå’Œ $l$ ç›¸å…³æˆ–ä¸ç›¸å…³çš„ä¸¤é¡¹ï¼š<br>$$<br>E(v,h)&#x3D;-(\sum\limits_{i&#x3D;1,i\ne l}^m\sum\limits_{j&#x3D;1}^nh_iw_{ij}v_j+h_l\sum\limits_{j&#x3D;1}^nw_{lj}v_j+\sum\limits_{j&#x3D;1}^n\alpha_j v_j+\sum\limits_{i&#x3D;1,i\ne l}^m\beta_ih_i+\beta_lh_l)<br>$$<br>å®šä¹‰ï¼š$h_lH_l(v)&#x3D;h_l\sum\limits_{j&#x3D;1}^nw_{lj}v_j+\beta_lh_l,\overline{H}(h_{-l},v)&#x3D;\sum\limits_{i&#x3D;1,i\ne l}^m\sum\limits_{j&#x3D;1}^nh_iw_{ij}v_j+\sum\limits_{j&#x3D;1}^n\alpha_j v_j+\sum\limits_{i&#x3D;1,i\ne l}^m\beta_ih_i$ã€‚</p><p>ä»£å…¥ï¼Œæœ‰ï¼š<br>$$<br>p(h_l&#x3D;1|v)&#x3D;\frac{\exp(H_l(v)+\overline{H}(h_{-l},v))}{\exp(H_l(v)+\overline{H}(h_{-l},v))+\exp(\overline{H}(h_{-l},v))}&#x3D;\frac{1}{1+\exp(-H_l(v))}&#x3D;\sigma(H_l(v))<br>$$<br>äºæ˜¯å°±å¾—åˆ°äº†åéªŒæ¦‚ç‡ã€‚å¯¹äº $v$ çš„åéªŒæ˜¯å¯¹ç§°çš„ï¼Œæ‰€ä»¥ç±»ä¼¼çš„å¯ä»¥æ±‚è§£ã€‚</p><h3 id="p-v"><a href="#p-v" class="headerlink" title="$p(v)$"></a>$p(v)$</h3><p>$$<br>\begin{align}p(v)&amp;&#x3D;\sum\limits_hp(h,v)&#x3D;\sum\limits_h\frac{1}{Z}\exp(h^Twv+\alpha^Tv+\beta^Th)\nonumber\<br>&amp;&#x3D;\exp(\alpha^Tv)\frac{1}{Z}\sum\limits_{h_1}\exp(h_1w_1v+\beta_1h_1)\cdots\sum\limits_{h_m}\exp(h_mw_mv+\beta_mh_m)\nonumber\<br>&amp;&#x3D;\exp(\alpha^Tv)\frac{1}{Z}(1+\exp(w_1v+\beta_1))\cdots(1+\exp(w_mv+\beta_m))\nonumber\<br>&amp;&#x3D;\frac{1}{Z}\exp(\alpha^Tv+\sum\limits_{i&#x3D;1}^m\log(1+\exp(w_iv+\beta_i)))<br>\end{align}<br>$$</p><p>å…¶ä¸­ï¼Œ$\log(1+\exp(x))$ å«åš Softplus å‡½æ•°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”é«˜æ–¯è¿‡ç¨‹å›å½’</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/18.GaussianProcess/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/18.GaussianProcess/</url>
    
    <content type="html"><![CDATA[<h1 id="é«˜æ–¯è¿‡ç¨‹å›å½’"><a href="#é«˜æ–¯è¿‡ç¨‹å›å½’" class="headerlink" title="é«˜æ–¯è¿‡ç¨‹å›å½’"></a>é«˜æ–¯è¿‡ç¨‹å›å½’</h1><p>å°†ä¸€ç»´é«˜æ–¯åˆ†å¸ƒæ¨å¹¿åˆ°å¤šå˜é‡ä¸­å°±å¾—åˆ°äº†é«˜æ–¯ç½‘ç»œï¼Œå°†å¤šå˜é‡æ¨å¹¿åˆ°æ— é™ç»´ï¼Œå°±å¾—åˆ°äº†é«˜æ–¯è¿‡ç¨‹ï¼Œé«˜æ–¯è¿‡ç¨‹æ˜¯å®šä¹‰åœ¨è¿ç»­åŸŸï¼ˆæ—¶é—´ç©ºé—´ï¼‰ä¸Šçš„æ— é™å¤šä¸ªé«˜ç»´éšæœºå˜é‡æ‰€ç»„æˆçš„éšæœºè¿‡ç¨‹ã€‚</p><p>åœ¨æ—¶é—´è½´ä¸Šçš„ä»»æ„ä¸€ä¸ªç‚¹éƒ½æ»¡è¶³é«˜æ–¯åˆ†å¸ƒå—ï¼Œå°†è¿™äº›ç‚¹çš„é›†åˆå«åšé«˜æ–¯è¿‡ç¨‹çš„ä¸€ä¸ªæ ·æœ¬ã€‚</p><blockquote><p>  å¯¹äºæ—¶é—´è½´ä¸Šçš„åºåˆ— $\xi_t$ï¼Œå¦‚æœ $\forall n\in N^+ï¼Œt_i\in T$ï¼Œæœ‰ $\xi_{t_1-t_n}\sim \mathcal{N}(\mu_{t_1-t_n},\Sigma_{t_1-t_n})$ï¼Œ  é‚£ä¹ˆ ${\xi_t}_{t\in T}$ æ˜¯ä¸€ä¸ªé«˜æ–¯è¿‡ç¨‹ã€‚</p><p>  é«˜æ–¯è¿‡ç¨‹æœ‰ä¸¤ä¸ªå‚æ•°ï¼ˆé«˜æ–¯è¿‡ç¨‹å­˜åœ¨æ€§å®šç†ï¼‰ï¼Œå‡å€¼å‡½æ•° $m(t)&#x3D;\mathbb{E}[\xi_t]$ å’Œåæ–¹å·®å‡½æ•° $k(s,t)&#x3D;\mathbb{E}[(\xi_s-\mathbb{E}[\xi_s])(\xi_t-\mathbb{E}[\xi_t])]$ã€‚</p></blockquote><p>æˆ‘ä»¬å°†è´å¶æ–¯çº¿æ€§å›å½’æ·»åŠ æ ¸æŠ€å·§çš„è¿™ä¸ªæ¨¡å‹å«åšé«˜æ–¯è¿‡ç¨‹å›å½’ï¼Œé«˜æ–¯è¿‡ç¨‹å›å½’åˆ†ä¸ºä¸¤ç§è§†è§’ï¼š</p><ol><li>æƒç©ºé—´çš„è§†è§’-æ ¸è´å¶æ–¯çº¿æ€§å›å½’ï¼Œç›¸å½“äº $x$ ä¸º $t$ï¼Œåœ¨æ¯ä¸ªæ—¶åˆ»çš„é«˜æ–¯åˆ†å¸ƒæ¥æºäºæƒé‡ï¼Œæ ¹æ®ä¸Šé¢çš„æ¨å¯¼ï¼Œé¢„æµ‹çš„å‡½æ•°ä¾ç„¶æ˜¯é«˜æ–¯åˆ†å¸ƒã€‚</li><li>å‡½æ•°ç©ºé—´çš„è§†è§’-é«˜æ–¯åˆ†å¸ƒé€šè¿‡å‡½æ•° $f(x)$ æ¥ä½“ç°ã€‚</li></ol><h2 id="æ ¸è´å¶æ–¯çº¿æ€§å›å½’"><a href="#æ ¸è´å¶æ–¯çº¿æ€§å›å½’" class="headerlink" title="æ ¸è´å¶æ–¯çº¿æ€§å›å½’"></a>æ ¸è´å¶æ–¯çº¿æ€§å›å½’</h2><p>è´å¶æ–¯çº¿æ€§å›å½’å¯ä»¥é€šè¿‡åŠ å…¥æ ¸å‡½æ•°çš„æ–¹æ³•æ¥è§£å†³éçº¿æ€§å‡½æ•°çš„é—®é¢˜ï¼Œå°† $f(x)&#x3D;x^Tw$ è¿™ä¸ªå‡½æ•°å˜ä¸º $f(x)&#x3D;\phi(x)^Tw$ï¼ˆå½“ç„¶è¿™ä¸ªæ—¶å€™ï¼Œ$Â \Sigma_p$ ä¹Ÿè¦å˜ä¸ºæ›´é«˜ç»´åº¦çš„ï¼‰ï¼Œå˜æ¢åˆ°æ›´é«˜ç»´çš„ç©ºé—´ï¼Œæœ‰ï¼š<br>$$<br>\begin{align}f(x^*)\sim \mathcal{N}(\phi(x^*)^{T}\sigma^{-2}A^{-1}\Phi^TY,\phi(x^*)^{T}A^{-1}\phi(x^*))\<br>A&#x3D;\sigma^{-2}\Phi^T\Phi+\Sigma_p^{-1}<br>\end{align}<br>$$<br>å…¶ä¸­ï¼Œ$\Phi&#x3D;(\phi(x_1),\phi(x_2),\cdots,\phi(x_N))^T$ã€‚</p><p>ä¸ºäº†æ±‚è§£ $A^{-1}$ï¼Œå¯ä»¥åˆ©ç”¨ Woodbury Formulaï¼Œ$A&#x3D;\Sigma_p^{-1},C&#x3D;\sigma^{-2}\mathbb{I}$ï¼š<br>$$<br>(A+UCV)^{-1}&#x3D;A^{-1}-A^{-1}U(C^{-1}+VA^{-1}U)^{-1}VA^{-1}<br>$$<br>æ‰€ä»¥ $A^{-1}&#x3D;\Sigma_p-\Sigma_p\Phi^T(\sigma^2\mathbb{I}+\Phi\Sigma_p\Phi^T)^{-1}\Phi\Sigma_p$</p><p>ä¹Ÿå¯ä»¥ç”¨å¦ä¸€ç§æ–¹æ³•ï¼š<br>$$<br>\begin{align}<br>A&amp;&#x3D;\sigma^{-2}\Phi^T\Phi+\Sigma_p^{-1}\nonumber\<br>\Leftrightarrow A\Sigma_p&amp;&#x3D;\sigma^{-2}\Phi^T\Phi\Sigma_p+\mathbb{I}\nonumber\<br>\Leftrightarrow A\Sigma_p\Phi^T&amp;&#x3D;\sigma^{-2}\Phi^T\Phi\Sigma_p\Phi^T+\Phi^T&#x3D;\sigma^{-2}\Phi^T(k+\sigma^2\mathbb{I})\nonumber\<br>\Leftrightarrow \Sigma_p\Phi^T&amp;&#x3D;\sigma^{-2}A^{-1}\Phi^T(k+\sigma^2\mathbb{I})\nonumber\<br>\Leftrightarrow \sigma^{-2}A^{-1}\Phi^T&amp;&#x3D;\Sigma_p\Phi^T(k+\sigma^2\mathbb{I})^{-1}\nonumber\<br>\Leftrightarrow \phi(x^*)^T\sigma^{-2}A^{-1}\Phi^T&amp;&#x3D;\phi(x^*)^T\Sigma_p\Phi^T(k+\sigma^2\mathbb{I})^{-1}<br>\end{align}<br>$$<br>ä¸Šé¢çš„å·¦è¾¹çš„å¼å­å°±æ˜¯å˜æ¢åçš„å‡å€¼ï¼Œè€Œå³è¾¹çš„å¼å­å°±æ˜¯ä¸å« $A^{-1}$ çš„å¼å­ï¼Œå…¶ä¸­ $k&#x3D;\Phi\Sigma_p\Phi^T$ã€‚</p><p>æ ¹æ® $A^{-1}$ å¾—åˆ°æ–¹å·®ä¸ºï¼š<br>$$<br>\phi(x^*)^T\Sigma_p\phi(x^*)-\phi(x^*)^T\Sigma_p\Phi^T(\sigma^2\mathbb{I}+k)^{-1}\Phi\Sigma_p\phi(x^*)<br>$$<br>ä¸Šé¢å®šä¹‰äº†ï¼š<br>$$<br>k&#x3D;\Phi\Sigma_p\Phi^T<br>$$<br>æˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨å‡å€¼å’Œæ–¹å·®ä¸­ï¼Œå«æœ‰ä¸‹é¢å››é¡¹ï¼š<br>$$<br>\phi(x^*)^T\Sigma_p\Phi^T,\phi(x^*)^T\Sigma_p\phi(x^*),\phi(x^*)^T\Sigma_p\Phi^T,\Phi\Sigma_p\phi(x^*)<br>$$<br>å±•å¼€åï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæœ‰å…±åŒçš„é¡¹ï¼š$k(x,xâ€™)&#x3D;\phi(x)^T\Sigma_p\phi(xâ€˜)$ã€‚ç”±äº $\Sigma_p$ æ˜¯æ­£å®šå¯¹ç§°çš„æ–¹å·®çŸ©é˜µï¼Œæ‰€ä»¥ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ¸å‡½æ•°ã€‚</p><p>å¯¹äºé«˜æ–¯è¿‡ç¨‹ä¸­çš„åæ–¹å·®ï¼š<br>$$<br>k(t,s)&#x3D;Cov[f(x),f(xâ€™)]&#x3D;\mathbb{E}[\phi(x)^Tww^T\phi(xâ€™)]&#x3D;\phi(x)^T\mathbb{E}[ww^T]\phi(xâ€™)&#x3D;\phi(x)^T\Sigma_p\phi(xâ€™)<br>$$<br>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå°±å¯¹åº”ç€ä¸Šé¢çš„æ ¸å‡½æ•°ã€‚å› æ­¤æˆ‘ä»¬çœ‹åˆ° ${f(x)}$ ç»„æˆçš„ç»„åˆå°±æ˜¯ä¸€ä¸ªé«˜æ–¯è¿‡ç¨‹ã€‚</p><h2 id="å‡½æ•°ç©ºé—´çš„è§‚ç‚¹"><a href="#å‡½æ•°ç©ºé—´çš„è§‚ç‚¹" class="headerlink" title="å‡½æ•°ç©ºé—´çš„è§‚ç‚¹"></a>å‡½æ•°ç©ºé—´çš„è§‚ç‚¹</h2><p>ç›¸æ¯”æƒé‡ç©ºé—´ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥å…³æ³¨ $f$ è¿™ä¸ªç©ºé—´ï¼Œå¯¹äºé¢„æµ‹ä»»åŠ¡ï¼Œè¿™å°±æ˜¯ç±»ä¼¼äºæ±‚ï¼š<br>$$<br>p(y^*|X,Y,x^*)&#x3D;\int_fp(y^*|f,X,Y,x^*)p(f|X,Y,x^*)df<br>$$<br>å¯¹äºæ•°æ®é›†æ¥è¯´ï¼Œå– $f(X)\sim\mathcal{N}(\mu(X),k(X,X)),Y&#x3D;f(X)+\varepsilon\sim\mathcal{N}(\mu(X),k(X,X)+\sigma^2\mathbb{I})$ã€‚é¢„æµ‹ä»»åŠ¡çš„ç›®çš„æ˜¯ç»™å®šä¸€ä¸ªæ–°æ•°æ®åºåˆ— $X^*&#x3D;(x_1^*,\cdots,x_M^*)^T$ï¼Œå¾—åˆ° $Y^*&#x3D;f(X^*)+\varepsilon$ã€‚æˆ‘ä»¬å¯ä»¥å†™å‡ºï¼š<br>$$<br>\begin{pmatrix}Y\f(X^*)\end{pmatrix}\sim\mathcal{N}\left(\begin{pmatrix}\mu(X)\\mu(X^*)\end{pmatrix},\begin{pmatrix}k(X,X)+\sigma^2\mathbb{I}&amp;k(X,X^*)\k(X^*,X)&amp;k(X^*,X^*)\end{pmatrix}\right)<br>$$<br>æ ¹æ®é«˜æ–¯åˆ†å¸ƒçš„æ–¹æ³•ï¼š<br>$$<br>\begin{align}x&#x3D;\begin{pmatrix}x_a\x_b\end{pmatrix}\sim\mathcal{N}\left(\begin{pmatrix}\mu_a\\mu_b\end{pmatrix},\begin{pmatrix}\Sigma_{aa}&amp;\Sigma_{ab}\\Sigma_{ba}&amp;\Sigma_{bb}\end{pmatrix}\right)\<br>x_b|x_a\sim\mathcal{N}(\mu_{b|a},\Sigma_{b|a})\<br>\mu_{b|a}&#x3D;\Sigma_{ba}\Sigma_{aa}^{-1}(x_a-\mu_a)+\mu_b\<br>\Sigma_{b|a}&#x3D;\Sigma_{bb}-\Sigma_{ba}\Sigma_{aa}^{-1}\Sigma_{ab}<br>\end{align}<br>$$<br>å¯ä»¥ç›´æ¥å†™å‡ºï¼š<br>$$<br>p(f(X^*)|X,Y,X^*)&#x3D;p(f(X^*)|Y)\<br>&#x3D;\mathcal{N}(k(X^*,X)[k(X,X)+\sigma^2\mathbb{I}]^{-1}(Y-\mu(X))+\mu(X^*),\<br>k(X^*,X^*)-k(X^*,X)[k(X,X)+\sigma^2\mathbb{I}]^{1}k(X,X^*))<br>$$<br>æ‰€ä»¥å¯¹äº $Y&#x3D;f(X^*)+\varepsilon$ï¼š<br>$$<br>\mathcal{N}(k(X^*,X)[k(X,X)+\sigma^2\mathbb{I}]^{-1}(Y-\mu(X))+\mu(X^*),\<br>k(X^*,X^*)-k(X^*,X)[k(X,X)+\sigma^2\mathbb{I}]^{1}k(X,X^*)+\sigma^2\mathbb{I})<br>$$<br>æˆ‘ä»¬çœ‹åˆ°ï¼Œå‡½æ•°ç©ºé—´çš„è§‚ç‚¹æ›´åŠ ç®€å•æ˜“äºæ±‚è§£ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”è´å¶æ–¯çº¿æ€§å›å½’</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/17.BayesianLR/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/17.BayesianLR/</url>
    
    <content type="html"><![CDATA[<h1 id="è´å¶æ–¯çº¿æ€§å›å½’"><a href="#è´å¶æ–¯çº¿æ€§å›å½’" class="headerlink" title="è´å¶æ–¯çº¿æ€§å›å½’"></a>è´å¶æ–¯çº¿æ€§å›å½’</h1><p> æˆ‘ä»¬çŸ¥é“ï¼Œçº¿æ€§å›å½’å½“å™ªå£°ä¸ºé«˜æ–¯åˆ†å¸ƒçš„æ—¶å€™ï¼Œæœ€å°äºŒä¹˜æŸå¤±å¯¼å‡ºçš„ç»“æœç›¸å½“äºå¯¹æ¦‚ç‡æ¨¡å‹åº”ç”¨ MLEï¼Œå¼•å…¥å‚æ•°çš„å…ˆéªŒæ—¶ï¼Œå…ˆéªŒåˆ†å¸ƒæ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œé‚£ä¹ˆ MAPçš„ç»“æœç›¸å½“äºå²­å›å½’çš„æ­£åˆ™åŒ–ï¼Œå¦‚æœå…ˆéªŒæ˜¯æ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒï¼Œé‚£ä¹ˆç›¸å½“äº Lasso çš„æ­£åˆ™åŒ–ã€‚è¿™ä¸¤ç§æ–¹æ¡ˆéƒ½æ˜¯ç‚¹ä¼°è®¡æ–¹æ³•ã€‚æˆ‘ä»¬å¸Œæœ›åˆ©ç”¨è´å¶æ–¯æ–¹æ³•æ¥æ±‚è§£å‚æ•°çš„åéªŒåˆ†å¸ƒã€‚</p><p>çº¿æ€§å›å½’çš„æ¨¡å‹å‡è®¾ä¸ºï¼š<br>$$<br>\begin{align}f(x)&#x3D;w^Tx<br>\y&#x3D;f(x)+\varepsilon\<br>\varepsilon\sim\mathcal{N}(0,\sigma^2)<br>\end{align}<br>$$<br>åœ¨è´å¶æ–¯æ–¹æ³•ä¸­ï¼Œéœ€è¦è§£å†³æ¨æ–­å’Œé¢„æµ‹ä¸¤ä¸ªé—®é¢˜ã€‚</p><h2 id="æ¨æ–­"><a href="#æ¨æ–­" class="headerlink" title="æ¨æ–­"></a>æ¨æ–­</h2><p>å¼•å…¥é«˜æ–¯å…ˆéªŒï¼š<br>$$<br>p(w)&#x3D;\mathcal{N}(0,\Sigma_p)<br>$$<br>å¯¹å‚æ•°çš„åéªŒåˆ†å¸ƒè¿›è¡Œæ¨æ–­ï¼š<br>$$<br>p(w|X,Y)&#x3D;\frac{p(w,Y|X)}{p(Y|X)}&#x3D;\frac{p(Y|w,X)p(w|X)}{\int p(Y|w,X)p(w|X)dw}<br>$$<br>åˆ†æ¯å’Œå‚æ•°æ— å…³ï¼Œç”±äº $p(w|X)&#x3D;p(w)$ï¼Œä»£å…¥å…ˆéªŒå¾—åˆ°ï¼š<br>$$<br>p(w|X,Y)\propto \prod\limits_{i&#x3D;1}^N\mathcal{N}(y_i|w^Tx_i,\sigma^2)\cdot\mathcal{N}(0,\Sigma_p)<br>$$<br>é«˜æ–¯åˆ†å¸ƒå–é«˜æ–¯å…ˆéªŒçš„å…±è½­åˆ†å¸ƒä¾ç„¶æ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œäºæ˜¯å¯ä»¥å¾—åˆ°åéªŒåˆ†å¸ƒä¹Ÿæ˜¯ä¸€ä¸ªé«˜æ–¯åˆ†å¸ƒã€‚ç¬¬ä¸€é¡¹ï¼š<br>$$<br>\begin{align}\prod\limits_{i&#x3D;1}^N\mathcal{N}(y_i|w^Tx_i,\sigma^2)&amp;&#x3D;\frac{1}{(2\pi)^{N&#x2F;2}\sigma^N}\exp(-\frac{1}{2\sigma^2}\sum\limits_{i&#x3D;1}^N(y_i-w^Tx_i)^2)\nonumber\<br>&amp;&#x3D;\frac{1}{(2\pi)^{N&#x2F;2}\sigma^N}\exp(-\frac{1}{2}(Y-Xw)^T(\sigma^{-2}\mathbb{I})(Y-Xw))<br>\nonumber\&amp;&#x3D;\mathcal{N}(Xw,\sigma^2\mathbb{I})<br>\end{align}<br>$$<br>ä»£å…¥ä¸Šé¢çš„å¼å­ï¼š<br>$$<br>p(w|X,Y)\propto\exp(-\frac{1}{2\sigma^2}(Y-Xw)^T\sigma^{-2}\mathbb{I}(Y-Xw)-\frac{1}{2}w^T\Sigma_p^{-1}w)<br>$$<br>å‡å®šæœ€åå¾—åˆ°çš„é«˜æ–¯åˆ†å¸ƒä¸ºï¼š$\mathcal{N}(\mu_w,\Sigma_w)$ã€‚å¯¹äºä¸Šé¢çš„åˆ†å¸ƒï¼Œé‡‡ç”¨é…æ–¹çš„æ–¹å¼æ¥å¾—åˆ°æœ€ç»ˆçš„åˆ†å¸ƒï¼ŒæŒ‡æ•°ä¸Šé¢çš„äºŒæ¬¡é¡¹ä¸ºï¼š<br>$$<br>-\frac{1}{2\sigma^2}w^TX^TXw-\frac{1}{2}w^T\Sigma_p^{-1}w<br>$$<br>äºæ˜¯ï¼š<br>$$<br>\Sigma_w^{-1}&#x3D;\sigma^{-2}X^TX+\Sigma_p^{-1}&#x3D;A<br>$$<br>ä¸€æ¬¡é¡¹ï¼š<br>$$<br>\frac{1}{2\sigma^2}2Y^TXw&#x3D;\sigma^{-2}Y^TXw<br>$$<br>äºæ˜¯ï¼š<br>$$<br>\mu_w^T\Sigma_w^{-1}&#x3D;\sigma^{-2}Y^TX\Rightarrow\mu_w&#x3D;\sigma^{-2}A^{-1}X^TY<br>$$</p><h2 id="é¢„æµ‹"><a href="#é¢„æµ‹" class="headerlink" title="é¢„æµ‹"></a>é¢„æµ‹</h2><p>ç»™å®šä¸€ä¸ª $x^*$ï¼Œæ±‚è§£ $y^*$ï¼Œæ‰€ä»¥ $f(x^*)&#x3D;x^{<em>T}w$ï¼Œä»£å…¥å‚æ•°åéªŒï¼Œæœ‰ $x^{<em>T}w\sim \mathcal{N}(x^{<em>T}\mu_w,x^{<em>T}\Sigma_wx^</em>)$ï¼Œæ·»ä¸Šå™ªå£°é¡¹ï¼š<br>$$<br>p(y^</em>|X,Y,x^</em>)&#x3D;\int_wp(y^</em>|w,X,Y,x^*)p(w|X,Y,x^*)dw&#x3D;\int_wp(y^*|w,x^*)p(w|X,Y)dw\<br>&#x3D;\mathcal{N}(x^{*T}\mu_w,x^{<em>T}\Sigma_wx^</em>+\sigma^2)<br>$$</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”é«˜æ–¯ç½‘ç»œ</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/16.GaussianNetwork/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/16.GaussianNetwork/</url>
    
    <content type="html"><![CDATA[<h1 id="é«˜æ–¯ç½‘ç»œ"><a href="#é«˜æ–¯ç½‘ç»œ" class="headerlink" title="é«˜æ–¯ç½‘ç»œ"></a>é«˜æ–¯ç½‘ç»œ</h1><p>é«˜æ–¯å›¾æ¨¡å‹ï¼ˆé«˜æ–¯ç½‘ç»œï¼‰æ˜¯ä¸€ç§éšæœºå˜é‡ä¸ºè¿ç»­çš„æœ‰å‘æˆ–è€…æ— å‘å›¾ã€‚æœ‰å‘å›¾ç‰ˆæœ¬çš„é«˜æ–¯å›¾æ˜¯é«˜æ–¯è´å¶æ–¯ç½‘ç»œï¼Œæ— å‘ç‰ˆæœ¬çš„å«é«˜æ–¯é©¬å°”å¯å¤«ç½‘ç»œã€‚</p><p>é«˜æ–¯ç½‘ç»œçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯é«˜æ–¯åˆ†å¸ƒï¼š$\mathcal{N}(\mu_i,\Sigma_i)$ï¼Œäºæ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„è”åˆåˆ†å¸ƒå°±æ˜¯ä¸€ä¸ªé«˜æ–¯åˆ†å¸ƒï¼Œå‡å€¼ä¸º $\mu$ï¼Œæ–¹å·®ä¸º $\Sigma$ã€‚</p><p>å¯¹äºè¾¹ç¼˜æ¦‚ç‡ï¼Œæˆ‘ä»¬æœ‰ä¸‹é¢ä¸‰ä¸ªç»“è®ºï¼š</p><ol><li><p>å¯¹äºæ–¹å·®çŸ©é˜µï¼Œå¯ä»¥å¾—åˆ°ç‹¬ç«‹æ€§æ¡ä»¶ï¼š$x_i\perp x_j\Leftrightarrow\sigma_{ij}&#x3D;0$ï¼Œè¿™ä¸ªå«åšå…¨å±€ç‹¬ç«‹æ€§ã€‚</p></li><li><p>æˆ‘ä»¬çœ‹æ–¹å·®çŸ©é˜µçš„é€†ï¼ˆç²¾åº¦çŸ©é˜µæˆ–ä¿¡æ¯çŸ©é˜µï¼‰ï¼š$\Lambda&#x3D;\Sigma^{-1}&#x3D;(\lambda_{ij})_{pp}$ï¼Œæœ‰å®šç†ï¼š</p><blockquote><p>  $x_i\perp x_j|(X-{x_i,x_j})\Leftrightarrow\lambda_{ij}&#x3D;0$</p></blockquote><p>å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ç²¾åº¦çŸ©é˜µæ¥è¡¨ç¤ºæ¡ä»¶ç‹¬ç«‹æ€§ã€‚</p></li><li><p>å¯¹äºä»»æ„ä¸€ä¸ªæ— å‘å›¾ä¸­çš„èŠ‚ç‚¹ $x_i$ï¼Œ$x_i|(X-x_i)\sim \mathcal{N}(\sum\limits_{j\ne i}\frac{\lambda_{ij}}{\lambda_{ii}}x_j,\lambda_{ii}^{-1})$</p><p>ä¹Ÿå°±æ˜¯å…¶ä»–æ‰€æœ‰åˆ†é‡çš„çº¿æ€§ç»„åˆï¼Œå³æ‰€æœ‰ä¸å®ƒæœ‰é“¾æ¥çš„åˆ†é‡çš„çº¿æ€§ç»„åˆã€‚</p></li></ol><h2 id="é«˜æ–¯è´å¶æ–¯ç½‘ç»œ-GBN"><a href="#é«˜æ–¯è´å¶æ–¯ç½‘ç»œ-GBN" class="headerlink" title="é«˜æ–¯è´å¶æ–¯ç½‘ç»œ GBN"></a>é«˜æ–¯è´å¶æ–¯ç½‘ç»œ GBN</h2><p>é«˜æ–¯è´å¶æ–¯ç½‘ç»œå¯ä»¥çœ‹æˆæ˜¯ LDS çš„ä¸€ä¸ªæ¨å¹¿ï¼ŒLDS çš„å‡è®¾æ˜¯ç›¸é‚»æ—¶åˆ»çš„å˜é‡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå› æ­¤æ˜¯ä¸€ä¸ªå±€åŸŸæ¨¡å‹ï¼Œè€Œé«˜æ–¯è´å¶æ–¯ç½‘ç»œï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹ä¸ä¸€å®šåªæœ‰ä¸€ä¸ªï¼Œå› æ­¤å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå…¨å±€çš„æ¨¡å‹ã€‚æ ¹æ®æœ‰å‘å›¾çš„å› å­åˆ†è§£ï¼š<br>$$<br>p(x)&#x3D;\prod\limits_{i&#x3D;1}^pp(x_i|x_{Parents(i)})<br>$$<br>å¯¹é‡Œé¢æ¯ä¸€é¡¹ï¼Œå‡è®¾æ¯ä¸€ä¸ªç‰¹å¾æ˜¯ä¸€ç»´çš„ï¼Œå¯ä»¥å†™æˆçº¿æ€§ç»„åˆï¼š<br>$$<br>p(x_i|x_{Parents(i)})&#x3D;\mathcal{N}(x_i|\mu_i+W_i^Tx_{Parents(i)},\sigma^2_i)<br>$$<br>å°†éšæœºå˜é‡å†™æˆï¼š<br>$$<br>x_i&#x3D;\mu_i+\sum\limits_{j\in x_{Parents(i)}}w_{ij}(x_j-\mu_j)+\sigma_i\varepsilon_i,\varepsilon_i\sim \mathcal{N}(0,1)<br>$$<br>å†™æˆçŸ©é˜µå½¢å¼ï¼Œå¹¶ä¸”å¯¹ $w$ è¿›è¡Œæ‰©å±•ï¼š<br>$$<br>x-\mu&#x3D;W(x-\mu)+S\varepsilon<br>$$<br>å…¶ä¸­ï¼Œ$S&#x3D;diag(\sigma_i)$ã€‚æ‰€ä»¥æœ‰ï¼š$x-\mu&#x3D;(\mathbb{I}-W)^{-1}S\varepsilon$</p><p>ç”±äºï¼š<br>$$<br>Cov(x)&#x3D;Cov(x-\mu)<br>$$<br>å¯ä»¥å¾—åˆ°åæ–¹å·®çŸ©é˜µã€‚</p><h2 id="é«˜æ–¯é©¬å°”å¯å¤«ç½‘ç»œ-GMN"><a href="#é«˜æ–¯é©¬å°”å¯å¤«ç½‘ç»œ-GMN" class="headerlink" title="é«˜æ–¯é©¬å°”å¯å¤«ç½‘ç»œ GMN"></a>é«˜æ–¯é©¬å°”å¯å¤«ç½‘ç»œ GMN</h2><p>å¯¹äºæ— å‘å›¾ç‰ˆæœ¬çš„é«˜æ–¯ç½‘ç»œï¼Œå¯ä»¥å†™æˆï¼š<br>$$<br>p(x)&#x3D;\frac{1}{Z}\prod\limits_{i&#x3D;1}^p\phi_i(x_i)\prod\limits_{i,j\in X}\phi_{i,j}(x_i,x_j)<br>$$<br>ä¸ºäº†å°†é«˜æ–¯åˆ†å¸ƒå’Œè¿™ä¸ªå¼å­ç»“åˆï¼Œæˆ‘ä»¬å†™å‡ºé«˜æ–¯åˆ†å¸ƒå’Œå˜é‡ç›¸å…³çš„éƒ¨åˆ†ï¼š<br>$$<br>\begin{align}p(x)&amp;\propto \exp(-\frac{1}{2}(x-\mu)^T\Sigma^{-1}(x-\mu))\nonumber\<br>&amp;&#x3D;\exp(-\frac{1}{2}(x^T\Lambda x-2\mu^T\Lambda x+\mu^T\Lambda\mu))\nonumber\<br>&amp;&#x3D;\exp(-\frac{1}{2}x^T\Lambda x+(\Lambda\mu)^Tx)<br>\end{align}<br>$$<br>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå¼å­ä¸æ— å‘å›¾åˆ†è§£ä¸­çš„ä¸¤ä¸ªéƒ¨åˆ†å¯¹åº”ï¼Œæˆ‘ä»¬è®° $h&#x3D;\Lambda\mu$ä¸º Potential Vectorã€‚å…¶ä¸­å’Œ $x_i$ ç›¸å…³çš„ä¸ºï¼š$x_i:-\frac{1}{2}\lambda_{ii}x_i^2+h_ix_i$ï¼Œä¸ $x_i,x_j$ ç›¸å…³çš„æ˜¯ï¼š$x_i,x_j:-\lambda_{ij}x_ix_j$ï¼Œè¿™é‡Œåˆ©ç”¨äº†ç²¾åº¦çŸ©é˜µä¸ºå¯¹ç§°çŸ©é˜µçš„æ€§è´¨ã€‚æˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œ$x_i,x_j$ æ„æˆçš„ä¸€ä¸ªåŠ¿å‡½æ•°ï¼Œåªå’Œ $\lambda_{ij}$ æœ‰å…³ï¼Œäºæ˜¯ $x_i\perp x_j|(X-{x_i,x_j})\Leftrightarrow\lambda_{ij}&#x3D;0 $ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æ¡ä»¶éšæœºåœº</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/15.CRF/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/15.CRF/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¡ä»¶éšæœºåœº"><a href="#æ¡ä»¶éšæœºåœº" class="headerlink" title="æ¡ä»¶éšæœºåœº"></a>æ¡ä»¶éšæœºåœº</h1><p>æˆ‘ä»¬çŸ¥é“ï¼Œåˆ†ç±»é—®é¢˜å¯ä»¥åˆ†ä¸ºç¡¬åˆ†ç±»å’Œè½¯åˆ†ç±»ä¸¤ç§ï¼Œå…¶ä¸­ç¡¬åˆ†ç±»æœ‰ SVMï¼ŒPLAï¼ŒLDA ç­‰ã€‚è½¯åˆ†ç±»é—®é¢˜å¤§ä½“ä¸Šå¯ä»¥åˆ†ä¸ºæ¦‚ç‡ç”Ÿæˆå’Œæ¦‚ç‡åˆ¤åˆ«æ¨¡å‹ï¼Œå…¶ä¸­è¾ƒä¸ºæœ‰åçš„æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹æœ‰ Logistic å›å½’ï¼Œç”Ÿæˆæ¨¡å‹æœ‰æœ´ç´ è´å¶æ–¯æ¨¡å‹ã€‚Logistic å›å½’æ¨¡å‹çš„æŸå¤±å‡½æ•°ä¸ºäº¤å‰ç†µï¼Œè¿™ç±»æ¨¡å‹ä¹Ÿå«å¯¹æ•°çº¿æ€§æ¨¡å‹ï¼Œä¸€èˆ¬åœ°ï¼Œåˆå«åšæœ€å¤§ç†µæ¨¡å‹ï¼Œè¿™ç±»æ¨¡å‹å’ŒæŒ‡æ•°æ—åˆ†å¸ƒçš„æ¦‚ç‡å‡è®¾æ˜¯ä¸€è‡´çš„ã€‚å¯¹æœ´ç´ è´å¶æ–¯å‡è®¾ï¼Œå¦‚æœå°†å…¶ä¸­çš„å•å…ƒç´ çš„æ¡ä»¶ç‹¬ç«‹æ€§åšæ¨å¹¿åˆ°ä¸€ç³»åˆ—çš„éšå˜é‡ï¼Œé‚£ä¹ˆï¼Œç”±æ­¤å¾—åˆ°çš„æ¨¡å‹åˆè¢«ç§°ä¸ºåŠ¨æ€æ¨¡å‹ï¼Œæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„å¦‚ HMMï¼Œä»æ¦‚ç‡æ„ä¹‰ä¸Šï¼ŒHMMä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ GMM åœ¨æ—¶åºä¸Šé¢çš„æ¨å¹¿ã€‚</p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œä¸€èˆ¬åœ°ï¼Œå¦‚æœå°†æœ€å¤§ç†µæ¨¡å‹å’Œ HMMç›¸ç»“åˆï¼Œé‚£ä¹ˆè¿™ç§æ¨¡å‹å«åšæœ€å¤§ç†µ Markov æ¨¡å‹ï¼ˆMEMMï¼‰ï¼š</p><pre><code class=" mermaid">graph LR;x4((x4))--&gt;y4x2((x2))--&gt;y2x1((x1))--&gt;y1x3((x3))--&gt;y3y1--&gt;y2;y2--&gt;y3;y3--&gt;y4;</code></pre><p>è¿™ä¸ªå›¾å°±æ˜¯å°† HMM çš„å›¾ä¸­è§‚æµ‹å˜é‡å’Œéšå˜é‡çš„è¾¹æ–¹å‘åå‘ï¼Œåº”ç”¨åœ¨åˆ†ç±»ä¸­ï¼Œéšå˜é‡å°±æ˜¯è¾“å‡ºçš„åˆ†ç±»ï¼Œè¿™æ · HMM ä¸­çš„ä¸¤ä¸ªå‡è®¾å°±ä¸æˆç«‹äº†ï¼Œç‰¹åˆ«æ˜¯è§‚æµ‹ä¹‹é—´ä¸æ˜¯å®Œå…¨ç‹¬ç«‹çš„äº†ã€‚</p><p>HMM æ˜¯ä¸€ç§ç”Ÿæˆå¼æ¨¡å‹ï¼Œå…¶å»ºæ¨¡å¯¹è±¡ä¸º $p(X,Y|\lambda)$ï¼Œæ ¹æ® HMM çš„æ¦‚ç‡å›¾ï¼Œ$p(X,Y|\lambda)&#x3D;\prod\limits_{t&#x3D;1}^Tp(x_t,y_t|\lambda,y_{t-1})$ã€‚æˆ‘ä»¬çœ‹åˆ°ï¼Œè§‚æµ‹ç‹¬ç«‹æ€§å‡è®¾æ˜¯ä¸€ä¸ªå¾ˆå¼ºçš„å‡è®¾ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªæ–‡æœ¬æ ·æœ¬ï¼Œé‚£ä¹ˆè§‚æµ‹ç‹¬ç«‹æ€§å‡è®¾å°±å‡å®šäº†æ‰€æœ‰çš„å•è¯ä¹‹é—´æ²¡æœ‰å…³è”ã€‚</p><p>åœ¨ MEMM ä¸­ï¼Œå»ºæ¨¡å¯¹è±¡æ˜¯ $p(Y|X,\lambda)$ï¼Œæˆ‘ä»¬çœ‹æ¦‚ç‡å›¾ï¼Œç»™å®š $y_t$ï¼Œ$x_t,x_{t-1}$ æ˜¯ä¸ç‹¬ç«‹çš„ï¼Œè¿™æ ·ï¼Œè§‚æµ‹ç‹¬ç«‹å‡è®¾å°±ä¸æˆç«‹äº†ã€‚æ ¹æ®æ¦‚ç‡å›¾ï¼Œ$p(Y|X,\lambda)&#x3D;\prod\limits_{t&#x3D;1}^Tp(y_t|y_{t-1},X,\lambda)$ã€‚</p><p>MEMM çš„ç¼ºé™·æ˜¯å…¶å¿…é¡»æ»¡è¶³å±€åŸŸçš„æ¦‚ç‡å½’ä¸€åŒ–ï¼ˆLabel Bias Problemï¼‰ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨ä¸Šé¢çš„æ¦‚ç‡å›¾ä¸­ï¼Œ$p(y_t|y_{t-1},x_t)$ï¼Œ è¿™ä¸ªæ¦‚ç‡ï¼Œå¦‚æœ $p(y_t|y_{t-1})$ éå¸¸æ¥è¿‘1ï¼Œé‚£ä¹ˆäº‹å®ä¸Šï¼Œè§‚æµ‹å˜é‡æ˜¯ä»€ä¹ˆå°±ä¸ä¼šå½±å“è¿™ä¸ªæ¦‚ç‡äº†ã€‚</p><p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°† $y$ ä¹‹é—´çš„ç®­å¤´è½¬ä¸ºç›´çº¿è½¬ä¸ºæ— å‘å›¾ï¼ˆçº¿æ€§é“¾æ¡ä»¶éšæœºåœºï¼‰ï¼Œè¿™æ ·å°±åªè¦æ»¡è¶³å…¨å±€å½’ä¸€åŒ–äº†ï¼ˆç ´åé½æ¬¡ Markov å‡è®¾ï¼‰ã€‚</p><pre><code class=" mermaid">graph LR;x4((x4))--&gt;y4x2((x2))--&gt;y2x1((x1))--&gt;y1x3((x3))--&gt;y3y1---y2;y2---y3;y3---y4;</code></pre><h2 id="CRF-çš„-PDF"><a href="#CRF-çš„-PDF" class="headerlink" title="CRF çš„ PDF"></a>CRF çš„ PDF</h2><p>çº¿æ€§é“¾çš„ CRF çš„ PDF ä¸º $p(Y|X)&#x3D;\frac{1}{Z}\exp\sum\limits_{t&#x3D;1}^T(F_t(y_{t-1},y_t,x_{1:T}))$ï¼Œä¸¤ä¸¤å½¢æˆäº†æœ€å¤§å›¢ï¼Œå…¶ä¸­ $y_0$ æ˜¯éšæ„å¤–åŠ çš„ä¸€ä¸ªå…ƒç´ ã€‚ä½œä¸ºç¬¬ä¸€ä¸ªç®€åŒ–ï¼Œæˆ‘ä»¬å‡è®¾æ¯ä¸ªå›¢çš„åŠ¿å‡½æ•°ç›¸åŒ $F_t&#x3D;F$ã€‚</p><p>å¯¹äºè¿™ä¸ª $F$ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥ï¼Œå¯ä»¥å°†å…¶å†™ä¸º $Â F(y_{t-1},y_t,X)&#x3D;\Delta_{y_{t-1},X}+\Delta_{y_{t},X}+\Delta_{y_t,y_{t-1},X}$è¿™ä¸‰ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«è¡¨ç¤ºçŠ¶æ€å‡½æ•°å·²ç»è½¬ç§»å‡½æ•°ï¼Œç”±äºæ•´ä½“çš„æ±‚å’Œï¼Œå¯ä»¥ç®€åŒ–ä¸º $ F(y_{t-1},y_t,X)&#x3D;\Delta_{y_{t},X}+\Delta_{y_t,y_{t-1},X}$ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªè¡¨è¾¾å¼å°†å…¶å‚æ•°åŒ–ï¼š<br>$$<br>\begin{align}<br>\Delta_{y_t,y_{t-1},X}&amp;&#x3D;\sum\limits_{k&#x3D;1}^K\lambda_kf_k(y_{t-1},y_t,X)\<br>\Delta_{y_{t},X}&amp;&#x3D;\sum\limits_{l&#x3D;1}^L\eta_lg_l(y_t,X)<br>\end{align}<br>$$<br>å…¶ä¸­ $g,f $ å«åšç‰¹å¾å‡½æ•°ï¼Œå¯¹äº $y$ æœ‰ $S$ ç§å…ƒç´ ï¼Œé‚£ä¹ˆ $K\le S^2,L\le S$ã€‚</p><p>ä»£å…¥æ¦‚ç‡å¯†åº¦å‡½æ•°ä¸­ï¼š<br>$$<br>p(Y|X)&#x3D;\frac{1}{Z}\exp\sum\limits_{t&#x3D;1}^T[\sum\limits_{k&#x3D;1}^K\lambda_kf_k(y_{t-1},y_t,X)+\sum\limits_{l&#x3D;1}^L\eta_lg_l(y_t,X)]<br>$$<br>å¯¹äºå•ä¸ªæ ·æœ¬ï¼Œå°†å…¶å†™æˆå‘é‡çš„å½¢å¼ã€‚å®šä¹‰ $y&#x3D;(y_1,y_2,\cdots,y_T)^T,x&#x3D;(x_1,x_2,\cdots,x_T)^T,\lambda&#x3D;(\lambda_1,\lambda_2,\cdots,\lambda_K)^T,\eta&#x3D;(\eta_1,\eta_2,\cdots,\eta_L)^T$ã€‚å¹¶ä¸”æœ‰ $f&#x3D;(f_1,f_2,\cdots,f_K)^T,g&#x3D;(g_1,g_2,\cdots,g_L)^T$ã€‚äºæ˜¯ï¼š<br>$$<br>p(Y&#x3D;y|X&#x3D;x)&#x3D;\frac{1}{Z}\exp\sum\limits_{t&#x3D;1}^T[\lambda^Tf(y_{t-1},y_t,x)+\eta^Tg(y_t,x)]<br>$$<br>ä¸å¦¨è®°ï¼š$\theta&#x3D;(\lambda,\eta)^T,H&#x3D;(\sum\limits_{t&#x3D;1}^Tf,\sum\limits_{t&#x3D;1}^Tg)^T$ï¼š<br>$$<br>p(Y&#x3D;y|X&#x3D;x)&#x3D;\frac{1}{Z(x,\theta)}\exp[\theta^TH(y_t,y_{t-1},x)]<br>$$<br>ä¸Šé¢è¿™ä¸ªå¼å­æ˜¯ä¸€ä¸ªæŒ‡æ•°æ—åˆ†å¸ƒï¼Œäºæ˜¯ $Z$ æ˜¯é…åˆ†å‡½æ•°ã€‚</p><p>CRF éœ€è¦è§£å†³ä¸‹é¢å‡ ä¸ªé—®é¢˜ï¼š</p><ol><li><p>Learningï¼šå‚æ•°ä¼°è®¡é—®é¢˜ï¼Œå¯¹ $N$ ä¸ª $T$ ç»´æ ·æœ¬ï¼Œ$\hat{\theta}&#x3D;\mathop{argmax}\limits_{\theta}\prod\limits_{i&#x3D;1}^Np(y^i|x^i)$ï¼Œè¿™é‡Œç”¨ä¸Šæ ‡è¡¨ç¤ºæ ·æœ¬çš„ç¼–å·ã€‚</p></li><li><p>Inferenceï¼š</p><ol><li>è¾¹ç¼˜æ¦‚ç‡ï¼š<br>$$<br>p(y_t|x)<br>$$</li></ol></li><li><p>æ¡ä»¶æ¦‚ç‡ï¼šä¸€èˆ¬åœ¨ç”Ÿæˆæ¨¡å‹ä¸­è¾ƒä¸ºå…³æ³¨ï¼ŒCRF ä¸­ä¸å…³æ³¨</p></li><li><p>MAP æ¨æ–­ï¼š<br>$$<br>\hat{y}&#x3D;\mathop{argmax}p(y|x)<br>$$</p></li></ol><h2 id="è¾¹ç¼˜æ¦‚ç‡"><a href="#è¾¹ç¼˜æ¦‚ç‡" class="headerlink" title="è¾¹ç¼˜æ¦‚ç‡"></a>è¾¹ç¼˜æ¦‚ç‡</h2><p>è¾¹ç¼˜æ¦‚ç‡è¿™ä¸ªé—®é¢˜æè¿°ä¸ºï¼Œæ ¹æ®å­¦ä¹ ä»»åŠ¡å¾—åˆ°çš„å‚æ•°ï¼Œç»™å®šäº† $p(Y&#x3D;y|X&#x3D;x)$ï¼Œæ±‚è§£ $p(y_t&#x3D;i|x)$ã€‚æ ¹æ®æ— å‘å›¾å¯ä»¥ç»™å‡ºï¼š<br>$$<br>p(y_t&#x3D;i|x)&#x3D;\sum\limits_{y_{1:t-1},y_{t+1:T}}p(y|x)&#x3D;\sum\limits_{y_{1:t-1}}\sum\limits_{y_{t+1:T}}\frac{1}{Z}\prod\limits_{tâ€™&#x3D;1}^T\phi_{tâ€™}(y_{tâ€™-1},y_{tâ€™},x)<br>$$<br>æˆ‘ä»¬çœ‹åˆ°ä¸Šé¢çš„å¼å­ï¼Œç›´æ¥è®¡ç®—çš„å¤æ‚åº¦å¾ˆé«˜ï¼Œè¿™æ˜¯ç”±äºæ±‚å’Œçš„å¤æ‚åº¦åœ¨ $O(S^T)$ï¼Œæ±‚ç§¯çš„å¤æ‚åº¦åœ¨ $O(T)$ï¼Œæ‰€ä»¥æ•´ä½“å¤æ‚åº¦ä¸º $O(TS^T)$ã€‚æˆ‘ä»¬éœ€è¦è°ƒæ•´æ±‚å’Œç¬¦å·çš„é¡ºåºï¼Œä»è€Œé™ä½å¤æ‚åº¦ã€‚</p><p>é¦–å…ˆï¼Œå°†ä¸¤ä¸ªæ±‚å’Œåˆ†ä¸ºï¼š<br>$$<br>\begin{align}&amp;p(y_t&#x3D;i|x)&#x3D;\frac{1}{Z}\Delta_l\Delta_r\<br>&amp;\Delta_l&#x3D;\sum\limits_{y_{1:t-1}}\phi_{1}(y_0,y_1,x)\phi_2(y_1,y_2,x)\cdots\phi_{t-1}(y_{t-2},y_{t-1},x)\phi_t(y_{t-1},y_t&#x3D;i,x)\<br>&amp;\Delta_r&#x3D;\sum\limits_{y_{t+1:T}}\phi_{t+1}(y_t&#x3D;i,y_{t+1},x)\phi_{t+2}(y_{t+1},y_{t+2},x)\cdots\phi_T(y_{T-1},y_T,x)<br>\end{align}<br>$$<br>å¯¹äº $\Delta_l$ï¼Œä»å·¦å‘å³ï¼Œä¸€æ­¥ä¸€æ­¥å°† $y_t$ æ¶ˆæ‰ï¼š<br>$$<br>\Delta_l&#x3D;\sum\limits_{y_{t-1}}\phi_t(y_{t-1},y_t&#x3D;i,x)\sum\limits_{y_{t-2}}\phi_{t-1}(y_{t-2},y_{t-1},x)\cdots\sum\limits_{y_0}\phi_1(y_0,y_1,x)<br>$$<br>å¼•å…¥ï¼š<br>$$<br>\alpha_t(i)&#x3D;\Delta_l<br>$$<br>äºæ˜¯ï¼š<br>$$<br>\alpha_{t}(i)&#x3D;\sum\limits_{j\in S}\phi_t(y_{t-1}&#x3D;j,y_t&#x3D;i,x)\alpha_{t-1}(j)<br>$$<br>è¿™æ ·æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªé€’æ¨å¼ã€‚</p><p>ç±»ä¼¼åœ°ï¼Œ$\Delta_r&#x3D;\beta_t(i)&#x3D;\sum\limits_{j\in S}\phi_{t+1}(y_t&#x3D;i,y_{t+1}&#x3D;j,x)\beta_{t+1}(j)$ã€‚è¿™ä¸ªæ–¹æ³•å’Œ HMM ä¸­çš„å‰å‘åå‘ç®—æ³•ç±»ä¼¼ï¼Œå°±æ˜¯æ¦‚ç‡å›¾æ¨¡å‹ä¸­ç²¾ç¡®æ¨æ–­çš„å˜é‡æ¶ˆé™¤ç®—æ³•ï¼ˆä¿¡å¿µä¼ æ’­ï¼‰ã€‚</p><h2 id="å‚æ•°ä¼°è®¡"><a href="#å‚æ•°ä¼°è®¡" class="headerlink" title="å‚æ•°ä¼°è®¡"></a>å‚æ•°ä¼°è®¡</h2><p>åœ¨è¿›è¡Œå„ç§ç±»å‹çš„æ¨æ–­ä¹‹å‰ï¼Œè¿˜éœ€è¦å¯¹å‚æ•°è¿›è¡Œå­¦ä¹ ï¼š<br>$$<br>\begin{align}\hat{\theta}&amp;&#x3D;\mathop{argmax}<em>{\theta}\prod\limits</em>{i&#x3D;1}^Np(y^i|x^i)\<br>&amp;&#x3D;\mathop{argmax}<em>\theta\sum\limits</em>{i&#x3D;1}^N\log p(y^i|x^i)\<br>&amp;&#x3D;\mathop{argmax}<em>\theta\sum\limits</em>{i&#x3D;1}^N[-\log Z(x^i,\lambda,\eta)+\sum\limits_{t&#x3D;1}^T[\lambda^Tf(y_{t-1},y_t,x)+\eta^Tg(y_t,x)]]<br>\end{align}<br>$$<br>ä¸Šé¢çš„å¼å­ä¸­ï¼Œç¬¬ä¸€é¡¹æ˜¯å¯¹æ•°é…åˆ†å‡½æ•°ï¼Œæ ¹æ®æŒ‡æ•°æ—åˆ†å¸ƒçš„ç»“è®ºï¼š<br>$$<br>\nabla_\lambda(\log Z(x^i,\lambda,\eta))&#x3D;\mathbb{E}<em>{p(y^i|x^i)}[\sum\limits</em>{t&#x3D;1}^Tf(y_{t-1},y_t,x^i)]<br>$$<br>å…¶ä¸­ï¼Œå’Œ $\eta$ ç›¸å…³çš„é¡¹ç›¸å½“äºä¸€ä¸ªå¸¸æ•°ã€‚æ±‚è§£è¿™ä¸ªæœŸæœ›å€¼ï¼š<br>$$<br>\mathbb{E}<em>{p(y^i|x^i)}[\sum\limits</em>{t&#x3D;1}^Tf(y_{t-1},y_t,x^i)]&#x3D;\sum\limits_{y}p(y|x^i)\sum\limits_{t&#x3D;1}^Tf(y_{t-1},y_t,x^i)<br>$$<br>ç¬¬ä¸€ä¸ªæ±‚å’Œå·çš„å¤æ‚åº¦ä¸º $O(S^T)$ï¼Œé‡æ–°æ’åˆ—æ±‚å’Œç¬¦å·ï¼š<br>$$<br>\begin{align}\mathbb{E}<em>{p(y^i|x^i)}[\sum\limits</em>{t&#x3D;1}^Tf(y_{t-1},y_t,x^i)]&amp;&#x3D;\sum\limits_{t&#x3D;1}^T\sum\limits_{y_{1:t-2}}\sum\limits_{y_{t-1}}\sum\limits_{y_t}\sum\limits_{y_{t+1:T}}p(y|x^i)f(y_{t-1},y_t,x^i)\nonumber\<br>&amp;&#x3D;\sum\limits_{t&#x3D;1}^T\sum\limits_{y_{t-1}}\sum\limits_{y_t}p(y_{t-1},y_t|x^i)f(y_{t-1},y_t,x^i)<br>\end{align}<br>$$<br>å’Œä¸Šé¢çš„è¾¹ç¼˜æ¦‚ç‡ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‰å‘åå‘ç®—æ³•å¾—åˆ°ä¸Šé¢å¼å­ä¸­çš„è¾¹ç¼˜æ¦‚ç‡ã€‚</p><p>äºæ˜¯ï¼š<br>$$<br>\nabla_\lambda L&#x3D;\sum\limits_{i&#x3D;1}^N\sum\limits_{t&#x3D;1}^T[f(y_{t-1},y_t,x^i)-\sum\limits_{y_{t-1}}\sum\limits_{y_t}p(y_{t-1},y_t|x^i)f(y_{t-1},y_t,x^i)]<br>$$<br>åˆ©ç”¨æ¢¯åº¦ä¸Šå‡ç®—æ³•å¯ä»¥æ±‚è§£ã€‚å¯¹äº $\eta$ ä¹Ÿæ˜¯ç±»ä¼¼çš„è¿‡ç¨‹ã€‚</p><h2 id="è¯‘ç "><a href="#è¯‘ç " class="headerlink" title="è¯‘ç "></a>è¯‘ç </h2><p>è¯‘ç é—®é¢˜å’Œ HMM ä¸­çš„ Viterbi ç®—æ³•ç±»ä¼¼ï¼ŒåŒæ ·é‡‡æ ·åŠ¨æ€è§„åˆ’çš„æ€æƒ³ä¸€å±‚ä¸€å±‚æ±‚è§£æœ€å¤§å€¼ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”ç²’å­æ»¤æ³¢</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/14.particleFilter/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/14.particleFilter/</url>
    
    <content type="html"><![CDATA[<h1 id="ç²’å­æ»¤æ³¢"><a href="#ç²’å­æ»¤æ³¢" class="headerlink" title="ç²’å­æ»¤æ³¢"></a>ç²’å­æ»¤æ³¢</h1><p>Kalman æ»¤æ³¢æ ¹æ®çº¿æ€§é«˜æ–¯æ¨¡å‹å¯ä»¥æ±‚å¾—è§£æè§£ï¼Œä½†æ˜¯åœ¨éçº¿æ€§ï¼Œéé«˜æ–¯çš„æƒ…å†µï¼Œæ˜¯æ— æ³•å¾—åˆ°è§£æè§£çš„ï¼Œå¯¹è¿™ç±»ä¸€èˆ¬çš„æƒ…å†µï¼Œæˆ‘ä»¬å«åšç²’å­æ»¤æ³¢ï¼Œæˆ‘ä»¬éœ€è¦æ±‚å¾—æ¦‚ç‡åˆ†å¸ƒï¼Œéœ€è¦é‡‡ç”¨é‡‡æ ·çš„æ–¹å¼ã€‚</p><p>æˆ‘ä»¬å¸Œæœ›åº”ç”¨ Monte Carlo æ–¹æ³•æ¥è¿›è¡Œé‡‡æ ·ï¼Œå¯¹äºä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›è®¡ç®—ä¾è¿™ä¸ªåˆ†å¸ƒçš„æŸä¸ªå‡½æ•° $f(z)$ çš„æœŸæœ›ï¼Œå¯ä»¥åˆ©ç”¨æŸç§æŠ½æ ·æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ¦‚ç‡åˆ†å¸ƒä¸­æŠ½å– $N$ ä¸ªæ ·æœ¬ï¼Œåˆ™ $\mathbb{E}[f(z)]\simeq\frac{1}{N}\sum\limits_{i&#x3D;1}^Nf(z_i)$ã€‚ä½†æ˜¯å¦‚æœè¿™ä¸ªæ¦‚ç‡ååˆ†å¤æ‚ï¼Œé‚£ä¹ˆé‡‡æ ·æ¯”è¾ƒå›°éš¾ã€‚å¯¹äºå¤æ‚çš„æ¦‚ç‡åˆ†å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªç®€å•çš„æ¦‚ç‡åˆ†å¸ƒ $q(z)$ ä½œä¸ºæ¡¥æ¢ï¼ˆé‡è¦å€¼é‡‡æ ·ï¼‰:<br>$$<br>\mathbb{E}[f(z)]&#x3D;\int_zf(z)p(z)dz&#x3D;\int_zf(z)\frac{p(z)}{q(z)}q(z)dz&#x3D;\sum\limits_{i&#x3D;1}^Nf(z_i)\frac{p(z_i)}{q(z_i)}<br>$$<br>äºæ˜¯ç›´æ¥é€šè¿‡å¯¹ $q(z)$ é‡‡æ ·ï¼Œç„¶åå¯¹æ¯ä¸€ä¸ªé‡‡æ ·çš„æ ·æœ¬åº”ç”¨æƒé‡å°±å¾—åˆ°äº†æœŸæœ›çš„è¿‘ä¼¼ï¼Œå½“ç„¶ä¸ºäº†æ¦‚ç‡åˆ†å¸ƒçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æƒé‡è¿›è¡Œå½’ä¸€åŒ–ã€‚</p><p>åœ¨æ»¤æ³¢é—®é¢˜ä¸­ï¼Œéœ€è¦æ±‚è§£ $p(z_t|x_{1:t})$ï¼Œå…¶æƒé‡ä¸ºï¼š<br>$$<br>w_t^i&#x3D;\frac{p(z_t^i|x_{1:t})}{q(z_t^i|x_{1:t})},i&#x3D;1,2,\cdots,N<br>$$<br>äºæ˜¯åœ¨æ¯ä¸€ä¸ªæ—¶åˆ» $t$ï¼Œéƒ½éœ€è¦é‡‡æ · $N$ ä¸ªç‚¹ï¼Œä½†æ˜¯å³ä½¿é‡‡æ ·äº†è¿™ä¹ˆå¤šç‚¹ï¼Œåˆ†å­ä¸Šé¢çš„é‚£ä¸€é¡¹ä¹Ÿååˆ†éš¾æ±‚ï¼Œäºæ˜¯å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªå…³äºæƒé‡çš„é€’æ¨å…¬å¼ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥åºåˆ—é‡è¦æ€§é‡‡æ ·ï¼ˆSISï¼‰ã€‚</p><h2 id="SIS"><a href="#SIS" class="headerlink" title="SIS"></a>SIS</h2><p>åœ¨ SIS ä¸­ï¼Œè§£å†³çš„é—®é¢˜æ˜¯ $p(z_{1:t}|x_{1:t})$ã€‚<br>$$<br>w_t^i\propto\frac{p(z_{1:t}|x_{1:t})}{q(z_{1:t}|x_{1:t})}<br>$$<br>æ ¹æ® LDS ä¸­çš„æ¨å¯¼ï¼š<br>$$<br>\begin{align}p(z_{1:t}|x_{1:t})\propto p(x_{1:t},z_{1:t})&amp;&#x3D;p(x_t|z_{1:t},x_{1:t-1})p(z_{1:t},x_{1:t-1})\nonumber\<br>&amp;&#x3D;p(x_t|z_t)p(z_t|x_{1:t-1},z_{1:t-1})p(x_{1:t-1},z_{1:t-1})\nonumber\<br>&amp;&#x3D;p(x_t|z_t)p(z_t|z_{t-1})p(x_{1:t-1},z_{1:t-1})\nonumber\<br>&amp;\propto p(x_t|z_t)p(z_t|z_{t-1})p(z_{1:t-1}|x_{1:t-1})<br>\end{align}<br>$$<br>äºæ˜¯åˆ†å­çš„é€’æ¨å¼å°±å¾—åˆ°äº†ã€‚å¯¹äºæè®®åˆ†å¸ƒçš„åˆ†æ¯ï¼Œå¯ä»¥å–ï¼š<br>$$<br>q(z_{1:t}|x_{1:t})&#x3D;q(z_t|z_{1:t-1},x_{1:t})q(z_{1:t-1}|x_{1:t-1})<br>$$<br>æ‰€ä»¥æœ‰ï¼š<br>$$<br>w_t^i\propto\frac{p(z_{1:t}|x_{1:t})}{q(z_{1:t}|x_{1:t})}\propto \frac{p(x_t|z_t)p(z_t|z_{t-1})p(z_{1:t-1}|x_{1:t-1})}{q(z_t|z_{1:t-1},x_{1:t})q(z_{1:t-1}|x_{1:t-1})}&#x3D;\frac{p(x_t|z_t)p(z_t|z_{t-1})}{q(z_t|z_{1:t-1},x_{1:t})}w_{t-1}^i<br>$$<br>æˆ‘ä»¬å¾—åˆ°çš„å¯¹æƒé‡çš„ç®—æ³•ä¸ºï¼š</p><ol><li>$t-1$ æ—¶åˆ»ï¼Œé‡‡æ ·å®Œæˆå¹¶è®¡ç®—å¾—åˆ°æƒé‡</li><li>t æ—¶åˆ»ï¼Œæ ¹æ® $q(z_t|z_{1:t-1},x_{1:t})$ è¿›è¡Œé‡‡æ ·å¾—åˆ° $z_t^i$ã€‚ç„¶åè®¡ç®—å¾—åˆ° $N$ ä¸ªæƒé‡ã€‚</li><li>æœ€åå¯¹æƒé‡å½’ä¸€åŒ–ã€‚</li></ol><p>SIS ç®—æ³•ä¼šå‡ºç°æƒå€¼é€€åŒ–çš„æƒ…å†µï¼Œåœ¨ä¸€å®šæ—¶é—´åï¼Œå¯èƒ½ä¼šå‡ºç°å¤§éƒ¨åˆ†æƒé‡éƒ½é€¼è¿‘0çš„æƒ…å†µï¼Œè¿™æ˜¯ç”±äºç©ºé—´ç»´åº¦è¶Šæ¥è¶Šé«˜ï¼Œéœ€è¦çš„æ ·æœ¬ä¹Ÿè¶Šæ¥è¶Šå¤šã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æœ‰ï¼š</p><ol><li>é‡é‡‡æ ·ï¼Œä»¥æƒé‡ä½œä¸ºæ¦‚ç‡åˆ†å¸ƒï¼Œé‡æ–°åœ¨å·²ç»é‡‡æ ·çš„æ ·æœ¬ä¸­é‡‡æ ·ï¼Œç„¶åæ‰€æœ‰æ ·æœ¬çš„æƒé‡ç›¸åŒï¼Œè¿™ä¸ªæ–¹æ³•çš„æ€è·¯æ˜¯å°†æƒé‡ä½œä¸ºæ¦‚ç‡åˆ†å¸ƒï¼Œç„¶åå¾—åˆ°ç´¯ç§¯å¯†åº¦å‡½æ•°ï¼Œåœ¨ç´¯ç§¯å¯†åº¦ä¸Šå–ç‚¹ï¼ˆé˜¶æ¢¯å‡½æ•°ï¼‰ã€‚</li><li>é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æè®®åˆ†å¸ƒï¼Œ$q(z_t|z_{1:t-1},x_{1:t})&#x3D;p(z_t|z_{t-1})$ï¼Œäºæ˜¯å°±æ¶ˆæ‰äº†ä¸€é¡¹ï¼Œå¹¶ä¸”é‡‡æ ·çš„æ¦‚ç‡å°±æ˜¯ $p(z_t|z_{t-1})$ï¼Œè¿™å°±å«åšç”Ÿæˆä¸æµ‹è¯•æ–¹æ³•ã€‚</li></ol><p>é‡‡ç”¨é‡é‡‡æ ·çš„ SIS ç®—æ³•å°±æ˜¯åŸºæœ¬çš„ç²’å­æ»¤æ³¢ç®—æ³•ã€‚å¦‚æœåƒä¸Šé¢é‚£æ ·é€‰æ‹©æè®®åˆ†å¸ƒï¼Œè¿™ä¸ªç®—æ³•å«åš SIR ç®—æ³•ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”çº¿æ€§åŠ¨æ€ç³»ç»Ÿ</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/13.LDS/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/13.LDS/</url>
    
    <content type="html"><![CDATA[<h1 id="çº¿æ€§åŠ¨æ€ç³»ç»Ÿ"><a href="#çº¿æ€§åŠ¨æ€ç³»ç»Ÿ" class="headerlink" title="çº¿æ€§åŠ¨æ€ç³»ç»Ÿ"></a>çº¿æ€§åŠ¨æ€ç³»ç»Ÿ</h1><p>HMM æ¨¡å‹é€‚ç”¨äºéšå˜é‡æ˜¯ç¦»æ•£çš„å€¼çš„æ—¶å€™ï¼Œå¯¹äºè¿ç»­éšå˜é‡çš„ HMMï¼Œå¸¸ç”¨çº¿æ€§åŠ¨æ€ç³»ç»Ÿæè¿°çº¿æ€§é«˜æ–¯æ¨¡å‹çš„æ€å˜é‡ï¼Œä½¿ç”¨ç²’å­æ»¤æ³¢æ¥è¡¨è¿°éé«˜æ–¯éçº¿æ€§çš„æ€å˜é‡ã€‚</p><p>LDS åˆå«å¡å°”æ›¼æ»¤æ³¢ï¼Œå…¶ä¸­ï¼Œçº¿æ€§ä½“ç°åœ¨ä¸Šä¸€æ—¶åˆ»å’Œè¿™ä¸€æ—¶åˆ»çš„éšå˜é‡ä»¥åŠéšå˜é‡å’Œè§‚æµ‹ä¹‹é—´ï¼š<br>$$<br>\begin{align}<br>z_t&amp;&#x3D;A\cdot z_{t-1}+B+\varepsilon\<br>x_t&amp;&#x3D;C\cdot z_t+D+\delta\<br>\varepsilon&amp;\sim\mathcal{N}(0,Q)\<br>\delta&amp;\sim\mathcal{N}(0,R)<br>\end{align}<br>$$<br>ç±»æ¯” HMM ä¸­çš„å‡ ä¸ªå‚æ•°ï¼š<br>$$<br>\begin{align}<br>p(z_t|z_{t-1})&amp;\sim\mathcal{N}(A\cdot z_{t-1}+B,Q)\<br>p(x_t|z_t)&amp;\sim\mathcal{N}(C\cdot z_t+D,R)\<br>z_1&amp;\sim\mathcal{N}(\mu_1,\Sigma_1)<br>\end{align}<br>$$<br>åœ¨å«æ—¶çš„æ¦‚ç‡å›¾ä¸­ï¼Œé™¤äº†å¯¹å‚æ•°ä¼°è®¡çš„å­¦ä¹ é—®é¢˜å¤–ï¼Œåœ¨æ¨æ–­ä»»åŠ¡ä¸­ï¼ŒåŒ…æ‹¬è¯‘ç ï¼Œè¯æ®æ¦‚ç‡ï¼Œæ»¤æ³¢ï¼Œå¹³æ»‘ï¼Œé¢„æµ‹é—®é¢˜ï¼ŒLDS æ›´å…³å¿ƒæ»¤æ³¢è¿™ä¸ªé—®é¢˜ï¼š$p(z_t|x_1,x_2,\cdots,x_t)$ã€‚ç±»ä¼¼ HMM ä¸­çš„å‰å‘ç®—æ³•ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªé€’æ¨å…³ç³»ã€‚<br>$$<br>p(z_t|x_{1:t})&#x3D;p(x_{1:t},z_t)&#x2F;p(x_{1:t})&#x3D;Cp(x_{1:t},z_t)<br>$$<br>å¯¹äº $p(x_{1:t},z_t)$ï¼š<br>$$<br>\begin{align}p(x_{1:t},z_t)&amp;&#x3D;p(x_t|x_{1:t-1},z_t)p(x_{1:t-1},z_t)&#x3D;p(x_t|z_t)p(x_{1:t-1},z_t)\nonumber\<br>&amp;&#x3D;p(x_t|z_t)p(z_t|x_{1:t-1})p(x_{1:t-1})&#x3D;Cp(x_t|z_t)p(z_t|x_{1:t-1})\<br>\end{align}<br>$$<br>æˆ‘ä»¬çœ‹åˆ°ï¼Œå³è¾¹é™¤äº†åªå’Œè§‚æµ‹ç›¸å…³çš„å¸¸æ•°é¡¹ï¼Œè¿˜æœ‰ä¸€é¡¹æ˜¯é¢„æµ‹ä»»åŠ¡éœ€è¦çš„æ¦‚ç‡ã€‚å¯¹è¿™ä¸ªå€¼ï¼š<br>$$<br>\begin{align}<br>p(z_t|x_{1:t-1})&amp;&#x3D;\int_{z_{t-1}}p(z_t,z_{t-1}|x_{1:t-1})dz_{t-1}\nonumber\<br>&amp;&#x3D;\int_{z_{t-1}}p(z_t|z_{t-1},x_{1:t-1})p(z_{t-1}|x_{1:t-1})dz_{t-1}\nonumber\<br>&amp;&#x3D;\int_{z_{t-1}}p(z_t|z_{t-1})p(z_{t-1}|x_{1:t-1})dz_{t-1}<br>\end{align}<br>$$<br>æˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™åˆåŒ–æˆäº†ä¸€ä¸ªæ»¤æ³¢é—®é¢˜ã€‚äºæ˜¯æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªé€’æ¨å…¬å¼ï¼š</p><ol><li>$t&#x3D;1$ï¼Œ$p(z_1|x_1)$ï¼Œç§°ä¸º update è¿‡ç¨‹ï¼Œç„¶åè®¡ç®— $p(z_2|x_1)$ï¼Œé€šè¿‡ä¸Šé¢çš„ç§¯åˆ†è¿›è¡Œï¼Œç§°ä¸º prediction è¿‡ç¨‹ã€‚</li><li>$t&#x3D;2$ï¼Œ$p(z_2|x_2,x_1)$ å’Œ $p(z_3|x_1,x_2)$</li></ol><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ª Online çš„è¿‡ç¨‹ï¼Œå¯¹äºæˆ‘ä»¬çš„çº¿æ€§é«˜æ–¯å‡è®¾ï¼Œè¿™ä¸ªè®¡ç®—è¿‡ç¨‹éƒ½å¯ä»¥å¾—åˆ°è§£æè§£ã€‚</p><ol><li><p>Predictionï¼š<br>$$<br>p(z_t|x_{1:t-1})&#x3D;\int_{z_{t-1}}p(z_t|z_{t-1})p(z_{t-1}|x_{1:t-1})dz_{t-1}&#x3D;\int_{z_{t-1}}\mathcal{N}(Az_{t-1}+B,Q)\mathcal{N}(\mu_{t-1},\Sigma_{t-1})dz_{t-1}<br>$$<br>å…¶ä¸­ç¬¬äºŒä¸ªé«˜æ–¯åˆ†å¸ƒæ˜¯ä¸Šä¸€æ­¥çš„ Update è¿‡ç¨‹ï¼Œæ‰€ä»¥æ ¹æ®çº¿æ€§é«˜æ–¯æ¨¡å‹ï¼Œç›´æ¥å¯ä»¥å†™å‡ºè¿™ä¸ªç§¯åˆ†ï¼š<br>$$<br>p(z_t|x_{1:t-1})&#x3D;\mathcal{N}(A\mu_{t-1}+B,Q+A\Sigma_{t-1}A^T)<br>$$</p></li><li><p>Update:<br>$$<br>p(z_t|x_{1:t})\propto p(x_t|z_t)p(z_t|x_{1:t-1})<br>$$<br>åŒæ ·åˆ©ç”¨çº¿æ€§é«˜æ–¯æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å†™å‡ºè¿™ä¸ªé«˜æ–¯åˆ†å¸ƒã€‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”éšé©¬å°”å¯å¤«æ¨¡å‹</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/12.HMM/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/12.HMM/</url>
    
    <content type="html"><![CDATA[<h2 id="éšé©¬å°”å¯å¤«æ¨¡å‹"><a href="#éšé©¬å°”å¯å¤«æ¨¡å‹" class="headerlink" title="éšé©¬å°”å¯å¤«æ¨¡å‹"></a>éšé©¬å°”å¯å¤«æ¨¡å‹</h2><p>éšé©¬å°”å¯å¤«æ¨¡å‹æ˜¯ä¸€ç§æ¦‚ç‡å›¾æ¨¡å‹ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæœºå™¨å­¦ä¹ æ¨¡å‹å¯ä»¥ä»é¢‘ç‡æ´¾å’Œè´å¶æ–¯æ´¾ä¸¤ä¸ªæ–¹å‘è€ƒè™‘ï¼Œåœ¨é¢‘ç‡æ´¾çš„æ–¹æ³•ä¸­çš„æ ¸å¿ƒæ˜¯ä¼˜åŒ–é—®é¢˜ï¼Œè€Œåœ¨è´å¶æ–¯æ´¾çš„æ–¹æ³•ä¸­ï¼Œæ ¸å¿ƒæ˜¯ç§¯åˆ†é—®é¢˜ï¼Œä¹Ÿå‘å±•å‡ºæ¥äº†ä¸€ç³»åˆ—çš„ç§¯åˆ†æ–¹æ³•å¦‚å˜åˆ†æ¨æ–­ï¼ŒMCMC ç­‰ã€‚æ¦‚ç‡å›¾æ¨¡å‹æœ€åŸºæœ¬çš„æ¨¡å‹å¯ä»¥åˆ†ä¸ºæœ‰å‘å›¾ï¼ˆè´å¶æ–¯ç½‘ç»œï¼‰å’Œæ— å‘å›¾ï¼ˆé©¬å°”å¯å¤«éšæœºåœºï¼‰ä¸¤ä¸ªæ–¹é¢ï¼Œä¾‹å¦‚ GMMï¼Œåœ¨è¿™äº›åŸºæœ¬çš„æ¨¡å‹ä¸Šï¼Œå¦‚æœæ ·æœ¬ä¹‹é—´å­˜åœ¨å…³è”ï¼Œå¯ä»¥è®¤ä¸ºæ ·æœ¬ä¸­é™„å¸¦äº†æ—¶åºä¿¡æ¯ï¼Œä»è€Œæ ·æœ¬ä¹‹é—´ä¸ç‹¬ç«‹å…¨åŒåˆ†å¸ƒçš„ï¼Œè¿™ç§æ¨¡å‹å°±å«åšåŠ¨æ€æ¨¡å‹ï¼Œéšå˜é‡éšç€æ—¶é—´å‘ç”Ÿå˜åŒ–ï¼Œäºæ˜¯è§‚æµ‹å˜é‡ä¹Ÿå‘ç”Ÿå˜åŒ–ï¼š</p><pre><code class=" mermaid">graph LR;z1--&gt;z2--&gt;z3;</code></pre><p>æ ¹æ®çŠ¶æ€å˜é‡çš„ç‰¹ç‚¹ï¼Œå¯ä»¥åˆ†ä¸ºï¼š</p><ol><li>HMMï¼ŒçŠ¶æ€å˜é‡ï¼ˆéšå˜é‡ï¼‰æ˜¯ç¦»æ•£çš„</li><li>Kalman æ»¤æ³¢ï¼ŒçŠ¶æ€å˜é‡æ˜¯è¿ç»­çš„ï¼Œçº¿æ€§çš„</li><li>ç²’å­æ»¤æ³¢ï¼ŒçŠ¶æ€å˜é‡æ˜¯è¿ç»­ï¼Œéçº¿æ€§çš„</li></ol><h2 id="HMM"><a href="#HMM" class="headerlink" title="HMM"></a>HMM</h2><p>HMM ç”¨æ¦‚ç‡å›¾è¡¨ç¤ºä¸ºï¼š</p><pre><code class=" mermaid">graph TD;t1--&gt;t2;subgraph fourt4--&gt;x4((x4))endsubgraph threet3--&gt;x3((x3))endsubgraph twot2--&gt;x2((x2))endsubgraph onet1--&gt;x1((x1))endt2--&gt;t3;t3--&gt;t4;</code></pre><p>ä¸Šå›¾è¡¨ç¤ºäº†å››ä¸ªæ—¶åˆ»çš„éšå˜é‡å˜åŒ–ã€‚ç”¨å‚æ•° $\lambda&#x3D;(\pi,A,B)$ æ¥è¡¨ç¤ºï¼Œå…¶ä¸­ $\pi$ æ˜¯å¼€å§‹çš„æ¦‚ç‡åˆ†å¸ƒï¼Œ$A$ ä¸ºçŠ¶æ€è½¬ç§»çŸ©é˜µï¼Œ$B$ ä¸ºå‘å°„çŸ©é˜µã€‚</p><p>ä¸‹é¢ä½¿ç”¨ $Â o_t$ æ¥è¡¨ç¤ºè§‚æµ‹å˜é‡ï¼Œ$O$ ä¸ºè§‚æµ‹åºåˆ—ï¼Œ$V&#x3D;{v_1,v_2,\cdots,v_M}$ è¡¨ç¤ºè§‚æµ‹çš„å€¼åŸŸï¼Œ$i_t$ è¡¨ç¤ºçŠ¶æ€å˜é‡ï¼Œ$I$ ä¸ºçŠ¶æ€åºåˆ—ï¼Œ$Q&#x3D;{q_1,q_2,\cdots,q_N}$ è¡¨ç¤ºçŠ¶æ€å˜é‡çš„å€¼åŸŸã€‚å®šä¹‰ $A&#x3D;(a_{ij}&#x3D;p(i_{t+1}&#x3D;q_j|i_t&#x3D;q_i))$ è¡¨ç¤ºçŠ¶æ€è½¬ç§»çŸ©é˜µï¼Œ$B&#x3D;(b_j(k)&#x3D;p(o_t&#x3D;v_k|i_t&#x3D;q_j))$ è¡¨ç¤ºå‘å°„çŸ©é˜µã€‚</p><p>åœ¨ HMM ä¸­ï¼Œæœ‰ä¸¤ä¸ªåŸºæœ¬å‡è®¾ï¼š</p><ol><li><p>é½æ¬¡ Markov å‡è®¾ï¼ˆæœªæ¥åªä¾èµ–äºå½“å‰ï¼‰ï¼š<br>$$<br>p(i_{t+1}|i_t,i_{t-1},\cdots,i_1,o_t,o_{t-1},\cdots,o_1)&#x3D;p(i_{t+1}|i_t)<br>$$</p></li><li><p>è§‚æµ‹ç‹¬ç«‹å‡è®¾ï¼š<br>$$<br>p(o_t|i_t,i_{t-1},\cdots,i_1,o_{t-1},\cdots,o_1)&#x3D;p(o_t|i_t)<br>$$</p></li></ol><p>HMM è¦è§£å†³ä¸‰ä¸ªé—®é¢˜ï¼š</p><ol><li>Evaluationï¼š$p(O|\lambda)$ï¼ŒForward-Backward ç®—æ³•</li><li>Learningï¼š$\lambda&#x3D;\mathop{argmax}\limits_{\lambda}p(O|\lambda)$ï¼ŒEM ç®—æ³•ï¼ˆBaum-Welchï¼‰</li><li>Decodingï¼š$I&#x3D;\mathop{argmax}\limits_{I}p(I|O,\lambda)$ï¼ŒVierbi ç®—æ³•<ol><li>é¢„æµ‹é—®é¢˜ï¼š$p(i_{t+1}|o_1,o_2,\cdots,o_t)$</li><li>æ»¤æ³¢é—®é¢˜ï¼š$p(i_t|o_1,o_2,\cdots,o_t)$</li></ol></li></ol><h3 id="Evaluation"><a href="#Evaluation" class="headerlink" title="Evaluation"></a>Evaluation</h3><p>$$<br>p(O|\lambda)&#x3D;\sum\limits_{I}p(I,O|\lambda)&#x3D;\sum\limits_{I}p(O|I,\lambda)p(I|\lambda)<br>$$</p><p>$$<br>p(I|\lambda)&#x3D;p(i_1,i_2,\cdots,i_t|\lambda)&#x3D;p(i_t|i_1,i_2,\cdots,i_{t-1},\lambda)p(i_1,i_2,\cdots,i_{t-1}|\lambda)<br>$$</p><p>æ ¹æ®é½æ¬¡ Markov å‡è®¾ï¼š<br>$$<br>p(i_t|i_1,i_2,\cdots,i_{t-1},\lambda)&#x3D;p(i_t|i_{t-1})&#x3D;a_{i_{t-1}i_t}<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>p(I|\lambda)&#x3D;\pi_1\prod\limits_{t&#x3D;2}^Ta_{i_{t-1},i_t}<br>$$<br>åˆç”±äºï¼š<br>$$<br>p(O|I,\lambda)&#x3D;\prod\limits_{t&#x3D;1}^Tb_{i_t}(o_t)<br>$$<br>äºæ˜¯ï¼š<br>$$<br>p(O|\lambda)&#x3D;\sum\limits_{I}\pi_{i_1}\prod\limits_{t&#x3D;2}^Ta_{i_{t-1},i_t}\prod\limits_{t&#x3D;1}^Tb_{i_t}(o_t)<br>$$<br>æˆ‘ä»¬çœ‹åˆ°ï¼Œä¸Šé¢çš„å¼å­ä¸­çš„æ±‚å’Œç¬¦å·æ˜¯å¯¹æ‰€æœ‰çš„è§‚æµ‹å˜é‡æ±‚å’Œï¼Œäºæ˜¯å¤æ‚åº¦ä¸º $O(N^T)$ã€‚</p><p>ä¸‹é¢ï¼Œè®° $\alpha_t(i)&#x3D;p(o_1,o_2,\cdots,o_t,i_t&#x3D;q_i|\lambda)$ï¼Œæ‰€ä»¥ï¼Œ$\alpha_T(i)&#x3D;p(O,i_T&#x3D;q_i|\lambda)$ã€‚æˆ‘ä»¬çœ‹åˆ°ï¼š<br>$$<br>p(O|\lambda)&#x3D;\sum\limits_{i&#x3D;1}^Np(O,i_T&#x3D;q_i|\lambda)&#x3D;\sum\limits_{i&#x3D;1}^N\alpha_T(i)<br>$$<br>å¯¹ $\alpha_{t+1}(j)$ï¼š<br>$$<br>\begin{align}\alpha_{t+1}(j)&amp;&#x3D;p(o_1,o_2,\cdots,o_{t+1},i_{t+1}&#x3D;q_j|\lambda)\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^Np(o_1,o_2,\cdots,o_{t+1},i_{t+1}&#x3D;q_j,i_t&#x3D;q_i|\lambda)\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^Np(o_{t+1}|o_1,o_2,\cdots,i_{t+1}&#x3D;q_j,i_t&#x3D;q_i|\lambda)p(o_1,\cdots,o_t,i_t&#x3D;q_i,i_{t+1}&#x3D;q_j|\lambda)<br>\end{align}<br>$$<br>åˆ©ç”¨è§‚æµ‹ç‹¬ç«‹å‡è®¾ï¼š<br>$$<br>\begin{align}\alpha_{t+1}(j)&amp;&#x3D;\sum\limits_{i&#x3D;1}^Np(o_{t+1}|i_{t+1}&#x3D;q_j)p(o_1,\cdots,o_t,i_t&#x3D;q_i,i_{t+1}&#x3D;q_j|\lambda)\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^Np(o_{t+1}|i_{t+1}&#x3D;q_j)p(i_{t+1}&#x3D;q_j|o_1,\cdots,o_t,i_t&#x3D;q_i,\lambda)p(o_1,\cdots,o_t,i_t&#x3D;q_i|\lambda)\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^Nb_{j}(o_t)a_{ij}\alpha_t(i)<br>\end{align}<br>$$<br>ä¸Šé¢åˆ©ç”¨äº†é½æ¬¡ Markov å‡è®¾å¾—åˆ°äº†ä¸€ä¸ªé€’æ¨å…¬å¼ï¼Œè¿™ä¸ªç®—æ³•å«åšå‰å‘ç®—æ³•ã€‚</p><p>è¿˜æœ‰ä¸€ç§ç®—æ³•å«åšåå‘ç®—æ³•ï¼Œå®šä¹‰ $\beta_t(i)&#x3D;p(o_{t+1},o_{t+1},\cdotsï¼Œo_T|i_t&#x3D;i,\lambda)$ï¼š<br>$$<br>\begin{align}p(O|\lambda)&amp;&#x3D;p(o_1,\cdots,o_T|\lambda)\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^Np(o_1,o_2,\cdots,o_T,i_1&#x3D;q_i|\lambda)\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^Np(o_1,o_2,\cdots,o_T|i_1&#x3D;q_i,\lambda)\pi_i\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^Np(o_1|o_2,\cdots,o_T,i_1&#x3D;q_i,\lambda)p(o_2,\cdots,o_T|i_1&#x3D;q_i,\lambda)\pi_i\nonumber\<br>&amp;&#x3D;\sum\limits_{i&#x3D;1}^Nb_i(o_1)\pi_i\beta_1(i)<br>\end{align}<br>$$<br>å¯¹äºè¿™ä¸ª $\beta_1(i)$ï¼š<br>$$<br>\begin{align}\beta_t(i)&amp;&#x3D;p(o_{t+1},\cdots,o_T|i_t&#x3D;q_i)\nonumber\<br>&amp;&#x3D;\sum\limits_{j&#x3D;1}^Np(o_{t+1},o_{t+2},\cdots,o_T,i_{t+1}&#x3D;q_j|i_t&#x3D;q_i)\nonumber\<br>&amp;&#x3D;\sum\limits_{j&#x3D;1}^Np(o_{t+1},\cdots,o_T|i_{t+1}&#x3D;q_j,i_t&#x3D;q_i)p(i_{t+1}&#x3D;q_j|i_t&#x3D;q_i)\nonumber\<br>&amp;&#x3D;\sum\limits_{j&#x3D;1}^Np(o_{t+1},\cdots,o_T|i_{t+1}&#x3D;q_j)a_{ij}\nonumber\<br>&amp;&#x3D;\sum\limits_{j&#x3D;1}^Np(o_{t+1}|o_{t+2},\cdots,o_T,i_{t+1}&#x3D;q_j)p(o_{t+2},\cdots,o_T|i_{t+1}&#x3D;q_j)a_{ij}\nonumber\<br>&amp;&#x3D;\sum\limits_{j&#x3D;1}^Nb_j(o_{t+1})a_{ij}\beta_{t+1}(j)<br>\end{align}<br>$$<br>äºæ˜¯åå‘åœ°å¾—åˆ°äº†ç¬¬ä¸€é¡¹ã€‚</p><h3 id="Learning"><a href="#Learning" class="headerlink" title="Learning"></a>Learning</h3><p>ä¸ºäº†å­¦ä¹ å¾—åˆ°å‚æ•°çš„æœ€ä¼˜å€¼ï¼Œåœ¨ MLE ä¸­ï¼š<br>$$<br>\lambda_{MLE}&#x3D;\mathop{argmax}<em>\lambda p(O|\lambda)<br>$$<br>æˆ‘ä»¬é‡‡ç”¨ EM ç®—æ³•ï¼ˆåœ¨è¿™é‡Œä¹Ÿå« Baum Welch ç®—æ³•ï¼‰ï¼Œç”¨ä¸Šæ ‡è¡¨ç¤ºè¿­ä»£ï¼š<br>$$<br>\theta^{t+1}&#x3D;\mathop{argmax}</em>{\theta}\int_z\log p(X,Z|\theta)p(Z|X,\theta^t)dz<br>$$<br>å…¶ä¸­ï¼Œ$X$ æ˜¯è§‚æµ‹å˜é‡ï¼Œ$Z$ æ˜¯éšå˜é‡åºåˆ—ã€‚äºæ˜¯ï¼š<br>$$<br>\lambda^{t+1}&#x3D;\mathop{argmax}<em>\lambda\sum\limits_I\log p(O,I|\lambda)p(I|O,\lambda^t)\<br>&#x3D;\mathop{argmax}<em>\lambda\sum\limits_I\log p(O,I|\lambda)p(O,I|\lambda^t)<br>$$<br> è¿™é‡Œåˆ©ç”¨äº† $p(O|\lambda^t)$ å’Œ$\lambda$ æ— å…³ã€‚å°† Evaluation ä¸­çš„å¼å­ä»£å…¥ï¼š<br>$$<br>\sum\limits_I\log p(O,I|\lambda)p(O,I|\lambda^t)&#x3D;\sum\limits_I[\log \pi</em>{i_1}+\sum\limits</em>{t&#x3D;2}^T\log a_{i_{t-1},i_t}+\sum\limits_{t&#x3D;1}^T\log b_{i_t}(o_t)]p(O,I|\lambda^t)<br>$$<br>å¯¹ $\pi^{t+1}$ï¼š<br>$$<br>\begin{align}\pi^{t+1}&amp;&#x3D;\mathop{argmax}<em>\pi\sum\limits_I[\log \pi</em>{i_1}p(O,I|\lambda^t)]\nonumber\<br>&amp;&#x3D;\mathop{argmax}<em>\pi\sum\limits_I[\log \pi</em>{i_1}\cdot p(O,i_1,i_2,\cdots,i_T|\lambda^t)]<br>\end{align}<br>$$<br>ä¸Šé¢çš„å¼å­ä¸­ï¼Œå¯¹ $i_2,i_2,\cdots,i_T$ æ±‚å’Œå¯ä»¥å°†è¿™äº›å‚æ•°æ¶ˆæ‰ï¼š<br>$$<br>\pi^{t+1}&#x3D;\mathop{argmax}<em>\pi\sum\limits</em>{i_1}[\log \pi_{i_1}\cdot p(O,i_1|\lambda^t)]<br>$$<br>ä¸Šé¢çš„å¼å­è¿˜æœ‰å¯¹ $\pi$ çš„çº¦æŸ $\sum\limits_i\pi_i&#x3D;1$ã€‚å®šä¹‰ Lagrange å‡½æ•°ï¼š<br>$$<br>L(\pi,\eta)&#x3D;\sum\limits_{i&#x3D;1}^N\log \pi_i\cdot p(O,i_1&#x3D;q_i|\lambda^t)+\eta(\sum\limits_{i&#x3D;1}^N\pi_i-1)<br>$$<br>äºæ˜¯ï¼š<br>$$<br>\frac{\partial L}{\partial\pi_i}&#x3D;\frac{1}{\pi_i}p(O,i_1&#x3D;q_i|\lambda^t)+\eta&#x3D;0<br>$$<br>å¯¹ä¸Šå¼æ±‚å’Œï¼š<br>$$<br>\sum\limits_{i&#x3D;1}^Np(O,i_1&#x3D;q_i|\lambda^t)+\pi_i\eta&#x3D;0\Rightarrow\eta&#x3D;-p(O|\lambda^t)<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\pi_i^{t+1}&#x3D;\frac{p(O,i_1&#x3D;q_i|\lambda^t)}{p(O|\lambda^t)}<br>$$</p><h3 id="Decoding"><a href="#Decoding" class="headerlink" title="Decoding"></a>Decoding</h3><p>Decoding é—®é¢˜è¡¨è¿°ä¸ºï¼š<br>$$<br>I&#x3D;\mathop{argmax}\limits_{I}p(I|O,\lambda)<br>$$<br>æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªåºåˆ—ï¼Œå…¶æ¦‚ç‡æœ€å¤§ï¼Œè¿™ä¸ªåºåˆ—å°±æ˜¯åœ¨å‚æ•°ç©ºé—´ä¸­çš„ä¸€ä¸ªè·¯å¾„ï¼Œå¯ä»¥é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚</p><p>å®šä¹‰ï¼š<br>$$<br>\delta_{t}(j)&#x3D;\max\limits_{i_1,\cdots,i_{t-1}}p(o_1,\cdots,o_t,i_1,\cdots,i_{t-1},i_t&#x3D;q_i)<br>$$<br>äºæ˜¯ï¼š<br>$$<br>\delta_{t+1}(j)&#x3D;\max\limits_{1\le i\le N}\delta_t(i)a_{ij}b_j(o_{t+1})<br>$$<br>è¿™ä¸ªå¼å­å°±æ˜¯ä»ä¸Šä¸€æ­¥åˆ°ä¸‹ä¸€æ­¥çš„æ¦‚ç‡å†æ±‚æœ€å¤§å€¼ã€‚è®°è¿™ä¸ªè·¯å¾„ä¸ºï¼š<br>$$<br>\psi_{t+1}(j)&#x3D;\mathop{argmax}\limits_{1\le i\le N}\delta_t(i)a_{ij}<br>$$</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>HMM æ˜¯ä¸€ç§åŠ¨æ€æ¨¡å‹ï¼Œæ˜¯ç”±æ··åˆæ ‘å½¢æ¨¡å‹å’Œæ—¶åºç»“åˆèµ·æ¥çš„ä¸€ç§æ¨¡å‹ï¼ˆç±»ä¼¼ GMM + Timeï¼‰ã€‚å¯¹äºç±»ä¼¼ HMM çš„è¿™ç§çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼Œæ™®éçš„é™¤äº†å­¦ä¹ ä»»åŠ¡ï¼ˆé‡‡ç”¨ EM ï¼‰å¤–ï¼Œè¿˜æœ‰æ¨æ–­ä»»åŠ¡ï¼Œæ¨æ–­ä»»åŠ¡åŒ…æ‹¬ï¼š</p><ol><li><p>è¯‘ç  Decodingï¼š$p(z_1,z_2,\cdots,z_t|x_1,x_2,\cdots,x_t)$</p></li><li><p>ä¼¼ç„¶æ¦‚ç‡ï¼š$p(X|\theta)$</p></li><li><p>æ»¤æ³¢ï¼š$Â p(z_t|x_1,\cdots,x_t)$ï¼ŒOnline<br>$$<br>p(z_t|x_{1:t})&#x3D;\frac{p(x_{1:t},z_t)}{p(x_{1:t})}&#x3D;C\alpha_t(z_t)<br>$$</p></li><li><p>å¹³æ»‘ï¼š$p(z_t|x_1,\cdots,x_T)$ï¼ŒOffline<br>$$<br>p(z_t|x_{1:T})&#x3D;\frac{p(x_{1:T},z_t)}{p(x_{1:T})}&#x3D;\frac{\alpha_t(z_t)p(x_{t+1:T}|x_{1:t},z_t)}{p(x_{1:T})}<br>$$<br>æ ¹æ®æ¦‚ç‡å›¾çš„æ¡ä»¶ç‹¬ç«‹æ€§ï¼Œæœ‰ï¼š<br>$$<br>p(z_t|x_{1:T})&#x3D;\frac{\alpha_t(z_t)p(x_{t+1:T}|z_t)}{p(x_{1:T})}&#x3D;C\alpha_t(z_t)\beta_t(z_t)<br>$$<br>è¿™ä¸ªç®—æ³•å«åšå‰å‘åå‘ç®—æ³•ã€‚</p></li><li><p>é¢„æµ‹ï¼š$p(z_{t+1},z_{t+2}|x_1,\cdots,x_t),p(x_{t+1},x_{t+2}|x_1,\cdots,x_t)$<br>$$<br>p(z_{t+1}|x_{1:t})&#x3D;\sum_{z_t}p(z_{t+1},z_t|x_{1:t})&#x3D;\sum\limits_{z_t}p(z_{t+1}|z_t)p(z_t|x_{1:t})<br>$$</p><p>$$<br>p(x_{t+1}|x_{1:t})&#x3D;\sum\limits_{z_{t+1}}p(x_{t+1},z_{t+1}|x_{1:t})&#x3D;\sum\limits_{z_{t+1}}p(x_{t+1}|z_{t+1})p(z_{t+1}|x_{1:t})<br>$$</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/11.MCMC/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/11.MCMC/</url>
    
    <content type="html"><![CDATA[<h1 id="é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›"><a href="#é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›" class="headerlink" title="é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›"></a>é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›</h1><p>MCMC æ˜¯ä¸€ç§éšæœºçš„è¿‘ä¼¼æ¨æ–­ï¼Œå…¶æ ¸å¿ƒå°±æ˜¯åŸºäºé‡‡æ ·çš„éšæœºè¿‘ä¼¼æ–¹æ³•è’™ç‰¹å¡æ´›æ–¹æ³•ã€‚å¯¹äºé‡‡æ ·ä»»åŠ¡æ¥è¯´ï¼Œæœ‰ä¸‹é¢ä¸€äº›å¸¸ç”¨çš„åœºæ™¯ï¼š</p><ol><li>é‡‡æ ·ä½œä¸ºä»»åŠ¡ï¼Œç”¨äºç”Ÿæˆæ–°çš„æ ·æœ¬</li><li>æ±‚å’Œ&#x2F;æ±‚ç§¯åˆ†</li></ol><p>é‡‡æ ·ç»“æŸåï¼Œæˆ‘ä»¬éœ€è¦è¯„ä»·é‡‡æ ·å‡ºæ¥çš„æ ·æœ¬ç‚¹æ˜¯ä¸æ˜¯å¥½çš„æ ·æœ¬é›†ï¼š</p><ol><li>æ ·æœ¬è¶‹å‘äºé«˜æ¦‚ç‡çš„åŒºåŸŸ</li><li>æ ·æœ¬ä¹‹é—´å¿…é¡»ç‹¬ç«‹</li></ol><p>å…·ä½“é‡‡æ ·ä¸­ï¼Œé‡‡æ ·æ˜¯ä¸€ä¸ªå›°éš¾çš„è¿‡ç¨‹ï¼š</p><ol><li>æ— æ³•é‡‡æ ·å¾—åˆ°å½’ä¸€åŒ–å› å­ï¼Œå³æ— æ³•ç›´æ¥å¯¹æ¦‚ç‡ $Â p(x)&#x3D;\frac{1}{Z}\hat{p}(x)$ é‡‡æ ·ï¼Œå¸¸å¸¸éœ€è¦å¯¹ CDF é‡‡æ ·ï¼Œä½†å¤æ‚çš„æƒ…å†µä¸è¡Œ</li><li>å¦‚æœå½’ä¸€åŒ–å› å­å¯ä»¥æ±‚å¾—ï¼Œä½†æ˜¯å¯¹é«˜ç»´æ•°æ®ä¾ç„¶ä¸èƒ½å‡åŒ€é‡‡æ ·ï¼ˆç»´åº¦ç¾éš¾ï¼‰ï¼Œè¿™æ˜¯ç”±äºå¯¹ $p$ ç»´ç©ºé—´ï¼Œæ€»çš„çŠ¶æ€ç©ºé—´æ˜¯ $K^p$ è¿™ä¹ˆå¤§ï¼Œäºæ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç›´æ¥é‡‡æ ·ä¹Ÿä¸è¡Œ</li></ol><p>å› æ­¤éœ€è¦å€ŸåŠ©å…¶ä»–æ‰‹æ®µï¼Œå¦‚è’™ç‰¹å¡æ´›æ–¹æ³•ä¸­çš„æ‹’ç»é‡‡æ ·ï¼Œé‡è¦æ€§é‡‡æ ·å’Œ MCMCã€‚</p><h2 id="è’™ç‰¹å¡æ´›æ–¹æ³•"><a href="#è’™ç‰¹å¡æ´›æ–¹æ³•" class="headerlink" title="è’™ç‰¹å¡æ´›æ–¹æ³•"></a>è’™ç‰¹å¡æ´›æ–¹æ³•</h2><p>è’™ç‰¹å¡æ´›æ–¹æ³•æ—¨åœ¨æ±‚å¾—å¤æ‚æ¦‚ç‡åˆ†å¸ƒä¸‹çš„æœŸæœ›å€¼ï¼š$\mathbb{E}<em>{z|x}[f(z)]&#x3D;\int p(z|x)f(z)dz\simeq\frac{1}{N}\sum\limits</em>{i&#x3D;1}^Nf(z_i)$ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»æ¦‚ç‡åˆ†å¸ƒä¸­å– $N$ ä¸ªç‚¹ï¼Œä»è€Œè¿‘ä¼¼è®¡ç®—è¿™ä¸ªç§¯åˆ†ã€‚é‡‡æ ·æ–¹æ³•æœ‰ï¼š</p><ol><li><p>æ¦‚ç‡åˆ†å¸ƒé‡‡æ ·ï¼Œé¦–å…ˆæ±‚å¾—æ¦‚ç‡å¯†åº¦çš„ç´¯ç§¯å¯†åº¦å‡½æ•° CDFï¼Œç„¶åæ±‚å¾— CDF çš„åå‡½æ•°ï¼Œåœ¨0åˆ°1ä¹‹é—´å‡åŒ€é‡‡æ ·ï¼Œä»£å…¥åå‡½æ•°ï¼Œå°±å¾—åˆ°äº†é‡‡æ ·ç‚¹ã€‚ä½†æ˜¯å®é™…å¤§éƒ¨åˆ†æ¦‚ç‡åˆ†å¸ƒä¸èƒ½å¾—åˆ° CDFã€‚</p></li><li><p>Rejection Sampling æ‹’ç»é‡‡æ ·ï¼šå¯¹äºæ¦‚ç‡åˆ†å¸ƒ $p(z)$ï¼Œå¼•å…¥ç®€å•çš„æè®®åˆ†å¸ƒ $q(z)$ï¼Œä½¿å¾— $\forall z_i,Mq(z_i)\ge p(z_i)$ã€‚æˆ‘ä»¬å…ˆåœ¨ $Â q(z)$ ä¸­é‡‡æ ·ï¼Œå®šä¹‰æ¥å—ç‡ï¼š$\alpha&#x3D;\frac{p(z^i)}{Mq(z^i)}\le1$ã€‚ç®—æ³•æè¿°ä¸ºï¼š</p><ol><li>å– $z^i\sim q(z)$ã€‚</li><li>åœ¨å‡åŒ€åˆ†å¸ƒä¸­é€‰å– $u$ã€‚</li><li>å¦‚æœ $u\le\alpha$ï¼Œåˆ™æ¥å— $z^i$ï¼Œå¦åˆ™ï¼Œæ‹’ç»è¿™ä¸ªå€¼ã€‚</li></ol></li><li><p>Importance Samplingï¼šç›´æ¥å¯¹æœŸæœ›ï¼š$\mathbb{E}<em>{p(z)}[f(z)]$ è¿›è¡Œé‡‡æ ·ã€‚<br>$$<br>\mathbb{E}</em>{p(z)}[f(z)]&#x3D;\int p(z)f(z)dz&#x3D;\int \frac{p(z)}{q(z)}f(z)q(z)dz\simeq\frac{1}{N}\sum\limits_{i&#x3D;1}^Nf(z_i)\frac{p(z_i)}{q(z_i)}<br>$$<br>äºæ˜¯é‡‡æ ·åœ¨ $Â q(z)$ ä¸­é‡‡æ ·ï¼Œå¹¶é€šè¿‡æƒé‡è®¡ç®—å’Œã€‚é‡è¦å€¼é‡‡æ ·å¯¹äºæƒé‡éå¸¸å°çš„æ—¶å€™ï¼Œæ•ˆç‡éå¸¸ä½ã€‚é‡è¦æ€§é‡‡æ ·æœ‰ä¸€ä¸ªå˜ç§ Sampling-Importance-Resamplingï¼Œè¿™ç§æ–¹æ³•ï¼Œé¦–å…ˆå’Œä¸Šé¢ä¸€æ ·è¿›è¡Œé‡‡æ ·ï¼Œç„¶ååœ¨é‡‡æ ·å‡ºæ¥çš„ $N$ ä¸ªæ ·æœ¬ä¸­ï¼Œé‡æ–°é‡‡æ ·ï¼Œè¿™ä¸ªé‡æ–°é‡‡æ ·ï¼Œä½¿ç”¨æ¯ä¸ªæ ·æœ¬ç‚¹çš„æƒé‡ä½œä¸ºæ¦‚ç‡åˆ†å¸ƒè¿›è¡Œé‡‡æ ·ã€‚</p></li></ol><h2 id="MCMC"><a href="#MCMC" class="headerlink" title="MCMC"></a>MCMC</h2><p>é©¬å°”å¯å¤«é“¾å¼ä¸€ç§æ—¶é—´çŠ¶æ€éƒ½æ˜¯ç¦»æ•£çš„éšæœºå˜é‡åºåˆ—ã€‚æˆ‘ä»¬å…³æ³¨çš„ä¸»è¦æ˜¯é½æ¬¡çš„ä¸€é˜¶é©¬å°”å¯å¤«é“¾ã€‚é©¬å°”å¯å¤«é“¾æ»¡è¶³ï¼š$p(X_{t+1}|X_1,X_2,\cdots,X_t)&#x3D;p(X_{t+1}|X_t)$ã€‚è¿™ä¸ªå¼å­å¯ä»¥å†™æˆè½¬ç§»çŸ©é˜µçš„å½¢å¼ $p_{ij}&#x3D;p(X_{t+1}&#x3D;j|X_t&#x3D;i)$ã€‚æˆ‘ä»¬æœ‰ï¼š<br>$$<br>\pi_{t+1}(x^*)&#x3D;\int\pi_i(x)p_{x\to x^*}dx<br>$$<br>å¦‚æœå­˜åœ¨ $\pi&#x3D;(\pi(1),\pi(2),\cdots),\sum\limits_{i&#x3D;1}^{+\infin}\pi(i)&#x3D;1$ï¼Œæœ‰ä¸Šå¼æˆç«‹ï¼Œè¿™ä¸ªåºåˆ—å°±å«é©¬å°”å¯å¤«é“¾ $X_t$ çš„å¹³ç¨³åˆ†å¸ƒï¼Œå¹³ç¨³åˆ†å¸ƒå°±æ˜¯è¡¨ç¤ºåœ¨æŸä¸€ä¸ªæ—¶åˆ»åï¼Œåˆ†å¸ƒä¸å†æ”¹å˜ã€‚MCMC å°±æ˜¯é€šè¿‡æ„å»ºé©¬å°”å¯å¤«é“¾æ¦‚ç‡åºåˆ—ï¼Œä½¿å…¶æ”¶æ•›åˆ°å¹³ç¨³åˆ†å¸ƒ $p(z)$ã€‚å¼•å…¥ç»†è‡´å¹³è¡¡ï¼š$\pi(x)p_{x\to x^*}&#x3D;\pi(x^*)p_{x^<em>\to x}$ã€‚å¦‚æœä¸€ä¸ªåˆ†å¸ƒæ»¡è¶³ç»†è‡´å¹³è¡¡ï¼Œé‚£ä¹ˆä¸€å®šæ»¡è¶³å¹³ç¨³åˆ†å¸ƒï¼ˆåä¹‹ä¸æˆç«‹ï¼‰ï¼š<br>$$<br>\int\pi(x)p_{x\to x^</em>}dx&#x3D;\int\pi(x^*)p_{x^<em>\to x}dx&#x3D;\pi(x^</em>)<br>$$<br>ç»†è‡´å¹³è¡¡æ¡ä»¶å°†å¹³ç¨³åˆ†å¸ƒçš„åºåˆ—å’Œé©¬å°”å¯å¤«é“¾çš„è½¬ç§»çŸ©é˜µè”ç³»åœ¨ä¸€èµ·äº†ï¼Œé€šè¿‡è½¬ç§»çŸ©é˜µå¯ä»¥ä¸æ–­ç”Ÿæˆæ ·æœ¬ç‚¹ã€‚å‡å®šéšæœºå–ä¸€ä¸ªè½¬ç§»çŸ©é˜µ $(Q&#x3D;Q_{ij})$ï¼Œä½œä¸ºä¸€ä¸ªæè®®çŸ©é˜µã€‚æˆ‘ä»¬æœ‰ï¼š<br>$$<br>p(z)\cdot Q_{z\to z^*}\alpha(z,z^*)&#x3D;p(z^*)\cdot Q_{z^<em>\to z}\alpha(z^</em>,z)<br>$$<br>å– ï¼š<br>$$<br>\alpha(z,z^*)&#x3D;\min{1,\frac{p(z^*)Q_{z^<em>\to z}}{p(z)Q_{z\to z^</em>}}}<br>$$<br>åˆ™<br>$$<br>p(z)\cdot Q_{z\to z^*}\alpha(z,z^*)&#x3D;\min{p(z)Q_{z\to z^*},p(z^*)Q_{z^<em>\to z}}&#x3D;p(z^</em>)\cdot Q_{z^<em>\to z}\alpha(z^</em>,z)<br>$$<br>äºæ˜¯ï¼Œè¿­ä»£å°±å¾—åˆ°äº†åºåˆ—ï¼Œè¿™ä¸ªç®—æ³•å«åš Metropolis-Hastings ç®—æ³•ï¼š</p><ol><li>é€šè¿‡åœ¨0ï¼Œ1ä¹‹é—´å‡åŒ€åˆ†å¸ƒå–ç‚¹ $u$</li><li>ç”Ÿæˆ $z^<em>\sim Q(z^</em>|z^{i-1})$</li><li>è®¡ç®— $\alpha$ å€¼</li><li>å¦‚æœ $\alpha\ge u$ï¼Œåˆ™ $z^i&#x3D;z^*$ï¼Œå¦åˆ™ $z^{i}&#x3D;z^{i-1}$</li></ol><p>è¿™æ ·å–çš„æ ·æœ¬å°±æœä» $p(z)&#x3D;\frac{\hat{p}(z)}{z_p}\sim \hat{p}(z)$ã€‚</p><p>ä¸‹é¢ä»‹ç»å¦ä¸€ç§é‡‡æ ·æ–¹å¼ Gibbs é‡‡æ ·ï¼Œå¦‚æœ $z$ çš„ç»´åº¦éå¸¸é«˜ï¼Œé‚£ä¹ˆé€šè¿‡å›ºå®šè¢«é‡‡æ ·çš„ç»´åº¦å…¶ä½™çš„ç»´åº¦æ¥ç®€åŒ–é‡‡æ ·è¿‡ç¨‹ï¼š$z_i\sim p(z_i|z_{-i})$ï¼š</p><ol><li>ç»™å®šåˆå§‹å€¼ $z_1^0,z_2^0,\cdots$</li><li>åœ¨ $t+1$ æ—¶åˆ»ï¼Œé‡‡æ · $z_i^{t+1}\sim p(z_i|z_{-i})$ï¼Œä»ç¬¬ä¸€ä¸ªç»´åº¦ä¸€ä¸ªä¸ªé‡‡æ ·ã€‚</li></ol><p>Gibbs é‡‡æ ·æ–¹æ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„ MH é‡‡æ ·ï¼Œå¯ä»¥è®¡ç®— Gibbs é‡‡æ ·çš„æ¥å—ç‡ï¼š<br>$$<br>\frac{p(z^*)Q_{z^<em>\to z}}{p(z)Q_{z\to z^</em>}}&#x3D;\frac{p(z_i^*|z^*_{-i})p(z^*_{-i})p(z_i|z_{-i}^*)}{p(z_i|z_{-i})p(z_{-i})p(z_i^*|z_{-i})}<br>$$<br>å¯¹äºæ¯ä¸ª Gibbs é‡‡æ ·æ­¥éª¤ï¼Œ$z_{-i}&#x3D;z_{-i}^*$ï¼Œè¿™æ˜¯ç”±äºæ¯ä¸ªç»´åº¦ $i$ é‡‡æ ·çš„æ—¶å€™ï¼Œå…¶ä½™çš„å‚é‡ä¿æŒä¸å˜ã€‚æ‰€ä»¥ä¸Šå¼ä¸º1ã€‚äºæ˜¯ Gibbs é‡‡æ ·è¿‡ç¨‹ä¸­ï¼Œç›¸å½“äºæ‰¾åˆ°äº†ä¸€ä¸ªæ­¥éª¤ï¼Œä½¿å¾—æ‰€æœ‰çš„æ¥å—ç‡ä¸º 1ã€‚</p><h2 id="å¹³ç¨³åˆ†å¸ƒ"><a href="#å¹³ç¨³åˆ†å¸ƒ" class="headerlink" title="å¹³ç¨³åˆ†å¸ƒ"></a>å¹³ç¨³åˆ†å¸ƒ</h2><p>å®šä¹‰éšæœºçŸ©é˜µï¼š<br>$$<br>Q&#x3D;\begin{pmatrix}Q_{11}&amp;Q_{12}&amp;\cdots&amp;Q_{1K}\\vdots&amp;\vdots&amp;\vdots&amp;\vdots\Q_{k1}&amp;Q_{k2}&amp;\cdots&amp;Q_{KK}\end{pmatrix}<br>$$<br>è¿™ä¸ªçŸ©é˜µæ¯ä¸€è¡Œæˆ–è€…æ¯ä¸€åˆ—çš„å’Œéƒ½æ˜¯1ã€‚éšæœºçŸ©é˜µçš„ç‰¹å¾å€¼éƒ½å°äºç­‰äº1ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªç‰¹å¾å€¼ä¸º $\lambda_i&#x3D;1$ã€‚äºæ˜¯åœ¨é©¬å°”å¯å¤«è¿‡ç¨‹ä¸­ï¼š<br>$$<br>q^{t+1}(x&#x3D;j)&#x3D;\sum\limits_{i&#x3D;1}^Kq^t(x&#x3D;i)Q_{ij}\<br>\Rightarrow q^{t+1}&#x3D;q^t\cdot Q&#x3D;q^1Q^t<br>$$<br>äºæ˜¯æœ‰ï¼š<br>$$<br>q^{t+1}&#x3D;q^1A\Lambda^t A^{-1}<br>$$<br>å¦‚æœ $m$ è¶³å¤Ÿå¤§ï¼Œé‚£ä¹ˆï¼Œ$\Lambda^m&#x3D;diag(0,0,\cdots,1,\cdots,0)$ï¼Œåˆ™ï¼š$q^{m+1}&#x3D;q^{m}$ ï¼Œåˆ™è¶‹äºå¹³ç¨³åˆ†å¸ƒäº†ã€‚é©¬å°”å¯å¤«é“¾å¯èƒ½å…·æœ‰å¹³ç¨³åˆ†å¸ƒçš„æ€§è´¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ„å»ºé©¬å°”å¯å¤«é“¾ä½¿å…¶å¹³ç¨³åˆ†å¸ƒæ”¶æ•›äºéœ€è¦çš„æ¦‚ç‡åˆ†å¸ƒï¼ˆè®¾è®¡è½¬ç§»çŸ©é˜µï¼‰ã€‚</p><p>åœ¨é‡‡æ ·è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ç»å†ä¸€å®šçš„æ—¶é—´ï¼ˆç‡ƒçƒ§æœŸ&#x2F;æ··åˆæ—¶é—´ï¼‰æ‰èƒ½è¾¾åˆ°å¹³ç¨³åˆ†å¸ƒã€‚ä½†æ˜¯ MCMC æ–¹æ³•æœ‰ä¸€äº›é—®é¢˜ï¼š</p><ol><li>æ— æ³•åˆ¤æ–­æ˜¯å¦å·²ç»æ”¶æ•›</li><li>ç‡ƒçƒ§æœŸè¿‡é•¿ï¼ˆç»´åº¦å¤ªé«˜ï¼Œå¹¶ä¸”ç»´åº¦ä¹‹é—´æœ‰å…³ï¼Œå¯èƒ½æ— æ³•é‡‡æ ·åˆ°æŸäº›ç»´åº¦ï¼‰ï¼Œä¾‹å¦‚åœ¨ GMM ä¸­ï¼Œå¯èƒ½æ— æ³•é‡‡æ ·åˆ°æŸäº›å³°ã€‚äºæ˜¯åœ¨ä¸€äº›æ¨¡å‹ä¸­ï¼Œéœ€è¦å¯¹éšå˜é‡ä¹‹é—´çš„å…³ç³»ä½œå‡ºçº¦æŸï¼Œå¦‚ RBM å‡è®¾éšå˜é‡ä¹‹é—´æ— å…³ã€‚</li><li>æ ·æœ¬ä¹‹é—´ä¸€å®šæ˜¯æœ‰ç›¸å…³æ€§çš„ï¼Œå¦‚æœæ¯ä¸ªæ—¶åˆ»éƒ½å–ä¸€ä¸ªç‚¹ï¼Œé‚£ä¹ˆæ¯ä¸ªæ ·æœ¬ä¸€å®šå’Œå‰ä¸€ä¸ªç›¸å…³ï¼Œè¿™å¯ä»¥é€šè¿‡é—´éš”ä¸€æ®µæ—¶é—´é‡‡æ ·ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”å˜åˆ†æ¨æ–­</title>
    <link href="/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/10.VI/"/>
    <url>/2022/08/01/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%99%BD%E6%9D%BF%E6%8E%A8%E5%AF%BC%E7%AC%94%E8%AE%B0/10.VI/</url>
    
    <content type="html"><![CDATA[<h1 id="å˜åˆ†æ¨æ–­"><a href="#å˜åˆ†æ¨æ–­" class="headerlink" title="å˜åˆ†æ¨æ–­"></a>å˜åˆ†æ¨æ–­</h1><p>æˆ‘ä»¬å·²ç»çŸ¥é“æ¦‚ç‡æ¨¡å‹å¯ä»¥åˆ†ä¸ºï¼Œé¢‘ç‡æ´¾çš„ä¼˜åŒ–é—®é¢˜å’Œè´å¶æ–¯æ´¾çš„ç§¯åˆ†é—®é¢˜ã€‚ä»è´å¶æ–¯è§’åº¦æ¥çœ‹æ¨æ–­ï¼Œå¯¹äº $\hat{x}$ è¿™æ ·çš„æ–°æ ·æœ¬ï¼Œéœ€è¦å¾—åˆ°ï¼š<br>$$<br>p(\hat{x}|X)&#x3D;\int_\theta p(\hat{x},\theta|X)d\theta&#x3D;\int_\theta p(\theta|X)p(\hat{x}|\theta,X)d\theta<br>$$<br>å¦‚æœæ–°æ ·æœ¬å’Œæ•°æ®é›†ç‹¬ç«‹ï¼Œé‚£ä¹ˆæ¨æ–­å°±æ˜¯æ¦‚ç‡åˆ†å¸ƒä¾å‚æ•°åéªŒåˆ†å¸ƒçš„æœŸæœ›ã€‚</p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œæ¨æ–­é—®é¢˜çš„ä¸­å¿ƒæ˜¯å‚æ•°åéªŒåˆ†å¸ƒçš„æ±‚è§£ï¼Œæ¨æ–­åˆ†ä¸ºï¼š</p><ol><li>ç²¾ç¡®æ¨æ–­</li><li>è¿‘ä¼¼æ¨æ–­-å‚æ•°ç©ºé—´æ— æ³•ç²¾ç¡®æ±‚è§£<ol><li>ç¡®å®šæ€§è¿‘ä¼¼-å¦‚å˜åˆ†æ¨æ–­</li><li>éšæœºè¿‘ä¼¼-å¦‚ MCMCï¼ŒMHï¼ŒGibbs</li></ol></li></ol><h2 id="åŸºäºå¹³å‡åœºå‡è®¾çš„å˜åˆ†æ¨æ–­"><a href="#åŸºäºå¹³å‡åœºå‡è®¾çš„å˜åˆ†æ¨æ–­" class="headerlink" title="åŸºäºå¹³å‡åœºå‡è®¾çš„å˜åˆ†æ¨æ–­"></a>åŸºäºå¹³å‡åœºå‡è®¾çš„å˜åˆ†æ¨æ–­</h2><p>æˆ‘ä»¬è®° $Z$ ä¸ºéšå˜é‡å’Œå‚æ•°çš„é›†åˆï¼Œ$Z_i$ ä¸ºç¬¬ $i$ ç»´çš„å‚æ•°ï¼Œäºæ˜¯ï¼Œå›é¡¾ä¸€ä¸‹ EM ä¸­çš„æ¨å¯¼ï¼š<br>$$<br>\log p(X)&#x3D;\log p(X,Z)-\log p(Z|X)&#x3D;\log\frac{p(X,Z)}{q(Z)}-\log\frac{p(Z|X)}{q(Z)}<br>$$<br>å·¦å³ä¸¤è¾¹åˆ†åˆ«ç§¯åˆ†ï¼š<br>$$<br>Left:\int_Zq(Z)\log p(X)dZ&#x3D;\log p(X)\<br>Right:\int_Z[\log \frac{p(X,Z)}{q(Z)}-\log \frac{p(Z|X)}{q(Z)}]q(Z)dZ&#x3D;ELBO+KL(q,p)<br>$$<br>ç¬¬äºŒä¸ªå¼å­å¯ä»¥å†™ä¸ºå˜åˆ†å’Œ KL æ•£åº¦çš„å’Œï¼š<br>$$<br>L(q)+KL(q,p)<br>$$<br>ç”±äºè¿™ä¸ªå¼å­æ˜¯å¸¸æ•°ï¼Œäºæ˜¯å¯»æ‰¾ $q\simeq p$ å°±ç›¸å½“äºå¯¹ $L(q)$ æœ€å¤§å€¼ã€‚<br>$$<br>\hat{q}(Z)&#x3D;\mathop{argmax}<em>{q(Z)}L(q)<br>$$<br>å‡è®¾ $q(Z)$ å¯ä»¥åˆ’åˆ†ä¸º $M$ ä¸ªç»„ï¼ˆå¹³å‡åœºè¿‘ä¼¼ï¼‰ï¼š<br>$$<br>q(Z)&#x3D;\prod\limits</em>{i&#x3D;1}^Mq_i(Z_i)<br>$$<br>å› æ­¤ï¼Œåœ¨ $L(q)&#x3D;\int_Zq(Z)\log p(X,Z)dZ-\int_Zq(Z)\log{q(Z)}$ ä¸­ï¼Œçœ‹ $p(Z_j)$ ï¼Œç¬¬ä¸€é¡¹ï¼š<br>$$<br>\begin{align}\int_Zq(Z)\log p(X,Z)dZ&amp;&#x3D;\int_Z\prod\limits_{i&#x3D;1}^Mq_i(Z_i)\log p(X,Z)dZ\nonumber\<br>&amp;&#x3D;\int_{Z_j}q_j(Z_j)\int_{Z-Z_{j}}\prod\limits_{i\ne j}q_i(Z_i)\log p(X,Z)dZ\nonumber\<br>&amp;&#x3D;\int_{Z_j}q_j(Z_j)\mathbb{E}<em>{\prod\limits</em>{i\ne j}q_i(Z_i)}[\log p(X,Z)]dZ_j<br>\end{align}<br>$$</p><p>ç¬¬äºŒé¡¹ï¼š<br>$$<br>\int_Zq(Z)\log q(Z)dZ&#x3D;\int_Z\prod\limits_{i&#x3D;1}^Mq_i(Z_i)\sum\limits_{i&#x3D;1}^M\log q_i(Z_i)dZ<br>$$<br>å±•å¼€æ±‚å’Œé¡¹ç¬¬ä¸€é¡¹ä¸ºï¼š<br>$$<br>\int_Z\prod\limits_{i&#x3D;1}^Mq_i(Z_i)\log q_1(Z_1)dZ&#x3D;\int_{Z_1}q_1(Z_1)\log q_1(Z_1)dZ_1<br>$$<br>æ‰€ä»¥ï¼š<br>$$<br>\int_Zq(Z)\log q(Z)dZ&#x3D;\sum\limits_{i&#x3D;1}^M\int_{Z_i}q_i(Z_i)\log q_i(Z_i)dZ_i&#x3D;\int_{Z_j}q_j(Z_j)\log q_j(Z_j)dZ_j+Const<br>$$<br>ä¸¤é¡¹ç›¸å‡ï¼Œä»¤ $\mathbb{E}<em>{\prod\limits</em>{i\ne j}q_i(Z_i)}[\log p(X,Z)]&#x3D;\log \hat{p}(X,Z_j)$ å¯ä»¥å¾—åˆ°ï¼š<br>$$<br>-\int_{Z_j}q_j(Z_j)\log\frac{q_j(Z_j)}{\hat{p}(X,Z_j)}dZ_j\le 0<br>$$<br>äºæ˜¯æœ€å¤§çš„ $q_j(Z_j)&#x3D;\hat{p}(X,Z_j)$ æ‰èƒ½å¾—åˆ°æœ€å¤§å€¼ã€‚æˆ‘ä»¬çœ‹åˆ°ï¼Œå¯¹æ¯ä¸€ä¸ª $q_j$ï¼Œéƒ½æ˜¯å›ºå®šå…¶ä½™çš„ $q_i$ï¼Œæ±‚è¿™ä¸ªå€¼ï¼Œäºæ˜¯å¯ä»¥ä½¿ç”¨åæ ‡ä¸Šå‡çš„æ–¹æ³•è¿›è¡Œè¿­ä»£æ±‚è§£ï¼Œä¸Šé¢çš„æ¨å¯¼é’ˆå¯¹å•ä¸ªæ ·æœ¬ï¼Œä½†æ˜¯å¯¹æ•°æ®é›†ä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚</p><p>åŸºäºå¹³å‡åœºå‡è®¾çš„å˜åˆ†æ¨æ–­å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</p><ol><li>å‡è®¾å¤ªå¼ºï¼Œ$Z$ éå¸¸å¤æ‚çš„æƒ…å†µä¸‹ï¼Œå‡è®¾ä¸é€‚ç”¨</li><li>æœŸæœ›ä¸­çš„ç§¯åˆ†ï¼Œå¯èƒ½æ— æ³•è®¡ç®—</li></ol><h2 id="SGVI"><a href="#SGVI" class="headerlink" title="SGVI"></a>SGVI</h2><p>ä» $Z$ åˆ° $X$ çš„è¿‡ç¨‹å«åšç”Ÿæˆè¿‡ç¨‹æˆ–è¯‘ç ï¼Œåè¿‡æ¥çš„é¢è¿‡ç¨‹å«æ¨æ–­è¿‡ç¨‹æˆ–ç¼–ç è¿‡ç¨‹ï¼ŒåŸºäºå¹³å‡åœºçš„å˜åˆ†æ¨æ–­å¯ä»¥å¯¼å‡ºåæ ‡ä¸Šå‡çš„ç®—æ³•ï¼Œä½†æ˜¯è¿™ä¸ªå‡è®¾åœ¨ä¸€äº›æƒ…å†µä¸‹å‡è®¾å¤ªå¼ºï¼ŒåŒæ—¶ç§¯åˆ†ä¹Ÿä¸ä¸€å®šèƒ½ç®—ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä¼˜åŒ–æ–¹æ³•é™¤äº†åæ ‡ä¸Šå‡ï¼Œè¿˜æœ‰æ¢¯åº¦ä¸Šå‡çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡æ¢¯åº¦ä¸Šå‡æ¥å¾—åˆ°å˜åˆ†æ¨æ–­çš„å¦ä¸€ç§ç®—æ³•ã€‚</p><p>æˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°ï¼š<br>$$<br>\hat{q}(Z)&#x3D;\mathop{argmax}<em>{q(Z)}L(q)<br>$$<br>å‡å®š $q(Z)&#x3D;q_\phi(Z)$ï¼Œæ˜¯å’Œ $\phi$ è¿™ä¸ªå‚æ•°ç›¸è¿çš„æ¦‚ç‡åˆ†å¸ƒã€‚äºæ˜¯ $\mathop{argmax}</em>{q(Z)}L(q)&#x3D;\mathop{argmax}<em>{\phi}L(\phi)$ï¼Œå…¶ä¸­ $L(\phi)&#x3D;\mathbb{E}</em>{q_\phi}[\log p_\theta(x^i,z)-\log q_\phi(z)]$ï¼Œè¿™é‡Œ $x^i$ è¡¨ç¤ºç¬¬ $i$ ä¸ªæ ·æœ¬ã€‚<br>$$<br>\begin{align}\nabla_\phi L(\phi)&amp;&#x3D;\nabla_\phi\mathbb{E}<em>{q_\phi}[\log p_\theta(x^i,z)-\log q_\phi(z)]\nonumber\<br>&amp;&#x3D;\nabla_\phi\int q_\phi(z)[\log p_\theta(x^i,z)-\log q_\phi(z)]dz\nonumber\<br>&amp;&#x3D;\int\nabla_\phi q_\phi(z)[\log p_\theta(x^i,z)-\log q_\phi(z)]dz+\int q_\phi(z)\nabla_\phi [\log p_\theta(x^i,z)-\log q_\phi(z)]dz\nonumber\<br>&amp;&#x3D;\int\nabla_\phi q_\phi(z)[\log p_\theta(x^i,z)-\log q_\phi(z)]dz-\int q_\phi(z)\nabla_\phi \log q_\phi(z)dz\nonumber\<br>&amp;&#x3D;\int\nabla_\phi q_\phi(z)[\log p_\theta(x^i,z)-\log q_\phi(z)]dz-\int \nabla_\phi q_\phi(z)dz\nonumber\<br>&amp;&#x3D;\int\nabla_\phi q_\phi(z)[\log p_\theta(x^i,z)-\log q_\phi(z)]dz\nonumber\<br>&amp;&#x3D;\int q_\phi(\nabla_\phi\log q_\phi)(\log p_\theta(x^i,z)-\log q_\phi(z))dz\nonumber\<br>&amp;&#x3D;\mathbb{E}</em>{q_\phi}[(\nabla_\phi\log q_\phi)(\log p_\theta(x^i,z)-\log q_\phi(z))]<br>\end{align}<br>$$<br>è¿™ä¸ªæœŸæœ›å¯ä»¥é€šè¿‡è’™ç‰¹å¡æ´›é‡‡æ ·æ¥è¿‘ä¼¼ï¼Œä»è€Œå¾—åˆ°æ¢¯åº¦ï¼Œç„¶ååˆ©ç”¨æ¢¯åº¦ä¸Šå‡çš„æ–¹æ³•æ¥å¾—åˆ°å‚æ•°ï¼š<br>$$<br>z^l\sim q_\phi(z)\<br>\mathbb{E}<em>{q_\phi}[(\nabla_\phi\log q_\phi)(\log p_\theta(x^i,z)-\log q_\phi(z))]\sim \frac{1}{L}\sum\limits</em>{l&#x3D;1}^L(\nabla_\phi\log q_\phi)(\log p_\theta(x^i,z)-\log q_\phi(z))<br>$$<br>ä½†æ˜¯ç”±äºæ±‚å’Œç¬¦å·ä¸­å­˜åœ¨ä¸€ä¸ªå¯¹æ•°é¡¹ï¼Œäºæ˜¯ç›´æ¥é‡‡æ ·çš„æ–¹å·®å¾ˆå¤§ï¼Œéœ€è¦é‡‡æ ·çš„æ ·æœ¬éå¸¸å¤šã€‚ä¸ºäº†è§£å†³æ–¹å·®å¤ªå¤§çš„é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨ Reparameterization çš„æŠ€å·§ã€‚</p><p>è€ƒè™‘ï¼š<br>$$<br>\nabla_\phi L(\phi)&#x3D;\nabla_\phi\mathbb{E}<em>{q_\phi}[\log p_\theta(x^i,z)-\log q_\phi(z)]<br>$$<br>æˆ‘ä»¬å–ï¼š$z&#x3D;g_\phi(\varepsilon,x^i),\varepsilon\sim p(\varepsilon)$ï¼Œäºæ˜¯å¯¹åéªŒï¼š$z\sim q_\phi(z|x^i)$ï¼Œæœ‰ $|q_\phi(z|x^i)dz|&#x3D;|p(\varepsilon)d\varepsilon|$ã€‚ä»£å…¥ä¸Šé¢çš„æ¢¯åº¦ä¸­ï¼š<br>$$<br>\begin{align}<br>\nabla_\phi L(\phi)&amp;&#x3D;\nabla_\phi\mathbb{E}</em>{q_\phi}[\log p_\theta(x^i,z)-\log q_\phi(z)]\nonumber\<br>&amp;&#x3D;\nabla_\phi L(\phi)&#x3D;\nabla_\phi\int[\log p_\theta(x^i,z)-\log q_\phi(z)]q_\phi dz\nonumber\<br>&amp;&#x3D;\nabla_\phi\int[\log p_\theta(x^i,z)-\log q_\phi(z)]p_\varepsilon d\varepsilon\nonumber\<br>&amp;&#x3D;\mathbb{E}<em>{p(\varepsilon)}[\nabla_\phi[\log p_\theta(x^i,z)-\log q_\phi(z)]]\nonumber\<br>&amp;&#x3D;\mathbb{E}</em>{p(\varepsilon)}[\nabla_z[\log p_\theta(x^i,z)-\log q_\phi(z)]\nabla_\phi z]\nonumber\<br>&amp;&#x3D;\mathbb{E}_{p(\varepsilon)}[\nabla_z[\log p_\theta(x^i,z)-\log q_\phi(z)]\nabla_\phi g_\phi(\varepsilon,x^i)]<br>\end{align}<br>$$<br>å¯¹è¿™ä¸ªå¼å­è¿›è¡Œè’™ç‰¹å¡æ´›é‡‡æ ·ï¼Œç„¶åè®¡ç®—æœŸæœ›ï¼Œå¾—åˆ°æ¢¯åº¦ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”æ¸…åå¤§å­¦æœºå™¨å­¦ä¹ åº“</title>
    <link href="/2022/08/01/Toolkit/%E8%AE%BA%E6%96%87%E4%B8%AD%E6%8F%90%E5%88%B0%E7%9A%84%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BA%93/"/>
    <url>/2022/08/01/Toolkit/%E8%AE%BA%E6%96%87%E4%B8%AD%E6%8F%90%E5%88%B0%E7%9A%84%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="ZhuSuan"><a href="#ZhuSuan" class="headerlink" title="ZhuSuan "></a><a href="https://github.com/thu-ml/zhusuan">ZhuSuan </a></h1><p>æ¸…åå¤§å­¦æœºå™¨å­¦ä¹ </p><p><strong>ZhuSuan</strong>æ˜¯ä¸€ä¸ªç”¨äºè´å¶æ–¯æ·±åº¦å­¦ä¹ çš„ Python æ¦‚ç‡ç¼–ç¨‹åº“ï¼Œå®ƒç»“åˆäº†è´å¶æ–¯æ–¹æ³•å’Œæ·±åº¦å­¦ä¹ çš„äº’è¡¥ä¼˜åŠ¿ã€‚ZhuSuan å»ºç«‹åœ¨ <a href="https://www.tensorflow.org/">TensorFlow</a>ä¹‹ä¸Šã€‚ä¸ç°æœ‰çš„ä¸»è¦ä¸ºç¡®å®šæ€§ç¥ç»ç½‘ç»œå’Œç›‘ç£ä»»åŠ¡è®¾è®¡çš„æ·±åº¦å­¦ä¹ åº“ä¸åŒï¼ŒZhuSuan æä¾›äº†æ·±åº¦å­¦ä¹ é£æ ¼çš„åŸè¯­å’Œç®—æ³•ï¼Œç”¨äºæ„å»ºæ¦‚ç‡æ¨¡å‹å’Œåº”ç”¨è´å¶æ–¯æ¨ç†ã€‚æ”¯æŒçš„æ¨ç†ç®—æ³•åŒ…æ‹¬ï¼š</p><ul><li>å…·æœ‰å¯ç¼–ç¨‹å˜åˆ†åéªŒã€å„ç§ç›®æ ‡å’Œé«˜çº§æ¢¯åº¦ä¼°è®¡å™¨ï¼ˆSGVBã€REINFORCEã€VIMCO ç­‰ï¼‰çš„<strong>å˜åˆ†æ¨ç† (VI )ã€‚</strong></li><li>ç”¨äºå­¦ä¹ å’Œè¯„ä¼°æ¨¡å‹çš„<strong>é‡è¦æ€§é‡‡æ · (IS) ï¼Œå…·æœ‰å¯ç¼–ç¨‹çš„å»ºè®®ã€‚</strong></li><li>å…·æœ‰å¹³è¡Œé“¾å’Œå¯é€‰è‡ªåŠ¨å‚æ•°è°ƒæ•´çš„<strong>å“ˆå¯†é¡¿è’™ç‰¹å¡ç½— (HMC) ã€‚</strong></li><li>**éšæœºæ¢¯åº¦é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡ç½— (SGMCMC)**ï¼šSGLDã€PSGLDã€SGHMC å’Œ SGNHTã€‚</li></ul><h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><p>We provide examples on traditional hierarchical Bayesian models and recent deep generative models.</p><p>To run the provided examples, you may need extra dependencies to be installed. This can be done by</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> <span class="hljs-string">&quot;.[examples]&quot;</span><br></code></pre></td></tr></table></figure><ul><li>Gaussian: <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/toy_examples/gaussian.py">HMC</a></li><li>Toy 2D Intractable Posterior: <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/toy_examples/toy2d_intractable.py">SGVB</a></li><li>Bayesian Neural Networks: <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/bayesian_neural_nets/bnn_vi.py">SGVB</a>, <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/bayesian_neural_nets/bnn_sgmcmc.py">SGMCMC</a></li><li>Variational Autoencoder (VAE): <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/variational_autoencoders/vae.py">SGVB</a>, <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/variational_autoencoders/iwae.py">IWAE</a></li><li>Convolutional VAE: <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/variational_autoencoders/vae_conv.py">SGVB</a></li><li>Semi-supervised VAE (Kingma, 2014): <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/semi_supervised_vae/vae_ssl.py">SGVB</a>, <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/semi_supervised_vae/vae_ssl_adaptive_is.py">Adaptive IS</a></li><li>Deep Sigmoid Belief Networks <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/sigmoid_belief_nets/sbn_adaptive_is.py">Adaptive IS</a>, <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/sigmoid_belief_nets/sbn_vimco.py">VIMCO</a></li><li>Logistic Normal Topic Model: <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/topic_models/lntm_mcem.py">HMC</a></li><li>Probabilistic Matrix Factorization: <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/probabilistic_matrix_factorization/pmf_hmc.py">HMC</a></li><li>Sparse Variational Gaussian Process: <a href="https://github.com/thu-ml/zhusuan/blob/master/examples/gaussian_process/svgp.py">SGVB</a></li></ul><h1 id="ML-Essentials"><a href="#ML-Essentials" class="headerlink" title="ML-Essentials"></a><a href="https://github.com/haowen-xu/ml-essentials">ML-Essentials</a></h1><p>ä¸€å¥—ç”¨äºæ—¥å¸¸æœºå™¨å­¦ä¹ å®éªŒçš„åŸºæœ¬å·¥å…·åŒ…ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨windowä¸‹è®¾è®¡è‡ªè¿è¡Œè„šæœ¬</title>
    <link href="/2022/08/01/Toolkit/%E8%87%AA%E8%BF%90%E8%A1%8C/"/>
    <url>/2022/08/01/Toolkit/%E8%87%AA%E8%BF%90%E8%A1%8C/</url>
    
    <content type="html"><![CDATA[<p>åœ¨windowä¸‹è®¾è®¡è‡ªè¿è¡Œè„šæœ¬ è·å–åšå®¢è®¿é—®æ•°æ®</p><p>![å±å¹•æˆªå›¾ 2022-01-06 140130](&#x2F;src\å±å¹•æˆªå›¾ 2022-01-06 140130.png)</p><p>![å±å¹•æˆªå›¾ 2022-01-06 140233](&#x2F;src\å±å¹•æˆªå›¾ 2022-01-06 140233.png)</p><p>åœ¨è¿™ä¸ªä½ç½®æ–°å»ºä¸€ä¸ªäº‹ä»¶</p><p>ç¡®å®šå¥½äº‹ä»¶ ç»™äº‹ä»¶èµ‹äºˆä¸€å®šçš„æƒé™ï¼Œè§¦å‘å™¨ä¹Ÿè¦å†™å¥½</p><p>æ‰§è¡Œçš„å‘½ä»¤å°±æ˜¯python.exe GetData.py å¾ˆç®€å• </p><p>æ³¨æ„åœ¨è®¾ç½®é‡Œé¢ä¹Ÿè¦æ‰¾ä¸€æ‰¾å‘½ä»¤ï¿½ä»¤</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”æ•°æ®æ”¶é›†åœ°å€</title>
    <link href="/2022/08/01/Toolkit/%E6%95%B0%E6%8D%AE%E6%94%B6%E9%9B%86%E6%96%B9%E6%B3%95/"/>
    <url>/2022/08/01/Toolkit/%E6%95%B0%E6%8D%AE%E6%94%B6%E9%9B%86%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="01-å…¬å¼€çš„æ•°æ®åº“"><a href="#01-å…¬å¼€çš„æ•°æ®åº“" class="headerlink" title="01 å…¬å¼€çš„æ•°æ®åº“"></a><strong>01 å…¬å¼€çš„æ•°æ®åº“</strong></h1><h2 id="ï¼-kaggle-ï¼"><a href="#ï¼-kaggle-ï¼" class="headerlink" title="ï¼ kaggle ï¼"></a>ï¼ kaggle ï¼</h2><p><a href="https://www.kaggle.com/datasets">https://www.kaggle.com/datasets</a></p><p>è¿™æ˜¯æˆ‘æœ€å–œæ¬¢çš„æ•°æ®é›†ä¹‹ä¸€ï¼Œæ¯ä¸ªæ•°æ®é›†éƒ½å¯¹åº”äºä¸€ä¸ªå°å‹ç¤¾åŒºï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­è®¨è®ºæ•°æ®ã€æŸ¥æ‰¾å…¬å…±ä»£ç ï¼Œæˆ–è€…åœ¨å…¶ä¸­åˆ›å»ºè‡ªå·±çš„é¡¹ç›®ã€‚è¿™é‡ŒåŒ…å«äº†å¤§é‡ä¸åŒç±»å‹ã€ä¸åŒç»“æ„çš„æ•°æ®é›†å†…å®¹ã€‚åŒæ—¶ï¼Œè¿˜å¯ä»¥åœ¨å…¶ä¸­è·å–åˆ°ä¸æ¯ä¸ªæ•°æ®é›†å…³è”çš„èµ„æ–™ï¼Œå…¶ä¸­åŒ…å«äº†è®¸å¤šæ•°æ®ç§‘å­¦å®¶ä»¬æä¾›çš„æ•°æ®é›†åˆ†æç¬”è®°ç­‰ã€‚</p><h2 id="ï¼-UCIï¼"><a href="#ï¼-UCIï¼" class="headerlink" title="ï¼ UCIï¼"></a>ï¼ UCIï¼</h2><p><a href="https://archive.ics.uci.edu/ml/datasets.html">https://archive.ics.uci.edu/ml/datasets.html</a></p><p>è¿™ä¸ªæ•°æ®é›†æ¥è‡ªäºåŠ å·å¤§å­¦ä¿¡æ¯ä¸è®¡ç®—æœºç§‘å­¦å­¦é™¢ï¼Œå…¶ä¸­åŒ…å«äº†100å¤šä¸ªæ•°æ®é›†ã€‚æ ¹æ®æœºå™¨å­¦ä¹ é—®é¢˜çš„ç±»å‹å¯¹æ•°æ®é›†è¿›è¡Œåˆ†ç±»ï¼Œå¯æ‰¾åˆ°å•å˜é‡æˆ–å¤šå˜é‡æ—¶é—´åºåˆ—æ•°æ®é›†ï¼Œä»¥åŠåˆ†ç±»ã€å›å½’æˆ–æ¨èç³»ç»Ÿçš„æ•°æ®é›†ã€‚</p><h2 id="ï¼-å¾®è½¯æ•°æ®é›†ï¼"><a href="#ï¼-å¾®è½¯æ•°æ®é›†ï¼" class="headerlink" title="ï¼ å¾®è½¯æ•°æ®é›†ï¼"></a>ï¼ å¾®è½¯æ•°æ®é›†ï¼</h2><p><a href="https://msropendata.com/">https://msropendata.com/</a></p><p>å®ƒåŒ…å«äº†äº‘æœåŠ¡å™¨ä¸­çš„æ•°æ®å­˜å‚¨åº“ï¼Œè‡´åŠ›äºä¿ƒè¿›å…¨çƒç ”ç©¶ç¤¾åŒºçš„åä½œï¼Œå¹¶åœ¨å…¶ä¸­æä¾›äº†ä¸€ç³»åˆ—ç”¨äºå·²å‘è¡¨ç ”ç©¶çš„æ•°æ®é›†å†…å®¹ã€‚</p><h2 id="ï¼-å›½å®¶æ•°æ®-ï¼"><a href="#ï¼-å›½å®¶æ•°æ®-ï¼" class="headerlink" title="ï¼ å›½å®¶æ•°æ® ï¼"></a>ï¼ å›½å®¶æ•°æ® ï¼</h2><p><a href="http://data.stats.gov.cn/index.htm">http://data.stats.gov.cn/index.htm</a></p><p>æ•°æ®æ¥æºäºä¸­å›½å›½å®¶ç»Ÿè®¡å±€ï¼ŒåŒ…å«äº†æˆ‘å›½ç»æµæ°‘ç”Ÿç­‰å¤šä¸ªæ–¹é¢çš„æ•°æ®ï¼Œå¹¶ä¸”åœ¨æœˆåº¦ã€å­£åº¦ã€å¹´åº¦éƒ½æœ‰è¦†ç›–ï¼Œè¾ƒä¸ºå…¨é¢å’Œæƒå¨ï¼Œå¯¹äºç¤¾ä¼šç§‘å­¦çš„ç ”ç©¶ä¸è¦å¤ªæœ‰å¸®åŠ©ã€‚æœ€å…³é”®çš„æ˜¯ï¼Œç½‘ç«™ç®€æ´ç¾è§‚ï¼Œè¿˜æœ‰ä¸“é—¨çš„å¯è§†åŒ–è¯»ç‰©ã€‚</p><h2 id="ï¼-CEIC-ï¼"><a href="#ï¼-CEIC-ï¼" class="headerlink" title="ï¼ CEIC ï¼"></a>ï¼ CEIC ï¼</h2><p><a href="http://www.ceicdata.com/zh-hans">http://www.ceicdata.com/zh-hans</a></p><p>æœ€å®Œæ•´çš„ä¸€å¥—è¶…è¿‡128ä¸ªå›½å®¶çš„ç»æµæ•°æ®ï¼Œèƒ½å¤Ÿç²¾ç¡®æŸ¥æ‰¾GDP, CPI, è¿›å£ï¼Œå‡ºå£ï¼Œå¤–èµ„ç›´æ¥æŠ•èµ„ï¼Œé›¶å”®ï¼Œé”€å”®ï¼Œä»¥åŠå›½é™…åˆ©ç‡ç­‰æ·±åº¦æ•°æ®ã€‚å…¶ä¸­çš„â€œä¸­å›½ç»æµæ•°æ®åº“â€æ”¶ç¼–äº†300,000å¤šæ¡æ—¶é—´åºåˆ—æ•°æ®ï¼Œæ•°æ®å†…å®¹æ¶µç›–å®è§‚ç»æµæ•°æ®ã€è¡Œä¸šç»æµæ•°æ®å’Œåœ°åŒºç»æµæ•°æ®ã€‚</p><h2 id="ï¼-windï¼ˆä¸‡å¾—ï¼‰ï¼"><a href="#ï¼-windï¼ˆä¸‡å¾—ï¼‰ï¼" class="headerlink" title="ï¼ windï¼ˆä¸‡å¾—ï¼‰ï¼"></a>ï¼ windï¼ˆä¸‡å¾—ï¼‰ï¼</h2><p><a href="http://www.wind.com.cn/">http://www.wind.com.cn/</a></p><p>ä¸‡å¾—è¢«èª‰ä¸ºä¸­å›½çš„Bloombergï¼Œåœ¨é‡‘èä¸šæœ‰ç€å…¨é¢çš„æ•°æ®è¦†ç›–ï¼Œé‡‘èæ•°æ®çš„ç±»ç›®æ›´æ–°éå¸¸å¿«ï¼Œæ®è¯´å¾ˆå—å›½å†…çš„å•†ä¸šåˆ†æè€…å’ŒæŠ•èµ„äººçš„äº²çã€‚</p><h2 id="ï¼-æœæ•°ç½‘-ï¼"><a href="#ï¼-æœæ•°ç½‘-ï¼" class="headerlink" title="ï¼ æœæ•°ç½‘ ï¼"></a>ï¼ æœæ•°ç½‘ ï¼</h2><p><a href="http://www.soshoo.com/">http://www.soshoo.com/</a></p><p>å·²åŠ è½½åˆ°æœæ•°ç½‘ç«™çš„ç»Ÿè®¡èµ„æ–™è¾¾åˆ°7,874æœ¬,æ¶µç›–1,761,009å¼ ç»Ÿè®¡è¡¨æ ¼å’Œ364,580,479ä¸ªç»Ÿè®¡æ•°æ®ï¼Œæ±‡é›†äº†ä¸­å›½èµ„è®¯è¡Œè‡ª92å¹´ä»¥æ¥æ”¶é›†çš„æ‰€æœ‰ç»Ÿè®¡å’Œè°ƒæŸ¥æ•°æ®ï¼Œå¹¶æä¾›å¤šæ ·åŒ–çš„æœç´¢åŠŸèƒ½ã€‚</p><h2 id="ï¼-ä¸­å›½ç»Ÿè®¡ä¿¡æ¯ç½‘-ï¼"><a href="#ï¼-ä¸­å›½ç»Ÿè®¡ä¿¡æ¯ç½‘-ï¼" class="headerlink" title="ï¼ ä¸­å›½ç»Ÿè®¡ä¿¡æ¯ç½‘ ï¼"></a>ï¼ ä¸­å›½ç»Ÿè®¡ä¿¡æ¯ç½‘ ï¼</h2><p><a href="http://www.tjcn.org/">http://www.tjcn.org/</a></p><p>å›½å®¶ç»Ÿè®¡å±€çš„å®˜æ–¹ç½‘ç«™ï¼Œæ±‡é›†äº†æµ·é‡çš„å…¨å›½å„çº§æ”¿åºœå„å¹´åº¦çš„å›½æ°‘ç»æµå’Œç¤¾ä¼šå‘å±•ç»Ÿè®¡ä¿¡æ¯ï¼Œå»ºç«‹äº†ä»¥ç»Ÿè®¡å…¬æŠ¥ä¸ºä¸»ï¼Œç»Ÿè®¡å¹´é‰´ã€é˜¶æ®µå‘å±•æ•°æ®ã€ç»Ÿè®¡åˆ†æã€ç»æµæ–°é—»ã€ä¸»è¦ç»Ÿè®¡æŒ‡æ ‡æ’è¡Œç­‰ã€‚</p><h2 id="ï¼-äºšé©¬é€Šaws-ï¼"><a href="#ï¼-äºšé©¬é€Šaws-ï¼" class="headerlink" title="ï¼ äºšé©¬é€Šaws ï¼"></a>ï¼ äºšé©¬é€Šaws ï¼</h2><p><a href="http://aws.amazon.com/cn/datasets/?nc1=h_ls">http://aws.amazon.com/cn/datasets/?nc1=h_ls</a>   &#x2F;       <a href="https://registry.opendata.aws/">https://registry.opendata.aws/</a></p><p>æ¥è‡ªäºšé©¬é€Šçš„è·¨ç§‘å­¦äº‘æ•°æ®å¹³å°ï¼ŒåŒ…å«åŒ–å­¦ã€ç”Ÿç‰©ã€ç»æµç­‰å¤šä¸ªé¢†åŸŸçš„æ•°æ®é›†ã€‚</p><h2 id="ï¼-figshare-ï¼"><a href="#ï¼-figshare-ï¼" class="headerlink" title="ï¼ figshare ï¼"></a>ï¼ figshare ï¼</h2><p><a href="https://figshare.com/">https://figshare.com/</a></p><p>ç ”ç©¶æˆæœå…±äº«å¹³å°ï¼Œåœ¨è¿™é‡Œä½ ä¼šå‘ç°æ¥è‡ªä¸–ç•Œçš„å¤§ç‰›ä»¬çš„ç ”ç©¶æˆæœåˆ†äº«ï¼ŒåŒæ—¶getå…¶ä¸­çš„ç ”ç©¶æ•°æ®ï¼Œå†…å®¹å¾ˆæœ‰å¯å‘æ€§ï¼Œç½‘ç«™é¢‡å…·è®¾è®¡æ„Ÿã€‚</p><h2 id="ï¼-Visual-Dataï¼"><a href="#ï¼-Visual-Dataï¼" class="headerlink" title="ï¼ Visual Dataï¼"></a>ï¼ Visual Dataï¼</h2><p><a href="https://www.visualdata.io/">https://www.visualdata.io/</a></p><p>è§†è§‰æ•°æ®åŒ…å«äº†ä¸€äº›ç”¨äºæ„å»ºè®¡ç®—æœºè§†è§‰æ¨¡å‹çš„ä¼˜ç§€æ•°æ®é›†ï¼Œç”¨æˆ·å¯é€šè¿‡æŸä¸ªCVä¸»é¢˜æŸ¥è¯¢ï¼Œä¾‹å¦‚è¯­ä¹‰åˆ†å‰²ã€å›¾åƒæ ‡é¢˜ã€å›¾åƒç”Ÿæˆã€è‡ªåŠ¨é©¾é©¶æ±½è½¦ç­‰å†…å®¹ã€‚</p><h2 id="ï¼-github-ï¼"><a href="#ï¼-github-ï¼" class="headerlink" title="ï¼ github ï¼"></a>ï¼ github ï¼</h2><p><a href="https://github.com/caesar0301/awesome-public-datasets">https://github.com/caesar0301/awesome-public-datasets</a></p><p><a href="https://github.com/awesomedata/awesome-public-datasets">https://github.com/awesomedata/awesome-public-datasets</a></p><p>å¦‚æœè§‰å¾—å‰é¢çš„æ•°æ®æºè¿˜ä¸å¤Ÿï¼Œgithubä¸Šçš„å¤§ç¥å·²ç»ä¸ºå¤§å®¶æ•´ç†å¥½äº†ä¸€ä¸ªéå¸¸å…¨é¢çš„æ•°æ®è·å–æ¸ é“ï¼ŒåŒ…å«å„ä¸ªç»†åˆ†é¢†åŸŸçš„æ•°æ®åº“èµ„æºï¼Œè‡ªç„¶ç§‘å­¦å’Œç¤¾ä¼šç§‘å­¦çš„è¦†ç›–éƒ½å¾ˆå…¨é¢ï¼Œç®€ç›´æ˜¯åšç ”ç©¶å’Œæ•°æ®åˆ†æçš„åˆ©å™¨ã€‚</p><h1 id="02-æ•°æ®äº¤æ˜“å¹³å°"><a href="#02-æ•°æ®äº¤æ˜“å¹³å°" class="headerlink" title="02 æ•°æ®äº¤æ˜“å¹³å°"></a><strong>02 æ•°æ®äº¤æ˜“å¹³å°</strong></h1><h2 id="ï¼-ä¼˜æ˜“æ•°æ®-ï¼"><a href="#ï¼-ä¼˜æ˜“æ•°æ®-ï¼" class="headerlink" title="ï¼ ä¼˜æ˜“æ•°æ® ï¼"></a>ï¼ ä¼˜æ˜“æ•°æ® ï¼</h2><p><a href="http://www.youedata.com/">http://www.youedata.com/</a></p><p>ç”±å›½å®¶ä¿¡æ¯ä¸­å¿ƒå‘èµ·ï¼Œæ‹¥æœ‰å›½å®¶çº§ä¿¡æ¯èµ„æºçš„æ•°æ®å¹³å°ï¼Œå›½å†…é¢†å…ˆçš„æ•°æ®äº¤æ˜“å¹³å°ã€‚å¹³å°æœ‰B2Bã€B2Cä¸¤ç§äº¤æ˜“æ¨¡å¼ï¼ŒåŒ…å«æ”¿åŠ¡ã€ç¤¾ä¼šã€ç¤¾äº¤ã€æ•™è‚²ã€æ¶ˆè´¹ã€äº¤é€šã€èƒ½æºã€é‡‘èã€å¥åº·ç­‰å¤šä¸ªé¢†åŸŸçš„æ•°æ®èµ„æºã€‚</p><h2 id="ï¼-æ•°æ®å ‚-ï¼"><a href="#ï¼-æ•°æ®å ‚-ï¼" class="headerlink" title="ï¼ æ•°æ®å ‚ ï¼"></a>ï¼ æ•°æ®å ‚ ï¼</h2><p><a href="http://www.datatang.com/">http://www.datatang.com/</a></p><p>ä¸“æ³¨äºäº’è”ç½‘ç»¼åˆæ•°æ®äº¤æ˜“ï¼Œæä¾›æ•°æ®äº¤æ˜“ã€å¤„ç†å’Œæ•°æ®APIæœåŠ¡ï¼ŒåŒ…å«è¯­éŸ³è¯†åˆ«ã€åŒ»ç–—å¥åº·ã€äº¤é€šåœ°ç†ã€ç”µå­å•†åŠ¡ã€ç¤¾äº¤ç½‘ç»œã€å›¾åƒè¯†åˆ«ç­‰æ–¹é¢çš„æ•°æ®ã€‚</p><h1 id="03-ç½‘ç»œæŒ‡æ•°"><a href="#03-ç½‘ç»œæŒ‡æ•°" class="headerlink" title="03 ç½‘ç»œæŒ‡æ•°"></a><strong>03 ç½‘ç»œæŒ‡æ•°</strong></h1><h2 id="ï¼-ç™¾åº¦æŒ‡æ•°-ï¼"><a href="#ï¼-ç™¾åº¦æŒ‡æ•°-ï¼" class="headerlink" title="ï¼ ç™¾åº¦æŒ‡æ•° ï¼"></a>ï¼ ç™¾åº¦æŒ‡æ•° ï¼</h2><p><a href="http://index.baidu.com/">http://index.baidu.com/</a></p><p>å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰çš„æŒ‡æ•°æŸ¥è¯¢å¹³å°ï¼Œå¯ä»¥æ ¹æ®æŒ‡æ•°çš„å˜åŒ–æŸ¥çœ‹æŸä¸ªä¸»é¢˜åœ¨å„ä¸ªæ—¶é—´æ®µå—å…³æ³¨çš„æƒ…å†µï¼Œè¿›è¡Œè¶‹åŠ¿åˆ†æã€èˆ†æƒ…é¢„æµ‹æœ‰å¾ˆå¥½çš„æŒ‡å¯¼ä½œç”¨ã€‚é™¤äº†å…³æ³¨è¶‹åŠ¿ä¹‹å¤–ï¼Œè¿˜æœ‰éœ€æ±‚åˆ†æã€äººç¾¤ç”»åƒç­‰ç²¾å‡†åˆ†æçš„å·¥å…·ï¼Œå¯¹äºå¸‚åœºè°ƒç ”æ¥è¯´å…·æœ‰å¾ˆå¥½çš„å‚è€ƒæ„ä¹‰ã€‚åŒæ ·çš„å¦å¤–ä¸¤ä¸ªæœç´¢å¼•æ“æœç‹—ã€360ä¹Ÿæœ‰ç±»ä¼¼çš„äº§å“ï¼Œéƒ½å¯ä»¥ä½œä¸ºå‚è€ƒã€‚</p><h2 id="ï¼-é˜¿é‡ŒæŒ‡æ•°-ï¼"><a href="#ï¼-é˜¿é‡ŒæŒ‡æ•°-ï¼" class="headerlink" title="ï¼ é˜¿é‡ŒæŒ‡æ•° ï¼"></a>ï¼ é˜¿é‡ŒæŒ‡æ•° ï¼</h2><p><a href="https://alizs.taobao.com/">https://alizs.taobao.com/</a></p><p>å›½å†…æƒå¨çš„å•†å“äº¤æ˜“åˆ†æå·¥å…·ï¼Œå¯ä»¥æŒ‰åœ°åŸŸã€æŒ‰è¡Œä¸šæŸ¥çœ‹å•†å“æœç´¢å’Œäº¤æ˜“æ•°æ®ï¼ŒåŸºäºæ·˜å®ã€å¤©çŒ«å’Œ1688å¹³å°çš„äº¤æ˜“æ•°æ®åŸºæœ¬èƒ½å¤Ÿçœ‹å‡ºå›½å†…å•†å“äº¤æ˜“çš„æ¦‚å†µï¼Œå¯¹äºè¶‹åŠ¿åˆ†æã€è¡Œä¸šè§‚å¯Ÿæ„ä¹‰ä¸å°ã€‚</p><h2 id="ï¼-è‰¾ç‘å’¨è¯¢-ï¼"><a href="#ï¼-è‰¾ç‘å’¨è¯¢-ï¼" class="headerlink" title="ï¼ è‰¾ç‘å’¨è¯¢ ï¼"></a>ï¼ è‰¾ç‘å’¨è¯¢ ï¼</h2><p><a href="http://www.iresearch.com.cn/">http://www.iresearch.com.cn/</a></p><p>è‰¾ç‘ä½œä¸ºè€ç‰Œçš„äº’è”ç½‘ç ”ç©¶æœºæ„ï¼Œåœ¨æ•°æ®çš„æ²‰æ·€å’Œæ•°æ®åˆ†æä¸Šéƒ½æœ‰å¾—å¤©ç‹¬åšçš„ä¼˜åŠ¿ï¼Œåœ¨äº’è”ç½‘çš„è¶‹åŠ¿å’Œè¡Œä¸šå‘å±•æ•°æ®åˆ†æä¸Šé¢æ¯”è¾ƒæƒå¨ï¼Œè‰¾ç‘çš„äº’è”ç½‘åˆ†ææŠ¥å‘Šå¯ä»¥è¯´æ˜¯äº’è”ç½‘ç ”ç©¶çš„å¿…è¯»åˆŠç‰©</p><h2 id="ï¼-å‹ç›ŸæŒ‡æ•°-ï¼"><a href="#ï¼-å‹ç›ŸæŒ‡æ•°-ï¼" class="headerlink" title="ï¼ å‹ç›ŸæŒ‡æ•° ï¼"></a>ï¼ å‹ç›ŸæŒ‡æ•° ï¼</h2><p><a href="http://www.umeng.com/">http://www.umeng.com/</a></p><p>å‹ç›Ÿåœ¨ç§»åŠ¨äº’è”ç½‘åº”ç”¨æ•°æ®ç»Ÿè®¡å’Œåˆ†æå…·æœ‰è¾ƒä¸ºå…¨é¢çš„ç»Ÿè®¡å’Œåˆ†æï¼Œå¯¹äºç ”ç©¶ç§»åŠ¨ç«¯äº§å“ã€åšå¸‚åœºè°ƒç ”ã€ç”¨æˆ·è¡Œä¸ºåˆ†æå¾ˆæœ‰å¸®åŠ©ã€‚é™¤äº†å‹ç›ŸæŒ‡æ•°ï¼Œå‹ç›Ÿçš„äº’è”ç½‘æŠ¥å‘ŠåŒæ ·æ˜¯äº†è§£äº’è”ç½‘è¶‹åŠ¿çš„ä¼˜ç§€è¯»ç‰©ã€‚</p><h2 id="ï¼-çˆ±å¥‡è‰ºæŒ‡æ•°-ï¼"><a href="#ï¼-çˆ±å¥‡è‰ºæŒ‡æ•°-ï¼" class="headerlink" title="ï¼ çˆ±å¥‡è‰ºæŒ‡æ•° ï¼"></a>ï¼ çˆ±å¥‡è‰ºæŒ‡æ•° ï¼</h2><p><a href="http://index.iqiyi.com/">http://index.iqiyi.com/</a></p><p>çˆ±å¥‡è‰ºæŒ‡æ•°æ˜¯ä¸“é—¨é’ˆå¯¹è§†é¢‘çš„æ’­æ”¾è¡Œä¸ºã€è¶‹åŠ¿çš„åˆ†æå¹³å°ï¼Œå¯¹äºäº’è”ç½‘è§†é¢‘çš„æ’­æ”¾æœ‰ç€å…¨é¢çš„ç»Ÿè®¡å’Œåˆ†æï¼Œæ¶‰åŠåˆ°æ’­æ”¾è¶‹åŠ¿ã€æ’­æ”¾è®¾å¤‡ã€ç”¨æˆ·ç”»åƒã€åœ°åŸŸåˆ†å¸ƒã€ç­‰å¤šä¸ªæ–¹é¢ã€‚ç”±äºçˆ±å¥‡è‰ºåºå¤§çš„ç”¨æˆ·åŸºæ•°ï¼Œè¯¥æŒ‡æ•°åŸºæœ¬å¯ä»¥è¯´æ˜å®é™…æƒ…å†µã€‚</p><h2 id="ï¼-çŒ«çœ¼ä¸“ä¸šç‰ˆï¼"><a href="#ï¼-çŒ«çœ¼ä¸“ä¸šç‰ˆï¼" class="headerlink" title="ï¼ çŒ«çœ¼ä¸“ä¸šç‰ˆï¼"></a>ï¼ çŒ«çœ¼ä¸“ä¸šç‰ˆï¼</h2><p><a href="http://piaofang.maoyan.com/">http://piaofang.maoyan.com/</a></p><p>ç”µå½±ç¥¨æˆ¿ç»Ÿè®¡åˆ†æå¹³å°ï¼ŒçŒ«çœ¼ä¸“ä¸šç‰ˆæœ‰å®æ—¶çš„ç¥¨æˆ¿ç»Ÿè®¡ï¼Œå½±ç‰‡çš„æ’ç›˜æƒ…å†µã€ä¸Šåº§ç‡å’Œå½±é™¢æ•°æ®ï¼Œå¯¹äºå½“å‰ç”µå½±çš„åˆ†ææ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p><h1 id="04-ç½‘ç»œé‡‡é›†å™¨"><a href="#04-ç½‘ç»œé‡‡é›†å™¨" class="headerlink" title="04 ç½‘ç»œé‡‡é›†å™¨"></a><strong>04 ç½‘ç»œé‡‡é›†å™¨</strong></h1><p>ç½‘ç»œé‡‡é›†å™¨æ˜¯é€šè¿‡è½¯ä»¶çš„å½¢å¼å®ç°ç®€å•å¿«æ·åœ°é‡‡é›†ç½‘ç»œä¸Šåˆ†æ•£çš„å†…å®¹ï¼Œå…·æœ‰å¾ˆå¥½çš„å†…å®¹æ”¶é›†ä½œç”¨ï¼Œè€Œä¸”ä¸éœ€è¦æŠ€æœ¯æˆæœ¬ï¼Œè¢«å¾ˆå¤šç”¨æˆ·ä½œä¸ºåˆçº§çš„é‡‡é›†å·¥å…·ã€‚</p><h2 id="ï¼-ç«è½¦é‡‡é›†å™¨-ï¼"><a href="#ï¼-ç«è½¦é‡‡é›†å™¨-ï¼" class="headerlink" title="ï¼ ç«è½¦é‡‡é›†å™¨ ï¼"></a>ï¼ ç«è½¦é‡‡é›†å™¨ ï¼</h2><p><a href="http://www.locoy.com/">http://www.locoy.com/</a></p><p>ä¸€æ¬¾ä¸“ä¸šçš„äº’è”ç½‘æ•°æ®æŠ“å–ã€å¤„ç†ã€åˆ†æï¼ŒæŒ–æ˜è½¯ä»¶ï¼Œå¯ä»¥çµæ´»è¿…é€Ÿåœ°æŠ“å–ç½‘é¡µä¸Šæ•£ä¹±åˆ†å¸ƒçš„æ•°æ®ä¿¡æ¯ï¼Œå¹¶é€šè¿‡ä¸€ç³»åˆ—çš„åˆ†æå¤„ç†ï¼Œå‡†ç¡®æŒ–æ˜å‡ºæ‰€éœ€æ•°æ®ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯é‡‡é›†æŸäº›ç½‘ç«™çš„æ–‡å­—ã€å›¾ç‰‡ã€æ•°æ®ç­‰åœ¨çº¿èµ„æºã€‚æ¥å£æ¯”è¾ƒé½å…¨ï¼Œæ”¯æŒçš„æ‰©å±•æ¯”è¾ƒå¥½ç”¨ï¼Œæ‡‚ä»£ç çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨PHPæˆ–C#å¼€å‘ä»»æ„åŠŸèƒ½çš„æ‰©å±•ã€‚</p><h2 id="ï¼-å…«çˆªé±¼-ï¼"><a href="#ï¼-å…«çˆªé±¼-ï¼" class="headerlink" title="ï¼ å…«çˆªé±¼ ï¼"></a>ï¼ å…«çˆªé±¼ ï¼</h2><p><a href="http://www.bazhuayu.com/">http://www.bazhuayu.com/</a></p><p>ç®€å•å®ç”¨çš„é‡‡é›†å™¨ï¼ŒåŠŸèƒ½é½å…¨ï¼Œæ“ä½œç®€å•ï¼Œä¸ç”¨å†™è§„åˆ™ã€‚ç‰¹æœ‰çš„äº‘é‡‡é›†ï¼Œå…³æœºä¹Ÿå¯ä»¥åœ¨äº‘æœåŠ¡å™¨ä¸Šè¿è¡Œé‡‡é›†ä»»åŠ¡ã€‚</p><h2 id="ï¼-é›†æœå®¢-ï¼"><a href="#ï¼-é›†æœå®¢-ï¼" class="headerlink" title="ï¼ é›†æœå®¢ ï¼"></a>ï¼ é›†æœå®¢ ï¼</h2><p><a href="http://www.gooseeker.com/">http://www.gooseeker.com/</a></p><p>ä¸€æ¬¾ç®€å•æ˜“ç”¨çš„ç½‘é¡µä¿¡æ¯æŠ“å–è½¯ä»¶,èƒ½å¤ŸæŠ“å–ç½‘é¡µæ–‡å­—ã€å›¾è¡¨ã€è¶…é“¾æ¥ç­‰å¤šç§ç½‘é¡µå…ƒç´ ï¼Œæä¾›å¥½ç”¨çš„ç½‘é¡µæŠ“å–è½¯ä»¶ã€æ•°æ®æŒ–æ˜æ”»ç•¥ã€è¡Œä¸šèµ„è®¯å’Œå‰æ²¿ç§‘æŠ€ç­‰</p><h1 id="05ç½‘ç»œçˆ¬è™«"><a href="#05ç½‘ç»œçˆ¬è™«" class="headerlink" title="05ç½‘ç»œçˆ¬è™«"></a><strong>05ç½‘ç»œçˆ¬è™«</strong></h1><p>ä½œä¸ºæå®¢ä»¬æœ€å–œæ¬¢çš„æ•°æ®æ”¶é›†æ–¹å¼ï¼Œçˆ¬è™«é«˜åº¦çš„è‡ªç”±æ€§ã€è‡ªä¸»æ€§éƒ½ä½¿å…¶æˆä¸ºæ•°æ®æŒ–æ˜çš„å¿…å¤‡æŠ€èƒ½ï¼Œå½“ç„¶ç²¾é€špythonç­‰è¯­è¨€æ˜¯å¿…è¦å‰æã€‚</p><p>åˆ©ç”¨çˆ¬è™«å¯ä»¥åšå¾ˆå¤šæœ‰æ„æ€çš„äº‹æƒ…ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è·å–ä¸€äº›ä»å…¶å®ƒæ¸ é“è·å–ä¸åˆ°çš„æ•°æ®èµ„æºï¼Œæ›´é‡è¦çš„æ˜¯å¸®ä½ æ‰“å¼€å¯»æ‰¾å’Œæœé›†æ•°æ®çš„æ€è·¯ã€‚</p><h2 id="ï¼-åˆ©ç”¨çˆ¬è™«çˆ¬å–ç½‘ç»œå›¾ç‰‡-ï¼"><a href="#ï¼-åˆ©ç”¨çˆ¬è™«çˆ¬å–ç½‘ç»œå›¾ç‰‡-ï¼" class="headerlink" title="ï¼ åˆ©ç”¨çˆ¬è™«çˆ¬å–ç½‘ç»œå›¾ç‰‡ ï¼"></a>ï¼ åˆ©ç”¨çˆ¬è™«çˆ¬å–ç½‘ç»œå›¾ç‰‡ ï¼</h2><p>çˆ¬å–çš„å›¾åƒç´ æ</p><p>ä½ çœ‹åˆ°æŸä¸ªç½‘ç«™ä¸Šçš„å›¾ç‰‡æ°å¥½æ˜¯ä½ éœ€è¦çš„ï¼Œä½†æ˜¯é‡å¤§å•ä¸ªä¸‹è½½å¤ªéº»çƒ¦ï¼Œé‚£ä¹ˆåˆ©ç”¨çˆ¬è™«ä½ å¯ä»¥å¿«é€Ÿåœ°è¿›è¡ŒæŠ“å–ï¼Œå¹¶å¯ä»¥æ ¹æ®æ ‡ç­¾ã€ç‰¹å¾ã€é¢œè‰²ç­‰ä¿¡æ¯è¿›è¡Œåˆ†ç±»å‚¨å­˜ã€‚ä»æ­¤ä¸ç¼ºè®¾è®¡ç´ æï¼Œä¸ç¼ºç¾å¥³å›¾ç‰‡ï¼Œè¿æ–—å›¾éƒ½å¤šäº†å‡ åˆ†è‡ªä¿¡ã€‚</p><h2 id="ï¼-åˆ©ç”¨çˆ¬è™«çˆ¬å–é«˜è´¨é‡èµ„æº-ï¼"><a href="#ï¼-åˆ©ç”¨çˆ¬è™«çˆ¬å–é«˜è´¨é‡èµ„æº-ï¼" class="headerlink" title="ï¼ åˆ©ç”¨çˆ¬è™«çˆ¬å–é«˜è´¨é‡èµ„æº ï¼"></a>ï¼ åˆ©ç”¨çˆ¬è™«çˆ¬å–é«˜è´¨é‡èµ„æº ï¼</h2><p>çˆ¬å–çš„éŸ³ä¹èµ„æº</p><p>æˆ‘ä»¬æ€»æ˜¯æƒ³å¿«é€Ÿåœ°å»æœé›†é«˜è´¨é‡çš„ç½‘ç»œèµ„æºï¼Œä½†æ˜¯äººå·¥æŸ¥æ‰¾æ¯”å¯¹å®åœ¨å¤ªéº»çƒ¦ï¼Œåˆ©ç”¨çˆ¬è™«ä½ å°±å¯ä»¥è½»æ¾è§£å†³ã€‚æ¯”å¦‚çˆ¬å–çŸ¥ä¹ç‚¹èµæœ€å¤šçš„æ–‡ç« åˆ—è¡¨ï¼Œçˆ¬å–ç½‘æ˜“äº‘éŸ³ä¹è¯„è®ºæœ€å¤šçš„éŸ³ä¹ï¼Œçˆ¬å–è±†ç“£ç½‘é«˜è¯„åˆ†çš„ç”µå½±æˆ–å›¾ä¹¦â€¦â€¦æ€»ä¹‹ï¼Œä½ å¯ä»¥ä»æ­¤æ‹’ç»å¹³åº¸</p><h2 id="ï¼-åˆ©ç”¨çˆ¬è™«è·å–èˆ†æƒ…æ•°æ®-ï¼"><a href="#ï¼-åˆ©ç”¨çˆ¬è™«è·å–èˆ†æƒ…æ•°æ®-ï¼" class="headerlink" title="ï¼ åˆ©ç”¨çˆ¬è™«è·å–èˆ†æƒ…æ•°æ® ï¼"></a>ï¼ åˆ©ç”¨çˆ¬è™«è·å–èˆ†æƒ…æ•°æ® ï¼</h2><p>çˆ¬å–çš„æŸæ‹›è˜ç½‘ç«™èŒä½ä¿¡æ¯</p><p>æ¯”å¦‚ä½ å¯ä»¥æ‰¹é‡çˆ¬å–ç¤¾äº¤å¹³å°çš„æ•°æ®èµ„æºï¼Œå¯ä»¥çˆ¬å–ç½‘ç«™çš„äº¤æ˜“æ•°æ®ï¼Œçˆ¬å–æ‹›è˜ç½‘ç«™çš„èŒä½ä¿¡æ¯ç­‰ï¼Œå¯ä»¥ç”¨äºä¸ªæ€§åŒ–çš„åˆ†æç ”ç©¶ã€‚</p><p>æ€»ä¹‹ï¼Œçˆ¬è™«æ˜¯éå¸¸å¼ºå¤§çš„ï¼Œç”šè‡³æœ‰äººè¯´å¤©ä¸‹æ²¡æœ‰ä¸èƒ½çˆ¬çš„ç½‘ç«™ï¼Œå› è€Œçˆ¬å–æ•°æ®ä¹Ÿæˆä¸ºäº†å¾ˆå¤šæå®¢çš„ä¹è¶£ã€‚å¼€å‘å‡ºé«˜æ•ˆçš„çˆ¬è™«å·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬èŠ‚çœå¾ˆå¤šæ—¶é—´ï¼Œå¯ä»¥å®Œå…¨æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚æ¥è®¢åˆ¶ï¼Œæƒ³æƒ³è¿™ä¸ªä¸–ç•Œå°±å¤ªç¾å¥½ã€‚</p><h1 id="06-å°å·¥å…·"><a href="#06-å°å·¥å…·" class="headerlink" title="06 å°å·¥å…·"></a><strong>06 å°å·¥å…·</strong></h1><h2 id="ï¼-Web-Plot-Digitizer-ï¼"><a href="#ï¼-Web-Plot-Digitizer-ï¼" class="headerlink" title="ï¼ Web Plot Digitizer ï¼"></a>ï¼ Web Plot Digitizer ï¼</h2><p><a href="http://arohatgi.info/WebPlotDigitizer/app/">http://arohatgi.info/WebPlotDigitizer/app/</a></p><p>æ¯”å¦‚æˆ‘ä»¬åœ¨æŸ¥çœ‹æœŸåˆŠæ–‡çŒ®çš„æ—¶å€™çœ‹åˆ°ä¸€å¼ æˆå‹çš„å›¾è¡¨ï¼Œä½†å…¶æœ¬èº«æ•°æ®æ˜¯ç¼ºå¤±çš„ï¼Œä½ æƒ³è·å¾—è¿™ä¸ªå›¾è¡¨çš„ç›¸å…³æ•°æ®æ€ä¹ˆåŠï¼Ÿæœ‰äº†è¿™ä¸ªå°å·¥å…·å°±éå¸¸easyäº†ã€‚ç›´æ¥ä¸Šä¼ æˆ‘ä»¬éœ€è¦è·å¾—æ•°æ®çš„å›¾è¡¨ï¼Œå¦‚ä¸‹ï¼š</p><p>ç„¶åæˆ‘ä»¬å°±ä¼šè·å¾—å¦‚ä¸‹çš„æ•°æ®åé¦ˆï¼Œæ„Ÿè§‰è¿ç­¹å¸·å¹„æœ‰æœ¨æœ‰ï¼Œå¯¹äºä¸€äº›ä¸éœ€è¦ååˆ†ç²¾ç¡®çš„åˆ†æç ”ç©¶è¶³å¤Ÿä½¿ç”¨ã€‚</p><p>å½“ç„¶å¹¶ä¸æ¨èç”¨è¿™ä¸ªä½œä¸ºé‡åŒ–åˆ†æçš„ä¾èµ–ï¼Œå¯¹äºå®šæ€§çš„åˆ†æï¼Œåšpptçº§çš„æ•°æ®ç»Ÿè®¡åˆ†æå°±è¶³å¤Ÿäº†ã€‚</p><h2 id="ï¼-you-get-ï¼"><a href="#ï¼-you-get-ï¼" class="headerlink" title="ï¼ you-get ï¼"></a>ï¼ you-get ï¼</h2><p><a href="https://you-get.org/">https://you-get.org/</a></p><p>è¿™æ˜¯ä¸€ä¸ªç¨‹åºå‘˜åŸºäºpython 3å¼€å‘çš„é¡¹ç›®ï¼Œå·²ç»åœ¨githubä¸Šé¢å¼€æºï¼Œæ”¯æŒ64ä¸ªç½‘ç«™ï¼ŒåŒ…æ‹¬ä¼˜é…·ã€åœŸè±†ã€çˆ±å¥‡è‰ºã€bç«™ã€é…·ç‹—éŸ³ä¹ã€è™¾ç±³â€¦â€¦æ€»ä¹‹ä½ èƒ½æƒ³åˆ°çš„ç½‘ç«™éƒ½æœ‰! è¿˜æœ‰ä¸€ä¸ªé»‘ç§‘æŠ€çš„åœ°æ–¹ï¼Œå³ä½¿æ˜¯åå•ä¸Šæ²¡æœ‰çš„ç½‘ç«™ï¼Œå½“ä½ è¾“å…¥é“¾æ¥ï¼Œç¨‹åºä¹Ÿä¼šçŒœæµ‹ä½ æƒ³è¦ä¸‹è½½ä»€ä¹ˆï¼Œç„¶åå¸®ä½ ä¸‹è½½ã€‚</p><p>ä¸‹è½½ä¼˜é…·è§†é¢‘</p><p>æ‰¹é‡ä¸‹è½½å›¾ç‰‡<br>å½“ç„¶you-getè¦åœ¨python3ç¯å¢ƒä¸‹è¿›è¡Œå®‰è£…ï¼Œç”¨pipå®‰è£…å¥½åï¼Œåœ¨ç»ˆç«¯è¾“å…¥â€œyou getï¼‹ä½ æƒ³ä¸‹è½½èµ„æºçš„é“¾æ¥â€å°±å¯ä»¥ç­‰ç€æ”¶è—èµ„æºäº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”åšå®¢è¿è¡Œå‘½ä»¤åŠå‡ºç°çš„é—®é¢˜</title>
    <link href="/2022/08/01/Toolkit/%E5%8D%9A%E5%AE%A2%E8%BF%90%E8%A1%8C%20%E5%8F%8A%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"/>
    <url>/2022/08/01/Toolkit/%E5%8D%9A%E5%AE%A2%E8%BF%90%E8%A1%8C%20%E5%8F%8A%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="github-hexo"><a href="#github-hexo" class="headerlink" title="github +  hexo"></a>github +  hexo</h1><p><code>hexo init </code> åˆå§‹åŒ–</p><p><code>npm install</code> å®‰è£…ä¸€äº›å¿…è¦çš„ä¸œè¥¿ </p><p><code>hexo clean</code>æ¸…é™¤äº†ä½ ä¹‹å‰ç”Ÿæˆçš„ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥ä¸åŠ ã€‚<br><code>hexo generate</code> é¡¾åæ€ä¹‰ï¼Œç”Ÿæˆé™æ€æ–‡ç« ï¼Œå¯ä»¥ç”¨ <code>hexo g</code>ç¼©å†™<br><code>hexo deploy</code> éƒ¨ç½²æ–‡ç« ï¼Œå¯ä»¥ç”¨<code>hexo d</code>ç¼©å†™</p><p><code>hexo server </code> æœ¬åœ°æŸ¥çœ‹</p><h1 id="pandoc-exited-with-code-9-pandoc-Unknown-extension-smart"><a href="#pandoc-exited-with-code-9-pandoc-Unknown-extension-smart" class="headerlink" title="pandoc exited with code 9: pandoc: Unknown extension: smart"></a>pandoc exited with code 9: pandoc: Unknown extension: smart</h1><p>è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯, ç”±äºéœ€è¦è®©Hexoæ”¯æŒæ•°å­¦å…¬å¼æ¸²æŸ“, æ‰€ä»¥æˆ‘åœ¨æœ¬åœ°ä½¿ç”¨hexo-renderer-pandocæ›¿æ¢äº†hexoé»˜è®¤çš„markdownæ¸²æŸ“å¼•æ“.</p><p>å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯, pandocä»2.0ç‰ˆæœ¬ä¹‹å, å–æ¶ˆäº†smartè¿™ä¸ªæ‰©å±•, è¯´ç™½äº†ä¹Ÿå°±æ˜¯gitlab-ciä¸­å®‰è£…çš„pandocç‰ˆæœ¬å¤ªä½. äºæ˜¯æˆ‘ä»¬åªè¦æ›´æ¢ä¸€ä¸ª2.0ç‰ˆæœ¬ä»¥ä¸Šçš„pandocå³å¯è§£å†³.</p><p>pandocæ˜¯åœ¨anaconda3å†…è‡ªå¸¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å‡çº§ä¸€ä¸‹condaå†…çš„è¿™ä¸ªåŒ…å°±å¯ä»¥äº†</p><p><code>conda update pandoc</code></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”åšå®¢è¯„è®ºå·¥å…· WalineåŠç”¨æˆ·å¤´åƒä¿®æ”¹</title>
    <link href="/2022/08/01/Toolkit/%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BAwaline/"/>
    <url>/2022/08/01/Toolkit/%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BAwaline/</url>
    
    <content type="html"><![CDATA[<h1 id="åšå®¢ç›¸å…³"><a href="#åšå®¢ç›¸å…³" class="headerlink" title="åšå®¢ç›¸å…³"></a>åšå®¢ç›¸å…³</h1><p> æˆ‘è¿™é‡Œä½¿ç”¨çš„åšå®¢å…¶å®æ˜¯Hexo+Fluid æ­å»ºçš„ã€‚ä¸Šæ‰‹æ¯”è¾ƒç®€å•ï¼Œç”¨æˆ·æ‰‹å†Œåœ¨<a href="https://hexo.fluid-dev.com/docs/guide/">è¿™é‡Œ</a></p><p>ä»–å¯ä»¥å¯¹æœ¬åœ°çš„markdownæ–‡ä»¶è¿›è¡Œä¸€ä¸ªé¡µé¢åŒ–ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåšå®¢ã€‚</p><p> å…³äºè¯„è®ºæ˜¾ç¤ºè¿™ä¸ªå·¥å…·å…¶å®æˆ‘ä¸€å¼€ä½¿ç”¨çš„æ˜¯cusdisï¼Œè¿™ä¸ªæ¯”è¾ƒéº»çƒ¦åœ¨å“ªå‘¢ï¼Œå°±æ˜¯éœ€è¦æ‰‹åŠ¨çš„åˆ¤æ–­commentï¼Œç„¶åè®©ä»–æ˜¾ç¤ºåœ¨ç½‘é¡µä¸Šï¼Œæ˜¾å¾—æ¯”è¾ƒå‚»ç“œï¼Œè€Œä¸”äº¤äº’æ€§å¤ªå°‘äº†</p><p>æ‰€ä»¥è¿™é‡Œæˆ‘æ”¹ç”¨äº†Walineã€‚</p><p>å…¶å®åœ¨Hexo+Fluid æ¡†æ¶ä½¿ç”¨å„ä¸ªè¯„è®ºå·¥å…·æ˜¯æ¯”è¾ƒå‹å¥½çš„ã€‚æˆ‘åªéœ€è¦ å¼€å¯è¯„è®ºéœ€è¦åœ¨<strong>ä¸»é¢˜é…ç½®</strong>ä¸­å¼€å¯å¹¶æŒ‡å®šè¯„è®ºæ¨¡å—ï¼Œç„¶ååœ¨ä¸‹æ–¹è¿˜è¦è®¾ç½®å¯¹åº”è¯„è®ºæ¨¡å—çš„å‚æ•°å°±æ˜¯å¯ä»¥å®ç°æ•´ä¸ªåŠŸèƒ½æ¯”è¾ƒæ–¹ä¾¿ã€‚</p><p>å…¶å®Walineè¿™é‡Œæœ€ä¸»è¦çš„è¿˜æ˜¯ä¸€ä¸ªå…³äºserverURLçš„è·å–ï¼Œè·å–çš„å…·ä½“çš„æµç¨‹å…¶å®åœ¨Walineçš„<a href="https://waline.js.org/guide/get-started.html">å¿«é€Ÿä¸Šæ‰‹æ‰‹å†Œ</a>ä¸­ä¹Ÿæœ‰ä½“ç°.</p><p>è¿™é‡Œä¸»è¦æƒ³è®°å½•çš„æ˜¯å…³äºwalineè¿™ä¸ªè¯„è®ºå¤´åƒçš„ä¿®æ”¹(ä¸€å¼€å§‹çš„å›¾åƒ çœŸçš„æ˜¯éš¾å—)</p><h1 id="ç”¨æˆ·å¤´åƒ"><a href="#ç”¨æˆ·å¤´åƒ" class="headerlink" title="ç”¨æˆ·å¤´åƒ"></a>ç”¨æˆ·å¤´åƒ</h1><p>æˆ‘ä»¬åœ¨å¾ˆå¤šåšå®¢æˆ–è€…ç½‘ç«™ç•™è¨€ï¼Œè¯„è®ºçš„æ—¶å€™ä¼šçœ‹åˆ°æœ‰çš„äººå¤´åƒå¾ˆé…·å¾ˆä¸ªæ€§åŒ–ï¼Œä½†æ˜¯è¿™ä¸ªåšå®¢å’Œç½‘ç«™æœ¬èº«å¹¶æ²¡æœ‰æä¾›è®¾ç½®å¤´åƒçš„åŠŸèƒ½ï¼Œæ„Ÿè§‰æœ‰ç‚¹ç¥å¥‡ï¼Œé‚£ä¹ˆæ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿå…¶å®è¿™æ˜¯ä½¿ç”¨äº†Gravatarã€‚</p><p>ã€€ã€€Gravataræ˜¯Globally Recognized Avatarçš„ç¼©å†™ï¼Œæ˜¯gravataræ¨å‡ºçš„ä¸€é¡¹æœåŠ¡ï¼Œæ„ä¸ºâ€œå…¨çƒé€šç”¨å¤´åƒâ€ã€‚å¦‚æœåœ¨Gravatarçš„æœåŠ¡å™¨ä¸Šæ”¾ç½®äº†ä½ è‡ªå·±çš„å¤´åƒï¼Œé‚£ä¹ˆåœ¨ä»»ä½•æ”¯æŒ Gravatarçš„blogæˆ–è€…ç•™è¨€æœ¬ä¸Šç•™è¨€æ—¶ï¼Œåªè¦æä¾›ä½ ä¸è¿™ä¸ªå¤´åƒå…³è”çš„emailåœ°å€ï¼Œå°±èƒ½å¤Ÿæ˜¾ç¤ºå‡ºä½ çš„Gravatarå¤´åƒæ¥ã€‚Gravatarçš„å®˜ç½‘åœ°å€åœ¨<a href="http://en.gravatar.com/">è¿™é‡Œ</a></p><p>ç„¶åæ³¨æ„è¿™é‡Œä½¿ç”¨çš„è´¦æˆ·ç«Ÿç„¶æ˜¯wordpress(emmm æ•æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šè¿™æ ·) ç™»é™†ä»¥åå°±å¯ä»¥åœ¨ä¸ªäººä¸»é¡µé‡Œé¢æ·»åŠ ä½ é‚®ç®±ä¸å›¾ç‰‡ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œçš„å›¾ç‰‡å¯ä»¥ä¸Šä¼ å¤šä¸ªï¼Œä½†æ˜¯ä¸€ä¸ªé‚®ç®±åªä¼šæœ‰ä¸€ä¸ªå¤´åƒå“¦</p><p><img src="/src/image-20220717191423839.png" alt="image-20220717191423839"></p><p>å½“ç„¶è¿™ä¸ªå¤´åƒä½ è¿˜å¯ä»¥æ”¾åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ï¼Œä¾‹å¦‚åœ¨Walineçš„è¯„è®ºåå°çš„å›¾åƒè®¾ç½®å•Šï¼Œéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªå›¾ç‰‡çš„åœ°å€ã€‚</p><blockquote><p>walineçš„åå°åœ°å€ï¼Œå…¶å®å°±æ˜¯ä½ çš„serverURLåŠ ä¸Š&#x2F;ui&#x2F; &#x2F; </p></blockquote>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”åˆ é™¤æ— æ•ˆæ–‡ä»¶ã€æ–‡ä»¶å¤¹</title>
    <link href="/2022/08/01/Toolkit/%E5%88%A0%E9%99%A4%E6%97%A0%E6%95%88%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
    <url>/2022/08/01/Toolkit/%E5%88%A0%E9%99%A4%E6%97%A0%E6%95%88%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/</url>
    
    <content type="html"><![CDATA[<h1 id="åˆ é™¤æ— æ•ˆæ–‡ä»¶-æ–‡ä»¶å¤¹"><a href="#åˆ é™¤æ— æ•ˆæ–‡ä»¶-æ–‡ä»¶å¤¹" class="headerlink" title="åˆ é™¤æ— æ•ˆæ–‡ä»¶\æ–‡ä»¶å¤¹"></a>åˆ é™¤æ— æ•ˆæ–‡ä»¶\æ–‡ä»¶å¤¹</h1><p>æœ‰æ—¶å€™ä¼šå‘ç°è‡ªå·±ç”µè„‘çš„æ–‡ä»¶å¤¹ windowæ‰¾ä¸åˆ° æ”¹ä¸åŠ¨ åˆ ä¸äº† </p><p>åˆ›å»ºä¸€ä¸ªtxt æ’å…¥å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">DEL /F /A /Q \\?\%1<br>RD /S /Q \\?\%1<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹æ ¼å¼ä¸ºbat  </p><p>å°†åˆ é™¤ä¸äº†çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ‹–åŠ¨åˆ°è¿™ä¸ªbatä¸Š å³å¯åˆ é™¤</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”Pipçš„å®‰è£…è·¯å¾„ä¿®æ­£</title>
    <link href="/2022/08/01/Toolkit/%E4%BF%AE%E6%94%B9pip%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84/"/>
    <url>/2022/08/01/Toolkit/%E4%BF%AE%E6%94%B9pip%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84/</url>
    
    <content type="html"><![CDATA[<h1 id="æ›´æ”¹winä¸‹python-pipçš„å®‰è£…è·¯å¾„"><a href="#æ›´æ”¹winä¸‹python-pipçš„å®‰è£…è·¯å¾„" class="headerlink" title="æ›´æ”¹winä¸‹python pipçš„å®‰è£…è·¯å¾„"></a>æ›´æ”¹winä¸‹python pipçš„å®‰è£…è·¯å¾„</h1><p><strong>å‰è¨€</strong></p><p>å£°æ˜ï¼špythonç‰ˆæœ¬3.6ï¼Œä»¥ä¸‹è®¨è®ºçš„Pythonä¹Ÿéƒ½æ˜¯é€‚ç”¨äº3.xç‰ˆæœ¬</p><p>åœ¨å®é™…ä½¿ç”¨å®‰è£…pythonçš„pipå®‰è£… ä¾èµ–åº“æ˜¯éå¸¸çš„ä¾¿æ·çš„ã€‚</p><p>è€Œä¸”ä¸€èˆ¬å¤§å®¶ä½¿ç”¨çš„éƒ½æ˜¯å®‰è£…<a href="https://so.csdn.net/so/search?q=Anaconda">Anaconda</a> æ¥å­¦ä¹ å’Œå®è·µpythoné¡¹ç›®ã€‚</p><p>æˆ‘ä»¬é€šå¸¸éƒ½æ˜¯ç›´æ¥å°±æ˜¯ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">pip install ****<br></code></pre></td></tr></table></figure><p>å…¶ä¸­****ä»£è¡¨å°±æ˜¯å®‰è£…çš„ä¾èµ–åº“åæˆ–è€…åŒ…åã€‚</p><p>ä½†æ˜¯ç®€å•çš„èƒŒåå°±æ˜¯ï¼Œæˆ‘ä»¬çš„æœ€é‡è¦çš„ç³»ç»Ÿç›˜Cç›˜éƒ½æ˜¯é€æ¸æ»¡äº†ã€‚æ›´å…³é”®æ˜¯ä½ æ»¡å®Œä¹‹åè¿˜ä¸å¥½å»åˆ é™¤æˆ–è€…å°†ä¸€äº›ä¾èµ–åº“æ”¾åœ¨åˆ«çš„ç›˜çš„è·¯å¾„ä¸‹ï¼Œè¿™å°±æ˜¯ä¸€ä»¶éå¸¸ç³Ÿç³•çš„äº‹æƒ…äº†ã€‚</p><p>æ‰€ä»¥ä»Šå¤©ï¼Œä¸ºäº†æ‹¯æ•‘Cç›˜å¼ºè¿«ç—‡çš„è‡ªå·±ï¼Œæˆ‘æ˜¯å¿…é¡»è¦å¥½å¥½æŠ˜è…¾æŠ˜è…¾ï¼Œå°†pip install å®‰è£…çš„ä¾èµ–åº“å’ŒåŒ…åéƒ½æ˜¯æ”¾åœ¨Anacondaï¼ˆåˆ«çš„ç›˜ä¸­ï¼‰ç›®å½•ä¸‹çš„site-packagesä¸­å»ï¼ˆå…¨éƒ¨å½’åˆ°è¿™ä¸ªç±»ä¸‹ï¼‰ã€‚</p><p><strong>æ€»ä½“æ­¥éª¤</strong></p><p><strong>ç¬¬ä¸€æ­¥</strong>ï¼šå…ˆæŸ¥çœ‹è‡ªå·±çš„é»˜è®¤å®‰è£…è·¯å¾„åˆ°åº•æ˜¯åœ¨å“ªï¼Ÿåˆ—å‡ºå…¨å±€çš„packagesåŒ…çš„å®‰è£…è·¯å¾„åœ¨å“ªï¼Ÿ</p><p>\1. æŒ‰é”®ï¼ˆwin+Rï¼‰ -&gt;æ‰“å¼€cmdå‘½ä»¤çª—å£ã€‚</p><p>2.é”®å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">python -m site<br></code></pre></td></tr></table></figure><p>å¾—åˆ°è¿™æ ·çš„ç»“æœï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html">sys.path = [<br>    &#x27;C:\\Users\\Administrator&#x27;,<br>    &#x27;F:\\Anaconda\\python36.zip&#x27;,<br>    &#x27;F:\\Anaconda\\DLLs&#x27;,<br>    &#x27;F:\\Anaconda\\lib&#x27;,<br>    &#x27;F:\\Anaconda&#x27;,<br>    &#x27;F:\\Anaconda\\lib\\site-packages&#x27;,<br>&#x27;F:\\Anaconda\\lib\\site-packages\\win32&#x27;,<br>&#x27;F:\\Anaconda\\lib\\site-packages\\win32\\lib&#x27;,<br>&#x27;F:\\Anaconda\\lib\\site-packages\\Pythonwin&#x27;]<br><br>USER_BASE: &#x27;C:\\Users\\Administrator\\AppData\\Roaming\\Python&#x27; (exists)<br><br>USER_SITE: &#x27;C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python36\\site-packages&#x27; (exists)<br><br>ENABLE_USER_SITE: True<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰å‡ ç‚¹è¯´æ˜ï¼š</p><p>â‘ æˆ‘ä»¬çœ‹è§è¿™é‡Œçš„USER_BASE å’ŒUSER_SITEå…¶å®å°±æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„å¯ç”¨Pythonè„šæœ¬å’Œä¾èµ–å®‰è£…åŒ…çš„åŸºç¡€è·¯å¾„ã€‚</p><p>â‘¡å…¶ä¸­USER_BASEè¡¨ç¤ºå°±æ˜¯åœ¨Cç›˜è¿™ä¸ªç›®å½•ä¸‹çš„Python.exeå¯åŠ¨ç¨‹åºè·¯å¾„ä»¥åŠpip,esay-install,markdownç­‰è„šæœ¬ï¼Œï¼ˆæˆ‘ä»¬å·²ç»æ˜¯å®‰è£…å¥½äº†Anaconda Pythonï¼Œè¿™ä¸ªCç›˜åˆæ˜¯ä»€ä¹ˆé¬¼ï¼Œä¸æƒ³ç”¨å®ƒå•Šï¼‰ï¼Œè€Œè¿™ä¸ªCç›˜çš„Python.exeå¯åŠ¨ç¨‹åºè·¯å¾„å…¶å®å°±æ˜¯æˆ‘ä»¬åœ¨å®‰è£…Anacondaçš„æ—¶å€™ä¸€ä¸ªåˆ†èº«ï¼Œæ›´å‡†ç¡®çš„è¯´ï¼Œå…¶å®å°±æ˜¯ç®€å•çš„Pythonç¨‹åºï¼Œå¹¶ä¸æ˜¯ä»€ä¹ˆIDEè¿™ç§çº§åˆ«çš„å¯ä»¥ç±»ä¼¼Eclipseè¿™æ ·å»æ“ä½œç¼–è¯‘ä¸°å¯Œçš„åŠŸèƒ½çª—å£ï¼Œåªæ˜¯ç®€å•ç±»ä¼¼shellçš„ä¸€æ ·çš„å­˜åœ¨ã€‚</p><p>æ‰€ä»¥è¦æ”¹ã€‚</p><p>â‘¢å…¶ä¸­çš„USER_SITEå…¶å®å°±æ˜¯ç”¨æˆ·å¦‚æœè°ƒç”¨Cç›˜è·¯å¾„ä¸‹çš„python.exeä¸­çš„è„šæœ¬pipæ–‡ä»¶å»ä¸‹è½½ï¼Œå°±ä¼šå°†site-packageçš„é»˜è®¤å®‰è£…åˆ°è¿™ä¸ªCç›˜è·¯å¾„ä¸‹ã€‚</p><p>å¹¶ä¸”å¤§å®¶æœ‰æ—¶å€™å¯èƒ½åœ¨ä½¿ç”¨ pip install å‘½ä»¤è¡Œå®‰è£…ä¸€äº›ä¾èµ–çš„æ—¶å€™ï¼Œæ€»æ˜¯ä¼šæç¤ºæŠ¥é”™â€œPermissionErrorï¼š[WinError 5 ] Denied Excess.â€Câ€\.â€è¿™æ ·çš„ç±»ä¼¼æƒé™æ‹’ç»è®¿é—®ï¼Œå¹¶ä¸”æç¤ºä½ æ— ç®¡ç†å‘˜æƒé™çš„è¯ï¼Œä½¿ç”¨pip -install . + [user-site] è¿™æ ·çš„å­—çœ¼ã€‚â€</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">python -m site --user-site<br></code></pre></td></tr></table></figure><p>è€Œæˆ‘è‡ªå·±ä¹Ÿæ›¾ç»è¯•éªŒè¿‡äº†ï¼Œå¦‚æœæ˜¯æƒé™é—®é¢˜æ‹’ç»å®‰è£…è®¿é—®çš„è¯ï¼Œå®‰è£…cmdå‘½ä»¤æç¤ºæ¡†ä¸­æç¤ºçš„user-siteä½¿ç”¨æ–¹æ³•ï¼Œå°±èƒ½è§£å†³æƒé™å®‰è£…é—®é¢˜ã€‚</p><p>æ‰€ä»¥ï¼Œuser_siteå…¶å®å°±æ˜¯ä¸ªäººçš„site-packagesé»˜è®¤å®‰è£…è·¯å¾„äº†ã€‚è€Œå¦‚æœä½¿ç”¨çš„æ˜¯Anaconda ç›®å½•ä¸‹çš„Scriptsä¸­çš„pip å®‰è£…ä¾èµ–åº“æˆ–åŒ…ç­‰ï¼Œåˆ™æ˜¯å®‰è£…åœ¨Anacondaè·¯å¾„ä¸‹çš„site-packagesä¸­å»ã€‚</p><p><strong>ç¬¬äºŒæ­¥ï¼š</strong>ç¡®è®¤äº†æ˜¯ä»€ä¹ˆåŸå› ï¼Œé‚£ä¹ˆå°±è¦å»å¯¹åº”çš„é…ç½®æ–‡ä»¶æ”¹äº†ã€‚</p><p>å› ä¸ºå‡ºç°äº†ç±»ä¼¼ä»¥ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html">sys.path = [<br>    &#x27;C:\\Users\\Administrator&#x27;,<br>    &#x27;F:\\Anaconda\\python36.zip&#x27;,<br>    &#x27;F:\\Anaconda\\DLLs&#x27;,<br>    &#x27;F:\\Anaconda\\lib&#x27;,<br>    &#x27;F:\\Anaconda&#x27;,<br>    &#x27;F:\\Anaconda\\lib\\site-packages&#x27;,<br>    &#x27;F:\\Anaconda\\lib\\site-packages\\win32&#x27;,<br>    &#x27;F:\\Anaconda\\lib\\site-packages\\win32\\lib&#x27;,<br>    &#x27;F:\\Anaconda\\lib\\site-packages\\Pythonwin&#x27;]<br><br>USER_BASE: &#x27;C:\\Users\\Administrator\\AppData\\Roaming\\Python&#x27; (exists)<br><br>USER_SITE: &#x27;C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python36\\site-packages&#x27; (exists)<br><br>ENABLE_USER_SITE: True<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆè‚¯å®šæ˜¯æœ‰å¯¹åº”çš„é…ç½®æ–‡ä»¶å»è¯»å–çš„ï¼Œæˆ‘ä»¬å»å¯»æ‰¾ä¿®æ”¹å³å¯ã€‚</p><p>cmdå‘½ä»¤è¡Œçª—å£ä¸‹é”®å…¥ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">python -m site -help<br></code></pre></td></tr></table></figure><p>å°±ä¼šå‡ºç°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html">C:\Users\Administrator&gt;python -m site -help<br><br>F:\Anaconda\lib\site.py [--user-base] [--user-site]<br>Without arguments print some useful information<br>With arguments print the value of USER_BASE and/or USER_SITE separated by &#x27;;&#x27;.<br><br>Exit codes with --user-base or --user-site:<br>  0 - user site directory is enabled<br>  1 - user site directory is disabled by user<br>  2 - uses site directory is disabled by super user<br>      or for security reasons<br> &gt;2 - unknown error<br></code></pre></td></tr></table></figure><p>å¯è§ï¼Œç®¡ç†è¿™ä¸ªæ–‡ä»¶ç«Ÿç„¶å°±æ˜¯Anacondaç›®å½•ä¸‹çš„site.pyæ–‡ä»¶ï¼Œä¹‹å‰è¯´Cç›˜ä¸­çš„Pythonæ˜¯å®ƒçš„åˆ†èº«è¿˜çœŸæ²¡è¯´é”™äº†ã€‚</p><p>æ‰¾åˆ°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">F:\Anaconda\lib\site.py<br></code></pre></td></tr></table></figure><p>ï¼Œä¿®æ”¹å…¶ä¸­çš„å‚æ•°</p><p><img src="/%5Csrc%5C70.png" alt="img"></p><p>å®é™…ä¿®æ”¹è¿™ä¸¤ä¸ªå°±å¥½äº†ã€‚</p><p>æ³¨æ„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">USER_SITE = &quot;F:\Anaconda\lib\site-packages&quot;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯ä½ è¦å®‰è£…ä¸‹è½½çš„site-packagesçš„è·¯å¾„ã€‚</p><p>è€Œæ‰§è¡Œä¸‹è½½çš„pipç­‰è„šæœ¬è·¯å¾„æ˜¯ç”±USER_BASEå†³å®šï¼Œå¹¶ä¸”ä¸€å®šä¸€å®šè¦æ¢åˆ°åŒæ ·çš„æœ‰pipè„šæœ¬çš„è·¯å¾„ä¸‹ï¼Œå“ªæ€•ä½ è·¯å¾„ä¹Ÿè¯·å†™åˆ°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">F:\Anaconda<br></code></pre></td></tr></table></figure><p>å½“ç„¶è¿™é‡Œæœ€å¥½å†™æˆ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">USER_BASE = &quot;F:\Anaconda\Scripts&quot;<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5C70-16460245804101.png" alt="img"></p><p>å¯ä»¥çœ‹è§Scriptså°±æ˜¯è¿™äº›æ‰§è¡Œç¨‹åºå’Œè„šæœ¬ä½ç½®äº†ã€‚</p><p><strong>ç¬¬ä¸‰æ­¥ï¼š</strong>æµ‹è¯•å®‰è£…ï¼Œä¿è¯ä½ ä¿®æ”¹ä¹‹åæˆåŠŸæœ‰æ•ˆã€‚</p><p>æµ‹è¯•é”®å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">pip install numpy<br></code></pre></td></tr></table></figure><p>å‡ºç°ï¼Œåœ¨è¿™ä¸ªè·¯å¾„ä¸‹å…¶å®å·²ç»æ‹¥æœ‰äº†æ»¡è¶³çš„ä¾èµ–åŒ…å’Œåº“äº†ï¼ˆä¹‹å‰å·²ç»å®‰è£…è¿‡äº†ï¼Œä»Šå¤©åªæ˜¯å°†æ­¥éª¤æ€»ç»“ä¸‹ï¼‰ï¼Œæ‰€ä»¥è¯æ˜æ˜¯ä¿®æ”¹æˆåŠŸäº†ã€‚</p><p><img src="/%5Csrc%5C70-16460245804102.png" alt="img">245804102.png)</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”ç½‘ç»œä¸é€šgithubå°è®°</title>
    <link href="/2022/08/01/Toolkit/ping%20%E4%B8%8D%E9%80%9Agithub/"/>
    <url>/2022/08/01/Toolkit/ping%20%E4%B8%8D%E9%80%9Agithub/</url>
    
    <content type="html"><![CDATA[<p>åœ¨è¿›è¡Œæ­å»ºæœ¬åœ° git æ—¶ï¼Œéœ€è¦é€šè¿‡ ssh å»ºç«‹ä¸ github çš„è¿æ¥ï¼Œåœ¨è¿›è¡Œsshè¿æ¥éªŒè¯æ—¶ï¼Œå‡ºç°å¦‚ä¸‹æç¤º</p><p><code>ssh: Could not resolve hostname github.com: Name or service not known</code><br> æ­¤æ—¶å¯¹ç›®æ ‡åœ°å€è¿›è¡Œ ping æ“ä½œå¦‚ä¸‹</p><p><code>ping github.com</code></p><p>å‡ºç°å¦‚ä¸‹é”™è¯¯æç¤º(git bash)</p><p><code>Ping request could not find host github.com. Please check the name and try again.</code></p><p>windowsçš„cmd æˆ‘æ²¡å¤åˆ¶ï¼Œä½†å¤§è‡´æç¤ºæ— æ³•è®¿é—®è¿œç¨‹ä¸»æœºï¼Œè¿æ¥ä¸å¯å»ºç«‹</p><p>è§£å†³æ–¹æ¡ˆï¼š<br>é¦–å…ˆè·å– github.com IP åœ°å€</p><p>IP åœ°å€æŸ¥è¯¢ï¼š <a href="https://ipaddress.com/website/github.com">Click</a></p><p>é€šè¿‡ä¸Šè¿°ç½‘ç«™æŸ¥è¯¢å¾—åˆ° github.com IP åœ°å€å¦‚ä¸‹</p><p>140.82.113.4<br>æ­¤æ—¶ä¿®æ”¹æœ¬åœ° DNS æ–‡ä»¶ C:\Windows\System32\drivers\etc ç›®å½•ä¸‹çš„ hosts æ–‡ä»¶</p><p>ç”±äºè¯¥æ–‡ä»¶åœ¨ C ç›˜ä¸­ï¼Œæ— æ³•ç›´æ¥æ‰“å¼€è¿›è¡Œä¿®æ”¹ï¼Œéœ€è¦ä½¿ç”¨ç®¡ç†å‘˜æƒé™</p><p>æ­¤å¤„æ“ä½œæ–¹å¼ä¸ºï¼Œæœç´¢ è®°äº‹æœ¬ è½¯ä»¶ï¼Œå³é”®ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</p><p>é€šè¿‡å·¦ä¸Šè§’æ–‡ä»¶-&gt;æ‰“å¼€ï¼Œé€‰æ‹©ä¸Šè¿° hosts æ–‡ä»¶æ‰“å¼€ï¼Œåœ¨æ–‡ä»¶å†…å®¹æœ€ä¸‹æ–¹åŠ å…¥ä¸€è¡Œ</p><p><code>140.82.113.4    github.com</code><br>å®Œæˆåä¿å­˜å³å¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”mermaidå›¾å°è®°</title>
    <link href="/2022/08/01/Toolkit/MermaidMethod/"/>
    <url>/2022/08/01/Toolkit/MermaidMethod/</url>
    
    <content type="html"><![CDATA[<h3 id="pieï¼šé¥¼å›¾"><a href="#pieï¼šé¥¼å›¾" class="headerlink" title="pieï¼šé¥¼å›¾"></a>pieï¼šé¥¼å›¾</h3><p>æ ‡é¢˜ä¸‹é¢åˆ†åˆ«æ˜¯åŒºåŸŸåç§°åŠå…¶ç™¾åˆ†æ¯”</p><pre><code class=" mermaid">pie    title Key elements in Product X    &quot;Calcium&quot; : 42.96    &quot;Potassium&quot; : 50.05    &quot;Magnesium&quot; : 10.01    &quot;Iron&quot; :  5</code></pre><h3 id="graph-ï¼šæµç¨‹å›¾"><a href="#graph-ï¼šæµç¨‹å›¾" class="headerlink" title="graph ï¼šæµç¨‹å›¾"></a><code>graph</code> ï¼šæµç¨‹å›¾</h3><p>è¯­æ³•è§£é‡Šï¼š<code>TD</code> è¡¨ç¤ºçš„æ˜¯æ–¹å‘ï¼Œè¿™é‡Œçš„å«ä¹‰æ˜¯ Top-Down ç”±ä¸Šè‡³ä¸‹ã€‚</p><pre><code class=" mermaid">graph TD;    A--&gt;B;    A--&gt;C;    B--&gt;D;</code></pre><h3 id="sequence-Diagram-æ—¶åºå›¾"><a href="#sequence-Diagram-æ—¶åºå›¾" class="headerlink" title="sequence Diagram: æ—¶åºå›¾"></a>sequence Diagram: æ—¶åºå›¾</h3><p>è¯­æ³•è§£é‡Šï¼š<code>-&gt;&gt;</code> ä»£è¡¨å®çº¿ç®­å¤´ï¼Œ<code>--&gt;&gt;</code> åˆ™ä»£è¡¨è™šçº¿ã€‚</p><pre><code class=" mermaid">sequenceDiagram    Alice-&gt;&gt;John: Hello John, how are you?    John--&gt;&gt;Alice: Great!</code></pre><h3 id="state-Diagramï¼šçŠ¶æ€å›¾"><a href="#state-Diagramï¼šçŠ¶æ€å›¾" class="headerlink" title="state Diagramï¼šçŠ¶æ€å›¾"></a><strong>state Diagramï¼šçŠ¶æ€å›¾</strong></h3><p>è¯­æ³•è§£é‡Šï¼š<code>[*]</code> è¡¨ç¤ºå¼€å§‹æˆ–è€…ç»“æŸï¼Œå¦‚æœåœ¨ç®­å¤´å³è¾¹åˆ™è¡¨ç¤ºç»“æŸã€‚</p><pre><code class=" mermaid">stateDiagram    [*] --&gt; s1    s1 --&gt; [*]</code></pre><h3 id="classDiagramï¼šç±»å›¾"><a href="#classDiagramï¼šç±»å›¾" class="headerlink" title="classDiagramï¼šç±»å›¾"></a><strong>classDiagramï¼šç±»å›¾</strong></h3><p>è¯­æ³•è§£é‡Šï¼š<code>&lt;|--</code> è¡¨ç¤ºç»§æ‰¿ï¼Œ<code>+</code> è¡¨ç¤º <code>public</code>ï¼Œ<code>-</code> è¡¨ç¤º <code>private</code>ï¼Œå­¦è¿‡ Java çš„åº”è¯¥éƒ½çŸ¥é“ã€‚</p><pre><code class=" mermaid">classDiagram      Animal &lt;|-- Duck      Animal &lt;|-- Fish      Animal &lt;|-- Zebra      Animal : +int age      Animal : +String gender      Animal: +isMammal()      Animal: +mate()      class Duck&#123;          +String beakColor          +swim()          +quack()      &#125;      class Fish&#123;          -int sizeInFeet          -canEat()      &#125;      class Zebra&#123;          +bool is_wild          +run()      &#125;</code></pre><h3 id="ganttï¼šç”˜ç‰¹å›¾"><a href="#ganttï¼šç”˜ç‰¹å›¾" class="headerlink" title="ganttï¼šç”˜ç‰¹å›¾"></a><strong>ganttï¼šç”˜ç‰¹å›¾</strong></h3><p>ç”˜ç‰¹å›¾ä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºé¡¹ç›®çš„è®¡åˆ’æ’æœŸï¼Œç›®å‰åœ¨å·¥ä½œä¸­ç»å¸¸ä¼šç”¨åˆ°ã€‚</p><p>è¯­æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ˜¯å›¾ç‰‡æ ‡é¢˜ã€æ—¥æœŸæ ¼å¼ã€é¡¹ç›®ã€é¡¹ç›®ç»†åˆ†çš„ä»»åŠ¡ã€‚</p><pre><code class=" mermaid">gantt    title å·¥ä½œè®¡åˆ’    dateFormat  YYYY-MM-DD    section Section    A task           :a1, 2020-01-01, 30d    Another task     :after a1  , 20d    section Another    Task in sec      :2020-01-12  , 12d    another task      : 24d</code></pre><pre><code class=" mermaid">graph LR;    Propagation--&gt;Convolution;    Convolution --&gt; Spectal    Convolution --&gt; Spatial    Spatial --&gt; Basic    Spatial --&gt; Attentional    Spatial --&gt; Framework    Propagation--&gt;Recurrent;    Recurrent --&gt; Convergence    Recurrent --&gt; Gate    Propagation--&gt;Skip    Sampling--&gt;Node;    Sampling--&gt;Layer;    Sampling--&gt;Subgraph;    Pooling--&gt;Direct;    Pooling--&gt;Hierarchical;</code></pre>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”latex æ•°å­¦å…¬å¼å°è®°</title>
    <link href="/2022/08/01/Toolkit/latex%20math/"/>
    <url>/2022/08/01/Toolkit/latex%20math/</url>
    
    <content type="html"><![CDATA[<h1 id="å…³äºå¯¼æ•°-x2F-ç§¯åˆ†éƒ¨åˆ†"><a href="#å…³äºå¯¼æ•°-x2F-ç§¯åˆ†éƒ¨åˆ†" class="headerlink" title="å…³äºå¯¼æ•°&#x2F;ç§¯åˆ†éƒ¨åˆ†"></a>å…³äºå¯¼æ•°&#x2F;ç§¯åˆ†éƒ¨åˆ†</h1><p>$$<br>\partial x \<br>\mathrm{d}x \<br>x^{â€˜}  \quad {y}â€™ \quad fâ€™â€™â€™(x)\<br>\nabla f \<br>\int_{-\infty}^{+\infty}<br>$$</p><h1 id="å…³äºæ°´å¹³çº¿æˆ–è€…ä¸‹åˆ’çº¿éƒ¨åˆ†"><a href="#å…³äºæ°´å¹³çº¿æˆ–è€…ä¸‹åˆ’çº¿éƒ¨åˆ†" class="headerlink" title="å…³äºæ°´å¹³çº¿æˆ–è€…ä¸‹åˆ’çº¿éƒ¨åˆ†"></a>å…³äºæ°´å¹³çº¿æˆ–è€…ä¸‹åˆ’çº¿éƒ¨åˆ†</h1><p>$$<br>\overline{m+n}  \   \underline{m+n}\<br>\underbrace{m+n}_{26} \<br>\hat{x} \  \check{x}\ \dot{x}\  \breve{x}\  \acute{x}\ \ddot{x} \<br>\grave{x}\ \tilde{x}\ \mathring{x}\ \bar{x}\  \vec{x}<br>$$</p><h1 id="å…³äºå˜é‡åç§°éƒ¨åˆ†"><a href="#å…³äºå˜é‡åç§°éƒ¨åˆ†" class="headerlink" title="å…³äºå˜é‡åç§°éƒ¨åˆ†"></a>å…³äºå˜é‡åç§°éƒ¨åˆ†</h1><p>$$<br>\  \alpha  \  \beta  \  \gamma  \   \delta  \  \epsilon\ \eta \ \sigma  \  \mu  \<br>\theta  \ \lambda  \  \rho  \  \phi  \  \varphi  \ \varepsilon \  \psi  \  \omega  \<br>\xi \  \pi \ \tau \ \chi \<br>\Gamma  \  \Omega  \  \Phi  \  \Lambda  \  \Delta  \  \Theta  \  \Psi<br>$$</p><h1 id="å…¶ä»–å¸¸ç”¨å­—ç¬¦"><a href="#å…¶ä»–å¸¸ç”¨å­—ç¬¦" class="headerlink" title="å…¶ä»–å¸¸ç”¨å­—ç¬¦"></a>å…¶ä»–å¸¸ç”¨å­—ç¬¦</h1><p>$$<br>\infty\ \triangle\ \ell\ \emptyset\ \nabla\  \partial\ \forall\ \exists \<br>\neg \ \checkmark\ \Join<br>$$</p><h1 id="å…³ç³»ç¬¦"><a href="#å…³ç³»ç¬¦" class="headerlink" title="å…³ç³»ç¬¦"></a>å…³ç³»ç¬¦</h1><p>$$<br>\le  \  \lt   \  \ge  \  \gt \ \ll\  \gg \<br>\not\le  \  \not\lt   \  \not\ge  \  \not\gt \ \not\ll\  \not\gg \<br>\subset  \  \subseteq  \  \supset  \  \supseteq \<br>&#x3D;  \  \neq  \  \sim  \  \simeq  \  \approx  \  \propto \<br>\mid  \  \parallel  \  \perp  \  \<br>\in  \  \ni \quad \varnothing \<br>\bigcup \quad \bigcap \quad \cup \quad \cap<br>$$</p><h1 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h1><p>$$</p><ul><li>\  -  \  \pm  \  \mp  \   \cdot  \  \dots \<br>\div  \  \times  \  *  \  \<br>\oplus \ \otimes \ \ominus\ \odot \ \oslash\<br>\sum  \  \prod  \  \bigoplus  \  \bigotimes  \  \bigodot  \  \<br>$$</li></ul><h1 id="ç®­å¤´"><a href="#ç®­å¤´" class="headerlink" title="ç®­å¤´"></a>ç®­å¤´</h1><p>$$<br>\gets  \  \to  \  \longleftarrow  \  \longrightarrow \<br>\Leftarrow  \  \Rightarrow  \  \Longleftarrow  \  \Longrightarrow \<br>\Longleftrightarrow   \  \iff<br>$$</p><h1 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h1><p>$$<br>\mathbb{ABC}\<br>\mathit{ABC} \<br>\mathcal{ABC} \<br>\mathrm{ABC} \<br>\mathscr{ABC}<br>$$</p><h1 id="å…¬å¼"><a href="#å…¬å¼" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h1><p>$$<br>f(x)&#x3D;<br>\left{\begin{array}{ll}<br>        {\frac{1}{b-a}} &amp; {\text { if } a \leq x \leq b} \<br>        {0} &amp; {\text { otherwise }}<br>        \end{array}\right.<br>$$</p><p>$$<br>A&#x3D;\left[\begin{array}{cccc}<br>{a_{11}} &amp; {a_{12}} &amp; {\cdots} &amp; {a_{1 n}} \<br>{a_{21}} &amp; {a_{22}} &amp; {\cdots} &amp; {a_{2 n}} \<br>{\vdots} &amp; {\vdots} &amp; {\ddots} &amp; {\vdots} \<br>{a_{m 1}} &amp; {a_{m 2}} &amp; {\cdots} &amp; {a_{m n}}<br>\end{array}\right]<br>$$</p><p>$$<br>\begin{vmatrix}<br>1 &amp; 1 &amp; \ldots &amp; 1 \<br>x_{1} &amp; x_{2} &amp; \ldots &amp; x_{n} \<br>\ldots &amp; \ldots &amp; \ldots &amp; \ldots \<br>x_{1}^{n - 1} &amp; x_{2}^{n 1} &amp; \ldots &amp; x_{n}^{n - 1} \ \end{vmatrix}<br>$$</p><p>$$<br>\begin{pmatrix}<br>A_{11} &amp; A_{12} &amp; \ldots &amp; A_{1n} \<br>A_{21} &amp; A_{22} &amp; \ldots &amp; A_{2n} \<br>\ldots &amp; \ldots &amp; \ldots &amp; \ldots \<br>A_{n1} &amp; A_{n2} &amp; \ldots &amp; A_ \<br>\end{pmatrix}<br>$$</p><p>$$<br>\begin{align}<br>\max_{\theta,\phi}ELBO(q,x;\theta,\phi)&amp;&#x3D;\max_{\theta,\phi}E_{z \sim q(z;\phi)} [ log\frac{p(x|z;\theta)p(z;\theta)}{q(z;\theta)}] \<br>                    &amp;&#x3D;\max_{\theta,\phi}E_{z \sim q(z;\phi)}[ logp(x\vert z;\theta)] - D_{KL}[q(z\vert x;\phi)\vert\vert p(zl\theta)]<br>                    \end{align}<br>$$</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”å…³äºæ€ä¹ˆè¯»è®ºæ–‡</title>
    <link href="/2022/08/01/Toolkit/HowToReadThesis/"/>
    <url>/2022/08/01/Toolkit/HowToReadThesis/</url>
    
    <content type="html"><![CDATA[<h1 id="æ€ä¹ˆå»è¯»ä¸€ç¯‡è®ºæ–‡å‘¢ï¼š"><a href="#æ€ä¹ˆå»è¯»ä¸€ç¯‡è®ºæ–‡å‘¢ï¼š" class="headerlink" title="æ€ä¹ˆå»è¯»ä¸€ç¯‡è®ºæ–‡å‘¢ï¼š"></a>æ€ä¹ˆå»è¯»ä¸€ç¯‡è®ºæ–‡å‘¢ï¼š</h1><p>é¦–å…ˆä½ éœ€è¦äº†è§£ä¸€èˆ¬è®ºæ–‡çš„æ¶æ„ï¼štitle -&gt; abstract -&gt; introduce -&gt; method -&gt; experiment -&gt; conclusion</p><p>éœ€è¦ä¸‰éï¼š</p><ul><li>Pass1ï¼šçœ‹titleã€abstractã€conclusionäº†è§£æ–‡ç« æ˜¯å¦ä½ æ˜¯æ„Ÿå…´è¶£çš„</li><li>Pass2ï¼šçœ‹æ–‡ç« çš„å›¾ã€è¡¨ï¼Œå¼„æ¸…æ¥šæ–‡ç« å¤§è‡´åœ¨åšä»€ä¹ˆ åˆ¤å®šä½ æ˜¯å¦éœ€è¦å»æ·±è¯»è¿™ç¯‡æ–‡ç« </li><li>Pass3ï¼šé€å­—é€å¥çš„ç†è§£è¿™è®ºæ–‡ï¼Œè¦èƒ½è¯¦ç»†çŸ¥é“è®ºæ–‡çš„åŸç†å’Œå®ç°ã€‚åˆ¤æ–­ä»–åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹å¤„ç†äº†ä»€ä¹ˆé—®é¢˜ï¼Œ ç€é‡çœ‹æ¶æ„ï¼Œè¿ç”¨äº†ä»€ä¹ˆæ–¹æ³•ï¼ŒæŸå¤±å‡½æ•°ï¼Œè¾¾åˆ°äº†ä»€ä¹ˆæ•ˆæœã€‚</li></ul><p><strong>ä¼šå‘ç°é—®é¢˜ï¼Œæ˜¯å…·æœ‰ç‹¬ç«‹ç ”ç©¶èƒ½åŠ›çš„æ ‡å¿—</strong></p><h1 id="é—®é¢˜æ€ä¹ˆå‘ç°å‘¢ï¼Ÿ"><a href="#é—®é¢˜æ€ä¹ˆå‘ç°å‘¢ï¼Ÿ" class="headerlink" title="é—®é¢˜æ€ä¹ˆå‘ç°å‘¢ï¼Ÿ"></a>é—®é¢˜æ€ä¹ˆå‘ç°å‘¢ï¼Ÿ</h1><ol><li>å¯¼å¸ˆç»™çš„<ul><li>åªèƒ½è¯´ï¼šä½ å¾ˆå¹¸è¿ï¼ï¼ï¼</li><li>é€Ÿåº¦ï¼ï¼ï¼ï¼ˆæ¯”çš„æ˜¯æ•ˆç‡ï¼‰</li></ul></li><li>è‡ªå·±æ‰¾çš„<ul><li>çœ‹æ–‡çŒ®ï¼Œé¡ºè—¤æ‘¸ç“œ</li><li>é‡è¦ä¼šè®®ã€æœŸåˆŠ</li><li>é‡è¦å¤§å­¦ã€ç ”ç©¶æœºæ„ã€ç ”ç©¶ç»„</li><li>é‡è¦ç ”ç©¶è€…</li></ul></li></ol><h1 id="ç ”ç©¶å¸ƒå±€"><a href="#ç ”ç©¶å¸ƒå±€" class="headerlink" title="ç ”ç©¶å¸ƒå±€"></a>ç ”ç©¶å¸ƒå±€</h1><ul><li>å¯æŒç»­æ€§ã€æœ‰å…¨å±€æ€§<br>ä¸è¦ç›²ç›®è¿½çƒ­ç‚¹ï¼Œä»é•¿è¿œç›®æ ‡è€ƒè™‘</li><li>å¯å‘å±•ã€å‰åä¸€è‡´<br>é’ˆå¯¹é—®é¢˜é€æ­¥å±•å¼€ï¼Œæœ‰ç»§æ‰¿æ€§å’Œå‘å±•æ€§<img src="/src%5Cimage-20220324135233704.png" alt="image-20220324135233704"></li></ul><h2 id="å…³äºæƒ³æ³•è¿™ä¸ªé—®é¢˜ï¼Ÿ"><a href="#å…³äºæƒ³æ³•è¿™ä¸ªé—®é¢˜ï¼Ÿ" class="headerlink" title="å…³äºæƒ³æ³•è¿™ä¸ªé—®é¢˜ï¼Ÿ"></a>å…³äºæƒ³æ³•è¿™ä¸ªé—®é¢˜ï¼Ÿ</h2><p>é è‡ªå·±ï¼Œå¤šè¯»å¤šé¡¹</p><p>é¢å¯¹æ¯ç¯‡æ–‡ç« ï¼Œå¥—ç”¨è¿™ä¸ªä¸‡èƒ½å…¬å¼</p><p><strong>é’ˆå¯¹ä»€ä¹ˆé—®é¢˜ï¼Œæå‡ºäº†ä»€ä¹ˆæ–¹æ³•ï¼Œå®ç°äº†ä»€ä¹ˆæ•ˆæœ</strong></p><h1 id="å…·ä½“å·¥ä½œ"><a href="#å…·ä½“å·¥ä½œ" class="headerlink" title="å…·ä½“å·¥ä½œ"></a>å…·ä½“å·¥ä½œ</h1><p>éªŒè¯æƒ³æ³•çš„è¿‡ç¨‹</p><ul><li>ç†è®º<br>æ•°å­¦è¯æ˜ éœ€è¦æœ‰ä¸€å®šçš„æ•°å­¦åŠŸåº•</li><li>å®éªŒ<br>åˆç†è®¾è®¡å®éªŒ<br>åˆç†å®‰æ’æ—¶é—´<br>åˆ‡è®°é™·å…¥å®éªŒ<br>å–„äºåˆ†æå®éªŒç»“æœ</li></ul><h1 id="æŠ•ç¨¿æµç¨‹"><a href="#æŠ•ç¨¿æµç¨‹" class="headerlink" title="æŠ•ç¨¿æµç¨‹"></a>æŠ•ç¨¿æµç¨‹</h1><p>æœŸåˆŠï¼š</p><ul><li>ç¼–è¾‘éƒ¨&#x2F;ä¸»ç¼–æ”¶åˆ°ç¨¿ä»¶ï¼Œè½¬ç»™åˆé€‚çš„AE</li><li>AEåˆ†é…å·¥ä½œç»™Reviewer</li><li>Reviewerå®¡ç¨¿å®Œæˆï¼ŒAEç»™å‡ºå¤„ç†æ„è§ï¼ˆæ”¹ï¼Œå°æ”¹ï¼Œå¤§æ”¹ï¼Œæ‹’åé‡æŠ•ï¼Œæ‹’ï¼‰</li><li>ä¸»ç¼–å®¡å®š</li></ul><p>ä¼šè®®ï¼š</p><ul><li>PC Member Bidding</li><li>åˆ†é…è®ºæ–‡åˆ°åˆé€‚çš„PC Member</li><li>Rebuttal</li><li>ACç»™å‡ºæ¨èæ„è§</li><li>AC Meetingç»™å‡ºæœ€ç»ˆæ„è§</li></ul><h1 id="è®ºæ–‡æ’°å†™"><a href="#è®ºæ–‡æ’°å†™" class="headerlink" title="è®ºæ–‡æ’°å†™"></a>è®ºæ–‡æ’°å†™</h1><ol><li>æ˜¯å¦ä¸æœŸåˆŠã€ä¼šè®®Topicç›¸å…³</li><li>åˆ›æ–°æ€§</li><li>å®éªŒå……åˆ†ï¼šSOTAï¼Ÿ Ablationï¼Ÿ Visualizationï¼Ÿ</li><li>å†™ä½œ</li></ol><p>ä¸»è¦å†…å®¹ï¼š</p><ul><li>Problem X is important</li><li>Preview works A,B and C have been done</li><li>A, B and C have their weakness</li><li>Your work D</li><li>Theoretic analysis</li><li>Experimental comparison against A,B and C</li><li>Why D is better </li><li>Strength and Weakness of D</li><li>Futrue  work on D</li></ul><p>å…³äºè®ºæ–‡çš„å‡ ç‚¹å»ºè®®</p><ul><li>æ¨¡ä»¿</li><li>è¯»æ–‡çŒ®çš„æ—¶å€™æ³¨æ„æ‘˜å½•</li><li>å¤šæ‰“ç£¨</li><li>æ…¢æ…¢å½¢æˆé€‚åˆè‡ªå·±çš„é£æ ¼</li></ul><p>å¯¹äºä¸€ç¯‡è®ºæ–‡æ¥è¯´ï¼Œå°è±¡åŠ›æˆä¸ºè¯„ä»·å­¦æœ¯å·¥ä½œçš„ä¸€å¤§æ ‡å‡†ï¼Œç”šè‡³è¶Šæ¥è¶Šæˆä¸ºæœ€é‡è¦çš„æ ‡å‡†</p><ul><li>åº”ç”¨æ•°é‡ï¼šè°·æ­Œå¼•ç”¨ã€SCIåº”ç”¨</li><li>åŒè¡Œè¯„ä»·</li><li>ESIé«˜è¢«å¼•è®ºæ–‡</li></ul><p>æ€ä¹ˆæé«˜å½±å“åŠ›</p><p>ç ”ç©¶è¦ä¸“ï¼Œç„å‡†é—®é¢˜ï¼Œå½¢æˆå“ç‰Œ</p><ul><li>é•¿æœŸåšæŒï¼Œç ”ç©¶é—®é¢˜è¦ä¸æ–­æ·±å…¥</li><li>åšé«˜è´¨é‡ç ”ç©¶ï¼šæå‡ºæ–°çš„ç ”ç©¶æ–¹å‘ã€å»ºç«‹æ•°æ®é›†ä¸è¯„æµ‹åŸºå‡†ï¼Œè§£å†³ä¸€ä¸ªé•¿æœŸæ‚¬è€Œæœªç»çš„é—®é¢˜ï¼Œåœ¨å®é™…åº”ç”¨ä¸­å–å¾—å¾ˆå¥½çš„æ•ˆæœ</li></ul><p>å±•ç¤ºç§‘ç ”æˆæœ</p><ul><li>ç§‘ç ”è®ºæ–‡ï¼šæŠ“ä½ä¼šè®®ã€å…¬ä¼—å·ç­‰å¹³å°ä¸Šçš„å®£ä¼ æœºä¼šè¿›è¡Œäº¤æµ</li><li>å­¦æœ¯æŠ¥å‘Šï¼šæ‘˜é€‰è‡ªå·±æœ€äº®ç‚¹çš„å·¥ä½œï¼Œåº”é€‚å½“ä¸å®œå¤ªå¤šï¼ŒåšæŒåœ¨ç§‘ç ”ä¸€çº¿</li><li>è·å¾—åŒè¡Œè®¤å¯çš„é‡è¦æ‰‹æ®µï¼ŒåŒæ—¶èƒ½åæ”¶è·æ”¹è¿›æ„è§</li></ul>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Toolkitâ€”â€”gitç›¸å…³æ“ä½œ</title>
    <link href="/2022/08/01/Toolkit/git%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/"/>
    <url>/2022/08/01/Toolkit/git%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="gitæ‹‰å–ä»£ç "><a href="#gitæ‹‰å–ä»£ç " class="headerlink" title="gitæ‹‰å–ä»£ç "></a>gitæ‹‰å–ä»£ç </h1><p>\1) åˆå§‹åŒ–ï¼š<code>git init</code></p><p>ä¸»è¦ç”¨æ¥åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„<code>git</code>æœ¬åœ°ä»“åº“ã€‚æ‰§è¡Œå®Œä¸Šé¢çš„å‘½ä»¤ï¼Œå½“å‰ç›®å½•ä¸‹ä¼šè‡ªåŠ¨ç”Ÿæˆ<code>.git</code>éšè—æ–‡ä»¶å¤¹ï¼Œè¯¥éšè—æ–‡ä»¶å¤¹å°±æ˜¯<code>git</code>ç‰ˆæœ¬åº“</p><p>\2) å°†æœ¬åœ°ä»“åº“ä¸è¿œç«¯ä»“åº“å»ºç«‹ä¸€ä¸ªé“¾æ¥ï¼Œå¹¶å‘½åè¿œç«¯ä»“åº“ä¸ºorigin</p><p><code>git remote add origin master url</code></p><p>æœ¬åœ°ä»“åº“é»˜è®¤ä¸ºmasteråˆ†æ”¯ï¼Œurlä¸ºæ‹‰å–çš„ä»“åº“åœ°å€</p><p>\3) <code>git pull origin master</code></p><p>æ‹‰å–originè¿œç«¯ä»“åº“åˆ°æœ¬åœ°masteråˆ†æ”¯</p><p>gitæ‹‰å–ä»£ç å®Œæˆï¼Œä¸‹é¢ä»‹ç»å¦‚ä½•ç”¨gitå‘½ä»¤æäº¤ä»£ç </p><h1 id="gitæäº¤ä»£ç "><a href="#gitæäº¤ä»£ç " class="headerlink" title="gitæäº¤ä»£ç "></a>gitæäº¤ä»£ç </h1><p>1ï¼‰ åœ¨giteeå®˜ç½‘æ–°å»ºä»“åº“</p><p>2ï¼‰å¯¹è¯¥ä»“åº“è¿›è¡Œåˆå§‹åŒ–</p><p><img src="/src%5C640-16460247334126.png" alt="å›¾ç‰‡"></p><p>å¾—åˆ°å¦‚ä¸‹å›¾ï¼š</p><p><img src="/src%5C640-16460247334137.png" alt="å›¾ç‰‡"></p><p>3ï¼‰åœ¨æœ¬åœ°æ‹‰å–è¯¥ä»“åº“ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤è¡Œå®ç°ï¼š</p><p><code>git clone url</code> å…¶ä¸­urlä¸ºä»“åº“åœ°å€</p><p>4ï¼‰ åœ¨æœ¬åœ°æ‹‰å–çš„ä»“åº“æ–‡ä»¶å¤¹å†å¤åˆ¶æ‚¨éœ€è¦ä¸Šä¼ çš„ä»£ç </p><p>5ï¼‰ å°†ä¸Šä¼ çš„ä»£ç æ·»åŠ åˆ°æš‚å­˜åŒº <code>git add .</code></p><p>\6) å°†æš‚å­˜åŒºçš„å†…å®¹æ·»åŠ åˆ°æœ¬åœ°ä»“åº“ <code>git commit -m &quot;ç¬¬ä¸€æ¬¡æäº¤&quot;</code></p><p>\7) å°†æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç«¯ä»“åº“<code>git push origin master</code></p><p><strong>æ‹‰å–ä»£ç å’Œæäº¤ä»£ç å¤§è‡´æ˜¯è¿™ä¸ªæ­¥éª¤ï¼Œgitå¯ä»¥åœ¨ç®—æ³•å¼€å‘ä¸­å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚</strong>ï¿½ï¿½**</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Sklearnâ€”â€”StandardScaler</title>
    <link href="/2022/08/01/Python/sklearn%E5%87%BD%E6%95%B0%E5%BA%93/preprocessing/"/>
    <url>/2022/08/01/Python/sklearn%E5%87%BD%E6%95%B0%E5%BA%93/preprocessing/</url>
    
    <content type="html"><![CDATA[<h2 id="StandardScalerç±»æ˜¯ä¸€ä¸ªç”¨æ¥å¯¹æ•°æ®è¿›è¡Œå½’ä¸€åŒ–å’Œæ ‡å‡†åŒ–çš„ç±»ã€‚"><a href="#StandardScalerç±»æ˜¯ä¸€ä¸ªç”¨æ¥å¯¹æ•°æ®è¿›è¡Œå½’ä¸€åŒ–å’Œæ ‡å‡†åŒ–çš„ç±»ã€‚" class="headerlink" title="StandardScalerç±»æ˜¯ä¸€ä¸ªç”¨æ¥å¯¹æ•°æ®è¿›è¡Œå½’ä¸€åŒ–å’Œæ ‡å‡†åŒ–çš„ç±»ã€‚"></a>StandardScalerç±»æ˜¯ä¸€ä¸ªç”¨æ¥å¯¹æ•°æ®è¿›è¡Œå½’ä¸€åŒ–å’Œæ ‡å‡†åŒ–çš„ç±»ã€‚</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">scale_ï¼š ç¼©æ”¾æ¯”ä¾‹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ ‡å‡†å·®</span><br><span class="hljs-string">mean_ï¼š æ¯ä¸ªç‰¹å¾çš„å¹³å‡å€¼</span><br><span class="hljs-string">var_:æ¯ä¸ªç‰¹å¾çš„æ–¹å·®</span><br><span class="hljs-string">n_sample_seen_:æ ·æœ¬æ•°é‡ï¼Œå¯ä»¥é€šè¿‡patial_fit å¢åŠ </span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br>x = np.array(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>ss = StandardScaler()<br>ss.fit(X=x)<br><span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(ss.n_samples_seen_)<br><span class="hljs-built_in">print</span>(ss.mean_)<br><span class="hljs-built_in">print</span>(ss.var_)<br><span class="hljs-built_in">print</span>(ss.scale_)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æ ‡å‡†åŒ–åçš„æ•°æ®:&#x27;</span>)<br>y = ss.fit_transform(x)<br>y<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š<img src="/src/2022-02-22-13-38-06-image.png" alt="2022-02-22-13-38-06-image"></p><h2 id="å…³äºStandardScaler-çš„apiå‡½æ•°"><a href="#å…³äºStandardScaler-çš„apiå‡½æ•°" class="headerlink" title="å…³äºStandardScaler()çš„apiå‡½æ•°"></a>å…³äºStandardScaler()çš„apiå‡½æ•°</h2><table><thead><tr><th>api</th><th>describe</th></tr></thead><tbody><tr><td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html#sklearn.preprocessing.StandardScaler.fit"><code>fit</code></a>(X[, y, sample_weight])</td><td>Compute the mean and std to be used for later scaling.</td></tr><tr><td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html#sklearn.preprocessing.StandardScaler.fit_transform"><code>fit_transform</code></a>(X[, y])</td><td>Fit to data, then transform it.</td></tr><tr><td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html#sklearn.preprocessing.StandardScaler.get_feature_names_out"><code>get_feature_names_out</code></a>([input_features])</td><td>Get output feature names for transformation.</td></tr><tr><td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html#sklearn.preprocessing.StandardScaler.get_params"><code>get_params</code></a>([deep])</td><td>Get parameters for this estimator.</td></tr><tr><td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html#sklearn.preprocessing.StandardScaler.inverse_transform"><code>inverse_transform</code></a>(X[, copy])</td><td>Scale back the data to the original representation.</td></tr><tr><td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html#sklearn.preprocessing.StandardScaler.partial_fit"><code>partial_fit</code></a>(X[, y, sample_weight])</td><td>Online computation of mean and std on X for later scaling.</td></tr><tr><td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html#sklearn.preprocessing.StandardScaler.set_params"><code>set_params</code></a>(**params)</td><td>Set the parameters of this estimator.</td></tr><tr><td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html#sklearn.preprocessing.StandardScaler.transform"><code>transform</code></a>(X[, copy])</td><td>Perform standardization by centering and scaling.</td></tr></tbody></table><h2 id="å¸¸ç”¨apiæ–¹æ³•ï¼š"><a href="#å¸¸ç”¨apiæ–¹æ³•ï¼š" class="headerlink" title="å¸¸ç”¨apiæ–¹æ³•ï¼š"></a>å¸¸ç”¨apiæ–¹æ³•ï¼š</h2><p>1ã€fit</p><p>ç”¨äºè®¡ç®—è®­ç»ƒæ•°æ®çš„å‡å€¼å’Œæ–¹å·®ï¼Œ åé¢å°±ä¼šç”¨å‡å€¼å’Œæ–¹å·®æ¥è½¬æ¢è®­ç»ƒæ•°æ®</p><p>2ã€fit_transform</p><p>ä¸ä»…è®¡ç®—è®­ç»ƒæ•°æ®çš„å‡å€¼å’Œæ–¹å·®ï¼Œè¿˜ä¼šåŸºäºè®¡ç®—å‡ºæ¥çš„å‡å€¼å’Œæ–¹å·®æ¥è½¬æ¢è®­ç»ƒæ•°æ®ï¼Œä»è€ŒæŠŠæ•°æ®è½¬æ¢æˆæ ‡å‡†çš„æ­£å¤ªåˆ†å¸ƒ</p><p>3ã€transform</p><p>å¾ˆæ˜¾ç„¶ï¼Œå®ƒåªæ˜¯è¿›è¡Œè½¬æ¢ï¼Œåªæ˜¯æŠŠè®­ç»ƒæ•°æ®è½¬æ¢æˆæ ‡å‡†çš„æ­£æ€åˆ†å¸ƒ</p><p>å¯¹äºä¸Šè¿°æ–¹æ³•çš„ä½¿ç”¨ï¼š</p><p>a) å…ˆç”¨fit</p><p><code>scaler = preprocessing.StandardScaler().fit(X)</code></p><p>è¿™ä¸€æ­¥å¯ä»¥å¾—åˆ°scalerï¼Œscaleré‡Œé¢å­˜çš„æœ‰è®¡ç®—å‡ºæ¥çš„å‡å€¼å’Œæ–¹å·®</p><p>b) å†ç”¨transform</p><p><code>scaler.transform(X)</code></p><p>è¿™ä¸€æ­¥å†ç”¨scalerä¸­çš„å‡å€¼å’Œæ–¹å·®æ¥è½¬æ¢Xï¼Œä½¿Xæ ‡å‡†åŒ–</p><p>c) é‚£ä¹ˆåœ¨é¢„æµ‹çš„æ—¶å€™ï¼Œ ä¹Ÿè¦å¯¹æ•°æ®åšåŒæ ·çš„æ ‡å‡†åŒ–å¤„ç†ï¼Œå³ä¹Ÿè¦ç”¨ä¸Šé¢çš„scalerä¸­çš„å‡å€¼å’Œæ–¹å·®æ¥å¯¹é¢„æµ‹æ—¶å€™çš„ç‰¹å¾è¿›è¡Œæ ‡å‡†åŒ–</p><p>æ³¨æ„ï¼šæµ‹è¯•æ•°æ®å’Œé¢„æµ‹æ•°æ®çš„æ ‡å‡†åŒ–çš„æ–¹å¼è¦å’Œè®­ç»ƒæ•°æ®æ ‡å‡†åŒ–çš„æ–¹å¼ä¸€æ ·ï¼Œ å¿…é¡»ç”¨åŒä¸€ä¸ªscaleræ¥è¿›è¡Œtransform</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python é”™è¯¯é›†åˆ</title>
    <link href="/2022/08/01/Python/%E9%94%99%E8%AF%AF%E9%9B%86%E5%90%88/"/>
    <url>/2022/08/01/Python/%E9%94%99%E8%AF%AF%E9%9B%86%E5%90%88/</url>
    
    <content type="html"><![CDATA[<h1 id="pythonç¨‹åºåœ¨å‘½ä»¤è¡Œæ‰§è¡Œæç¤ºModuleNotFoundError-No-module-named-â€˜XXXâ€™-è§£å†³æ–¹æ³•"><a href="#pythonç¨‹åºåœ¨å‘½ä»¤è¡Œæ‰§è¡Œæç¤ºModuleNotFoundError-No-module-named-â€˜XXXâ€™-è§£å†³æ–¹æ³•" class="headerlink" title="pythonç¨‹åºåœ¨å‘½ä»¤è¡Œæ‰§è¡Œæç¤ºModuleNotFoundError: No module named â€˜XXXâ€™ è§£å†³æ–¹æ³•"></a>pythonç¨‹åºåœ¨å‘½ä»¤è¡Œæ‰§è¡Œæç¤ºModuleNotFoundError: No module named â€˜XXXâ€™ è§£å†³æ–¹æ³•</h1><p>åœ¨æ¨¡å—ä¸­æ·»åŠ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><br>curPath = os.path.abspath(os.path.dirname(__file__))<br>rootPath = os.path.split(curPath)[<span class="hljs-number">0</span>]<br>sys.path.append(rootPath)<br></code></pre></td></tr></table></figure><h1 id="interrupted-by-signal-9-SIGKILL"><a href="#interrupted-by-signal-9-SIGKILL" class="headerlink" title="interrupted by signal 9: SIGKILL"></a>interrupted by signal 9: SIGKILL</h1><p>ç»ˆç«¯topæŸ¥çœ‹cpuå†…å­˜æœªæ»¡ï¼Œnvidia-smiæŸ¥çœ‹gpuä¹Ÿæœªå æ»¡ã€‚<br>å¯èƒ½åŸå› å°±æ˜¯ï¼špycharmé…ç½®è¿è¡Œå†…å­˜å¤ªå°ã€‚</p><ol><li>æ‰¾åˆ°pycharmçš„å®‰è£…ç›®å½•ä¸‹çš„ pycharm.vmoptions</li><li>å³é”®ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ï¼Œä¿®æ”¹å‰ä¸¤é¡¹pycharm çš„æœ€å°ã€æœ€å¤§å†…å­˜ï¼šXmså’ŒXmx</li></ol><p>ä¹Ÿæœ‰å¯èƒ½æ˜¯ä½ è°ƒç”¨çš„å˜é‡å¤ªå¤§ï¼Œå¯¼è‡´å†…å­˜è¿‡è½½ï¼Œå»ºè®®ä½¿ç”¨æ‰¹é‡å¤„ç†æ–¹å¼ã€‚</p><h1 id="pythonä¸­å‡ºç°IndentationError-unindent-does-not-match-any-outer-indentation-levelé”™è¯¯"><a href="#pythonä¸­å‡ºç°IndentationError-unindent-does-not-match-any-outer-indentation-levelé”™è¯¯" class="headerlink" title="pythonä¸­å‡ºç°IndentationError:unindent does not match any outer indentation levelé”™è¯¯"></a>pythonä¸­å‡ºç°IndentationError:unindent does not match any outer indentation levelé”™è¯¯</h1><p>1.å¯¹äºæ­¤é”™è¯¯ï¼Œæœ€å¸¸è§çš„åŸå› æ˜¯ï¼Œçš„ç¡®<strong>æ²¡æœ‰ç¼©è¿›</strong>ã€‚æ ¹æ®é”™è¯¯æç¤ºçš„è¡Œæ•°ï¼Œå»ä»£ç ä¸­çœ‹äº†ä¸‹ï¼Œçœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆé—®é¢˜å‘€ï¼Œéƒ½æœ‰ç¼©è¿›ï¼Œè€Œä¸”è¯­æ³•ä¹Ÿæ²¡æœ‰é”™è¯¯å‘€ã€‚</p><p>2.ä»”ç»†ç ”ç©¶äº†ä¸‹ä»£ç ï¼Œå‘ç°çœŸçš„çœ‹ä¸å‡ºä»€ä¹ˆé—®é¢˜ï¼Œçªç„¶æƒ³åˆ°äº†ï¼ŒæŠŠå½“å‰pythonè„šæœ¬çš„æ‰€æœ‰å­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼å’Œtabå­—ç¬¦ï¼‰éƒ½æ˜¾ç¤ºå‡ºæ¥çœ‹çœ‹åˆ°åº•æœ‰æ²¡æœ‰ç¼©è¿›æˆ–è€…æ˜¯å…¶ä»–ç‰¹æ®Šçš„å­—ç¬¦ã€‚</p><p>æœ€ç®€å•çš„è§£å†³åŠæ³•ï¼Œæ ¼å¼åŒ–ä¸€ä¸ªä»£ç æ ¼å¼ã€‚å¦‚æœæ˜¯åœ¨pycharmå†…çš„è¯<code>Ctrl+Alt+L</code></p><h1 id="RuntimeError-unsupported-operation-some-elements-of-the-input-tensor-and-the-written-to-tensor-refer-to-a-single-memory-location-Please-clone-the-tensor-before-performing-the-operation"><a href="#RuntimeError-unsupported-operation-some-elements-of-the-input-tensor-and-the-written-to-tensor-refer-to-a-single-memory-location-Please-clone-the-tensor-before-performing-the-operation" class="headerlink" title="RuntimeError: unsupported operation: some elements of the input tensor and the written-to tensor refer to a single memory location. Please clone() the tensor before performing the operation."></a>RuntimeError: unsupported operation: some elements of the input tensor and the written-to tensor refer to a single memory location. Please clone() the tensor before performing the operation.</h1><p>æ•°æ®ä¸­å¯¹äºå¼ é‡çš„æ“ä½œå¯èƒ½å­˜åœ¨é”™è¯¯ï¼Œæ‰€ä»¥éœ€è¦å¯¹å‡ºç°é—®é¢˜çš„å¼ é‡è¿›è¡Œæ“ä½œï¼Œæ‹·è´ä¸€ä¸‹å†è¿›è¡Œä¸‹ä¸€æ­¥</p><p>è¿™é‡Œå³ä½¿æŠŠ<code>new_adj += new_adj.t()</code> æ›¿æ¢æˆäº†<code>new_adj += new_adj.clone().t()</code></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Error</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python TrickNote in Code</title>
    <link href="/2022/08/01/Python/%E8%AE%BA%E6%96%87%E4%B8%AD%20%E4%BB%A3%E7%A0%81trick/"/>
    <url>/2022/08/01/Python/%E8%AE%BA%E6%96%87%E4%B8%AD%20%E4%BB%A3%E7%A0%81trick/</url>
    
    <content type="html"><![CDATA[<h2 id="pickel"><a href="#pickel" class="headerlink" title="pickel"></a>pickel</h2><p>pickelæ˜¯èƒ½å¤Ÿå®ç°ä»»æ„å¯¹è±¡ä¸æ–‡æœ¬ä¹‹é—´çš„ç›¸äº’è½¬åŒ–ï¼Œä¹Ÿå¯ä»¥å®ç°ä»»æ„å¯¹è±¡ä¸äºŒè¿›åˆ¶ä¹‹é—´çš„ç›¸äº’è½¬åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œpickle å¯ä»¥å®ç° Python å¯¹è±¡çš„å­˜å‚¨åŠæ¢å¤ã€‚</p><p>pickle æ¨¡å—æä¾›äº†ä»¥ä¸‹ 4 ä¸ªå‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼š</p><ol><li>dumps()ï¼šå°† Python ä¸­çš„å¯¹è±¡åºåˆ—åŒ–æˆäºŒè¿›åˆ¶å¯¹è±¡ï¼Œå¹¶è¿”å›ï¼›</li><li>loads()ï¼šè¯»å–ç»™å®šçš„äºŒè¿›åˆ¶å¯¹è±¡æ•°æ®ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º Python å¯¹è±¡ï¼›</li><li>dump()ï¼šå°† Python ä¸­çš„å¯¹è±¡åºåˆ—åŒ–æˆäºŒè¿›åˆ¶å¯¹è±¡ï¼Œå¹¶å†™å…¥æ–‡ä»¶ï¼›</li><li>load()ï¼šè¯»å–æŒ‡å®šçš„åºåˆ—åŒ–æ•°æ®æ–‡ä»¶ï¼Œå¹¶è¿”å›å¯¹è±¡ã€‚</li></ol><h2 id="pickelçš„è¯»å–çš„æ•°æ®è½¬æˆtorch-floatå¯¹è±¡"><a href="#pickelçš„è¯»å–çš„æ•°æ®è½¬æˆtorch-floatå¯¹è±¡" class="headerlink" title="pickelçš„è¯»å–çš„æ•°æ®è½¬æˆtorch.floatå¯¹è±¡"></a>pickelçš„è¯»å–çš„æ•°æ®è½¬æˆtorch.floatå¯¹è±¡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">A = torch.from_numpy(data.todense()).<span class="hljs-built_in">type</span>(torch.FloatTensor)<br></code></pre></td></tr></table></figure><p><code>data</code>æ˜¯pickel.load()æ–¹æ³•è¯»å–å‡ºæ¥çš„pythonå¯¹è±¡ã€‚</p><p><code>todense()</code>å’Œ<code>toarray()</code>å¾ˆç±»ä¼¼ï¼Œä¸€ä¸ªæ˜¯æŠŠå¯¹è±¡å½“ä½œçŸ©é˜µè¾“å‡ºï¼Œä¸€ä¸ªæ˜¯è¾“å‡ºndarray</p><p><img src="/src/image-20220710105542841.png" alt="image-20220710105542841"></p><p>pythonå¯¹è±¡-&gt; çŸ©é˜µ-&gt; ndarray -&gt; torch.float</p><h2 id="contiguous-å‡½æ•°å¼•å‘çš„è®¤çŸ¥"><a href="#contiguous-å‡½æ•°å¼•å‘çš„è®¤çŸ¥" class="headerlink" title="contiguous()å‡½æ•°å¼•å‘çš„è®¤çŸ¥"></a>contiguous()å‡½æ•°å¼•å‘çš„è®¤çŸ¥</h2><p>åœ¨pytorchä¸­ï¼Œåªæœ‰å¾ˆå°‘å‡ ä¸ªæ“ä½œæ˜¯<strong>ä¸æ”¹å˜tensorçš„å†…å®¹æœ¬èº«</strong>ï¼Œè€Œåªæ˜¯<strong>é‡æ–°å®šä¹‰ä¸‹æ ‡ä¸å…ƒç´ çš„å¯¹åº”å…³ç³»</strong>çš„ã€‚æ¢å¥è¯è¯´ï¼Œè¿™ç§æ“ä½œä¸è¿›è¡Œæ•°æ®æ‹·è´å’Œæ•°æ®çš„æ”¹å˜ï¼Œå˜çš„æ˜¯<strong>å…ƒæ•°æ®</strong>ã€‚</p><p>ä¼šæ”¹å˜å…ƒæ•°æ®çš„æ“ä½œæ˜¯ï¼šnarrow()ã€view()ã€expand()ã€transpose()<br>åœ¨ä½¿ç”¨transpose()è¿›è¡Œè½¬ç½®æ“ä½œæ—¶ï¼Œpytorchå¹¶ä¸ä¼šåˆ›å»ºæ–°çš„ã€è½¬ç½®åçš„tensorï¼Œè€Œæ˜¯ä¿®æ”¹äº†tensorä¸­çš„ä¸€äº›å±æ€§ï¼ˆä¹Ÿå°±æ˜¯å…ƒæ•°æ®ï¼‰ï¼Œä½¿å¾—æ­¤æ—¶çš„offsetå’Œstrideæ˜¯ä¸è½¬ç½®tensorç›¸å¯¹åº”çš„ã€‚è½¬ç½®çš„tensorå’ŒåŸtensorçš„å†…å­˜æ˜¯å…±äº«çš„ï¼  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">x = torch.randn(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>)<br>y = torch.transpose(x, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä¿®æ”¹å‰ï¼š&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x-&quot;</span>, x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;y-&quot;</span>, y)<br> <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nä¿®æ”¹åï¼š&quot;</span>)<br>y[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>] = <span class="hljs-number">11</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x-&quot;</span>, x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;y-&quot;</span>, y)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ<strong>æ”¹å˜äº†yçš„å…ƒç´ çš„å€¼çš„åŒæ—¶ï¼Œxçš„å…ƒç´ çš„å€¼ä¹Ÿå‘ç”Ÿäº†å˜åŒ–</strong>ã€‚å› æ­¤å¯ä»¥è¯´ï¼Œxæ˜¯contiguousçš„ï¼Œä½†yä¸æ˜¯ï¼ˆå› ä¸ºå†…éƒ¨æ•°æ®ä¸æ˜¯é€šå¸¸çš„å¸ƒå±€æ–¹å¼ï¼‰ã€‚æ³¨æ„ä¸è¦è¢«contiguousçš„å­—é¢æ„æ€â€œè¿ç»­çš„â€è¯¯è§£ï¼Œtensorä¸­æ•°æ®è¿˜æ˜¯åœ¨å†…å­˜ä¸­ä¸€å—åŒºåŸŸé‡Œï¼Œåªæ˜¯å¸ƒå±€çš„é—®é¢˜ï¼</p><p>ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´ï¼šå› ä¸ºï¼Œyé‡Œé¢æ•°æ®å¸ƒå±€çš„æ–¹å¼å’Œä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ªå¸¸è§„çš„tensorå¸ƒå±€çš„æ–¹å¼æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™ä¸ªå¯èƒ½åªæ˜¯pythonä¸­ä¹‹å‰å¸¸ç”¨çš„æµ…æ‹·è´ï¼Œyè¿˜æ˜¯æŒ‡å‘xå˜é‡æ‰€å¤„çš„ä½ç½®ï¼Œåªæ˜¯è¯´è®°å½•äº†transposeè¿™ä¸ªå˜åŒ–çš„å¸ƒå±€ã€‚</p><p>ä½¿ç”¨contiguous() ï¼šå¦‚æœæƒ³è¦æ–­å¼€è¿™ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ä¾èµ–ï¼ˆxæœ¬èº«æ˜¯contiguousçš„ï¼‰ï¼Œå°±è¦ä½¿ç”¨contiguous()é’ˆå¯¹xè¿›è¡Œå˜åŒ–ï¼Œæ„Ÿè§‰ä¸Šå°±æ˜¯æˆ‘ä»¬è®¤ä¸ºçš„æ·±æ‹·è´ã€‚</p><p> å½“è°ƒç”¨contiguous()æ—¶ï¼Œä¼šå¼ºåˆ¶æ‹·è´ä¸€ä»½tensorï¼Œè®©å®ƒçš„å¸ƒå±€å’Œä»å¤´åˆ›å»ºçš„ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯ä¸¤ä¸ªtensorå®Œå…¨æ²¡æœ‰è”ç³»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">x = torch.randn(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>)<br>y = torch.transpose(x, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>).contiguous()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä¿®æ”¹å‰ï¼š&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x-&quot;</span>, x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;y-&quot;</span>, y)<br> <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nä¿®æ”¹åï¼š&quot;</span>)<br>y[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>] = <span class="hljs-number">11</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x-&quot;</span>, x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;y-&quot;</span>, y)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“<strong>å¯¹yä½¿ç”¨äº†.contiguous()<strong>åï¼Œ</strong>æ”¹å˜yçš„å€¼æ—¶ï¼Œxæ²¡æœ‰ä»»ä½•å½±å“</strong>ï¼</p><p>ä¸€èˆ¬æ¥è¯´è¿™ä¸€ç‚¹ä¸ç”¨å¤ªæ‹…å¿ƒï¼Œå½“é‡åˆ°<strong>éœ€è¦è°ƒç”¨contiguous()çš„åœ°æ–¹</strong>ï¼Œè¿è¡Œæ—¶ä¼šæç¤ºä½ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">RuntimeError: <span class="hljs-built_in">input</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> contiguous<br></code></pre></td></tr></table></figure><p><strong>è¿™æ—¶å€™åªéœ€è¦åœ¨è¯¥å˜é‡åé¢åŠ ä¸Š.contiguous()å°±å¯ä»¥äº†ï¼</strong></p><h2 id="å…³äºdetachä¸cloneä¹‹é—´çš„æ€è€ƒ"><a href="#å…³äºdetachä¸cloneä¹‹é—´çš„æ€è€ƒ" class="headerlink" title="å…³äºdetachä¸cloneä¹‹é—´çš„æ€è€ƒ"></a>å…³äºdetachä¸cloneä¹‹é—´çš„æ€è€ƒ</h2><p>contiguous è¿™ä¸ªæ“ä½œå’Œæ·±æ‹·è´çš„ä½œç”¨è¿˜æ˜¯å¾ˆç±»ä¼¼çš„ã€‚clone()ä½œä¸ºæ­£å¸¸çš„æ·±æ‹·è´æ“ä½œï¼Œä¸€èˆ¬å¯èƒ½ä¼šå’Œdetach()è¿™ä¸ªæ–¹æ³•è”ç”¨ã€‚</p><p>Torch ä¸ºäº†æé«˜é€Ÿåº¦ï¼Œå‘é‡æˆ–æ˜¯çŸ©é˜µçš„èµ‹å€¼æ˜¯æŒ‡å‘åŒä¸€å†…å­˜çš„ï¼Œè¿™ä¸åŒäº Matlabã€‚å¦‚æœéœ€è¦ä¿å­˜æ—§çš„tensorå³éœ€è¦å¼€è¾Ÿæ–°çš„å­˜å‚¨åœ°å€è€Œä¸æ˜¯å¼•ç”¨ï¼Œå¯ä»¥ç”¨ clone() è¿›è¡Œ<strong>æ·±æ‹·è´</strong>ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br>a = torch.tensor(<span class="hljs-number">1.0</span>, requires_grad=<span class="hljs-literal">True</span>)<br>b = a.clone()<br>c = a.detach()<br>a.data *= <span class="hljs-number">3</span><br>b -= <span class="hljs-number">1</span><br><br><span class="hljs-built_in">print</span>(a)   <span class="hljs-comment"># tensor(3., requires_grad=True)</span><br><span class="hljs-built_in">print</span>(b)<br><span class="hljs-built_in">print</span>(c)<br><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">è¾“å‡ºç»“æœï¼š</span><br><span class="hljs-string">tensor(3., requires_grad=True)</span><br><span class="hljs-string">tensor(2., grad_fn=&lt;AddBackward0&gt;)</span><br><span class="hljs-string">tensor(3.)      # detach()åçš„å€¼éšç€açš„å˜åŒ–å‡ºç°å˜åŒ–</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><br></code></pre></td></tr></table></figure><p><code>grad_fn=&lt;CloneBackward&gt;</code>ï¼Œè¡¨ç¤ºæ–°çš„tensorå……å½“ä¸­é—´å˜é‡ï¼Œä¼šä¿ç•™åœ¨è®¡ç®—å›¾ä¸­ï¼Œå‚ä¸æ¢¯åº¦è®¡ç®—ï¼ˆå›ä¼ å åŠ ï¼‰ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä¼šä¿ç•™è‡ªèº«æ¢¯åº¦ã€‚  cloneæ“ä½œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥è§†ä¸ºæ˜¯ä¸€ä¸ªidentity-mappingå‡½æ•°ã€‚detach()æ“ä½œåçš„tensorä¸åŸå§‹tensorå…±äº«æ•°æ®å†…å­˜ï¼Œå½“åŸå§‹tensoråœ¨è®¡ç®—å›¾ä¸­æ•°å€¼å‘ç”Ÿåå‘ä¼ æ’­ç­‰æ›´æ–°ä¹‹åï¼Œdetach()çš„tensorå€¼ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ã€‚</p><p><code>æ‰€ä»¥åœ¨torchä¸­ä½¿ç”¨idæ¥ç›´æ¥åˆ¤æ–­tensoræ˜¯å¦å…±äº«å†…å­˜æ˜¯ä¸åˆé€‚çš„ã€‚å› ä¸ºä¹Ÿè®¸åº•å±‚å…±äº«æ•°æ®ï¼Œä½†æ˜¯å­˜åœ¨ä¸€ä¸ªå˜é‡æ˜¯detachå‡ºæ¥çš„æ–°tensorã€‚</code>     </p><p>åŒæ ·å¯ä»¥å‘ç°çš„æ˜¯detach()å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå®Œå…¨ç›¸åŒçš„tensor,ä¸æ—§çš„tensorå…±äº«å†…å­˜ï¼Œè„±ç¦»è®¡ç®—å›¾ï¼Œä¸ä¼šç‰µæ‰¯æ¢¯åº¦è®¡ç®—ã€‚è€Œcloneå……å½“ä¸­é—´å˜é‡ï¼Œä¼šå°†æ¢¯åº¦ä¼ ç»™æºå¼ é‡è¿›è¡Œå åŠ ï¼Œä½†æ˜¯æœ¬èº«ä¸ä¿å­˜å…¶gradï¼Œå³å€¼ä¸ºNoneã€‚</p><p>ä½¿ç”¨torch.clone()è·å¾—çš„æ–°tensorå’ŒåŸæ¥çš„æ•°æ®ä¸å†å…±äº«å†…å­˜ï¼Œä½†ä»ä¿ç•™åœ¨è®¡ç®—å›¾ä¸­ï¼Œcloneæ“ä½œåœ¨ä¸å…±äº«æ•°æ®å†…å­˜çš„åŒæ—¶æ”¯æŒæ¢¯åº¦æ¢¯åº¦ä¼ é€’ä¸å åŠ ï¼Œæ‰€ä»¥å¸¸ç”¨åœ¨ç¥ç»ç½‘ç»œä¸­æŸä¸ªå•å…ƒéœ€è¦é‡å¤ä½¿ç”¨çš„åœºæ™¯ä¸‹ã€‚</p><p>é€šå¸¸å¦‚æœåŸtensorçš„requires_grad&#x3D;Trueï¼Œåˆ™ï¼š</p><ul><li>clone()æ“ä½œåçš„tensor requires_grad&#x3D;True,  ä¸å…±äº«å†…å­˜</li><li>detach()æ“ä½œåçš„tensor requires_grad&#x3D;Falseã€‚å…±äº«å†…å­˜</li></ul><p>å¦‚æœåŸtensorçš„requires_grad&#x3D;Falseï¼Œåˆ™ï¼š</p><ul><li>clone()æ“ä½œåçš„tensor requires_grad&#x3D;True, ä¸å­˜åœ¨å¼ é‡å›ä¼ çš„ç°è±¡ã€‚ä½†æ˜¯å¯ä»¥æ±‚å¾—cloneåçš„å¼ é‡å¯¼æ•°</li><li>detach()æ“ä½œåçš„tensor requires_grad&#x3D;False</li></ul><h1 id="å…³äºè®¾ç½®å¤šGPUæŒ‡å®šé—®é¢˜-torch-nn-DataParaller"><a href="#å…³äºè®¾ç½®å¤šGPUæŒ‡å®šé—®é¢˜-torch-nn-DataParaller" class="headerlink" title="å…³äºè®¾ç½®å¤šGPUæŒ‡å®šé—®é¢˜  torch.nn.DataParaller"></a>å…³äºè®¾ç½®å¤šGPUæŒ‡å®šé—®é¢˜  torch.nn.DataParaller</h1><p>è¿™é‡ŒæŒ‡çš„æ˜¯å•æœºå¤šå¡çš„é—®é¢˜ã€‚åœ¨ç»ˆç«¯ä¸­å¯ä»¥åˆ©ç”¨<code>nvidia-smi</code>æŸ¥çœ‹ç›¸å…³ä¿¡æ¯</p><p>![å±å¹•æˆªå›¾ 2022-07-18 093729](&#x2F;src&#x2F;å±å¹•æˆªå›¾ 2022-07-18 093729.png)</p><p>å¯ä»¥çœ‹è§å‰é¢å¯¹äºæ¯å¼ æ˜¾å¡éƒ½æ˜¯æœ‰åºå·çš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåºå·ä¸º0çš„æ˜¾å¡æ˜¯ä¸»å¡ï¼ˆå¯ä»¥ç†è§£ä¸ºæœ€å…ˆä½¿ç”¨çš„æ˜¾å¡ï¼‰</p><p>æˆ‘ä»¬é€šè¿‡<code>os.environ[&#39;CUDA_VISIBLE_DEVICES&#39;]</code>æ¥è®¾å®šä¸»å¡æ˜¯å“ªä¸€å¼ ï¼Œä½¿ç”¨ç©ºé—²èµ„æºï¼Œé¿å…å†…å­˜èµ„æºåˆ†é…ä¸å¤Ÿã€‚</p><p>ä¾‹å¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">os.environ[<span class="hljs-string">&quot;CUDA_VISIBLE_DEVICES&quot;</span>] = <span class="hljs-string">&quot;3,2,0,1&quot;</span><br><span class="hljs-comment"># os.environ[&quot;CUDA_VISIBLE_DEVICES&quot;] = &#x27;,&#x27;.join(map(str, [3,2,0,1]))</span><br>model = torch.nn.DataParallel(model, device_ids=[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]).cuda()<br></code></pre></td></tr></table></figure><p>åˆ™å®é™…çš„æ˜¾å¡ç¼–å·ä¸torchä¸­æ˜¾å¡ç¼–å·çš„å¯¹åº”å…³ç³»ä¸º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">å®é™…æ˜¾å¡ç¼–å·-----&gt;è¿ç®—æ˜¾å¡ç¼–å·<br>    <span class="hljs-number">3</span>     -----&gt;     <span class="hljs-number">0</span>ï¼ˆä¸»å¡ï¼‰<br>    <span class="hljs-number">2</span>     -----&gt;     <span class="hljs-number">1</span><br>    <span class="hljs-number">0</span>     -----&gt;     <span class="hljs-number">2</span><br>    <span class="hljs-number">1</span>     -----&gt;     <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p>å½“ç„¶å¦‚æœä¸éœ€è¦å¤šå¡å¹¶è¡Œè®¡ç®—çš„è¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>torch.cuda.set_device(1)</code>æ¥è®¾å®šï¼Œä½†æ˜¯è¿™æ ·è®¾å®šåä»ç„¶ä¼šå æ®<code>device:0</code>çš„éƒ¨åˆ†GPUèµ„æº</p><p>åœ¨ä½¿ç”¨<code>os.environ[&#39;CUDA_VISIBLE_DEVICES&#39;]</code>ä¸€å®šè¦æ³¨æ„å…¶æ”¾ç½®çš„ä½ç½®ï¼Œè¦ä¸ç„¶ææœ‰å¯èƒ½ä¸ç”Ÿæ•ˆã€‚<strong>ä¸€å®šè¦æ”¾ç½®åœ¨æ‰€æœ‰è®¿é—®GPUä»£ç ä¹‹å‰ï¼Œèƒ½æ”¾åœ¨<code>import torch</code>æœ€å¥½ä¸è¿‡ã€‚</strong></p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯å½“ä½ è®¾å®šäº†å¯è§çš„æ˜¾å¡åï¼Œåœ¨torchä¸­è®¾å®šçš„æ˜¾å¡çš„æ—¶å€™æ³¨æ„ä¸€ä¸‹æ˜¾å¡ç¼–å·é—®é¢˜ã€‚<br>è¿˜æœ‰ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯å½“ä½ è®¾ç½®å¤šå¡å¹¶è¡Œçš„æ—¶å€™ï¼Œé€‰å®šæ˜¾å¡éœ€è¦åŒ…æ‹¬ä¸»å¡ï¼Œè¦ä¸ç„¶å°±ä¼šæŠ¥é”™<code>æŠ¥é”™RuntimeError: module must have its parameters and buffers on device cuda:1 (device_ids[0]) but found</code></p><h1 id="å…³äºself-dict-update"><a href="#å…³äºself-dict-update" class="headerlink" title="å…³äºself.__ dict __.update"></a>å…³äºself.__ dict __.update</h1><p>__dict__æ˜¯ç”¨æ¥å­˜å‚¨å¯¹è±¡å±æ€§çš„ä¸€ä¸ª<strong>å­—å…¸</strong>ï¼Œå…¶é”®ä¸ºå±æ€§åï¼Œå€¼ä¸ºå±æ€§çš„å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.name = <span class="hljs-string">&#x27;xiaoming&#x27;</span><br>        self.age = <span class="hljs-number">18</span><br>        self.gender = <span class="hljs-string">&#x27;man&#x27;</span><br>    abc = <span class="hljs-number">666</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_dict</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(self.__dict__)<br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬è°ƒç”¨<code>print_dict</code>æ¥ä½¿ç”¨<code>self.__dict__</code>æˆ‘ä»¬å¯ä»¥å‘ç°<code>__dict__</code>ä¸­å­˜å‚¨äº†å¯¹è±¡çš„å±æ€§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;xiaoming&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">18</span>, <span class="hljs-string">&#x27;gender&#x27;</span>: <span class="hljs-string">&#x27;man&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ ·å†™èµ·æ¥ç‰¹åˆ«æ–¹ä¾¿ï¼Œåœ¨é¢å¯¹å¾ˆå¤§é”®å€¼å¯¹çš„æ—¶å€™ï¼Œç›´æ¥è°ƒç”¨updateå‡½æ•°æ¥å®ç°è‡ªåŠ¨åŒ–å®ä¾‹å˜é‡ã€‚è¿™æ ·ç›´æ¥è¾“å…¥ä¸€ä¸ªå­—å…¸ï¼Œå°±å¯ä»¥è‡ªåŠ¨çš„ç”Ÿæˆå¯¹åº”çš„å˜é‡äº†ï¼Œè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„</p><h1 id="torch-autograd-detect-anomaly"><a href="#torch-autograd-detect-anomaly" class="headerlink" title="torch.autograd.detect_anomaly()"></a>torch.autograd.detect_anomaly()</h1><p>ä¸º autograd å¼•æ“å¯ç”¨å¼‚å¸¸æ£€æµ‹çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚ è¿™åšäº†ä¸¤ä»¶äº‹ï¼š</p><ul><li>åœ¨å¯ç”¨æ£€æµ‹çš„æƒ…å†µä¸‹è¿è¡Œæ­£å‘ä¼ é€’å°†å…è®¸åå‘ä¼ é€’æ‰“å°åˆ›å»ºå¤±è´¥çš„åå‘å‡½æ•°çš„æ­£å‘æ“ä½œçš„å›æº¯ã€‚</li><li>ä»»ä½•äº§ç”Ÿâ€œnanâ€å€¼çš„åå‘è®¡ç®—éƒ½ä¼šå¼•å‘é”™è¯¯ã€‚</li></ul><blockquote><p>è­¦å‘Š: æ­¤æ¨¡å¼åº”ä»…ç”¨äºè°ƒè¯•ï¼Œå› ä¸ºä¸åŒçš„æµ‹è¯•ä¼šå‡æ…¢æ‚¨çš„ç¨‹åºæ‰§è¡Œé€Ÿåº¦ã€‚</p></blockquote><h1 id="torch-spmm"><a href="#torch-spmm" class="headerlink" title="torch.spmm"></a>torch.spmm</h1><p>å¯ä»¥å…è®¸SparseMatrix * DenseMatrixï¼ŒDenseMatrix* DenseMatrixï¼Œ SparseMatrix * SparseMatrix </p><p>ä½†æ˜¯ä¸å¯ä»¥DenseMatrix* SparseMatrix<br>x </p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¼ºå¤±å€¼å¤„ç†</title>
    <link href="/2022/08/01/Python/%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A4%84%E7%90%86/"/>
    <url>/2022/08/01/Python/%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<p>è¯¸å¤šæ•°æ®ç«èµ›é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬ä¸å¯é¿å…ä¼šç¢°åˆ°æ•°æ®å‡ºç°ç¼ºå¤±çš„æƒ…å†µï¼Œå¯èƒ½æ˜¯å› ä¸ºè®°å½•æ•°æ®æ—¶å€™çš„å¤±è¯¯ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ•°æ®æœ¬èº«å°±æ²¡æœ‰ï¼ˆä¾‹å¦‚ä¸€äº›èµ„æ–™ç”¨æˆ·æ²¡æœ‰å¡«å……ï¼Œæˆ–è€…è‚¡ç¥¨åœç‰Œäº†ï¼Œé‚£ä¹ˆé‚£å¤©çš„äº¤æ˜“è®°å½•å°±æ˜¯ä¸ºç©ºçš„ï¼‰ã€‚å¯¹äºè¿™äº›ç¼ºå¤±å€¼çš„å¤„ç†å¯¹äºæ¨¡å‹æœ€ç»ˆçš„é¢„æµ‹å¯èƒ½èµ·åˆ°è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œå› ä¸ºç¼ºå¤±çš„æ•°æ®ä¼šå¯¼è‡´ï¼š</p><ul><li>æ•°æ®é›†å¤±çœŸï¼šå¤§é‡ç¼ºå¤±çš„æ•°æ®å¯èƒ½å¯¼è‡´å˜é‡åˆ†å¸ƒå¤±çœŸï¼Œå¯èƒ½å¢åŠ æˆ–å‡å°‘æ•°æ®é›†ä¸­ç‰¹å®šç±»åˆ«çš„å€¼ã€‚</li><li>å½±å“æœ€ç»ˆæ¨¡å‹çš„è®­ç»ƒé¢„æµ‹ï¼šç¼ºå¤±çš„æ•°æ®ä¼šå¯¼è‡´æ•°æ®é›†ä¸­å‡ºç°åå·®ï¼Œå¹¶å¯èƒ½å¯¼è‡´æ¨¡å‹è®­ç»ƒå’Œé¢„æµ‹æœ‰åå·®ã€‚</li></ul><p>æœ¬æ–‡æˆ‘ä»¬ä»‹ç»ç«èµ›ä¸­å¸¸è§çš„ç¼ºå¤±å€¼å¡«å……æŠ€å·§ã€‚</p><p>ä¸åŒç±»å‹æ•°æ®çš„å¡«å……ç­–ç•¥</p><h2 id="01-CCA-Complete-Case-Analysis"><a href="#01-CCA-Complete-Case-Analysis" class="headerlink" title="01 CCA(Complete Case Analysis)"></a>01 CCA(Complete Case Analysis)</h2><p>Complete Case Analysis(CCA)æ˜¯ä¸€ç§éå¸¸ç®€å•çš„å¤„ç†ç¼ºå¤±æ•°æ®çš„æ–¹æ³•ï¼Œå®ƒç›´æ¥åˆ é™¤åŒ…å«ç¼ºå¤±æ•°æ®çš„è¡Œï¼Œå³æˆ‘ä»¬åªè€ƒè™‘åŒ…å«å®Œæ•´æ•°æ®çš„è¡Œã€‚</p><p>è¿™ç§ç­–ç•¥è¾ƒä¸ºç›´æ¥ï¼Œå¾ˆå®¹æ˜“å®ç°ï¼Œå½“ç„¶ä¹Ÿä¼šä½¿æˆ‘ä»¬æŸå¤±éå¸¸å¤šçš„æ•°æ®ä¿¡æ¯ã€‚åœ¨é¢„æµ‹å­˜åœ¨ç¼ºå¤±å€¼çš„æ—¶å€™ä¹Ÿä¼šå‡ºç°åå·®ã€‚ä¸€èˆ¬å»ºè®®å½“æˆ‘ä»¬çš„æ•°æ®é‡è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œå³ç¼ºå¤±çš„æ•°æ®å æ¯”éå¸¸å°ï¼Œè€Œä¸”æœ‰å­˜åœ¨éšæœºçš„æƒ…å†µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data_cca = df.dropna(axis=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><h2 id="02-éšæœºæ•°å¡«å……"><a href="#02-éšæœºæ•°å¡«å……" class="headerlink" title="02  éšæœºæ•°å¡«å……"></a>02  éšæœºæ•°å¡«å……</h2><p>è¿™æ˜¯ç¼ºå¤±å€¼ä¸­å¡«å……çš„ä¸€é¡¹é‡è¦æŠ€æœ¯ï¼Œå®ƒå¯ä»¥å¤„ç†æ•°å€¼å˜é‡å’Œåˆ†ç±»å˜é‡ã€‚ä¸€èˆ¬æˆ‘ä»¬ä¼šå¯¹ç¼ºå¤±å€¼åˆ†ç»„åˆ°ä¸€åˆ—ä¸­ï¼Œå¹¶åˆ†é…ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œä¾‹å¦‚99999999æˆ–-999999ç­‰ã€‚è¿™æ ·æˆ‘ä»¬ä¿ç•™äº†ç¼ºå¤±å€¼çš„ç‰¹æ®Šå«ä¹‰ï¼Œåœ¨ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å¸¦æ¥éå¸¸å¥½çš„æ•ˆæœï¼Œä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬è¿™ç§å¡«å……ç­–ç•¥å¯¹äºç›®å‰çš„ä¸€äº›æ¨¡å‹ï¼Œä¾‹å¦‚NNç­‰ï¼Œè¿›è¡Œé¢„å¤„ç†å’Œè®­ç»ƒé¢„æµ‹å¸¦æ¥ä¸€äº›æŒ‘æˆ˜ã€‚</p><h2 id="03-ç±»åˆ«ç‰¹å¾çš„é¢‘ç‡å¡«å……ç±»åˆ«ç‰¹å¾çš„é¢‘ç‡å¡«å……"><a href="#03-ç±»åˆ«ç‰¹å¾çš„é¢‘ç‡å¡«å……ç±»åˆ«ç‰¹å¾çš„é¢‘ç‡å¡«å……" class="headerlink" title="03 ç±»åˆ«ç‰¹å¾çš„é¢‘ç‡å¡«å……ç±»åˆ«ç‰¹å¾çš„é¢‘ç‡å¡«å……"></a>03 ç±»åˆ«ç‰¹å¾çš„é¢‘ç‡å¡«å……ç±»åˆ«ç‰¹å¾çš„é¢‘ç‡å¡«å……</h2><p>ç”¨å‡ºç°é¢‘ç‡æœ€é«˜çš„å˜é‡å€¼æ›¿æ¢ç¼ºå¤±çš„å€¼ï¼Œç”¨è¯¥ç‰¹å¾åˆ—çš„ä¼—æ•°ä½œä¸ºæ›¿æ¢å€¼ã€‚è¯¥æ–¹æ³•å®ç°ç®€å•ï¼Œä¹Ÿè¾ƒä¸ºå¸¸ç”¨ï¼Œä½†æ˜¯å½“æ•°æ®ç¼ºå¤±è¾ƒå¤§çš„æ—¶å€™ï¼Œè¿™æ ·çš„å¡«å……ä¼šä½¿å¾—æ•°æ®å‡ºç°è¾ƒå¤§çš„åå·®ï¼Œä½¿å¾—é¢„æµ‹ç»“æœè¾ƒå·®ã€‚</p><h2 id="04-ç»Ÿè®¡å€¼å¡«å……"><a href="#04-ç»Ÿè®¡å€¼å¡«å……" class="headerlink" title="04 ç»Ÿè®¡å€¼å¡«å……"></a>04 ç»Ÿè®¡å€¼å¡«å……</h2><p>ä½¿ç”¨ç»Ÿè®¡å€¼è¿›è¡Œå¡«å……ï¼Œä¾‹å¦‚å‡å€¼ï¼Œä¸­ä½æ•°ç­‰ã€‚æœ‰çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£æ€åˆ†å¸ƒçš„ç­–ç•¥è¿›è¡Œå¡«å……ï¼š</p><ul><li>ä½¿ç”¨ä¸å¹³å‡å€¼ç›¸å·®2ä¸ªæ ‡å‡†å·®ä»¥å†…çš„å€¼ã€‚åœ¨ï¼ˆå¹³å‡å€¼-2 stdï¼‰&amp;ï¼ˆå¹³å‡å€¼+2 stdï¼‰ä¹‹é—´ç”Ÿæˆéšæœºæ•°æ¥å¡«å……ç¼ºå¤±å€¼ã€‚</li></ul><h2 id="05-ä½¿ç”¨çº¿æ€§å›å½’"><a href="#05-ä½¿ç”¨çº¿æ€§å›å½’" class="headerlink" title="05 ä½¿ç”¨çº¿æ€§å›å½’"></a>05 ä½¿ç”¨çº¿æ€§å›å½’</h2><p>é€šè¿‡ä¸¤ä¸ªå˜é‡çš„å¼ºç›¸å…³æ€§æ¥è¿›è¡Œçº¿æ€§æ‹Ÿåˆå¡«å……ã€‚æ³¨æ„çº¿æ€§å›å½’æ—¶éœ€è¦æ³¨æ„å¼‚å¸¸å€¼çš„å½±å“ã€‚</p><h2 id="06-XGBoostè¿­ä»£å¡«å……"><a href="#06-XGBoostè¿­ä»£å¡«å……" class="headerlink" title="06 XGBoostè¿­ä»£å¡«å……"></a>06 XGBoostè¿­ä»£å¡«å……</h2><p>è¿­ä»£å¡«å……å°±æ˜¯å°†æ¯ä¸ªç‰¹å¾å»ºæ¨¡ä¸ºå…¶ä»–ç‰¹å¾çš„å‡½æ•°ï¼Œä¾‹å¦‚é¢„æµ‹ç¼ºå¤±å€¼çš„å›å½’é—®é¢˜ã€‚è¿™ä¸ªå¯ä»¥è®¤ä¸ºæ˜¯ä¸Šé¢çº¿æ€§å›å½’çš„æ‰©å±•ç‰ˆæœ¬ã€‚è¯¥æ–¹æ³•ä¹Ÿåœ¨è¯¸å¤šçš„æ•°æ®ç«èµ›ä¸­è·å¾—è¿‡éå¸¸å¥½çš„æ•ˆæœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># loading modules</span><br><span class="hljs-keyword">from</span> sklearn.experimental <span class="hljs-keyword">import</span> enable_iterative_imputer<br><span class="hljs-keyword">from</span> sklearn.impute <span class="hljs-keyword">import</span> IterativeImputer<br><span class="hljs-keyword">import</span> xgboost<br><br>data=df.copy()<br><br><span class="hljs-comment">#setting up the imputer</span><br><br>imp = IterativeImputer(<br>    estimator=xgboost.XGBRegressor(<br>        n_estimators=<span class="hljs-number">5</span>,<br>        random_state=<span class="hljs-number">1</span>,<br>        tree_method=<span class="hljs-string">&#x27;gpu_hist&#x27;</span>,<br>    ),<br>    missing_values=np.nan,<br>    max_iter=<span class="hljs-number">5</span>,<br>    initial_strategy=<span class="hljs-string">&#x27;mean&#x27;</span>,<br>    imputation_order=<span class="hljs-string">&#x27;ascending&#x27;</span>,<br>    verbose=<span class="hljs-number">2</span>,<br>    random_state=<span class="hljs-number">1</span><br>)<br><br>data[:] = imp.fit_transform(data)<br></code></pre></td></tr></table></figure><h2 id="07-æœ€è¿‘é‚»å¡«å……"><a href="#07-æœ€è¿‘é‚»å¡«å……" class="headerlink" title="07 æœ€è¿‘é‚»å¡«å……"></a>07 æœ€è¿‘é‚»å¡«å……</h2><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯é‡‡ç”¨æœ€è¿‘é‚»çš„ç­–ç•¥è¿›è¡Œå¡«å……ï¼Œå¤§å®¶å¸¸ç”¨çš„ç­–ç•¥æ˜¯KNNImputerã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç”¨ç¼ºå¤±å€¼çš„æ¬§å‡ é‡Œå¾·è·ç¦»åº¦é‡æ¥æŸ¥æ‰¾æœ€è¿‘çš„ç‚¹ã€‚æ¯ä¸ªç¼ºå¤±çš„ç‰¹å¾éƒ½æ˜¯ä½¿ç”¨æœ€è¿‘Nä¸ªæ ·æœ¬çš„éç¼ºå¤±çš„ç‰¹å¾å€¼è¿›è¡Œå¡«å……ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.impute <span class="hljs-keyword">import</span> KNNImputer<br>nan = np.nan<br>X = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, nan], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>], [nan, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>]]<br>imputer = KNNImputer(n_neighbors=<span class="hljs-number">2</span>, weights=<span class="hljs-string">&quot;uniform&quot;</span>)<br>imputed_x=imputer.fit_transform(X) <br></code></pre></td></tr></table></figure><h2 id="08-ç¼ºå¤±å€¼æ ‡è®°"><a href="#08-ç¼ºå¤±å€¼æ ‡è®°" class="headerlink" title="08  ç¼ºå¤±å€¼æ ‡è®°"></a>08  ç¼ºå¤±å€¼æ ‡è®°</h2><p>è¯¥æ–¹æ³•ä¹Ÿæ˜¯æœ€ä¸ºå¸¸è§çš„ï¼Œå°±æ˜¯å°†æ•°æ®é›†ä¸­ç‰¹å¾è½¬æ¢ä¸ºç›¸åº”çš„äºŒè¿›åˆ¶çŸ©é˜µï¼Œä»¥æ ‡è¯†è¯¥æ•°æ®é›†ä¸­æ˜¯å¦å­˜åœ¨ç¼ºå¤±å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.impute <span class="hljs-keyword">import</span> MissingIndicator<br>X = np.array([[-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>],<br>              [<span class="hljs-number">4</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>],<br>              [<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>]])<br>indicator = MissingIndicator(missing_values=-<span class="hljs-number">1</span>)<br>mask_missing_values_only = indicator.fit_transform(X)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‰¹å¾é€‰æ‹©ç¤ºä¾‹</title>
    <link href="/2022/08/01/Python/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9%E7%AD%96%E7%95%A5/"/>
    <url>/2022/08/01/Python/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9%E7%AD%96%E7%95%A5/</url>
    
    <content type="html"><![CDATA[<p>å¤ªå¤šçš„ç‰¹å¾ä¼šå¢åŠ æ¨¡å‹çš„å¤æ‚æ€§å’Œè¿‡æ‹Ÿåˆï¼Œè€Œå¤ªå°‘çš„ç‰¹å¾ä¼šå¯¼è‡´æ¨¡å‹çš„æ‹Ÿåˆä¸è¶³ã€‚å°†æ¨¡å‹ä¼˜åŒ–ä¸ºè¶³å¤Ÿå¤æ‚ä»¥ä½¿å…¶æ€§èƒ½å¯æ¨å¹¿ï¼Œä½†åˆè¶³å¤Ÿç®€å•æ˜“äºè®­ç»ƒã€ç»´æŠ¤å’Œè§£é‡Šæ˜¯ç‰¹å¾é€‰æ‹©çš„ä¸»è¦å·¥ä½œã€‚</p><p>â€œç‰¹å¾é€‰æ‹©â€æ„å‘³ç€å¯ä»¥ä¿ç•™ä¸€äº›ç‰¹å¾å¹¶æ”¾å¼ƒå…¶ä»–ä¸€äº›ç‰¹å¾ã€‚æœ¬æ–‡çš„ç›®çš„æ˜¯æ¦‚è¿°ä¸€äº›ç‰¹å¾é€‰æ‹©ç­–ç•¥ï¼š</p><ol><li>åˆ é™¤æœªä½¿ç”¨çš„åˆ—</li><li>åˆ é™¤å…·æœ‰ç¼ºå¤±å€¼çš„åˆ—</li><li>ä¸ç›¸å…³çš„ç‰¹å¾</li><li>ä½æ–¹å·®ç‰¹å¾</li><li>å¤šé‡å…±çº¿æ€§</li><li>ç‰¹å¾ç³»æ•°</li><li>p å€¼</li><li>æ–¹å·®è†¨èƒ€å› å­ (VIF)</li><li>åŸºäºç‰¹å¾é‡è¦æ€§çš„ç‰¹å¾é€‰æ‹©</li><li>ä½¿ç”¨ sci-kit learn è¿›è¡Œè‡ªåŠ¨ç‰¹å¾é€‰æ‹©</li><li>ä¸»æˆåˆ†åˆ†æ (PCA)</li></ol><p>è¯¥æ¼”ç¤ºçš„æ•°æ®é›†åœ¨ MIT è®¸å¯ä¸‹å‘å¸ƒï¼Œæ¥è‡ª PyCaretâ€”â€”ä¸€ä¸ªå¼€æºçš„ä½ä»£ç æœºå™¨å­¦ä¹ åº“ã€‚</p><p>æ•°æ®é›†ç›¸å½“å¹²å‡€ï¼Œä½†æˆ‘åšäº†ä¸€äº›é¢„å¤„ç†ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä½¿ç”¨æ­¤æ•°æ®é›†æ¥æ¼”ç¤ºä¸åŒçš„ç‰¹å¾é€‰æ‹©ç­–ç•¥å¦‚ä½•å·¥ä½œï¼Œè€Œä¸æ˜¯æ„å»ºæœ€ç»ˆæ¨¡å‹ï¼Œå› æ­¤æ¨¡å‹æ€§èƒ½æ— å…³ç´§è¦ã€‚</p><p>é¦–å…ˆåŠ è½½æ•°æ®é›†ï¼š</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pddata = &#x27;https://raw.githubusercontent.com/pycaret/pycaret/master/datasets/automobile.csv&#x27;df = pd.read_csv(data)<br><span class="hljs-title">df</span>.sample(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><p><img src="/src/640-16561438083483.png" alt="å›¾ç‰‡"></p><p>è¯¥æ•°æ®é›†åŒ…å« 202 è¡Œå’Œ 26 åˆ—â€”â€”æ¯è¡Œä»£è¡¨ä¸€ä¸ªæ±½è½¦å®ä¾‹ï¼Œæ¯åˆ—ä»£è¡¨å…¶ç‰¹å¾å’Œç›¸åº”çš„ä»·æ ¼ã€‚è¿™äº›åˆ—åŒ…æ‹¬ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">df.columns<br>&gt;&gt; <span class="hljs-constructor">Index([&#x27;<span class="hljs-params">symboling</span>&#x27;, &#x27;<span class="hljs-params">normalized</span>-<span class="hljs-params">losses</span>&#x27;, &#x27;<span class="hljs-params">make</span>&#x27;, &#x27;<span class="hljs-params">fuel</span>-<span class="hljs-params">type</span>&#x27;, &#x27;<span class="hljs-params">aspiration</span>&#x27;, &#x27;<span class="hljs-params">num</span>-<span class="hljs-params">of</span>-<span class="hljs-params">doors</span>&#x27;, &#x27;<span class="hljs-params">body</span>-<span class="hljs-params">style</span>&#x27;, &#x27;<span class="hljs-params">drive</span>-<span class="hljs-params">wheels</span>&#x27;, &#x27;<span class="hljs-params">engine</span>-<span class="hljs-params">location</span>&#x27;,&#x27;<span class="hljs-params">wheel</span>-<span class="hljs-params">base</span>&#x27;, &#x27;<span class="hljs-params">length</span>&#x27;, &#x27;<span class="hljs-params">width</span>&#x27;, &#x27;<span class="hljs-params">height</span>&#x27;, &#x27;<span class="hljs-params">curb</span>-<span class="hljs-params">weight</span>&#x27;, &#x27;<span class="hljs-params">engine</span>-<span class="hljs-params">type</span>&#x27;, &#x27;<span class="hljs-params">num</span>-<span class="hljs-params">of</span>-<span class="hljs-params">cylinders</span>&#x27;, &#x27;<span class="hljs-params">engine</span>-<span class="hljs-params">size</span>&#x27;, &#x27;<span class="hljs-params">fuel</span>-<span class="hljs-params">system</span>&#x27;, &#x27;<span class="hljs-params">bore</span>&#x27;, &#x27;<span class="hljs-params">stroke</span>&#x27;, &#x27;<span class="hljs-params">compression</span>-<span class="hljs-params">ratio</span>&#x27;, &#x27;<span class="hljs-params">horsepower</span>&#x27;, &#x27;<span class="hljs-params">peak</span>-<span class="hljs-params">rpm</span>&#x27;, &#x27;<span class="hljs-params">city</span>-<span class="hljs-params">mpg</span>&#x27;, &#x27;<span class="hljs-params">highway</span>-<span class="hljs-params">mpg</span>&#x27;, &#x27;<span class="hljs-params">price</span>&#x27;], <span class="hljs-params">dtype</span>=&#x27;<span class="hljs-params">object</span>&#x27;)</span><br></code></pre></td></tr></table></figure><p>ç°åœ¨è®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶ç‰¹å¾é€‰æ‹©çš„ 11 ç§ç­–ç•¥ã€‚</p><h2 id="1-åˆ é™¤æœªä½¿ç”¨çš„åˆ—"><a href="#1-åˆ é™¤æœªä½¿ç”¨çš„åˆ—" class="headerlink" title="1.åˆ é™¤æœªä½¿ç”¨çš„åˆ—"></a><strong>1.åˆ é™¤æœªä½¿ç”¨çš„åˆ—</strong></h2><p>å½“ç„¶ï¼Œæœ€ç®€å•çš„ç­–ç•¥æ˜¯ä½ çš„ç›´è§‰ã€‚è™½ç„¶æ˜¯ç›´è§‰ï¼Œä½†æœ‰æ—¶å¾ˆæœ‰ç”¨çš„ï¼ŒæŸäº›åˆ—åœ¨æœ€ç»ˆæ¨¡å‹ä¸­ä¸ä¼šä»¥ä»»ä½•å½¢å¼ä½¿ç”¨ï¼ˆä¾‹å¦‚â€œIDâ€ã€â€œFirstNameâ€ã€â€œLastNameâ€ç­‰åˆ—ï¼‰ã€‚å¦‚æœæ‚¨çŸ¥é“æŸä¸ªç‰¹å®šåˆ—å°†ä¸ä¼šè¢«ä½¿ç”¨ï¼Œè¯·éšæ—¶å°†å…¶åˆ é™¤ã€‚åœ¨æˆ‘ä»¬çš„æ•°æ®ä¸­ï¼Œæ²¡æœ‰ä¸€åˆ—æœ‰è¿™æ ·çš„é—®é¢˜æ‰€ä»¥ï¼Œæˆ‘åœ¨æ­¤æ­¥éª¤ä¸­ä¸åˆ é™¤ä»»ä½•åˆ—ã€‚</p><h2 id="2-åˆ é™¤å…·æœ‰ç¼ºå¤±å€¼çš„åˆ—"><a href="#2-åˆ é™¤å…·æœ‰ç¼ºå¤±å€¼çš„åˆ—" class="headerlink" title="2.åˆ é™¤å…·æœ‰ç¼ºå¤±å€¼çš„åˆ—"></a><strong>2.åˆ é™¤å…·æœ‰ç¼ºå¤±å€¼çš„åˆ—</strong></h2><p>ç¼ºå¤±å€¼åœ¨æœºå™¨å­¦ä¹ ä¸­æ˜¯ä¸å¯æ¥å—çš„ï¼Œå› æ­¤æˆ‘ä»¬ä¼šé‡‡ç”¨ä¸åŒçš„ç­–ç•¥æ¥æ¸…ç†ç¼ºå¤±æ•°æ®ï¼ˆä¾‹å¦‚æ’è¡¥ï¼‰ã€‚ä½†æ˜¯å¦‚æœåˆ—ä¸­ç¼ºå°‘å¤§é‡æ•°æ®ï¼Œé‚£ä¹ˆå®Œå…¨åˆ é™¤å®ƒæ˜¯éå¸¸å¥½çš„æ–¹æ³•ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># total <span class="hljs-keyword">null</span> <span class="hljs-keyword">values</span> per columndf.<span class="hljs-keyword">isnull</span>().sum()<br>&gt;&gt;symboling             <span class="hljs-number">0</span>normalized-losses   <span class="hljs-number">35</span>make                 <span class="hljs-number">0</span>fuel-<span class="hljs-keyword">type</span>             <span class="hljs-number">0</span>aspiration           <span class="hljs-number">0</span>num-<span class="hljs-keyword">of</span>-doors         <span class="hljs-number">2</span>body-style           <span class="hljs-number">0</span>drive-wheels         <span class="hljs-number">0</span>engine-<span class="hljs-keyword">location</span>       <span class="hljs-number">0</span>wheel-base           <span class="hljs-number">0</span>length               <span class="hljs-number">0</span>width                 <span class="hljs-number">0</span>height               <span class="hljs-number">0</span>curb-weight           <span class="hljs-number">0</span>engine-<span class="hljs-keyword">type</span>           <span class="hljs-number">0</span>num-<span class="hljs-keyword">of</span>-cylinders     <span class="hljs-number">0</span>engine-size           <span class="hljs-number">0</span>fuel-<span class="hljs-keyword">system</span>           <span class="hljs-number">0</span>bore                 <span class="hljs-number">0</span>stroke               <span class="hljs-number">0</span>compression-ratio     <span class="hljs-number">0</span>horsepower           <span class="hljs-number">0</span>peak-rpm             <span class="hljs-number">0</span>city-mpg             <span class="hljs-number">0</span>highway-mpg           <span class="hljs-number">0</span>price                 <span class="hljs-number">0</span>dtype: int64<br></code></pre></td></tr></table></figure><h2 id="3-ä¸ç›¸å…³çš„ç‰¹å¾"><a href="#3-ä¸ç›¸å…³çš„ç‰¹å¾" class="headerlink" title="3.ä¸ç›¸å…³çš„ç‰¹å¾"></a><strong>3.ä¸ç›¸å…³çš„ç‰¹å¾</strong></h2><p>æ— è®ºç®—æ³•æ˜¯å›å½’ï¼ˆé¢„æµ‹æ•°å­—ï¼‰è¿˜æ˜¯åˆ†ç±»ï¼ˆé¢„æµ‹ç±»åˆ«ï¼‰ï¼Œç‰¹å¾éƒ½å¿…é¡»ä¸ç›®æ ‡ç›¸å…³ã€‚å¦‚æœä¸€ä¸ªç‰¹å¾æ²¡æœ‰è¡¨ç°å‡ºç›¸å…³æ€§ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªä¸»è¦çš„æ¶ˆé™¤ç›®æ ‡ã€‚å¯ä»¥åˆ†åˆ«æµ‹è¯•æ•°å€¼å’Œåˆ†ç±»ç‰¹å¾çš„ç›¸å…³æ€§ã€‚</p><p><strong>æ•°å€¼å˜é‡</strong></p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp"># correlation between target and features(<span class="hljs-name">df</span>.corr().loc[&#x27;price&#x27;].plot(<span class="hljs-name">kind=</span>&#x27;barh&#x27;, figsize=(<span class="hljs-number">4</span>,<span class="hljs-number">10</span>)))<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="å›¾ç‰‡"></p><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œpeak-rpm, compression-ratio, stroke, bore, height , symboling ç­‰ç‰¹å¾ä¸ä»·æ ¼å‡ ä¹æ²¡æœ‰ç›¸å…³æ€§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ é™¤å®ƒä»¬ã€‚</p><p>å¯ä»¥æ‰‹åŠ¨åˆ é™¤åˆ—ï¼Œä½†æˆ‘æ›´å–œæ¬¢ä½¿ç”¨ç›¸å…³é˜ˆå€¼ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º 0.2ï¼‰ä»¥ç¼–ç¨‹æ–¹å¼è¿›è¡Œï¼š</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stata"># <span class="hljs-keyword">drop</span> uncorrelated numeric features (threshold &lt;0.2)<span class="hljs-keyword">corr</span> = <span class="hljs-built_in">abs</span>(df.<span class="hljs-built_in">corr</span>().<span class="hljs-keyword">loc</span>[&#x27;price&#x27;])<span class="hljs-keyword">corr</span> = <span class="hljs-keyword">corr</span>[<span class="hljs-keyword">corr</span>&lt;0.2]cols_to_drop = <span class="hljs-keyword">corr</span>.index.to_list()df = df.<span class="hljs-keyword">drop</span>(cols_to_drop, axis=1)<br></code></pre></td></tr></table></figure><p><strong>åˆ†ç±»å˜é‡</strong></p><p>å¯ä»¥ä½¿ç”¨ç®±çº¿å›¾æŸ¥æ‰¾ç›®æ ‡å’Œåˆ†ç±»ç‰¹å¾ä¹‹é—´çš„ç›¸å…³æ€§ï¼š</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-title">sns</span>.boxplot(y = &#x27;price&#x27;, x = &#x27;fuel-<span class="hljs-class"><span class="hljs-keyword">type</span>&#x27;, <span class="hljs-keyword">data</span>=df)</span><br></code></pre></td></tr></table></figure><p>æŸ´æ²¹è½¦çš„ä¸­ä½ä»·é«˜äºæ±½æ²¹è½¦ã€‚è¿™æ„å‘³ç€è¿™ä¸ªåˆ†ç±»å˜é‡å¯ä»¥è§£é‡Šæ±½è½¦ä»·æ ¼ï¼Œæ‰€ä»¥åº”æ”¾å¼ƒå®ƒã€‚å¯ä»¥åƒè¿™æ ·å•ç‹¬æ£€æŸ¥æ¯ä¸ªåˆ†ç±»åˆ—ã€‚</p><h2 id="4-ä½æ–¹å·®ç‰¹å¾"><a href="#4-ä½æ–¹å·®ç‰¹å¾" class="headerlink" title="4.ä½æ–¹å·®ç‰¹å¾"></a><strong>4.ä½æ–¹å·®ç‰¹å¾</strong></h2><p>æ£€æŸ¥ä¸€ä¸‹æˆ‘ä»¬çš„ç‰¹å¾çš„å·®å¼‚ï¼š</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br># variance <span class="hljs-keyword">of</span> numeric features(df.select_dtypes(include=np.number).var().astype(&#x27;str&#x27;))<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="å›¾ç‰‡"></p><p>è¿™é‡Œçš„â€œboreâ€å…·æœ‰æä½çš„æ–¹å·®ï¼Œè™½ç„¶è¿™æ˜¯åˆ é™¤çš„å€™é€‰è€…ã€‚åœ¨è¿™ä¸ªç‰¹æ®Šçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä¸æ„¿æ„åˆ é™¤å®ƒï¼Œå› ä¸ºå®ƒçš„å€¼åœ¨2.54å’Œ3.94ä¹‹é—´ï¼Œå› æ­¤æ–¹å·®å¾ˆä½ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">df<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;bore&#x27;</span>]</span><span class="hljs-selector-class">.describe</span>()<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="å›¾ç‰‡"></p><h2 id="5-å¤šé‡å…±çº¿æ€§"><a href="#5-å¤šé‡å…±çº¿æ€§" class="headerlink" title="5.å¤šé‡å…±çº¿æ€§"></a><strong>5.å¤šé‡å…±çº¿æ€§</strong></h2><p>å½“ä»»ä½•ä¸¤ä¸ªç‰¹å¾ä¹‹é—´å­˜åœ¨ç›¸å…³æ€§æ—¶ï¼Œå°±ä¼šå‡ºç°å¤šé‡å…±çº¿æ€§ã€‚åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼ŒæœŸæœ›æ¯ä¸ªç‰¹å¾éƒ½åº”è¯¥ç‹¬ç«‹äºå…¶ä»–ç‰¹å¾ï¼Œå³å®ƒä»¬ä¹‹é—´æ²¡æœ‰å…±çº¿æ€§ã€‚é«˜é©¬åŠ›è½¦è¾†å¾€å¾€å…·æœ‰é«˜å‘åŠ¨æœºå°ºå¯¸ã€‚æ‰€ä»¥ä½ å¯èƒ½æƒ³æ¶ˆé™¤å…¶ä¸­ä¸€ä¸ªï¼Œè®©å¦ä¸€ä¸ªå†³å®šç›®æ ‡å˜é‡â€”â€”ä»·æ ¼ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åˆ†åˆ«æµ‹è¯•æ•°å­—å’Œåˆ†ç±»ç‰¹å¾çš„å¤šé‡å…±çº¿æ€§ï¼š</p><p><strong>æ•°å€¼å˜é‡</strong></p><p>Heatmap æ˜¯æ£€æŸ¥å’Œå¯»æ‰¾ç›¸å…³ç‰¹å¾çš„æœ€ç®€å•æ–¹æ³•ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br>sns.<span class="hljs-built_in">set</span>(rc=&#123;<span class="hljs-string">&#x27;figure.figsize&#x27;</span>:(16,10)&#125;)sns.heatmap(df.corr(),          <span class="hljs-attribute">annot</span>=<span class="hljs-literal">True</span>,          <span class="hljs-attribute">linewidths</span>=.5,          <span class="hljs-attribute">center</span>=0,          <span class="hljs-attribute">cbar</span>=<span class="hljs-literal">False</span>,          <span class="hljs-attribute">cmap</span>=<span class="hljs-string">&quot;PiYG&quot;</span>)plt.show()<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="å›¾ç‰‡"></p><p>å¤§å¤šæ•°ç‰¹å¾åœ¨æŸç§ç¨‹åº¦ä¸Šç›¸äº’å…³è”ï¼Œä½†æœ‰äº›ç‰¹å¾å…·æœ‰éå¸¸é«˜çš„ç›¸å…³æ€§ï¼Œä¾‹å¦‚é•¿åº¦ä¸è½´è·ä»¥åŠå‘åŠ¨æœºå°ºå¯¸ä¸é©¬åŠ›ã€‚</p><p>å¯ä»¥æ ¹æ®ç›¸å…³é˜ˆå€¼æ‰‹åŠ¨æˆ–ä»¥ç¼–ç¨‹æ–¹å¼åˆ é™¤è¿™äº›åŠŸèƒ½ã€‚æˆ‘å°†æ‰‹åŠ¨åˆ é™¤å…·æœ‰ 0.80 å…±çº¿æ€§é˜ˆå€¼çš„ç‰¹å¾ã€‚</p><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sml"># drop correlated featuresdf = df.drop([<span class="hljs-symbol">&#x27;length&#x27;</span>, <span class="hljs-symbol">&#x27;width&#x27;</span>, <span class="hljs-symbol">&#x27;curb</span>-weight&#x27;, <span class="hljs-symbol">&#x27;engine</span>-size&#x27;, <span class="hljs-symbol">&#x27;city</span>-mpg&#x27;], axis=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>è¿˜å¯ä»¥ä½¿ç”¨ç§°ä¸ºæ–¹å·®è†¨èƒ€å› å­ (VIF) çš„æ–¹æ³•æ¥ç¡®å®šå¤šé‡å…±çº¿æ€§å¹¶æ ¹æ®é«˜ VIF å€¼åˆ é™¤ç‰¹å¾ã€‚æˆ‘ç¨åä¼šå±•ç¤ºè¿™ä¸ªä¾‹å­ã€‚</p><p><strong>åˆ†ç±»å˜é‡</strong></p><p>ä¸æ•°å€¼ç‰¹å¾ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥æ£€æŸ¥åˆ†ç±»å˜é‡ä¹‹é—´çš„å…±çº¿æ€§ã€‚è¯¸å¦‚ç‹¬ç«‹æ€§å¡æ–¹æ£€éªŒä¹‹ç±»çš„ç»Ÿè®¡æ£€éªŒéå¸¸é€‚åˆå®ƒã€‚</p><p>è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹æ•°æ®é›†ä¸­çš„ä¸¤ä¸ªåˆ†ç±»åˆ—â€”â€”ç‡ƒæ–™ç±»å‹å’Œè½¦èº«é£æ ¼â€”â€”æ˜¯ç‹¬ç«‹çš„è¿˜æ˜¯ç›¸å…³çš„ã€‚</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lua">df_cat = df<span class="hljs-string">[[&#x27;fuel-type&#x27;, &#x27;body-style&#x27;]]</span>df_cat.sample(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><p><img src="/src/640-16561438083495.png" alt="å›¾ç‰‡"></p><p>ç„¶åæˆ‘ä»¬å°†åœ¨æ¯ä¸€åˆ—ä¸­åˆ›å»ºä¸€ä¸ªç±»åˆ«çš„äº¤å‰è¡¨&#x2F;åˆ—è”è¡¨ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">crosstab = pd<span class="hljs-selector-class">.crosstab</span>(df_cat<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;fuel-type&#x27;</span>]</span>, df_cat<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;body-style&#x27;</span>]</span>)crosstab<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="å›¾ç‰‡"></p><p>æœ€åï¼Œæˆ‘ä»¬å°†åœ¨äº¤å‰è¡¨ä¸Šè¿è¡Œå¡æ–¹æ£€éªŒï¼Œè¿™å°†å‘Šè¯‰æˆ‘ä»¬è¿™ä¸¤ä¸ªç‰¹å¾æ˜¯å¦ç‹¬ç«‹ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">from scipy<span class="hljs-selector-class">.stats</span> import chi2_contingency<br><span class="hljs-function"><span class="hljs-title">chi2_contingency</span><span class="hljs-params">(crosstab)</span></span><br></code></pre></td></tr></table></figure><p>è¾“å‡ºä¾æ¬¡æ˜¯å¡æ–¹å€¼ã€p å€¼ã€è‡ªç”±åº¦å’Œé¢„æœŸé¢‘ç‡æ•°ç»„ã€‚</p><p>p å€¼ &lt;0.05ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ‹’ç»ç‰¹å¾ä¹‹é—´æ²¡æœ‰å…³è”çš„åŸå‡è®¾ï¼Œå³ä¸¤ä¸ªç‰¹å¾ä¹‹é—´å­˜åœ¨ç»Ÿè®¡ä¸Šæ˜¾ç€çš„å…³ç³»ã€‚</p><p>ç”±äºè¿™ä¸¤ä¸ªç‰¹å¾ä¹‹é—´å­˜åœ¨å…³è”ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åˆ é™¤å…¶ä¸­ä¸€ä¸ªã€‚</p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘å·²ç»å±•ç¤ºäº†åœ¨å®ç°æ¨¡å‹ä¹‹å‰åº”ç”¨çš„ç‰¹å¾é€‰æ‹©ç­–ç•¥ã€‚è¿™äº›ç­–ç•¥åœ¨ç¬¬ä¸€è½®ç‰¹å¾é€‰æ‹©ä»¥å»ºç«‹åˆå§‹æ¨¡å‹æ—¶å¾ˆæœ‰ç”¨ã€‚ä½†æ˜¯ä¸€æ—¦æ„å»ºäº†æ¨¡å‹ï¼Œå°±å¯ä»¥è·å¾—æœ‰å…³æ¨¡å‹æ€§èƒ½ä¸­æ¯ä¸ªç‰¹å¾çš„é€‚åº”åº¦çš„æ›´å¤šä¿¡æ¯ã€‚æ ¹æ®è¿™äº›æ–°ä¿¡æ¯ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç¡®å®šè¦ä¿ç•™å“ªäº›åŠŸèƒ½ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨æœ€ç®€å•çš„çº¿æ€§æ¨¡å‹å±•ç¤ºå…¶ä¸­çš„ä¸€äº›æ–¹æ³•ã€‚</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-meta"># drop columns with missing valuesdf = df.dropna()</span><br><span class="hljs-title">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split# get dummies for categorical featuresdf = pd.get_dummies(<span class="hljs-title">df</span>, <span class="hljs-title">drop_first</span>=<span class="hljs-type">True</span>)# X featuresX = df.drop(&#x27;<span class="hljs-title">price&#x27;</span>, <span class="hljs-title">axis</span>=1)# y targety = df[&#x27;price&#x27;]# split data into training and testing setX_train, X_test, y_train, y_test = train_test_split(<span class="hljs-type">X</span>, <span class="hljs-title">y</span>, <span class="hljs-title">test_size</span>=0.3, <span class="hljs-title">random_state</span>=42)<br><span class="hljs-title">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression# scalingfrom sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScalerscaler = StandardScaler()X_train = scaler.fit_transform(<span class="hljs-type">X_train</span>)X_test = scaler.fit_transform(<span class="hljs-type">X_test</span>)# convert back to dataframeX_train = pd.DataFrame(<span class="hljs-type">X_train</span>, <span class="hljs-title">columns</span> = <span class="hljs-type">X</span>.<span class="hljs-title">columns</span>.<span class="hljs-title">to_list</span>())X_test = pd.DataFrame(<span class="hljs-type">X_test</span>, <span class="hljs-title">columns</span> = <span class="hljs-type">X</span>.<span class="hljs-title">columns</span>.<span class="hljs-title">to_list</span>())# instantiate modelmodel = LinearRegression()# fitmodel.fit(<span class="hljs-type">X_train</span>, <span class="hljs-title">y_train</span>)<br></code></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å·²ç»æ‹Ÿåˆäº†æ¨¡å‹ï¼Œè®©æˆ‘ä»¬è¿›è¡Œå¦ä¸€è½®ç‰¹å¾é€‰æ‹©ã€‚</p><h2 id="6-ç‰¹å¾ç³»æ•°"><a href="#6-ç‰¹å¾ç³»æ•°" class="headerlink" title="6.ç‰¹å¾ç³»æ•°"></a><strong>6.ç‰¹å¾ç³»æ•°</strong></h2><p>å¦‚æœæ­£åœ¨è¿è¡Œå›å½’ä»»åŠ¡ï¼Œåˆ™ç‰¹å¾é€‚åº”åº¦çš„ä¸€ä¸ªå…³é”®æŒ‡æ ‡æ˜¯å›å½’ç³»æ•°ï¼ˆæ‰€è°“çš„ beta ç³»æ•°ï¼‰ï¼Œå®ƒæ˜¾ç¤ºäº†æ¨¡å‹ä¸­ç‰¹å¾çš„ç›¸å¯¹è´¡çŒ®ã€‚æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œå¯ä»¥åˆ é™¤è´¡çŒ®å¾ˆå°æˆ–æ²¡æœ‰è´¡çŒ®çš„åŠŸèƒ½ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"># feature coefficientscoeffs = model.coef_<br># visualizing coefficientsindex = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">X_train</span>.</span></span>columns.tolist<span class="hljs-literal">()</span><br>(pd.<span class="hljs-constructor">DataFrame(<span class="hljs-params">coeffs</span>, <span class="hljs-params">index</span> = <span class="hljs-params">index</span>, <span class="hljs-params">columns</span> = [&#x27;<span class="hljs-params">coeff</span>&#x27;])</span>.sort<span class="hljs-constructor">_values(<span class="hljs-params">by</span> = &#x27;<span class="hljs-params">coeff</span>&#x27;)</span>.plot(kind=&#x27;barh&#x27;, figsize=(<span class="hljs-number">4</span>,<span class="hljs-number">10</span>)))<br></code></pre></td></tr></table></figure><p><img src="/src/640-16561438083496.png" alt="å›¾ç‰‡"></p><p>æŸäº›ç‰¹å¾beta ç³»æ•°å¾ˆå°ï¼Œå¯¹æ±½è½¦ä»·æ ¼çš„é¢„æµ‹è´¡çŒ®ä¸å¤§ã€‚å¯ä»¥è¿‡æ»¤æ‰è¿™äº›ç‰¹å¾ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># <span class="hljs-keyword">filter</span> variables near zero coefficient valuetemp = pd.DataFrame(coeffs, <span class="hljs-keyword">index</span> = <span class="hljs-keyword">index</span>, <span class="hljs-keyword">columns</span> = [<span class="hljs-string">&#x27;coeff&#x27;</span>]).sort_values(<span class="hljs-keyword">by</span> = <span class="hljs-string">&#x27;coeff&#x27;</span>)<span class="hljs-keyword">temp</span> = <span class="hljs-keyword">temp</span>[(<span class="hljs-keyword">temp</span>[<span class="hljs-string">&#x27;coeff&#x27;</span>]&gt;<span class="hljs-number">1</span>) | (<span class="hljs-keyword">temp</span>[<span class="hljs-string">&#x27;coeff&#x27;</span>]&lt; <span class="hljs-number">-1</span>)]<br># <span class="hljs-keyword">drop</span> those featurescols_coeff = <span class="hljs-keyword">temp</span>.<span class="hljs-keyword">index</span>.to_list()X_train = X_train[cols_coeff]X_test = X_test[cols_coeff]<br></code></pre></td></tr></table></figure><h2 id="7-p-å€¼"><a href="#7-p-å€¼" class="headerlink" title="7.p å€¼"></a><strong>7.p å€¼</strong></h2><p>åœ¨å›å½’ä¸­ï¼Œp å€¼å‘Šè¯‰æˆ‘ä»¬é¢„æµ‹å˜é‡å’Œç›®æ ‡ä¹‹é—´çš„å…³ç³»æ˜¯å¦å…·æœ‰ç»Ÿè®¡æ˜¾è‘—æ€§ã€‚statsmodels åº“æä¾›äº†å¸¦æœ‰ç‰¹å¾ç³»æ•°å’Œç›¸å…³ p å€¼çš„å›å½’è¾“å‡ºçš„å‡½æ•°ã€‚</p><p>å¦‚æœæŸäº›ç‰¹å¾ä¸æ˜¾è‘—ï¼Œå¯ä»¥å°†å®ƒä»¬ä¸€ä¸ªä¸€ä¸ªç§»é™¤ï¼Œç„¶åæ¯æ¬¡é‡æ–°è¿è¡Œæ¨¡å‹ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ç»„å…·æœ‰æ˜¾ç€ p å€¼çš„ç‰¹å¾ï¼Œå¹¶é€šè¿‡æ›´é«˜çš„è°ƒæ•´ R2 æé«˜æ€§èƒ½ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> statsmodels.api <span class="hljs-keyword">as</span> smols = sm.OLS(y, <span class="hljs-type">X</span>).fit()print(ols.summary())<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="å›¾ç‰‡"></p><h2 id="8-æ–¹å·®è†¨èƒ€å› å­-VIF"><a href="#8-æ–¹å·®è†¨èƒ€å› å­-VIF" class="headerlink" title="8.æ–¹å·®è†¨èƒ€å› å­ (VIF)"></a><strong>8.æ–¹å·®è†¨èƒ€å› å­ (VIF)</strong></h2><p>æ–¹å·®è†¨èƒ€å› å­ (VIF) æ˜¯è¡¡é‡å¤šé‡å…±çº¿æ€§çš„å¦ä¸€ç§æ–¹æ³•ã€‚å®ƒè¢«æµ‹é‡ä¸ºæ•´ä½“æ¨¡å‹æ–¹å·®ä¸æ¯ä¸ªç‹¬ç«‹ç‰¹å¾çš„æ–¹å·®çš„æ¯”ç‡ã€‚ä¸€ä¸ªç‰¹å¾çš„é«˜ VIF è¡¨æ˜å®ƒä¸ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–ç‰¹å¾ç›¸å…³ã€‚æ ¹æ®ç»éªŒï¼š</p><ul><li>VIF &#x3D; 1 è¡¨ç¤ºæ— ç›¸å…³æ€§</li><li>VIF &#x3D; 1-5 ä¸­ç­‰ç›¸å…³æ€§</li><li>VIF &gt;5 é«˜ç›¸å…³</li></ul><p>VIF æ˜¯ä¸€ç§æ¶ˆé™¤å¤šé‡å…±çº¿æ€§ç‰¹å¾çš„æœ‰ç”¨æŠ€æœ¯ã€‚å¯¹äºæˆ‘ä»¬çš„æ¼”ç¤ºï¼Œå°†æ‰€æœ‰ VIF é«˜äº10çš„åˆ é™¤ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">from statsmodels.stats.outliers_influence import variance_inflation_factor<br># calculate VIFvif = pd.<span class="hljs-constructor">Series([<span class="hljs-params">variance_inflation_factor</span>(X.<span class="hljs-params">values</span>, <span class="hljs-params">i</span>)</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">X</span>.</span></span>shape<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>)], index=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">X</span>.</span></span>columns)<br># display VIFs <span class="hljs-keyword">in</span> a tableindex = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">X_train</span>.</span></span>columns.tolist<span class="hljs-literal">()</span>vif_df = pd.<span class="hljs-constructor">DataFrame(<span class="hljs-params">vif</span>, <span class="hljs-params">index</span> = <span class="hljs-params">index</span>, <span class="hljs-params">columns</span> = [&#x27;<span class="hljs-params">vif</span>&#x27;])</span>.sort<span class="hljs-constructor">_values(<span class="hljs-params">by</span> = &#x27;<span class="hljs-params">vif</span>&#x27;, <span class="hljs-params">ascending</span>=False)</span>vif_df<span class="hljs-literal">[<span class="hljs-identifier">vif_df</span>[&#x27;<span class="hljs-identifier">vif</span>&#x27;]</span>&lt;<span class="hljs-number">10</span>]<br></code></pre></td></tr></table></figure><p><img src="/src/640-16561438083497.png" alt="å›¾ç‰‡"></p><h2 id="9-åŸºäºç‰¹å¾é‡è¦æ€§é€‰æ‹©"><a href="#9-åŸºäºç‰¹å¾é‡è¦æ€§é€‰æ‹©" class="headerlink" title="9.åŸºäºç‰¹å¾é‡è¦æ€§é€‰æ‹©"></a><strong>9.åŸºäºç‰¹å¾é‡è¦æ€§é€‰æ‹©</strong></h2><p>å†³ç­–æ ‘&#x2F;éšæœºæ£®æ—ä½¿ç”¨ä¸€ä¸ªç‰¹å¾æ¥åˆ†å‰²æ•°æ®ï¼Œè¯¥ç‰¹å¾æœ€å¤§ç¨‹åº¦åœ°å‡å°‘äº†æ‚è´¨(ä»¥åŸºå°¼ç³»æ•°æ‚è´¨æˆ–ä¿¡æ¯å¢ç›Šè¡¡é‡)ã€‚æ‰¾åˆ°æœ€ä½³ç‰¹å¾æ˜¯ç®—æ³•å¦‚ä½•åœ¨åˆ†ç±»ä»»åŠ¡ä¸­å·¥ä½œçš„å…³é”®éƒ¨åˆ†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ feature_importances_ å±æ€§è®¿é—®æœ€å¥½çš„ç‰¹å¾ã€‚</p><p>è®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„æ•°æ®é›†ä¸Šå®ç°ä¸€ä¸ªéšæœºæ£®æ—æ¨¡å‹å¹¶è¿‡æ»¤ä¸€äº›ç‰¹å¾ã€‚</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs clean"><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestClassifier<br># instantiate modelmodel = RandomForestClassifier(n_estimators=<span class="hljs-number">200</span>, random_state=<span class="hljs-number">0</span>)# fit modelmodel.fit(X,y)<br></code></pre></td></tr></table></figure><p>ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹ç‰¹å¾é‡è¦æ€§ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"># feature importanceimportances = model.feature_importances_<br># visualizationcols = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">X</span>.</span></span>columns(pd.<span class="hljs-constructor">DataFrame(<span class="hljs-params">importances</span>, <span class="hljs-params">cols</span>, <span class="hljs-params">columns</span> = [&#x27;<span class="hljs-params">importance</span>&#x27;])</span>.sort<span class="hljs-constructor">_values(<span class="hljs-params">by</span>=&#x27;<span class="hljs-params">importance</span>&#x27;, <span class="hljs-params">ascending</span>=True)</span>.plot(kind=&#x27;barh&#x27;, figsize=(<span class="hljs-number">4</span>,<span class="hljs-number">10</span>)))<br></code></pre></td></tr></table></figure><p><img src="/src/640-16561438083508.png" alt="å›¾ç‰‡"></p><p>ä¸Šé¢çš„è¾“å‡ºæ˜¾ç¤ºäº†æ¯ä¸ªç‰¹å¾åœ¨å‡å°‘æ¯ä¸ªèŠ‚ç‚¹&#x2F;æ‹†åˆ†å¤„çš„é‡è¦æ€§ã€‚</p><p>ç”±äºéšæœºæ£®æ—åˆ†ç±»å™¨æœ‰å¾ˆå¤šä¼°è®¡é‡ï¼ˆä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„ 200 æ£µå†³ç­–æ ‘ï¼‰ï¼Œå¯ä»¥ç”¨ç½®ä¿¡åŒºé—´è®¡ç®—ç›¸å¯¹é‡è¦æ€§çš„ä¼°è®¡å€¼ã€‚</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"># calculate standard deviation of feature importancesstd = np<span class="hljs-number">.</span><span class="hljs-keyword">std</span>([i<span class="hljs-number">.</span>feature_importances_ for i <span class="hljs-keyword">in</span> model<span class="hljs-number">.</span>estimators_], axis=<span class="hljs-number">0</span>)<br># visualizationfeat_with_importance = pd<span class="hljs-number">.</span>Series(importances, X<span class="hljs-number">.</span>columns)fig, <span class="hljs-built_in">ax</span> = plt<span class="hljs-number">.</span>subplots(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">5</span>))feat_with_importance<span class="hljs-number">.</span>plot<span class="hljs-number">.</span>bar(yerr=<span class="hljs-keyword">std</span>, <span class="hljs-built_in">ax</span>=<span class="hljs-built_in">ax</span>)<span class="hljs-built_in">ax</span><span class="hljs-number">.</span>set_title(<span class="hljs-string">&quot;Feature importances&quot;</span>)<span class="hljs-built_in">ax</span><span class="hljs-number">.</span>set_ylabel(<span class="hljs-string">&quot;Mean decrease in impurity&quot;</span>)<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="å›¾ç‰‡"></p><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†æ¯ä¸ªç‰¹å¾çš„é‡è¦æ€§ï¼Œå¯ä»¥æ‰‹åŠ¨ï¼ˆæˆ–ä»¥ç¼–ç¨‹æ–¹å¼ï¼‰ç¡®å®šä¿ç•™å“ªäº›ç‰¹å¾ä»¥åŠåˆ é™¤å“ªäº›ç‰¹å¾ã€‚</p><h2 id="10-ä½¿ç”¨-Scikit-Learn-è‡ªåŠ¨é€‰æ‹©ç‰¹å¾"><a href="#10-ä½¿ç”¨-Scikit-Learn-è‡ªåŠ¨é€‰æ‹©ç‰¹å¾" class="headerlink" title="10.ä½¿ç”¨ Scikit Learn è‡ªåŠ¨é€‰æ‹©ç‰¹å¾"></a><strong>10.ä½¿ç”¨ Scikit Learn è‡ªåŠ¨é€‰æ‹©ç‰¹å¾</strong></h2><p>sklearn åº“ä¸­æœ‰ä¸€ä¸ªå®Œæ•´çš„æ¨¡å—ï¼Œåªéœ€å‡ è¡Œä»£ç å³å¯å¤„ç†ç‰¹å¾é€‰æ‹©ã€‚</p><p>sklearn ä¸­æœ‰è®¸å¤šè‡ªåŠ¨åŒ–æµç¨‹ï¼Œä½†è¿™é‡Œæˆ‘åªå±•ç¤ºä¸€äº›ï¼š</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elm"># <span class="hljs-keyword">import</span> modulesfrom sklearn.feature_selection <span class="hljs-keyword">import</span> (<span class="hljs-type">SelectKBest</span>, chi2, <span class="hljs-type">SelectPercentile</span>, <span class="hljs-type">SelectFromModel</span>, <span class="hljs-type">SequentialFeatureSelector</span>, <span class="hljs-type">SequentialFeatureSelector</span>)<br></code></pre></td></tr></table></figure><p><strong>åŸºäºå¡æ–¹çš„æŠ€æœ¯</strong></p><p>åŸºäºå¡æ–¹çš„æŠ€æœ¯æ ¹æ®ä¸€äº›é¢„å®šä¹‰çš„åˆ†æ•°é€‰æ‹©ç‰¹å®šæ•°é‡çš„ç”¨æˆ·å®šä¹‰ç‰¹å¾ (k)ã€‚è¿™äº›åˆ†æ•°æ˜¯é€šè¿‡è®¡ç®— Xï¼ˆç‹¬ç«‹ï¼‰å’Œ yï¼ˆå› ï¼‰å˜é‡ä¹‹é—´çš„å¡æ–¹ç»Ÿè®¡é‡æ¥ç¡®å®šçš„ã€‚åœ¨ sklearn ä¸­ï¼Œéœ€è¦åšçš„å°±æ˜¯ç¡®å®šè¦ä¿ç•™å¤šå°‘ç‰¹å¾ã€‚å¦‚æœæƒ³ä¿ç•™ 10 ä¸ªåŠŸèƒ½ï¼Œå®ç°å°†å¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"># select K best featuresX_best = <span class="hljs-constructor">SelectKBest(<span class="hljs-params">chi2</span>, <span class="hljs-params">k</span>=10)</span>.fit<span class="hljs-constructor">_transform(X,<span class="hljs-params">y</span>)</span><br># number <span class="hljs-keyword">of</span> best featuresX_best.shape<span class="hljs-literal">[<span class="hljs-number">1</span>]</span><br>&gt;&gt; <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæœ‰å¤§é‡ç‰¹å¾ï¼Œå¯ä»¥æŒ‡å®šè¦ä¿ç•™çš„ç‰¹å¾ç™¾åˆ†æ¯”ã€‚å‡è®¾æˆ‘ä»¬æƒ³è¦ä¿ç•™ 75% çš„ç‰¹å¾å¹¶ä¸¢å¼ƒå‰©ä½™çš„ 25%ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"># keep <span class="hljs-number">75</span>% top featuresX_top = <span class="hljs-constructor">SelectPercentile(<span class="hljs-params">chi2</span>, <span class="hljs-params">percentile</span> = 75)</span>.fit<span class="hljs-constructor">_transform(X,<span class="hljs-params">y</span>)</span><br># number <span class="hljs-keyword">of</span> best featuresX_top.shape<span class="hljs-literal">[<span class="hljs-number">1</span>]</span><br>&gt;&gt; <span class="hljs-number">36</span><br></code></pre></td></tr></table></figure><p><strong>æ­£åˆ™åŒ–</strong></p><p>æ­£åˆ™åŒ–å‡å°‘äº†è¿‡æ‹Ÿåˆã€‚å¦‚æœä½ æœ‰å¤ªå¤šçš„ç‰¹å¾ï¼Œæ­£åˆ™åŒ–æ§åˆ¶å®ƒä»¬çš„æ•ˆæœï¼Œæˆ–è€…é€šè¿‡ç¼©å°ç‰¹å¾ç³»æ•°ï¼ˆç§°ä¸º L2 æ­£åˆ™åŒ–ï¼‰æˆ–å°†ä¸€äº›ç‰¹å¾ç³»æ•°è®¾ç½®ä¸ºé›¶ï¼ˆç§°ä¸º L1 æ­£åˆ™åŒ–ï¼‰ã€‚</p><p>ä¸€äº›æ¨¡å‹å…·æœ‰å†…ç½®çš„ L1&#x2F;L2 æ­£åˆ™åŒ–ä½œä¸ºè¶…å‚æ•°æ¥æƒ©ç½šç‰¹å¾ã€‚å¯ä»¥ä½¿ç”¨è½¬æ¢å™¨ SelectFromModel æ¶ˆé™¤è¿™äº›åŠŸèƒ½ã€‚</p><p>è®©æˆ‘ä»¬å®ç°ä¸€ä¸ªå¸¦æœ‰æƒ©ç½š &#x3D; â€˜l1â€™ çš„ LinearSVC ç®—æ³•ã€‚ç„¶åä½¿ç”¨ SelectFromModel åˆ é™¤ä¸€äº›åŠŸèƒ½ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># implement algorithmfrom sklearn.svm <span class="hljs-keyword">import</span> LinearSVCmodel = LinearSVC(penalty= <span class="hljs-string">&#x27;l1&#x27;</span>, C = <span class="hljs-number">0.002</span>, dual=<span class="hljs-keyword">False</span>)model.fit(X,y)# <span class="hljs-keyword">select</span> features <span class="hljs-keyword">using</span> the meta transformerselector = SelectFromModel(estimator = model, prefit=<span class="hljs-keyword">True</span>)<br>X_new = selector.<span class="hljs-keyword">transform</span>(X)X_new.shape[<span class="hljs-number">1</span>]<br>&gt;&gt; <span class="hljs-number">2</span><br># names <span class="hljs-keyword">of</span> selected featuresfeature_names = np.<span class="hljs-keyword">array</span>(X.<span class="hljs-keyword">columns</span>)feature_names[selector.get_support()]<br>&gt;&gt; <span class="hljs-keyword">array</span>([<span class="hljs-string">&#x27;wheel-base&#x27;</span>, <span class="hljs-string">&#x27;horsepower&#x27;</span>], dtype=<span class="hljs-keyword">object</span>)<br></code></pre></td></tr></table></figure><p><strong>åºè´¯æ³•</strong></p><p>åºè´¯æ³•æ˜¯ä¸€ç§ç»å…¸çš„ç»Ÿè®¡æŠ€æœ¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä¸€æ¬¡æ·»åŠ &#x2F;åˆ é™¤ä¸€ä¸ªåŠŸèƒ½å¹¶æ£€æŸ¥æ¨¡å‹æ€§èƒ½ï¼Œç›´åˆ°å®ƒé’ˆå¯¹éœ€æ±‚è¿›è¡Œä¼˜åŒ–ã€‚</p><p>åºè´¯æ³•æœ‰ä¸¤ç§å˜ä½“ã€‚å‰å‘é€‰æ‹©æŠ€æœ¯ä» 0 ç‰¹å¾å¼€å§‹ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªæœ€å¤§ç¨‹åº¦åœ°å‡å°‘é”™è¯¯çš„ç‰¹å¾ï¼›ç„¶åæ·»åŠ å¦ä¸€ä¸ªç‰¹å¾ï¼Œä¾æ­¤ç±»æ¨ã€‚</p><p>å‘åé€‰æ‹©åœ¨ç›¸åçš„æ–¹å‘ä¸Šèµ·ä½œç”¨ã€‚æ¨¡å‹ä»åŒ…å«çš„æ‰€æœ‰ç‰¹å¾å¼€å§‹å¹¶è®¡ç®—è¯¯å·®ï¼›ç„¶åå®ƒæ¶ˆé™¤äº†ä¸€ä¸ªå¯ä»¥è¿›ä¸€æ­¥å‡å°‘è¯¯å·®çš„ç‰¹å¾ã€‚é‡å¤è¯¥è¿‡ç¨‹ï¼Œç›´åˆ°ä¿ç•™æ‰€éœ€æ•°é‡çš„ç‰¹å¾ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># instantiate modelmodel = RandomForestClassifier(n_estimators=<span class="hljs-number">100</span>, random_state=<span class="hljs-number">0</span>)<br># <span class="hljs-keyword">select</span> featuresselector = SequentialFeatureSelector(estimator=model, n_features_to_select=<span class="hljs-number">10</span>, direction=<span class="hljs-string">&#x27;backward&#x27;</span>, cv=<span class="hljs-number">2</span>)selector.fit_transform(X,y)<br># <span class="hljs-keyword">check</span> names <span class="hljs-keyword">of</span> features selectedfeature_names = np.<span class="hljs-keyword">array</span>(X.<span class="hljs-keyword">columns</span>)feature_names[selector.get_support()]<br>&gt;&gt; <span class="hljs-keyword">array</span>([<span class="hljs-string">&#x27;bore&#x27;</span>, <span class="hljs-string">&#x27;make_mitsubishi&#x27;</span>, <span class="hljs-string">&#x27;make_nissan&#x27;</span>, <span class="hljs-string">&#x27;make_saab&#x27;</span>,      <span class="hljs-string">&#x27;aspiration_turbo&#x27;</span>, <span class="hljs-string">&#x27;num-of-doors_two&#x27;</span>, <span class="hljs-string">&#x27;body style_hatchback&#x27;</span>, <span class="hljs-string">&#x27;engine-type_ohc&#x27;</span>, <span class="hljs-string">&#x27;num-of-cylinders_twelve&#x27;</span>, <span class="hljs-string">&#x27;fuel-system_spdi&#x27;</span>], dtype=<span class="hljs-keyword">object</span>)<br></code></pre></td></tr></table></figure><h2 id="11-ä¸»æˆåˆ†åˆ†æ-PCA"><a href="#11-ä¸»æˆåˆ†åˆ†æ-PCA" class="headerlink" title="11.ä¸»æˆåˆ†åˆ†æ (PCA)"></a><strong>11.ä¸»æˆåˆ†åˆ†æ (PCA)</strong></h2><p>PCAçš„ä¸»è¦ç›®çš„æ˜¯é™ä½é«˜ç»´ç‰¹å¾ç©ºé—´çš„ç»´æ•°ã€‚åŸå§‹ç‰¹å¾è¢«é‡æ–°æŠ•å½±åˆ°æ–°çš„ç»´åº¦ï¼ˆå³ä¸»æˆåˆ†ï¼‰ã€‚æœ€ç»ˆç›®æ ‡æ˜¯æ‰¾åˆ°æœ€èƒ½è§£é‡Šæ•°æ®æ–¹å·®çš„ç‰¹å¾æ•°é‡ã€‚</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stata"># import <span class="hljs-keyword">PCA</span> modulefrom sklearn.decomposition import <span class="hljs-keyword">PCA</span># scaling dataX_scaled = scaler.fit_transform(X)# <span class="hljs-keyword">fit</span> <span class="hljs-keyword">PCA</span> to datapca = <span class="hljs-keyword">PCA</span>()<span class="hljs-keyword">pca</span>.<span class="hljs-keyword">fit</span>(X_scaled)evr = <span class="hljs-keyword">pca</span>.explained_variance_ratio_<br># visualizing the variance explained <span class="hljs-keyword">by</span> each principal componentsplt.figure(figsize=(12, 5))plt.<span class="hljs-keyword">plot</span>(<span class="hljs-keyword">range</span>(0, len(evr)), evr.cumsum(), marker=<span class="hljs-string">&quot;o&quot;</span>, linestyle=<span class="hljs-string">&quot;--&quot;</span>)plt.xlabel(<span class="hljs-string">&quot;Number of components&quot;</span>)plt.ylabel(<span class="hljs-string">&quot;Cumulative explained variance&quot;</span>)<br></code></pre></td></tr></table></figure><p><img src="/src/640-16561438083509.png" alt="å›¾ç‰‡"></p><p>20 ä¸ªä¸»æˆåˆ†è§£é‡Šäº†è¶…è¿‡ 80% çš„æ–¹å·®ï¼Œå› æ­¤å¯ä»¥å°†æ¨¡å‹æ‹Ÿåˆåˆ°è¿™ 20 ä¸ªæˆåˆ†ï¼ˆç‰¹å¾ï¼‰ã€‚å¯ä»¥é¢„å…ˆç¡®å®šæ–¹å·®é˜ˆå€¼å¹¶é€‰æ‹©æ‰€éœ€çš„ä¸»æˆåˆ†æ•°é‡ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h2><p>è¿™æ˜¯å¯¹å¯åº”ç”¨äºç‰¹å¾é€‰æ‹©çš„å„ç§æŠ€æœ¯çš„æœ‰ç”¨æŒ‡å—ã€‚åœ¨æ‹Ÿåˆæ¨¡å‹ä¹‹å‰åº”ç”¨äº†ä¸€äº›æŠ€æœ¯ï¼Œä¾‹å¦‚åˆ é™¤å…·æœ‰ç¼ºå¤±å€¼çš„åˆ—ã€ä¸ç›¸å…³çš„åˆ—ã€å…·æœ‰å¤šé‡å…±çº¿æ€§çš„åˆ—ä»¥åŠä½¿ç”¨ PCA è¿›è¡Œé™ç»´ï¼Œè€Œåœ¨åŸºæœ¬æ¨¡å‹å®ç°ä¹‹ååº”ç”¨å…¶ä»–æŠ€æœ¯ï¼Œä¾‹å¦‚ç‰¹å¾ç³»æ•°ã€p å€¼ã€ VIF ç­‰ã€‚è™½ç„¶ä¸ä¼šåœ¨ä¸€ä¸ªé¡¹ç›®ä¸­å®Œå…¨ä½¿ç”¨æ‰€æœ‰ç­–ç•¥ï¼Œè¿™äº›ç­–ç•¥éƒ½æ˜¯æˆ‘ä»¬è¿›è¡Œæµ‹è¯•çš„æ–¹å‘</p><blockquote><p><a href="https://mp.weixin.qq.com/s/GJy-7IEFNvYCnA5cBP4M9AYCnA5cBP4M9A">https://mp.weixin.qq.com/s/GJy-7IEFNvYCnA5cBP4M9AYCnA5cBP4M9A</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python trick</title>
    <link href="/2022/08/01/Python/%E5%A6%99%E7%94%A8/"/>
    <url>/2022/08/01/Python/%E5%A6%99%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="1-é‡å¤å…ƒç´ åˆ¤å®š"><a href="#1-é‡å¤å…ƒç´ åˆ¤å®š" class="headerlink" title="1. é‡å¤å…ƒç´ åˆ¤å®š"></a><strong>1. é‡å¤å…ƒç´ åˆ¤å®š</strong></h2><p>ä»¥ä¸‹æ–¹æ³•å¯ä»¥æ£€æŸ¥ç»™å®šåˆ—è¡¨æ˜¯ä¸æ˜¯å­˜åœ¨é‡å¤å…ƒç´ ï¼Œå®ƒä¼šä½¿ç”¨ set() å‡½æ•°æ¥ç§»é™¤æ‰€æœ‰é‡å¤å…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">all_unique</span>(<span class="hljs-params">lst</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(lst) == <span class="hljs-built_in">len</span>(<span class="hljs-built_in">set</span>(lst))<br>x = [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]<br>y = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br>all_unique(x) <span class="hljs-comment"># False</span><br>all_unique(y) <span class="hljs-comment"># True</span><br></code></pre></td></tr></table></figure><h2 id="2-å­—ç¬¦å…ƒç´ ç»„æˆåˆ¤å®š"><a href="#2-å­—ç¬¦å…ƒç´ ç»„æˆåˆ¤å®š" class="headerlink" title="2. å­—ç¬¦å…ƒç´ ç»„æˆåˆ¤å®š"></a><strong>2. å­—ç¬¦å…ƒç´ ç»„æˆåˆ¤å®š</strong></h2><p>æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ç»„æˆå…ƒç´ æ˜¯ä¸æ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-keyword">from</span> collections import Counter<br><br>def anagram(<span class="hljs-keyword">first</span>, <span class="hljs-keyword">second</span>):<br><span class="hljs-built_in">    return</span> Counter(<span class="hljs-keyword">first</span>) == Counter(<span class="hljs-keyword">second</span>)<br>anagram(<span class="hljs-string">&quot;abcd3&quot;</span>, <span class="hljs-string">&quot;3acdb&quot;</span>) <span class="hljs-comment"># True</span><br></code></pre></td></tr></table></figure><h2 id="3-å†…å­˜å ç”¨"><a href="#3-å†…å­˜å ç”¨" class="headerlink" title="3. å†…å­˜å ç”¨"></a><strong>3. å†…å­˜å ç”¨</strong></h2><p>ä¸‹é¢çš„ä»£ç å—å¯ä»¥æ£€æŸ¥å˜é‡ variable æ‰€å ç”¨çš„å†…å­˜ã€‚</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-keyword">import</span> sys <br>variable = <span class="hljs-number">30</span> <br><span class="hljs-built_in">print</span>(sys.getsizeof(variable)) <span class="hljs-comment"># 24</span><br></code></pre></td></tr></table></figure><h2 id="4-å­—èŠ‚å ç”¨"><a href="#4-å­—èŠ‚å ç”¨" class="headerlink" title="4. å­—èŠ‚å ç”¨"></a><strong>4. å­—èŠ‚å ç”¨</strong></h2><p>ä¸‹é¢çš„ä»£ç å—å¯ä»¥æ£€æŸ¥å­—ç¬¦ä¸²å ç”¨çš„å­—èŠ‚æ•°ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs scss">def <span class="hljs-built_in">byte_size</span>(string):<br>    <span class="hljs-built_in">return</span>(<span class="hljs-built_in">len</span>(string.<span class="hljs-built_in">encode</span>(<span class="hljs-string">&#x27;utf-8&#x27;</span>)))<br><br><span class="hljs-built_in">byte_size</span>(<span class="hljs-string">&#x27;ğŸ˜€&#x27;</span>) # <span class="hljs-number">4</span><br><span class="hljs-built_in">byte_size</span>(<span class="hljs-string">&#x27;Hello World&#x27;</span>) # <span class="hljs-number">11</span>   <br></code></pre></td></tr></table></figure><h2 id="5-æ‰“å°-N-æ¬¡å­—ç¬¦ä¸²"><a href="#5-æ‰“å°-N-æ¬¡å­—ç¬¦ä¸²" class="headerlink" title="5. æ‰“å° N æ¬¡å­—ç¬¦ä¸²"></a><strong>5. æ‰“å° N æ¬¡å­—ç¬¦ä¸²</strong></h2><p>è¯¥ä»£ç å—ä¸éœ€è¦å¾ªç¯è¯­å¥å°±èƒ½æ‰“å° N æ¬¡å­—ç¬¦ä¸²ã€‚</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs makefile">n = 2; <br>s =<span class="hljs-string">&quot;Programming&quot;</span>; <br><br>print(s * n);<br><span class="hljs-comment"># ProgrammingProgramming  </span><br></code></pre></td></tr></table></figure><h2 id="6-å¤§å†™ç¬¬ä¸€ä¸ªå­—æ¯"><a href="#6-å¤§å†™ç¬¬ä¸€ä¸ªå­—æ¯" class="headerlink" title="6. å¤§å†™ç¬¬ä¸€ä¸ªå­—æ¯"></a><strong>6. å¤§å†™ç¬¬ä¸€ä¸ªå­—æ¯</strong></h2><p>ä»¥ä¸‹ä»£ç å—ä¼šä½¿ç”¨ title() æ–¹æ³•ï¼Œä»è€Œå¤§å†™å­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">s = <span class="hljs-string">&quot;programming is awesome&quot;</span><br><br><span class="hljs-built_in">print</span>(s.title())<br><span class="hljs-comment"># Programming Is Awesome</span><br></code></pre></td></tr></table></figure><h2 id="7-åˆ†å—"><a href="#7-åˆ†å—" class="headerlink" title="7. åˆ†å—"></a><strong>7. åˆ†å—</strong></h2><p>ç»™å®šå…·ä½“çš„å¤§å°ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°ä»¥æŒ‰ç…§è¿™ä¸ªå¤§å°åˆ‡å‰²åˆ—è¡¨ã€‚</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs processing">from math <span class="hljs-keyword">import</span> <span class="hljs-built_in">ceil</span><br><br>def <span class="hljs-title function_">chunk</span>(lst, <span class="hljs-built_in">size</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">list</span>(<br>        <span class="hljs-built_in">map</span>(lambda x: lst[x * <span class="hljs-built_in">size</span>:x * <span class="hljs-built_in">size</span> + <span class="hljs-built_in">size</span>],<br>            <span class="hljs-title function_">list</span>(<span class="hljs-title function_">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">ceil</span>(<span class="hljs-title function_">len</span>(lst) / <span class="hljs-built_in">size</span>)))))<br><br><span class="hljs-title function_">chunk</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],<span class="hljs-number">2</span>)<br># [[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">3</span>,<span class="hljs-number">4</span>],<span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure><h2 id="8-å‹ç¼©"><a href="#8-å‹ç¼©" class="headerlink" title="8. å‹ç¼©"></a><strong>8. å‹ç¼©</strong></h2><p>è¿™ä¸ªæ–¹æ³•å¯ä»¥å°†å¸ƒå°”å‹çš„å€¼å»æ‰ï¼Œä¾‹å¦‚<code>(False, None, 0, &quot;&quot;)</code>ï¼Œå®ƒä½¿ç”¨ <code>filter()</code> å‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">compact</span>(<span class="hljs-params">lst</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-built_in">bool</span>, lst))<br>compact([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-literal">False</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-number">34</span>])<br><span class="hljs-comment"># [ 1, 2, 3, &#x27;a&#x27;, &#x27;s&#x27;, 34 ]</span><br></code></pre></td></tr></table></figure><h2 id="9-è§£åŒ…"><a href="#9-è§£åŒ…" class="headerlink" title="9. è§£åŒ…"></a><strong>9. è§£åŒ…</strong></h2><p>å¦‚ä¸‹ä»£ç æ®µå¯ä»¥å°†æ‰“åŒ…å¥½çš„æˆå¯¹åˆ—è¡¨è§£å¼€æˆä¸¤ç»„ä¸åŒçš„å…ƒç»„ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs prolog">array = [[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>], [<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], [<span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>]]<br>transposed = zip(*array)<br>print(transposed)<br># [(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>), (<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>)]<br></code></pre></td></tr></table></figure><h2 id="10-é“¾å¼å¯¹æ¯”"><a href="#10-é“¾å¼å¯¹æ¯”" class="headerlink" title="10. é“¾å¼å¯¹æ¯”"></a><strong>10. é“¾å¼å¯¹æ¯”</strong></h2><p>æˆ‘ä»¬å¯ä»¥åœ¨ä¸€è¡Œä»£ç ä¸­ä½¿ç”¨ä¸åŒçš„è¿ç®—ç¬¦å¯¹æ¯”å¤šä¸ªä¸åŒçš„å…ƒç´ ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">a = 3<br><span class="hljs-built_in">print</span>( 2 &lt; a &lt; 8) # <span class="hljs-literal">True</span><br><span class="hljs-built_in">print</span>(1 == a &lt; 2) # <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><h2 id="11-é€—å·è¿æ¥"><a href="#11-é€—å·è¿æ¥" class="headerlink" title="11. é€—å·è¿æ¥"></a><strong>11. é€—å·è¿æ¥</strong></h2><p>ä¸‹é¢çš„ä»£ç å¯ä»¥å°†åˆ—è¡¨è¿æ¥æˆå•ä¸ªå­—ç¬¦ä¸²ï¼Œä¸”æ¯ä¸€ä¸ªå…ƒç´ é—´çš„åˆ†éš”æ–¹å¼è®¾ç½®ä¸ºäº†é€—å·ã€‚</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs axapta">hobbies = [<span class="hljs-string">&quot;basketball&quot;</span>, <span class="hljs-string">&quot;football&quot;</span>, <span class="hljs-string">&quot;swimming&quot;</span>]<br><br><span class="hljs-keyword">print</span>(<span class="hljs-string">&quot;My hobbies are: &quot;</span> + <span class="hljs-string">&quot;, &quot;</span>.<span class="hljs-keyword">join</span>(hobbies))<br><span class="hljs-meta"># My hobbies are: basketball, football, swimming</span><br></code></pre></td></tr></table></figure><h2 id="12-å…ƒéŸ³ç»Ÿè®¡"><a href="#12-å…ƒéŸ³ç»Ÿè®¡" class="headerlink" title="12. å…ƒéŸ³ç»Ÿè®¡"></a><strong>12. å…ƒéŸ³ç»Ÿè®¡</strong></h2><p>ä»¥ä¸‹æ–¹æ³•å°†ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³<code>(â€˜aâ€™, â€˜eâ€™, â€˜iâ€™, â€˜oâ€™, â€˜uâ€™)</code>çš„ä¸ªæ•°ï¼Œå®ƒæ˜¯é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åšçš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_vowels</span>(<span class="hljs-params"><span class="hljs-built_in">str</span></span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(<span class="hljs-built_in">len</span>(re.findall(<span class="hljs-string">r&#x27;[aeiou]&#x27;</span>, <span class="hljs-built_in">str</span>, re.IGNORECASE)))<br><br>count_vowels(<span class="hljs-string">&#x27;foobar&#x27;</span>) <span class="hljs-comment"># 3</span><br>count_vowels(<span class="hljs-string">&#x27;gym&#x27;</span>) <span class="hljs-comment"># 0</span><br></code></pre></td></tr></table></figure><h2 id="13-é¦–å­—æ¯å°å†™"><a href="#13-é¦–å­—æ¯å°å†™" class="headerlink" title="13. é¦–å­—æ¯å°å†™"></a><strong>13. é¦–å­—æ¯å°å†™</strong></h2><p>å¦‚ä¸‹æ–¹æ³•å°†ä»¤ç»™å®šå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ç»Ÿä¸€ä¸ºå°å†™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">decapitalize</span>(<span class="hljs-params">string</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>[:<span class="hljs-number">1</span>].lower() + <span class="hljs-built_in">str</span>[<span class="hljs-number">1</span>:]<br><br>decapitalize(<span class="hljs-string">&#x27;FooBar&#x27;</span>) <span class="hljs-comment"># &#x27;fooBar&#x27;</span><br>decapitalize(<span class="hljs-string">&#x27;FooBar&#x27;</span>) <span class="hljs-comment"># &#x27;fooBar&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="14-å±•å¼€åˆ—è¡¨"><a href="#14-å±•å¼€åˆ—è¡¨" class="headerlink" title="14. å±•å¼€åˆ—è¡¨"></a><strong>14. å±•å¼€åˆ—è¡¨</strong></h2><p>è¯¥æ–¹æ³•å°†é€šè¿‡é€’å½’çš„æ–¹å¼å°†åˆ—è¡¨çš„åµŒå¥—å±•å¼€ä¸ºå•ä¸ªåˆ—è¡¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">spread</span>(<span class="hljs-params">arg</span>):<br>    ret = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> arg:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(i, <span class="hljs-built_in">list</span>):<br>            ret.extend(i)<br>        <span class="hljs-keyword">else</span>:<br>            ret.append(i)<br>    <span class="hljs-keyword">return</span> ret<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">deep_flatten</span>(<span class="hljs-params">lst</span>):<br>    result = []<br>    result.extend(<br>        spread(<span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: deep_flatten(x) <span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span>(x) == <span class="hljs-built_in">list</span> <span class="hljs-keyword">else</span> x, lst))))<br>    <span class="hljs-keyword">return</span> result<br><br>deep_flatten([<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>], [[<span class="hljs-number">3</span>], <span class="hljs-number">4</span>], <span class="hljs-number">5</span>]) <span class="hljs-comment"># [1,2,3,4,5]</span><br></code></pre></td></tr></table></figure><h2 id="15-åˆ—è¡¨çš„å·®"><a href="#15-åˆ—è¡¨çš„å·®" class="headerlink" title="15. åˆ—è¡¨çš„å·®"></a><strong>15. åˆ—è¡¨çš„å·®</strong></h2><p>è¯¥æ–¹æ³•å°†è¿”å›ç¬¬ä¸€ä¸ªåˆ—è¡¨çš„å…ƒç´ ï¼Œå…¶ä¸åœ¨ç¬¬äºŒä¸ªåˆ—è¡¨å†…ã€‚å¦‚æœåŒæ—¶è¦åé¦ˆç¬¬äºŒä¸ªåˆ—è¡¨ç‹¬æœ‰çš„å…ƒç´ ï¼Œè¿˜éœ€è¦åŠ ä¸€å¥ <code>set_b.difference(set_a)</code>ã€‚</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">def <span class="hljs-built_in">difference</span>(<span class="hljs-keyword">a</span>, b):<br>    set_a = <span class="hljs-built_in">set</span>(<span class="hljs-keyword">a</span>)<br>    set_b = <span class="hljs-built_in">set</span>(b)<br>    comparison = set_a.<span class="hljs-built_in">difference</span>(set_b)<br>    <span class="hljs-literal">return</span> list(comparison)<br><br><span class="hljs-built_in">difference</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]) <span class="hljs-comment"># [3]</span><br></code></pre></td></tr></table></figure><h2 id="16-é€šè¿‡å‡½æ•°å–å·®"><a href="#16-é€šè¿‡å‡½æ•°å–å·®" class="headerlink" title="16. é€šè¿‡å‡½æ•°å–å·®"></a><strong>16. é€šè¿‡å‡½æ•°å–å·®</strong></h2><p>å¦‚ä¸‹æ–¹æ³•é¦–å…ˆä¼šåº”ç”¨ä¸€ä¸ªç»™å®šçš„å‡½æ•°ï¼Œç„¶åå†è¿”å›åº”ç”¨å‡½æ•°åç»“æœæœ‰å·®åˆ«çš„åˆ—è¡¨å…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">difference_by</span>(<span class="hljs-params">a, b, fn</span>):<br>    b = <span class="hljs-built_in">set</span>(<span class="hljs-built_in">map</span>(fn, b))<br>    <span class="hljs-keyword">return</span> [item <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> a <span class="hljs-keyword">if</span> fn(item) <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> b]<br><br><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> floor<br>difference_by([<span class="hljs-number">2.1</span>, <span class="hljs-number">1.2</span>], [<span class="hljs-number">2.3</span>, <span class="hljs-number">3.4</span>],floor) <span class="hljs-comment"># [1.2]</span><br>difference_by([&#123; <span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">2</span> &#125;, &#123; <span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">1</span> &#125;], [&#123; <span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">1</span> &#125;], <span class="hljs-keyword">lambda</span> v : v[<span class="hljs-string">&#x27;x&#x27;</span>])<br><span class="hljs-comment"># [ &#123; x: 2 &#125; ]</span><br></code></pre></td></tr></table></figure><h2 id="17-é“¾å¼å‡½æ•°è°ƒç”¨"><a href="#17-é“¾å¼å‡½æ•°è°ƒç”¨" class="headerlink" title="17. é“¾å¼å‡½æ•°è°ƒç”¨"></a><strong>17. é“¾å¼å‡½æ•°è°ƒç”¨</strong></h2><p>ä½ å¯ä»¥åœ¨ä¸€è¡Œä»£ç å†…è°ƒç”¨å¤šä¸ªå‡½æ•°ã€‚</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">def <span class="hljs-built_in">add</span>(<span class="hljs-keyword">a</span>, b):<br>    <span class="hljs-literal">return</span> <span class="hljs-keyword">a</span> + b<br><br>def <span class="hljs-built_in">subtract</span>(<span class="hljs-keyword">a</span>, b):<br>    <span class="hljs-literal">return</span> <span class="hljs-keyword">a</span> - b<br><br><span class="hljs-keyword">a</span>, b = <span class="hljs-number">4</span>, <span class="hljs-number">5</span><br>print((<span class="hljs-built_in">subtract</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">a</span> &gt; b <span class="hljs-keyword">else</span> <span class="hljs-built_in">add</span>)(<span class="hljs-keyword">a</span>, b)) <span class="hljs-comment"># 9 </span><br></code></pre></td></tr></table></figure><h2 id="18-æ£€æŸ¥é‡å¤é¡¹"><a href="#18-æ£€æŸ¥é‡å¤é¡¹" class="headerlink" title="18. æ£€æŸ¥é‡å¤é¡¹"></a><strong>18. æ£€æŸ¥é‡å¤é¡¹</strong></h2><p>å¦‚ä¸‹ä»£ç å°†æ£€æŸ¥ä¸¤ä¸ªåˆ—è¡¨æ˜¯ä¸æ˜¯æœ‰é‡å¤é¡¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">has_duplicates</span>(<span class="hljs-params">lst</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(lst) != <span class="hljs-built_in">len</span>(<span class="hljs-built_in">set</span>(lst))<br><br>x = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">5</span>]<br>y = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br>has_duplicates(x) <span class="hljs-comment"># True</span><br>has_duplicates(y) <span class="hljs-comment"># False</span><br></code></pre></td></tr></table></figure><h2 id="19-åˆå¹¶ä¸¤ä¸ªå­—å…¸"><a href="#19-åˆå¹¶ä¸¤ä¸ªå­—å…¸" class="headerlink" title="19. åˆå¹¶ä¸¤ä¸ªå­—å…¸"></a><strong>19. åˆå¹¶ä¸¤ä¸ªå­—å…¸</strong></h2><p>ä¸‹é¢çš„æ–¹æ³•å°†ç”¨äºåˆå¹¶ä¸¤ä¸ªå­—å…¸ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vim">def merge_two_dicts(<span class="hljs-keyword">a</span>, <span class="hljs-keyword">b</span>):<br>    <span class="hljs-keyword">c</span> = <span class="hljs-keyword">a</span>.<span class="hljs-keyword">copy</span>()   # <span class="hljs-keyword">make</span> <span class="hljs-keyword">a</span> <span class="hljs-keyword">copy</span> of <span class="hljs-keyword">a</span> <br>    <span class="hljs-keyword">c</span>.<span class="hljs-keyword">update</span>(<span class="hljs-keyword">b</span>)    # modify <span class="hljs-built_in">keys</span> <span class="hljs-built_in">and</span> <span class="hljs-built_in">values</span> of <span class="hljs-keyword">a</span> with the ones from <span class="hljs-keyword">b</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">c</span><br><br><span class="hljs-keyword">a</span> = &#123; <span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">2</span>&#125;<br><span class="hljs-keyword">b</span> = &#123; <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;z&#x27;</span>: <span class="hljs-number">4</span>&#125;<br><span class="hljs-keyword">print</span>(merge_two_dicts(<span class="hljs-keyword">a</span>, <span class="hljs-keyword">b</span>))<br># &#123;<span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;z&#x27;</span>: <span class="hljs-number">4</span>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ Python 3.5 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼åˆå¹¶å­—å…¸ï¼š</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">def</span> merge_dictionaries(a, b)<br>   <span class="hljs-keyword">return</span> &#123;**a, **b&#125;<br><br>a = &#123; <span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">2</span>&#125;<br>b = &#123; <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;z&#x27;</span>: <span class="hljs-number">4</span>&#125;<br><span class="hljs-keyword">print</span>(merge_dictionaries(a, b))<br># &#123;<span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;z&#x27;</span>: <span class="hljs-number">4</span>&#125;<br></code></pre></td></tr></table></figure><p><strong>20. å°†ä¸¤ä¸ªåˆ—è¡¨è½¬åŒ–ä¸ºå­—å…¸</strong></p><p>å¦‚ä¸‹æ–¹æ³•å°†ä¼šæŠŠä¸¤ä¸ªåˆ—è¡¨è½¬åŒ–ä¸ºå•ä¸ªå­—å…¸ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vim">def to_dictionary(<span class="hljs-built_in">keys</span>, <span class="hljs-built_in">values</span>):<br>    <span class="hljs-keyword">return</span> dict(zip(<span class="hljs-built_in">keys</span>, <span class="hljs-built_in">values</span>))<br><br><span class="hljs-built_in">keys</span> = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>]    <br><span class="hljs-built_in">values</span> = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-keyword">print</span>(to_dictionary(<span class="hljs-built_in">keys</span>, <span class="hljs-built_in">values</span>))<br># &#123;<span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;c&#x27;</span>: <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-number">3</span>&#125;<br></code></pre></td></tr></table></figure><h2 id="21-ä½¿ç”¨æšä¸¾"><a href="#21-ä½¿ç”¨æšä¸¾" class="headerlink" title="21. ä½¿ç”¨æšä¸¾"></a><strong>21. ä½¿ç”¨æšä¸¾</strong></h2><p>æˆ‘ä»¬å¸¸ç”¨ For å¾ªç¯æ¥éå†æŸä¸ªåˆ—è¡¨ï¼ŒåŒæ ·æˆ‘ä»¬ä¹Ÿèƒ½æšä¸¾åˆ—è¡¨çš„ç´¢å¼•ä¸å€¼ã€‚</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs autoit">list = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>]<br><span class="hljs-keyword">for</span> index, element <span class="hljs-keyword">in</span> enumerate(list): <br>    print(<span class="hljs-string">&quot;Value&quot;</span>, element, <span class="hljs-string">&quot;Index &quot;</span>, index, )<br><br><span class="hljs-meta"># (<span class="hljs-string">&#x27;Value&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;Index &#x27;</span>, 0)</span><br><span class="hljs-meta"># (<span class="hljs-string">&#x27;Value&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;Index &#x27;</span>, 1)</span><br><span class="hljs-meta">#(<span class="hljs-string">&#x27;Value&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;Index &#x27;</span>, 2)</span><br><span class="hljs-meta"># (<span class="hljs-string">&#x27;Value&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;Index &#x27;</span>, 3)    </span><br></code></pre></td></tr></table></figure><p><strong>22. æ‰§è¡Œæ—¶é—´</strong></p><p>å¦‚ä¸‹ä»£ç å—å¯ä»¥ç”¨æ¥è®¡ç®—æ‰§è¡Œç‰¹å®šä»£ç æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">import <span class="hljs-built_in">time</span><br><br>start_time = <span class="hljs-built_in">time</span>.<span class="hljs-built_in">time</span>()<br><br><span class="hljs-keyword">a</span> = <span class="hljs-number">1</span><br>b = <span class="hljs-number">2</span><br>c = <span class="hljs-keyword">a</span> + b<br>print(c) <span class="hljs-comment">#3</span><br><br>end_time = <span class="hljs-built_in">time</span>.<span class="hljs-built_in">time</span>()<br>total_time = end_time - start_time<br>print(<span class="hljs-string">&quot;Time: &quot;</span>, total_time)<br><br><span class="hljs-comment"># (&#x27;Time: &#x27;, 1.1205673217773438e-05)  </span><br></code></pre></td></tr></table></figure><h2 id="23-Try-else"><a href="#23-Try-else" class="headerlink" title="23.Try else"></a><strong>23.Try else</strong></h2><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ try&#x2F;except è¯­å¥çš„æ—¶å€™ä¹Ÿå¯ä»¥åŠ ä¸€ä¸ª else å­å¥ï¼Œå¦‚æœæ²¡æœ‰è§¦å‘é”™è¯¯çš„è¯ï¼Œè¿™ä¸ªå­å¥å°±ä¼šè¢«è¿è¡Œã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs routeros">try:<br>    2<span class="hljs-number">*3</span><br>except TypeError:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;An exception was raised&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Thank God, no exceptions were raised.&quot;</span>)<br><br><span class="hljs-comment">#Thank God, no exceptions were raised.</span><br></code></pre></td></tr></table></figure><h2 id="24-å…ƒç´ é¢‘ç‡"><a href="#24-å…ƒç´ é¢‘ç‡" class="headerlink" title="24. å…ƒç´ é¢‘ç‡"></a><strong>24. å…ƒç´ é¢‘ç‡</strong></h2><p>ä¸‹é¢çš„æ–¹æ³•ä¼šæ ¹æ®å…ƒç´ é¢‘ç‡å–åˆ—è¡¨ä¸­æœ€å¸¸è§çš„å…ƒç´ ã€‚</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs gams">def most_frequent(list):<br>    return <span class="hljs-built_in">max</span>(<span class="hljs-keyword">set</span>(list), key <span class="hljs-comment">= list.count)</span><br><br>list <span class="hljs-comment">= [1,2,1,2,3,2,1,4,2]</span><br>most_frequent(list)  <br></code></pre></td></tr></table></figure><h2 id="25-å›æ–‡åºåˆ—"><a href="#25-å›æ–‡åºåˆ—" class="headerlink" title="25. å›æ–‡åºåˆ—"></a><strong>25. å›æ–‡åºåˆ—</strong></h2><p>ä»¥ä¸‹æ–¹æ³•ä¼šæ£€æŸ¥ç»™å®šçš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡åºåˆ—ï¼Œå®ƒé¦–å…ˆä¼šæŠŠæ‰€æœ‰å­—æ¯è½¬åŒ–ä¸ºå°å†™ï¼Œå¹¶ç§»é™¤éè‹±æ–‡å­—æ¯ç¬¦å·ã€‚æœ€åï¼Œå®ƒä¼šå¯¹æ¯”å­—ç¬¦ä¸²ä¸åå‘å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™è¡¨ç¤ºä¸ºå›æ–‡åºåˆ—ã€‚</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">def palindrome(<span class="hljs-keyword">string</span>):<br>    <span class="hljs-built_in">from</span> re import sub<br>    s = sub(<span class="hljs-string">&#x27;[\W_]&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-keyword">string</span>.<span class="hljs-built_in">lower</span>())<br>    <span class="hljs-literal">return</span> s == s[::<span class="hljs-number">-1</span>]<br><br>palindrome(<span class="hljs-string">&#x27;taco cat&#x27;</span>) <span class="hljs-comment"># True</span><br></code></pre></td></tr></table></figure><h2 id="26-ä¸ä½¿ç”¨-if-else-çš„è®¡ç®—å­"><a href="#26-ä¸ä½¿ç”¨-if-else-çš„è®¡ç®—å­" class="headerlink" title="26. ä¸ä½¿ç”¨ if-else çš„è®¡ç®—å­"></a><strong>26. ä¸ä½¿ç”¨ if-else çš„è®¡ç®—å­</strong></h2><p>è¿™ä¸€æ®µä»£ç å¯ä»¥ä¸ä½¿ç”¨æ¡ä»¶è¯­å¥å°±å®ç°åŠ å‡ä¹˜é™¤ã€æ±‚å¹‚æ“ä½œï¼Œå®ƒé€šè¿‡å­—å…¸è¿™ä¸€æ•°æ®ç»“æ„å®ç°ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-keyword">import</span> <span class="hljs-keyword">operator</span><br>action = &#123;<br>    <span class="hljs-string">&quot;+&quot;</span>: <span class="hljs-keyword">operator</span>.add,<br>    <span class="hljs-string">&quot;-&quot;</span>: <span class="hljs-keyword">operator</span>.sub,<br>    <span class="hljs-string">&quot;/&quot;</span>: <span class="hljs-keyword">operator</span>.truediv,<br>    <span class="hljs-string">&quot;*&quot;</span>: <span class="hljs-keyword">operator</span>.mul,<br>    <span class="hljs-string">&quot;**&quot;</span>: pow<br>&#125;<br><span class="hljs-built_in">print</span>(action[<span class="hljs-string">&#x27;-&#x27;</span>](<span class="hljs-number">50</span>, <span class="hljs-number">25</span>)) # <span class="hljs-number">25</span><br></code></pre></td></tr></table></figure><h2 id="27-Shuffle"><a href="#27-Shuffle" class="headerlink" title="27.Shuffle"></a><strong>27.Shuffle</strong></h2><p>è¯¥ç®—æ³•ä¼šæ‰“ä¹±åˆ—è¡¨å…ƒç´ çš„é¡ºåºï¼Œå®ƒä¸»è¦ä¼šé€šè¿‡ Fisher-Yates ç®—æ³•å¯¹æ–°åˆ—è¡¨è¿›è¡Œæ’åºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> copy <span class="hljs-keyword">import</span> deepcopy<br><span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randint<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">shuffle</span>(<span class="hljs-params">lst</span>):<br>    temp_lst = deepcopy(lst)<br>    m = <span class="hljs-built_in">len</span>(temp_lst)<br>    <span class="hljs-keyword">while</span> (m):<br>        m -= <span class="hljs-number">1</span><br>        i = randint(<span class="hljs-number">0</span>, m)<br>        temp_lst[m], temp_lst[i] = temp_lst[i], temp_lst[m]<br>    <span class="hljs-keyword">return</span> temp_lst<br><br><br>foo = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>shuffle(foo) <span class="hljs-comment"># [2,3,1] , foo = [1,2,3]</span><br></code></pre></td></tr></table></figure><h2 id="28-å±•å¼€åˆ—è¡¨"><a href="#28-å±•å¼€åˆ—è¡¨" class="headerlink" title="28. å±•å¼€åˆ—è¡¨"></a><strong>28. å±•å¼€åˆ—è¡¨</strong></h2><p>å°†åˆ—è¡¨å†…çš„æ‰€æœ‰å…ƒç´ ï¼ŒåŒ…æ‹¬å­åˆ—è¡¨ï¼Œéƒ½å±•å¼€æˆä¸€ä¸ªåˆ—è¡¨ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">def</span> spread(arg):<br>    <span class="hljs-attribute">ret</span> =<span class="hljs-meta"> []</span><br>    <span class="hljs-attribute">for</span> i in arg:<br>        <span class="hljs-attribute">if</span> isinstance(i, list):<br>            <span class="hljs-attribute">ret</span>.extend(i)<br>        <span class="hljs-attribute">else</span>:<br>            <span class="hljs-attribute">ret</span>.append(i)<br>    <span class="hljs-attribute">return</span> ret<br><br><span class="hljs-attribute">spread</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>],[<span class="hljs-number">7</span>],<span class="hljs-number">8</span>,<span class="hljs-number">9</span>]) #<span class="hljs-meta"> [1,2,3,4,5,6,7,8,9]</span><br></code></pre></td></tr></table></figure><h2 id="29-äº¤æ¢å€¼"><a href="#29-äº¤æ¢å€¼" class="headerlink" title="29. äº¤æ¢å€¼"></a><strong>29. äº¤æ¢å€¼</strong></h2><p>ä¸éœ€è¦é¢å¤–çš„æ“ä½œå°±èƒ½äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">def</span> swap(a, b):<br>  <span class="hljs-attribute">return</span> b, a<br><br><span class="hljs-attribute">a</span>, b = -<span class="hljs-number">1</span>, <span class="hljs-number">14</span><br><span class="hljs-attribute">swap</span>(a, b) # (<span class="hljs-number">14</span>, -<span class="hljs-number">1</span>)<br><span class="hljs-attribute">spread</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>],[<span class="hljs-number">7</span>],<span class="hljs-number">8</span>,<span class="hljs-number">9</span>]) #<span class="hljs-meta"> [1,2,3,4,5,6,7,8,9]</span><br></code></pre></td></tr></table></figure><h2 id="30-å­—å…¸é»˜è®¤å€¼"><a href="#30-å­—å…¸é»˜è®¤å€¼" class="headerlink" title="30. å­—å…¸é»˜è®¤å€¼"></a><strong>30. å­—å…¸é»˜è®¤å€¼</strong></h2><p>é€šè¿‡ Key å–å¯¹åº”çš„ Value å€¼ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¾ç½®é»˜è®¤å€¼ã€‚å¦‚æœ get() æ–¹æ³•æ²¡æœ‰è®¾ç½®é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå¦‚æœé‡åˆ°ä¸å­˜åœ¨çš„ Keyï¼Œåˆ™ä¼šè¿”å› Noneã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">d = &#123;<span class="hljs-string">&#x27;a&#x27;</span>: 1, <span class="hljs-string">&#x27;b&#x27;</span>: 2&#125;<br><br><span class="hljs-built_in">print</span>(d.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;c&#x27;</span>, 3)) # 3<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pytorch Note</title>
    <link href="/2022/08/01/Python/Pytorch/"/>
    <url>/2022/08/01/Python/Pytorch/</url>
    
    <content type="html"><![CDATA[<h1 id="è®°å½•å…³äºtorchçš„ç”¨æ³•"><a href="#è®°å½•å…³äºtorchçš„ç”¨æ³•" class="headerlink" title="è®°å½•å…³äºtorchçš„ç”¨æ³•"></a>è®°å½•å…³äºtorchçš„ç”¨æ³•</h1><h2 id="torch-optim"><a href="#torch-optim" class="headerlink" title="torch.optim"></a>torch.optim</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">optim.SGD([<br>                &#123;<span class="hljs-string">&#x27;params&#x27;</span>: model.base.parameters()&#125;,<br>                &#123;<span class="hljs-string">&#x27;params&#x27;</span>: model.classifier.parameters(), <span class="hljs-string">&#x27;lr&#x27;</span>: <span class="hljs-number">1e-3</span>&#125;<br>            ], lr=<span class="hljs-number">1e-2</span>, momentum=<span class="hljs-number">0.9</span>)<br></code></pre></td></tr></table></figure><p>ä¼˜åŒ–å™¨éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ éœ€è¦æœ‰ä¸ªå‚æ•°å¯¹è±¡å¯ç”¨äºä¼˜åŒ–ã€‚ç„¶åè®¾ç½®ä¸€äº›ä¼˜åŒ–ç‰¹å®šé€‰é¡¹ï¼Œä¾‹å¦‚ï¼šå­¦ä¹ ç‡ã€æƒå€¼è¡°å‡ç­‰ç­‰ï¼Œä¸Šè¿°çš„å†™æ³•æ˜¯ä¸€ç§æŒ‡å®šå±‚ä¸åŒçš„å­¦ä¹ çŠ¶æ€ã€‚è¿™æ„å‘³ç€<code>model.base</code>çš„å‚æ•°å°†ä½¿ç”¨ çš„é»˜è®¤å­¦ä¹ ç‡<code>1e-2</code>ï¼Œ <code>model.classifier</code>çš„å‚æ•°å°†ä½¿ç”¨ çš„å­¦ä¹ ç‡<code>1e-3</code>ï¼Œå¹¶ä¸”æ‰€æœ‰å‚æ•°éƒ½ä½¿ç”¨ çš„åŠ¨é‡ <code>0.9</code>ã€‚</p><p>å…³äºä¼˜åŒ–å™¨å¸¸ç”¨çš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯<code>Optimizer.load_state_dict</code>ã€<code>Optimizer.state_dict</code>ã€<code>Optimizer.step</code>ã€<code>Optimizer.zero_grad</code></p><h2 id="torch-cuda"><a href="#torch-cuda" class="headerlink" title="torch.cuda"></a>torch.cuda</h2><ol><li><code>torch.cuda.is_available()</code>åˆ¤æ–­GPUæ˜¯å¦å¯ç”¨</li><li><code>torch.cuda.device_count()</code>     æŸ¥çœ‹å¯ç”¨GPUæ•°é‡</li><li><code>torch.cuda.current_device()</code>   æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„GPUåºå·</li><li><code>torch.cuda.get_device_capability(device)</code> æŸ¥çœ‹æŒ‡å®šGPUçš„å®¹é‡</li><li><code>torch.cuda.get_device_name(device)</code>         æŸ¥çœ‹æŒ‡å®šGPUçš„åç§°</li><li><code>torch.cuda.empty_cache()</code>       æ¸…ç©ºç¨‹åºå ç”¨çš„GPUèµ„æº</li><li><code>torch.cuda.manual_seed(seed)</code> &#x2F; <code>torch.cuda.manual_seed_all(seed)</code> ä¸ºGPUè®¾ç½®éšæœºç§å­</li></ol><h2 id="torch-autograd"><a href="#torch-autograd" class="headerlink" title="torch.autograd"></a>torch.autograd</h2><p>torch.autograd æä¾›äº†å®ç°ä»»æ„æ ‡é‡å€¼å‡½æ•°çš„è‡ªåŠ¨å¾®åˆ†çš„ç±»å’Œå‡½æ•°ã€‚å®ƒåªéœ€è¦å¯¹ç°æœ‰çš„ä»£ç åšæœ€å°çš„æ”¹åŠ¨â€“ä½ åªéœ€è¦ç”¨require_grad&#x3D;Trueå…³é”®å­—æ¥å£°æ˜éœ€è¦è®¡ç®—æ¢¯åº¦çš„Tensor sã€‚ç›®å‰ï¼Œæˆ‘ä»¬åªæ”¯æŒæµ®ç‚¹å¼ é‡ç±»å‹ï¼ˆhalf, float, double and bfloat16ï¼‰å’Œå¤æ‚å¼ é‡ç±»å‹ï¼ˆcfloat, cdoubleï¼‰çš„autogradã€‚</p><ul><li><code>torch.autograd.function</code> ï¼ˆå‡½æ•°çš„åå‘ä¼ æ’­ï¼‰</li><li><code>torch.autograd.functional</code> ï¼ˆè®¡ç®—å›¾çš„åå‘ä¼ æ’­ï¼‰</li><li><code>torch.autograd.gradcheck</code> ï¼ˆæ•°å€¼æ¢¯åº¦æ£€æŸ¥ï¼‰</li><li><code>torch.autograd.anomaly_mode</code> ï¼ˆåœ¨è‡ªåŠ¨æ±‚å¯¼æ—¶æ£€æµ‹é”™è¯¯äº§ç”Ÿè·¯å¾„ï¼‰</li><li><code>torch.autograd.grad_mode</code> ï¼ˆè®¾ç½®æ˜¯å¦éœ€è¦æ¢¯åº¦ï¼‰</li><li><code>model.eval() </code>ä¸ <code>torch.no_grad()</code></li><li><code>torch.autograd.profiler</code> ï¼ˆæä¾› function çº§åˆ«çš„ç»Ÿè®¡ä¿¡æ¯ï¼‰</li></ul>]]></content>
    
    
    <categories>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python Pyod</title>
    <link href="/2022/08/01/Python/Pyod/"/>
    <url>/2022/08/01/Python/Pyod/</url>
    
    <content type="html"><![CDATA[<h1 id="PYOD"><a href="#PYOD" class="headerlink" title="PYOD"></a>PYOD</h1><p> PyOD is the most comprehensive and scalable <strong>Python toolkit</strong> for <strong>detecting outlying objects</strong> in multivariate data. </p><p>linkï¼š<a href="https://github.com/yzhao062/pyod">https://github.com/yzhao062/pyod</a></p><p>ä½¿ç”¨SUODæ¡†æ¶å¯ä»¥åŠ é€Ÿå®ç°</p><p>è°ƒç”¨pyod</p><blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># train an ECOD detector</span><br><span class="hljs-keyword">from</span> pyod.models.ecod <span class="hljs-keyword">import</span> ECOD<br>clf = ECOD()<br>clf.fit(X_train)<br><br><span class="hljs-comment"># get outlier scores</span><br>y_train_scores = clf.decision_scores_  <span class="hljs-comment"># raw outlier scores on the train data</span><br>y_test_scores = clf.decision_function(X_test)  <span class="hljs-comment"># predict raw outlier scores on test</span><br></code></pre></td></tr></table></figure></blockquote><p><strong>Individual Detection Algorithms</strong> :</p><table><thead><tr><th>Type</th><th>Abbr</th><th>Algorithm</th><th>Year</th><th>Ref</th></tr></thead><tbody><tr><td>Probabilistic</td><td>ECOD</td><td>Unsupervised Outlier Detection Using Empirical Cumulative Distribution Functions</td><td>2022</td><td>[<a href="https://github.com/yzhao062/pyod#li2021ecod">23]</a></td></tr><tr><td>Probabilistic</td><td>ABOD</td><td>Angle-Based Outlier Detection</td><td>2008</td><td>[<a href="https://github.com/yzhao062/pyod#kriegel2008angle">17]</a></td></tr><tr><td>Probabilistic</td><td>FastABOD</td><td>Fast Angle-Based Outlier Detection using approximation</td><td>2008</td><td>[<a href="https://github.com/yzhao062/pyod#kriegel2008angle">17]</a></td></tr><tr><td>Probabilistic</td><td>COPOD</td><td>COPOD: Copula-Based Outlier Detection</td><td>2020</td><td>[<a href="https://github.com/yzhao062/pyod#li2020copod">22]</a></td></tr><tr><td>Probabilistic</td><td>MAD</td><td>Median Absolute Deviation (MAD)</td><td>1993</td><td>[<a href="https://github.com/yzhao062/pyod#iglewicz1993how">14]</a></td></tr><tr><td>Probabilistic</td><td>SOS</td><td>Stochastic Outlier Selection</td><td>2012</td><td>[<a href="https://github.com/yzhao062/pyod#janssens2012stochastic">15]</a></td></tr><tr><td>Probabilistic</td><td>KDE</td><td>Outlier Detection with Kernel Density Functions</td><td>2007</td><td>[<a href="https://github.com/yzhao062/pyod#latecki2007outlier">19]</a></td></tr><tr><td>Probabilistic</td><td>Sampling</td><td>Rapid distance-based outlier detection via sampling</td><td>2013</td><td>[<a href="https://github.com/yzhao062/pyod#sugiyama2013rapid">34]</a></td></tr><tr><td>Linear Model</td><td>PCA</td><td>Principal Component Analysis (the sum of weighted projected distances to the eigenvector hyperplanes)</td><td>2003</td><td>[<a href="https://github.com/yzhao062/pyod#shyu2003a">33]</a></td></tr><tr><td>Linear Model</td><td>MCD</td><td>Minimum Covariance Determinant (use the mahalanobis distances as the outlier scores)</td><td>1999</td><td>[<a href="https://github.com/yzhao062/pyod#hardin2004outlier">12]</a> [<a href="https://github.com/yzhao062/pyod#rousseeuw1999a">30]</a></td></tr><tr><td>Linear Model</td><td>CD</td><td>Use Cookâ€™s distance for outlier detection</td><td>1977</td><td>[<a href="https://github.com/yzhao062/pyod#cook1977detection">9]</a></td></tr><tr><td>Linear Model</td><td>OCSVM</td><td>One-Class Support Vector Machines</td><td>2001</td><td>[<a href="https://github.com/yzhao062/pyod#scholkopf2001estimating">32]</a></td></tr><tr><td>Linear Model</td><td>LMDD</td><td>Deviation-based Outlier Detection (LMDD)</td><td>1996</td><td>[<a href="https://github.com/yzhao062/pyod#arning1996a">6]</a></td></tr><tr><td>Proximity-Based</td><td>LOF</td><td>Local Outlier Factor</td><td>2000</td><td>[<a href="https://github.com/yzhao062/pyod#breunig2000lof">7]</a></td></tr><tr><td>Proximity-Based</td><td>COF</td><td>Connectivity-Based Outlier Factor</td><td>2002</td><td>[<a href="https://github.com/yzhao062/pyod#tang2002enhancing">35]</a></td></tr><tr><td>Proximity-Based</td><td>(Incremental) COF</td><td>Memory Efficient Connectivity-Based Outlier Factor (slower but reduce storage complexity)</td><td>2002</td><td>[<a href="https://github.com/yzhao062/pyod#tang2002enhancing">35]</a></td></tr><tr><td>Proximity-Based</td><td>CBLOF</td><td>Clustering-Based Local Outlier Factor</td><td>2003</td><td>[<a href="https://github.com/yzhao062/pyod#he2003discovering">13]</a></td></tr><tr><td>Proximity-Based</td><td>LOCI</td><td>LOCI: Fast outlier detection using the local correlation integral</td><td>2003</td><td>[<a href="https://github.com/yzhao062/pyod#papadimitriou2003loci">26]</a></td></tr><tr><td>Proximity-Based</td><td>HBOS</td><td>Histogram-based Outlier Score</td><td>2012</td><td>[<a href="https://github.com/yzhao062/pyod#goldstein2012histogram">10]</a></td></tr><tr><td>Proximity-Based</td><td>kNN</td><td>k Nearest Neighbors (use the distance to the kth nearest neighbor as the outlier score)</td><td>2000</td><td>[<a href="https://github.com/yzhao062/pyod#ramaswamy2000efficient">29]</a></td></tr><tr><td>Proximity-Based</td><td>AvgKNN</td><td>Average kNN (use the average distance to k nearest neighbors as the outlier score)</td><td>2002</td><td>[<a href="https://github.com/yzhao062/pyod#angiulli2002fast">5]</a></td></tr><tr><td>Proximity-Based</td><td>MedKNN</td><td>Median kNN (use the median distance to k nearest neighbors as the outlier score)</td><td>2002</td><td>[<a href="https://github.com/yzhao062/pyod#angiulli2002fast">5]</a></td></tr><tr><td>Proximity-Based</td><td>SOD</td><td>Subspace Outlier Detection</td><td>2009</td><td>[<a href="https://github.com/yzhao062/pyod#kriegel2009outlier">18]</a></td></tr><tr><td>Proximity-Based</td><td>ROD</td><td>Rotation-based Outlier Detection</td><td>2020</td><td>[<a href="https://github.com/yzhao062/pyod#almardeny2020a">4]</a></td></tr><tr><td>Outlier Ensembles</td><td>IForest</td><td>Isolation Forest</td><td>2008</td><td>[<a href="https://github.com/yzhao062/pyod#liu2008isolation">24]</a></td></tr><tr><td>Outlier Ensembles</td><td>FB</td><td>Feature Bagging</td><td>2005</td><td>[<a href="https://github.com/yzhao062/pyod#lazarevic2005feature">20]</a></td></tr><tr><td>Outlier Ensembles</td><td>LSCP</td><td>LSCP: Locally Selective Combination of Parallel Outlier Ensembles</td><td>2019</td><td>[<a href="https://github.com/yzhao062/pyod#zhao2019lscp">38]</a></td></tr><tr><td>Outlier Ensembles</td><td>XGBOD</td><td>Extreme Boosting Based Outlier Detection <strong>(Supervised)</strong></td><td>2018</td><td>[<a href="https://github.com/yzhao062/pyod#zhao2018xgbod">37]</a></td></tr><tr><td>Outlier Ensembles</td><td>LODA</td><td>Lightweight On-line Detector of Anomalies</td><td>2016</td><td>[<a href="https://github.com/yzhao062/pyod#pevny2016loda">27]</a></td></tr><tr><td>Outlier Ensembles</td><td>SUOD</td><td>SUOD: Accelerating Large-scale Unsupervised Heterogeneous Outlier Detection <strong>(Acceleration)</strong></td><td>2021</td><td>[<a href="https://github.com/yzhao062/pyod#zhao2021suod">39]</a></td></tr><tr><td>Neural Networks</td><td>AutoEncoder</td><td>Fully connected AutoEncoder (use reconstruction error as the outlier score)</td><td></td><td>[<a href="https://github.com/yzhao062/pyod#aggarwal2015outlier">1]</a> [Ch.3]</td></tr><tr><td>Neural Networks</td><td>VAE</td><td>Variational AutoEncoder (use reconstruction error as the outlier score)</td><td>2013</td><td>[<a href="https://github.com/yzhao062/pyod#kingma2013auto">16]</a></td></tr><tr><td>Neural Networks</td><td>Beta-VAE</td><td>Variational AutoEncoder (all customized loss term by varying gamma and capacity)</td><td>2018</td><td>[<a href="https://github.com/yzhao062/pyod#burgess2018understanding">8]</a></td></tr><tr><td>Neural Networks</td><td>SO_GAAL</td><td>Single-Objective Generative Adversarial Active Learning</td><td>2019</td><td>[<a href="https://github.com/yzhao062/pyod#liu2019generative">25]</a></td></tr><tr><td>Neural Networks</td><td>MO_GAAL</td><td>Multiple-Objective Generative Adversarial Active Learning</td><td>2019</td><td>[<a href="https://github.com/yzhao062/pyod#liu2019generative">25]</a></td></tr><tr><td>Neural Networks</td><td>DeepSVDD</td><td>Deep One-Class Classification</td><td>2018</td><td>[<a href="https://github.com/yzhao062/pyod#ruff2018deep">31]</a></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python Pip using</title>
    <link href="/2022/08/01/Python/pip/"/>
    <url>/2022/08/01/Python/pip/</url>
    
    <content type="html"><![CDATA[<h1 id="pipâ€”â€”package-installer-for-python"><a href="#pipâ€”â€”package-installer-for-python" class="headerlink" title="pipâ€”â€”package installer for python"></a>pipâ€”â€”package installer for python</h1><p>è¿™æ˜¯ä¸€ä¸ªç”¨äºå¯¹pythonçš„ç¬¬ä¸‰æ–¹åº“è¿›è¡Œå®‰è£…ã€æ›´æ–°ã€å¸è½½ç­‰æ“ä½œçš„åŒ…ç®¡ç†å·¥å…·ã€‚ååˆ†æ–¹ä¾¿</p><p><strong>ã€Œæ³¨ï¼šå› ä¸ºpipæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºï¼Œæ‰€ä»¥pipä¸€èˆ¬éƒ½åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œå„ç§æ“ä½œã€</strong></p><h3 id="1ã€å®‰è£…pip"><a href="#1ã€å®‰è£…pip" class="headerlink" title="1ã€å®‰è£…pip"></a>1ã€å®‰è£…pip</h3><p>ä»python3.4å¼€å§‹ï¼Œ pipå·²ç»é»˜è®¤å®‰è£…åˆ°pythonå†…äº†ï¼Œæ— éœ€å†æ¬¡å®‰è£…ã€‚è‹¥æ²¡æœ‰å¯ä»¥ä½¿ç”¨ä¸€ä¸‹ä¸¤ç§æ–¹å¼å®‰è£…</p><ol><li>è¾“å…¥<code>easy_install pip</code></li><li>åœ¨<code>https://pypi.org/project/pip/#files</code>ä¸­ä¸‹è½½å¥½ï¼Œç„¶åå®‰è£…åˆ°python scriptsç›®å½•ä¸­ï¼Œæ‰§è¡Œè¯­å¥<code>python setup.py install</code>è¿›è¡Œå®‰è£…</li></ol><h3 id="2ã€æŸ¥çœ‹pipç‰ˆæœ¬"><a href="#2ã€æŸ¥çœ‹pipç‰ˆæœ¬" class="headerlink" title="2ã€æŸ¥çœ‹pipç‰ˆæœ¬"></a>2ã€æŸ¥çœ‹pipç‰ˆæœ¬</h3><p><code>pip --version</code></p><p><img src="/src/image-20220511201910084.png" alt="image-20220511201910084"></p><h3 id="3ã€å‡çº§pip"><a href="#3ã€å‡çº§pip" class="headerlink" title="3ã€å‡çº§pip"></a>3ã€å‡çº§pip</h3><p>å¦‚æœpipçš„ç‰ˆæœ¬å¤ªä½ï¼Œå¯ä»¥å‡çº§å½“å‰ç‰ˆæœ¬<br><code>pip install --upgrade pip</code></p><h3 id="4ã€è·å–å¸®åŠ©"><a href="#4ã€è·å–å¸®åŠ©" class="headerlink" title="4ã€è·å–å¸®åŠ©"></a>4ã€è·å–å¸®åŠ©</h3><p>æƒ³äº†è§£å¦‚ä½•ä½¿ç”¨pipï¼Œä»¥åŠpipæœ‰å“ªäº›åŠŸèƒ½ï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥å¯ä»¥è·å–è¯¦ç»†æ•™ç¨‹:<br><code>pip help</code></p><h3 id="5ã€å®‰è£…åº“"><a href="#5ã€å®‰è£…åº“" class="headerlink" title="5ã€å®‰è£…åº“"></a>5ã€å®‰è£…åº“</h3><p>ä½¿ç”¨pipå®‰è£…ç¬¬ä¸‰æ–¹åº“ï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥<br><code>pip install package_name</code></p><p>æŒ‡å®špackageç‰ˆæœ¬ï¼š<br><code>pip install package_name==1.1.2</code></p><p>æ¯”å¦‚è¯´ï¼Œæˆ‘è¦å®‰è£…3.4.1ç‰ˆæœ¬çš„matplotlib<br><code>pip install matplotlib==3.4.1</code></p><h3 id="6ã€æ‰¹é‡å®‰è£…åº“"><a href="#6ã€æ‰¹é‡å®‰è£…åº“" class="headerlink" title="6ã€æ‰¹é‡å®‰è£…åº“"></a>6ã€æ‰¹é‡å®‰è£…åº“</h3><p>å¦‚æœä¸€ä¸ªé¡¹ç›®éœ€è¦å®‰è£…å¾ˆå¤šåº“ï¼Œé‚£å¯ä»¥æ‰¹é‡å®‰è£…ï¼š<br><code>pip install -r requirements.txt</code></p><h3 id="7ã€ä½¿ç”¨wheelæ–‡ä»¶å®‰è£…åº“"><a href="#7ã€ä½¿ç”¨wheelæ–‡ä»¶å®‰è£…åº“" class="headerlink" title="7ã€ä½¿ç”¨wheelæ–‡ä»¶å®‰è£…åº“"></a>7ã€ä½¿ç”¨wheelæ–‡ä»¶å®‰è£…åº“</h3><p>è¿™ç§æ–¹æ³•é€‚åˆç¦»çº¿å®‰è£…ï¼Œwheelæ–‡ä»¶æ˜¯åº“çš„æºæ–‡ä»¶ï¼Œå¯ä»¥ä¸‹è½½åæ”¾åˆ°æœ¬åœ°å®‰è£…ã€‚</p><p>æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>(1) åœ¨ä¸‹é¢ç½‘ç«™é‡Œæ‰¾ç›¸åº”åº“çš„.whlæ–‡ä»¶<br><a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">https://www.lfd.uci.edu/~gohlke/pythonlibs/</a></p><p>(2) ä¸‹è½½.whlæ–‡ä»¶ï¼Œæ³¨æ„å¯¹åº”çš„ç‰ˆæœ¬</p><p><img src="/src/640.png" alt="å›¾ç‰‡"></p><p>(3) åœ¨.whlæ‰€åœ¨æ–‡ä»¶å¤¹å†…ï¼ŒæŒ‰Shifté”®+é¼ æ ‡å³é”®ï¼Œæ‰“å¼€CMDçª—å£æˆ–è€…PowerShell</p><p>(4) è¾“å…¥å‘½ä»¤ï¼š<br><code>pip install matplotlibâ€‘3.4.1â€‘cp39â€‘cp39â€‘win_amd64.whl</code><br>å³å¯å®Œæˆå®‰è£…</p><h3 id="8ã€å¸è½½åº“"><a href="#8ã€å¸è½½åº“" class="headerlink" title="8ã€å¸è½½åº“"></a>8ã€å¸è½½åº“</h3><p>å®‰è£…å¥½çš„åº“å¯ä»¥å†å¸è½½ï¼š<br><code>pip uninstall package_name</code></p><h3 id="9ã€å‡çº§åº“"><a href="#9ã€å‡çº§åº“" class="headerlink" title="9ã€å‡çº§åº“"></a>9ã€å‡çº§åº“</h3><p>å¯¹å½“å‰åº“è¿›è¡Œç‰ˆæœ¬å‡çº§:<br><code>pip install --upgrade package_name</code></p><h3 id="10ã€æŸ¥çœ‹åº“ä¿¡æ¯"><a href="#10ã€æŸ¥çœ‹åº“ä¿¡æ¯" class="headerlink" title="10ã€æŸ¥çœ‹åº“ä¿¡æ¯"></a>10ã€æŸ¥çœ‹åº“ä¿¡æ¯</h3><p><code>pip show -f package_name</code></p><h3 id="11ã€æŸ¥çœ‹å·²å®‰è£…çš„åº“"><a href="#11ã€æŸ¥çœ‹å·²å®‰è£…çš„åº“" class="headerlink" title="11ã€æŸ¥çœ‹å·²å®‰è£…çš„åº“"></a>11ã€æŸ¥çœ‹å·²å®‰è£…çš„åº“</h3><p>åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„ç¬¬ä¸‰æ–¹åº“å’Œå¯¹åº”ç‰ˆæœ¬<br><code>pip list</code></p><p><img src="/src/image-20220511202253586.png" alt="image-20220511202253586"></p><h3 id="12ã€å°†åº“åˆ—è¡¨ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­"><a href="#12ã€å°†åº“åˆ—è¡¨ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­" class="headerlink" title="12ã€å°†åº“åˆ—è¡¨ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­"></a>12ã€å°†åº“åˆ—è¡¨ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­</h3><p>æŠŠå·²ç»å®‰è£…çš„åº“ä¿¡æ¯ä¿å­˜åˆ°åˆ°æœ¬åœ°txtæ–‡ä»¶ä¸­ï¼š<br><code>pip freeze &gt; requirements.txt</code></p><p><img src="/src/image-20220511202414513-165694142759286.png" alt="image-20220511202414513"></p><h3 id="13ã€æŸ¥çœ‹éœ€è¦å‡çº§çš„åº“"><a href="#13ã€æŸ¥çœ‹éœ€è¦å‡çº§çš„åº“" class="headerlink" title="13ã€æŸ¥çœ‹éœ€è¦å‡çº§çš„åº“"></a>13ã€æŸ¥çœ‹éœ€è¦å‡çº§çš„åº“</h3><p>ç›®å‰å·²ç»å®‰è£…çš„åº“ä¸­ï¼Œçœ‹å“ªäº›éœ€è¦ç‰ˆæœ¬å‡çº§<br><code>pip list -o</code></p><p><img src="/src/image-20220511202717260-165694142975989.png" alt="image-20220511202717260"></p><h3 id="14ã€æ£€æŸ¥å…¼å®¹é—®é¢˜"><a href="#14ã€æ£€æŸ¥å…¼å®¹é—®é¢˜" class="headerlink" title="14ã€æ£€æŸ¥å…¼å®¹é—®é¢˜"></a>14ã€æ£€æŸ¥å…¼å®¹é—®é¢˜</h3><p>éªŒè¯å·²å®‰è£…çš„åº“æ˜¯å¦æœ‰å…¼å®¹ä¾èµ–é—®é¢˜<br><code>pip check package-name</code></p><p><img src="/src/image-20220511202756903-165694143139792.png" alt="image-20220511202756903"></p><h3 id="15ã€ä¸‹è½½åº“åˆ°æœ¬åœ°"><a href="#15ã€ä¸‹è½½åº“åˆ°æœ¬åœ°" class="headerlink" title="15ã€ä¸‹è½½åº“åˆ°æœ¬åœ°"></a>15ã€ä¸‹è½½åº“åˆ°æœ¬åœ°</h3><p>å°†åº“ä¸‹è½½åˆ°æœ¬åœ°æŒ‡å®šæ–‡ä»¶ï¼Œä¿å­˜ä¸ºwhlæ ¼å¼<br><code>pip download package_name -d &quot;è¦ä¿å­˜çš„æ–‡ä»¶è·¯å¾„&quot;</code></p><h3 id="é™„ï¼šæ›´æ¢pipæº"><a href="#é™„ï¼šæ›´æ¢pipæº" class="headerlink" title="é™„ï¼šæ›´æ¢pipæº"></a>é™„ï¼šæ›´æ¢pipæº</h3><p>å¾ˆå¤šäººæŠ±æ€¨pipå®‰è£…åº“æœ‰äº›æ—¶å€™å¤ªæ…¢äº†ï¼Œé‚£æ˜¯pipæºçš„é—®é¢˜ã€‚</p><p>å‰é¢è¯´è¿‡pipä»PyPiä¸­ä¸‹è½½åº“æ–‡ä»¶ï¼Œä½†ç”±äºPyPiæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œè®¿é—®èµ·æ¥å¾ˆæ…¢ã€‚</p><p>ä½†å›½å†…æä¾›äº†å¾ˆå¤šé•œåƒæºï¼Œç”¨æ¥æ›¿ä»£PyPiï¼Œåƒæ¸…åæºã€è±†ç“£æºã€é˜¿é‡Œäº‘æºç­‰ã€‚</p><p>è¿™äº›é•œåƒæºå¤‡ä»½äº†PyPié‡Œçš„æ•°æ®ï¼Œç”±äºæœåŠ¡å™¨åœ¨å›½å†…ï¼Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚</p><p>ä½†é•œåƒæºæ•°æ®æœ‰æ»åæ€§ï¼Œæ¯”å¦‚è¯´æ¸…åæºçš„pypi é•œåƒæ¯ 5 åˆ†é’ŸåŒæ­¥ä¸€æ¬¡ã€‚</p><p>ä½¿ç”¨é•œåƒæºæœ‰ä¸¤ç§æ–¹å¼ï¼Œä»¥æ¸…åæºä¸ºä¾‹ï¼š</p><p>(1) ä¸´æ—¶ä½¿ç”¨</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple <span class="hljs-keyword">some</span>-<span class="hljs-keyword">package</span> <span class="hljs-title">matplotlib</span><br></code></pre></td></tr></table></figure><p>é™¤äº†matplotlibæ˜¯è¦å®‰è£…çš„åº“åå¤–ï¼Œå…¶ä»–éƒ½æ˜¯å›ºå®šæ ¼å¼</p><p>(2) è®¾ä¸ºé»˜è®¤</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">pip config <span class="hljs-keyword">set</span> <span class="hljs-keyword">global</span>.<span class="hljs-built_in">index</span>-url https://pypi.tuna.tsinghua.edu.<span class="hljs-keyword">cn</span>/simple<br></code></pre></td></tr></table></figure><p>è®¾ä¸ºé»˜è®¤åï¼Œä»¥åå®‰è£…åº“éƒ½æ˜¯ä»æ¸…åæºä¸‹è½½ï¼Œè€Œä¸”æ— éœ€å†åŠ é•œåƒæºç½‘å€</p><p>é™„ä¸»æµé•œåƒæºåœ°å€</p><p>æ¸…åï¼š<a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a><br>é˜¿é‡Œäº‘ï¼š<a href="http://mirrors.aliyun.com/pypi/simple/">http://mirrors.aliyun.com/pypi/simple/</a><br>ä¸­å›½ç§‘æŠ€å¤§å­¦ï¼š<a href="https://pypi.mirrors.ustc.edu.cn/simple/">https://pypi.mirrors.ustc.edu.cn/simple/</a><br>åä¸­ç†å·¥å¤§å­¦ï¼š<a href="http://pypi.hustunique.com/">http://pypi.hustunique.com/</a><br>å±±ä¸œç†å·¥å¤§å­¦ï¼š<a href="http://pypi.sdutlinux.org/">http://pypi.sdutlinux.org/</a><br>è±†ç“£ï¼š<a href="http://pypi.douban.com/simple/.com/simple/">http://pypi.douban.com/simple/.com/simple/</a></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pandas duplicated data dealing</title>
    <link href="/2022/08/01/Python/Pandas%E9%87%8D%E5%A4%8D%E5%80%BC%E5%A4%84%E7%90%86/"/>
    <url>/2022/08/01/Python/Pandas%E9%87%8D%E5%A4%8D%E5%80%BC%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ¬¡æ¥ä»‹ç»é‡å¤å€¼å¤„ç†çš„å¸¸ç”¨æ–¹æ³•ã€‚</p><hr><p>é‡å¤å€¼å¤„ç†ä¸»è¦æ¶‰åŠä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯æ‰¾å‡ºé‡å¤å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯åˆ é™¤é‡å¤å€¼ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®è‡ªå·±è®¾å®šçš„æ¡ä»¶è¿›è¡Œåˆ é™¤æ“ä½œã€‚</p><h2 id="å®šä½é‡å¤å€¼"><a href="#å®šä½é‡å¤å€¼" class="headerlink" title="å®šä½é‡å¤å€¼"></a>å®šä½é‡å¤å€¼</h2><p>å¯¹äºé‡å¤å€¼ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æŸ¥çœ‹è¿™äº›é‡å¤å€¼æ˜¯ä»€ä¹ˆæ ·çš„å½¢å¼ï¼Œç„¶åç¡®å®šåˆ é™¤çš„èŒƒå›´ï¼Œè€ŒæŸ¥è¯¢é‡å¤å€¼éœ€è¦ç”¨åˆ°<code>duplicated</code>å‡½æ•°ã€‚</p><p><code>duplicated</code>çš„è¿”å›å€¼æ˜¯å¸ƒå°”å€¼ï¼Œè¿”å›<code>True</code>å’Œ<code>False</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šæŒ‰ç…§ä¸€è¡Œçš„æ‰€æœ‰å†…å®¹è¿›è¡ŒæŸ¥é‡ã€‚</p><p>ä¸»è¦å‚æ•°ï¼š</p><ul><li><p><code>subset</code>ï¼šå¦‚æœä¸æŒ‰ç…§å…¨éƒ¨å†…å®¹æŸ¥é‡ï¼Œé‚£ä¹ˆéœ€è¦æŒ‡å®šæŒ‰ç…§å“ªäº›åˆ—è¿›è¡ŒæŸ¥é‡ã€‚æ¯”å¦‚æŒ‰ç…§å§“åè¿›è¡ŒæŸ¥é‡<code>subset=[&#39;name&#39;]</code>ï¼Œé‚£ä¹ˆå…·æœ‰ç›¸åŒåå­—çš„äººå°±åªä¼šä¿ç•™ä¸€ä¸ªï¼Œä½†å¾ˆå¯èƒ½åªæ˜¯é‡åçš„åŸå› ï¼Œè€Œå¹¶éçœŸæ­£åŒä¸€ä¸ªäººï¼Œæ‰€ä»¥å¯ä»¥æŒ‰ç…§å§“åå’Œå‡ºç”Ÿæ—¥æœŸä¸¤åˆ—æŸ¥é‡ï¼Œ<code>subset=[&#39;name&#39;,&#39;birthday&#39;]</code>ï¼ŒåŒç†è¿˜å¯ä»¥å†æ·»åŠ åˆ—ï¼Œè¿™æ ·å°±å¯ä»¥åŸºæœ¬ä¿è¯å»é‡æ•ˆæœäº†ã€‚</p></li><li><p><code>keep</code>ï¼šç”¨æ¥ç¡®å®šè¦æ ‡è®°çš„é‡å¤å€¼ï¼Œå¯ä»¥è®¾ç½®ä¸º<code>first</code>ã€<code>last</code>ã€<code>False</code>ã€‚</p></li><li><ul><li><code>first</code>ï¼šé™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„é‡å¤å€¼ï¼Œå…¶ä»–éƒ½æ ‡è®°ä¸ºTrue</li><li><code>last</code>ï¼šé™¤æœ€åä¸€æ¬¡å‡ºç°çš„é‡å¤å€¼ï¼Œå…¶ä»–éƒ½æ ‡è®°ä¸ºTrue</li><li><code>False</code>ï¼šæ‰€æœ‰é‡å¤å€¼éƒ½æ ‡è®°ä¸ºTrue</li></ul></li></ul><p>å®ä¾‹ï¼š</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">import pandas as pd<br>import numpy as np<br><br>data = &#123;<br><span class="hljs-code">    &#x27;user&#x27; : [&#x27;zszxz&#x27;,&#x27;zszxz&#x27;,&#x27;rose&#x27;],</span><br><span class="hljs-code">    &#x27;price&#x27; : [100, 200, -300],</span><br><span class="hljs-code">    &#x27;hobby&#x27; : [&#x27;reading&#x27;,&#x27;reading&#x27;,&#x27;hiking&#x27;]</span><br>&#125;<br>frame  = pd.DataFrame(data)<br><span class="hljs-section">print(frame)</span><br><span class="hljs-section">------------------------</span><br><span class="hljs-code">    user  price    hobby</span><br>0  zszxz    100  reading<br>1  zszxz    200  reading<br><span class="hljs-section">2   rose   -300   hiking</span><br><span class="hljs-section">------------------------</span><br><br><span class="hljs-section">frame.duplicated()</span><br><span class="hljs-section">----------</span><br>0    False<br>1    False<br>2    False<br><span class="hljs-section">dtype: bool</span><br><span class="hljs-section">-----------</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢æåˆ°<code>duplicated</code>è¿”å›å¸ƒå°”å€¼ï¼Œæ‰€ä»¥å¦‚æœè¦æƒ³è¾“å‡ºè¿™äº›é‡å¤å€¼ï¼Œè¿˜éœ€è¦å’ŒæŸ¥è¯¢çš„æ–¹æ³•é…åˆä½¿ç”¨<code>df[df.duplicated()]</code>ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># 1ã€æŒ‰userå˜é‡ç­›é€‰é‡å¤å€¼<br>frame[frame.duplicated(subset=[<span class="hljs-emphasis">&#x27;user&#x27;</span>])]<br><span class="hljs-code">-------------------</span><br><span class="hljs-code">  user price hobby</span><br><span class="hljs-code">1 zszxz 200 reading</span><br><span class="hljs-code">-------------------</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢æŒ‰<code>user</code>ä¸€ä¸ªå˜é‡è¿›è¡ŒæŸ¥é‡ï¼Œä½†æ²¡æœ‰è®¾ç½®<code>keep</code>å‚æ•°ï¼Œæ‰€ä»¥é»˜è®¤ç­›é€‰å‡ºé™¤äº†ç¬¬ä¸€ä¸ªä»¥å¤–çš„å…¶å®ƒé‡å¤å€¼ã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># 2ã€æŒ‰userå˜é‡ç­›é€‰é‡å¤å€¼,ä¿ç•™å…¨éƒ¨é‡å¤å€¼<br>frame[frame.duplicated(subset=[<span class="hljs-emphasis">&#x27;user&#x27;</span>], keep=False)]<br><span class="hljs-code">-------------------</span><br><span class="hljs-code">  user price hobby</span><br><span class="hljs-code">0 zszxz 100 reading</span><br><span class="hljs-code">1 zszxz 200 reading</span><br><span class="hljs-code">-------------------</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢æŒ‰<code>user</code>ä¸€ä¸ªå˜é‡è¿›è¡ŒæŸ¥é‡ï¼Œå¹¶è®¾ç½®<code>keep</code>å‚æ•°ä¸º<code>False</code>ï¼Œæ‰€ä»¥ä¿ç•™äº†å…¨éƒ¨çš„é‡å¤å€¼ã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># 3ã€æŒ‰userå’Œhobbyå˜é‡ç­›é€‰é‡å¤å€¼,ç­›é€‰å‡ºé™¤æœ€åä¸€ä¸ªé‡å¤å€¼ä»¥å¤–çš„å…¶å®ƒé‡å¤å€¼<br>frame[frame.duplicated(subset=[<span class="hljs-emphasis">&#x27;user&#x27;</span>,<span class="hljs-emphasis">&#x27;hobby&#x27;</span>], keep=<span class="hljs-emphasis">&#x27;last&#x27;</span>)]<br><span class="hljs-code">-------------------</span><br><span class="hljs-code">  user price hobby</span><br><span class="hljs-code">0 zszxz 100 reading</span><br><span class="hljs-code">-------------------</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢æŒ‰<code>user</code>å’Œ<code>hobby</code>ä¸¤ä¸ªå˜é‡è¿›è¡ŒæŸ¥é‡ï¼Œå¹¶è®¾ç½®<code>keep</code>å‚æ•°ä¸º<code>last</code>ï¼Œæ‰€ä»¥ç­›é€‰å‡ºäº†é™¤æœ€åä¸€ä¸ªé‡å¤å€¼ä»¥å¤–çš„å…¶å®ƒé‡å¤å€¼ã€‚</p><p>é€šè¿‡ä¸¤ä¸ªå‚æ•°çš„è®¾ç½®å°±å¯ä»¥æŸ¥çœ‹è‡ªå·±æƒ³è¦çš„é‡å¤å€¼äº†ï¼Œä»¥æ­¤åˆ¤æ–­è¦åˆ é™¤å“ªä¸ªï¼Œä¿ç•™å“ªä¸ªã€‚</p><h2 id="åˆ é™¤é‡å¤å€¼"><a href="#åˆ é™¤é‡å¤å€¼" class="headerlink" title="åˆ é™¤é‡å¤å€¼"></a>åˆ é™¤é‡å¤å€¼</h2><p>å½“ç¡®å®šå¥½éœ€è¦åˆ é™¤çš„é‡å¤å€¼åï¼Œå°±è¿›è¡Œè¿›è¡Œåˆ é™¤çš„æ“ä½œäº†ã€‚</p><p>åˆ é™¤é‡å¤å€¼ä¼šç”¨åˆ°<code>drop_duplicates</code>å‡½æ•°ã€‚</p><p>å’Œ<code>duplicated()</code>å‡½æ•°å‚æ•°ç±»ä¼¼ï¼Œä¸»è¦æœ‰3ä¸ªå‚æ•°ï¼š</p><ul><li><p><code>subset</code>ï¼šåŒ<code>duplicated()</code>ï¼Œè®¾ç½®å»é‡çš„å­—æ®µ</p></li><li><p><code>keep</code>: è¿™é‡Œç¨æœ‰ä¸åŒï¼Œ<code>duplicated()</code>ä¸­æ˜¯å°†é™¤è®¾ç½®å€¼ä»¥å¤–é‡å¤å€¼éƒ½è¿”å›<code>True</code>ï¼Œè€Œè¿™é‡Œæ˜¯ä¿ç•™çš„æ„æ€ã€‚åŒæ ·å¯ä»¥è®¾ç½®<code>first</code>ã€<code>last</code>ã€<code>False</code></p></li><li><ul><li><code>first</code>ï¼šä¿ç•™ç¬¬ä¸€æ¬¡å‡ºç°çš„é‡å¤è¡Œï¼Œåˆ é™¤å…¶ä»–é‡å¤è¡Œ</li><li><code>last</code>ï¼šä¿ç•™æœ€åä¸€æ¬¡å‡ºç°çš„é‡å¤è¡Œï¼Œåˆ é™¤å…¶ä»–é‡å¤è¡Œ</li><li><code>False</code>ï¼šåˆ é™¤æ‰€æœ‰é‡å¤è¡Œ</li></ul></li><li><p><code>inplace</code>ï¼šå¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸º<code>False</code>ï¼Œæ˜¯å¦ç›´æ¥åœ¨åŸæ•°æ®ä¸Šåˆ é™¤é‡å¤é¡¹æˆ–åˆ é™¤é‡å¤é¡¹åè¿”å›å‰¯æœ¬ã€‚</p></li></ul><p>å®ä¾‹ï¼š</p><p><strong>1ã€å…¨éƒ¨å»é‡</strong></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># æŒ‰å…¨éƒ¨å­—æ®µåˆ é™¤ï¼Œåœ¨åŸæ•°æ®frameä¸Šç”Ÿæ•ˆ<br>frame.drop_duplicates(inplace=True)<br><span class="hljs-section">print(frame)</span><br><span class="hljs-section">------------------------</span><br><span class="hljs-code">    user  price    hobby</span><br>0  zszxz    100  reading<br>1  zszxz    200  reading<br><span class="hljs-section">2   rose   -300   hiking</span><br><span class="hljs-section">------------------------</span><br></code></pre></td></tr></table></figure><p>å› ä¸ºä¸Šé¢æ•°æ®ä¸­æ²¡æœ‰å…¨éƒ¨é‡å¤çš„ï¼Œå› æ­¤æ²¡æœ‰å¯åˆ é™¤è¡Œã€‚</p><p><strong>2ã€æŒ‡å®šåˆ—å»é‡</strong></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># æŒ‰userå­—æ®µåˆ é™¤ï¼Œåœ¨åŸæ•°æ®frameä¸Šç”Ÿæ•ˆ<br>frame.drop_duplicates(subset=[<span class="hljs-emphasis">&#x27;user&#x27;</span>],inplace=True)<br><span class="hljs-section">print(frame)</span><br><span class="hljs-section">------------------------</span><br><span class="hljs-code">    user  price    hobby</span><br>0  zszxz    100  reading<br><span class="hljs-section">2   rose   -300   hiking</span><br><span class="hljs-section">------------------------</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢æŒ‰<code>user</code>å­—æ®µåˆ é™¤é‡å¤è¡Œï¼Œä¿ç•™ç¬¬ä¸€ä¸ªé‡å¤è¡Œï¼Œå› æ­¤ç¬¬äºŒè¡Œè¢«åˆ é™¤äº†ã€‚ä½†è¿™é‡Œå¤§å®¶æ³¨æ„ä¸‹ï¼Œ<strong>æ‰§è¡Œåˆ é™¤é‡å¤è¡Œæ“ä½œåï¼Œè¡¨çš„ç´¢å¼•ä¹Ÿä¼šè¢«åˆ æ‰ã€‚</strong></p><p>å¦‚éœ€è¦é‡ç½®å¯ä»¥åŠ ä¸Š<code>reset_index()</code>ï¼Œè®¾ç½®<code>drop=True</code>ï¼Œç”¨ç´¢å¼•æ›¿ä»£è¢«æ‰“ä¹±çš„ç´¢å¼•ã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">frame.drop<span class="hljs-emphasis">_duplicates(subset=[&#x27;user&#x27;],inplace=True)</span><br><span class="hljs-emphasis">frame.reset_</span>index(drop=True)<br><span class="hljs-code">------------------------</span><br><span class="hljs-code">    user  price    hobby</span><br><span class="hljs-code">0  zszxz    100  reading</span><br><span class="hljs-code">1   rose   -300   hiking</span><br><span class="hljs-code">------------------------</span><br></code></pre></td></tr></table></figure><p><code>keep</code>é»˜è®¤ä¸º<code>first</code>ï¼Œä¸‹é¢æ‰‹åŠ¨è®¾ç½®ä¸º<code>last</code>ï¼Œåªä¿ç•™æœ€åä¸€ä¸ªé‡å¤è¡Œã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># æŒ‰å…¨éƒ¨å­—æ®µåˆ é™¤ï¼Œåœ¨åŸæ•°æ®frameä¸Šç”Ÿæ•ˆ<br>frame.drop_duplicates(subset=[<span class="hljs-emphasis">&#x27;user&#x27;</span>,<span class="hljs-emphasis">&#x27;hobby&#x27;</span>],keep=<span class="hljs-emphasis">&#x27;last&#x27;</span>,inplace=True)<br><span class="hljs-section">print(frame)</span><br><span class="hljs-section">------------------------</span><br><span class="hljs-code">    user  price    hobby</span><br>1  zszxz    200  reading<br><span class="hljs-section">2   rose   -300   hiking</span><br><span class="hljs-section">------------------------</span><br></code></pre></td></tr></table></figure><p><code>keep</code>æ‰‹åŠ¨è®¾ç½®ä¸º<code>False</code>ï¼Œå…¨éƒ¨åˆ é™¤ï¼Œè¿™ç§ä¸€èˆ¬å¾ˆå°‘ç”¨ã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># æŒ‰å…¨éƒ¨å­—æ®µåˆ é™¤ï¼Œåœ¨åŸæ•°æ®frameä¸Šç”Ÿæ•ˆ<br>frame.drop_duplicates(subset=[<span class="hljs-emphasis">&#x27;user&#x27;</span>,<span class="hljs-emphasis">&#x27;hobby&#x27;</span>],keep=False,inplace=True)<br><span class="hljs-section">print(frame)</span><br><span class="hljs-section">------------------------</span><br><span class="hljs-code">    user  price    hobby</span><br><span class="hljs-section">2   rose   -300   hiking</span><br><span class="hljs-section">------------------------</span><br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯é‡å¤å€¼ç›¸å…³çš„æ‰€æœ‰æ“ä½œã€‚</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>åœ¨åˆ é™¤é‡å¤å€¼æ—¶ï¼Œè¦æ³¨æ„ä¸‹åˆ é™¤çš„é€»è¾‘ã€‚</p><p>å› ä¸ºå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦æŠŠè¿™äº›ç¦»çº¿çš„æ¸…æ´—æ“ä½œåœ¨çº¿ä¸Šå¤ç°ã€‚</p><p>å¦‚æœæˆ‘ä»¬éšæœºåœ°åˆ é™¤é‡å¤è¡Œï¼Œæ²¡æœ‰æ˜ç¡®çš„é€»è¾‘ï¼Œé‚£ä¹ˆå¯¹äºè¿™ç§éšæœºæ€§çº¿ä¸Šæ˜¯æ— æ³•å¤ç°çš„ï¼Œå³æ— æ³•ä¿è¯æ¸…æ´—åçš„æ•°æ®ä¸€è‡´æ€§ã€‚</p><p><strong>æ‰€ä»¥æˆ‘ä»¬åœ¨åˆ é™¤é‡å¤è¡Œå‰ï¼Œå¯ä»¥æŠŠé‡å¤åˆ¤æ–­å­—æ®µè¿›è¡Œæ’åºå¤„ç†ã€‚</strong></p><p>æ¯”å¦‚ä¸Šé¢ä¾‹å­ä¸­ï¼Œå¦‚æœè¦å¯¹<code>user</code>å’Œ<code>price</code>å»é‡ï¼Œé‚£ä¹ˆæ¯”è¾ƒä¸¥è°¨çš„åšæ³•æ˜¯æŒ‰ç…§<code>user</code>å’Œ<code>price</code>è¿›è¡Œæ’åºã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">frame.sort_values(by=[<span class="hljs-emphasis">&#x27;user&#x27;</span>,<span class="hljs-emphasis">&#x27;price&#x27;</span>],ascending=True).reset_index(drop=True)<br><span class="hljs-code">--------------------</span><br><span class="hljs-code">  user price hobby</span><br><span class="hljs-code">0 rose -300 hiking</span><br><span class="hljs-code">1 zszxz 100 reading</span><br><span class="hljs-code">2 zszxz 200 reading</span><br><span class="hljs-code">--------------------</span><br></code></pre></td></tr></table></figure><p>å› ä¸ºæœ‰äº†æ’åºæ€§ï¼Œåªè¦æŒ‰è¿™ä¸ªé€»è¾‘å®ƒçš„é¡ºåºæ˜¯å›ºå®šçš„ï¼Œè€Œä¸æ˜¯éšæœºçš„ã€‚æ‰€ä»¥æ— è®ºæˆ‘ä»¬è®¾ç½®<code>keep</code>ä¸º<code>first</code>è¿˜æ˜¯<code>last</code>ï¼Œéƒ½æ²¡æœ‰ä»»ä½•å½±å“ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pandas  losing data deal</title>
    <link href="/2022/08/01/Python/pandas%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A4%84%E7%90%86/"/>
    <url>/2022/08/01/Python/pandas%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€ç¼ºå¤±å€¼ç±»å‹"><a href="#ä¸€ã€ç¼ºå¤±å€¼ç±»å‹" class="headerlink" title="ä¸€ã€ç¼ºå¤±å€¼ç±»å‹"></a>ä¸€ã€ç¼ºå¤±å€¼ç±»å‹</h2><p>åœ¨<code>pandas</code>ä¸­ï¼Œç¼ºå¤±æ•°æ®æ˜¾ç¤ºä¸º<strong>NaN</strong>ã€‚ç¼ºå¤±å€¼æœ‰3ç§è¡¨ç¤ºæ–¹æ³•ï¼Œ<code>np.nan</code>ï¼Œ<code>none</code>ï¼Œ<code>pd.NA</code>ã€‚</p><h3 id="1ã€np-nan"><a href="#1ã€np-nan" class="headerlink" title="1ã€np.nan"></a>1ã€np.nan</h3><p>ç¼ºå¤±å€¼æœ‰ä¸ªç‰¹ç‚¹ï¼ˆå‘ï¼‰ï¼Œå®ƒä¸ç­‰äºä»»ä½•å€¼ï¼Œè¿è‡ªå·±éƒ½ä¸ç›¸ç­‰ã€‚å¦‚æœç”¨<code>nan</code>å’Œä»»ä½•å…¶å®ƒå€¼æ¯”è¾ƒéƒ½ä¼šè¿”å›<code>nan</code>ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arcade">np.<span class="hljs-literal">nan</span> == np.<span class="hljs-literal">nan</span><br>&gt;&gt; <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿæ­£ç”±äºè¿™ä¸ªç‰¹ç‚¹ï¼Œåœ¨æ•°æ®é›†è¯»å…¥ä»¥åï¼Œä¸è®ºåˆ—æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Œé»˜è®¤çš„ç¼ºå¤±å€¼å…¨ä¸º<code>np.nan</code>ã€‚</p><p><strong>å› ä¸º<code>nan</code>åœ¨<code>Numpy</code>ä¸­çš„ç±»å‹æ˜¯æµ®ç‚¹ï¼Œå› æ­¤æ•´å‹åˆ—ä¼šè½¬ä¸ºæµ®ç‚¹ï¼›è€Œå­—ç¬¦å‹ç”±äºæ— æ³•è½¬åŒ–ä¸ºæµ®ç‚¹å‹ï¼Œåªèƒ½å½’å¹¶ä¸ºobjectç±»å‹ï¼ˆâ€™Oâ€™ï¼‰ï¼ŒåŸæ¥æ˜¯æµ®ç‚¹å‹çš„åˆ™ç±»å‹ä¸å˜ã€‚</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">type</span><span class="hljs-params">(np.nan)</span></span><br>&gt;&gt; <span class="hljs-attribute">float</span><br>pd<span class="hljs-selector-class">.Series</span>(<span class="hljs-selector-attr">[1,2,3]</span>)<span class="hljs-selector-class">.dtype</span><br>&gt;&gt; <span class="hljs-built_in">dtype</span>(<span class="hljs-string">&#x27;int64&#x27;</span>)<br>pd<span class="hljs-selector-class">.Series</span>(<span class="hljs-selector-attr">[1,np.nan,3]</span>)<span class="hljs-selector-class">.dtype</span><br>&gt;&gt; <span class="hljs-built_in">dtype</span>(<span class="hljs-string">&#x27;float64&#x27;</span>)<br></code></pre></td></tr></table></figure><p>åˆå­¦è€…åšæ•°æ®å¤„ç†é‡è§objectç±»å‹ä¼šå‘æ‡µï¼Œä¸çŸ¥é“è¿™æ˜¯ä¸ªå•¥ï¼Œæ˜æ˜æ˜¯å­—ç¬¦å‹ï¼Œå¯¼å…¥åå°±å˜äº†ï¼Œå…¶å®æ˜¯å› ä¸ºç¼ºå¤±å€¼å¯¼è‡´çš„ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜è¦ä»‹ç»ä¸€ç§é’ˆå¯¹æ—¶é—´åºåˆ—çš„ç¼ºå¤±å€¼ï¼Œå®ƒæ˜¯å•ç‹¬å­˜åœ¨çš„ï¼Œç”¨<strong>NaT</strong>è¡¨ç¤ºï¼Œæ˜¯<code>pandas</code>çš„å†…ç½®ç±»å‹ï¼Œ**å¯ä»¥è§†ä¸ºæ—¶é—´åºåˆ—ç‰ˆçš„<code>np.nan</code>**ï¼Œä¹Ÿæ˜¯ä¸è‡ªå·±ä¸ç›¸ç­‰ã€‚</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs subunit">s_time = pd.Series([pd.Timestamp(&#x27;20220101&#x27;)]*3)<br>s_time<br>&gt;&gt; 0 2022<span class="hljs-string">-01</span><span class="hljs-string">-01</span><br>   1 2022<span class="hljs-string">-01</span><span class="hljs-string">-01</span><br>   2 2022<span class="hljs-string">-01</span><span class="hljs-string">-01</span><br>   dtype:datetime64[ns]<br>-----------------<br>s_time[2] = pd.NaT<br>s_time<br>&gt;&gt; 0 2022<span class="hljs-string">-01</span><span class="hljs-string">-01</span><br>   1 2022<span class="hljs-string">-01</span><span class="hljs-string">-01</span><br>   2 NaT<br>   dtype:datetime64[ns]<br></code></pre></td></tr></table></figure><h3 id="2ã€None"><a href="#2ã€None" class="headerlink" title="2ã€None"></a>2ã€None</h3><p>è¿˜æœ‰ä¸€ç§å°±æ˜¯<code>None</code>ï¼Œå®ƒè¦æ¯”<code>nan</code>å¥½é‚£ä¹ˆä¸€ç‚¹ï¼Œå› ä¸ºå®ƒè‡³å°‘è‡ªå·±ä¸è‡ªå·±ç›¸ç­‰ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">None</span> <span class="hljs-operator">=</span><span class="hljs-operator">=</span> None<br>&gt;&gt; True<br></code></pre></td></tr></table></figure><p>åœ¨ä¼ å…¥æ•°å€¼ç±»å‹åï¼Œä¼šè‡ªåŠ¨å˜ä¸º<code>np.nan</code>ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">type</span>(pd.<span class="hljs-type">Series</span>([1,<span class="hljs-type">None</span>])[1])<br>&gt;&gt; numpy.float64<br></code></pre></td></tr></table></figure><p>åªæœ‰å½“ä¼ å…¥<code>object</code>ç±»å‹æ—¶æ˜¯ä¸å˜çš„ï¼Œå› æ­¤å¯ä»¥è®¤ä¸ºå¦‚æœä¸æ˜¯äººå·¥å‘½åä¸º<code>None</code>çš„è¯ï¼Œå®ƒåŸºæœ¬ä¸ä¼šè‡ªåŠ¨å‡ºç°åœ¨<code>pandas</code>ä¸­ï¼Œæ‰€ä»¥<code>None</code>å¤§å®¶åŸºæœ¬ä¹Ÿçœ‹ä¸åˆ°ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">type</span>(pd.<span class="hljs-type">Series</span>([1,<span class="hljs-type">None</span>],dtype=&#x27;<span class="hljs-type">O</span>&#x27;)[1])<br>&gt;&gt; <span class="hljs-type">NoneType</span><br></code></pre></td></tr></table></figure><h3 id="3ã€NAæ ‡é‡"><a href="#3ã€NAæ ‡é‡" class="headerlink" title="3ã€NAæ ‡é‡"></a>3ã€NAæ ‡é‡</h3><p>pandas1.0ä»¥åçš„ç‰ˆæœ¬ä¸­å¼•å…¥äº†ä¸€ä¸ªä¸“é—¨è¡¨ç¤ºç¼ºå¤±å€¼çš„æ ‡é‡<strong>pd.NA</strong>ï¼Œå®ƒä»£è¡¨ç©ºæ•´æ•°ã€ç©ºå¸ƒå°”å€¼ã€ç©ºå­—ç¬¦ï¼Œè¿™ä¸ªåŠŸèƒ½ç›®å‰å¤„äºå®éªŒé˜¶æ®µã€‚</p><p>å¼€å‘è€…ä¹Ÿæ³¨æ„åˆ°äº†è¿™ç‚¹ï¼Œå¯¹äºä¸åŒæ•°æ®ç±»å‹é‡‡å–ä¸åŒçš„ç¼ºå¤±å€¼è¡¨ç¤ºä¼šå¾ˆä¹±ã€‚pd.NAå°±æ˜¯ä¸ºäº†ç»Ÿä¸€è€Œå­˜åœ¨çš„ã€‚<strong>pd.NAçš„ç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªç¼ºå¤±å€¼æŒ‡ç¤ºå™¨ï¼Œå¯ä»¥åœ¨å„ç§æ•°æ®ç±»å‹ä¸­ä¸€è‡´ä½¿ç”¨(è€Œä¸æ˜¯np.nanã€Noneæˆ–è€…NaTåˆ†æƒ…å†µä½¿ç”¨)ã€‚</strong></p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-title">s_new</span> = pd.<span class="hljs-type">Series</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], d<span class="hljs-keyword">type</span>=&quot;<span class="hljs-type">Int64</span>&quot;)<br><span class="hljs-title">s_new</span><br>&gt;&gt; <span class="hljs-number">0</span>   <span class="hljs-number">1</span><br>   <span class="hljs-number">1</span>   <span class="hljs-number">2</span><br>   d<span class="hljs-keyword">type</span>: <span class="hljs-type">Int64</span><br><span class="hljs-comment">-----------------</span><br><span class="hljs-title">s_new</span>[<span class="hljs-number">1</span>] = pd.<span class="hljs-type">NaT</span><br><span class="hljs-title">s_new</span><br>&gt;&gt; <span class="hljs-number">0</span>    <span class="hljs-number">1</span><br>   <span class="hljs-number">1</span>  &lt;<span class="hljs-type">NA</span>&gt;<br>   d<span class="hljs-keyword">type</span>: <span class="hljs-type">Int64</span><br></code></pre></td></tr></table></figure><p>åŒç†ï¼Œå¯¹äºå¸ƒå°”å‹ã€å­—ç¬¦å‹ä¸€æ ·ä¸ä¼šæ”¹å˜åŸæœ‰æ•°æ®ç±»å‹,è¿™æ ·å°±è§£å†³äº†åŸæ¥åŠ¨ä¸åŠ¨å°±å˜æˆ<code>object</code>ç±»å‹çš„éº»çƒ¦äº†ã€‚</p><p>ä¸‹é¢æ˜¯pd.NAçš„ä¸€äº›å¸¸ç”¨ç®—æœ¯è¿ç®—å’Œæ¯”è¾ƒè¿ç®—çš„ç¤ºä¾‹ï¼š</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">##### ç®—æœ¯è¿ç®—<br># åŠ æ³•<br>pd.NA + 1<br><span class="hljs-section">&gt;&gt; &lt;NA&gt;</span><br><span class="hljs-section">-----------</span><br># ä¹˜æ³•<br>&quot;a&quot; * pd.NA<br><span class="hljs-section">&gt;&gt; &lt;NA&gt;</span><br><span class="hljs-section">-----------</span><br># ä»¥ä¸‹ä¸¤ç§å…¶ä¸­ç»“æœä¸º1<br>pd.NA <span class="hljs-strong">** 0</span><br><span class="hljs-strong">&gt;&gt; 1</span><br><span class="hljs-strong">-----------</span><br><span class="hljs-strong">1 **</span> pd.NA<br>&gt;&gt; 1<br><br>##### æ¯”è¾ƒè¿ç®—<br>pd.NA == pd.NA<br><span class="hljs-section">&gt;&gt; &lt;NA&gt;</span><br><span class="hljs-section">-----------</span><br>pd.NA &lt; 2.5<br><span class="hljs-section">&gt;&gt; &lt;NA&gt;</span><br><span class="hljs-section">-----------</span><br>np.log(pd.NA)<br><span class="hljs-section">&gt;&gt; &lt;NA&gt;</span><br><span class="hljs-section">-----------</span><br>np.add(pd.NA, 1)<br>&gt;&gt; &lt;NA&gt;<br></code></pre></td></tr></table></figure><h2 id="äºŒã€ç¼ºå¤±å€¼åˆ¤æ–­"><a href="#äºŒã€ç¼ºå¤±å€¼åˆ¤æ–­" class="headerlink" title="äºŒã€ç¼ºå¤±å€¼åˆ¤æ–­"></a>äºŒã€ç¼ºå¤±å€¼åˆ¤æ–­</h2><p>äº†è§£äº†ç¼ºå¤±å€¼çš„å‡ ç§å½¢å¼åï¼Œæˆ‘ä»¬è¦çŸ¥é“å¦‚ä½•åˆ¤æ–­ç¼ºå¤±å€¼ã€‚å¯¹äºä¸€ä¸ª<code>dataframe</code>è€Œè¨€ï¼Œåˆ¤æ–­ç¼ºå¤±çš„ä¸»è¦æ–¹æ³•å°±æ˜¯<code>isnull()</code>æˆ–è€…<code>isna()</code>ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¼šç›´æ¥è¿”å›<code>True</code>å’Œ<code>False</code>çš„å¸ƒå°”å€¼ã€‚å¯ä»¥æ˜¯å¯¹æ•´ä¸ª<code>dataframe</code>æˆ–è€…æŸä¸ªåˆ—ã€‚</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs nsis">df = pd.DataFrame(&#123;<br>      <span class="hljs-string">&#x27;A&#x27;</span>:[<span class="hljs-string">&#x27;a1&#x27;</span>,<span class="hljs-string">&#x27;a1&#x27;</span>,<span class="hljs-string">&#x27;a2&#x27;</span>,<span class="hljs-string">&#x27;a3&#x27;</span>],<br>      <span class="hljs-string">&#x27;B&#x27;</span>:[<span class="hljs-string">&#x27;b1&#x27;</span>,<span class="hljs-literal">None</span>,<span class="hljs-string">&#x27;b2&#x27;</span>,<span class="hljs-string">&#x27;b3&#x27;</span>],<br>      <span class="hljs-string">&#x27;C&#x27;</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>],<br>      <span class="hljs-string">&#x27;D&#x27;</span>:[<span class="hljs-number">5</span>,<span class="hljs-literal">None</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>]&#125;)<br><span class="hljs-comment"># å°†æ— ç©·è®¾ç½®ä¸ºç¼ºå¤±å€¼      </span><br>pd.options.mode.use_inf_as_na = <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><h3 id="1ã€å¯¹æ•´ä¸ªdataframeåˆ¤æ–­ç¼ºå¤±"><a href="#1ã€å¯¹æ•´ä¸ªdataframeåˆ¤æ–­ç¼ºå¤±" class="headerlink" title="1ã€å¯¹æ•´ä¸ªdataframeåˆ¤æ–­ç¼ºå¤±"></a>1ã€å¯¹æ•´ä¸ªdataframeåˆ¤æ–­ç¼ºå¤±</h3><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-variable">df</span><span class="hljs-operator">.</span><span class="hljs-variable">isnull</span><span class="hljs-punctuation">(</span><span class="hljs-punctuation">)</span><br><span class="hljs-operator">&gt;&gt;</span> <span class="hljs-variable">A</span> <span class="hljs-variable">B</span> <span class="hljs-built_in">C</span> <span class="hljs-built_in">D</span><br><span class="hljs-number">0</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">False</span><br><span class="hljs-number">1</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">True</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">True</span><br><span class="hljs-number">2</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">False</span><br><span class="hljs-number">3</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">False</span> <span class="hljs-built_in">False</span><br></code></pre></td></tr></table></figure><h3 id="2ã€å¯¹æŸä¸ªåˆ—åˆ¤æ–­ç¼ºå¤±"><a href="#2ã€å¯¹æŸä¸ªåˆ—åˆ¤æ–­ç¼ºå¤±" class="headerlink" title="2ã€å¯¹æŸä¸ªåˆ—åˆ¤æ–­ç¼ºå¤±"></a>2ã€å¯¹æŸä¸ªåˆ—åˆ¤æ–­ç¼ºå¤±</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">df[<span class="hljs-string">&#x27;C&#x27;</span>].<span class="hljs-keyword">isnull</span>()<br>&gt;&gt; <span class="hljs-number">0</span>    <span class="hljs-keyword">False</span><br>   <span class="hljs-number">1</span>    <span class="hljs-keyword">False</span><br>   <span class="hljs-number">2</span>    <span class="hljs-keyword">False</span><br>   <span class="hljs-number">3</span>    <span class="hljs-keyword">False</span><br><span class="hljs-type">Name</span>: C, dtype: <span class="hljs-type">bool</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæƒ³å–éç¼ºå¤±å¯ä»¥ç”¨<code>notna()</code>ï¼Œä½¿ç”¨æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œç»“æœç›¸åã€‚</p><h2 id="ä¸‰ã€ç¼ºå¤±å€¼ç»Ÿè®¡"><a href="#ä¸‰ã€ç¼ºå¤±å€¼ç»Ÿè®¡" class="headerlink" title="ä¸‰ã€ç¼ºå¤±å€¼ç»Ÿè®¡"></a>ä¸‰ã€ç¼ºå¤±å€¼ç»Ÿè®¡</h2><h3 id="1ã€åˆ—ç¼ºå¤±"><a href="#1ã€åˆ—ç¼ºå¤±" class="headerlink" title="1ã€åˆ—ç¼ºå¤±"></a>1ã€åˆ—ç¼ºå¤±</h3><p>ä¸€èˆ¬æˆ‘ä»¬ä¼šå¯¹ä¸€ä¸ª<code>dataframe</code>çš„<strong>åˆ—</strong>è¿›è¡Œç¼ºå¤±ç»Ÿè®¡ï¼ŒæŸ¥çœ‹æ¯ä¸ªåˆ—æœ‰å¤šå°‘ç¼ºå¤±ï¼Œå¦‚æœç¼ºå¤±ç‡è¿‡é«˜å†è¿›è¡Œåˆ é™¤æˆ–è€…æ’å€¼ç­‰æ“ä½œã€‚é‚£ä¹ˆç›´æ¥åœ¨ä¸Šé¢çš„<code>isnull()</code>è¿”å›çš„ç»“æœä¸Šç›´æ¥åº”ç”¨<code>.sum()</code>å³å¯ï¼Œ<code>axis</code>é»˜è®¤ç­‰äº0ï¼Œ0æ˜¯åˆ—ï¼Œ1æ˜¯è¡Œã€‚</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment">## åˆ—ç¼ºå¤±ç»Ÿè®¡</span><br>isnull<span class="hljs-params">()</span><span class="hljs-string">.sum</span><span class="hljs-params">(<span class="hljs-attr">axis</span>=0)</span><br></code></pre></td></tr></table></figure><h3 id="2ã€è¡Œç¼ºå¤±"><a href="#2ã€è¡Œç¼ºå¤±" class="headerlink" title="2ã€è¡Œç¼ºå¤±"></a>2ã€è¡Œç¼ºå¤±</h3><p>ä½†æ˜¯å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å¯¹<strong>è¡Œ</strong>è¿›è¡Œç¼ºå¤±å€¼åˆ¤æ–­ã€‚æ¯”å¦‚ä¸€è¡Œæ•°æ®å¯èƒ½ä¸€ä¸ªå€¼éƒ½æ²¡æœ‰ï¼Œå¦‚æœè¿™ä¸ªæ ·æœ¬è¿›å…¥æ¨¡å‹ï¼Œä¼šé€ æˆå¾ˆå¤§çš„å¹²æ‰°ã€‚å› æ­¤ï¼Œè¡Œåˆ—ä¸¤ä¸ªç¼ºå¤±ç‡é€šå¸¸éƒ½è¦æŸ¥çœ‹å¹¶ç»Ÿè®¡ã€‚</p><p>æ“ä½œå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨<code>sum()</code>ä¸­è®¾ç½®<code>axis=1</code>å³å¯ã€‚</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment">## è¡Œç¼ºå¤±ç»Ÿè®¡</span><br>isnull<span class="hljs-params">()</span><span class="hljs-string">.sum</span><span class="hljs-params">(<span class="hljs-attr">axis</span>=1)</span><br></code></pre></td></tr></table></figure><h3 id="3ã€ç¼ºå¤±ç‡"><a href="#3ã€ç¼ºå¤±ç‡" class="headerlink" title="3ã€ç¼ºå¤±ç‡"></a>3ã€ç¼ºå¤±ç‡</h3><p>æœ‰æ—¶æˆ‘ä¸ä»…æƒ³è¦çŸ¥é“ç¼ºå¤±çš„æ•°é‡ï¼Œæˆ‘æ›´æƒ³çŸ¥é“ç¼ºå¤±çš„æ¯”ä¾‹ï¼Œå³ç¼ºå¤±ç‡ã€‚æ­£å¸¸å¯èƒ½ä¼šæƒ³åˆ°ç”¨ä¸Šé¢æ±‚å¾—æ•°å€¼å†æ¯”ä¸Šæ€»è¡Œæ•°ã€‚ä½†å…¶å®è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§å¯ä»¥ä¸€æ­¥å°±å®ç°ã€‚</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment">## ç¼ºå¤±ç‡</span><br>df.isnull<span class="hljs-params">()</span><span class="hljs-string">.sum</span><span class="hljs-params">(<span class="hljs-attr">axis</span>=0)</span><span class="hljs-string">/df.shape</span>[0]<br><br><span class="hljs-comment">## ç¼ºå¤±ç‡ï¼ˆä¸€æ­¥åˆ°ä½ï¼‰</span><br>isnull<span class="hljs-params">()</span><span class="hljs-string">.mean</span><span class="hljs-params">()</span><br></code></pre></td></tr></table></figure><h2 id="å››ã€ç¼ºå¤±å€¼ç­›é€‰"><a href="#å››ã€ç¼ºå¤±å€¼ç­›é€‰" class="headerlink" title="å››ã€ç¼ºå¤±å€¼ç­›é€‰"></a>å››ã€ç¼ºå¤±å€¼ç­›é€‰</h2><p>ç­›é€‰éœ€è¦locé…åˆå®Œæˆï¼Œå¯¹äºè¡Œå’Œåˆ—çš„ç¼ºå¤±ç­›é€‰å¦‚ä¸‹ï¼š</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># ç­›é€‰æœ‰ç¼ºå¤±å€¼çš„è¡Œ<br>df.loc[df.isnull().any(1)]<br>&gt;&gt; A B C D<br><span class="hljs-section">1 a1 None 2 NaN</span><br><span class="hljs-section">-----------------</span><br># ç­›é€‰æœ‰ç¼ºå¤±å€¼çš„åˆ—<br>df.loc[:,df.isnull().any()]<br>&gt;&gt; B D<br>0 b1 5.0<br>1 None NaN<br>2 b2 9.0<br>3 b3 10.0<br></code></pre></td></tr></table></figure><p>å¦‚æœè¦æŸ¥è¯¢æ²¡æœ‰ç¼ºå¤±å€¼çš„è¡Œå’Œåˆ—ï¼Œå¯ä»¥å¯¹è¡¨è¾¾å¼ç”¨å–å<code>~</code>æ“ä½œï¼š</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">df.loc[~(df.isnull().any(<span class="hljs-number">1</span>))]<br>&gt;&gt; A <span class="hljs-keyword">B </span>C D<br><span class="hljs-number">0</span> <span class="hljs-built_in">a1</span> <span class="hljs-keyword">b1 </span><span class="hljs-number">1</span> <span class="hljs-number">5</span>.<span class="hljs-number">0</span><br><span class="hljs-number">2</span> <span class="hljs-built_in">a2</span> <span class="hljs-keyword">b2 </span><span class="hljs-number">3</span> <span class="hljs-number">9</span>.<span class="hljs-number">0</span><br><span class="hljs-number">3</span> <span class="hljs-built_in">a3</span> <span class="hljs-keyword">b3 </span><span class="hljs-number">4</span> <span class="hljs-number">10</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä½¿ç”¨äº†<code>any</code>åˆ¤æ–­åªè¦æœ‰ç¼ºå¤±å°±è¿›è¡Œç­›é€‰ï¼Œä¹Ÿå¯ä»¥ç”¨<code>all</code>åˆ¤æ–­æ˜¯å¦å…¨éƒ¨ç¼ºå¤±ï¼ŒåŒæ ·å¯ä»¥å¯¹è¡Œé‡Œè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœæ•´åˆ—æˆ–è€…æ•´è¡Œéƒ½æ˜¯ç¼ºå¤±å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡æˆ–è€…æ ·æœ¬å°±å¤±å»äº†åˆ†æçš„æ„ä¹‰ï¼Œå¯ä»¥è€ƒè™‘åˆ é™¤ã€‚</p><h2 id="äº”ã€ç¼ºå¤±å€¼å¡«å……"><a href="#äº”ã€ç¼ºå¤±å€¼å¡«å……" class="headerlink" title="äº”ã€ç¼ºå¤±å€¼å¡«å……"></a>äº”ã€ç¼ºå¤±å€¼å¡«å……</h2><p>ä¸€èˆ¬æˆ‘ä»¬å¯¹ç¼ºå¤±å€¼æœ‰ä¸¤ç§å¤„ç†æ–¹æ³•ï¼Œä¸€ç§æ˜¯ç›´æ¥åˆ é™¤ï¼Œå¦å¤–ä¸€ç§æ˜¯ä¿ç•™å¹¶å¡«å……ã€‚ä¸‹é¢å…ˆä»‹ç»å¡«å……çš„æ–¹æ³•<code>fillna</code>ã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># å°†dataframeæ‰€æœ‰ç¼ºå¤±å€¼å¡«å……ä¸º0<br>df.fillna(0)<br>&gt;&gt; A B C D<br>0 a1 b1 1 5.0<br>1 a1 0 2 0.0<br>2 a2 b2 3 9.0<br><span class="hljs-section">3 a3 b3 4 10.0</span><br><span class="hljs-section">--------------</span><br># å°†Dåˆ—ç¼ºå¤±å€¼å¡«å……ä¸º-999<br>df.D.fillna(<span class="hljs-emphasis">&#x27;-999&#x27;</span>)<br>&gt;&gt; 0       5<br><span class="hljs-code">   1    -999</span><br><span class="hljs-code">   2       9</span><br><span class="hljs-code">   3      10</span><br>Name: D, dtype: object<br></code></pre></td></tr></table></figure><p>æ–¹æ³•å¾ˆç®€å•ï¼Œä½†ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ä¸€äº›å‚æ•°ã€‚</p><ul><li>inplaceï¼šå¯ä»¥è®¾ç½®<code>fillna(0, inplace=True)</code>æ¥è®©å¡«å……ç”Ÿæ•ˆï¼ŒåŸdataFrameè¢«å¡«å……ã€‚</li><li>methondï¼šå¯ä»¥è®¾ç½®<code>methond</code>æ–¹æ³•æ¥å®ç°å‘å‰æˆ–è€…å‘åå¡«å……ï¼Œ<code>pad/ffill</code>ä¸ºå‘å‰å¡«å……ï¼Œ<code>bfill/backfill</code>ä¸ºå‘åå¡«å……ï¼Œæ¯”å¦‚<code>df.fillna(methond=&#39;ffill&#39;)</code>ï¼Œä¹Ÿå¯ä»¥ç®€å†™ä¸º<code>df.ffill()</code>ã€‚</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">df.ffill()<br>&gt;&gt; A <span class="hljs-keyword">B </span>C D<br><span class="hljs-number">0</span> <span class="hljs-built_in">a1</span> <span class="hljs-keyword">b1 </span><span class="hljs-number">1</span> <span class="hljs-number">5</span>.<span class="hljs-number">0</span><br><span class="hljs-number">1</span> <span class="hljs-built_in">a1</span> <span class="hljs-keyword">b1 </span><span class="hljs-number">2</span> <span class="hljs-number">5</span>.<span class="hljs-number">0</span><br><span class="hljs-number">2</span> <span class="hljs-built_in">a2</span> <span class="hljs-keyword">b2 </span><span class="hljs-number">3</span> <span class="hljs-number">9</span>.<span class="hljs-number">0</span><br><span class="hljs-number">3</span> <span class="hljs-built_in">a3</span> <span class="hljs-keyword">b3 </span><span class="hljs-number">4</span> <span class="hljs-number">10</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>åŸç¼ºå¤±å€¼éƒ½ä¼šæŒ‰ç…§å‰ä¸€ä¸ªå€¼æ¥å¡«å……(Båˆ—1è¡Œï¼ŒDåˆ—1è¡Œ)ã€‚</p><p>é™¤äº†ç”¨å‰åå€¼æ¥å¡«å……ï¼Œä¹Ÿå¯ä»¥ç”¨æ•´ä¸ªåˆ—çš„å‡å€¼æ¥å¡«å……ï¼Œæ¯”å¦‚å¯¹Dåˆ—çš„å…¶å®ƒéç¼ºå¤±å€¼çš„å¹³å‡å€¼8æ¥å¡«å……ç¼ºå¤±å€¼ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">df<span class="hljs-selector-class">.D</span><span class="hljs-selector-class">.fillna</span>(df<span class="hljs-selector-class">.D</span><span class="hljs-selector-class">.mean</span>())<br>&gt;&gt; <span class="hljs-number">0</span>     <span class="hljs-number">5.0</span><br>   <span class="hljs-number">1</span>     <span class="hljs-number">8.0</span><br>   <span class="hljs-number">2</span>     <span class="hljs-number">9.0</span><br>   <span class="hljs-number">3</span>    <span class="hljs-number">10.0</span><br>Name: D, dtype: float64<br></code></pre></td></tr></table></figure><h2 id="å…­ã€ç¼ºå¤±å€¼åˆ é™¤"><a href="#å…­ã€ç¼ºå¤±å€¼åˆ é™¤" class="headerlink" title="å…­ã€ç¼ºå¤±å€¼åˆ é™¤"></a>å…­ã€ç¼ºå¤±å€¼åˆ é™¤</h2><p>åˆ é™¤ç¼ºå¤±å€¼ä¹Ÿéæƒ…å†µï¼Œæ¯”å¦‚æ˜¯å…¨åˆ é™¤è¿˜æ˜¯åˆ é™¤æ¯”è¾ƒé«˜ç¼ºå¤±ç‡ï¼Œè¿™ä¸ªè¦çœ‹è‡ªå·±çš„å®¹å¿ç¨‹åº¦ï¼ŒçœŸå®çš„æ•°æ®å¿…ç„¶ä¼šå­˜åœ¨ç¼ºå¤±çš„ï¼Œè¿™ä¸ªæ— æ³•é¿å…ã€‚è€Œä¸”ç¼ºå¤±åœ¨æŸäº›æƒ…å†µä¸‹ä¹Ÿä»£è¡¨äº†ä¸€å®šçš„å«ä¹‰ï¼Œè¦è§†æƒ…å†µè€Œå®šã€‚</p><h3 id="1ã€å…¨éƒ¨ç›´æ¥åˆ é™¤"><a href="#1ã€å…¨éƒ¨ç›´æ¥åˆ é™¤" class="headerlink" title="1ã€å…¨éƒ¨ç›´æ¥åˆ é™¤"></a>1ã€å…¨éƒ¨ç›´æ¥åˆ é™¤</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-comment"># å…¨éƒ¨ç›´æ¥åˆ é™¤</span><br>df.dropna()<br>&gt;&gt; A <span class="hljs-keyword">B </span>C D<br><span class="hljs-number">0</span> <span class="hljs-built_in">a1</span> <span class="hljs-keyword">b1 </span><span class="hljs-number">1</span> <span class="hljs-number">5</span>.<span class="hljs-number">0</span><br><span class="hljs-number">2</span> <span class="hljs-built_in">a2</span> <span class="hljs-keyword">b2 </span><span class="hljs-number">3</span> <span class="hljs-number">9</span>.<span class="hljs-number">0</span><br><span class="hljs-number">3</span> <span class="hljs-built_in">a3</span> <span class="hljs-keyword">b3 </span><span class="hljs-number">4</span> <span class="hljs-number">10</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h3 id="2ã€è¡Œç¼ºå¤±åˆ é™¤"><a href="#2ã€è¡Œç¼ºå¤±åˆ é™¤" class="headerlink" title="2ã€è¡Œç¼ºå¤±åˆ é™¤"></a>2ã€è¡Œç¼ºå¤±åˆ é™¤</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-comment"># è¡Œç¼ºå¤±åˆ é™¤</span><br>df.dropna(axis=<span class="hljs-number">0</span>)<br>&gt;&gt; A <span class="hljs-keyword">B </span>C D<br><span class="hljs-number">0</span> <span class="hljs-built_in">a1</span> <span class="hljs-keyword">b1 </span><span class="hljs-number">1</span> <span class="hljs-number">5</span>.<span class="hljs-number">0</span><br><span class="hljs-number">2</span> <span class="hljs-built_in">a2</span> <span class="hljs-keyword">b2 </span><span class="hljs-number">3</span> <span class="hljs-number">9</span>.<span class="hljs-number">0</span><br><span class="hljs-number">3</span> <span class="hljs-built_in">a3</span> <span class="hljs-keyword">b3 </span><span class="hljs-number">4</span> <span class="hljs-number">10</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h3 id="3ã€åˆ—ç¼ºå¤±åˆ é™¤"><a href="#3ã€åˆ—ç¼ºå¤±åˆ é™¤" class="headerlink" title="3ã€åˆ—ç¼ºå¤±åˆ é™¤"></a>3ã€åˆ—ç¼ºå¤±åˆ é™¤</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-comment"># åˆ—ç¼ºå¤±åˆ é™¤</span><br>df.dropna(axis=<span class="hljs-number">1</span>)<br>&gt;&gt; A C<br><span class="hljs-number">0</span> <span class="hljs-built_in">a1</span> <span class="hljs-number">1</span><br><span class="hljs-number">1</span> <span class="hljs-built_in">a1</span> <span class="hljs-number">2</span><br><span class="hljs-number">2</span> <span class="hljs-built_in">a2</span> <span class="hljs-number">3</span><br><span class="hljs-number">3</span> <span class="hljs-built_in">a3</span> <span class="hljs-number">4</span><br>-------------<br><span class="hljs-comment"># åˆ é™¤æŒ‡å®šåˆ—èŒƒå›´å†…çš„ç¼ºå¤±,å› ä¸ºCåˆ—æ— ç¼ºå¤±ï¼Œæ‰€ä»¥æœ€åæ²¡æœ‰å˜åŒ–</span><br>df.dropna(<span class="hljs-keyword">subset=[&#x27;C&#x27;])</span><br><span class="hljs-keyword"></span>&gt;&gt; A <span class="hljs-keyword">B </span>C D<br><span class="hljs-number">0</span> <span class="hljs-built_in">a1</span> <span class="hljs-keyword">b1 </span><span class="hljs-number">1</span> <span class="hljs-number">5</span>.<span class="hljs-number">0</span><br><span class="hljs-number">1</span> <span class="hljs-built_in">a1</span> None <span class="hljs-number">2</span> NaN<br><span class="hljs-number">2</span> <span class="hljs-built_in">a2</span> <span class="hljs-keyword">b2 </span><span class="hljs-number">3</span> <span class="hljs-number">9</span>.<span class="hljs-number">0</span><br><span class="hljs-number">3</span> <span class="hljs-built_in">a3</span> <span class="hljs-keyword">b3 </span><span class="hljs-number">4</span> <span class="hljs-number">10</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h3 id="4ã€æŒ‰ç¼ºå¤±ç‡åˆ é™¤"><a href="#4ã€æŒ‰ç¼ºå¤±ç‡åˆ é™¤" class="headerlink" title="4ã€æŒ‰ç¼ºå¤±ç‡åˆ é™¤"></a>4ã€æŒ‰ç¼ºå¤±ç‡åˆ é™¤</h3><p>è¿™ä¸ªå¯ä»¥è€ƒè™‘ç”¨ç­›é€‰çš„æ–¹æ³•æ¥å®ç°ï¼Œæ¯”å¦‚è¦åˆ é™¤åˆ—ç¼ºå¤±å¤§äº0.1çš„ï¼ˆå³ç­›é€‰å°äº0.1çš„ï¼‰ã€‚</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">df.loc[:,df.isnull().mean(axis=<span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>.<span class="hljs-number">1</span>]<br>&gt;&gt; A C<br><span class="hljs-number">0</span> <span class="hljs-built_in">a1</span> <span class="hljs-number">1</span><br><span class="hljs-number">1</span> <span class="hljs-built_in">a1</span> <span class="hljs-number">2</span><br><span class="hljs-number">2</span> <span class="hljs-built_in">a2</span> <span class="hljs-number">3</span><br><span class="hljs-number">3</span> <span class="hljs-built_in">a3</span> <span class="hljs-number">4</span><br>-------------<br><span class="hljs-comment"># åˆ é™¤è¡Œç¼ºå¤±å¤§äº0.1çš„</span><br>df.loc[df.isnull().mean(axis=<span class="hljs-number">1</span>) &lt; <span class="hljs-number">0</span>.<span class="hljs-number">1</span>]<br>&gt;&gt; A <span class="hljs-keyword">B </span>C D<br><span class="hljs-number">0</span> <span class="hljs-built_in">a1</span> <span class="hljs-keyword">b1 </span><span class="hljs-number">1</span> <span class="hljs-number">5</span>.<span class="hljs-number">0</span><br><span class="hljs-number">2</span> <span class="hljs-built_in">a2</span> <span class="hljs-keyword">b2 </span><span class="hljs-number">3</span> <span class="hljs-number">9</span>.<span class="hljs-number">0</span><br><span class="hljs-number">3</span> <span class="hljs-built_in">a3</span> <span class="hljs-keyword">b3 </span><span class="hljs-number">4</span> <span class="hljs-number">10</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h2 id="ä¸ƒã€ç¼ºå¤±å€¼å‚ä¸è®¡ç®—"><a href="#ä¸ƒã€ç¼ºå¤±å€¼å‚ä¸è®¡ç®—" class="headerlink" title="ä¸ƒã€ç¼ºå¤±å€¼å‚ä¸è®¡ç®—"></a>ä¸ƒã€ç¼ºå¤±å€¼å‚ä¸è®¡ç®—</h2><p>å¦‚æœä¸å¯¹ç¼ºå¤±å€¼å¤„ç†ï¼Œé‚£ä¹ˆç¼ºå¤±å€¼ä¼šæŒ‰ç…§ä»€ä¹ˆé€»è¾‘è¿›è¡Œè®¡ç®—å‘¢ï¼Ÿ</p><p>ä¸‹é¢æˆ‘ä»¬ä¸€èµ·çœ‹ä¸€ä¸‹å„ç§è¿ç®—ä¸‹ç¼ºå¤±å€¼çš„å‚ä¸é€»è¾‘ã€‚</p><p><strong>1ã€åŠ æ³•</strong></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">df<br>&gt;&gt;A B C D<br>0 a1 b1 1 5.0<br>1 a1 None 2 NaN<br>2 a2 b2 3 9.0<br><span class="hljs-section">3 a3 b3 4 10.0</span><br><span class="hljs-section">---------------</span><br># å¯¹æ‰€æœ‰åˆ—æ±‚å’Œ<br>df.sum()<br>&gt;&gt; A    a1a1a2a3<br><span class="hljs-code">   C          10</span><br><span class="hljs-code">   D          24</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼ŒåŠ æ³•æ˜¯ä¼šå¿½ç•¥ç¼ºå¤±å€¼çš„ã€‚</p><p><strong>2ã€ç´¯åŠ </strong></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"># å¯¹Dåˆ—è¿›è¡Œç´¯åŠ <br>df.D.cumsum()<br>&gt;&gt; 0     5.0<br><span class="hljs-code">   1     NaN</span><br><span class="hljs-code">   2    14.0</span><br><span class="hljs-code">   3    24.0</span><br><span class="hljs-section">Name: D, dtype: float64</span><br><span class="hljs-section">---------------</span><br>df.D.cumsum(skipna=False)<br>&gt;&gt; 0    5.0<br><span class="hljs-code">   1    NaN</span><br><span class="hljs-code">   2    NaN</span><br><span class="hljs-code">   3    NaN</span><br>Name: D, dtype: float64<br></code></pre></td></tr></table></figure><p><code>cumsum</code>ç´¯åŠ ä¼šå¿½ç•¥NAï¼Œä½†å€¼ä¼šä¿ç•™åœ¨åˆ—ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>skipna=False</code>è·³è¿‡æœ‰ç¼ºå¤±å€¼çš„è®¡ç®—å¹¶è¿”å›ç¼ºå¤±å€¼ã€‚</p><p><strong>3ã€è®¡æ•°</strong></p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-meta"># å¯¹åˆ—è®¡æ•°</span><br>df.<span class="hljs-keyword">count</span>()<br>&gt;&gt; A    <span class="hljs-number">4</span><br>   B    <span class="hljs-number">3</span><br>   C    <span class="hljs-number">4</span><br>   D    <span class="hljs-number">3</span><br>dtype: <span class="hljs-built_in">int64</span><br></code></pre></td></tr></table></figure><p>ç¼ºå¤±å€¼ä¸è¿›å…¥è®¡æ•°èŒƒå›´é‡Œã€‚</p><p><strong>4ã€èšåˆåˆ†ç»„</strong></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">df.groupby(<span class="hljs-emphasis">&#x27;B&#x27;</span>).sum()<br>&gt;&gt; C D<br>B  <br>b1 1 5.0<br>b2 3 9.0<br><span class="hljs-section">b3 4 10.0</span><br><span class="hljs-section">---------------</span><br>df.groupby(<span class="hljs-emphasis">&#x27;B&#x27;</span>,dropna=False).sum()<br>&gt;&gt; C D<br>B  <br>b1 1 5.0<br>b2 3 9.0<br>b3 4 10.0<br>NaN 2 0.0<br></code></pre></td></tr></table></figure><p>èšåˆæ—¶ä¼šé»˜è®¤å¿½ç•¥ç¼ºå¤±å€¼ï¼Œå¦‚æœè¦ç¼ºå¤±å€¼è®¡å…¥åˆ°åˆ†ç»„é‡Œï¼Œå¯ä»¥è®¾ç½®<code>dropna=False</code>ã€‚è¿™ä¸ªç”¨æ³•å’Œå…¶å®ƒæ¯”å¦‚<code>value_counts</code>æ˜¯ä¸€æ ·çš„ï¼Œæœ‰çš„æ—¶å€™éœ€è¦çœ‹ç¼ºå¤±å€¼çš„æ•°é‡ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯æ‰€æœ‰å…³äºç¼ºå¤±å€¼çš„å¸¸ç”¨æ“ä½œäº†ï¼Œä»ç†è§£ç¼ºå¤±å€¼çš„3ç§è¡¨ç°å½¢å¼å¼€å§‹ï¼Œåˆ°ç¼ºå¤±å€¼åˆ¤æ–­ã€ç»Ÿè®¡ã€å¤„ç†ã€è®¡ç®—ç­‰ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pandas trick</title>
    <link href="/2022/08/01/Python/pandas%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    <url>/2022/08/01/Python/pandas%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
    
    <content type="html"><![CDATA[<h1 id="Pandas-æ•°æ®ç»Ÿè®¡åŒ…çš„-6-ç§é«˜æ•ˆå‡½æ•°"><a href="#Pandas-æ•°æ®ç»Ÿè®¡åŒ…çš„-6-ç§é«˜æ•ˆå‡½æ•°" class="headerlink" title="Pandas æ•°æ®ç»Ÿè®¡åŒ…çš„ 6 ç§é«˜æ•ˆå‡½æ•°"></a><strong>Pandas æ•°æ®ç»Ÿè®¡åŒ…çš„ 6 ç§é«˜æ•ˆå‡½æ•°</strong></h1><p>Pandas ä¹Ÿæ˜¯ä¸€ä¸ª Python åŒ…ï¼Œå®ƒæä¾›äº†å¿«é€Ÿã€çµæ´»ä»¥åŠå…·æœ‰æ˜¾è‘—è¡¨è¾¾èƒ½åŠ›çš„æ•°æ®ç»“æ„ï¼Œæ—¨åœ¨ä½¿å¤„ç†ç»“æ„åŒ– (è¡¨æ ¼åŒ–ã€å¤šç»´ã€å¼‚æ„) å’Œæ—¶é—´åºåˆ—æ•°æ®å˜å¾—æ—¢ç®€å•åˆç›´è§‚ ã€‚</p><p><img src="/%5Csrc%5C640.webp" alt="å›¾ç‰‡"></p><p>Pandas é€‚ç”¨äºä»¥ä¸‹å„ç±»æ•°æ®:</p><ul><li>å…·æœ‰å¼‚æ„ç±»å‹åˆ—çš„è¡¨æ ¼æ•°æ®ï¼Œå¦‚ SQL è¡¨æˆ– Excel è¡¨ï¼›</li><li>æœ‰åºå’Œæ— åº (ä¸ä¸€å®šæ˜¯å›ºå®šé¢‘ç‡) çš„æ—¶é—´åºåˆ—æ•°æ®ï¼›</li><li>å¸¦æœ‰è¡Œ&#x2F;åˆ—æ ‡ç­¾çš„ä»»æ„çŸ©é˜µæ•°æ®ï¼ˆåŒæ„ç±»å‹æˆ–è€…æ˜¯å¼‚æ„ç±»å‹ï¼‰ï¼›</li><li>å…¶ä»–ä»»æ„å½¢å¼çš„ç»Ÿè®¡æ•°æ®é›†ã€‚äº‹å®ä¸Šï¼Œæ•°æ®æ ¹æœ¬ä¸éœ€è¦æ ‡è®°å°±å¯ä»¥æ”¾å…¥ Pandas ç»“æ„ä¸­ã€‚</li></ul><p>Pandas æ“…é•¿å¤„ç†çš„ç±»å‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><ul><li>å®¹æ˜“å¤„ç†æµ®ç‚¹æ•°æ®å’Œéæµ®ç‚¹æ•°æ®ä¸­çš„ ç¼ºå¤±æ•°æ®ï¼ˆç”¨ NaN è¡¨ç¤ºï¼‰ï¼›</li><li>å¤§å°å¯è°ƒæ•´æ€§: å¯ä»¥ä» DataFrame æˆ–è€…æ›´é«˜ç»´åº¦çš„å¯¹è±¡ä¸­æ’å…¥æˆ–è€…æ˜¯åˆ é™¤åˆ—ï¼›</li><li>æ˜¾å¼æ•°æ®å¯è‡ªåŠ¨å¯¹é½: å¯¹è±¡å¯ä»¥æ˜¾å¼åœ°å¯¹é½è‡³ä¸€ç»„æ ‡ç­¾å†…ï¼Œæˆ–è€…ç”¨æˆ·å¯ä»¥ç®€å•åœ°é€‰æ‹©å¿½ç•¥æ ‡ç­¾ï¼Œä½¿ Seriesã€ DataFrame ç­‰è‡ªåŠ¨å¯¹é½æ•°æ®ï¼›</li><li>çµæ´»çš„åˆ†ç»„åŠŸèƒ½ï¼Œå¯¹æ•°æ®é›†æ‰§è¡Œæ‹†åˆ†-åº”ç”¨-åˆå¹¶ç­‰æ“ä½œï¼Œå¯¹æ•°æ®è¿›è¡Œèšåˆå’Œè½¬æ¢ï¼›</li><li>ç®€åŒ–å°†æ•°æ®è½¬æ¢ä¸º DataFrame å¯¹è±¡çš„è¿‡ç¨‹ï¼Œè€Œè¿™äº›æ•°æ®åŸºæœ¬æ˜¯ Python å’Œ NumPy æ•°æ®ç»“æ„ä¸­ä¸è§„åˆ™ã€ä¸åŒç´¢å¼•çš„æ•°æ®ï¼›</li><li>åŸºäºæ ‡ç­¾çš„æ™ºèƒ½åˆ‡ç‰‡ã€ç´¢å¼•ä»¥åŠé¢å‘å¤§å‹æ•°æ®é›†çš„å­è®¾å®šï¼›</li><li>æ›´åŠ ç›´è§‚åœ°åˆå¹¶ä»¥åŠè¿æ¥æ•°æ®é›†ï¼›</li><li>æ›´åŠ çµæ´»åœ°é‡å¡‘ã€è½¬ç½®ï¼ˆpivotï¼‰æ•°æ®é›†ï¼›</li><li>è½´çš„åˆ†çº§æ ‡è®° (å¯èƒ½åŒ…å«å¤šä¸ªæ ‡è®°)ï¼›</li><li>å…·æœ‰é²æ£’æ€§çš„ IO å·¥å…·ï¼Œç”¨äºä»å¹³é¢æ–‡ä»¶ (CSV å’Œ delimited)ã€ Excel æ–‡ä»¶ã€æ•°æ®åº“ä¸­åŠ åœ¨æ•°æ®ï¼Œä»¥åŠä» HDF5 æ ¼å¼ä¸­ä¿å­˜ &#x2F; åŠ è½½æ•°æ®ï¼›</li><li>æ—¶é—´åºåˆ—çš„ç‰¹å®šåŠŸèƒ½: æ•°æ®èŒƒå›´çš„ç”Ÿæˆä»¥åŠé¢‘ç‡è½¬æ¢ã€ç§»åŠ¨çª—å£ç»Ÿè®¡ã€æ•°æ®ç§»åŠ¨å’Œæ»åç­‰ã€‚</li></ul><h2 id="read-csv-nrows-x3D-n"><a href="#read-csv-nrows-x3D-n" class="headerlink" title="read_csv(nrows&#x3D;n)"></a><strong>read_csv(nrows&#x3D;n)</strong></h2><p>å¤§å¤šæ•°äººéƒ½ä¼šçŠ¯çš„ä¸€ä¸ªé”™è¯¯æ˜¯ï¼Œåœ¨ä¸éœ€è¦.csv æ–‡ä»¶çš„æƒ…å†µä¸‹ä»ä¼šå®Œæ•´åœ°è¯»å–å®ƒã€‚å¦‚æœä¸€ä¸ªæœªçŸ¥çš„.csv æ–‡ä»¶æœ‰ 10GBï¼Œé‚£ä¹ˆè¯»å–æ•´ä¸ª.csv æ–‡ä»¶å°†ä¼šéå¸¸ä¸æ˜æ™ºï¼Œä¸ä»…è¦å ç”¨å¤§é‡å†…å­˜ï¼Œè¿˜ä¼šèŠ±å¾ˆå¤šæ—¶é—´ã€‚æˆ‘ä»¬éœ€è¦åšçš„åªæ˜¯ä».csv æ–‡ä»¶ä¸­å¯¼å…¥å‡ è¡Œï¼Œä¹‹åæ ¹æ®éœ€è¦ç»§ç»­å¯¼å…¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> io<br><span class="hljs-keyword">import</span> requests<span class="hljs-comment"># I am using this online data set just to make things easier for you guys</span><br>url = <span class="hljs-string">&quot;https://raw.github.com/vincentarelbundock/Rdatasets/master/csv/datasets/AirPassengers.csv&quot;</span><br>s = requests.get(url).content<span class="hljs-comment"># read only first 10 rows</span><br>df = pd.read_csv(io.StringIO(s.decode( utf-<span class="hljs-number">8</span> )),nrows=<span class="hljs-number">10</span> , index_col=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><h2 id="map"><a href="#map" class="headerlink" title="map()"></a><strong>map()</strong></h2><p>map( ) å‡½æ•°æ ¹æ®ç›¸åº”çš„è¾“å…¥æ¥æ˜ å°„ Series çš„å€¼ã€‚ç”¨äºå°†ä¸€ä¸ª Series ä¸­çš„æ¯ä¸ªå€¼æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼å¯èƒ½æ¥è‡ªä¸€ä¸ªå‡½æ•°ã€ä¹Ÿå¯èƒ½æ¥è‡ªäºä¸€ä¸ª dict æˆ– Seriesã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># create a dataframe</span><br>dframe = pd.DataFrame(np.random.randn(<span class="hljs-number">4</span>, <span class="hljs-number">3</span>), columns=<span class="hljs-built_in">list</span>( bde ), index=[ India ,  USA ,  China ,  Russia ])<span class="hljs-comment">#compute a formatted string from each floating point value in frame</span><br>changefn = <span class="hljs-keyword">lambda</span> x:  %<span class="hljs-number">.2</span>f  % x<span class="hljs-comment"># Make changes element-wise</span><br>dframe[ d ].<span class="hljs-built_in">map</span>(changefn)<br></code></pre></td></tr></table></figure><h2 id="apply"><a href="#apply" class="headerlink" title="apply()"></a><strong>apply()</strong></h2><p>apply() å…è®¸ç”¨æˆ·ä¼ é€’å‡½æ•°ï¼Œå¹¶å°†å…¶åº”ç”¨äº Pandas åºåˆ—ä¸­çš„æ¯ä¸ªå€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># max minus mix lambda fn</span><br>fn = <span class="hljs-keyword">lambda</span> x: x.<span class="hljs-built_in">max</span>() - x.<span class="hljs-built_in">min</span>()<span class="hljs-comment"># Apply this on dframe that we ve just created above</span><br>dframe.apply(fn)<br></code></pre></td></tr></table></figure><h2 id="isin"><a href="#isin" class="headerlink" title="isin()"></a><strong>isin()</strong></h2><p>lsin () ç”¨äºè¿‡æ»¤æ•°æ®å¸§ã€‚Isin () æœ‰åŠ©äºé€‰æ‹©ç‰¹å®šåˆ—ä¸­å…·æœ‰ç‰¹å®šï¼ˆæˆ–å¤šä¸ªï¼‰å€¼çš„è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Using the dataframe we created for read_csv</span><br>filter1 = df[<span class="hljs-string">&quot;value&quot;</span>].isin([<span class="hljs-number">112</span>]) <br>filter2 = df[<span class="hljs-string">&quot;time&quot;</span>].isin([<span class="hljs-number">1949.000000</span>])<br>df [filter1 &amp; filter2]<br></code></pre></td></tr></table></figure><h2 id="copy"><a href="#copy" class="headerlink" title="copy()"></a><strong>copy()</strong></h2><p>Copy () å‡½æ•°ç”¨äºå¤åˆ¶ Pandas å¯¹è±¡ã€‚å½“ä¸€ä¸ªæ•°æ®å¸§åˆ†é…ç»™å¦ä¸€ä¸ªæ•°æ®å¸§æ—¶ï¼Œå¦‚æœå¯¹å…¶ä¸­ä¸€ä¸ªæ•°æ®å¸§è¿›è¡Œæ›´æ”¹ï¼Œå¦ä¸€ä¸ªæ•°æ®å¸§çš„å€¼ä¹Ÿå°†å‘ç”Ÿæ›´æ”¹ã€‚ä¸ºäº†é˜²æ­¢è¿™ç±»é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ copy () å‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># creating sample series </span><br>data = pd.Series([ India ,  Pakistan ,  China ,  Mongolia ])<span class="hljs-comment"># Assigning issue that we face</span><br>data1= data<br><span class="hljs-comment"># Change a value</span><br>data1[<span class="hljs-number">0</span>]= USA <br><span class="hljs-comment"># Also changes value in old dataframe</span><br>data<span class="hljs-comment"># To prevent that, we use</span><br><span class="hljs-comment"># creating copy of series </span><br>new = data.copy()<span class="hljs-comment"># assigning new values </span><br>new[<span class="hljs-number">1</span>]= Changed value <span class="hljs-comment"># printing data </span><br><span class="hljs-built_in">print</span>(new) <br><span class="hljs-built_in">print</span>(data)<br></code></pre></td></tr></table></figure><h2 id="select-dtypes"><a href="#select-dtypes" class="headerlink" title="select_dtypes()"></a><strong>select_dtypes()</strong></h2><p>select_dtypes() çš„ä½œç”¨æ˜¯ï¼ŒåŸºäº dtypes çš„åˆ—è¿”å›æ•°æ®å¸§åˆ—çš„ä¸€ä¸ªå­é›†ã€‚è¿™ä¸ªå‡½æ•°çš„å‚æ•°å¯è®¾ç½®ä¸ºåŒ…å«æ‰€æœ‰æ‹¥æœ‰ç‰¹å®šæ•°æ®ç±»å‹çš„åˆ—ï¼Œäº¦æˆ–è€…è®¾ç½®ä¸ºæ’é™¤å…·æœ‰ç‰¹å®šæ•°æ®ç±»å‹çš„åˆ—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># We ll use the same dataframe that we used for read_csv</span><br>framex =  df.select_dtypes(include=<span class="hljs-string">&quot;float64&quot;</span>)<span class="hljs-comment"># Returns only time column</span><br></code></pre></td></tr></table></figure><p>æœ€åï¼Œpivot_table( ) ä¹Ÿæ˜¯ Pandas ä¸­ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‡½æ•°ã€‚å¦‚æœå¯¹ pivot_table( ) åœ¨ excel ä¸­çš„ä½¿ç”¨æœ‰æ‰€äº†è§£ï¼Œé‚£ä¹ˆå°±éå¸¸å®¹æ˜“ä¸Šæ‰‹äº†ã€‚</p><pre><code class="python"># Create a sample dataframeschool = pd.DataFrame(&#123; A : [ Jay ,  Usher ,  Nicky ,  Romero ,  Will ],        B : [ Masters ,  Graduate ,  Graduate ,  Masters ,  Graduate ],        C : [26, 22, 20, 23, 24]&#125;)# Lets create a pivot table to segregate students based on age and coursetable = pd.pivot_table(school, values = A , index =[ B ,  C ],                          columns =[ B ], aggfunc = np.sum, fill_value=&quot;Not Available&quot;) table</code></pre>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pandas using</title>
    <link href="/2022/08/01/Python/pandas%E5%A4%84%E7%90%862/"/>
    <url>/2022/08/01/Python/pandas%E5%A4%84%E7%90%862/</url>
    
    <content type="html"><![CDATA[<h2 id="å¯¼å…¥å·¥å…·åŒ…"><a href="#å¯¼å…¥å·¥å…·åŒ…" class="headerlink" title="å¯¼å…¥å·¥å…·åŒ…"></a>å¯¼å…¥å·¥å…·åŒ…</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs clean"># pandas å’Œnumpyæ˜¯ä¸¤ä¸ªåŸºç¡€çš„å·¥å…·åŒ…<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br># matplotlib seabornæ˜¯ä½œå›¾å·¥å…·åŒ…<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br># é€šè¿‡osè®¾ç½®é»˜è®¤è·¯å¾„<br><span class="hljs-keyword">import</span> os<br>os.chdir(<span class="hljs-string">&#x27;C:/Users/ç”¨æˆ·/Desktop/&#x27;</span>)  # æ¡Œé¢çš„è·¯å¾„<br># å›¾è¡¨ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜<br>plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>]=[<span class="hljs-string">&#x27;SimHei&#x27;</span>] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾<br>plt.rcParams[<span class="hljs-string">&#x27;axes.unicode_minus&#x27;</span>]=<span class="hljs-literal">False</span> #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·<br># ä¸æ˜¾ç¤ºé¢„è­¦<br><span class="hljs-keyword">import</span> warnings  <br>warnings.filterwarnings(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="è¯»å–excelæ•°æ®"><a href="#è¯»å–excelæ•°æ®" class="headerlink" title="è¯»å–excelæ•°æ®"></a>è¯»å–excelæ•°æ®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># è¯»å–æ–‡ä»¶</span><br><span class="hljs-built_in">df</span> = pd.read_excel(<span class="hljs-string">&#x27;æ–‡ä»¶.xlsx&#x27;</span>)<br><span class="hljs-comment">#ã€€è¯»å–æ–‡ä»¶åŒæ—¶ç­›é€‰éœ€è¦çš„åˆ—</span><br><span class="hljs-built_in">df</span> = pd.read_excel(<span class="hljs-string">&#x27;æ–‡ä»¶.xlsx&#x27;</span>)[[<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>]] <span class="hljs-comment"># è¯»å–å¹¶ç­›é€‰å‡ åˆ—</span><br><span class="hljs-comment"># è¯»å–ç‰¹å®šçš„å·¥ä½œè¡¨</span><br><span class="hljs-built_in">df</span> = pd.read_excel(<span class="hljs-string">&#x27;æ–‡ä»¶.xlsx&#x27;</span>ï¼Œsheet_name=<span class="hljs-string">&#x27;æ˜ç»†&#x27;</span>) <span class="hljs-comment"># è¯»å–æŸä¸ªsheetè¡¨</span><br><span class="hljs-comment"># withæ–¹æ³•è¯»å–</span><br>with pd.ExcelFile(<span class="hljs-string">&#x27;path_to_file.xls&#x27;</span>) as xls:<br>    df1 = pd.read_excel(xls, <span class="hljs-string">&#x27;Sheet1&#x27;</span>)<br>    df2 = pd.read_excel(xls, <span class="hljs-string">&#x27;Sheet2&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="è¯»å–csvæˆ–è€…txt"><a href="#è¯»å–csvæˆ–è€…txt" class="headerlink" title="è¯»å–csvæˆ–è€…txt"></a>è¯»å–csvæˆ–è€…txt</h2><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># åˆ†éš”ç¬¦: \s è¡¨ç¤ºç©ºç™½å­—ç¬¦; \s+å¤šä¸ªç©ºç™½å­—ç¬¦; \rå›è½¦; \næ¢è¡Œ; \tæ°´å¹³åˆ¶è¡¨ç¬¦; \vå‚ç›´åˆ¶è¡¨ç¬¦</span><br><span class="hljs-attr">df</span> = pd.read_csv(<span class="hljs-string">&#x27;æ–‡ä»¶.txt&#x27;</span>,sep=<span class="hljs-string">&#x27;\s+&#x27;</span>,error_bad_lines=<span class="hljs-literal">False</span>)    <br></code></pre></td></tr></table></figure><h2 id="æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶æ–¹å¼1"><a href="#æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶æ–¹å¼1" class="headerlink" title="æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶æ–¹å¼1"></a>æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶æ–¹å¼1</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-keyword">for</span> root, dirs, <span class="hljs-built_in">files</span> <span class="hljs-keyword">in</span> os.walk(<span class="hljs-string">&#x27;.&#x27;</span>,topdown=False):<br>    print(<span class="hljs-built_in">files</span>)<br><span class="hljs-built_in">num</span> = <span class="hljs-built_in">len</span>(<span class="hljs-built_in">files</span>)   <span class="hljs-comment"># è·å–æ–‡ä»¶ä¸ªæ•°</span><br>data = pd.DataFrame()  <span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªç©ºçš„dataframe</span><br><span class="hljs-comment"># éå†æ‰€æœ‰æ–‡ä»¶</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-built_in">num</span>):<br>    datai = pd.read_excel(<span class="hljs-string">&#x27;./%s&#x27;</span> %<span class="hljs-built_in">files</span>[i])   <br>    datai_len = <span class="hljs-built_in">len</span>(datai)<br>    data = data.append(datai)   <span class="hljs-comment"># æ·»åŠ åˆ°æ€»çš„æ•°æ®ä¸­</span><br>    print(<span class="hljs-string">&#x27;æ–‡ä»¶%iåˆ—, ç¬¬%iä¸ªè¡¨,è¯»å–%iè¡Œæ•°æ®,åç§°ï¼š%s&#x27;</span>%(<span class="hljs-built_in">len</span>(data.columns),i,datai_len,<span class="hljs-built_in">files</span>[i]))     <span class="hljs-comment"># æŸ¥çœ‹æ˜¯å¦å…¨éƒ¨è¯»å–ï¼Œæ ¼å¼æ˜¯å¦å‡ºé”™</span><br><br>data.reset_index(drop=True,inplace=True)<br></code></pre></td></tr></table></figure><h2 id="æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ–¹å¼2"><a href="#æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ–¹å¼2" class="headerlink" title="æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ–¹å¼2"></a>æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ–¹å¼2</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-meta"># å¯¼å…¥å·¥å…·åŒ…</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-meta"># è·¯å¾„</span><br><span class="hljs-title">path</span> = &#x27;d:/æ–‡ä»¶è·¯å¾„/&#x27;<br><br><span class="hljs-meta"># æ–‡ä»¶åˆ—è¡¨</span><br><span class="hljs-title">files</span> = []<br><span class="hljs-title">for</span> file <span class="hljs-keyword">in</span> os.listdir(path):<br>    <span class="hljs-keyword">if</span> file.endswith(<span class="hljs-string">&quot;.csv&quot;</span>):<br>        files.append(path+file)<br><br><span class="hljs-meta"># å®šä¹‰ä¸€ä¸ªç©ºçš„dataframe</span><br><span class="hljs-class"><span class="hljs-keyword">data</span> = pd.<span class="hljs-type">DataFrame</span>()  </span><br><br><span class="hljs-meta"># éå†æ‰€æœ‰æ–‡ä»¶</span><br><span class="hljs-title">for</span> file <span class="hljs-keyword">in</span> files:<br>    datai = pd.read_csv(file,encoding=&#x27;gbk&#x27;)<br>    datai_len = len(datai)<br>    <span class="hljs-class"><span class="hljs-keyword">data</span> = <span class="hljs-keyword">data</span>.append(<span class="hljs-title">datai</span>)   # æ·»åŠ åˆ°æ€»çš„æ•°æ®ä¸­</span><br>    print(&#x27;è¯»å–%iè¡Œæ•°æ®,åˆå¹¶åæ–‡ä»¶%iåˆ—, åç§°ï¼š%s&#x27;%(datai_len,len(<span class="hljs-class"><span class="hljs-keyword">data</span>.columns),file.split(&#x27;/&#x27;)[-1]))     </span><br>    # æŸ¥çœ‹æ˜¯å¦å…¨éƒ¨è¯»å–ï¼Œæ ¼å¼æ˜¯å¦å‡ºé”™<br><span class="hljs-meta"># é‡ç½®ç´¢å¼•    </span><br><span class="hljs-class"><span class="hljs-keyword">data</span>.reset_index(<span class="hljs-title">drop</span>=<span class="hljs-type">True</span>,<span class="hljs-title">inplace</span>=<span class="hljs-type">True</span>)</span><br></code></pre></td></tr></table></figure><h2 id="æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹å¾—æ–‡ä»¶æ–¹å¼3-å½“txtæ–‡ä»¶ä¸è§„èŒƒ-è¯»å–ä¼šä¸¢å¤±æ•°æ®æˆ–æ–‡ä»¶å¤ªå¤§æ—¶"><a href="#æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹å¾—æ–‡ä»¶æ–¹å¼3-å½“txtæ–‡ä»¶ä¸è§„èŒƒ-è¯»å–ä¼šä¸¢å¤±æ•°æ®æˆ–æ–‡ä»¶å¤ªå¤§æ—¶" class="headerlink" title="æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹å¾—æ–‡ä»¶æ–¹å¼3(å½“txtæ–‡ä»¶ä¸è§„èŒƒ,è¯»å–ä¼šä¸¢å¤±æ•°æ®æˆ–æ–‡ä»¶å¤ªå¤§æ—¶)"></a>æ‰¹é‡è¯»å–åŒä¸€æ–‡ä»¶å¤¹ä¸‹å¾—æ–‡ä»¶æ–¹å¼3(å½“txtæ–‡ä»¶ä¸è§„èŒƒ,è¯»å–ä¼šä¸¢å¤±æ•°æ®æˆ–æ–‡ä»¶å¤ªå¤§æ—¶)</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs vim"># å¾ªç¯è¯»å–æ•°æ®<br>n = <span class="hljs-number">1</span><br><span class="hljs-keyword">for</span> <span class="hljs-keyword">file</span> in <span class="hljs-keyword">files</span>:    <br>    with <span class="hljs-keyword">open</span>(<span class="hljs-keyword">file</span>, <span class="hljs-string">&#x27;r&#x27;</span>,encoding=<span class="hljs-string">&#x27;gbk&#x27;</span>) <span class="hljs-keyword">as</span> f_input:<br>        lisi= []<br>        <span class="hljs-keyword">for</span> <span class="hljs-built_in">line</span> in f_input:<br>            lisi.<span class="hljs-keyword">append</span>(<span class="hljs-keyword">list</span>(<span class="hljs-built_in">line</span>.strip().<span class="hljs-keyword">split</span>(<span class="hljs-string">&#x27;|&#x27;</span>)))<br><br>    datai = pd.DataFrame(lisi)<br>    datai2 = guolv(datai)<br>    data = data.<span class="hljs-keyword">append</span>(datai2)<br><br>    <span class="hljs-keyword">print</span>(<span class="hljs-string">&#x27;è¯»å–ç¬¬%iä¸ªæ–‡ä»¶,ä»¶å%s,æ–‡ä»¶%iè¡Œ,æ–‡%iåˆ—.å¤„ç†åæ–‡ä»¶%iè¡Œ,%iåˆ—&#x27;</span> %(n,<span class="hljs-keyword">file</span>,datai.shape[<span class="hljs-number">0</span>],datai.shape[<span class="hljs-number">1</span>],datai2.shape[<span class="hljs-number">0</span>],datai2.shape[<span class="hljs-number">1</span>]))<br>    n = n + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="æ–‡ä»¶å¯¼å‡º-æ”¾åœ¨åŒä¸€å·¥ä½œç°¿"><a href="#æ–‡ä»¶å¯¼å‡º-æ”¾åœ¨åŒä¸€å·¥ä½œç°¿" class="headerlink" title="æ–‡ä»¶å¯¼å‡º,æ”¾åœ¨åŒä¸€å·¥ä½œç°¿"></a>æ–‡ä»¶å¯¼å‡º,æ”¾åœ¨åŒä¸€å·¥ä½œç°¿</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">writer = pd.ExcelWriter(<span class="hljs-string">&#x27;æ–‡ä»¶.xlsx&#x27;</span>)<br><span class="hljs-keyword">for</span> <span class="hljs-type">name</span> , <span class="hljs-keyword">group</span> <span class="hljs-keyword">in</span> df.groupby(<span class="hljs-string">&#x27;åç§°&#x27;</span>):<br>    <span class="hljs-keyword">group</span>.to_excel(writer,sheet_name=<span class="hljs-type">name</span>,<span class="hljs-keyword">index</span>=<span class="hljs-keyword">False</span>)<br></code></pre></td></tr></table></figure><h2 id="æ–‡ä»¶å¯¼å‡º-åˆ†ç»„å¯¼å‡ºæ”¾åœ¨åŒä¸€å·¥ä½œç°¿"><a href="#æ–‡ä»¶å¯¼å‡º-åˆ†ç»„å¯¼å‡ºæ”¾åœ¨åŒä¸€å·¥ä½œç°¿" class="headerlink" title="æ–‡ä»¶å¯¼å‡º, åˆ†ç»„å¯¼å‡ºæ”¾åœ¨åŒä¸€å·¥ä½œç°¿"></a>æ–‡ä»¶å¯¼å‡º, åˆ†ç»„å¯¼å‡ºæ”¾åœ¨åŒä¸€å·¥ä½œç°¿</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">writer = pd.ExcelWriter(<span class="hljs-string">&#x27;æ–‡ä»¶.xlsx&#x27;</span>)<br><span class="hljs-keyword">for</span> <span class="hljs-type">name</span> , <span class="hljs-keyword">group</span> <span class="hljs-keyword">in</span> df.groupby(<span class="hljs-string">&#x27;åç§°&#x27;</span>):<br>    <span class="hljs-keyword">group</span>.to_excel(writer,sheet_name=<span class="hljs-type">name</span>,<span class="hljs-keyword">index</span>=<span class="hljs-keyword">False</span>)<br></code></pre></td></tr></table></figure><h2 id="æ–‡ä»¶å¯¼å‡º-åˆ†ç»„å¯¼å‡º-æ”¾åœ¨ä¸åŒå·¥ä½œç°¿"><a href="#æ–‡ä»¶å¯¼å‡º-åˆ†ç»„å¯¼å‡º-æ”¾åœ¨ä¸åŒå·¥ä½œç°¿" class="headerlink" title="æ–‡ä»¶å¯¼å‡º, åˆ†ç»„å¯¼å‡º, æ”¾åœ¨ä¸åŒå·¥ä½œç°¿"></a>æ–‡ä»¶å¯¼å‡º, åˆ†ç»„å¯¼å‡º, æ”¾åœ¨ä¸åŒå·¥ä½œç°¿</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">for</span> <span class="hljs-type">name</span> , <span class="hljs-keyword">group</span> <span class="hljs-keyword">in</span> df.groupby(<span class="hljs-string">&#x27;åç§°&#x27;</span>):<br>    <span class="hljs-keyword">group</span>.to_excel(<span class="hljs-type">name</span>+<span class="hljs-string">&#x27;.xlsx&#x27;</span>,<span class="hljs-keyword">index</span>=<span class="hljs-keyword">False</span>)<br></code></pre></td></tr></table></figure><h2 id="è·å–å½“å‰æ—¶é—´"><a href="#è·å–å½“å‰æ—¶é—´" class="headerlink" title="è·å–å½“å‰æ—¶é—´"></a>è·å–å½“å‰æ—¶é—´</h2><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dos">import <span class="hljs-built_in">time</span><br>tim = <span class="hljs-built_in">time</span>.strftime(&quot;<span class="hljs-variable">%Y-%</span>m-<span class="hljs-variable">%d%</span>H<span class="hljs-variable">%M%</span>S&quot;, <span class="hljs-built_in">time</span>.localtime()) <br></code></pre></td></tr></table></figure><h2 id="ä¿å­˜å›¾ç‰‡åˆ†è¾¨ç‡è®¾ç½®"><a href="#ä¿å­˜å›¾ç‰‡åˆ†è¾¨ç‡è®¾ç½®" class="headerlink" title="ä¿å­˜å›¾ç‰‡åˆ†è¾¨ç‡è®¾ç½®"></a>ä¿å­˜å›¾ç‰‡åˆ†è¾¨ç‡è®¾ç½®</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">plt.savefig(<span class="hljs-string">&#x27;åç§°.png&#x27;</span>,<span class="hljs-attribute">dpi</span>=150)  <br></code></pre></td></tr></table></figure><h2 id="æ•°æ®æŸ¥çœ‹"><a href="#æ•°æ®æŸ¥çœ‹" class="headerlink" title="æ•°æ®æŸ¥çœ‹"></a>æ•°æ®æŸ¥çœ‹</h2><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs glsl">df.describe()   <span class="hljs-meta"># æè¿°ç»Ÿè®¡</span><br>df.info()    <span class="hljs-meta"># åŸºæœ¬ä¿¡æ¯</span><br>df.dtypes    <span class="hljs-meta">#ã€€åˆ—æ ¼å¼ç±»å‹</span><br>df.head(<span class="hljs-number">2</span>)    ï¼ƒå‰nè¡Œ<br>df.tail(<span class="hljs-number">2</span>)    <span class="hljs-meta">#åï½è¡Œ</span><br>df.shape    ï¼ƒç»´åº¦<br>df.<span class="hljs-keyword">index</span>  <span class="hljs-meta">#ç´¢å¼•</span><br>df.columns  ï¼ƒåˆ—å<br>df.<span class="hljs-keyword">sample</span>(<span class="hljs-number">10</span>)   <span class="hljs-meta">#éšæœºæŠ½æ ·</span><br>df.resample()ã€€ <span class="hljs-meta">#éšæœºæŠ½æ ·</span><br></code></pre></td></tr></table></figure><h2 id="è¡Œåˆ—å¤„ç†-åˆ é™¤-æ’åº"><a href="#è¡Œåˆ—å¤„ç†-åˆ é™¤-æ’åº" class="headerlink" title="è¡Œåˆ—å¤„ç†(åˆ é™¤,æ’åº)"></a>è¡Œåˆ—å¤„ç†(åˆ é™¤,æ’åº)</h2><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment"># åˆ é™¤åˆ—</span><br>del df[<span class="hljs-string">&#x27;å˜é‡å&#x27;</span>]<br> <br><span class="hljs-comment"># åˆ é™¤è¡Œ</span><br>df.drop(<span class="hljs-string">&#x27;c&#x27;</span>)<br><span class="hljs-comment"># æ›´æ”¹åˆ—å</span><br>df.columns= [<span class="hljs-string">&#x27;var1&#x27;</span>,<span class="hljs-string">&#x27;var2&#x27;</span>,<span class="hljs-string">&#x27;var3&#x27;</span>]  <span class="hljs-comment"># åˆ—åçš„ä¸ªæ•° = å­—æ®µä¸ªæ•°</span><br>df.<span class="hljs-keyword">rename</span>(columns = &#123;<span class="hljs-string">&#x27;åç§°å‰&#x27;</span>:<span class="hljs-string">&#x27;åç§°å&#x27;</span>&#125;,inplace=<span class="hljs-literal">True</span>)   <span class="hljs-comment"># columns ä¸èƒ½å°‘</span><br><span class="hljs-comment"># seriesä¸­æ”¹åˆ—å</span><br>s.<span class="hljs-keyword">rename</span>(<span class="hljs-string">&#x27;åç§°&#x27;</span>,inplace=<span class="hljs-literal">True</span>)<br><span class="hljs-comment"># è°ƒæ•´åˆ—çš„é¡ºåº</span><br>df1 = df1[[<span class="hljs-string">&#x27;var1&#x27;</span>,<span class="hljs-string">&#x27;var2&#x27;</span>,<span class="hljs-string">&#x27;var3&#x27;</span>]]<br><span class="hljs-comment"># è°ƒæ•´è¡Œçš„é¡ºåº</span><br>df2 = df1.reindex([<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>]) <span class="hljs-comment"># è¿”å›ä¸€ä¸ªæ–°çš„DataFrameï¼ŒæŒ‰æ–°çš„ç´¢å¼•è¿›è¡Œæ’åº</span><br></code></pre></td></tr></table></figure><h2 id="ç¼ºå¤±å€¼-æŸ¥çœ‹-æ›¿æ¢-è®¡æ•°"><a href="#ç¼ºå¤±å€¼-æŸ¥çœ‹-æ›¿æ¢-è®¡æ•°" class="headerlink" title="ç¼ºå¤±å€¼(æŸ¥çœ‹,æ›¿æ¢,è®¡æ•°)"></a>ç¼ºå¤±å€¼(æŸ¥çœ‹,æ›¿æ¢,è®¡æ•°)</h2><p>ç¼ºå¤±å€¼ï¼šåœ¨<code>pandas</code>ä¸­ï¼Œç¼ºå¤±æ•°æ®æ˜¾ç¤ºä¸º<strong>NaN</strong>ã€‚ç¼ºå¤±å€¼æœ‰3ç§è¡¨ç¤ºæ–¹æ³•ï¼Œ<code>np.nan</code>ï¼Œ<code>none</code>ï¼Œ<code>pd.NA</code>ã€‚</p><h3 id="1ã€np-nan"><a href="#1ã€np-nan" class="headerlink" title="1ã€np.nan"></a>1ã€np.nan</h3><p>ç¼ºå¤±å€¼æœ‰ä¸ªç‰¹ç‚¹ï¼ˆå‘ï¼‰ï¼Œå®ƒä¸ç­‰äºä»»ä½•å€¼ï¼Œè¿è‡ªå·±éƒ½ä¸ç›¸ç­‰ã€‚å¦‚æœç”¨<code>nan</code>å’Œä»»ä½•å…¶å®ƒå€¼æ¯”è¾ƒéƒ½ä¼šè¿”å›<code>nan</code>ã€‚</p><p>ä¹Ÿæ­£ç”±äºè¿™ä¸ªç‰¹ç‚¹ï¼Œåœ¨æ•°æ®é›†è¯»å…¥ä»¥åï¼Œä¸è®ºåˆ—æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Œé»˜è®¤çš„ç¼ºå¤±å€¼å…¨ä¸º<code>np.nan</code>ã€‚</p><p><strong>å› ä¸º<code>nan</code>åœ¨<code>Numpy</code>ä¸­çš„ç±»å‹æ˜¯æµ®ç‚¹ï¼Œå› æ­¤æ•´å‹åˆ—ä¼šè½¬ä¸ºæµ®ç‚¹ï¼›è€Œå­—ç¬¦å‹ç”±äºæ— æ³•è½¬åŒ–ä¸ºæµ®ç‚¹å‹ï¼Œåªèƒ½å½’å¹¶ä¸ºobjectç±»å‹ï¼ˆâ€™Oâ€™ï¼‰ï¼ŒåŸæ¥æ˜¯æµ®ç‚¹å‹çš„åˆ™ç±»å‹ä¸å˜ã€‚</strong></p><p>åˆå­¦è€…åšæ•°æ®å¤„ç†é‡è§objectç±»å‹ä¼šå‘æ‡µï¼Œä¸çŸ¥é“è¿™æ˜¯ä¸ªå•¥ï¼Œæ˜æ˜æ˜¯å­—ç¬¦å‹ï¼Œå¯¼å…¥åå°±å˜äº†ï¼Œå…¶å®æ˜¯å› ä¸ºç¼ºå¤±å€¼å¯¼è‡´çš„ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜è¦ä»‹ç»ä¸€ç§é’ˆå¯¹æ—¶é—´åºåˆ—çš„ç¼ºå¤±å€¼ï¼Œå®ƒæ˜¯å•ç‹¬å­˜åœ¨çš„ï¼Œç”¨<strong>NaT</strong>è¡¨ç¤ºï¼Œæ˜¯<code>pandas</code>çš„å†…ç½®ç±»å‹ï¼Œ**å¯ä»¥è§†ä¸ºæ—¶é—´åºåˆ—ç‰ˆçš„<code>np.nan</code>**ï¼Œä¹Ÿæ˜¯ä¸è‡ªå·±ä¸ç›¸ç­‰ã€‚</p><h3 id="2ã€None"><a href="#2ã€None" class="headerlink" title="2ã€None"></a>2ã€None</h3><p>è¿˜æœ‰ä¸€ç§å°±æ˜¯<code>None</code>ï¼Œå®ƒè¦æ¯”<code>nan</code>å¥½é‚£ä¹ˆä¸€ç‚¹ï¼Œå› ä¸ºå®ƒè‡³å°‘è‡ªå·±ä¸è‡ªå·±ç›¸ç­‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-literal">None</span> == <span class="hljs-literal">None</span><br>&gt;&gt; <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¼ å…¥æ•°å€¼ç±»å‹åï¼Œä¼šè‡ªåŠ¨å˜ä¸º<code>np.nan</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">type</span>(pd.Series([<span class="hljs-number">1</span>,<span class="hljs-literal">None</span>])[<span class="hljs-number">1</span>])<br>&gt;&gt; numpy.float64<br></code></pre></td></tr></table></figure><p>åªæœ‰å½“ä¼ å…¥<code>object</code>ç±»å‹æ—¶æ˜¯ä¸å˜çš„ï¼Œå› æ­¤å¯ä»¥è®¤ä¸ºå¦‚æœä¸æ˜¯äººå·¥å‘½åä¸º<code>None</code>çš„è¯ï¼Œå®ƒåŸºæœ¬ä¸ä¼šè‡ªåŠ¨å‡ºç°åœ¨<code>pandas</code>ä¸­ï¼Œæ‰€ä»¥<code>None</code>å¤§å®¶åŸºæœ¬ä¹Ÿçœ‹ä¸åˆ°ã€‚</p><h3 id="3ã€NAæ ‡é‡"><a href="#3ã€NAæ ‡é‡" class="headerlink" title="3ã€NAæ ‡é‡"></a>3ã€NAæ ‡é‡</h3><p>pandas1.0ä»¥åçš„ç‰ˆæœ¬ä¸­å¼•å…¥äº†ä¸€ä¸ªä¸“é—¨è¡¨ç¤ºç¼ºå¤±å€¼çš„æ ‡é‡<strong>pd.NA</strong>ï¼Œå®ƒä»£è¡¨ç©ºæ•´æ•°ã€ç©ºå¸ƒå°”å€¼ã€ç©ºå­—ç¬¦ï¼Œè¿™ä¸ªåŠŸèƒ½ç›®å‰å¤„äºå®éªŒé˜¶æ®µã€‚</p><p>å¼€å‘è€…ä¹Ÿæ³¨æ„åˆ°äº†è¿™ç‚¹ï¼Œå¯¹äºä¸åŒæ•°æ®ç±»å‹é‡‡å–ä¸åŒçš„ç¼ºå¤±å€¼è¡¨ç¤ºä¼šå¾ˆä¹±ã€‚pd.NAå°±æ˜¯ä¸ºäº†ç»Ÿä¸€è€Œå­˜åœ¨çš„ã€‚<strong>pd.NAçš„ç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªç¼ºå¤±å€¼æŒ‡ç¤ºå™¨ï¼Œå¯ä»¥åœ¨å„ç§æ•°æ®ç±»å‹ä¸­ä¸€è‡´ä½¿ç”¨(è€Œä¸æ˜¯np.nanã€Noneæˆ–è€…NaTåˆ†æƒ…å†µä½¿ç”¨)ã€‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">s_new = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], dtype=<span class="hljs-string">&quot;Int64&quot;</span>)<br>s_new<br>&gt;&gt; <span class="hljs-number">0</span>   <span class="hljs-number">1</span><br>   <span class="hljs-number">1</span>   <span class="hljs-number">2</span><br>   dtype: Int64<br>-----------------<br>s_new[<span class="hljs-number">1</span>] = pd.NaT<br>s_new<br>&gt;&gt; <span class="hljs-number">0</span>    <span class="hljs-number">1</span><br>   <span class="hljs-number">1</span>  &lt;NA&gt;<br>   dtype: Int64<br></code></pre></td></tr></table></figure><p>åŒç†ï¼Œå¯¹äºå¸ƒå°”å‹ã€å­—ç¬¦å‹ä¸€æ ·ä¸ä¼šæ”¹å˜åŸæœ‰æ•°æ®ç±»å‹,è¿™æ ·å°±è§£å†³äº†åŸæ¥åŠ¨ä¸åŠ¨å°±å˜æˆ<code>object</code>ç±»å‹çš„éº»çƒ¦äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#å°†æ— ç©·å€¼è®¾ç½®ä¸ºç¼ºå¤±å€¼</span><br>pd.options.mode.use_inf_as_na = <span class="hljs-literal">True</span><br><br><span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦æ˜¯ç¼ºå¤±å€¼</span><br>df.isnull()  <span class="hljs-comment">#ä¸èƒ½çœç•¥æ‹¬å·</span><br>df[<span class="hljs-string">&#x27;colomu&#x27;</span>].isnull()<br>df.notnull()<br><span class="hljs-comment"># è®¡ç®—ç¼ºå¤±å€¼ä¸ªæ•°</span><br>s.isnull().value_counts()<br><span class="hljs-comment"># æ¯åˆ—ç¼ºå¤±å€¼ä¸ªæ•°</span><br>df.isna().<span class="hljs-built_in">sum</span>()  <span class="hljs-comment"># ç¼ºå¤±å€¼ä¸ªæ•°</span><br><br><span class="hljs-comment"># å¡«å……ç¼ºå¤±å€¼</span><br>df[<span class="hljs-string">&#x27;A&#x27;</span>].fillna(<span class="hljs-string">&#x27;ç¼ºå¤±æ•°æ®&#x27;</span>,inplace=<span class="hljs-literal">True</span>)  <br>data1.fillna(method=<span class="hljs-string">&#x27;pad&#x27;</span>)   <span class="hljs-comment"># ç±»ä¼¼äºexcelä¸­ç”¨ä¸Šä¸€ä¸ªå•å…ƒæ ¼å†…å®¹æ‰¹é‡å¡«å……</span><br><br><span class="hljs-comment"># åˆ é™¤æŒ‡å®šåˆ—åŒ…å«ç¼ºå¤±å€¼çš„è¡Œ</span><br>data.dropna(subset=[<span class="hljs-string">&quot;C&quot;</span>],inplace=<span class="hljs-literal">True</span>)    <span class="hljs-comment"># []ä¸èƒ½å°‘</span><br>data.dropna(how=<span class="hljs-string">&quot;all&quot;</span>)   <span class="hljs-comment"># åˆ é™¤å…¨ä¸ºç©ºçš„è¡Œ</span><br>data.dropna(thresh=<span class="hljs-number">2</span>)    <span class="hljs-comment">#åˆ é™¤æœ‰æ•ˆæ•°æ®å°äº2çš„æ•°æ®</span><br><br><span class="hljs-comment"># ç¼ºå¤±å€¼ä¸ªæ•°å¹¶æ’åº</span><br>df.isnull().<span class="hljs-built_in">sum</span>().sort_values(ascending=<span class="hljs-literal">False</span>).head()<br></code></pre></td></tr></table></figure><h2 id="é‡å¤å€¼-æŸ¥çœ‹-åˆ é™¤"><a href="#é‡å¤å€¼-æŸ¥çœ‹-åˆ é™¤" class="headerlink" title="é‡å¤å€¼(æŸ¥çœ‹,åˆ é™¤)"></a>é‡å¤å€¼(æŸ¥çœ‹,åˆ é™¤)</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># ä¸é‡å¤é¡¹</span><br>df[<span class="hljs-string">&#x27;A&#x27;</span>].unique()  <br>df[<span class="hljs-string">&#x27;A&#x27;</span>].nunique() #æŸ¥çœ‹ä¸é‡å¤å€¼ä¸ªæ•°<br>df[<span class="hljs-string">&#x27;A&#x27;</span>].unique().tolist()   # è½¬list <br>df[<span class="hljs-string">&#x27;A&#x27;</span>].value_counts()  # è®¡æ•°<br><span class="hljs-comment"># å»é‡</span><br><span class="hljs-built_in">set</span>(data2[<span class="hljs-string">&#x27;åç§°&#x27;</span>])<br><br><span class="hljs-comment"># æŸ¥çœ‹é‡å¤é¡¹ï¼Œè¿”å›True False</span><br>df.duplicated()  <br><span class="hljs-comment"># æŸ¥çœ‹é‡å¤çš„æ•°æ®</span><br>data4 = data3[data3.duplicated(<span class="hljs-attribute">subset</span>=<span class="hljs-string">&#x27;var1&#x27;</span>,keep=False)]  <br><br><span class="hljs-comment"># åˆ é™¤é‡å¤é¡¹</span><br>df.drop_duplicates([<span class="hljs-string">&#x27;var&#x27;</span>],<span class="hljs-attribute">inplace</span>=<span class="hljs-literal">True</span>)<br><span class="hljs-comment"># æŒ‰ä¸¤åˆ—å»é‡</span><br>data.drop_duplicates(subset=[<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>],<span class="hljs-attribute">keep</span>=<span class="hljs-string">&#x27;first&#x27;</span>,inplace=True)  <br><span class="hljs-comment"># åˆ†ç»„è®¡ç®—ä¸é‡å¤é¡¹ä¸ªæ•°</span><br>result = df.groupby([<span class="hljs-string">&#x27;var1&#x27;</span>,<span class="hljs-string">&#x27;var2&#x27;</span>]).agg(&#123;<span class="hljs-string">&#x27;var3&#x27;</span>:<span class="hljs-string">&#x27;nunique&#x27;</span>,<span class="hljs-string">&#x27;var4&#x27;</span>:[<span class="hljs-string">&#x27;min&#x27;</span>,<span class="hljs-string">&#x27;max&#x27;</span>]&#125;)<span class="hljs-string">&#x27;b*--&#x27;</span>, <span class="hljs-attribute">alpha</span>=0.5, <span class="hljs-attribute">linewidth</span>=1<br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹æ ¼å¼-æ ¼å¼è½¬æ¢-ç™¾åˆ†æ¯”-æ ¼å¼åˆ¤æ–­"><a href="#ä¿®æ”¹æ ¼å¼-æ ¼å¼è½¬æ¢-ç™¾åˆ†æ¯”-æ ¼å¼åˆ¤æ–­" class="headerlink" title="ä¿®æ”¹æ ¼å¼(æ ¼å¼è½¬æ¢, ç™¾åˆ†æ¯”, æ ¼å¼åˆ¤æ–­)**"></a>ä¿®æ”¹æ ¼å¼(æ ¼å¼è½¬æ¢, ç™¾åˆ†æ¯”, æ ¼å¼åˆ¤æ–­)**</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs prolog"># æ”¹å˜åˆ—çš„æ ¼å¼ï¼ˆæ–‡æœ¬å‹æ•°å€¼æ”¹æˆæ•°å€¼å‹æ•°å€¼ï¼‰<br>df[<span class="hljs-string">&#x27;var1&#x27;</span>] = df[<span class="hljs-string">&#x27;var1&#x27;</span>].astype(<span class="hljs-string">&#x27;int&#x27;</span>)  # errors = <span class="hljs-string">&#x27;ignore&#x27;</span><br>df[<span class="hljs-string">&#x27;var1&#x27;</span>] = df[<span class="hljs-string">&#x27;var1&#x27;</span>].astype(np.float)<br># å¤šåˆ—è½¬æ¢<br>df[[<span class="hljs-string">&#x27;user_id&#x27;</span>,<span class="hljs-string">&#x27;merchant_id&#x27;</span>,<span class="hljs-string">&#x27;coupon_id&#x27;</span>]]=df[[<span class="hljs-string">&#x27;user_id&#x27;</span>,<span class="hljs-string">&#x27;merchant_id&#x27;</span>,<span class="hljs-string">&#x27;coupon_id&#x27;</span>]].astype(str)  <br>df.infer_objects()  # æ ¹æ®æ•°æ®ç‰¹å¾è‡ªåŠ¨è½¬æ¢<br><br># ç™¾åˆ†æ¯”æ ¼å¼<br>data[<span class="hljs-string">&#x27;B_per%&#x27;</span>] = data[<span class="hljs-string">&#x27;B_per&#x27;</span>].apply(lambda x: <span class="hljs-string">&#x27;%.2f%%&#x27;</span> <span class="hljs-comment">% (x*100))</span><br><br># åˆ¤æ–­æ ¼å¼ï¼Œæ˜¯å¦ä¸ºå­—ç¬¦ä¸²<br>data[<span class="hljs-string">&#x27;var&#x27;</span>].apply(lambda x:isinstance(x,str))<br></code></pre></td></tr></table></figure><h2 id="æ™®é€šç­›é€‰"><a href="#æ™®é€šç­›é€‰" class="headerlink" title="æ™®é€šç­›é€‰"></a>æ™®é€šç­›é€‰</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs prolog"># locç­›é€‰ï¼šé€‰æ‹©ç¬¦åˆæ¡ä»¶çš„è¡Œ<br>df.loc[df[<span class="hljs-string">&quot;grade&quot;</span>] == <span class="hljs-string">&quot;B&quot;</span>].head()<br><br># é€‰æ‹©ç¬¦åˆæ¡ä»¶çš„è¡Œå’Œç‰¹å®šçš„åˆ—<br>df.loc[df[<span class="hljs-string">&quot;grade&quot;</span>] == <span class="hljs-string">&quot;B&quot;</span>, [<span class="hljs-string">&quot;member_id&quot;</span>, <span class="hljs-string">&quot;grade&quot;</span>]].head()<br># é€‰æ‹©ç¬¦åˆæ¡ä»¶çš„è¡Œå’Œç‰¹å®šçš„åˆ—,å¹¶æ’åº<br>df.loc[df[<span class="hljs-string">&quot;grade&quot;</span>] == <span class="hljs-string">&quot;B&quot;</span>, [<span class="hljs-string">&quot;loan_amnt&quot;</span>, <span class="hljs-string">&quot;grade&quot;</span>]].sort([<span class="hljs-string">&quot;loan_amnt&quot;</span>])<br># å¤šæ¡ä»¶ç­›é€‰<br>df.loc[[(df[<span class="hljs-string">&quot;gradd&quot;</span>]==<span class="hljs-string">&quot;B&quot;</span>) &amp; (df[<span class="hljs-string">&quot;loan_amnt&quot;</span>]&gt;<span class="hljs-number">5000</span>), [<span class="hljs-string">&quot;member_id&quot;</span>, <span class="hljs-string">&quot;term&quot;</span> ]].head()<br># åé€‰<br>data[~((data.å‘å¸ƒæ—¶é—´.isnull()) &amp; (data.å®é™…é¦–è¯•æ—¥æœŸ &lt; <span class="hljs-string">&#x27;2018-11-1&#x27;</span>))]<br># åè½¬è¡Œ<br>df.iloc[::-<span class="hljs-number">1</span>, :] <br></code></pre></td></tr></table></figure><h2 id="é€»è¾‘åˆ¤æ–­åç­›é€‰"><a href="#é€»è¾‘åˆ¤æ–­åç­›é€‰" class="headerlink" title="é€»è¾‘åˆ¤æ–­åç­›é€‰"></a>é€»è¾‘åˆ¤æ–­åç­›é€‰</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs prolog"># isinç­›é€‰<br>df[<span class="hljs-string">&quot;A&quot;</span>].isin([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>])<br>#ã€€å¤šæ¡ä»¶<br>df[(df.<span class="hljs-symbol">AAA</span> &lt;= <span class="hljs-number">6</span>) &amp; (df.index.isin([<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]))]<br># locå’Œisinç»„åˆã€€<br>df.loc[df[<span class="hljs-string">&#x27;sepal_length&#x27;</span>].isin([<span class="hljs-number">5.8</span>,<span class="hljs-number">5.1</span>])]<br># å­—ç¬¦ä¸²isin<br>df.loc[df[<span class="hljs-string">&#x27;grade&#x27;</span>].isin([<span class="hljs-string">&#x27;åŒ—äº¬&#x27;</span>,<span class="hljs-string">&#x27;ä¸Šæµ·&#x27;</span>])]<br>#ã€€å­—ç¬¦ä¸²å¼€å¤´<br>df[df[<span class="hljs-string">&#x27;A&#x27;</span>].str.startswith(<span class="hljs-string">&#x27;åŒ—äº¬&#x27;</span>)]<br><br># containsç­›é€‰<br>df[df[<span class="hljs-string">&#x27;å•†å“åç§°&#x27;</span>].str.contains(<span class="hljs-string">&quot;å››ä»¶å¥—&quot;</span>)]<br># å¤šä¸ªç­›é€‰<br>df_re =df[df[<span class="hljs-string">&#x27;å…¬å¸&#x27;</span>].str.contains(<span class="hljs-string">&#x27;å…¬å¸A||å…¬å¸B&#x27;</span>)]<br># ç­›é€‰å«ç‰¹æ®Šå­—ç¬¦çš„<br>df[df[<span class="hljs-string">&#x27;äº§ä¸šçº¿&#x27;</span>].str.contains(<span class="hljs-string">&#x27;\?&#x27;</span>)] <br># å¤šæ¡ä»¶ç­›é€‰<br>data[(data[<span class="hljs-string">&#x27;var1&#x27;</span>].str[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;M&#x27;</span>)&amp;(data[<span class="hljs-string">&#x27;var2&#x27;</span>].apply(lambda x : str(x)[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;8&#x27;</span>))]<br><br># ç´¢å¼•ç‰¹æ®Šç”¨æ³•<br>df[[i.endswith(<span class="hljs-string">&#x27;A&#x27;</span>) for i in df.index]] <br><br># æŒ‰å­—ç¬¦ä¸²é•¿åº¦ç­›é€‰<br>data = df[df[<span class="hljs-string">&#x27;åç§°&#x27;</span>].str.len()&gt;<span class="hljs-number">5</span>]<br><br># æŒ‰å­—ç¬¦ä¸²å¼€å¤´ç­›é€‰<br>df[df[<span class="hljs-string">&#x27;åç§°&#x27;</span>].str[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;M&#x27;</span>]<br><br># ç­›é€‰åˆ—<br>data = data.loc[:,~(data.columns.str.contains(<span class="hljs-string">&#x27;é›†å›¢&#x27;</span>))]<br><br># ç­›é€‰å‰å‡ ä¸ªæœ€å¤§å€¼<br>data = df.iloc[df[<span class="hljs-string">&#x27;åç§°&#x27;</span>].nlargest(<span class="hljs-number">3</span>).index]<br><br># ç­›é€‰ç”±æ±‰å­—å¼€å¤´çš„æ•°æ®<br>df = df[df[<span class="hljs-string">&#x27;åç§°&#x27;</span>].str.contains(r<span class="hljs-string">&#x27;^[\u4e00-\u9fa5]&#x27;</span>)]<br><br># æ—¥æœŸä¸æ˜¯ç´¢å¼•æ—¶, æŒ‰æ—¥æœŸç­›é€‰ <br>data[data[<span class="hljs-string">&#x27;æ—¶é—´&#x27;</span>].apply(lambda x: x.year == <span class="hljs-number">2019</span>)]  <br>data[data[<span class="hljs-string">&#x27;æ—¶é—´&#x27;</span>].apply(lambda x: x.strftime(<span class="hljs-string">&#x27;%Y%m&#x27;</span>)==<span class="hljs-string">&#x27;202008&#x27;</span>)]<br></code></pre></td></tr></table></figure><h2 id="åˆ†ç»„åç­›é€‰"><a href="#åˆ†ç»„åç­›é€‰" class="headerlink" title="åˆ†ç»„åç­›é€‰"></a>åˆ†ç»„åç­›é€‰</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ†ç»„åç­›é€‰å‰2ä¸ª</span><br>df2 = df1.groupby([<span class="hljs-string">&#x27;class&#x27;</span>]).head(<span class="hljs-number">2</span>)<br><br><span class="hljs-comment"># åˆ†ç»„åç­›é€‰ç¬¬2æ¡æˆ–è€…å€’æ•°ç¬¬2æ¡æ•°æ®</span><br>df1.groupby(<span class="hljs-string">&#x27;class&#x27;</span>).apply(<span class="hljs-keyword">lambda</span> i:i.iloc[<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(i)&gt;<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> np.nan)<br>df1.groupby(<span class="hljs-string">&#x27;class&#x27;</span>).apply(<span class="hljs-keyword">lambda</span> i:i.iloc[-<span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(i)&gt;<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> np.nan)<br><br><span class="hljs-comment"># åˆ†ç»„åæŒ‰æ¡ä»¶ç­›é€‰</span><br>data.groupby(<span class="hljs-string">&#x27;var1&#x27;</span>).<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">len</span>(x[x[<span class="hljs-string">&#x27;var2&#x27;</span>]==<span class="hljs-string">&#x27;A&#x27;</span>])&gt;=<span class="hljs-number">1</span>)<br>data.groupby(<span class="hljs-string">&#x27;å…¬å¸ç¼–ç &#x27;</span>).<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x:<span class="hljs-built_in">len</span>(x)!=<span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># groupbyç­›é€‰æ–¹æ³•1ï¼ˆå…ˆåˆ†ç»„ï¼Œç„¶åç­›é€‰å¦ä¸€ä¸ªå˜é‡ä¸­æœ€å°å€¼ï¼‰</span><br>df.loc[df.groupby(<span class="hljs-string">&#x27;AA&#x27;</span>)[<span class="hljs-string">&#x27;BB&#x27;</span>].inxmin()]<br><span class="hljs-comment">#groupbyç­›é€‰æ–¹æ³•2ï¼šï¼ˆå…ˆæ’åºï¼Œåˆ†ç»„ï¼Œç„¶åç­›é€‰æ¯ä¸€ç»„ä¸­çš„ç¬¬ä¸€ä¸ªï¼‰</span><br>df.sort_values(by=<span class="hljs-string">&#x27;BB&#x27;</span>).groupby(<span class="hljs-string">&#x27;AA&#x27;</span>,as_index=<span class="hljs-literal">False</span>).first()<br><span class="hljs-comment"># groupbyç­›é€‰æ–¹æ³•3ï¼šgroupbyä¸applyç»“åˆ</span><br>df.groupby(<span class="hljs-string">&#x27;aa&#x27;</span>).apply(<span class="hljs-keyword">lambda</span> x :  x[<span class="hljs-string">&#x27;BB&#x27;</span>][x[<span class="hljs-string">&#x27;cc&#x27;</span>].idxmax()]<br><br><span class="hljs-comment"># åˆ†ç»„å¹¶æ’åº</span><br>df[[<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>]].groupby(<span class="hljs-string">&#x27;A&#x27;</span>).mean().sort_values(<span class="hljs-string">&#x27;B&#x27;</span>,ascending=<span class="hljs-literal">False</span>).head()<br></code></pre></td></tr></table></figure><h2 id="æ›¿æ¢"><a href="#æ›¿æ¢" class="headerlink" title="æ›¿æ¢"></a>æ›¿æ¢</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs prolog"># å•ä¸ªæ›¿æ¢<br>df[<span class="hljs-string">&#x27;åˆ¤æ–­&#x27;</span>].replace([<span class="hljs-string">&#x27;B&#x27;</span>,<span class="hljs-string">&#x27;C&#x27;</span>],np.nan,inplace=<span class="hljs-symbol">True</span>)   #æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼<br># å¤šä¸ªæ›¿æ¢<br>data[<span class="hljs-string">&#x27;var&#x27;</span>].replace([<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>],[<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>],inplace=<span class="hljs-symbol">True</span>)<br># locåŸåœ°æ›¿æ¢<br>df1.loc[df[<span class="hljs-string">&#x27;sex&#x27;</span>]==<span class="hljs-string">&#x27;female&#x27;</span>, <span class="hljs-string">&#x27;sex&#x27;</span>] = <span class="hljs-number">1</span><br>df1.loc[df[<span class="hljs-string">&#x27;sex&#x27;</span>]==<span class="hljs-string">&#x27;male&#x27;</span>, <span class="hljs-string">&#x27;sex&#x27;</span>] = <span class="hljs-number">0</span><br><br># å­—å…¸<br>df.replace(&#123;<span class="hljs-string">&#x27;female&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;male&#x27;</span>:<span class="hljs-number">0</span>&#125;)<br># é€‚åˆäºŒåˆ†æ³•<br>df1[<span class="hljs-string">&#x27;sex&#x27;</span>] = df1[<span class="hljs-string">&#x27;sex&#x27;</span>].map(lambda x:<span class="hljs-number">1</span> if x==<span class="hljs-string">&#x27;female&#x27;</span> else <span class="hljs-number">0</span>)<br># apply<br>df_zb[<span class="hljs-string">&#x27;var&#x27;</span>] = df_zb[<span class="hljs-string">&#x27;var&#x27;</span>].apply(lambda x: x[:-<span class="hljs-number">1</span>] if x[<span class="hljs-number">-1</span>].isalpha() else x)<br>data3[<span class="hljs-string">&#x27;var&#x27;</span>] = data3[<span class="hljs-string">&#x27;var&#x27;</span>].apply(lambda x: x[:-<span class="hljs-number">1</span>] if x[<span class="hljs-number">-1</span>] == <span class="hljs-string">&#x27;s&#x27;</span> else x)<br><br># np.where<br>data[<span class="hljs-string">&#x27;var&#x27;</span>] = np.where(data[<span class="hljs-string">&#x27;var&#x27;</span>] == <span class="hljs-string">&#x27; &#x27;</span>,<span class="hljs-number">0</span>,data[<span class="hljs-string">&#x27;var&#x27;</span>])<br></code></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²å¤„ç†"><a href="#å­—ç¬¦ä¸²å¤„ç†" class="headerlink" title="å­—ç¬¦ä¸²å¤„ç†"></a>å­—ç¬¦ä¸²å¤„ç†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æˆ‘çš„åå­—æ˜¯%sï¼Œä»Šå¹´%iå²ï¼Œä½“é‡%.2f&#x27;</span>%(<span class="hljs-string">&#x27;å°æ˜&#x27;</span>,<span class="hljs-number">20</span>,<span class="hljs-number">70.1</span>))<br><span class="hljs-comment"># å»é™¤ç©ºæ ¼ï¼Œæ”¹å˜å¤§å°å†™</span><br>df[<span class="hljs-string">&#x27;term&#x27;</span>] = df[<span class="hljs-string">&#x27;term&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>.strip)  <span class="hljs-comment">#å»é™¤å·¦å³ä¸¤è¾¹çš„ç©ºæ ¼ï¼Œstripåé¢æ˜¯å¦å¸¦æ‹¬å·</span><br>df[<span class="hljs-string">&#x27;term&#x27;</span>] = df[<span class="hljs-string">&#x27;term&#x27;</span>].<span class="hljs-built_in">str</span>.strip()<br>df[<span class="hljs-string">&#x27;term&#x27;</span>] = df[<span class="hljs-string">&#x27;term&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>.lstrip)  <span class="hljs-comment">#å»é™¤å·¦è¾¹çš„ç©ºæ ¼</span><br>df[<span class="hljs-string">&#x27;term&#x27;</span>] = df[<span class="hljs-string">&#x27;term&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>.rstrip)  <span class="hljs-comment">#å»é™¤å³è¾¹çš„ç©ºæ ¼</span><br>df[<span class="hljs-string">&#x27;term&#x27;</span>] = df[<span class="hljs-string">&#x27;term&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>.upper)  <span class="hljs-comment"># æ”¹æˆå…¨éƒ¨å¤§å†™</span><br>df[<span class="hljs-string">&#x27;term&#x27;</span>] = df[<span class="hljs-string">&#x27;term&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>.lower) <span class="hljs-comment"># æ”¹æˆå…¨éƒ¨å°å†™</span><br>df[<span class="hljs-string">&#x27;term&#x27;</span>] = df[<span class="hljs-string">&#x27;term&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>.title) <span class="hljs-comment"># æ”¹æˆé¦–å­—æ¯å¤§å†™</span><br><br><span class="hljs-comment"># å»æ‰æ‰€æœ‰ç©ºæ ¼</span><br>data = data.applymap(<span class="hljs-keyword">lambda</span> x: x.strip() <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(x,<span class="hljs-built_in">str</span>) <span class="hljs-keyword">else</span> x)<br></code></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²åˆ¤æ–­"><a href="#å­—ç¬¦ä¸²åˆ¤æ–­" class="headerlink" title="å­—ç¬¦ä¸²åˆ¤æ–­"></a>å­—ç¬¦ä¸²åˆ¤æ–­</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸€ç‰¹å®šæ ¼å¼</span><br><span class="hljs-built_in">df</span>[<span class="hljs-string">&#x27;emp_length&#x27;</span>].apply(lambda x: x.isalpha())   <span class="hljs-comment">#æ˜¯å¦ä¸ºå­—æ¯</span><br><span class="hljs-built_in">df</span>[<span class="hljs-string">&#x27;emp_length&#x27;</span>].apply(lambda x: x. isalnum ())  <span class="hljs-comment">#æ˜¯å¦å…¨æœªæ•°å­—æˆ–è€…å­—æ¯</span><br><span class="hljs-built_in">df</span>[<span class="hljs-string">&#x27;emp_length&#x27;</span>].apply(lambda x: x. isdigit ())  <span class="hljs-comment">#æ˜¯å¦ä¸ºæ•°å­—</span><br></code></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²æ‹†åˆ†"><a href="#å­—ç¬¦ä¸²æ‹†åˆ†" class="headerlink" title="å­—ç¬¦ä¸²æ‹†åˆ†"></a>å­—ç¬¦ä¸²æ‹†åˆ†</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs routeros">s.str.split(<span class="hljs-string">&#x27;_&#x27;</span>)  # æ‹†åˆ†ï¼Œç»“æœæ˜¯åˆ—è¡¨<br>s.str.split(<span class="hljs-string">&#x27;_&#x27;</span>).str.<span class="hljs-built_in">get</span>(1)   # æ‹†åˆ†åå–ç¬¬ä¸€ä¸ªï¼Œå¯ç”¨äºç”Ÿæˆæ–°å˜é‡<br>s.str.split(<span class="hljs-string">&#x27;_&#x27;</span>).str[1]       # æ‹†åˆ†åå–ç¬¬ä¸€ä¸ªï¼Œå¯ç”¨äºç”Ÿæˆæ–°å˜é‡<br>s.str.split(<span class="hljs-string">&#x27;_&#x27;</span>, <span class="hljs-attribute">expand</span>=<span class="hljs-literal">True</span>) # æ‹†åˆ†ï¼Œå¹¶å±•å¼€æˆå¤šåˆ—<br>s.str.split(<span class="hljs-string">&#x27;_&#x27;</span>, <span class="hljs-attribute">expand</span>=<span class="hljs-literal">True</span>, <span class="hljs-attribute">n</span>=1)   # æŒ‰ç¬¬ä¸€ä¸ªæ‹†åˆ†<br>s.str.rsplit(<span class="hljs-string">&#x27;_&#x27;</span>, <span class="hljs-attribute">expand</span>=<span class="hljs-literal">True</span>, <span class="hljs-attribute">n</span>=1)  # æŒ‰æœ€åä¸€ä¸ªæ‹†åˆ†<br>data[<span class="hljs-string">&#x27;var&#x27;</span>] = data[<span class="hljs-string">&#x27;var&#x27;</span>].str.split(<span class="hljs-string">&#x27;?&#x27;</span>,<span class="hljs-attribute">expand</span>=<span class="hljs-literal">True</span>)[0]<br></code></pre></td></tr></table></figure><h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># æŠŠåˆ—å˜æˆç´¢å¼•</span><br>df.set_index(<span class="hljs-string">&#x27;æ—¶é—´&#x27;</span>,<span class="hljs-attribute">inplace</span>=<span class="hljs-literal">True</span>, drop = <span class="hljs-literal">False</span>)  <br>df.set_index([<span class="hljs-string">&#x27;r&#x27;</span>,<span class="hljs-string">&#x27;s&#x27;</span>], inplace = <span class="hljs-literal">True</span>) # rä¸ºä¸€çº§ï¼Œsä¸ºäºŒçº§<br><br><span class="hljs-comment"># å–æ¶ˆå±‚æ¬¡åŒ–ç´¢å¼•ï¼Œå°†ç´¢å¼•å˜å›åˆ—</span><br>df.reset_index(<span class="hljs-attribute">inplace</span>=<span class="hljs-literal">True</span>)<br>df.reset_index(<span class="hljs-attribute">drop</span>=<span class="hljs-literal">True</span>,inplace=True,level = None)<br><br><span class="hljs-comment"># æŒ‰ç´¢å¼•æ’åº</span><br>df.sort_index(<span class="hljs-attribute">inplace</span>=<span class="hljs-literal">True</span>,ascending=False)<br><br><span class="hljs-comment"># æ›´æ–°ç´¢å¼•ï¼ˆè¡Œã€åˆ—éƒ½å¯ä»¥ä¿®æ”¹ï¼‰</span><br>df2 = df1.reindex([<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>]) # è¿”å›ä¸€ä¸ªæ–°çš„DataFrameï¼ŒæŒ‰æ–°çš„ç´¢å¼•è¿›è¡Œæ’åº<br>df2 = df1.reindex([<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>],  <span class="hljs-attribute">fill_value</span>=0) <br><br><span class="hljs-comment"># å¤šçº§ç´¢å¼•é—®é¢˜ï¼ˆç´¢å¼•å¯ä»¥åœ¨è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨åˆ—ï¼‰</span><br>df.index.names=[<span class="hljs-string">&#x27;ç±»å‹&#x27;</span>,<span class="hljs-string">&#x27;ä¾›åº”å•†&#x27;</span>]  # å–åç§°<br>df.columns.names=[<span class="hljs-string">&#x27;ç±»å‹&#x27;</span>,<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>]  # å–åç§°<br>df1 = df.swaplevel(<span class="hljs-string">&#x27;ç±»å‹&#x27;</span>,<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>,<span class="hljs-attribute">axis</span>=1)  #è°ƒæ•´å¤šçº§ç´¢å¼•æ¬¡åº<br>df1 = df.sort_index(<span class="hljs-attribute">level</span>=0, <span class="hljs-attribute">axis</span>=1, <span class="hljs-attribute">ascending</span>=<span class="hljs-literal">True</span>,sort_remaining=False)   # sort_remaining é»˜è®¤æ˜¯<span class="hljs-literal">True</span><br>df1 = df.sum(<span class="hljs-attribute">axis</span>=1,level=&#x27;ç±»å‹&#x27;)  # é€šè¿‡ç´¢å¼•å¯¹å¤šåˆ—è¿›è¡Œæ±‚å’Œ<br></code></pre></td></tr></table></figure><h2 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h2><figure class="highlight stan"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs stan"><span class="hljs-comment">#è¡Œéå†</span><br><span class="hljs-keyword">for</span> index, <span class="hljs-built_in">row</span> <span class="hljs-keyword">in</span> df.iterrows():<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">row</span>.s0)<br><span class="hljs-comment">#è¡Œéå†</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">row</span> <span class="hljs-keyword">in</span> df.itertuples():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">row</span>.s0)<br><br><span class="hljs-comment">#åˆ—éå†</span><br><span class="hljs-keyword">for</span> index, <span class="hljs-built_in">row</span> <span class="hljs-keyword">in</span> df.iteritems():<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">row</span>[<span class="hljs-number">0</span>])<br><br></code></pre></td></tr></table></figure><h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># na_positionå¯¹NaNå€¼çš„å¤„ç†æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©firstå’Œlastä¸¤ç§æ–¹å¼</span><br>df.sort()   <br><span class="hljs-comment"># å•åˆ—æ’åº</span><br>df.sort([<span class="hljs-string">&quot;loan_amnt&quot;</span>],<span class="hljs-attribute">ascending</span>=<span class="hljs-literal">False</span>)  # é™åº<br><span class="hljs-comment"># å¤šåˆ—è¿›è¡Œæ’åº,åŠ å…¥ä¸€ä¸ªåˆ—è¡¨</span><br>df.sort([<span class="hljs-string">&quot;loan_amnt&quot;</span>,<span class="hljs-string">&quot;int_rate&quot;</span>],<span class="hljs-attribute">ascending</span>=<span class="hljs-literal">False</span>)<br><span class="hljs-comment"># å‡åºæ’åˆ—åé€‰æ‹©å‰10</span><br>df.sort([<span class="hljs-string">&quot;loan_amnt&quot;</span>],<span class="hljs-attribute">ascending</span>=<span class="hljs-literal">True</span>).head(10)<br><span class="hljs-comment"># è‡ªå®šä¹‰æ’åº</span><br>df.sort_values(by=[<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>,<span class="hljs-string">&#x27;ç±»å‹&#x27;</span>,<span class="hljs-string">&#x27;è·ç¦»&#x27;</span>],<span class="hljs-attribute">ascending</span>=<span class="hljs-literal">True</span>,inplace=True,na_position = <span class="hljs-string">&#x27;last&#x27;</span>)   <br><span class="hljs-comment"># ç´¢å¼•æ’åº</span><br>df.sort_index(<span class="hljs-attribute">inplace</span>=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h2 id="æ—¥æœŸ"><a href="#æ—¥æœŸ" class="headerlink" title="æ—¥æœŸ"></a>æ—¥æœŸ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®¾ç½®æˆæ—¥æœŸæ ¼å¼</span><br>df[<span class="hljs-string">&#x27;åˆ›å»ºæ—¥æœŸ&#x27;</span>] = pd.to_datetime(data_final[<span class="hljs-string">&#x27;åˆ›å»ºæ—¥æœŸ&#x27;</span>],<span class="hljs-built_in">format</span>=<span class="hljs-string">&#x27;%Y/%m/%d&#x27;</span>)<br><span class="hljs-comment"># è®¾ç½®ä¸ºæ—¥æœŸç´¢å¼•</span><br>df.set_index(<span class="hljs-string">&#x27;è®¢å•æäº¤æ—¶é—´&#x27;</span>,inplace=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># æ—¥æœŸç´¢å¼•æ’åº</span><br>df.sort_index(inplace=<span class="hljs-literal">True</span>,ascending=<span class="hljs-literal">False</span>)<br><span class="hljs-comment"># æ—¥æœŸç´¢å¼•çš„ç­›é€‰</span><br>df_2019 = df[<span class="hljs-string">&#x27;2019&#x27;</span>]  <span class="hljs-comment"># æ—¥æœŸç´¢å¼•å¯ä»¥ç›´æ¥è¿™æ ·ç­›é€‰  </span><br>df[<span class="hljs-string">&#x27;2019-01&#x27;</span>]  <span class="hljs-comment">#æŒ‰æœˆç­›é€‰</span><br>df[<span class="hljs-string">&#x27;2019-03-12&#x27;</span>:<span class="hljs-string">&#x27;2019-03-12&#x27;</span>] <span class="hljs-comment">#ç­›é€‰æŸä¸€å¤©æ•°æ®</span><br><br><span class="hljs-comment"># æ”¹å˜æ˜¾ç¤ºé¢‘ç‡ï¼ˆåªé’ˆå¯¹æ—¥æœŸç´¢å¼•ï¼‰</span><br>df = df.to_period(<span class="hljs-string">&#x27;M&#x27;</span>)  <span class="hljs-comment"># é’ˆå¯¹ç´¢å¼•ï¼Œå…³é”®æ­¥éª¤  Q å­£åº¦ Yå¹´ Då¤©</span><br><br><span class="hljs-comment"># è®¡ç®—æ—¶é—´é—´éš”</span><br>data[<span class="hljs-string">&#x27;é—´éš”å¤©æ•°&#x27;</span>] = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x.days, pd.to_datetime(<span class="hljs-string">&#x27;today&#x27;</span>) - data[<span class="hljs-string">&#x27;ç”Ÿäº§æ—¶é—´&#x27;</span>]))<br>df[<span class="hljs-string">&#x27;å¤©æ•°&#x27;</span>] = df[<span class="hljs-string">&#x27;å¤©æ•°&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: x.days)<br><br><span class="hljs-comment"># å•ç‹¬è¡¨ç¤ºé—´éš”å¤©æ•°</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> timedelta<br>aDay = timedelta(days=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># æ—¶é—´å¯¹è±¡æ ¼å¼åŒ–</span><br>df[<span class="hljs-string">&#x27;DATE&#x27;</span>] = [datetime.strftime(x,<span class="hljs-string">&#x27;%Y-%m-%d&#x27;</span>) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> df[<span class="hljs-string">&#x27;DATE&#x27;</span>]]<br><br><span class="hljs-comment"># æ—¶é—´åˆ†ç»„åè®¡ç®—</span><br>final = data.groupby(data[<span class="hljs-string">&#x27;è®¢å•æ—¶é—´&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: x.strftime(<span class="hljs-string">&#x27;%Y%m&#x27;</span>)))[<span class="hljs-string">&#x27;æ€»ä»·&#x27;</span>].<span class="hljs-built_in">sum</span>()/<span class="hljs-number">10000</span><br>data.groupby(data[<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: datetime.strftime(x,<span class="hljs-string">&#x27;%Y-%m-%d&#x27;</span>)))[<span class="hljs-string">&#x27;var&#x27;</span>].count()<br>data.set_index(<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>).groupby(<span class="hljs-string">&#x27;ä¾›åº”å•†&#x27;</span>)[<span class="hljs-string">&#x27;æ•°é‡&#x27;</span>].rolling(<span class="hljs-string">&#x27;7D&#x27;</span>).<span class="hljs-built_in">sum</span>().reset_index()<br>final1 = data.groupby([data.to_period(<span class="hljs-string">&#x27;Q&#x27;</span>).index,<span class="hljs-string">&#x27;var&#x27;</span>]).apply(<span class="hljs-keyword">lambda</span> g: np.average(g[<span class="hljs-string">&#x27;var2&#x27;</span>], weights=g[<span class="hljs-string">&#x27;æ¨¡æ¬¡&#x27;</span>])).reset_index()<br><br><span class="hljs-comment"># å½“å‰æ—¶é—´</span><br><span class="hljs-keyword">import</span> time<br>starttime = time.time()<br><br><span class="hljs-comment"># å½“å‰æ—¥æœŸ</span><br>tim = time.strftime(<span class="hljs-string">&quot;%Y-%m-%d%H%M%S&quot;</span>, time.localtime())<br><br><span class="hljs-comment"># pd.date_range  æ—¶é—´æˆ³  pd.period_range æ—¶é—´å‘¨æœŸ  pd.timedelta_range  æ—¶é—´é—´éš”</span><br>datelist = pd.date_range(<span class="hljs-string">&#x27;2020/11/21&#x27;</span>, periods=<span class="hljs-number">5</span>)<br>datelist = pd.date_range(<span class="hljs-string">&#x27;2020/11/21&#x27;</span>, periods=<span class="hljs-number">5</span>,freq=<span class="hljs-string">&#x27;M&#x27;</span>)<br><span class="hljs-comment"># ç”Ÿæˆçš„æ•°æ®æ˜¯æ¯æœˆæœˆåˆ</span><br>index= pd.date_range(<span class="hljs-string">&#x27;2019/02/01&#x27;</span>, periods=<span class="hljs-number">23</span>,freq=<span class="hljs-string">&#x27;MS&#x27;</span>)<br>pd.date_range(<span class="hljs-string">&#x27;2017-01-01 01:00:00&#x27;</span>, <span class="hljs-string">&#x27;2017-01-01 02:00:00&#x27;</span>, freq= <span class="hljs-string">&#x27;5min&#x27;</span>)<br><br><span class="hljs-comment"># å½“å‰æ—¥æœŸå‰3å¤©</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">import</span> time<br>lis = pd.date_range(end=<span class="hljs-string">&#x27;2021-4-21&#x27;</span>,periods=<span class="hljs-number">3</span>)<br>str_lis = [datetime.strftime(x,<span class="hljs-string">&#x27;%Y-%m-%d&#x27;</span>) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> lis]<br>lis = pd.date_range(end=time.strftime(<span class="hljs-string">&quot;%Y/%m/%d&quot;</span>),periods=<span class="hljs-number">3</span>)<br>str_lis = [datetime.strftime(x,<span class="hljs-string">&#x27;%Y-%m-%d&#x27;</span>) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> lis]<br></code></pre></td></tr></table></figure><h2 id="åˆ¤æ–­æ˜¯å¦ä¸ºå‡æœŸ"><a href="#åˆ¤æ–­æ˜¯å¦ä¸ºå‡æœŸ" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä¸ºå‡æœŸ"></a>åˆ¤æ–­æ˜¯å¦ä¸ºå‡æœŸ</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs clean"><span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">import</span> chinese_calendar<br>demo_time = datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>)<br># åˆ¤æ–­æ˜¯å¦æ˜¯èŠ‚å‡æ—¥<br>data_is_holiday = chinese_calendar.is_holiday(demo_time)  # <span class="hljs-literal">True</span><br># åˆ¤æ–­æŸæ—¥æ˜¯å¦å·¥ä½œæ—¥<br>data_is_workday = chinese_calendar.is_workday(demo_time)  # <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><h2 id="æ•°æ®åˆ†ç»„"><a href="#æ•°æ®åˆ†ç»„" class="headerlink" title="æ•°æ®åˆ†ç»„"></a>æ•°æ®åˆ†ç»„</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># æ–¹æ³•1</span><br>data[<span class="hljs-string">&#x27;for_m&#x27;</span>] = pd.cut(data[<span class="hljs-string">&#x27;fortune_x&#x27;</span>],[0,50,70,500],labels = [<span class="hljs-string">&#x27;è´¢ä½&#x27;</span>,<span class="hljs-string">&#x27;è´¢ä¸­&#x27;</span>,<span class="hljs-string">&#x27;è´¢é«˜&#x27;</span>])<br><span class="hljs-comment"># æ–¹æ³•2</span><br>df = pd.DataFrame(&#123;<span class="hljs-string">&#x27;value&#x27;</span>: np.random.randint(0, 100, 20)&#125;)<br>labels = [<span class="hljs-string">&quot;&#123;0&#125; - &#123;1&#125;&quot;</span>.format(i, i + 9) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(0, 100, 10)]<br>df[<span class="hljs-string">&#x27;group&#x27;</span>] = pd.cut(df.value, range(0, 105, 10), <span class="hljs-attribute">right</span>=<span class="hljs-literal">False</span>, <span class="hljs-attribute">labels</span>=labels)<br></code></pre></td></tr></table></figure><h2 id="å¤šè¡¨åˆå¹¶"><a href="#å¤šè¡¨åˆå¹¶" class="headerlink" title="å¤šè¡¨åˆå¹¶"></a>å¤šè¡¨åˆå¹¶</h2><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment"># é»˜è®¤çºµå‘è¿æ¥ï¼Œäº§ç”Ÿæ–°çš„åæ ‡è½´   </span><br>df = pd.concat([df1,df2],ignore_index=<span class="hljs-literal">True</span>)  <br><br><span class="hljs-comment"># merge åˆå¹¶</span><br>pd.merge(<span class="hljs-literal">left</span>,  <span class="hljs-literal">right</span>,  left_on=<span class="hljs-string">&quot;lkey&quot;</span>,  right_on=<span class="hljs-string">&quot;rkey&quot;</span>,suffixes=(<span class="hljs-string">&quot;_left&quot;</span>,  <span class="hljs-string">&quot;_right&quot;</span>))<br>pd.merge(df, df, left_on=[<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>], right_on=[<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>], suffixes=(<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>))<br><br><span class="hljs-comment"># append è¡¨å¤´ä¸€è‡´çš„å¤šå¼ è¡¨ï¼Œè¿›è¡Œè¿æ¥ï¼ˆä¸Šä¸‹è¿æ¥ï¼‰</span><br>df1.append(df2).append(df3)<br><br><span class="hljs-comment"># combine_first</span><br>æ•°æ®å¡«è¡¥.æœ‰ä¸¤å¼ è¡¨<span class="hljs-literal">left</span>å’Œ<span class="hljs-literal">right</span>ï¼Œä¸€èˆ¬è¦æ±‚å®ƒä»¬çš„è¡¨æ ¼ç»“æ„ä¸€è‡´ï¼Œæ•°æ®é‡ä¹Ÿä¸€è‡´ï¼Œä½¿ç”¨<span class="hljs-literal">right</span>çš„æ•°æ®å»å¡«è¡¥<span class="hljs-literal">left</span>çš„æ•°æ®ç¼ºæ¼, å¦‚æœåœ¨åŒä¸€ä½ç½®<span class="hljs-literal">left</span>ä¸<span class="hljs-literal">right</span>æ•°æ®ä¸ä¸€è‡´ï¼Œä¿ç•™<span class="hljs-literal">left</span>çš„æ•°æ®<br>df1.combine_first(df2)<br></code></pre></td></tr></table></figure><h2 id="å¸¸ç”¨å‡½æ•°"><a href="#å¸¸ç”¨å‡½æ•°" class="headerlink" title="å¸¸ç”¨å‡½æ•°"></a>å¸¸ç”¨å‡½æ•°</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">count</span><span class="hljs-params">()</span></span>éç©ºè§‚æµ‹æ•°é‡  <br><span class="hljs-function"><span class="hljs-title">sum</span><span class="hljs-params">()</span></span>æ‰€æœ‰å€¼ä¹‹å’Œ      <br><span class="hljs-function"><span class="hljs-title">mean</span><span class="hljs-params">()</span></span>æ‰€æœ‰å€¼çš„å¹³å‡å€¼   <br><span class="hljs-function"><span class="hljs-title">median</span><span class="hljs-params">()</span></span>æ‰€æœ‰å€¼çš„ä¸­ä½æ•°<br><span class="hljs-function"><span class="hljs-title">mode</span><span class="hljs-params">()</span></span>å€¼çš„æ¨¡å€¼       <br><span class="hljs-function"><span class="hljs-title">std</span><span class="hljs-params">()</span></span>å€¼çš„æ ‡å‡†åå·®    <br><span class="hljs-selector-tag">var</span>()æ–¹å·®             <br><span class="hljs-function"><span class="hljs-title">min</span><span class="hljs-params">()</span></span>æ‰€æœ‰å€¼ä¸­çš„æœ€å°å€¼  <br><span class="hljs-function"><span class="hljs-title">max</span><span class="hljs-params">()</span></span>æ‰€æœ‰å€¼ä¸­çš„æœ€å¤§å€¼ <br><span class="hljs-function"><span class="hljs-title">abs</span><span class="hljs-params">()</span></span>ç»å¯¹å€¼          <br><span class="hljs-function"><span class="hljs-title">prod</span><span class="hljs-params">()</span></span>æ•°ç»„å…ƒç´ çš„ä¹˜ç§¯  <br><span class="hljs-function"><span class="hljs-title">cumsum</span><span class="hljs-params">()</span></span>ç´¯è®¡æ€»å’Œ     <br><span class="hljs-function"><span class="hljs-title">cumprod</span><span class="hljs-params">()</span></span>ç´¯è®¡ä¹˜ç§¯     <br><span class="hljs-function"><span class="hljs-title">skew</span><span class="hljs-params">()</span></span>åæ–œ          <br><span class="hljs-function"><span class="hljs-title">kurt</span><span class="hljs-params">()</span></span>å³°åº¦           <br><span class="hljs-function"><span class="hljs-title">quantile</span><span class="hljs-params">()</span></span>åˆ†ä½æ•°<br><span class="hljs-function"><span class="hljs-title">apply</span><span class="hljs-params">()</span></span>é€šç”¨ç”³è¯·       <br><span class="hljs-function"><span class="hljs-title">cov</span><span class="hljs-params">()</span></span>åæ–¹å·®         <br><span class="hljs-function"><span class="hljs-title">corr</span><span class="hljs-params">()</span></span> ç›¸å…³ç³»æ•°<br></code></pre></td></tr></table></figure><h2 id="æè¿°æ€§ç»Ÿè®¡"><a href="#æè¿°æ€§ç»Ÿè®¡" class="headerlink" title="æè¿°æ€§ç»Ÿè®¡"></a>æè¿°æ€§ç»Ÿè®¡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">df.describe(include=[<span class="hljs-string">&#x27;object&#x27;</span>])    <span class="hljs-comment">#object - æ±‡æ€»å­—ç¬¦ä¸²åˆ—  number - æ±‡æ€»æ•°å­—åˆ— all - å°†æ‰€æœ‰åˆ—æ±‡æ€»åœ¨ä¸€èµ·(ä¸åº”å°†å…¶ä½œä¸ºåˆ—è¡¨å€¼ä¼ é€’)</span><br>df.describe().<span class="hljs-built_in">round</span>(<span class="hljs-number">2</span>)   <span class="hljs-comment"># åªä¿ç•™ä¸¤ä½å°æ•°</span><br>df.describe().<span class="hljs-built_in">round</span>(<span class="hljs-number">2</span>).T   <span class="hljs-comment">#åªä¿ç•™ä¸¤ä½å°æ•°å¹¶è½¬ç½®</span><br>df.groupby(<span class="hljs-string">&#x27;æ€§åˆ«&#x27;</span>).describe().unstack()<br>df.groupby(<span class="hljs-string">&#x27;æ€§åˆ«&#x27;</span>)[<span class="hljs-string">&#x27;èº«é«˜&#x27;</span>].describe().unstack()<br>df.<span class="hljs-built_in">round</span>(<span class="hljs-number">3</span>)  <span class="hljs-comment"># æ•°æ®å¯ä»¥å–æ¶ˆç§‘å­¦è®¡æ•°æ³•ï¼Ÿ</span><br>df = df.<span class="hljs-built_in">round</span>(<span class="hljs-number">0</span>)   <span class="hljs-comment"># éƒ½æ”¹ä¸ºæ•´æ•°</span><br><span class="hljs-comment"># ä¿ç•™2ä½å°æ•°</span><br>df[<span class="hljs-string">&#x27;a&#x27;</span>]=df[<span class="hljs-string">&#x27;mean&#x27;</span>].<span class="hljs-built_in">round</span>(decimals=<span class="hljs-number">2</span>) <br>df[<span class="hljs-string">&#x27;b&#x27;</span>]=df[<span class="hljs-string">&#x27;mean&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x:(<span class="hljs-string">&quot;%.2f&quot;</span>)%x) <br>df[<span class="hljs-string">&#x27;c&#x27;</span>]=df[<span class="hljs-string">&#x27;mean&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x:<span class="hljs-built_in">format</span>(x,<span class="hljs-string">&quot;.2%&quot;</span>))<br>description = [data.<span class="hljs-built_in">min</span>(), data.<span class="hljs-built_in">max</span>(), data.mean(), data.std()]  <span class="hljs-comment"># ä¾æ¬¡è®¡ç®—æœ€å°å€¼ã€æœ€å¤§å€¼ã€å‡å€¼ã€æ ‡å‡†å·®</span><br>description = pd.DataFrame(description, index = [<span class="hljs-string">&#x27;Min&#x27;</span>, <span class="hljs-string">&#x27;Max&#x27;</span>, <span class="hljs-string">&#x27;Mean&#x27;</span>, <span class="hljs-string">&#x27;STD&#x27;</span>]).T  <span class="hljs-comment"># å°†ç»“æœå­˜å…¥æ•°æ®æ¡†</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æè¿°æ€§ç»Ÿè®¡ç»“æœï¼š\n&#x27;</span>,np.<span class="hljs-built_in">round</span>(description, <span class="hljs-number">2</span>))<br></code></pre></td></tr></table></figure><h2 id="æ•°æ®é¢„è§ˆ"><a href="#æ•°æ®é¢„è§ˆ" class="headerlink" title="æ•°æ®é¢„è§ˆ"></a>æ•°æ®é¢„è§ˆ</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"># åœ¨cmdä¸­å®‰è£…<br>pip install pandas-profiling   <br>import  pandas_profiling<br>pro = pandas_profiling.<span class="hljs-constructor">ProfileReport(<span class="hljs-params">data1</span>)</span><br>pro.<span class="hljs-keyword">to</span><span class="hljs-constructor">_file(&#x27;<span class="hljs-params">output_file</span>.<span class="hljs-params">html</span>&#x27;)</span><br></code></pre></td></tr></table></figure><h2 id="å˜åŒ–ç™¾åˆ†æ¯”"><a href="#å˜åŒ–ç™¾åˆ†æ¯”" class="headerlink" title="å˜åŒ–ç™¾åˆ†æ¯”"></a>å˜åŒ–ç™¾åˆ†æ¯”</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta"># å…ƒç´ å˜åŒ–ç™¾åˆ†æ¯” æ¯ä¸ªå…ƒç´ ä¸å…¶å‰ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è®¡ç®—å˜åŒ–ç™¾åˆ†æ¯”</span><br>df.pct_change() <br></code></pre></td></tr></table></figure><h2 id="åæ–¹å·®"><a href="#åæ–¹å·®" class="headerlink" title="åæ–¹å·®"></a>åæ–¹å·®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># åæ–¹å·®ï¼Œcovç”¨æ¥è®¡ç®—åºåˆ—å¯¹è±¡ä¹‹é—´çš„åæ–¹å·®</span><br>s1.cov(s2)<br><span class="hljs-built_in">df</span>[<span class="hljs-string">&#x27;a&#x27;</span>].cov(<span class="hljs-built_in">df</span>[<span class="hljs-string">&#x27;b&#x27;</span>])<br></code></pre></td></tr></table></figure><h2 id="ç›¸å…³æ€§"><a href="#ç›¸å…³æ€§" class="headerlink" title="ç›¸å…³æ€§"></a>ç›¸å…³æ€§</h2><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs oxygene"># ç›¸å…³æ€§ï¼Œpearson(é»˜è®¤)ï¼Œspearmanå’Œkendallä¹‹é—´çš„ç›¸å…³æ€§<br>df[<span class="hljs-string">&#x27;a&#x27;</span>].corr(df[<span class="hljs-string">&#x27;b&#x27;</span>]ï¼Œ<span class="hljs-keyword">method</span> =&#x27;<span class="hljs-title function_">spearman</span>&#x27;)<br><span class="hljs-title function_">print</span> <span class="hljs-params">(frame.corr()</span>)<br></code></pre></td></tr></table></figure><h2 id="æ’å"><a href="#æ’å" class="headerlink" title="æ’å"></a>æ’å</h2><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs oxygene">s.rank() æˆ–è€… df.rank()  <br># ï¼ˆaxis=<span class="hljs-number">0</span>ï¼‰æˆ–åˆ—ï¼ˆaxis=<span class="hljs-number">1</span>ï¼‰  <br>#  ascending=<span class="hljs-keyword">True</span> æ­£å‘æ’åæˆ–è€…åå‘æ’å<br>#  <span class="hljs-keyword">method</span> ï¼ˆ<span class="hljs-title function_">average</span> ï¼šå¹¶åˆ—ç»„å¹³å‡æ’åï¼Œ<span class="hljs-title function_">min</span> ï¼šç»„ä¸­æœ€ä½æ’åï¼Œ<span class="hljs-title function_">max</span> ï¼šç»„ä¸­æœ€é«˜ç­‰çº§ï¼Œ<span class="hljs-title function_">first</span> ï¼šæŒ‰åœ¨æ•°ç»„ä¸­å‡ºç°çš„é¡ºåºåˆ†é…ç­‰çº§ï¼‰<br></code></pre></td></tr></table></figure><h2 id="åˆ†ç»„è®¡ç®—"><a href="#åˆ†ç»„è®¡ç®—" class="headerlink" title="åˆ†ç»„è®¡ç®—"></a>åˆ†ç»„è®¡ç®—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¤šç»„è¿ç®—</span><br>df.groupby([<span class="hljs-string">&#x27;ç­çº§&#x27;</span>,<span class="hljs-string">&#x27;æ€§åˆ«&#x27;</span>])[<span class="hljs-string">&#x27;èº«é«˜&#x27;</span>].agg([np.<span class="hljs-built_in">sum</span>,np.mean,np.std])<br>df.groupby([<span class="hljs-string">&#x27;ç­çº§&#x27;</span>,<span class="hljs-string">&#x27;æ€§åˆ«&#x27;</span>]).agg(&#123;<span class="hljs-string">&#x27;èº«é«˜&#x27;</span>:[<span class="hljs-string">&#x27;min&#x27;</span>],<span class="hljs-string">&#x27;ä½“é‡&#x27;</span>:[<span class="hljs-string">&#x27;max&#x27;</span>]&#125;)<br>df.groupby(<span class="hljs-string">&#x27;flee&#x27;</span>).agg(&#123;<span class="hljs-string">&#x27;èº«é«˜&#x27;</span>: [np.median, np.mean], <span class="hljs-string">&#x27;signs&#x27;</span>: np.mean&#125;)<br>df.agg(&#123;<span class="hljs-string">&#x27;A&#x27;</span>:np.<span class="hljs-built_in">sum</span>,<span class="hljs-string">&#x27;B&#x27;</span>:np.mean&#125;)  <span class="hljs-comment"># å¯¹ä¸åŒåˆ—è¿›è¡Œä¸åŒçš„è®¡ç®—</span><br>df[[<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>]].agg([np.<span class="hljs-built_in">sum</span>,np.mean,np.<span class="hljs-built_in">min</span>])  <span class="hljs-comment"># å¯¹å¤šä¸ªå˜é‡è¿›è¡Œå¤šç§è®¡ç®—</span><br><br><span class="hljs-comment"># æ—¶é—´åˆ†ç»„ ï¼Œå…ˆç”¨pd.to_datetime(å­—æ®µ,æ ¼å¼)å°†æŸä¸€åˆ—è½¬æˆæ—¥æœŸæ ¼å¼</span><br>df.groupby(df[<span class="hljs-string">&#x27;ç”Ÿæ—¥&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x:x.year)).count()<br><span class="hljs-comment"># åˆ†ç»„åé€‰ç¬¬ä¸€ä¸ª,ä¸€èˆ¬æ•°æ®å…ˆæ’åº</span><br>df.groupby(df[<span class="hljs-string">&#x27;ç”Ÿæ—¥&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x:x.year),as_index=<span class="hljs-literal">False</span>).first()       <span class="hljs-comment"># Tail(n=1) head()</span><br><span class="hljs-comment"># æ‰¾åˆ°æ¯ç»„ä¸­åªæœ‰ä¸€ä¸ªæ•°æ®çš„</span><br>df.groupby(df[<span class="hljs-string">&#x27;ç”Ÿæ—¥&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x:x.month),as_index=<span class="hljs-literal">False</span>).<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">len</span>(x)==<span class="hljs-number">1</span>)<br>data2.groupby(<span class="hljs-string">&#x27;var&#x27;</span>).<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x:<span class="hljs-built_in">len</span>(x)&gt;=<span class="hljs-number">10</span>)<br>data.groupby(data.index.year)[<span class="hljs-string">&#x27;å¹´é¾„&#x27;</span>].mean()<br><br><span class="hljs-comment"># åŠ æƒå¹³å‡</span><br>final3_1 = data_jiep.groupby([<span class="hljs-string">&#x27;äº§ä¸šçº¿&#x27;</span>,<span class="hljs-string">&#x27;æ¨¡å·&#x27;</span>]).apply(<span class="hljs-keyword">lambda</span> g: np.average(g[<span class="hljs-string">&#x27;å¹³å‡èŠ‚æ‹&#x27;</span>], weights=g[<span class="hljs-string">&#x27;æ¨¡æ¬¡&#x27;</span>])).reset_index()<br><br><span class="hljs-comment"># groupbyä½œå›¾</span><br>data.groupby(<span class="hljs-string">&#x27;race&#x27;</span>)[<span class="hljs-string">&#x27;flee&#x27;</span>].value_counts().unstack().plot(kind=<span class="hljs-string">&#x27;bar&#x27;</span>, figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">4</span>))<br>data.groupby(<span class="hljs-string">&#x27;flee&#x27;</span>)[<span class="hljs-string">&#x27;age&#x27;</span>].plot(kind=<span class="hljs-string">&#x27;kde&#x27;</span>, legend=<span class="hljs-literal">True</span>, figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">5</span>))<br><br><span class="hljs-comment"># groupbyä¸­çš„å‡ ä¸ªå‡½æ•°</span><br><span class="hljs-comment"># ç´¯è®¡  </span><br>df.groupby(<span class="hljs-string">&#x27;key&#x27;</span>).aggregate(<span class="hljs-string">&#x27;min&#x27;</span>, np.median, <span class="hljs-built_in">max</span>)<br><span class="hljs-comment"># è¿‡æ»¤   </span><br>df.groupby(<span class="hljs-string">&#x27;key&#x27;</span>).<span class="hljs-built_in">filter</span>(æŸä¸ªå‡½æ•°)<br><span class="hljs-comment"># è½¬æ¢    </span><br>df.groupby(<span class="hljs-string">&#x27;key&#x27;</span>).transform(<span class="hljs-keyword">lambda</span> x: x- x.mean())<br><br><span class="hljs-comment">#é€šè¿‡æŸä¸€ä¸ªå­—æ®µåˆ†ç»„åï¼Œé€‰å¦ä¸€ä¸ªå­—æ®µçš„æœ€å°å€¼ï¼Œæ„æˆçš„æ•°æ®</span><br>df = pd.DataFrame(&#123;<span class="hljs-string">&#x27;AAA&#x27;</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>],<span class="hljs-string">&#x27;BBB&#x27;</span>: [<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]&#125;)<br>df.loc[df.groupby(<span class="hljs-string">&quot;AAA&quot;</span>)[<span class="hljs-string">&quot;BBB&quot;</span>].idxmin()]<br><span class="hljs-comment"># æŒ‰ç…§ä¸€ä¸ªå­—æ®µæ’åºï¼Œå¦ä¸€ä¸ªå­—æ®µåˆ†ç»„ï¼Œé€‰å–ç¬¬ä¸€ä¸ª</span><br>df.sort_values(by=<span class="hljs-string">&quot;BBB&quot;</span>).groupby(<span class="hljs-string">&quot;AAA&quot;</span>, as_index=<span class="hljs-literal">False</span>).first()  <span class="hljs-comment">#é‡æ–°è®¾ç½®ç´¢å¼•</span><br><br><span class="hljs-comment"># transformåæ•°æ®å¤§å°ä¸å˜</span><br>df[<span class="hljs-string">&quot;Order_Total&quot;</span>] = df.groupby(<span class="hljs-string">&#x27;order&#x27;</span>)[<span class="hljs-string">&quot;ext price&quot;</span>].transform(<span class="hljs-string">&#x27;sum&#x27;</span>)<br><br>result0 = data1.to_period(<span class="hljs-string">&#x27;Q&#x27;</span>).groupby(level=<span class="hljs-number">0</span>).apply(<span class="hljs-keyword">lambda</span> x :<span class="hljs-built_in">len</span>(x[<span class="hljs-string">&#x27;var&#x27;</span>].unique().tolist()))<br></code></pre></td></tr></table></figure><h2 id="äº¤å‰è¡¨"><a href="#äº¤å‰è¡¨" class="headerlink" title="äº¤å‰è¡¨"></a>äº¤å‰è¡¨</h2><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">result1</span> = pd.crosstab(data.index,data[<span class="hljs-string">&#x27;äº§ä¸šçº¿&#x27;</span>],margins=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h2 id="æ•°æ®é€è§†è¡¨"><a href="#æ•°æ®é€è§†è¡¨" class="headerlink" title="æ•°æ®é€è§†è¡¨"></a>æ•°æ®é€è§†è¡¨</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">df.pivot_table(<span class="hljs-string">&#x27;ä»·æ ¼&#x27;</span>,<span class="hljs-keyword">index</span>=<span class="hljs-string">&#x27;äº§åœ°&#x27;</span>,<span class="hljs-keyword">columns</span>=<span class="hljs-string">&#x27;ç±»åˆ«&#x27;</span>,aggfunc=<span class="hljs-string">&#x27;max&#x27;</span>,margins=<span class="hljs-keyword">True</span>,fill_value=<span class="hljs-number">0</span>,margins_name=<span class="hljs-string">&#x27;åˆè®¡&#x27;</span>)<br><br># ç”¨å­—å…¸å½¢å¼ï¼Œå¯ä¸ç”¨<span class="hljs-keyword">values</span>å‚æ•°<br>df.pivot_table(<span class="hljs-keyword">index</span>=<span class="hljs-string">&#x27;sex&#x27;</span>, <span class="hljs-keyword">columns</span>=<span class="hljs-string">&#x27;class&#x27;</span>, aggfunc=&#123;<span class="hljs-string">&#x27;surviced&#x27;</span>:<span class="hljs-string">&#x27;sum&#x27;</span>, <span class="hljs-string">&#x27;fare&#x27;</span>:<span class="hljs-string">&#x27;mean&#x27;</span>&#125;)<br><br>result  = data.pivot_table(<span class="hljs-keyword">index</span>=data3.to_period(<span class="hljs-string">&#x27;M&#x27;</span>).<span class="hljs-keyword">index</span>,<span class="hljs-keyword">columns</span>= <span class="hljs-string">&#x27;æ˜¯å¦å¼‚å¸¸&#x27;</span>,<span class="hljs-keyword">values</span>=<span class="hljs-string">&#x27;æ¨¡å·&#x27;</span>, aggfunc=<span class="hljs-string">&#x27;count&#x27;</span>)<br><br>result1 = data.pivot_table(<span class="hljs-keyword">index</span>= <span class="hljs-string">&#x27;var1&#x27;</span>,<span class="hljs-keyword">columns</span>=data[<span class="hljs-string">&#x27;var3&#x27;</span>].apply(lambda x: x.strftime(<span class="hljs-string">&#x27;%Y&#x27;</span>)),<br>                      aggfunc=<span class="hljs-string">&#x27;count&#x27;</span>,<span class="hljs-keyword">values</span>=<span class="hljs-string">&#x27;var2&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="çª—å£å‡½æ•°"><a href="#çª—å£å‡½æ•°" class="headerlink" title="çª—å£å‡½æ•°"></a>çª—å£å‡½æ•°</h2><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sas">#ç´¢å¼•éœ€è¦ä¸ºæ—¥æœŸ å¯¹äºæ˜ç»†æ•°æ®ï¼Œè®¡ç®—å›ºå®šå¤§å°åŒºåŸŸçš„æŒ‡æ ‡<br>s = pd.Series(np.random.rand<span class="hljs-meta">n</span>(1000),<span class="hljs-keyword">index</span>=pd.date_<span class="hljs-meta">range</span>(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=1000))<br>s = s.cum<span class="hljs-meta">sum</span>()<br>r = s.rolling(<span class="hljs-keyword">window</span>=60)   <br># <span class="hljs-keyword">window</span>ï¼šç§»åŠ¨çª—å£çš„å¤§å°<br># min_periodsï¼šéœ€è¦çš„éç©ºæ•°æ®ç‚¹çš„é˜ˆå€¼ï¼ˆå¦åˆ™ç»“æœä¸ºNAï¼‰<br># centerï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦å°†æ ‡ç­¾è®¾ç½®åœ¨ä¸­é—´ï¼ˆé»˜è®¤ä¸ºFalseï¼‰<br><br>df[<span class="hljs-string">&#x27;æ•°é‡_re&#x27;</span>] = df[<span class="hljs-string">&#x27;æ•°é‡&#x27;</span>].rolling(<span class="hljs-string">&#x27;7D&#x27;</span>).<span class="hljs-meta">sum</span>()<br><br>data1 = data.set_<span class="hljs-meta">index</span>(<span class="hljs-string">&#x27;å…¥åº“æ—¥æœŸ&#x27;</span>).groupby(<span class="hljs-string">&#x27;ä¾›åº”å•†&#x27;</span>)[<span class="hljs-string">&#x27;å…¥åº“é‡&#x27;</span>].rolling(<span class="hljs-string">&#x27;7D&#x27;</span>).<span class="hljs-meta">sum</span>().reset_<span class="hljs-meta">index</span>()<br></code></pre></td></tr></table></figure><h2 id="æ ‡å‡†åŒ–"><a href="#æ ‡å‡†åŒ–" class="headerlink" title="æ ‡å‡†åŒ–"></a>æ ‡å‡†åŒ–</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs prolog"># å½“è¶Šå°è¶Šå¥½æ—¶<br>df[<span class="hljs-string">&#x27;var_nor&#x27;</span>] = (df[<span class="hljs-string">&#x27;var&#x27;</span>].max() - df[<span class="hljs-string">&#x27;var&#x27;</span>]) / (df[<span class="hljs-string">&#x27;var&#x27;</span>].max() - df[<span class="hljs-string">&#x27;var&#x27;</span>].min())<br># å½“è¶Šå¤§è¶Šå¥½æ—¶<br>df[<span class="hljs-string">&#x27;var_nor&#x27;</span>] = (df[<span class="hljs-string">&#x27;var&#x27;</span>] - df[<span class="hljs-string">&#x27;var&#x27;</span>].min()) / (df[<span class="hljs-string">&#x27;var&#x27;</span>].max() - df[<span class="hljs-string">&#x27;var&#x27;</span>].min())<br># å½“ä¸­å€¼ä¸ºå¥½æ˜¯<br>df[<span class="hljs-string">&#x27;var&#x27;</span>] = np.abs(df[<span class="hljs-string">&#x27;var&#x27;</span>]-æ ‡å‡†å€¼)<br>df[<span class="hljs-string">&#x27;var_nor&#x27;</span>] = (df[<span class="hljs-string">&#x27;var&#x27;</span>].max() - df[<span class="hljs-string">&#x27;var&#x27;</span>]) / (df[<span class="hljs-string">&#x27;var&#x27;</span>].max() - df[<span class="hljs-string">&#x27;var&#x27;</span>].min())<br><br># å¯ä»¥å†™æˆé€šç”¨å‡½æ•°<br>def f2(data,col):<br>    col_name = col + <span class="hljs-string">&#x27;_nor&#x27;</span><br>    data_gp = data.groupby(<span class="hljs-string">&#x27;ç±»åˆ«&#x27;</span>).mean()<br>    data_gp[col_name] = (data_gp[col] - data_gp[col].min() ) / (data_gp[col].max() - data_gp[col].min() )<br>    return data_gp<br></code></pre></td></tr></table></figure><h2 id="å»æ‰å¼‚å¸¸å€¼"><a href="#å»æ‰å¼‚å¸¸å€¼" class="headerlink" title="å»æ‰å¼‚å¸¸å€¼"></a>å»æ‰å¼‚å¸¸å€¼</h2><figure class="highlight stan"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stan">def f2(<span class="hljs-title">data</span>,<span class="hljs-built_in">col</span>):<br>    q1 = <span class="hljs-title">data</span>[<span class="hljs-built_in">col</span>].<span class="hljs-built_in">quantile</span>(q=<span class="hljs-number">0.25</span>)     <br>    q3 = <span class="hljs-title">data</span>[<span class="hljs-built_in">col</span>].<span class="hljs-built_in">quantile</span>(q=<span class="hljs-number">0.75</span>)<br>    iqr = q3 - q1<br>    t1 = q1 - <span class="hljs-number">3</span>*iqr<br>    t2 = q3 + <span class="hljs-number">3</span>*iqr<br>    <span class="hljs-keyword">return</span> <span class="hljs-title">data</span>[(<span class="hljs-title">data</span>[<span class="hljs-built_in">col</span>]&gt;t1)&amp;(<span class="hljs-title">data</span>[<span class="hljs-built_in">col</span>]&lt;t2)][[&#x27;ç±»åˆ«&#x27;,<span class="hljs-built_in">col</span>]]<br></code></pre></td></tr></table></figure><h2 id="æ­£å¤ªåˆ†å¸ƒå’ŒæŒ‡æ•°åˆ†å¸ƒæ•°æ®"><a href="#æ­£å¤ªåˆ†å¸ƒå’ŒæŒ‡æ•°åˆ†å¸ƒæ•°æ®" class="headerlink" title="æ­£å¤ªåˆ†å¸ƒå’ŒæŒ‡æ•°åˆ†å¸ƒæ•°æ®"></a>æ­£å¤ªåˆ†å¸ƒå’ŒæŒ‡æ•°åˆ†å¸ƒæ•°æ®</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">data_norm = pd.<span class="hljs-constructor">DataFrame(&#123;&#x27;æ­£å¤ªåˆ†å¸ƒ&#x27;:<span class="hljs-params">np</span>.<span class="hljs-params">random</span>.<span class="hljs-params">normal</span>(<span class="hljs-params">loc</span>=60,<span class="hljs-params">scale</span>=15,<span class="hljs-params">size</span>=10000)</span>&#125;)<br>data_exp = pd.<span class="hljs-constructor">DataFrame(&#123;&#x27;æŒ‡æ•°åˆ†å¸ƒ&#x27;:<span class="hljs-params">np</span>.<span class="hljs-params">random</span>.<span class="hljs-params">exponential</span>(<span class="hljs-params">scale</span>=15,<span class="hljs-params">size</span>=10000)</span>+<span class="hljs-number">45</span>&#125;)<br></code></pre></td></tr></table></figure><h2 id="éšæœºé€‰æ‹©"><a href="#éšæœºé€‰æ‹©" class="headerlink" title="éšæœºé€‰æ‹©"></a>éšæœºé€‰æ‹©</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">df<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;strategy&#x27;</span>]</span> = np<span class="hljs-selector-class">.random</span><span class="hljs-selector-class">.choice</span>(<span class="hljs-selector-attr">[1,2,3]</span>,<span class="hljs-number">99</span>)<br></code></pre></td></tr></table></figure><h2 id="è¡Œåˆ—æ±‚å’Œ"><a href="#è¡Œåˆ—æ±‚å’Œ" class="headerlink" title="è¡Œåˆ—æ±‚å’Œ"></a>è¡Œåˆ—æ±‚å’Œ</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># å¢åŠ åˆ—åˆè®¡</span><br>df[<span class="hljs-string">&#x27;åˆè®¡&#x27;</span>]  = df.sum(<span class="hljs-attribute">axis</span>=1)<br><span class="hljs-comment"># å¢åŠ è¡Œåˆè®¡</span><br>df.loc[<span class="hljs-string">&#x27;åˆè®¡&#x27;</span>]  = df.sum(<span class="hljs-attribute">axis</span>=0)<br></code></pre></td></tr></table></figure><h2 id="æ•°æ®å¹³ç§»"><a href="#æ•°æ®å¹³ç§»" class="headerlink" title="æ•°æ®å¹³ç§»"></a>æ•°æ®å¹³ç§»</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">data<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;ç»åº¦_å‰1å¤©&#x27;</span>]</span> = data<span class="hljs-selector-class">.groupby</span>(<span class="hljs-string">&#x27;var&#x27;</span>)<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;ç»åº¦&#x27;</span>]</span><span class="hljs-selector-class">.shift</span>(<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h2 id="å®½è¡¨è½¬çª„è¡¨"><a href="#å®½è¡¨è½¬çª„è¡¨" class="headerlink" title="å®½è¡¨è½¬çª„è¡¨"></a>å®½è¡¨è½¬çª„è¡¨</h2><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs subunit"><span class="hljs-keyword">test </span>= pd.DataFrame(fake_data, columns=[&#x27;subject&#x27;, &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;])<br><span class="hljs-keyword">test</span><br><span class="hljs-keyword">    </span>subject    A    B    C<br>0    math      88   70   60<br>1    english   90   80   78<br><br># è½¬æ¢ä¸ºçª„è¡¨<br>pd.melt(test, id_vars=[&#x27;subject&#x27;])<br>data3 = pd.melt(data2, id_vars=[&#x27;var1&#x27;,&#x27;var2&#x27;])<br>     subject    variable    value<br>0    math       A           88<br>1    english    A           90<br>2    math       B           70<br>3    english    B           80<br>4    math       C           60<br>5    english    C           78<br></code></pre></td></tr></table></figure><h2 id="äºŒç»´è¡¨"><a href="#äºŒç»´è¡¨" class="headerlink" title="äºŒç»´è¡¨"></a>äºŒç»´è¡¨</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">df.<span class="hljs-keyword">to</span><span class="hljs-constructor">_numpy()</span><br></code></pre></td></tr></table></figure><h2 id="æ”¹å­—å…¸åˆ—è¡¨"><a href="#æ”¹å­—å…¸åˆ—è¡¨" class="headerlink" title="æ”¹å­—å…¸åˆ—è¡¨"></a>æ”¹å­—å…¸åˆ—è¡¨</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-title">datajs</span> = <span class="hljs-class"><span class="hljs-keyword">data</span>.to_json(<span class="hljs-title">orient</span>=&#x27;<span class="hljs-title">records&#x27;</span>,<span class="hljs-title">force_ascii</span>=<span class="hljs-type">False</span>)</span><br><span class="hljs-meta"># åç§°ï¼Œç»åº¦ï¼Œç»´åº¦ï¼Œæ•°å€¼</span><br>[&#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;è™¹æ¡¥ç«è½¦ç«™&quot;</span>,<span class="hljs-string">&quot;lng&quot;</span>:<span class="hljs-number">121.327908</span>,<span class="hljs-string">&quot;lat&quot;</span>:<span class="hljs-number">31.20033</span>,<span class="hljs-string">&quot;value&quot;</span>:<span class="hljs-number">3.5225437574</span>&#125;,&#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;ä¸Šæµ·ç«è½¦ç«™&quot;</span>,<span class="hljs-string">&quot;lng&quot;</span>:<span class="hljs-number">121.46396</span>,<span class="hljs-string">&quot;lat&quot;</span>:<span class="hljs-number">31.255155</span>,<span class="hljs-string">&quot;value&quot;</span>:<span class="hljs-number">7.0937954904</span>&#125;]<br></code></pre></td></tr></table></figure><h2 id="è½¬å­—å…¸åˆ—è¡¨"><a href="#è½¬å­—å…¸åˆ—è¡¨" class="headerlink" title="è½¬å­—å…¸åˆ—è¡¨"></a>è½¬å­—å…¸åˆ—è¡¨</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-title">datajs</span> = <span class="hljs-class"><span class="hljs-keyword">data</span>.to_json(<span class="hljs-title">orient</span>=&#x27;<span class="hljs-title">records&#x27;</span>,<span class="hljs-title">force_ascii</span>=<span class="hljs-type">False</span>)</span><br><span class="hljs-meta"># åç§°ï¼Œç»åº¦ï¼Œç»´åº¦ï¼Œæ•°å€¼</span><br>[&#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;è™¹æ¡¥ç«è½¦ç«™&quot;</span>,<span class="hljs-string">&quot;lng&quot;</span>:<span class="hljs-number">121.327908</span>,<span class="hljs-string">&quot;lat&quot;</span>:<span class="hljs-number">31.20033</span>,<span class="hljs-string">&quot;value&quot;</span>:<span class="hljs-number">3.5225437574</span>&#125;,&#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;ä¸Šæµ·ç«è½¦ç«™&quot;</span>,<span class="hljs-string">&quot;lng&quot;</span>:<span class="hljs-number">121.46396</span>,<span class="hljs-string">&quot;lat&quot;</span>:<span class="hljs-number">31.255155</span>,<span class="hljs-string">&quot;value&quot;</span>:<span class="hljs-number">7.0937954904</span>&#125;]<br></code></pre></td></tr></table></figure><h2 id="ä¸¤åˆ—è¾ƒå¤§å€¼"><a href="#ä¸¤åˆ—è¾ƒå¤§å€¼" class="headerlink" title="ä¸¤åˆ—è¾ƒå¤§å€¼"></a>ä¸¤åˆ—è¾ƒå¤§å€¼</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lua">df[<span class="hljs-string">&#x27;z&#x27;</span>]=df<span class="hljs-string">[[&#x27;x&#x27;,&#x27;y&#x27;]]</span>.<span class="hljs-built_in">max</span>(axis=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pandas Notes</title>
    <link href="/2022/08/01/Python/PandasNote/"/>
    <url>/2022/08/01/Python/PandasNote/</url>
    
    <content type="html"><![CDATA[<h1 id="pandaså¸¸ç”¨é€ŸæŸ¥"><a href="#pandaså¸¸ç”¨é€ŸæŸ¥" class="headerlink" title="pandaså¸¸ç”¨é€ŸæŸ¥"></a>pandaså¸¸ç”¨é€ŸæŸ¥</h1><h3 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯¼å…¥æ¨¡å—</span><br><span class="hljs-keyword">import</span> pymysql<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-comment"># æ•°æ®åº“</span><br><span class="hljs-keyword">from</span> sqlalchemy <span class="hljs-keyword">import</span> create_engine<br><br><span class="hljs-comment"># å¯è§†åŒ–</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-comment"># å¦‚æœä½ çš„è®¾å¤‡æ˜¯é…å¤‡Retinaå±å¹•çš„macï¼Œå¯ä»¥åœ¨jupyter notebookä¸­ï¼Œä½¿ç”¨ä¸‹é¢ä¸€è¡Œä»£ç æœ‰æ•ˆæé«˜å›¾åƒç”»è´¨</span><br>%config InlineBackend.figure_format = <span class="hljs-string">&#x27;retina&#x27;</span><br><span class="hljs-comment"># è§£å†³ plt ä¸­æ–‡æ˜¾ç¤ºçš„é—®é¢˜ mymac</span><br>plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>] = [<span class="hljs-string">&#x27;Arial Unicode MS&#x27;</span>]<br><span class="hljs-comment"># è®¾ç½®æ˜¾ç¤ºä¸­æ–‡ éœ€è¦å…ˆå®‰è£…å­—ä½“ aistudio</span><br>plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>] = [<span class="hljs-string">&#x27;SimHei&#x27;</span>] <span class="hljs-comment"># æŒ‡å®šé»˜è®¤å­—ä½“</span><br>plt.rcParams[<span class="hljs-string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="hljs-literal">False</span>  <span class="hljs-comment"># ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-comment"># notebookæ¸²æŸ“å›¾ç‰‡</span><br>%matplotlib inline<br><span class="hljs-keyword">import</span> pyecharts<br><br><span class="hljs-comment"># å¿½ç•¥ç‰ˆæœ¬é—®é¢˜</span><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>)  <br><span class="hljs-comment"># ä¸‹è½½ä¸­æ–‡å­—ä½“</span><br>!wget https://mydueros.cdn.bcebos.com/font/simhei.ttf <br><span class="hljs-comment"># å°†å­—ä½“æ–‡ä»¶å¤åˆ¶åˆ° matplotlib&#x27;å­—ä½“è·¯å¾„</span><br>!cp simhei.ttf /opt/conda/envs/python35-paddle120-env/Lib/python3,<span class="hljs-number">7</span>/site-packages/matplotib/mpl-data/fonts.<br><br><span class="hljs-comment"># ä¸€èˆ¬åªéœ€è¦å°†å­—ä½“æ–‡ä»¶å¤åˆ¶åˆ°ç³»ç»Ÿå­—ä½“ç”°å½•ä¸‹å³å¯,ä½†æ˜¯åœ¨ studioä¸Šè¯¥è·¯å¾„æ²¡æœ‰å†™æƒé™,æ‰€ä»¥æ­¤æ–¹æ³•ä¸èƒ½ç”¨ </span><br><span class="hljs-comment"># !cp simhei. ttf /usr/share/fonts/</span><br><br><span class="hljs-comment"># åˆ›å»ºç³»ç»Ÿå­—ä½“æ–‡ä»¶è·¯å¾„</span><br>!mkdir .fonts<br><span class="hljs-comment"># å¤åˆ¶æ–‡ä»¶åˆ°è¯¥è·¯å¾„</span><br>!cp simhei.ttf .fonts/<br>!rm -rf .cache/matplotlib<br></code></pre></td></tr></table></figure><p><img src="F:\notes\éšç¬”\src\640-1640748153093.webp" alt="å›¾ç‰‡"></p><h3 id="ç®—æ³•ç›¸å…³ä¾èµ–"><a href="#ç®—æ³•ç›¸å…³ä¾èµ–" class="headerlink" title="ç®—æ³•ç›¸å…³ä¾èµ–"></a>ç®—æ³•ç›¸å…³ä¾èµ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ•°æ®å½’ä¸€åŒ–</span><br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> MinMaxScaler<br><br><span class="hljs-comment"># kmeansèšç±»</span><br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> KMeans<br><span class="hljs-comment"># DBSCANèšç±»</span><br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> DBSCAN<br><span class="hljs-comment"># çº¿æ€§å›å½’ç®—æ³•</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression<br><span class="hljs-comment"># é€»è¾‘å›å½’ç®—æ³•</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br><span class="hljs-comment"># é«˜æ–¯è´å¶æ–¯</span><br><span class="hljs-keyword">from</span> sklearn.naive_bayes <span class="hljs-keyword">import</span> GaussianNB<br><span class="hljs-comment"># åˆ’åˆ†è®­ç»ƒ/æµ‹è¯•é›†</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><span class="hljs-comment"># å‡†ç¡®åº¦æŠ¥å‘Š</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><span class="hljs-comment"># çŸ©é˜µæŠ¥å‘Šå’Œå‡æ–¹è¯¯å·®</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> classification_report, mean_squared_error<br></code></pre></td></tr></table></figure><h3 id="è·å–æ•°æ®"><a href="#è·å–æ•°æ®" class="headerlink" title="è·å–æ•°æ®"></a>è·å–æ•°æ®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sqlalchemy <span class="hljs-keyword">import</span> create_engine<br>engine = create_engine(<span class="hljs-string">&#x27;mysql+pymysql://root:root@127.0.0.1:3306/ry?charset=utf8&#x27;</span>)<br><br><span class="hljs-comment"># æŸ¥è¯¢æ’å…¥åç›¸å…³è¡¨ååŠè¡Œæ•°</span><br>result_query_sql = <span class="hljs-string">&quot;use information_schema;&quot;</span><br>engine.execute(result_query_sql)<br>result_query_sql = <span class="hljs-string">&quot;SELECT table_name,table_rows FROM tables WHERE TABLE_NAME LIKE &#x27;log%%&#x27; order by table_rows desc;&quot;</span><br>df_result = pd.read_sql(result_query_sql, engine)<br></code></pre></td></tr></table></figure><p><img src="F:\notes\éšç¬”\src\640-1640748153099.webp" alt="å›¾ç‰‡"></p><h3 id="ç”Ÿæˆdf"><a href="#ç”Ÿæˆdf" class="headerlink" title="ç”Ÿæˆdf"></a>ç”Ÿæˆdf</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># listè½¬df</span><br>df_result = pd.DataFrame(pred,columns=[<span class="hljs-string">&#x27;pred&#x27;</span>])<br>df_result[<span class="hljs-string">&#x27;actual&#x27;</span>] = test_target<br>df_result<br><br><span class="hljs-comment"># dfå–å­df</span><br>df_new = df_old[[<span class="hljs-string">&#x27;col1&#x27;</span>,<span class="hljs-string">&#x27;col2&#x27;</span>]]<br><br><span class="hljs-comment"># dictç”Ÿæˆdf</span><br>df_test = pd.DataFrame(&#123;&lt;!-- --&gt;<span class="hljs-string">&#x27;A&#x27;</span>:[<span class="hljs-number">0.587221</span>, <span class="hljs-number">0.135673</span>, <span class="hljs-number">0.135673</span>, <span class="hljs-number">0.135673</span>, <span class="hljs-number">0.135673</span>], <br>                        <span class="hljs-string">&#x27;B&#x27;</span>:[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>],<br>                        <span class="hljs-string">&#x27;C&#x27;</span>:[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]&#125;)<br><br><span class="hljs-comment"># æŒ‡å®šåˆ—å</span><br>data = pd.DataFrame(dataset.data, columns=dataset.feature_names)<br><br><span class="hljs-comment"># ä½¿ç”¨numpyç”Ÿæˆ20ä¸ªæŒ‡å®šåˆ†å¸ƒ(å¦‚æ ‡å‡†æ­£æ€åˆ†å¸ƒ)çš„æ•°</span><br>tem = np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">20</span>)<br>df3 = pd.DataFrame(tem)<br><br><span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªå’Œdfé•¿åº¦ç›¸åŒçš„éšæœºæ•°dataframe</span><br>df1 = pd.DataFrame(pd.Series(np.random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">135</span>)))<br></code></pre></td></tr></table></figure><h3 id="é‡å‘½ååˆ—"><a href="#é‡å‘½ååˆ—" class="headerlink" title="é‡å‘½ååˆ—"></a>é‡å‘½ååˆ—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># é‡å‘½ååˆ—</span><br>data_scaled = data_scaled.rename(columns=&#123;&lt;!-- --&gt;<span class="hljs-string">&#x27;æœ¬ä½“æ²¹ä½&#x27;</span>: <span class="hljs-string">&#x27;OILLV&#x27;</span>&#125;)<br></code></pre></td></tr></table></figure><h3 id="å¢åŠ åˆ—"><a href="#å¢åŠ åˆ—" class="headerlink" title="å¢åŠ åˆ—"></a>å¢åŠ åˆ—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># df2df</span><br>df_jj2yyb[<span class="hljs-string">&#x27;r_time&#x27;</span>] = pd.to_datetime(df_jj2yyb[<span class="hljs-string">&#x27;cTime&#x27;</span>])<br><br><span class="hljs-comment"># æ–°å¢ä¸€åˆ—æ ¹æ®salaryå°†æ•°æ®åˆ†ä¸º3ç»„</span><br>bins = [<span class="hljs-number">0</span>,<span class="hljs-number">5000</span>, <span class="hljs-number">20000</span>, <span class="hljs-number">50000</span>]<br>group_names = [<span class="hljs-string">&#x27;ä½&#x27;</span>, <span class="hljs-string">&#x27;ä¸­&#x27;</span>, <span class="hljs-string">&#x27;é«˜&#x27;</span>]<br>df[<span class="hljs-string">&#x27;categories&#x27;</span>] = pd.cut(df[<span class="hljs-string">&#x27;salary&#x27;</span>], bins, labels=group_names)<br></code></pre></td></tr></table></figure><h3 id="ç¼ºå¤±å€¼å¤„ç†"><a href="#ç¼ºå¤±å€¼å¤„ç†" class="headerlink" title="ç¼ºå¤±å€¼å¤„ç†"></a>ç¼ºå¤±å€¼å¤„ç†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ£€æŸ¥æ•°æ®ä¸­æ˜¯å¦å«æœ‰ä»»ä½•ç¼ºå¤±å€¼</span><br>df.isnull().values.<span class="hljs-built_in">any</span>()<br><br><span class="hljs-comment"># æŸ¥çœ‹æ¯åˆ—æ•°æ®ç¼ºå¤±å€¼æƒ…å†µ</span><br>df.isnull().<span class="hljs-built_in">sum</span>()<br><br><span class="hljs-comment"># æå–æŸåˆ—å«æœ‰ç©ºå€¼çš„è¡Œ</span><br>df[df[<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>].isnull()]<br><br><span class="hljs-comment"># è¾“å‡ºæ¯åˆ—ç¼ºå¤±å€¼å…·ä½“è¡Œæ•°</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> df.columns:<br>    <span class="hljs-keyword">if</span> df[i].count() != <span class="hljs-built_in">len</span>(df):<br>        row = df[i][df[i].isnull().values].index.tolist()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;åˆ—åï¼š&quot;&#123;&#125;&quot;, ç¬¬&#123;&#125;è¡Œä½ç½®æœ‰ç¼ºå¤±å€¼&#x27;</span>.<span class="hljs-built_in">format</span>(i,row))<br><br><span class="hljs-comment"># ä¼—æ•°å¡«å……</span><br>heart_df[<span class="hljs-string">&#x27;Thal&#x27;</span>].fillna(heart_df[<span class="hljs-string">&#x27;Thal&#x27;</span>].mode(dropna=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>], inplace=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># è¿ç»­å€¼åˆ—çš„ç©ºå€¼ç”¨å¹³å‡å€¼å¡«å……</span><br>dfcolumns = heart_df_encoded.columns.values.tolist()<br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> dfcolumns:<br>    <span class="hljs-keyword">if</span> heart_df_encoded[item].dtype == <span class="hljs-string">&#x27;float&#x27;</span>:<br>       heart_df_encoded[item].fillna(heart_df_encoded[item].median(), inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h3 id="ç‹¬çƒ­ç¼–ç "><a href="#ç‹¬çƒ­ç¼–ç " class="headerlink" title="ç‹¬çƒ­ç¼–ç "></a>ç‹¬çƒ­ç¼–ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">df_encoded = pd.get_dummies(df_data)<br><span class="hljs-comment">#æ·»åŠ å‚æ•°Dummy_na=Trueâ€å°†â€œnaâ€ï¼ˆç¼ºå¤±å€¼ï¼‰è§†ä¸ºæœ‰æ•ˆçš„ç‰¹å¾å€¼ï¼Œå¹¶ä¸ºå…¶åˆ›å»ºæŒ‡ç¤ºç¬¦ç‰¹å¾</span><br></code></pre></td></tr></table></figure><h3 id="æ›¿æ¢å€¼"><a href="#æ›¿æ¢å€¼" class="headerlink" title="æ›¿æ¢å€¼"></a>æ›¿æ¢å€¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŒ‰åˆ—å€¼æ›¿æ¢</span><br>num_encode = &#123;&lt;!-- --&gt;<br>    <span class="hljs-string">&#x27;AHD&#x27;</span>: &#123;&lt;!-- --&gt;<span class="hljs-string">&#x27;No&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&quot;Yes&quot;</span>:<span class="hljs-number">1</span>&#125;,<br>&#125;<br>heart_df.replace(num_encode,inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h3 id="åˆ é™¤åˆ—"><a href="#åˆ é™¤åˆ—" class="headerlink" title="åˆ é™¤åˆ—"></a>åˆ é™¤åˆ—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df_jj2.drop([<span class="hljs-string">&#x27;coll_time&#x27;</span>, <span class="hljs-string">&#x27;polar&#x27;</span>, <span class="hljs-string">&#x27;conn_type&#x27;</span>, <span class="hljs-string">&#x27;phase&#x27;</span>, <span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-string">&#x27;Unnamed: 0&#x27;</span>],axis=<span class="hljs-number">1</span>,inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h3 id="æ•°æ®ç­›é€‰"><a href="#æ•°æ®ç­›é€‰" class="headerlink" title="æ•°æ®ç­›é€‰"></a>æ•°æ®ç­›é€‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å–ç¬¬33è¡Œæ•°æ®</span><br>df.iloc[<span class="hljs-number">32</span>]<br><br><span class="hljs-comment"># æŸåˆ—ä»¥xxxå­—ç¬¦ä¸²å¼€å¤´</span><br>df_jj2 = df_512.loc[df_512[<span class="hljs-string">&quot;transformer&quot;</span>].<span class="hljs-built_in">str</span>.startswith(<span class="hljs-string">&#x27;JJ2&#x27;</span>)]<br><br>df_jj2yya = df_jj2.loc[df_jj2[<span class="hljs-string">&quot;å˜å‹å™¨ç¼–å·&quot;</span>]==<span class="hljs-string">&#x27;JJ2YYA&#x27;</span>]<br><br><span class="hljs-comment"># æå–ç¬¬ä¸€åˆ—ä¸­ä¸åœ¨ç¬¬äºŒåˆ—å‡ºç°çš„æ•°å­—</span><br>df[<span class="hljs-string">&#x27;col1&#x27;</span>][~df[<span class="hljs-string">&#x27;col1&#x27;</span>].isin(df[<span class="hljs-string">&#x27;col2&#x27;</span>])]<br><br><span class="hljs-comment"># æŸ¥æ‰¾ä¸¤åˆ—å€¼ç›¸ç­‰çš„è¡Œå·</span><br>np.where(df.secondType == df.thirdType)<br><br><span class="hljs-comment"># åŒ…å«å­—ç¬¦ä¸²</span><br>results = df[<span class="hljs-string">&#x27;grammer&#x27;</span>].<span class="hljs-built_in">str</span>.contains(<span class="hljs-string">&quot;Python&quot;</span>)<br><br><span class="hljs-comment"># æå–åˆ—å</span><br>df.columns<br><br><span class="hljs-comment"># æŸ¥çœ‹æŸåˆ—å”¯ä¸€å€¼ï¼ˆç§ç±»ï¼‰</span><br>df[<span class="hljs-string">&#x27;education&#x27;</span>].nunique()<br><br><span class="hljs-comment"># åˆ é™¤é‡å¤æ•°æ®</span><br>df.drop_duplicates(inplace=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># æŸåˆ—ç­‰äºæŸå€¼</span><br>df[df.col_name==<span class="hljs-number">0.587221</span>]<br><span class="hljs-comment"># df.col_name==0.587221 å„è¡Œåˆ¤æ–­ç»“æœè¿”å›å€¼(True/False)</span><br><br><span class="hljs-comment"># æŸ¥çœ‹æŸåˆ—å”¯ä¸€å€¼åŠè®¡æ•°</span><br>df_jj2[<span class="hljs-string">&quot;å˜å‹å™¨ç¼–å·&quot;</span>].value_counts()<br><br><span class="hljs-comment"># æ—¶é—´æ®µç­›é€‰</span><br>df_jj2yyb_0501_0701 = df_jj2yyb[(df_jj2yyb[<span class="hljs-string">&#x27;r_time&#x27;</span>] &gt;=pd.to_datetime(<span class="hljs-string">&#x27;20200501&#x27;</span>)) &amp; (df_jj2yyb[<span class="hljs-string">&#x27;r_time&#x27;</span>] &lt;= pd.to_datetime(<span class="hljs-string">&#x27;20200701&#x27;</span>))]<br><br><span class="hljs-comment"># æ•°å€¼ç­›é€‰</span><br>df[(df[<span class="hljs-string">&#x27;popularity&#x27;</span>] &gt; <span class="hljs-number">3</span>) &amp; (df[<span class="hljs-string">&#x27;popularity&#x27;</span>] &lt; <span class="hljs-number">7</span>)]<br><br><span class="hljs-comment"># æŸåˆ—å­—ç¬¦ä¸²æˆªå–</span><br>df[<span class="hljs-string">&#x27;Time&#x27;</span>].<span class="hljs-built_in">str</span>[<span class="hljs-number">0</span>:<span class="hljs-number">8</span>]<br><br><span class="hljs-comment"># éšæœºå–numè¡Œ</span><br>ins_1 = df.sample(n=num)<br><br><span class="hljs-comment"># æ•°æ®å»é‡</span><br>df.drop_duplicates([<span class="hljs-string">&#x27;grammer&#x27;</span>])<br><br><span class="hljs-comment"># æŒ‰æŸåˆ—æ’åº(é™åº)</span><br>df.sort_values(<span class="hljs-string">&quot;popularity&quot;</span>,inplace=<span class="hljs-literal">True</span>, ascending=<span class="hljs-literal">False</span>)<br><br><span class="hljs-comment"># å–æŸåˆ—æœ€å¤§å€¼æ‰€åœ¨è¡Œ</span><br>df[df[<span class="hljs-string">&#x27;popularity&#x27;</span>] == df[<span class="hljs-string">&#x27;popularity&#x27;</span>].<span class="hljs-built_in">max</span>()]<br><br><span class="hljs-comment"># å–æŸåˆ—æœ€å¤§numè¡Œ</span><br>df.nlargest(num,<span class="hljs-string">&#x27;col_name&#x27;</span>)<br><span class="hljs-comment"># æœ€å¤§numåˆ—ç”»æ¨ªå‘æŸ±å½¢å›¾</span><br>df.nlargest(<span class="hljs-number">10</span>).plot(kind=<span class="hljs-string">&#x27;barh&#x27;</span>)<br></code></pre></td></tr></table></figure><p><img src="F:\notes\éšç¬”\src\640-1640748153106.webp" alt="å›¾ç‰‡"></p><h3 id="å·®å€¼è®¡ç®—"><a href="#å·®å€¼è®¡ç®—" class="headerlink" title="å·®å€¼è®¡ç®—"></a>å·®å€¼è®¡ç®—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># axis=0æˆ–indexè¡¨ç¤ºä¸Šä¸‹ç§»åŠ¨ï¼Œ periodsè¡¨ç¤ºç§»åŠ¨çš„æ¬¡æ•°ï¼Œä¸ºæ­£æ—¶å‘ä¸‹ç§»ï¼Œä¸ºè´Ÿæ—¶å‘ä¸Šç§»åŠ¨ã€‚</span><br><span class="hljs-built_in">print</span>(df.diff( periods=<span class="hljs-number">1</span>, axis=â€˜indexâ€˜))<br><span class="hljs-built_in">print</span>(df.diff( periods=-<span class="hljs-number">1</span>, axis=<span class="hljs-number">0</span>))<br><span class="hljs-comment"># axis=1æˆ–columnsè¡¨ç¤ºå·¦å³ç§»åŠ¨ï¼Œperiodsè¡¨ç¤ºç§»åŠ¨çš„æ¬¡æ•°ï¼Œä¸ºæ­£æ—¶å‘å³ç§»ï¼Œä¸ºè´Ÿæ—¶å‘å·¦ç§»åŠ¨ã€‚</span><br><span class="hljs-built_in">print</span>(df.diff( periods=<span class="hljs-number">1</span>, axis=â€˜columnsâ€˜))<br><span class="hljs-built_in">print</span>(df.diff( periods=-<span class="hljs-number">1</span>, axis=<span class="hljs-number">1</span>))<br><br><span class="hljs-comment"># å˜åŒ–ç‡è®¡ç®—</span><br>data[<span class="hljs-string">&#x27;æ”¶ç›˜ä»·(å…ƒ)&#x27;</span>].pct_change()<br><br><span class="hljs-comment"># ä»¥5ä¸ªæ•°æ®ä½œä¸ºä¸€ä¸ªæ•°æ®æ»‘åŠ¨çª—å£ï¼Œåœ¨è¿™ä¸ª5ä¸ªæ•°æ®ä¸Šå–å‡å€¼</span><br>df[<span class="hljs-string">&#x27;æ”¶ç›˜ä»·(å…ƒ)&#x27;</span>].rolling(<span class="hljs-number">5</span>).mean()<br></code></pre></td></tr></table></figure><h3 id="æ•°æ®ä¿®æ”¹"><a href="#æ•°æ®ä¿®æ”¹" class="headerlink" title="æ•°æ®ä¿®æ”¹"></a>æ•°æ®ä¿®æ”¹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ é™¤æœ€åä¸€è¡Œ</span><br>df = df.drop(labels=df.shape[<span class="hljs-number">0</span>]-<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># æ·»åŠ ä¸€è¡Œæ•°æ®[&#x27;Perl&#x27;,6.6]</span><br>row = &#123;&lt;!-- --&gt;<span class="hljs-string">&#x27;grammer&#x27;</span>:<span class="hljs-string">&#x27;Perl&#x27;</span>,<span class="hljs-string">&#x27;popularity&#x27;</span>:<span class="hljs-number">6.6</span>&#125;<br>df = df.append(row,ignore_index=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># æŸåˆ—å°æ•°è½¬ç™¾åˆ†æ•°</span><br>df.style.<span class="hljs-built_in">format</span>(&#123;&lt;!-- --&gt;<span class="hljs-string">&#x27;data&#x27;</span>: <span class="hljs-string">&#x27;&#123;0:.2%&#125;&#x27;</span>.<span class="hljs-built_in">format</span>&#125;)<br><br><span class="hljs-comment"># åè½¬è¡Œ</span><br>df.iloc[::-<span class="hljs-number">1</span>, :]<br><br><span class="hljs-comment"># ä»¥ä¸¤åˆ—åˆ¶ä½œæ•°æ®é€è§†</span><br>pd.pivot_table(df,values=[<span class="hljs-string">&quot;salary&quot;</span>,<span class="hljs-string">&quot;score&quot;</span>],index=<span class="hljs-string">&quot;positionId&quot;</span>)<br><br><span class="hljs-comment"># åŒæ—¶å¯¹ä¸¤åˆ—è¿›è¡Œè®¡ç®—</span><br>df[[<span class="hljs-string">&quot;salary&quot;</span>,<span class="hljs-string">&quot;score&quot;</span>]].agg([np.<span class="hljs-built_in">sum</span>,np.mean,np.<span class="hljs-built_in">min</span>])<br><br><span class="hljs-comment"># å¯¹ä¸åŒåˆ—æ‰§è¡Œä¸åŒçš„è®¡ç®—</span><br>df.agg(&#123;&lt;!-- --&gt;<span class="hljs-string">&quot;salary&quot;</span>:np.<span class="hljs-built_in">sum</span>,<span class="hljs-string">&quot;score&quot;</span>:np.mean&#125;)<br></code></pre></td></tr></table></figure><h3 id="æ—¶é—´æ ¼å¼è½¬æ¢"><a href="#æ—¶é—´æ ¼å¼è½¬æ¢" class="headerlink" title="æ—¶é—´æ ¼å¼è½¬æ¢"></a>æ—¶é—´æ ¼å¼è½¬æ¢</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ—¶é—´æˆ³è½¬æ—¶é—´å­—ç¬¦ä¸²</span><br>df_jj2[<span class="hljs-string">&#x27;cTime&#x27;</span>] =df_jj2[<span class="hljs-string">&#x27;coll_time&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: time.strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, time.localtime(x)))<br><br><span class="hljs-comment"># æ—¶é—´å­—ç¬¦ä¸²è½¬æ—¶é—´æ ¼å¼</span><br>df_jj2yyb[<span class="hljs-string">&#x27;r_time&#x27;</span>] = pd.to_datetime(df_jj2yyb[<span class="hljs-string">&#x27;cTime&#x27;</span>])<br><br><span class="hljs-comment"># æ—¶é—´æ ¼å¼è½¬æ—¶é—´æˆ³</span><br>dtime = pd.to_datetime(df_jj2yyb[<span class="hljs-string">&#x27;r_time&#x27;</span>])<br>v = (dtime.values - np.datetime64(<span class="hljs-string">&#x27;1970-01-01T08:00:00Z&#x27;</span>)) / np.timedelta64(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;ms&#x27;</span>)<br>df_jj2yyb[<span class="hljs-string">&#x27;timestamp&#x27;</span>] = v<br></code></pre></td></tr></table></figure><h3 id="è®¾ç½®ç´¢å¼•åˆ—"><a href="#è®¾ç½®ç´¢å¼•åˆ—" class="headerlink" title="è®¾ç½®ç´¢å¼•åˆ—"></a>è®¾ç½®ç´¢å¼•åˆ—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df_jj2yyb_small_noise = df_jj2yyb_small_noise.set_index(<span class="hljs-string">&#x27;timestamp&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="æŠ˜çº¿å›¾"><a href="#æŠ˜çº¿å›¾" class="headerlink" title="æŠ˜çº¿å›¾"></a>æŠ˜çº¿å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">fig, ax = plt.subplots()<br>df.plot(legend=<span class="hljs-literal">True</span>, ax=ax)<br>plt.legend(loc=<span class="hljs-number">1</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="F:\notes\éšç¬”\src\640-1640748153114.webp" alt="å›¾ç‰‡"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">6</span>))<br>plt.plot(max_iter_list, accuracy, color=<span class="hljs-string">&#x27;red&#x27;</span>, marker=<span class="hljs-string">&#x27;o&#x27;</span>,<br>         markersize=<span class="hljs-number">10</span>)<br>plt.title(<span class="hljs-string">&#x27;Accuracy Vs max_iter Value&#x27;</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;max_iter Value&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Accuracy&#x27;</span>)<br></code></pre></td></tr></table></figure><p><img src="F:\notes\éšç¬”\src\640-1640748153122.webp" alt="å›¾ç‰‡"></p><h3 id="æ•£ç‚¹å›¾"><a href="#æ•£ç‚¹å›¾" class="headerlink" title="æ•£ç‚¹å›¾"></a>æ•£ç‚¹å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.scatter(df[:, <span class="hljs-number">0</span>], df[:, <span class="hljs-number">1</span>], c=<span class="hljs-string">&quot;red&quot;</span>, marker=<span class="hljs-string">&#x27;o&#x27;</span>, label=<span class="hljs-string">&#x27;lable0&#x27;</span>)   <br>plt.xlabel(<span class="hljs-string">&#x27;x&#x27;</span>)  <br>plt.ylabel(<span class="hljs-string">&#x27;y&#x27;</span>)  <br>plt.legend(loc=<span class="hljs-number">2</span>)  <br>plt.show()  <br></code></pre></td></tr></table></figure><p><img src="F:\notes\éšç¬”\src\640-1640748153129.webp" alt="å›¾ç‰‡"></p><h3 id="æŸ±çŠ¶å›¾"><a href="#æŸ±çŠ¶å›¾" class="headerlink" title="æŸ±çŠ¶å›¾"></a>æŸ±çŠ¶å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">df = pd.Series(tree.feature_importances_, index=data.columns)<br><span class="hljs-comment"># å–æŸåˆ—æœ€å¤§Numè¡Œç”»æ¨ªå‘æŸ±å½¢å›¾</span><br>df.nlargest(<span class="hljs-number">10</span>).plot(kind=<span class="hljs-string">&#x27;barh&#x27;</span>)<br></code></pre></td></tr></table></figure><p><img src="F:\notes\éšç¬”\src\640-1640748153140.webp" alt="å›¾ç‰‡"><img src="F:\notes\éšç¬”\src\640-1640748153147.webp" alt="å›¾ç‰‡"></p><h3 id="çƒ­åŠ›å›¾"><a href="#çƒ­åŠ›å›¾" class="headerlink" title="çƒ­åŠ›å›¾"></a>çƒ­åŠ›å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">df_corr = combine.corr()<br>plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">20</span>))<br>g=sns.heatmap(df_corr,annot=<span class="hljs-literal">True</span>,cmap=<span class="hljs-string">&quot;RdYlGn&quot;</span>)<br></code></pre></td></tr></table></figure><p><img src="F:\notes\éšç¬”\src\640-1640748153156.webp" alt="å›¾ç‰‡"></p><h1 id="66ä¸ªæœ€å¸¸ç”¨çš„pandasæ•°æ®åˆ†æå‡½æ•°"><a href="#66ä¸ªæœ€å¸¸ç”¨çš„pandasæ•°æ®åˆ†æå‡½æ•°" class="headerlink" title="66ä¸ªæœ€å¸¸ç”¨çš„pandasæ•°æ®åˆ†æå‡½æ•°"></a>66ä¸ªæœ€å¸¸ç”¨çš„pandasæ•°æ®åˆ†æå‡½æ•°</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">df <span class="hljs-comment">#ä»»ä½•pandas DataFrameå¯¹è±¡ </span><br>s <span class="hljs-comment">#ä»»ä½•pandas serieså¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="ä»å„ç§ä¸åŒçš„æ¥æºå’Œæ ¼å¼å¯¼å…¥æ•°æ®"><a href="#ä»å„ç§ä¸åŒçš„æ¥æºå’Œæ ¼å¼å¯¼å…¥æ•°æ®" class="headerlink" title="ä»å„ç§ä¸åŒçš„æ¥æºå’Œæ ¼å¼å¯¼å…¥æ•°æ®"></a>ä»å„ç§ä¸åŒçš„æ¥æºå’Œæ ¼å¼å¯¼å…¥æ•°æ®</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">pd.read<span class="hljs-constructor">_csv(<span class="hljs-params">filename</span>)</span> # ä»CSVæ–‡ä»¶ <br>pd.read<span class="hljs-constructor">_table(<span class="hljs-params">filename</span>)</span> # ä»åˆ†éš”çš„æ–‡æœ¬æ–‡ä»¶ï¼ˆä¾‹å¦‚CSVï¼‰ä¸­ <br>pd.read<span class="hljs-constructor">_excel(<span class="hljs-params">filename</span>)</span> # ä»Excelæ–‡ä»¶ <br>pd.read<span class="hljs-constructor">_sql(<span class="hljs-params">query</span>, <span class="hljs-params">connection_object</span>)</span> # ä»SQLè¡¨/æ•°æ®åº“ä¸­è¯»å– <br>pd.read<span class="hljs-constructor">_json(<span class="hljs-params">json_string</span>)</span> # ä»JSONæ ¼å¼çš„å­—ç¬¦ä¸²ï¼ŒURLæˆ–æ–‡ä»¶ä¸­è¯»å–ã€‚<br>pd.read<span class="hljs-constructor">_html(<span class="hljs-params">url</span>)</span> # è§£æhtml URLï¼Œå­—ç¬¦ä¸²æˆ–æ–‡ä»¶ï¼Œå¹¶å°†è¡¨æå–åˆ°æ•°æ®å¸§åˆ—è¡¨ <br>pd.read<span class="hljs-constructor">_clipboard()</span> # è·å–å‰ªè´´æ¿çš„å†…å®¹å¹¶å°†å…¶ä¼ é€’ç»™ read<span class="hljs-constructor">_table()</span> <br>pd.<span class="hljs-constructor">DataFrame(<span class="hljs-params">dict</span>)</span> # ä»å­—å…¸ä¸­ï¼Œåˆ—åç§°çš„é”®ï¼Œåˆ—è¡¨ä¸­çš„æ•°æ®çš„å€¼<br></code></pre></td></tr></table></figure><h4 id="å¯¼å‡ºæ•°æ®"><a href="#å¯¼å‡ºæ•°æ®" class="headerlink" title="å¯¼å‡ºæ•°æ®"></a>å¯¼å‡ºæ•°æ®</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">df.<span class="hljs-keyword">to</span><span class="hljs-constructor">_csv(<span class="hljs-params">filename</span>)</span> # å†™å…¥CSVæ–‡ä»¶ <br>df.<span class="hljs-keyword">to</span><span class="hljs-constructor">_excel(<span class="hljs-params">filename</span>)</span> # å†™å…¥Excelæ–‡ä»¶ <br>df.<span class="hljs-keyword">to</span><span class="hljs-constructor">_sql(<span class="hljs-params">table_name</span>, <span class="hljs-params">connection_object</span>)</span> # å†™å…¥SQLè¡¨ <br>df.<span class="hljs-keyword">to</span><span class="hljs-constructor">_json(<span class="hljs-params">filename</span>)</span> # ä»¥JSONæ ¼å¼å†™å…¥æ–‡ä»¶<br></code></pre></td></tr></table></figure><h4 id="åˆ›å»ºæµ‹è¯•å¯¹è±¡"><a href="#åˆ›å»ºæµ‹è¯•å¯¹è±¡" class="headerlink" title="åˆ›å»ºæµ‹è¯•å¯¹è±¡"></a>åˆ›å»ºæµ‹è¯•å¯¹è±¡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">pd.DataFrame(np.random.rand(<span class="hljs-number">20</span>,<span class="hljs-number">5</span>))  <span class="hljs-comment"># 5åˆ—20è¡Œéšæœºæµ®ç‚¹æ•° pd.Series(my_list)      # ä»ä¸€ä¸ªå¯è¿­ä»£çš„åºåˆ—åˆ›å»ºä¸€ä¸ªåºåˆ—my_list </span><br>df.index = pd.date_range(<span class="hljs-string">&#x27;1900/1/30&#x27;</span>, periods=df.shape[<span class="hljs-number">0</span>]) <span class="hljs-comment"># æ·»åŠ æ—¥æœŸç´¢å¼•</span><br></code></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹ã€æ£€æŸ¥æ•°æ®"><a href="#æŸ¥çœ‹ã€æ£€æŸ¥æ•°æ®" class="headerlink" title="æŸ¥çœ‹ã€æ£€æŸ¥æ•°æ®"></a>æŸ¥çœ‹ã€æ£€æŸ¥æ•°æ®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">df.head(n)                       <span class="hljs-comment"># DataFrameçš„å‰nè¡Œ </span><br>df.tail(n)                       <span class="hljs-comment"># DataFrameçš„æœ€ånè¡Œ </span><br>df.shape                         <span class="hljs-comment"># è¡Œæ•°å’Œåˆ—æ•° </span><br>df.info()                        <span class="hljs-comment"># ç´¢å¼•ï¼Œæ•°æ®ç±»å‹å’Œå†…å­˜ä¿¡æ¯ </span><br>df.describe()                    <span class="hljs-comment"># æ•°å€¼åˆ—çš„æ‘˜è¦ç»Ÿè®¡ä¿¡æ¯ </span><br>s.value_counts(dropna=<span class="hljs-literal">False</span>)     <span class="hljs-comment"># æŸ¥çœ‹å”¯ä¸€å€¼å’Œè®¡æ•° </span><br>df.apply(pd.Series.value_counts) <span class="hljs-comment"># æ‰€æœ‰åˆ—çš„å”¯ä¸€å€¼å’Œè®¡æ•°</span><br></code></pre></td></tr></table></figure><h4 id="æ•°æ®é€‰å–"><a href="#æ•°æ®é€‰å–" class="headerlink" title="æ•°æ®é€‰å–"></a>æ•°æ®é€‰å–</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">ä½¿ç”¨è¿™äº›å‘½ä»¤é€‰æ‹©æ•°æ®çš„ç‰¹å®šå­é›†ã€‚<br>df[col]               <span class="hljs-comment"># è¿”å›å¸¦æœ‰æ ‡ç­¾colçš„åˆ— </span><br>df[[col1, col2]]      <span class="hljs-comment"># è¿”å›åˆ—ä½œä¸ºæ–°çš„DataFrame </span><br>s.iloc[<span class="hljs-number">0</span>]             <span class="hljs-comment"># æŒ‰ä½ç½®é€‰æ‹© </span><br>s.loc[<span class="hljs-string">&#x27;index_one&#x27;</span>]    <span class="hljs-comment"># æŒ‰ç´¢å¼•é€‰æ‹© </span><br>df.iloc[<span class="hljs-number">0</span>,:]          <span class="hljs-comment"># ç¬¬ä¸€è¡Œ </span><br>df.iloc[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]          <span class="hljs-comment"># ç¬¬ä¸€æ çš„ç¬¬ä¸€å…ƒç´ </span><br></code></pre></td></tr></table></figure><h4 id="æ•°æ®æ¸…ç†"><a href="#æ•°æ®æ¸…ç†" class="headerlink" title="æ•°æ®æ¸…ç†"></a>æ•°æ®æ¸…ç†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">df.columns = [<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>]      <span class="hljs-comment"># é‡å‘½ååˆ— </span><br>pd.isnull()                     <span class="hljs-comment"># ç©ºå€¼æ£€æŸ¥ï¼Œè¿”å›Boolean Arrray </span><br>pd.notnull()                    <span class="hljs-comment"># ä¸pd.isnull() ç›¸å </span><br>df.dropna()                     <span class="hljs-comment"># åˆ é™¤æ‰€æœ‰åŒ…å«ç©ºå€¼çš„è¡Œ </span><br>df.dropna(axis=<span class="hljs-number">1</span>)               <span class="hljs-comment"># åˆ é™¤æ‰€æœ‰åŒ…å«ç©ºå€¼çš„åˆ— </span><br>df.dropna(axis=<span class="hljs-number">1</span>,thresh=n)      <span class="hljs-comment"># åˆ é™¤æ‰€æœ‰å…·æœ‰å°‘äºnä¸ªénullå€¼çš„è¡Œ </span><br>df.fillna(x)                    <span class="hljs-comment"># å°†æ‰€æœ‰ç©ºå€¼æ›¿æ¢ä¸ºx </span><br>s.fillna(s.mean())              <span class="hljs-comment"># ç”¨å‡å€¼æ›¿æ¢æ‰€æœ‰ç©ºå€¼ï¼ˆå‡å€¼å¯ä»¥ç”¨ç»Ÿè®¡æ¨¡å—ä¸­çš„å‡ ä¹æ‰€æœ‰å‡½æ•°æ›¿æ¢ ï¼‰ </span><br>s.astype(<span class="hljs-built_in">float</span>)                 <span class="hljs-comment"># å°†ç³»åˆ—çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºfloat </span><br>s.replace(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;one&#x27;</span>)              <span class="hljs-comment"># 1 ç”¨ &#x27;one&#x27; </span><br>s.replace([<span class="hljs-number">1</span>,<span class="hljs-number">3</span>],[<span class="hljs-string">&#x27;one&#x27;</span>,<span class="hljs-string">&#x27;three&#x27;</span>]) <span class="hljs-comment"># æ›¿æ¢æ‰€æœ‰ç­‰äºçš„å€¼ æ›¿æ¢ä¸ºæ‰€æœ‰1 &#x27;one&#x27; ï¼Œå¹¶ 3 ç”¨ &#x27;three&#x27; </span><br>df.rename(columns=<span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">1</span>)   <span class="hljs-comment"># åˆ—çš„é‡å‘½å </span><br>df.rename(columns=&#123;&lt;!-- --&gt;<span class="hljs-string">&#x27;old_name&#x27;</span>: <span class="hljs-string">&#x27;new_ name&#x27;</span>&#125;)<span class="hljs-comment"># é€‰æ‹©æ€§é‡å‘½å </span><br>df.set_index(<span class="hljs-string">&#x27;column_one&#x27;</span>)           <span class="hljs-comment"># æ›´æ”¹ç´¢å¼• </span><br>df.rename(index=<span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">1</span>)     <span class="hljs-comment"># å¤§è§„æ¨¡é‡å‘½åç´¢å¼•</span><br></code></pre></td></tr></table></figure><h4 id="ç­›é€‰ï¼Œæ’åºå’Œåˆ†ç»„ä¾æ®"><a href="#ç­›é€‰ï¼Œæ’åºå’Œåˆ†ç»„ä¾æ®" class="headerlink" title="ç­›é€‰ï¼Œæ’åºå’Œåˆ†ç»„ä¾æ®"></a>ç­›é€‰ï¼Œæ’åºå’Œåˆ†ç»„ä¾æ®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">df[df[col] &gt; <span class="hljs-number">0.5</span>]                      <span class="hljs-comment"># åˆ— col å¤§äº 0.5 df[(df[col] &gt; 0.5) &amp; (df[col] &lt; 0.7)]  # å°äº 0.7 å¤§äº0.5çš„è¡Œ </span><br>df.sort_values(col1)                   <span class="hljs-comment"># æŒ‰col1å‡åºå¯¹å€¼è¿›è¡Œæ’åº </span><br>df.sort_values(col2,ascending=<span class="hljs-literal">False</span>)   <span class="hljs-comment"># æŒ‰col2 é™åºå¯¹å€¼è¿›è¡Œ æ’åº </span><br>df.sort_values([col1,col2],ascending=[<span class="hljs-literal">True</span>,<span class="hljs-literal">False</span>]) <span class="hljs-comment">#æŒ‰ col1 å‡åºæ’åºï¼Œç„¶å col2 æŒ‰é™åºæ’åº </span><br>df.groupby(col)                        <span class="hljs-comment">#ä»ä¸€ä¸ªæ è¿”å›GROUPBYå¯¹è±¡ </span><br>df.groupby([col1,col2]) <span class="hljs-comment"># è¿”å›æ¥è‡ªå¤šä¸ªåˆ—çš„groupbyå¯¹è±¡ </span><br>df.groupby(col1)[col2]                 <span class="hljs-comment"># è¿”å›ä¸­çš„å€¼çš„å¹³å‡å€¼ col2ï¼ŒæŒ‰ä¸­çš„å€¼åˆ†ç»„ col1 ï¼ˆå¹³å‡å€¼å¯ä»¥ç”¨ç»Ÿè®¡æ¨¡å—ä¸­çš„å‡ ä¹æ‰€æœ‰å‡½æ•°æ›¿æ¢ ï¼‰ </span><br>df.pivot_table(index=col1,values=[col2,col3],aggfunc=mean) <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ•°æ®é€è§†è¡¨ç»„é€šè¿‡ col1 ï¼Œå¹¶è®¡ç®—å¹³å‡å€¼çš„ col2 å’Œ col3 </span><br>df.groupby(col1).agg(np.mean)          <span class="hljs-comment"># åœ¨æ‰€æœ‰åˆ—ä¸­æ‰¾åˆ°æ¯ä¸ªå”¯ä¸€col1 ç»„çš„å¹³å‡å€¼ </span><br>df.apply(np.mean)                      <span class="hljs-comment">#np.mean() åœ¨æ¯åˆ—ä¸Šåº”ç”¨è¯¥å‡½æ•° </span><br>df.apply(np.<span class="hljs-built_in">max</span>,axis=<span class="hljs-number">1</span>)                <span class="hljs-comment"># np.max() åœ¨æ¯è¡Œä¸Šåº”ç”¨åŠŸèƒ½</span><br></code></pre></td></tr></table></figure><h4 id="æ•°æ®åˆå¹¶"><a href="#æ•°æ®åˆå¹¶" class="headerlink" title="æ•°æ®åˆå¹¶"></a>æ•°æ®åˆå¹¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">df1.append(df2)                   <span class="hljs-comment"># å°†df2æ·»åŠ  df1çš„æœ«å°¾ ï¼ˆå„åˆ—åº”ç›¸åŒï¼‰ </span><br>pd.concat([df1, df2],axis=<span class="hljs-number">1</span>)      <span class="hljs-comment"># å°† df1çš„åˆ—æ·»åŠ åˆ°df2çš„æœ«å°¾ ï¼ˆè¡Œåº”ç›¸åŒï¼‰ </span><br>df1.join(df2,on=col1,how=<span class="hljs-string">&#x27;inner&#x27;</span>) <span class="hljs-comment"># SQLæ ·å¼å°†åˆ— df1 ä¸ df2 è¡Œæ‰€åœ¨çš„åˆ—col å…·æœ‰ç›¸åŒå€¼çš„åˆ—è¿æ¥èµ·æ¥ã€‚&#x27;how&#x27;å¯ä»¥æ˜¯ä¸€ä¸ª &#x27;left&#x27;ï¼Œ &#x27;right&#x27;ï¼Œ &#x27;outer&#x27;ï¼Œ &#x27;inner&#x27;</span><br></code></pre></td></tr></table></figure><h4 id="æ•°æ®ç»Ÿè®¡"><a href="#æ•°æ®ç»Ÿè®¡" class="headerlink" title="æ•°æ®ç»Ÿè®¡"></a>æ•°æ®ç»Ÿè®¡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">df.describe()    <span class="hljs-comment"># æ•°å€¼åˆ—çš„æ‘˜è¦ç»Ÿè®¡ä¿¡æ¯ </span><br>df.mean()        <span class="hljs-comment"># è¿”å›å‡å€¼çš„æ‰€æœ‰åˆ— </span><br>df.corr()        <span class="hljs-comment"># è¿”å›DataFrameä¸­å„åˆ—ä¹‹é—´çš„ç›¸å…³æ€§ </span><br>df.count()       <span class="hljs-comment"># è¿”å›éç©ºå€¼çš„æ¯ä¸ªæ•°æ®å¸§åˆ—ä¸­çš„æ•°å­— </span><br>df.<span class="hljs-built_in">max</span>()         <span class="hljs-comment"># è¿”å›æ¯åˆ—ä¸­çš„æœ€é«˜å€¼ </span><br>df.<span class="hljs-built_in">min</span>()         <span class="hljs-comment"># è¿”å›æ¯ä¸€åˆ—ä¸­çš„æœ€å°å€¼ </span><br>df.median()      <span class="hljs-comment"># è¿”å›æ¯åˆ—çš„ä¸­ä½æ•° </span><br>df.std()         <span class="hljs-comment"># è¿”å›æ¯åˆ—çš„æ ‡å‡†åå·®</span><br></code></pre></td></tr></table></figure><h1 id="16ä¸ªå‡½æ•°ï¼Œç”¨äºæ•°æ®æ¸…æ´—"><a href="#16ä¸ªå‡½æ•°ï¼Œç”¨äºæ•°æ®æ¸…æ´—" class="headerlink" title="16ä¸ªå‡½æ•°ï¼Œç”¨äºæ•°æ®æ¸…æ´—"></a>16ä¸ªå‡½æ•°ï¼Œç”¨äºæ•°æ®æ¸…æ´—</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯¼å…¥æ•°æ®é›†</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>df =&#123;&lt;!-- --&gt;<span class="hljs-string">&#x27;å§“å&#x27;</span>:[<span class="hljs-string">&#x27; é»„åŒå­¦&#x27;</span>,<span class="hljs-string">&#x27;é»„è‡³å°Š&#x27;</span>,<span class="hljs-string">&#x27;é»„è€é‚ª &#x27;</span>,<span class="hljs-string">&#x27;é™ˆå¤§ç¾&#x27;</span>,<span class="hljs-string">&#x27;å­™å°šé¦™&#x27;</span>],<br>     <span class="hljs-string">&#x27;è‹±æ–‡å&#x27;</span>:[<span class="hljs-string">&#x27;Huang tong_xue&#x27;</span>,<span class="hljs-string">&#x27;huang zhi_zun&#x27;</span>,<span class="hljs-string">&#x27;Huang Lao_xie&#x27;</span>,<span class="hljs-string">&#x27;Chen Da_mei&#x27;</span>,<span class="hljs-string">&#x27;sun shang_xiang&#x27;</span>],<br>     <span class="hljs-string">&#x27;æ€§åˆ«&#x27;</span>:[<span class="hljs-string">&#x27;ç”·&#x27;</span>,<span class="hljs-string">&#x27;women&#x27;</span>,<span class="hljs-string">&#x27;men&#x27;</span>,<span class="hljs-string">&#x27;å¥³&#x27;</span>,<span class="hljs-string">&#x27;ç”·&#x27;</span>],<br>     <span class="hljs-string">&#x27;èº«ä»½è¯&#x27;</span>:[<span class="hljs-string">&#x27;463895200003128433&#x27;</span>,<span class="hljs-string">&#x27;429475199912122345&#x27;</span>,<span class="hljs-string">&#x27;420934199110102311&#x27;</span>,<span class="hljs-string">&#x27;431085200005230122&#x27;</span>,<span class="hljs-string">&#x27;420953199509082345&#x27;</span>],<br>     <span class="hljs-string">&#x27;èº«é«˜&#x27;</span>:[<span class="hljs-string">&#x27;mid:175_good&#x27;</span>,<span class="hljs-string">&#x27;low:165_bad&#x27;</span>,<span class="hljs-string">&#x27;low:159_bad&#x27;</span>,<span class="hljs-string">&#x27;high:180_verygood&#x27;</span>,<span class="hljs-string">&#x27;low:172_bad&#x27;</span>],<br>     <span class="hljs-string">&#x27;å®¶åº­ä½å€&#x27;</span>:[<span class="hljs-string">&#x27;æ¹–åŒ—å¹¿æ°´&#x27;</span>,<span class="hljs-string">&#x27;æ²³å—ä¿¡é˜³&#x27;</span>,<span class="hljs-string">&#x27;å¹¿è¥¿æ¡‚æ—&#x27;</span>,<span class="hljs-string">&#x27;æ¹–åŒ—å­æ„Ÿ&#x27;</span>,<span class="hljs-string">&#x27;å¹¿ä¸œå¹¿å·&#x27;</span>],<br>     <span class="hljs-string">&#x27;ç”µè¯å·ç &#x27;</span>:[<span class="hljs-string">&#x27;13434813546&#x27;</span>,<span class="hljs-string">&#x27;19748672895&#x27;</span>,<span class="hljs-string">&#x27;16728613064&#x27;</span>,<span class="hljs-string">&#x27;14561586431&#x27;</span>,<span class="hljs-string">&#x27;19384683910&#x27;</span>],<br>     <span class="hljs-string">&#x27;æ”¶å…¥&#x27;</span>:[<span class="hljs-string">&#x27;1.1ä¸‡&#x27;</span>,<span class="hljs-string">&#x27;8.5åƒ&#x27;</span>,<span class="hljs-string">&#x27;0.9ä¸‡&#x27;</span>,<span class="hljs-string">&#x27;6.5åƒ&#x27;</span>,<span class="hljs-string">&#x27;2.0ä¸‡&#x27;</span>]&#125;<br>df = pd.DataFrame(df)<br>df<br></code></pre></td></tr></table></figure><h4 id="1-catå‡½æ•°"><a href="#1-catå‡½æ•°" class="headerlink" title="1.catå‡½æ•°"></a>1.catå‡½æ•°</h4><p>ç”¨äºå­—ç¬¦ä¸²çš„æ‹¼æ¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;å§“å&quot;</span>].<span class="hljs-built_in">str</span>.cat(df[<span class="hljs-string">&quot;å®¶åº­ä½å€&quot;</span>],sep=<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><h4 id="2-contains"><a href="#2-contains" class="headerlink" title="2.contains"></a>2.contains</h4><p>åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«ç»™å®šå­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;å®¶åº­ä½å€&quot;</span>].<span class="hljs-built_in">str</span>.contains(<span class="hljs-string">&quot;å¹¿&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="3-startswith-x2F-endswith"><a href="#3-startswith-x2F-endswith" class="headerlink" title="3.startswith&#x2F;endswith"></a>3.startswith&#x2F;endswith</h4><p>åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä»¥â€¦å¼€å¤´&#x2F;ç»“å°¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç¬¬ä¸€ä¸ªè¡Œçš„â€œ é»„ä¼Ÿâ€æ˜¯ä»¥ç©ºæ ¼å¼€å¤´çš„</span><br>df[<span class="hljs-string">&quot;å§“å&quot;</span>].<span class="hljs-built_in">str</span>.startswith(<span class="hljs-string">&quot;é»„&quot;</span>) <br>df[<span class="hljs-string">&quot;è‹±æ–‡å&quot;</span>].<span class="hljs-built_in">str</span>.endswith(<span class="hljs-string">&quot;e&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="4-count"><a href="#4-count" class="headerlink" title="4.count"></a>4.count</h4><p>è®¡ç®—ç»™å®šå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;ç”µè¯å·ç &quot;</span>].<span class="hljs-built_in">str</span>.count(<span class="hljs-string">&quot;3&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="5-get"><a href="#5-get" class="headerlink" title="5.get"></a>5.get</h4><p>è·å–æŒ‡å®šä½ç½®çš„å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;å§“å&quot;</span>].<span class="hljs-built_in">str</span>.get(-<span class="hljs-number">1</span>)<br>df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">&quot;:&quot;</span>)<br>df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">&quot;:&quot;</span>).<span class="hljs-built_in">str</span>.get(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><h4 id="6-len"><a href="#6-len" class="headerlink" title="6.len"></a>6.len</h4><p>è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;æ€§åˆ«&quot;</span>].<span class="hljs-built_in">str</span>.<span class="hljs-built_in">len</span>()<br></code></pre></td></tr></table></figure><h4 id="7-upper-x2F-lower"><a href="#7-upper-x2F-lower" class="headerlink" title="7.upper&#x2F;lower"></a>7.upper&#x2F;lower</h4><p>è‹±æ–‡å¤§å°å†™è½¬æ¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;è‹±æ–‡å&quot;</span>].<span class="hljs-built_in">str</span>.upper()<br>df[<span class="hljs-string">&quot;è‹±æ–‡å&quot;</span>].<span class="hljs-built_in">str</span>.lower()<br></code></pre></td></tr></table></figure><h4 id="8-pad-sideå‚æ•°-x2F-center"><a href="#8-pad-sideå‚æ•°-x2F-center" class="headerlink" title="8.pad+sideå‚æ•°&#x2F;center"></a>8.pad+sideå‚æ•°&#x2F;center</h4><p>åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ã€å³è¾¹æˆ–å·¦å³ä¸¤è¾¹æ·»åŠ ç»™å®šå­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;å®¶åº­ä½å€&quot;</span>].<span class="hljs-built_in">str</span>.pad(<span class="hljs-number">10</span>,fillchar=<span class="hljs-string">&quot;*&quot;</span>)      <span class="hljs-comment"># ç›¸å½“äºljust()</span><br>df[<span class="hljs-string">&quot;å®¶åº­ä½å€&quot;</span>].<span class="hljs-built_in">str</span>.pad(<span class="hljs-number">10</span>,side=<span class="hljs-string">&quot;right&quot;</span>,fillchar=<span class="hljs-string">&quot;*&quot;</span>)    <span class="hljs-comment"># ç›¸å½“äºrjust()</span><br>df[<span class="hljs-string">&quot;å®¶åº­ä½å€&quot;</span>].<span class="hljs-built_in">str</span>.center(<span class="hljs-number">10</span>,fillchar=<span class="hljs-string">&quot;*&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="9-repeat"><a href="#9-repeat" class="headerlink" title="9.repeat"></a>9.repeat</h4><p>é‡å¤å­—ç¬¦ä¸²å‡ æ¬¡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;æ€§åˆ«&quot;</span>].<span class="hljs-built_in">str</span>.repeat(<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><h4 id="10-slice-replace"><a href="#10-slice-replace" class="headerlink" title="10.slice_replace"></a>10.slice_replace</h4><p>ä½¿ç”¨ç»™å®šçš„å­—ç¬¦ä¸²ï¼Œæ›¿æ¢æŒ‡å®šçš„ä½ç½®çš„å­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;ç”µè¯å·ç &quot;</span>].<span class="hljs-built_in">str</span>.slice_replace(<span class="hljs-number">4</span>,<span class="hljs-number">8</span>,<span class="hljs-string">&quot;*&quot;</span>*<span class="hljs-number">4</span>)<br></code></pre></td></tr></table></figure><h4 id="11-replace"><a href="#11-replace" class="headerlink" title="11.replace"></a>11.replace</h4><p>å°†æŒ‡å®šä½ç½®çš„å­—ç¬¦ï¼Œæ›¿æ¢ä¸ºç»™å®šçš„å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.replace(<span class="hljs-string">&quot;:&quot;</span>,<span class="hljs-string">&quot;-&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="12-replace"><a href="#12-replace" class="headerlink" title="12.replace"></a>12.replace</h4><p>å°†æŒ‡å®šä½ç½®çš„å­—ç¬¦ï¼Œæ›¿æ¢ä¸ºç»™å®šçš„å­—ç¬¦ä¸²(æ¥å—æ­£åˆ™è¡¨è¾¾å¼)</p><ul><li>replaceä¸­ä¼ å…¥æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰å«å¥½ç”¨ï¼›- å…ˆä¸è¦ç®¡ä¸‹é¢è¿™ä¸ªæ¡ˆä¾‹æœ‰æ²¡æœ‰ç”¨ï¼Œä½ åªéœ€è¦çŸ¥é“ï¼Œä½¿ç”¨æ­£åˆ™åšæ•°æ®æ¸…æ´—å¤šå¥½ç”¨ï¼›</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;æ”¶å…¥&quot;</span>].<span class="hljs-built_in">str</span>.replace(<span class="hljs-string">&quot;\d+\.\d+&quot;</span>,<span class="hljs-string">&quot;æ­£åˆ™&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="13-splitæ–¹æ³•-expandå‚æ•°"><a href="#13-splitæ–¹æ³•-expandå‚æ•°" class="headerlink" title="13.splitæ–¹æ³•+expandå‚æ•°"></a>13.splitæ–¹æ³•+expandå‚æ•°</h4><p>æ­é…joinæ–¹æ³•åŠŸèƒ½å¾ˆå¼ºå¤§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ™®é€šç”¨æ³•</span><br>df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">&quot;:&quot;</span>)<br><span class="hljs-comment"># splitæ–¹æ³•ï¼Œæ­é…expandå‚æ•°</span><br>df[[<span class="hljs-string">&quot;èº«é«˜æè¿°&quot;</span>,<span class="hljs-string">&quot;finalèº«é«˜&quot;</span>]] = df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">&quot;:&quot;</span>,expand=<span class="hljs-literal">True</span>)<br>df<br><span class="hljs-comment"># splitæ–¹æ³•æ­é…joinæ–¹æ³•</span><br>df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">&quot;:&quot;</span>).<span class="hljs-built_in">str</span>.join(<span class="hljs-string">&quot;?&quot;</span>*<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><h4 id="14-strip-x2F-rstrip-x2F-lstrip"><a href="#14-strip-x2F-rstrip-x2F-lstrip" class="headerlink" title="14.strip&#x2F;rstrip&#x2F;lstrip"></a>14.strip&#x2F;rstrip&#x2F;lstrip</h4><p>å»é™¤ç©ºç™½ç¬¦ã€æ¢è¡Œç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;å§“å&quot;</span>].<span class="hljs-built_in">str</span>.<span class="hljs-built_in">len</span>()<br>df[<span class="hljs-string">&quot;å§“å&quot;</span>] = df[<span class="hljs-string">&quot;å§“å&quot;</span>].<span class="hljs-built_in">str</span>.strip()<br>df[<span class="hljs-string">&quot;å§“å&quot;</span>].<span class="hljs-built_in">str</span>.<span class="hljs-built_in">len</span>()<br></code></pre></td></tr></table></figure><h4 id="15-findall"><a href="#15-findall" class="headerlink" title="15.findall"></a>15.findall</h4><p>åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå»å­—ç¬¦ä¸²ä¸­åŒ¹é…ï¼Œè¿”å›æŸ¥æ‰¾ç»“æœçš„åˆ—è¡¨</p><ul><li>findallä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œåšæ•°æ®æ¸…æ´—ï¼ŒçœŸçš„å¾ˆé¦™ï¼</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>]<br>df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.findall(<span class="hljs-string">&quot;[a-zA-Z]+&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="16-extract-x2F-extractall"><a href="#16-extract-x2F-extractall" class="headerlink" title="16.extract&#x2F;extractall"></a>16.extract&#x2F;extractall</h4><p>æ¥å—æ­£åˆ™è¡¨è¾¾å¼ï¼ŒæŠ½å–åŒ¹é…çš„å­—ç¬¦ä¸²(ä¸€å®šè¦åŠ ä¸Šæ‹¬å·)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.extract(<span class="hljs-string">&quot;([a-zA-Z]+)&quot;</span>)<br><span class="hljs-comment"># extractallæå–å¾—åˆ°å¤åˆç´¢å¼•</span><br>df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.extractall(<span class="hljs-string">&quot;([a-zA-Z]+)&quot;</span>)<br><span class="hljs-comment"># extractæ­é…expandå‚æ•°</span><br>df[<span class="hljs-string">&quot;èº«é«˜&quot;</span>].<span class="hljs-built_in">str</span>.extract(<span class="hljs-string">&quot;([a-zA-Z]+).*?([a-zA-Z]+)&quot;</span>,expand=<span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Numpy trick</title>
    <link href="/2022/08/01/Python/numpy%E9%AB%98%E7%BA%A7%E6%93%8D%E4%BD%9C/"/>
    <url>/2022/08/01/Python/numpy%E9%AB%98%E7%BA%A7%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h2 id="01æ•°ç»„ä¸Šçš„è¿­ä»£"><a href="#01æ•°ç»„ä¸Šçš„è¿­ä»£" class="headerlink" title="01æ•°ç»„ä¸Šçš„è¿­ä»£"></a>01æ•°ç»„ä¸Šçš„è¿­ä»£</h2><p>NumPy åŒ…å«ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡numpy.nditerã€‚å®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å¤šç»´è¿­ä»£å™¨å¯¹è±¡ï¼Œå¯ä»¥ç”¨äºåœ¨æ•°ç»„ä¸Šè¿›è¡Œè¿­ä»£ã€‚æ•°ç»„çš„æ¯ä¸ªå…ƒç´ å¯ä½¿ç”¨ Python çš„æ ‡å‡†Iteratoræ¥å£æ¥è®¿é—®ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.arange</span>(<span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">5</span>)<br><span class="hljs-selector-tag">a</span> = <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.reshape</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> np<span class="hljs-selector-class">.nditer</span>(a):<br>    <span class="hljs-built_in">print</span>(x)<br><span class="hljs-selector-attr">[[ 0  5 10 15]</span><br> <span class="hljs-selector-attr">[20 25 30 35]</span><br> <span class="hljs-selector-attr">[40 45 50 55]</span>]<br><span class="hljs-number">0</span><br><span class="hljs-number">5</span><br><span class="hljs-number">10</span><br><span class="hljs-number">15</span><br><span class="hljs-number">20</span><br><span class="hljs-number">25</span><br><span class="hljs-number">30</span><br><span class="hljs-number">35</span><br><span class="hljs-number">40</span><br><span class="hljs-number">45</span><br><span class="hljs-number">50</span><br><span class="hljs-number">55</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä¸¤ä¸ªæ•°ç»„æ˜¯å¯å¹¿æ’­çš„ï¼Œnditerç»„åˆå¯¹è±¡èƒ½å¤ŸåŒæ—¶è¿­ä»£å®ƒä»¬ã€‚å‡è®¾æ•° ç»„aå…·æœ‰ç»´åº¦ 3X4ï¼Œå¹¶ä¸”å­˜åœ¨ç»´åº¦ä¸º 1X4 çš„å¦ä¸€ä¸ªæ•°ç»„bï¼Œåˆ™ä½¿ç”¨ä»¥ä¸‹ç±»å‹çš„è¿­ä»£å™¨(æ•°ç»„bè¢«å¹¿æ’­åˆ°açš„å¤§å°)ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.arange</span>(<span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">5</span>)<br><span class="hljs-selector-tag">a</span> = <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.reshape</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[1, 2, 3, 4]</span>, dtype=int)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> np<span class="hljs-selector-class">.nditer</span>(<span class="hljs-selector-attr">[a, b]</span>):<br>    <span class="hljs-built_in">print</span>(x, y)<br><span class="hljs-selector-attr">[[ 0  5 10 15]</span><br> <span class="hljs-selector-attr">[20 25 30 35]</span><br> <span class="hljs-selector-attr">[40 45 50 55]</span>]<br><span class="hljs-selector-attr">[1 2 3 4]</span><br><span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-number">5</span> <span class="hljs-number">2</span><br><span class="hljs-number">10</span> <span class="hljs-number">3</span><br><span class="hljs-number">15</span> <span class="hljs-number">4</span><br><span class="hljs-number">20</span> <span class="hljs-number">1</span><br><span class="hljs-number">25</span> <span class="hljs-number">2</span><br><span class="hljs-number">30</span> <span class="hljs-number">3</span><br><span class="hljs-number">35</span> <span class="hljs-number">4</span><br><span class="hljs-number">40</span> <span class="hljs-number">1</span><br><span class="hljs-number">45</span> <span class="hljs-number">2</span><br><span class="hljs-number">50</span> <span class="hljs-number">3</span><br><span class="hljs-number">55</span> <span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><h2 id="02-æ•°ç»„å½¢çŠ¶ä¿®æ”¹å‡½æ•°"><a href="#02-æ•°ç»„å½¢çŠ¶ä¿®æ”¹å‡½æ•°" class="headerlink" title="02 æ•°ç»„å½¢çŠ¶ä¿®æ”¹å‡½æ•°"></a>02 æ•°ç»„å½¢çŠ¶ä¿®æ”¹å‡½æ•°</h2><h3 id="1-ndarray-reshape"><a href="#1-ndarray-reshape" class="headerlink" title="1.ndarray.reshape"></a><strong>1.ndarray.reshape</strong></h3><p>å‡½æ•°åœ¨ä¸æ”¹å˜æ•°æ®çš„æ¡ä»¶ä¸‹ä¿®æ”¹å½¢çŠ¶ï¼Œå‚æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs stylus">ndarray<span class="hljs-selector-class">.reshape</span>(arr, newshape, <span class="hljs-attribute">order</span>)<br>import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.arange</span>(<span class="hljs-number">8</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-selector-tag">b</span> = <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.reshape</span>(<span class="hljs-number">4</span>, <span class="hljs-number">2</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-selector-attr">[0 1 2 3 4 5 6 7]</span><br><span class="hljs-selector-attr">[[0 1]</span><br> <span class="hljs-selector-attr">[2 3]</span><br> <span class="hljs-selector-attr">[4 5]</span><br> <span class="hljs-selector-attr">[6 7]</span>]<br></code></pre></td></tr></table></figure><h3 id="2-ndarray-flat"><a href="#2-ndarray-flat" class="headerlink" title="2.ndarray.flat"></a><strong>2.ndarray.flat</strong></h3><p>å‡½æ•°è¿”å›æ•°ç»„ä¸Šçš„ä¸€ç»´è¿­ä»£å™¨ï¼Œè¡Œä¸ºç±»ä¼¼ Python å†…å»ºçš„è¿­ä»£å™¨ã€‚</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs lua">import numpy as np<br>a = np.arange(<span class="hljs-number">0</span>, <span class="hljs-number">16</span>, <span class="hljs-number">2</span>).reshape(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span>(a)<br># è¿”å›å±•å¼€æ•°ç»„ä¸­çš„ä¸‹æ ‡çš„å¯¹åº”å…ƒç´ <br><span class="hljs-built_in">print</span>(list(a.flat))<br><span class="hljs-string">[[ 0  2  4  6]</span><br><span class="hljs-string"> [ 8 10 12 14]]</span><br>[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>]<br></code></pre></td></tr></table></figure><h3 id="3-ndarray-flatten"><a href="#3-ndarray-flatten" class="headerlink" title="3.ndarray.flatten"></a><strong>3.ndarray.flatten</strong></h3><p>å‡½æ•°è¿”å›æŠ˜å ä¸ºä¸€ç»´çš„æ•°ç»„å‰¯æœ¬ï¼Œå‡½æ•°æ¥å—ä¸‹åˆ—å‚æ•°ï¼š</p><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sas">ndarray.flatte<span class="hljs-meta">n</span>(<span class="hljs-keyword">order</span>)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>order</code>ï¼šâ€˜Câ€™ â€” æŒ‰è¡Œï¼Œâ€˜Fâ€™ â€” æŒ‰åˆ—ï¼Œâ€˜Aâ€™ â€” åŸé¡ºåºï¼Œâ€˜kâ€™ â€”å…ƒç´ åœ¨å†…å­˜ä¸­çš„å‡ºç°é¡ºåºã€‚</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import numpy as np<br>a = np.arange(8).reshape(2, 4)<br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-comment"># default is column-major</span><br><span class="hljs-built_in">print</span>(a.flatten())<br><span class="hljs-built_in">print</span>(a.flatten(<span class="hljs-attribute">order</span>=<span class="hljs-string">&#x27;F&#x27;</span>))<br>[[0 1 2 3]<br> [4 5 6 7]]<br>[0 1 2 3 4 5 6 7]<br>[0 4 1 5 2 6 3 7]<br></code></pre></td></tr></table></figure><h2 id="03-æ•°ç»„ç¿»è½¬æ“ä½œå‡½æ•°"><a href="#03-æ•°ç»„ç¿»è½¬æ“ä½œå‡½æ•°" class="headerlink" title="03 æ•°ç»„ç¿»è½¬æ“ä½œå‡½æ•°"></a>03 æ•°ç»„ç¿»è½¬æ“ä½œå‡½æ•°</h2><h3 id="1-numpy-transpose"><a href="#1-numpy-transpose" class="headerlink" title="1.numpy.transpose"></a><strong>1.numpy.transpose</strong></h3><p>å‡½æ•°ç¿»è½¬ç»™å®šæ•°ç»„çš„ç»´åº¦ã€‚å¦‚æœå¯èƒ½çš„è¯å®ƒä¼šè¿”å›ä¸€ä¸ªè§†å›¾ã€‚å‡½æ•°æ¥å—ä¸‹åˆ—å‚æ•°ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">numpy.<span class="hljs-built_in">transpose</span>(arr, <span class="hljs-built_in">axes</span>)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arr</code>ï¼šè¦è½¬ç½®çš„æ•°ç»„</li><li>a<code>x</code>esï¼šæ•´æ•°çš„åˆ—è¡¨ï¼Œå¯¹åº”ç»´åº¦ï¼Œé€šå¸¸æ‰€æœ‰ç»´åº¦éƒ½ä¼šç¿»è½¬ã€‚</li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs lua">import numpy as np<br>a = np.arange(<span class="hljs-number">24</span>).reshape(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span>(a)<br>b = np.array(np.transpose(a))<br><span class="hljs-built_in">print</span>(b)<br><span class="hljs-built_in">print</span>(b.shape)<br><span class="hljs-string">[[[ 0  1  2  3]</span><br><span class="hljs-string">  [ 4  5  6  7]</span><br><span class="hljs-string">  [ 8  9 10 11]]</span><br><br> <span class="hljs-string">[[12 13 14 15]</span><br><span class="hljs-string">  [16 17 18 19]</span><br><span class="hljs-string">  [20 21 22 23]]</span>]<br><span class="hljs-string">[[[ 0 12]</span><br><span class="hljs-string">  [ 4 16]</span><br><span class="hljs-string">  [ 8 20]]</span><br><br> <span class="hljs-string">[[ 1 13]</span><br><span class="hljs-string">  [ 5 17]</span><br><span class="hljs-string">  [ 9 21]]</span><br><br> <span class="hljs-string">[[ 2 14]</span><br><span class="hljs-string">  [ 6 18]</span><br><span class="hljs-string">  [10 22]]</span><br><br> <span class="hljs-string">[[ 3 15]</span><br><span class="hljs-string">  [ 7 19]</span><br><span class="hljs-string">  [11 23]]</span>]<br>(<span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>)<br>b = np.array(np.transpose(a, (<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>)))<br><span class="hljs-built_in">print</span>(b)<br><span class="hljs-built_in">print</span>(b.shape<br><span class="hljs-string">[[[ 0  1  2  3]</span><br><span class="hljs-string">  [12 13 14 15]]</span><br><br> <span class="hljs-string">[[ 4  5  6  7]</span><br><span class="hljs-string">  [16 17 18 19]]</span><br><br> <span class="hljs-string">[[ 8  9 10 11]</span><br><span class="hljs-string">  [20 21 22 23]]</span>]<br>(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br></code></pre></td></tr></table></figure><h3 id="2-numpy-ndarray-T"><a href="#2-numpy-ndarray-T" class="headerlink" title="2. numpy.ndarray.T"></a><strong>2. numpy.ndarray.T</strong></h3><p>è¯¥å‡½æ•°å±äºndarrayç±»ï¼Œè¡Œä¸ºç±»ä¼¼äº<code>numpy.transpose.</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.arange</span>(<span class="hljs-number">12</span>)<span class="hljs-selector-class">.reshape</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a.T)</span></span><br><span class="hljs-selector-attr">[[ 0  1  2  3]</span><br> <span class="hljs-selector-attr">[ 4  5  6  7]</span><br> <span class="hljs-selector-attr">[ 8  9 10 11]</span>]<br><span class="hljs-selector-attr">[[ 0  4  8]</span><br> <span class="hljs-selector-attr">[ 1  5  9]</span><br> <span class="hljs-selector-attr">[ 2  6 10]</span><br> <span class="hljs-selector-attr">[ 3  7 11]</span>]<br></code></pre></td></tr></table></figure><h3 id="3-numpy-swapaxes"><a href="#3-numpy-swapaxes" class="headerlink" title="3.numpy.swapaxes"></a><strong>3.numpy.swapaxes</strong></h3><p>å‡½æ•°äº¤æ¢æ•°ç»„çš„ä¸¤ä¸ªè½´ã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸‹åˆ—å‚æ•°ï¼š</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">numpy.<span class="hljs-keyword">swapaxes(arr, </span>axis1, axis2)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arr</code>ï¼šè¦äº¤æ¢å…¶è½´çš„è¾“å…¥æ•°ç»„</li><li><code>axis1</code>ï¼šå¯¹åº”ç¬¬ä¸€ä¸ªè½´çš„æ•´æ•°</li><li><code>axis2</code>ï¼šå¯¹åº”ç¬¬äºŒä¸ªè½´çš„æ•´æ•°</li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs lua">import numpy as np<br>a = np.arange(<span class="hljs-number">8</span>).reshape(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(np.swapaxes(a, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>))<br><span class="hljs-string">[[[0 1]</span><br><span class="hljs-string">  [2 3]]</span><br><br> <span class="hljs-string">[[4 5]</span><br><span class="hljs-string">  [6 7]]</span>]<br><span class="hljs-string">[[[0 4]</span><br><span class="hljs-string">  [2 6]]</span><br><br> <span class="hljs-string">[[1 5]</span><br><span class="hljs-string">  [3 7]]</span>]<br></code></pre></td></tr></table></figure><h3 id="4-numpy-rollaxis"><a href="#4-numpy-rollaxis" class="headerlink" title="4.numpy.rollaxis"></a><strong>4.numpy.rollaxis</strong></h3><p><code>numpy.rollaxis()</code> å‡½æ•°å‘åæ»šåŠ¨ç‰¹å®šçš„è½´ï¼Œç›´åˆ°ä¸€ä¸ªç‰¹å®šä½ç½®ã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">numpy.rollaxis(arr, axis, <span class="hljs-literal">start</span>)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arr</code>ï¼šè¾“å…¥æ•°ç»„</li><li><code>axis</code>ï¼šè¦å‘åæ»šåŠ¨çš„è½´ï¼Œå…¶å®ƒè½´çš„ç›¸å¯¹ä½ç½®ä¸ä¼šæ”¹å˜</li><li><code>start</code>ï¼šé»˜è®¤ä¸ºé›¶ï¼Œè¡¨ç¤ºå®Œæ•´çš„æ»šåŠ¨ã€‚ä¼šæ»šåŠ¨åˆ°ç‰¹å®šä½ç½®ã€‚</li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs lua">import numpy as np<br>a = np.arange(<span class="hljs-number">8</span>).reshape(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(np.rollaxis(a,<span class="hljs-number">2</span>))<br><span class="hljs-built_in">print</span>(np.rollaxis(a,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>))<br><span class="hljs-string">[[[0 1]</span><br><span class="hljs-string">  [2 3]]</span><br><br> <span class="hljs-string">[[4 5]</span><br><span class="hljs-string">  [6 7]]</span>]<br><span class="hljs-string">[[[0 2]</span><br><span class="hljs-string">  [4 6]]</span><br><br> <span class="hljs-string">[[1 3]</span><br><span class="hljs-string">  [5 7]]</span>]<br><span class="hljs-string">[[[0 2]</span><br><span class="hljs-string">  [1 3]]</span><br><br> <span class="hljs-string">[[4 6]</span><br><span class="hljs-string">  [5 7]]</span>]<br></code></pre></td></tr></table></figure><h2 id="04-æ•°ç»„ä¿®æ”¹ç»´åº¦å‡½æ•°"><a href="#04-æ•°ç»„ä¿®æ”¹ç»´åº¦å‡½æ•°" class="headerlink" title="04 æ•°ç»„ä¿®æ”¹ç»´åº¦å‡½æ•°"></a>04 æ•°ç»„ä¿®æ”¹ç»´åº¦å‡½æ•°</h2><h3 id="1-numpy-broadcast-to"><a href="#1-numpy-broadcast-to" class="headerlink" title="1.numpy.broadcast_to"></a><strong>1.numpy.broadcast_to</strong></h3><p>å‡½æ•°å°†æ•°ç»„å¹¿æ’­åˆ°æ–°å½¢çŠ¶ã€‚å®ƒåœ¨åŸå§‹æ•°ç»„ä¸Šè¿”å›åª è¯»è§†å›¾ã€‚å®ƒé€šå¸¸ä¸è¿ç»­ã€‚å¦‚æœæ–°å½¢çŠ¶ä¸ç¬¦åˆ NumPy çš„å¹¿æ’­è§„åˆ™ï¼Œè¯¥å‡½æ•°å¯èƒ½ä¼šæŠ›å‡ºValueErrorã€‚è¯¥å‡½æ•°æ¥å—ä»¥ä¸‹å‚æ•°ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus">numpy<span class="hljs-selector-class">.broadcast_to</span>(array, shape, subok)<br>import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.arange</span>(<span class="hljs-number">4</span>)<span class="hljs-selector-class">.reshape</span>(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.broadcast_to(a,(<span class="hljs-number">4</span>,<span class="hljs-number">4</span>)</span></span>))<br><span class="hljs-selector-attr">[[0 1 2 3]</span>]<br><span class="hljs-selector-attr">[[0 1 2 3]</span><br> <span class="hljs-selector-attr">[0 1 2 3]</span><br> <span class="hljs-selector-attr">[0 1 2 3]</span><br> <span class="hljs-selector-attr">[0 1 2 3]</span>]<br></code></pre></td></tr></table></figure><h3 id="2-numpy-expand-dims"><a href="#2-numpy-expand-dims" class="headerlink" title="2.numpy.expand_dims"></a><strong>2.numpy.expand_dims</strong></h3><p>å‡½æ•°é€šè¿‡åœ¨æŒ‡å®šä½ç½®æ’å…¥æ–°çš„è½´æ¥æ‰©å±•æ•°ç»„å½¢çŠ¶ã€‚è¯¥å‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">numpy.expand<span class="hljs-constructor">_dims(<span class="hljs-params">arr</span>, <span class="hljs-params">axis</span>)</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arr</code>ï¼šè¾“å…¥æ•°ç»„</li><li><code>axis</code>ï¼šæ–°è½´æ’å…¥çš„ä½ç½®</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br>x = np<span class="hljs-selector-class">.array</span>((<span class="hljs-selector-attr">[1, 2]</span>, <span class="hljs-selector-attr">[3, 4]</span>))<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(x)</span></span><br>y = np<span class="hljs-selector-class">.expand_dims</span>(x, axis=<span class="hljs-number">0</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(y)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(x.shape, y.shape)</span></span><br>y = np<span class="hljs-selector-class">.expand_dims</span>(x, axis=<span class="hljs-number">1</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(y)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(x.ndim, y.ndim)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(x.shape, y.shape)</span></span><br><span class="hljs-selector-attr">[[1 2]</span><br> <span class="hljs-selector-attr">[3 4]</span>]<br><span class="hljs-selector-attr">[[[1 2]</span><br>  <span class="hljs-selector-attr">[3 4]</span>]]<br>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>) (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br><span class="hljs-selector-attr">[[[1 2]</span>]<br><br> <span class="hljs-selector-attr">[[3 4]</span>]]<br><span class="hljs-number">2</span> <span class="hljs-number">3</span><br>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>) (<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><h3 id="3-numpy-squeeze"><a href="#3-numpy-squeeze" class="headerlink" title="3.numpy.squeeze"></a><strong>3.numpy.squeeze</strong></h3><p>å‡½æ•°ä»ç»™å®šæ•°ç»„çš„å½¢çŠ¶ä¸­åˆ é™¤ä¸€ç»´æ¡ç›®ã€‚æ­¤å‡½æ•°éœ€è¦ä¸¤ ä¸ªå‚æ•°ã€‚</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs matlab">numpy.<span class="hljs-built_in">squeeze</span>(arr, axis)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arr</code>ï¼šè¾“å…¥æ•°ç»„</li><li><code>axis</code>ï¼šæ•´æ•°æˆ–æ•´æ•°å…ƒç»„ï¼Œç”¨äºé€‰æ‹©å½¢çŠ¶ä¸­å•ä¸€ç»´åº¦æ¡ç›®çš„å­é›†</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br>x = np<span class="hljs-selector-class">.arange</span>(<span class="hljs-number">9</span>)<span class="hljs-selector-class">.reshape</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(x)</span></span><br>y = np<span class="hljs-selector-class">.squeeze</span>(x)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(y)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(x.shape, y.shape)</span></span><br><span class="hljs-selector-attr">[[[0 1 2]</span><br>  <span class="hljs-selector-attr">[3 4 5]</span><br>  <span class="hljs-selector-attr">[6 7 8]</span>]]<br><span class="hljs-selector-attr">[[0 1 2]</span><br> <span class="hljs-selector-attr">[3 4 5]</span><br> <span class="hljs-selector-attr">[6 7 8]</span>]<br>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>) (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><h2 id="05-æ•°ç»„çš„è¿æ¥æ“ä½œ"><a href="#05-æ•°ç»„çš„è¿æ¥æ“ä½œ" class="headerlink" title="05 æ•°ç»„çš„è¿æ¥æ“ä½œ"></a>05 æ•°ç»„çš„è¿æ¥æ“ä½œ</h2><p>NumPyä¸­æ•°ç»„çš„è¿æ¥å‡½æ•°ä¸»è¦æœ‰å¦‚ä¸‹å››ä¸ªï¼š</p><ul><li><code>concatenate</code> æ²¿ç€ç°å­˜çš„è½´è¿æ¥æ•°æ®åºåˆ—</li><li><code>stack</code> æ²¿ç€æ–°è½´è¿æ¥æ•°ç»„åºåˆ—</li><li><code>hstack</code> æ°´å¹³å †å åºåˆ—ä¸­çš„æ•°ç»„(åˆ—æ–¹å‘)</li><li><code>vstack</code> ç«–ç›´å †å åºåˆ—ä¸­çš„æ•°ç»„(è¡Œæ–¹å‘)</li></ul><h3 id="1-numpy-stack"><a href="#1-numpy-stack" class="headerlink" title="1.numpy.stack"></a><strong>1.numpy.stack</strong></h3><p>å‡½æ•°æ²¿æ–°è½´è¿æ¥æ•°ç»„åºåˆ—ï¼Œéœ€è¦æä¾›ä»¥ä¸‹å‚æ•°ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">numpy.stack(<span class="hljs-built_in">array</span>s, axis)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arrays</code>ï¼šç›¸åŒå½¢çŠ¶çš„æ•°ç»„åºåˆ—</li><li><code>axis</code>ï¼šè¿”å›æ•°ç»„ä¸­çš„è½´ï¼Œè¾“å…¥æ•°ç»„æ²¿ç€å®ƒæ¥å †å </li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs lua">import numpy as np<br>a = np.array(<span class="hljs-string">[[1,2],[3,4]]</span>)<br><span class="hljs-built_in">print</span>(a)<br>b = np.array(<span class="hljs-string">[[5,6],[7,8]]</span>)<br><span class="hljs-built_in">print</span>(b)<br><span class="hljs-built_in">print</span>(np.stack((a,b),<span class="hljs-number">0</span>))<br><span class="hljs-built_in">print</span>(np.stack((a,b),<span class="hljs-number">1</span>))<br><span class="hljs-string">[[1 2]</span><br><span class="hljs-string"> [3 4]]</span><br><span class="hljs-string">[[5 6]</span><br><span class="hljs-string"> [7 8]]</span><br><span class="hljs-string">[[[1 2]</span><br><span class="hljs-string">  [3 4]]</span><br><br> <span class="hljs-string">[[5 6]</span><br><span class="hljs-string">  [7 8]]</span>]<br><span class="hljs-string">[[[1 2]</span><br><span class="hljs-string">  [5 6]]</span><br><br> <span class="hljs-string">[[3 4]</span><br><span class="hljs-string">  [7 8]]</span>]<br></code></pre></td></tr></table></figure><h3 id="2-numpy-hstack"><a href="#2-numpy-hstack" class="headerlink" title="2.numpy.hstack"></a><strong>2.numpy.hstack</strong></h3><p>æ˜¯<code>numpy.stack()</code>å‡½æ•°çš„å˜ä½“ï¼Œé€šè¿‡å †å æ¥ç”Ÿæˆæ°´å¹³çš„å•ä¸ªæ•°ç»„ã€‚</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs lua">import numpy as np<br>a = np.array(<span class="hljs-string">[[1, 2], [3, 4]]</span>)<br><span class="hljs-built_in">print</span>(a)<br>b = np.array(<span class="hljs-string">[[5, 6], [7, 8]]</span>)<br><span class="hljs-built_in">print</span>(b)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æ°´å¹³å †å ï¼š&#x27;</span>)<br>c = np.hstack((a, b))<br><span class="hljs-built_in">print</span>(c)<br><span class="hljs-string">[[1 2]</span><br><span class="hljs-string"> [3 4]]</span><br><span class="hljs-string">[[5 6]</span><br><span class="hljs-string"> [7 8]]</span><br>æ°´å¹³å †å ï¼š<br><span class="hljs-string">[[1 2 5 6]</span><br><span class="hljs-string"> [3 4 7 8]]</span><br></code></pre></td></tr></table></figure><h3 id="3-numpy-vstack"><a href="#3-numpy-vstack" class="headerlink" title="3.numpy.vstack"></a><strong>3.numpy.vstack</strong></h3><p>æ˜¯<code>numpy.stack()</code>å‡½æ•°çš„å˜ä½“ï¼Œé€šè¿‡å †å æ¥ç”Ÿæˆç«–ç›´çš„å•ä¸ªæ•°ç»„ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[[1, 2]</span>, <span class="hljs-selector-attr">[3, 4]</span>])<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[[5, 6]</span>, <span class="hljs-selector-attr">[7, 8]</span>])<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&#x27;ç«–ç›´å †å ï¼š&#x27;</span>)</span></span><br>c = np<span class="hljs-selector-class">.vstack</span>((<span class="hljs-selector-tag">a</span>, b))<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(c)</span></span><br><span class="hljs-selector-attr">[[1 2]</span><br> <span class="hljs-selector-attr">[3 4]</span>]<br><span class="hljs-selector-attr">[[5 6]</span><br> <span class="hljs-selector-attr">[7 8]</span>]<br>ç«–ç›´å †å ï¼š<br><span class="hljs-selector-attr">[[1 2]</span><br> <span class="hljs-selector-attr">[3 4]</span><br> <span class="hljs-selector-attr">[5 6]</span><br> <span class="hljs-selector-attr">[7 8]</span>]<br></code></pre></td></tr></table></figure><h3 id="4-numpy-concatenate"><a href="#4-numpy-concatenate" class="headerlink" title="4.numpy.concatenate"></a><strong>4.numpy.concatenate</strong></h3><p>å‡½æ•°ç”¨äºæ²¿æŒ‡å®šè½´è¿æ¥ç›¸åŒå½¢çŠ¶çš„ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚è¯¥å‡½æ•°æ¥å—ä»¥ä¸‹å‚æ•°ã€‚</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">numpy.concatenate</span>((<span class="hljs-built_in">a1</span>, <span class="hljs-built_in">a2</span>, â€¦), axis)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>a1, a2, .</code>ï¼šç›¸åŒç±»å‹çš„æ•°ç»„åºåˆ—</li><li><code>axis</code>ï¼šæ²¿ç€å®ƒè¿æ¥æ•°ç»„çš„è½´ï¼Œé»˜è®¤ä¸º 0</li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs lua">import numpy as np<br>a = np.array(<span class="hljs-string">[[1,2],[3,4]]</span>)<br><span class="hljs-built_in">print</span>(a)<br>b = np.array(<span class="hljs-string">[[5,6],[7,8]]</span>)<br><span class="hljs-built_in">print</span>(b)<br><span class="hljs-built_in">print</span>(np.concatenate((a,b)))<br><span class="hljs-built_in">print</span>(np.concatenate((a,b),axis = <span class="hljs-number">1</span>))<br><span class="hljs-string">[[1 2]</span><br><span class="hljs-string"> [3 4]]</span><br><span class="hljs-string">[[5 6]</span><br><span class="hljs-string"> [7 8]]</span><br><span class="hljs-string">[[1 2]</span><br><span class="hljs-string"> [3 4]</span><br><span class="hljs-string"> [5 6]</span><br><span class="hljs-string"> [7 8]]</span><br><span class="hljs-string">[[1 2 5 6]</span><br><span class="hljs-string"> [3 4 7 8]]</span><br></code></pre></td></tr></table></figure><h2 id="06-æ•°ç»„çš„åˆ†å‰²æ“ä½œ"><a href="#06-æ•°ç»„çš„åˆ†å‰²æ“ä½œ" class="headerlink" title="06 æ•°ç»„çš„åˆ†å‰²æ“ä½œ"></a>06 æ•°ç»„çš„åˆ†å‰²æ“ä½œ</h2><p>NumPyä¸­æ•°ç»„çš„æ•°ç»„åˆ†å‰²å‡½æ•°ä¸»è¦å¦‚ä¸‹ï¼š</p><ul><li><code>split</code> å°†ä¸€ä¸ªæ•°ç»„åˆ†å‰²ä¸ºå¤šä¸ªå­æ•°ç»„</li><li><code>hsplit</code> å°†ä¸€ä¸ªæ•°ç»„æ°´å¹³åˆ†å‰²ä¸ºå¤šä¸ªå­æ•°ç»„(æŒ‰åˆ—)</li><li><code>vsplit</code> å°†ä¸€ä¸ªæ•°ç»„ç«–ç›´åˆ†å‰²ä¸ºå¤šä¸ªå­æ•°ç»„(æŒ‰è¡Œ)</li></ul><h3 id="1-numpy-split"><a href="#1-numpy-split" class="headerlink" title="1.numpy.split"></a><strong>1.numpy.split</strong></h3><p>è¯¥å‡½æ•°æ²¿ç‰¹å®šçš„è½´å°†æ•°ç»„åˆ†å‰²ä¸ºå­æ•°ç»„ã€‚å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">numpy.<span class="hljs-built_in">split</span>(ary, indices_or_sections, axis)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>ary</code>ï¼šè¢«åˆ†å‰²çš„è¾“å…¥æ•°ç»„</li><li><code>indices_or_sections</code>ï¼šå¯ä»¥æ˜¯æ•´æ•°ï¼Œè¡¨æ˜è¦ä»è¾“å…¥æ•°ç»„åˆ›å»ºçš„ï¼Œç­‰å¤§å°çš„å­æ•°ç»„çš„æ•°é‡ã€‚å¦‚æœæ­¤å‚æ•°æ˜¯ä¸€ç»´æ•°ç»„ï¼Œåˆ™å…¶å…ƒç´ è¡¨æ˜è¦åˆ›å»ºæ–°å­æ•°ç»„çš„ç‚¹ã€‚</li><li><code>axis</code>ï¼šé»˜è®¤ä¸º 0</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.arange</span>(<span class="hljs-number">9</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&#x27;å°†æ•°ç»„åˆ†ä¸ºä¸‰ä¸ªå¤§å°ç›¸ç­‰çš„å­æ•°ç»„ï¼š&#x27;</span>)</span></span><br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.split</span>(<span class="hljs-selector-tag">a</span>,<span class="hljs-number">3</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&#x27;å°†æ•°ç»„åœ¨ä¸€ç»´æ•°ç»„ä¸­è¡¨æ˜çš„ä½ç½®åˆ†å‰²ï¼š&#x27;</span>)</span></span><br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.split</span>(<span class="hljs-selector-tag">a</span>,<span class="hljs-selector-attr">[4,7]</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-selector-attr">[0 1 2 3 4 5 6 7 8]</span><br>å°†æ•°ç»„åˆ†ä¸ºä¸‰ä¸ªå¤§å°ç›¸ç­‰çš„å­æ•°ç»„ï¼š<br><span class="hljs-selector-attr">[array([0, 1, 2]</span>), <br><span class="hljs-function"><span class="hljs-title">array</span><span class="hljs-params">([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])</span></span>, <br><span class="hljs-function"><span class="hljs-title">array</span><span class="hljs-params">([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>])</span></span>]<br>å°†æ•°ç»„åœ¨ä¸€ç»´æ•°ç»„ä¸­è¡¨æ˜çš„ä½ç½®åˆ†å‰²ï¼š<br><span class="hljs-selector-attr">[array([0, 1, 2, 3]</span>), <br><span class="hljs-function"><span class="hljs-title">array</span><span class="hljs-params">([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])</span></span>, <br><span class="hljs-function"><span class="hljs-title">array</span><span class="hljs-params">([<span class="hljs-number">7</span>, <span class="hljs-number">8</span>])</span></span>]<br></code></pre></td></tr></table></figure><h3 id="2-numpy-hsplit"><a href="#2-numpy-hsplit" class="headerlink" title="2.numpy.hsplit"></a><strong>2.numpy.hsplit</strong></h3><p><code>split()</code>å‡½æ•°çš„ç‰¹ä¾‹ï¼Œå…¶ä¸­è½´ä¸º 1 è¡¨ç¤ºæ°´å¹³åˆ†å‰²ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.arange</span>(<span class="hljs-number">16</span>)<span class="hljs-selector-class">.reshape</span>(<span class="hljs-number">4</span>,<span class="hljs-number">4</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&#x27;æ°´å¹³åˆ†å‰²ï¼š&#x27;</span>)</span></span><br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.hsplit</span>(<span class="hljs-selector-tag">a</span>,<span class="hljs-number">2</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-selector-attr">[[ 0  1  2  3]</span><br> <span class="hljs-selector-attr">[ 4  5  6  7]</span><br> <span class="hljs-selector-attr">[ 8  9 10 11]</span><br> <span class="hljs-selector-attr">[12 13 14 15]</span>]<br>æ°´å¹³åˆ†å‰²ï¼š<br><span class="hljs-selector-attr">[array([[ 0,  1]</span>,<br>       <span class="hljs-selector-attr">[ 4,  5]</span>,<br>       <span class="hljs-selector-attr">[ 8,  9]</span>,<br>       <span class="hljs-selector-attr">[12, 13]</span>]), <br> <span class="hljs-built_in">array</span>(<span class="hljs-selector-attr">[[ 2,  3]</span>,<br>       <span class="hljs-selector-attr">[ 6,  7]</span>,<br>       <span class="hljs-selector-attr">[10, 11]</span>,<br>       <span class="hljs-selector-attr">[14, 15]</span>])]<br></code></pre></td></tr></table></figure><h3 id="3-numpy-vsplit"><a href="#3-numpy-vsplit" class="headerlink" title="3.numpy.vsplit"></a><strong>3.numpy.vsplit</strong></h3><p><code>split()</code>å‡½æ•°çš„ç‰¹ä¾‹ï¼Œå…¶ä¸­è½´ä¸º 0 è¡¨ç¤ºç«–ç›´åˆ†å‰²ï¼Œæ— è®ºè¾“å…¥æ•°ç»„çš„ç»´åº¦æ˜¯ä»€ä¹ˆã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.arange</span>(<span class="hljs-number">16</span>)<span class="hljs-selector-class">.reshape</span>(<span class="hljs-number">4</span>,<span class="hljs-number">4</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&#x27;ç«–ç›´åˆ†å‰²ï¼š&#x27;</span>)</span></span><br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.vsplit</span>(<span class="hljs-selector-tag">a</span>,<span class="hljs-number">2</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-selector-attr">[[ 0  1  2  3]</span><br> <span class="hljs-selector-attr">[ 4  5  6  7]</span><br> <span class="hljs-selector-attr">[ 8  9 10 11]</span><br> <span class="hljs-selector-attr">[12 13 14 15]</span>]<br>ç«–ç›´åˆ†å‰²ï¼š<br><span class="hljs-selector-attr">[array([[0, 1, 2, 3]</span>,<br>       <span class="hljs-selector-attr">[4, 5, 6, 7]</span>]),<br> <span class="hljs-built_in">array</span>(<span class="hljs-selector-attr">[[ 8,  9, 10, 11]</span>,<br>       <span class="hljs-selector-attr">[12, 13, 14, 15]</span>])]<br></code></pre></td></tr></table></figure><h2 id="07-æ•°ç»„å…ƒç´ æ“ä½œ"><a href="#07-æ•°ç»„å…ƒç´ æ“ä½œ" class="headerlink" title="07 æ•°ç»„å…ƒç´ æ“ä½œ"></a>07 æ•°ç»„å…ƒç´ æ“ä½œ</h2><p>NumPyä¸­æ•°ç»„æ“ä½œå‡½æ•°ä¸»è¦å¦‚ä¸‹ï¼š</p><ul><li><code>resize</code> è¿”å›æŒ‡å®šå½¢çŠ¶çš„æ–°æ•°ç»„</li><li><code>append</code> å°†å€¼æ·»åŠ åˆ°æ•°ç»„æœ«å°¾</li><li><code>insert</code> æ²¿æŒ‡å®šè½´å°†å€¼æ’å…¥åˆ°æŒ‡å®šä¸‹æ ‡ä¹‹å‰</li><li><code>delete</code> è¿”å›åˆ æ‰æŸä¸ªè½´çš„å­æ•°ç»„çš„æ–°æ•°ç»„</li><li><code>unique</code> å¯»æ‰¾æ•°ç»„å†…çš„å”¯ä¸€å…ƒç´ </li></ul><h3 id="1-numpy-resize"><a href="#1-numpy-resize" class="headerlink" title="1.numpy.resize"></a><strong>1.numpy.resize</strong></h3><p>å‡½æ•°è¿”å›æŒ‡å®šå¤§å°çš„æ–°æ•°ç»„ã€‚å¦‚æœæ–°å¤§å°å¤§äºåŸå§‹å¤§å°ï¼Œåˆ™åŒ…å«åŸå§‹æ•°ç»„ä¸­çš„å…ƒç´ çš„é‡å¤å‰¯æœ¬ã€‚å¦‚æœå°äºåˆ™å»æ‰åŸå§‹æ•°ç»„çš„éƒ¨åˆ†æ•°æ®ã€‚è¯¥å‡½æ•°æ¥å—ä»¥ä¸‹å‚æ•°ï¼š</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">numpy.<span class="hljs-built_in">resize</span>(arr, shape)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arr</code>ï¼šè¦ä¿®æ”¹å¤§å°çš„è¾“å…¥æ•°ç»„</li><li><code>shape</code>ï¼šè¿”å›æ•°ç»„çš„æ–°å½¢çŠ¶</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[[1,2,3]</span>,<span class="hljs-selector-attr">[4,5,6]</span>])<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a.shape)</span></span><br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.resize</span>(<span class="hljs-selector-tag">a</span>, (<span class="hljs-number">3</span>,<span class="hljs-number">2</span>))<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b.shape)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&#x27;ä¿®æ”¹ç¬¬äºŒä¸ªæ•°ç»„çš„å¤§å°ï¼š&#x27;</span>)</span></span><br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.resize</span>(<span class="hljs-selector-tag">a</span>,(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>))<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&#x27;ä¿®æ”¹ç¬¬ä¸‰ä¸ªæ•°ç»„çš„å¤§å°ï¼š&#x27;</span>)</span></span><br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.resize</span>(<span class="hljs-selector-tag">a</span>,(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>))<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><span class="hljs-selector-attr">[[1 2 3]</span><br> <span class="hljs-selector-attr">[4 5 6]</span>]<br>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-selector-attr">[[1 2]</span><br> <span class="hljs-selector-attr">[3 4]</span><br> <span class="hljs-selector-attr">[5 6]</span>]<br>(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>)<br>ä¿®æ”¹ç¬¬äºŒä¸ªæ•°ç»„çš„å¤§å°ï¼š<br><span class="hljs-selector-attr">[[1 2 3]</span><br> <span class="hljs-selector-attr">[4 5 6]</span><br> <span class="hljs-selector-attr">[1 2 3]</span>]<br>ä¿®æ”¹ç¬¬ä¸‰ä¸ªæ•°ç»„çš„å¤§å°ï¼š<br><span class="hljs-selector-attr">[[1 2]</span><br> <span class="hljs-selector-attr">[3 4]</span>]<br></code></pre></td></tr></table></figure><h3 id="2-numpy-append"><a href="#2-numpy-append" class="headerlink" title="2.numpy.append"></a><strong>2.numpy.append</strong></h3><p>å‡½æ•°åœ¨è¾“å…¥æ•°ç»„çš„æœ«å°¾æ·»åŠ å€¼ã€‚é™„åŠ æ“ä½œä¸æ˜¯åŸåœ°çš„ï¼Œè€Œæ˜¯åˆ†é…æ–°çš„æ•°ç»„ã€‚æ­¤å¤–ï¼Œè¾“å…¥æ•°ç»„çš„ç»´åº¦å¿…é¡»åŒ¹é…å¦åˆ™å°†ç”ŸæˆValueErrorã€‚å‡½æ•°æ¥å—ä¸‹åˆ—å‡½æ•°ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">numpy.<span class="hljs-built_in">append</span>(arr, <span class="hljs-built_in">values</span>, axis)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arr</code>ï¼šè¾“å…¥æ•°ç»„</li><li><code>values</code>ï¼šè¦å‘arræ·»åŠ çš„å€¼ï¼Œæ¯”å¦‚å’Œarrå½¢çŠ¶ç›¸åŒ(é™¤äº†è¦æ·»åŠ çš„è½´)</li><li><code>axis</code>ï¼šæ²¿ç€å®ƒå®Œæˆæ“ä½œçš„è½´ã€‚å¦‚æœæ²¡æœ‰æä¾›ï¼Œä¸¤ä¸ªå‚æ•°éƒ½ä¼šè¢«å±•å¼€ã€‚</li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs lua">import numpy as np<br>a = np.array(<span class="hljs-string">[[1,2,3],[4,5,6]]</span>)<br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(np.append(a, <span class="hljs-string">[[7,8,9]]</span>,axis = <span class="hljs-number">0</span>))<br><span class="hljs-built_in">print</span>(np.append(a, <span class="hljs-string">[[5,5,5],[7,8,9]]</span>,axis = <span class="hljs-number">1</span>))<br><span class="hljs-string">[[1 2 3]</span><br><span class="hljs-string"> [4 5 6]]</span><br><span class="hljs-string">[[1 2 3]</span><br><span class="hljs-string"> [4 5 6]</span><br><span class="hljs-string"> [7 8 9]]</span><br><span class="hljs-string">[[1 2 3 5 5 5]</span><br><span class="hljs-string"> [4 5 6 7 8 9]]</span><br></code></pre></td></tr></table></figure><h3 id="3-numpy-insert"><a href="#3-numpy-insert" class="headerlink" title="3.numpy.insert"></a><strong>3.numpy.insert</strong></h3><p>å‡½æ•°åœ¨ç»™å®šç´¢å¼•ä¹‹å‰ï¼Œæ²¿ç»™å®šè½´åœ¨è¾“å…¥æ•°ç»„ä¸­æ’å…¥å€¼ã€‚å¦‚æœå€¼çš„ç±»å‹è½¬æ¢ä¸ºè¦æ’å…¥ï¼Œåˆ™å®ƒä¸è¾“å…¥æ•°ç»„ä¸åŒã€‚æ’å…¥æ²¡æœ‰åŸåœ°çš„ï¼Œå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚æ­¤å¤–ï¼Œå¦‚æœæœªæä¾›è½´ï¼Œåˆ™è¾“å…¥æ•°ç»„ä¼šè¢«å±•å¼€ã€‚</p><p>insert()å‡½æ•°æ¥å—ä»¥ä¸‹å‚æ•°ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">numpy.<span class="hljs-keyword">insert</span>(arr, obj, <span class="hljs-keyword">values</span>, axis)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arr</code>ï¼šè¾“å…¥æ•°ç»„</li><li><code>obj</code>ï¼šåœ¨å…¶ä¹‹å‰æ’å…¥å€¼çš„ç´¢å¼•</li><li><code>values</code>ï¼šè¦æ’å…¥çš„å€¼</li><li><code>axis</code>ï¼šæ²¿ç€å®ƒæ’å…¥çš„è½´</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[[1,2]</span>,<span class="hljs-selector-attr">[3,4]</span>,<span class="hljs-selector-attr">[5,6]</span>])<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.insert(a,<span class="hljs-number">3</span>,[<span class="hljs-number">11</span>,<span class="hljs-number">12</span>])</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.insert(a,<span class="hljs-number">1</span>,[<span class="hljs-number">11</span>],axis = <span class="hljs-number">0</span>)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.insert(a,<span class="hljs-number">1</span>,[<span class="hljs-number">11</span>],axis = <span class="hljs-number">1</span>)</span></span>)<br><span class="hljs-selector-attr">[[1 2]</span><br> <span class="hljs-selector-attr">[3 4]</span><br> <span class="hljs-selector-attr">[5 6]</span>]<br><span class="hljs-selector-attr">[ 1  2  3 11 12  4  5  6]</span><br><span class="hljs-selector-attr">[[ 1  2]</span><br> <span class="hljs-selector-attr">[11 11]</span><br> <span class="hljs-selector-attr">[ 3  4]</span><br> <span class="hljs-selector-attr">[ 5  6]</span>]<br><span class="hljs-selector-attr">[[ 1 11  2]</span><br> <span class="hljs-selector-attr">[ 3 11  4]</span><br> <span class="hljs-selector-attr">[ 5 11  6]</span>]<br></code></pre></td></tr></table></figure><h3 id="4-numpy-delete"><a href="#4-numpy-delete" class="headerlink" title="4.numpy.delete"></a><strong>4.numpy.delete</strong></h3><p>å‡½æ•°è¿”å›ä»è¾“å…¥æ•°ç»„ä¸­åˆ é™¤æŒ‡å®šå­æ•°ç»„çš„æ–°æ•°ç»„ã€‚ä¸insert()å‡½æ•°çš„æƒ…å†µä¸€æ ·ï¼Œå¦‚æœæœªæä¾›è½´å‚æ•°ï¼Œåˆ™è¾“å…¥æ•°ç»„å°†å±•å¼€ã€‚è¯¥å‡½ æ•°æ¥å—ä»¥ä¸‹å‚æ•°ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">Numpy.<span class="hljs-keyword">delete</span>(arr, obj, axis)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>arr</code>ï¼šè¾“å…¥æ•°ç»„</li><li><code>obj</code>ï¼šå¯ä»¥è¢«åˆ‡ç‰‡ï¼Œæ•´æ•°æˆ–è€…æ•´æ•°æ•°ç»„ï¼Œè¡¨æ˜è¦ä»è¾“å…¥æ•°ç»„åˆ é™¤çš„å­æ•°ç»„</li><li><code>axis</code>ï¼šæ²¿ç€å®ƒåˆ é™¤ç»™å®šå­æ•°ç»„çš„è½´</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[[1,2]</span>,<span class="hljs-selector-attr">[3,4]</span>,<span class="hljs-selector-attr">[5,6]</span>])<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.delete(a,<span class="hljs-number">5</span>)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.delete(a,<span class="hljs-number">1</span>,axis = <span class="hljs-number">1</span>)</span></span>)<br><span class="hljs-selector-attr">[[1 2]</span><br> <span class="hljs-selector-attr">[3 4]</span><br> <span class="hljs-selector-attr">[5 6]</span>]<br><span class="hljs-selector-attr">[1 2 3 4 5]</span><br><span class="hljs-selector-attr">[[1]</span><br> <span class="hljs-selector-attr">[3]</span><br> <span class="hljs-selector-attr">[5]</span>]<br></code></pre></td></tr></table></figure><h3 id="5-numpy-unique"><a href="#5-numpy-unique" class="headerlink" title="5.numpy.unique"></a><strong>5.numpy.unique</strong></h3><p>å‡½æ•°è¿”å›è¾“å…¥æ•°ç»„ä¸­çš„å»é‡å…ƒç´ æ•°ç»„ã€‚è¯¥å‡½æ•°èƒ½å¤Ÿè¿”å›ä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å«å»é‡æ•°ç»„å’Œç›¸å…³ç´¢å¼•çš„æ•°ç»„ã€‚ç´¢å¼•çš„æ€§è´¨å–å†³äºå‡½æ•°è°ƒç”¨ä¸­è¿”å›å‚æ•°çš„ç±»å‹ã€‚</p><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ceylon">numpy.unique(arr, <span class="hljs-keyword">return</span><span class="hljs-number">_</span>index, <span class="hljs-keyword">return</span><span class="hljs-number">_</span>inverse, <span class="hljs-keyword">return</span><span class="hljs-number">_</span>counts)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><p>â€¢ <code>arr</code>ï¼šè¾“å…¥æ•°ç»„ï¼Œå¦‚æœä¸æ˜¯ä¸€ç»´æ•°ç»„åˆ™ä¼šå±•å¼€<br>â€¢ <code>return_index</code>ï¼šå¦‚æœä¸ºtrueï¼Œè¿”å›è¾“å…¥æ•°ç»„ä¸­çš„å…ƒç´ ä¸‹æ ‡<br>â€¢ <code>return_inverse</code>ï¼šå¦‚æœä¸ºtrueï¼Œè¿”å›å»é‡æ•°ç»„çš„ä¸‹æ ‡ï¼Œå®ƒå¯ä»¥ç”¨äºé‡æ„è¾“å…¥æ•°ç»„<br>â€¢ <code>return_counts</code>ï¼šå¦‚æœä¸ºtrueï¼Œè¿”å›å»é‡æ•°ç»„ä¸­çš„å…ƒç´ åœ¨åŸæ•°ç»„ä¸­çš„å‡ºç°æ¬¡æ•°</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[5,2,6,2,7,5,6,8,2,9]</span>)<br>u = np<span class="hljs-selector-class">.unique</span>(a)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(u)</span></span><br>u,indices = np<span class="hljs-selector-class">.unique</span>(<span class="hljs-selector-tag">a</span>, return_index = True)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(u, indices)</span></span><br>u,indices = np<span class="hljs-selector-class">.unique</span>(<span class="hljs-selector-tag">a</span>,return_inverse = True)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(u, indices)</span></span><br>u,indices = np<span class="hljs-selector-class">.unique</span>(<span class="hljs-selector-tag">a</span>,return_counts = True)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(u, indices)</span></span><br><span class="hljs-selector-attr">[2 5 6 7 8 9]</span><span class="hljs-selector-attr">[2 5 6 7 8 9]</span> <br><span class="hljs-selector-attr">[1 0 2 4 7 9]</span><span class="hljs-selector-attr">[2 5 6 7 8 9]</span> <br><span class="hljs-selector-attr">[1 0 2 0 3 1 2 4 0 5]</span><span class="hljs-selector-attr">[2 5 6 7 8 9]</span> <br><span class="hljs-selector-attr">[3 2 2 1 1 1]</span><br></code></pre></td></tr></table></figure><h2 id="08-NumPy-å­—ç¬¦ä¸²å‡½æ•°"><a href="#08-NumPy-å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="08 NumPy - å­—ç¬¦ä¸²å‡½æ•°"></a>08 NumPy - å­—ç¬¦ä¸²å‡½æ•°</h2><p>ä»¥ä¸‹å‡½æ•°ç”¨äºå¯¹dtypeä¸ºnumpy.string_æˆ–numpy.unicode_çš„æ•°ç»„æ‰§è¡Œå‘é‡ åŒ–å­—ç¬¦ä¸²æ“ä½œã€‚å®ƒä»¬åŸºäº Python å†…ç½®åº“ä¸­çš„æ ‡å‡†å­—ç¬¦ä¸²å‡½æ•°ã€‚å­—ç¬¦æ•°ç»„ç±»(numpy.char)ä¸­å®šä¹‰</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640" alt="å›¾ç‰‡"></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import numpy as np<br><span class="hljs-built_in">print</span>(np.char.<span class="hljs-built_in">add</span>([<span class="hljs-string">&#x27;hello&#x27;</span>],[<span class="hljs-string">&#x27; xyz&#x27;</span>]))<br><span class="hljs-built_in">print</span>(np.char.<span class="hljs-built_in">add</span>([<span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-string">&#x27;hi&#x27;</span>],[<span class="hljs-string">&#x27; abc&#x27;</span>, <span class="hljs-string">&#x27; xyz&#x27;</span>]))<br><span class="hljs-built_in">print</span>(np.char.multiply(<span class="hljs-string">&#x27;Hello &#x27;</span>,3))<br><span class="hljs-built_in">print</span>(np.char.center(<span class="hljs-string">&#x27;hello&#x27;</span>, 20,fillchar = <span class="hljs-string">&#x27;*&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.capitalize(<span class="hljs-string">&#x27;hello world&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.title(<span class="hljs-string">&#x27;hello how are you?&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.lower([<span class="hljs-string">&#x27;HELLO&#x27;</span>,<span class="hljs-string">&#x27;WORLD&#x27;</span>]))<br><span class="hljs-built_in">print</span>(np.char.lower(<span class="hljs-string">&#x27;HELLO&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.upper(<span class="hljs-string">&#x27;hello&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.upper([<span class="hljs-string">&#x27;hello&#x27;</span>,<span class="hljs-string">&#x27;world&#x27;</span>]))<br><span class="hljs-built_in">print</span>(np.char.split (<span class="hljs-string">&#x27;hello how are you?&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.split (<span class="hljs-string">&#x27;YiibaiPoint,Hyderabad,Telangana&#x27;</span>, sep = <span class="hljs-string">&#x27;,&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.splitlines(<span class="hljs-string">&#x27;hello\nhow are you?&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.splitlines(<span class="hljs-string">&#x27;hello\rhow are you?&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.strip(<span class="hljs-string">&#x27;ashok arora&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.strip([<span class="hljs-string">&#x27;arora&#x27;</span>,<span class="hljs-string">&#x27;admin&#x27;</span>,<span class="hljs-string">&#x27;java&#x27;</span>],<span class="hljs-string">&#x27;a&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.join(<span class="hljs-string">&#x27;:&#x27;</span>,<span class="hljs-string">&#x27;dmy&#x27;</span>))<br><span class="hljs-built_in">print</span>(np.char.join([<span class="hljs-string">&#x27;:&#x27;</span>,<span class="hljs-string">&#x27;-&#x27;</span>],[<span class="hljs-string">&#x27;dmy&#x27;</span>,<span class="hljs-string">&#x27;ymd&#x27;</span>]))<br><span class="hljs-built_in">print</span>(np.char.replace (<span class="hljs-string">&#x27;He is a good boy&#x27;</span>, <span class="hljs-string">&#x27;is&#x27;</span>, <span class="hljs-string">&#x27;was&#x27;</span>))<br>a = np.char.encode(<span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-string">&#x27;cp500&#x27;</span>)<br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(np.char.decode(a,<span class="hljs-string">&#x27;cp500&#x27;</span>))<br>[<span class="hljs-string">&#x27;hello xyz&#x27;</span>]<br>[<span class="hljs-string">&#x27;hello abc&#x27;</span> <span class="hljs-string">&#x27;hi xyz&#x27;</span>]<br>Hello Hello Hello <br>*******hello********<br>Hello world<br>Hello How Are You?<br>[<span class="hljs-string">&#x27;hello&#x27;</span> <span class="hljs-string">&#x27;world&#x27;</span>]<br>hello<br>HELLO<br>[<span class="hljs-string">&#x27;HELLO&#x27;</span> <span class="hljs-string">&#x27;WORLD&#x27;</span>]<br>[<span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-string">&#x27;how&#x27;</span>, <span class="hljs-string">&#x27;are&#x27;</span>, <span class="hljs-string">&#x27;you?&#x27;</span>]<br>[<span class="hljs-string">&#x27;YiibaiPoint&#x27;</span>, <span class="hljs-string">&#x27;Hyderabad&#x27;</span>, <span class="hljs-string">&#x27;Telangana&#x27;</span>]<br>[<span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-string">&#x27;how are you?&#x27;</span>]<br>[<span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-string">&#x27;how are you?&#x27;</span>]<br>shok aror<br>[<span class="hljs-string">&#x27;ror&#x27;</span> <span class="hljs-string">&#x27;dmin&#x27;</span> <span class="hljs-string">&#x27;jav&#x27;</span>]<br>d:m:y<br>[<span class="hljs-string">&#x27;d:m:y&#x27;</span> <span class="hljs-string">&#x27;y-m-d&#x27;</span>]<br>He was a good boy<br>b<span class="hljs-string">&#x27;\x88\x85\x93\x93\x96&#x27;</span><br>hello<br></code></pre></td></tr></table></figure><h2 id="09-NumPy-ç®—æ•°å‡½æ•°"><a href="#09-NumPy-ç®—æ•°å‡½æ•°" class="headerlink" title="09 NumPy - ç®—æ•°å‡½æ•°"></a>09 NumPy - ç®—æ•°å‡½æ•°</h2><p>NumPy åŒ…å«å¤§é‡çš„å„ç§æ•°å­¦è¿ç®—åŠŸèƒ½ã€‚NumPy æä¾›æ ‡å‡†çš„ä¸‰è§’å‡½æ•°ï¼Œç®—æœ¯è¿ç®—çš„å‡½æ•°ï¼Œå¤æ•°å¤„ç†å‡½æ•°ç­‰ã€‚</p><ul><li>ä¸‰è§’å‡½æ•°</li><li>èˆå…¥å‡½æ•°</li><li>ç®—æ•°å‡½æ•°</li></ul><h3 id="1-NumPy-ä¸‰è§’å‡½æ•°"><a href="#1-NumPy-ä¸‰è§’å‡½æ•°" class="headerlink" title="1. NumPy -ä¸‰è§’å‡½æ•°"></a><strong>1. NumPy -ä¸‰è§’å‡½æ•°</strong></h3><p>NumPy æ‹¥æœ‰æ ‡å‡†çš„ä¸‰è§’å‡½æ•°ï¼Œå®ƒä¸ºå¼§åº¦åˆ¶å•ä½çš„ç»™å®šè§’åº¦è¿”å›ä¸‰è§’å‡½ æ•°æ¯”å€¼ã€‚arcsinï¼Œarccosï¼Œå’Œarctanå‡½æ•°è¿”å›ç»™å®šè§’åº¦çš„sinï¼Œcoså’Œtançš„åä¸‰è§’å‡½æ•°ã€‚è¿™äº›å‡½æ•°çš„ç»“æœå¯ä»¥é€šè¿‡ <code>numpy.degrees()</code>å‡½æ•°é€šè¿‡å°†å¼§åº¦åˆ¶ è½¬æ¢ä¸ºè§’åº¦åˆ¶æ¥éªŒè¯ã€‚</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs maxima">import numpy as <span class="hljs-built_in">np</span><br>a = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">array</span>([<span class="hljs-number">0</span>,<span class="hljs-number">30</span>,<span class="hljs-number">45</span>,<span class="hljs-number">60</span>,<span class="hljs-number">90</span>])<br># é€šè¿‡ä¹˜ pi/<span class="hljs-number">180</span> è½¬åŒ–ä¸ºå¼§åº¦<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">np</span>.<span class="hljs-built_in">sin</span>(a*<span class="hljs-built_in">np</span>.pi/<span class="hljs-number">180</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">np</span>.<span class="hljs-built_in">cos</span>(a*<span class="hljs-built_in">np</span>.pi/<span class="hljs-number">180</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">np</span>.<span class="hljs-built_in">tan</span>(a*<span class="hljs-built_in">np</span>.pi/<span class="hljs-number">180</span>))<br>[ <span class="hljs-number">0</span>.          <span class="hljs-number">0.5</span>         <span class="hljs-number">0.70710678</span>  <span class="hljs-number">0.8660254</span>   <span class="hljs-number">1</span>.        ]<br>[  <span class="hljs-number">1.00000000e+00</span>   <span class="hljs-number">8.66025404e-01</span>   <span class="hljs-number">7.07106781e-01</span>   <span class="hljs-number">5.00000000e-01</span><br>   <span class="hljs-number">6.12323400e-17</span>]<br>[  <span class="hljs-number">0.00000000e+00</span>   <span class="hljs-number">5.77350269e-01</span>   <span class="hljs-number">1.00000000e+00</span>   <span class="hljs-number">1.73205081e+00</span><br>   <span class="hljs-number">1.63312394e+16</span>]<br></code></pre></td></tr></table></figure><h3 id="2-NumPy-èˆå…¥å‡½æ•°"><a href="#2-NumPy-èˆå…¥å‡½æ•°" class="headerlink" title="2.NumPy -èˆå…¥å‡½æ•°"></a><strong>2.NumPy -èˆå…¥å‡½æ•°</strong></h3><ul><li><p><code>numpy.around()</code>è¿™ä¸ªå‡½æ•°è¿”å›å››èˆäº”å…¥åˆ°æ‰€éœ€ç²¾åº¦çš„å€¼</p></li><li><ul><li>numpy.around(a,decimals) â€“ a è¾“å…¥æ•°ç»„</li><li>decimals è¦èˆå…¥çš„å°æ•°ä½æ•°ã€‚é»˜è®¤å€¼ä¸º0ã€‚å¦‚æœä¸ºè´Ÿï¼Œæ•´æ•°å°†å››èˆäº”å…¥åˆ°å°æ•°ç‚¹å·¦ä¾§çš„ä½ç½®</li></ul></li><li><p><code>numpy.floor()</code> å‡½æ•°è¿”å›ä¸å¤§äºè¾“å…¥å‚æ•°çš„æœ€å¤§æ•´æ•°ã€‚</p></li><li><p><code>numpy.ceil()</code> å‡½æ•°è¿”å›è¾“å…¥å€¼çš„ä¸Šé™ï¼Œå¤§äºè¾“å…¥å‚æ•°çš„æœ€å°æ•´æ•°</p></li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[1.0, 5.55, 123, 0.567, 25.532]</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.around(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.around(a, decimals=<span class="hljs-number">1</span>)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.floor(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.ceil(a)</span></span>)<br><span class="hljs-selector-attr">[   1.    6.  123.    1.   26.]</span><br><span class="hljs-selector-attr">[   1.     5.6  123.     0.6   25.5]</span><br><span class="hljs-selector-attr">[   1.    5.  123.    0.   25.]</span><br><span class="hljs-selector-attr">[   1.    6.  123.    1.   26.]</span><br></code></pre></td></tr></table></figure><h3 id="3-NumPy-ç®—æ•°è¿ç®—"><a href="#3-NumPy-ç®—æ•°è¿ç®—" class="headerlink" title="3.NumPy - ç®—æ•°è¿ç®—"></a><strong>3.NumPy - ç®—æ•°è¿ç®—</strong></h3><p>ç”¨äºæ‰§è¡Œç®—æœ¯è¿ç®—(å¦‚add()ï¼Œsubtract()ï¼Œmultiply()å’Œdivide())çš„è¾“å…¥æ•°ç»„å¿…é¡»å…·æœ‰ç›¸åŒçš„å½¢çŠ¶æˆ–ç¬¦åˆæ•°ç»„å¹¿æ’­è§„åˆ™ã€‚</p><ul><li><code>numpy.reciprocal()</code> å‡½æ•°è¿”å›å‚æ•°é€å…ƒç´ çš„å€’æ•°ã€‚</li><li><code>numpy.power()</code> å‡½æ•°å°†ç¬¬ä¸€ä¸ªè¾“å…¥æ•°ç»„ä¸­çš„å…ƒç´ ä½œä¸ºåº•æ•°ï¼Œè®¡ç®—å®ƒä¸ç¬¬äºŒä¸ªè¾“å…¥æ•°ç»„ä¸­ç›¸åº”å…ƒç´ çš„å¹‚ã€‚</li><li><code>numpy.mod()</code> å‡½æ•°è¿”å›è¾“å…¥æ•°ç»„ä¸­ç›¸åº”å…ƒç´ çš„é™¤æ³•ä½™æ•°</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> numpy as np<br><span class="hljs-attribute">a</span> = np.array([<span class="hljs-number">0</span>.<span class="hljs-number">25</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>.<span class="hljs-number">2</span>, <span class="hljs-number">100</span>])<br><span class="hljs-attribute">print</span>(np.reciprocal(a))<br><span class="hljs-attribute">print</span>(np.power(a,<span class="hljs-number">2</span>))<br><span class="hljs-attribute">a</span> = np.array([<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>])<br><span class="hljs-attribute">b</span> = np.array([<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>])<br><span class="hljs-attribute">print</span>(np.mod(a,b))<span class="hljs-meta"></span><br><span class="hljs-meta">[ 4.    0.5   1.    5.    0.01]</span><span class="hljs-meta"></span><br><span class="hljs-meta">[  6.25000000e-02   4.00000000e+00   1.00000000e+00</span><br><span class="hljs-meta">   4.00000000e-02.  1.00000000e+04]</span><span class="hljs-meta"></span><br><span class="hljs-meta">[1 0 2]</span><br></code></pre></td></tr></table></figure><h3 id="4-NumPy-ç»Ÿè®¡å‡½æ•°"><a href="#4-NumPy-ç»Ÿè®¡å‡½æ•°" class="headerlink" title="4.NumPy - ç»Ÿè®¡å‡½æ•°"></a><strong>4.NumPy - ç»Ÿè®¡å‡½æ•°</strong></h3><p>NumPy æœ‰å¾ˆå¤šæœ‰ç”¨çš„ç»Ÿè®¡å‡½æ•°ï¼Œç”¨äºä»æ•°ç»„ä¸­ç»™å®šçš„å…ƒç´ ä¸­æŸ¥æ‰¾æœ€å°ï¼Œæœ€å¤§ï¼Œç™¾åˆ†æ ‡å‡†å·®å’Œæ–¹å·®ç­‰ã€‚</p><ul><li><p><code>numpy.amin() , numpy.amax()</code> ä»ç»™å®šæ•°ç»„ä¸­çš„å…ƒç´ æ²¿æŒ‡å®šè½´è¿”å›æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚</p></li><li><p><code>numpy.ptp()</code> å‡½æ•°è¿”å›æ²¿è½´çš„å€¼çš„èŒƒå›´(æœ€å¤§å€¼ - æœ€å°å€¼)ã€‚</p></li><li><p><code>numpy.percentile()</code> è¡¨ç¤ºå°äºè¿™ä¸ªå€¼å¾—è§‚å¯Ÿå€¼å æŸä¸ªç™¾åˆ†æ¯”</p></li><li><p><code>numpy.percentile(a, q, axis)</code></p></li><li><ul><li>a è¾“å…¥æ•°ç»„;</li><li>q è¦è®¡ç®—çš„ç™¾åˆ†ä½æ•°ï¼Œåœ¨ 0 ~ 100 ä¹‹é—´;</li><li>axis æ²¿ç€å®ƒè®¡ç®—ç™¾åˆ†ä½æ•°çš„è½´</li></ul></li><li><p><code>numpy.median() </code>è¿”å›æ•°æ®æ ·æœ¬çš„ä¸­ä½æ•°ã€‚</p></li><li><p><code>numpy.mean() </code>æ²¿è½´è¿”å›æ•°ç»„ä¸­å…ƒç´ çš„ç®—æœ¯å¹³å‡å€¼ã€‚</p></li><li><p><code>numpy.average()</code> è¿”å›ç”±æ¯ä¸ªåˆ†é‡ä¹˜ä»¥åæ˜ å…¶é‡è¦æ€§çš„å› å­å¾—åˆ°çš„åŠ æƒå¹³å‡å€¼</p></li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[[3,7,5]</span>,<span class="hljs-selector-attr">[8,4,3]</span>,<span class="hljs-selector-attr">[2,4,9]</span>])<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.amin(a,<span class="hljs-number">1</span>)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.amax(a,<span class="hljs-number">1</span>)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.ptp(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.percentile(a,<span class="hljs-number">50</span>)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.median(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.mean(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.average(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.std([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])</span></span>) #è¿”å›æ•°ç»„æ ‡å‡†å·®<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.var([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])</span></span>) #è¿”å›æ•°ç»„æ–¹å·®<br><span class="hljs-selector-attr">[3 3 2]</span><br><span class="hljs-selector-attr">[7 8 9]</span><br><span class="hljs-number">7</span><br><span class="hljs-number">4.0</span><br><span class="hljs-number">4.0</span><br><span class="hljs-number">5.0</span><br><span class="hljs-number">5.0</span><br><span class="hljs-number">1.11803398875</span><br><span class="hljs-number">1.25</span><br></code></pre></td></tr></table></figure><h2 id="10-æ’åºã€æœç´¢å’Œè®¡æ•°å‡½æ•°"><a href="#10-æ’åºã€æœç´¢å’Œè®¡æ•°å‡½æ•°" class="headerlink" title="10 æ’åºã€æœç´¢å’Œè®¡æ•°å‡½æ•°"></a>10 æ’åºã€æœç´¢å’Œè®¡æ•°å‡½æ•°</h2><p>NumPyä¸­æä¾›äº†å„ç§æ’åºç›¸å…³åŠŸèƒ½ã€‚</p><ul><li><p><code>numpy.sort()</code> å‡½æ•°è¿”å›è¾“å…¥æ•°ç»„çš„æ’åºå‰¯æœ¬ã€‚numpy.sort(a, axis, kind, order)</p></li><li><ul><li>a è¦æ’åºçš„æ•°ç»„;</li><li>axis æ²¿ç€å®ƒæ’åºæ•°ç»„çš„è½´ï¼Œå¦‚æœæ²¡æœ‰æ•°ç»„ä¼šè¢«å±•å¼€ï¼Œæ²¿ç€æœ€åçš„è½´æ’åº;</li><li>kind é»˜è®¤ä¸ºâ€™quicksortâ€™(å¿«é€Ÿæ’åº);</li><li>order å¦‚æœæ•°ç»„åŒ…å«å­—æ®µï¼Œåˆ™æ˜¯è¦æ’åºçš„å­—æ®µ</li></ul></li><li><p><code>numpy.argsort()</code> å‡½æ•°å¯¹è¾“å…¥æ•°ç»„æ²¿ç»™å®šè½´æ‰§è¡Œé—´æ¥æ’åºï¼Œå¹¶ä½¿ç”¨æŒ‡å®šæ’åºç±»å‹è¿”å›æ•°æ®çš„ç´¢å¼•æ•°ç»„ã€‚è¿™ä¸ªç´¢å¼•æ•°ç»„ç”¨äºæ„é€ æ’åºåçš„æ•°ç»„ã€‚</p></li><li><p><code>numpy.lexsort()</code> å‡½æ•°ä½¿ç”¨é”®åºåˆ—æ‰§è¡Œé—´æ¥æ’åºã€‚é”®å¯ä»¥çœ‹ä½œæ˜¯ç”µå­è¡¨æ ¼ä¸­çš„ä¸€åˆ—ã€‚è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªç´¢å¼•æ•°ç»„ï¼Œä½¿ç”¨å®ƒå¯ä»¥è·å¾—æ’åºæ•°æ®ã€‚æ³¨æ„ï¼Œæœ€åä¸€ä¸ªé”®æ°å¥½æ˜¯ sort çš„ä¸»é”®ã€‚</p></li><li><p><code>numpy.argmax() å’Œ numpy.argmin()</code> è¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«æ²¿ç»™å®šè½´è¿”å›æœ€å¤§å’Œæœ€å°å…ƒç´ çš„ç´¢å¼•ã€‚</p></li><li><p><code>numpy.nonzero()</code> å‡½æ•°è¿”å›è¾“å…¥æ•°ç»„ä¸­éé›¶å…ƒç´ çš„ç´¢å¼•ã€‚</p></li><li><p><code>numpy.where()</code> å‡½æ•°è¿”å›è¾“å…¥æ•°ç»„ä¸­æ»¡è¶³ç»™å®šæ¡ä»¶çš„å…ƒç´ çš„ç´¢å¼•ã€‚</p></li><li><p><code>numpy.extract()</code> å‡½æ•°è¿”å›æ»¡è¶³ä»»ä½•æ¡ä»¶çš„å…ƒç´ ã€‚</p></li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import numpy as np<br><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[[3, 7, 3, 1]</span>, <span class="hljs-selector-attr">[9, 7, 8, 7]</span>])<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.sort(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.argsort(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.argmax(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.argmin(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.nonzero(a)</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.where(a &gt; <span class="hljs-number">3</span>)</span></span>)<br>nm = (<span class="hljs-string">&#x27;raju&#x27;</span>, <span class="hljs-string">&#x27;anil&#x27;</span>, <span class="hljs-string">&#x27;ravi&#x27;</span>, <span class="hljs-string">&#x27;amar&#x27;</span>)<br>dv = (<span class="hljs-string">&#x27;f.y.&#x27;</span>, <span class="hljs-string">&#x27;s.y.&#x27;</span>, <span class="hljs-string">&#x27;s.y.&#x27;</span>, <span class="hljs-string">&#x27;f.y.&#x27;</span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(np.lexsort((dv, nm)</span></span>))<br><span class="hljs-selector-attr">[[1 3 3 7]</span><br> <span class="hljs-selector-attr">[7 7 8 9]</span>]<br><span class="hljs-selector-attr">[[3 0 2 1]</span><br> <span class="hljs-selector-attr">[1 3 2 0]</span>]<br><span class="hljs-number">4</span><br><span class="hljs-number">3</span><br>(<span class="hljs-built_in">array</span>(<span class="hljs-selector-attr">[0, 0, 0, 0, 1, 1, 1, 1]</span>, dtype=int64), <br><span class="hljs-function"><span class="hljs-title">array</span><span class="hljs-params">([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], dtype=int64)</span></span>)<br>(<span class="hljs-built_in">array</span>(<span class="hljs-selector-attr">[0, 1, 1, 1, 1]</span>, dtype=int64), <br><span class="hljs-function"><span class="hljs-title">array</span><span class="hljs-params">([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], dtype=int64)</span></span>)<br><span class="hljs-selector-attr">[3 1 0 2]</span><br></code></pre></td></tr></table></figure><h2 id="11-IOæ–‡ä»¶æ“ä½œ"><a href="#11-IOæ–‡ä»¶æ“ä½œ" class="headerlink" title="11 IOæ–‡ä»¶æ“ä½œ"></a>11 IOæ–‡ä»¶æ“ä½œ</h2><p>ndarrayå¯¹è±¡å¯ä»¥ä¿å­˜åˆ°ç£ç›˜æ–‡ä»¶å¹¶ä»ç£ç›˜æ–‡ä»¶åŠ è½½ã€‚å¯ç”¨çš„ IO åŠŸèƒ½æœ‰ï¼š</p><ul><li><code>numpy.save()</code> æ–‡ä»¶å°†è¾“å…¥æ•°ç»„å­˜å‚¨åœ¨å…·æœ‰npyæ‰©å±•åçš„ç£ç›˜æ–‡ä»¶ä¸­ã€‚</li><li><code>numpy.load()</code> ä»npyæ–‡ä»¶ä¸­é‡å»ºæ•°ç»„ã€‚</li><li><code>numpy.savetxt()å’Œnumpy.loadtxt()</code> å‡½æ•°ä»¥ç®€å•æ–‡æœ¬æ–‡ä»¶æ ¼å¼å­˜å‚¨å’Œè·å–æ•°ç»„æ•°æ®ã€‚</li></ul><pre><code class="hljs">import numpy as npa = np.array([1,2,3,4,5])np.save(&#39;outfile&#39;,a)b = np.load(&#39;outfile.npy&#39;)print(b)a = np.array([1,2,3,4,5])np.savetxt(&#39;out.txt&#39;,a)b = np.loadtxt(&#39;out.txt&#39;)print(b)[1 2 3 4 5][ 1.  2.  3.  4.  5.]</code></pre>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Numpy function</title>
    <link href="/2022/08/01/Python/Numpy%E8%AE%A1%E7%AE%97%E4%B8%8E%E5%88%A4%E6%96%AD/"/>
    <url>/2022/08/01/Python/Numpy%E8%AE%A1%E7%AE%97%E4%B8%8E%E5%88%A4%E6%96%AD/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®è®¡ç®—"><a href="#æ•°æ®è®¡ç®—" class="headerlink" title="æ•°æ®è®¡ç®—"></a>æ•°æ®è®¡ç®—</h1><p>Numpyå¯¹äºç›¸åŒç»´åº¦çš„æ•°ç»„å¯ä»¥ç›´æ¥è¿ç®—ã€‚å¯¹äºä¸åŒshapeå¤§å°çš„æ•°æ®ï¼Œåˆ©ç”¨å¹¿æ’­æœºåˆ¶ï¼ˆBroadcastï¼‰è¿›è¡Œæ“ä½œã€‚ä½†æ˜¯è¦æ±‚æœ€åä¸€ä¸ªç»´åº¦çš„å¤§å°ä¸º1ï¼Œè¿™æ ·æ‰èƒ½å¯¹æ•°æ®è¿›è¡ŒåŠ å‡å¯ä»¥ä½¿ç”¨è¿›è¡Œæ•°æ®è®¡</p><blockquote><p>å¹¿æ’­çš„è§„åˆ™ï¼š</p><ul><li>è®©æ‰€æœ‰è¾“å…¥æ•°ç»„éƒ½å‘å…¶ä¸­å½¢çŠ¶æœ€é•¿çš„æ•°ç»„çœ‹é½ï¼Œå½¢çŠ¶ä¸­ä¸è¶³çš„éƒ¨åˆ†éƒ½é€šè¿‡åœ¨å‰é¢åŠ  1 è¡¥é½ã€‚</li><li>è¾“å‡ºæ•°ç»„çš„å½¢çŠ¶æ˜¯è¾“å…¥æ•°ç»„å½¢çŠ¶çš„å„ä¸ªç»´åº¦ä¸Šçš„æœ€å¤§å€¼ã€‚</li><li>å¦‚æœè¾“å…¥æ•°ç»„çš„æŸä¸ªç»´åº¦å’Œè¾“å‡ºæ•°ç»„çš„å¯¹åº”ç»´åº¦çš„é•¿åº¦ç›¸åŒæˆ–è€…å…¶é•¿åº¦ä¸º 1 æ—¶ï¼Œè¿™ä¸ªæ•°ç»„èƒ½å¤Ÿç”¨æ¥è®¡ç®—ï¼Œå¦åˆ™å‡ºé”™ã€‚</li><li>å½“è¾“å…¥æ•°ç»„çš„æŸä¸ªç»´åº¦çš„é•¿åº¦ä¸º 1 æ—¶ï¼Œæ²¿ç€æ­¤ç»´åº¦è¿ç®—æ—¶éƒ½ç”¨æ­¤ç»´åº¦ä¸Šçš„ç¬¬ä¸€ç»„å€¼ã€‚</li></ul></blockquote><h1 id="æ•°å­¦å‡½æ•°"><a href="#æ•°å­¦å‡½æ•°" class="headerlink" title="æ•°å­¦å‡½æ•°"></a>æ•°å­¦å‡½æ•°</h1><p>ä¸‰è§’å‡½æ•°ï¼šsin() cos() tan()  arcsin()  arccos() arctan()ç­‰<br>è§’åº¦ä¸å¼§åº¦çš„è½¬åŒ–ä¸»è¦åˆ©ç”¨çš„æ˜¯ np.degrees() å’Œnp.radians() </p><h1 id="çº¿æ€§ä»£æ•°"><a href="#çº¿æ€§ä»£æ•°" class="headerlink" title="çº¿æ€§ä»£æ•°"></a>çº¿æ€§ä»£æ•°</h1><p><strong>linalg</strong>æ˜¯å…³äºçº¿æ€§ä»£æ•°çš„å‡½æ•°åº“ã€‚</p><table><thead><tr><th align="left">å‡½æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>numpy.dot(a, b, out=None) </code></td><td align="left">ä¸¤ä¸ªæ•°ç»„çš„ç‚¹ç§¯ï¼Œå³å…ƒç´ å¯¹åº”ç›¸ä¹˜ã€‚</td></tr><tr><td align="left"><code>numpy.vdot() </code></td><td align="left">ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯</td></tr><tr><td align="left"><code>numpy.inner()</code></td><td align="left">ä¸¤ä¸ªæ•°ç»„çš„å†…ç§¯</td></tr><tr><td align="left"><code>numpy.matmul()</code></td><td align="left">ä¸¤ä¸ªæ•°ç»„çš„çŸ©é˜µç§¯</td></tr><tr><td align="left"><code>numpy.linalg.det()</code></td><td align="left">çŸ©é˜µçš„è¡Œåˆ—å¼</td></tr><tr><td align="left"><code>numpy.linalg.solve()</code></td><td align="left">æ±‚è§£çº¿æ€§çŸ©é˜µæ–¹ç¨‹</td></tr><tr><td align="left"><code>numpy.linalg.inv()</code></td><td align="left">è®¡ç®—çŸ©é˜µçš„ä¹˜æ³•é€†çŸ©é˜µ</td></tr></tbody></table><h1 id="èˆå…¥å‡½æ•°"><a href="#èˆå…¥å‡½æ•°" class="headerlink" title="èˆå…¥å‡½æ•°"></a>èˆå…¥å‡½æ•°</h1><ul><li><code>numpy.around(a,decimals)</code> è¿”å›æŒ‡å®šæ•°å­—çš„å››èˆäº”å…¥å€¼<br> <strong>decimals</strong>: èˆå…¥çš„å°æ•°ä½æ•°ã€‚ é»˜è®¤å€¼ä¸º0ã€‚ å¦‚æœä¸ºè´Ÿï¼Œæ•´æ•°å°†å››èˆäº”å…¥åˆ°å°æ•°ç‚¹å·¦ä¾§çš„ä½ç½®</li><li><code>numpy.floor()</code> å‘ä¸‹å–æ•´</li><li><code>numpy.ceil()</code> å‘ä¸Šå–æ•´</li><li><code>numpy.trunc()</code> è¿”å›æ•°æ®æœ€æ¥è¿‘çš„æ•´æ•°</li></ul><h1 id="ç®—æœ¯å‡½æ•°"><a href="#ç®—æœ¯å‡½æ•°" class="headerlink" title="ç®—æœ¯å‡½æ•°"></a>ç®—æœ¯å‡½æ•°</h1><ul><li><p><code>numpy.add()ï¼Œnumpy.subtract()ï¼Œnumpy.multiply() å’Œ numpy.divide()</code> æ•°ç»„çš„åŠ å‡ä¹˜é™¤</p></li><li><p><code>numpy.reciprocal()</code> è¿”å›å‚æ•°é€å…ƒç´ çš„å€’æ•°</p></li><li><p><code>numpy.power()</code>å°†ç¬¬ä¸€ä¸ªè¾“å…¥æ•°ç»„ä¸­çš„å…ƒç´ ä½œä¸ºåº•æ•°ï¼Œè®¡ç®—å®ƒä¸ç¬¬äºŒä¸ªè¾“å…¥æ•°ç»„ä¸­ç›¸åº”å…ƒç´ çš„å¹‚ã€‚ </p></li><li><p><code>numpy.mod()</code>è®¡ç®—è¾“å…¥æ•°ç»„ä¸­ç›¸åº”å…ƒç´ çš„ç›¸é™¤åçš„ä½™æ•°</p></li><li><p><code>numpy.ufunc.outer</code></p><blockquote><p>ä»–çš„åŸç†æ˜¯é’ˆå¯¹ä¸¤ä¸ªæ•°ç»„æˆ–è€…çŸ©é˜µçš„æ¯ä¸ªå…ƒç´ åšè¿ç®—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">r = empty(<span class="hljs-built_in">len</span>(A), <span class="hljs-built_in">len</span>(B))<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(A)):<br> <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(B)):<br>     r[i,j]=op(A[i], B[j])<br>//opæŒ‡çš„æ˜¯ufuncçš„æ“ä½œæ˜¯ä»€ä¹ˆå¯èƒ½æ˜¯åŠ  å‡ ä¹˜ é™¤<br></code></pre></td></tr></table></figure></blockquote></li></ul><h1 id="ç»Ÿè®¡å‡½æ•°"><a href="#ç»Ÿè®¡å‡½æ•°" class="headerlink" title="ç»Ÿè®¡å‡½æ•°"></a>ç»Ÿè®¡å‡½æ•°</h1><ul><li><p><code>numpy.amin() å’Œ numpy.amax()</code> è®¡ç®—æ•°ç»„ä¸­çš„å…ƒç´ æ²¿æŒ‡å®šè½´çš„æœ€å°å€¼æˆ–æœ€å¤§å€¼ã€‚</p></li><li><p><code>numpy.ptp()</code> è®¡ç®—æ•°ç»„ä¸­å…ƒç´ æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®</p></li><li><p><code>numpy.percentile(a, q, axis)</code> ç™¾åˆ†ä½æ•°æ˜¯ç»Ÿè®¡ä¸­ä½¿ç”¨çš„åº¦é‡ï¼Œè¡¨ç¤ºå°äºè¿™ä¸ªå€¼çš„è§‚å¯Ÿå€¼çš„ç™¾åˆ†æ¯”</p><p><strong>a</strong>: è¾“å…¥æ•°ç»„; <strong>q</strong>: è¦è®¡ç®—çš„ç™¾åˆ†ä½æ•°ï¼Œåœ¨ 0 ~ 100 ä¹‹é—´; <strong>axis</strong>: æ²¿ç€å®ƒè®¡ç®—ç™¾åˆ†ä½æ•°çš„è½´</p></li><li><p><code>numpy.median() </code> ä¸­ä½æ•°</p></li><li><p><code>numpy.mean()</code> å¹³å‡å€¼ </p></li><li><p><code>numpy.average()</code> å¹³å‡å€¼ æ›´å¤šçš„ç”¨äºè®¡ç®—åŠ æƒå¹³å‡å€¼</p></li><li><p><code>numpy.std()</code> æ ‡å‡†å·®</p></li><li><p><code>numpy.var()</code> æ–¹å·®</p></li></ul><h1 id="æ’åºå‡½æ•°ä¸æ¡ä»¶å‡½æ•°"><a href="#æ’åºå‡½æ•°ä¸æ¡ä»¶å‡½æ•°" class="headerlink" title="æ’åºå‡½æ•°ä¸æ¡ä»¶å‡½æ•°"></a>æ’åºå‡½æ•°ä¸æ¡ä»¶å‡½æ•°</h1><table><thead><tr><th align="left">ç§ç±»</th><th align="left">é€Ÿåº¦</th><th align="left">æœ€åæƒ…å†µ</th><th align="left">å·¥ä½œç©ºé—´</th><th align="left">ç¨³å®šæ€§</th></tr></thead><tbody><tr><td align="left"><code>&#39;quicksort&#39;</code>ï¼ˆå¿«é€Ÿæ’åºï¼‰</td><td align="left">1</td><td align="left"><code>O(n^2)</code></td><td align="left">0</td><td align="left">å¦</td></tr><tr><td align="left"><code>&#39;mergesort&#39;</code>ï¼ˆå½’å¹¶æ’åºï¼‰</td><td align="left">2</td><td align="left"><code>O(n*log(n))</code></td><td align="left">~n&#x2F;2</td><td align="left">æ˜¯</td></tr><tr><td align="left"><code>&#39;heapsort&#39;</code>ï¼ˆå †æ’åºï¼‰</td><td align="left">3</td><td align="left"><code>O(n*log(n))</code></td><td align="left">0</td><td align="left">å¦</td></tr></tbody></table><ul><li><p><code>numpy.sort(a, axis, kind, order)</code> </p><p><strong>a</strong>: è¦æ’åºçš„æ•°ç»„; <strong>axis</strong>: æ²¿ç€å®ƒæ’åºæ•°ç»„çš„è½´ï¼Œå¦‚æœæ²¡æœ‰æ•°ç»„ä¼šè¢«å±•å¼€ï¼Œæ²¿ç€æœ€åçš„è½´æ’åºï¼Œ axis&#x3D;0 æŒ‰åˆ—æ’åºï¼Œaxis&#x3D;1 æŒ‰è¡Œæ’åº; <strong>kind</strong>: é»˜è®¤ä¸ºâ€™quicksortâ€™ï¼ˆå¿«é€Ÿæ’åºï¼‰ <strong>order</strong>: å¦‚æœæ•°ç»„åŒ…å«å­—æ®µï¼Œåˆ™æ˜¯è¦æ’åºçš„å­—æ®µ</p></li><li><p><code>numpy.argsort()</code> è¿”å›çš„æ˜¯æ•°ç»„å€¼ä»å°åˆ°å¤§çš„ç´¢å¼•å€¼</p></li><li><p><code>numpy.argmax() å’Œ numpy.argmin()</code>å‡½æ•°åˆ†åˆ«æ²¿ç»™å®šè½´è¿”å›æœ€å¤§å’Œæœ€å°å…ƒç´ çš„ç´¢å¼•</p></li><li><p><code>numpy.argpartition(a, kth, axis=- 1, kind=&#39;introselect&#39;, order=None)</code>å¯ä»¥æ‰¾å‡º k ä¸ªæœ€å¤§æ•°å€¼çš„ç´¢å¼• </p></li><li><p><code>numpy.nonzero() </code>å‡½æ•°è¿”å›è¾“å…¥æ•°ç»„ä¸­éé›¶å…ƒç´ çš„ç´¢å¼•</p></li><li><p><code>numpy.where(condition, ture, false)</code> å‡½æ•°è¿”å›è¾“å…¥æ•°ç»„ä¸­æ»¡è¶³ç»™å®šæ¡ä»¶çš„å…ƒç´ çš„ç´¢å¼•</p></li><li><p><code>numpy.extract(condition, array)</code> å‡½æ•°æ ¹æ®æŸä¸ªæ¡ä»¶ä»æ•°ç»„ä¸­æŠ½å–å…ƒç´ ï¼Œè¿”å›æ»¡æ¡ä»¶çš„å…ƒç´ ã€‚</p></li><li><p><code>numpy.allclose()</code> åŒ¹é…ä¸¤ä¸ªæ•°ç»„ï¼Œæ£€æŸ¥ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ä¼¼ï¼Œå¹¶å¾—åˆ°å¸ƒå°”å€¼è¡¨ç¤ºçš„è¾“å‡º</p></li></ul><h1 id="ä¿å­˜"><a href="#ä¿å­˜" class="headerlink" title="ä¿å­˜"></a>ä¿å­˜</h1><p><code>numpy.save(file, arr, allow_pickle=True, fix_imports=True)</code> å°†æ•°ç»„ä¿å­˜åˆ°ä»¥ .npy ä¸ºæ‰©å±•åçš„æ–‡ä»¶ä¸­ã€‚</p><ul><li><strong>file</strong>ï¼šè¦ä¿å­˜çš„æ–‡ä»¶ï¼Œæ‰©å±•åä¸º .npyï¼Œå¦‚æœæ–‡ä»¶è·¯å¾„æœ«å°¾æ²¡æœ‰æ‰©å±•å .npyï¼Œè¯¥æ‰©å±•åä¼šè¢«è‡ªåŠ¨åŠ ä¸Šã€‚</li><li><strong>arr</strong>: è¦ä¿å­˜çš„æ•°ç»„</li><li><strong>allow_pickle</strong>: å¯é€‰ï¼Œå¸ƒå°”å€¼ï¼Œå…è®¸ä½¿ç”¨ Python pickles ä¿å­˜å¯¹è±¡æ•°ç»„ï¼ŒPython ä¸­çš„ pickle ç”¨äºåœ¨ä¿å­˜åˆ°ç£ç›˜æ–‡ä»¶æˆ–ä»ç£ç›˜æ–‡ä»¶è¯»å–ä¹‹å‰ï¼Œå¯¹å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</li><li><strong>fix_imports</strong>: å¯é€‰ï¼Œä¸ºäº†æ–¹ä¾¿ Pyhton2 ä¸­è¯»å– Python3 ä¿å­˜çš„æ•°æ®ã€‚</li></ul><h1 id="è¾“å‡ºæ ¼å¼è®¾ç½®"><a href="#è¾“å‡ºæ ¼å¼è®¾ç½®" class="headerlink" title="è¾“å‡ºæ ¼å¼è®¾ç½®"></a>è¾“å‡ºæ ¼å¼è®¾ç½®</h1><p><strong>np.set_printopoints()å¯ä»¥æ§åˆ¶è¾“å‡ºæ ¼å¼ è¿™äº›é€‰é¡¹ç¡®å®šæµ®ç‚¹æ•°ã€æ•°ç»„å’Œå…¶ä»– NumPy å¯¹è±¡çš„æ˜¾ç¤ºæ–¹å¼ã€‚</strong></p><p>precisionï¼šint or Noneæµ®ç‚¹è¾“å‡ºçš„ç²¾åº¦ä½æ•°(é»˜è®¤8)# å¦‚floatmodeä¸æ˜¯fixedï¼Œå¯èƒ½æ˜¯None</p><p>thresholdï¼šintè§¦å‘æ±‡æ€»çš„æ•°ç»„å…ƒç´ æ€»æ•°è€Œä¸æ˜¯å®Œæ•´çš„repr(é»˜è®¤1000)<br>edgeitemsï¼šintåœ¨å¼€å¤´å’Œç»“å°¾çš„æ‘˜è¦ä¸­çš„æ•°ç»„é¡¹æ•° æ¯ä¸ªç»´åº¦(é»˜è®¤ä¸º3)<br>linewidthï¼šintæ¯è¡Œç”¨äºæ’å…¥çš„å­—ç¬¦æ•°# æ¢è¡Œç¬¦(é»˜è®¤ä¸º75)<br>suppress : bool,ç§‘å­¦è®°æ•°æ³•å¯ç”¨</p><p>Trueç”¨å›ºå®šç‚¹æ‰“å°æµ®ç‚¹æ•°ç¬¦å·ï¼Œå½“å‰ç²¾åº¦ä¸­çš„æ•°å­—ç­‰äºé›¶å°†æ‰“å°ä¸ºé›¶ã€‚</p><p>Falseç”¨ç§‘å­¦è®°æ•°æ³•ï¼›æœ€å°æ•°ç»å¯¹å€¼æ˜¯&lt;1e-4æˆ–æ¯”ç‡æœ€å¤§ç»å¯¹å€¼&gt; 1e3ã€‚é»˜è®¤å€¼False</p><p>nanstrï¼šstræµ®ç‚¹éå­—æ¯æ•°å­—çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼(é»˜è®¤ä¸ºnan)<br>infstrï¼šstræµ®ç‚¹æ— ç©·å¤§å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼(é»˜è®¤inf)<br>signï¼šstringï¼Œâ€™ - â€˜ï¼Œâ€™+â€™æˆ–â€™â€™ï¼Œæ§åˆ¶æµ®ç‚¹ç±»å‹ç¬¦å·çš„æ‰“å°ã€‚<br>        â€˜+â€™æ‰“å°æ­£å€¼æ ‡å¿—ã€‚â€™â€™æ‰“å°ç©ºæ ¼ã€‚â€™ - â€˜çœç•¥æ­£å€¼ç¬¦å·ï¼Œé»˜è®¤</p><p>formatterï¼šå¯è°ƒç”¨å­—å…¸ï¼Œæ ¼å¼åŒ–åŠŸèƒ½<br>æ ¼å¼åŒ–è®¾ç½®ç±»å‹ï¼š</p><ul><li>â€˜boolâ€™</li><li>â€˜intâ€™</li><li>â€˜timedeltaâ€™ï¼šâ€™numpy.timedelta64â€™</li><li>â€˜datetimeâ€™ï¼šnumpy.datetime64</li><li>â€˜floatâ€™</li><li>â€˜longfloatâ€™ï¼š128ä½æµ®ç‚¹æ•°</li><li>â€˜complexfloatâ€™</li><li>â€˜longcomplexfloatâ€™ï¼šç”±ä¸¤ä¸ª128ä½æµ®ç‚¹ç»„æˆ</li><li>â€˜numpystrâ€™ : types numpy.string_ and numpy.unicode</li><li><em>â€˜objectâ€™ : np.object</em> arrays</li><li>â€˜strâ€™ï¼šæ‰€æœ‰å…¶ä»–å­—ç¬¦ä¸²</li></ul><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta">#ç”¨äºä¸€æ¬¡è®¾ç½®ä¸€ç»„ç±»å‹çš„å…¶ä»–é”®ï¼š</span><br> - &#x27;all&#x27;ï¼šè®¾ç½®æ‰€æœ‰ç±»å‹<br> - &#x27;int_kind&#x27;ï¼šè®¾ç½®&#x27;int&#x27;<br> - &#x27;float_kind&#x27;ï¼šè®¾ç½®&#x27;float&#x27;å’Œ&#x27;longfloat&#x27;<br> - &#x27;complex_kind&#x27;ï¼šè®¾ç½®&#x27;complexfloat&#x27;å’Œ&#x27;longcomplexfloat&#x27;<br> - &#x27;str_kind&#x27;ï¼šè®¾ç½®&#x27;str&#x27;å’Œ&#x27;numpystr&#x27;<br></code></pre></td></tr></table></figure><p>floatmodeï¼šstræ§åˆ¶precisioné€‰é¡¹çš„è§£é‡Š<br>   æµ®ç‚¹ç±»å‹å€¼ï¼š<br>    -â€˜fixedâ€™ï¼šå§‹ç»ˆæ‰“å°ç²¾ç¡®çš„â€™precisionç²¾åº¦â€™å°æ•°ä½<br>    -â€˜uniqueâ€™ï¼šæ‰“å°æœ€å°å°æ•°ä½æ•°ï¼Œprecisioné€‰é¡¹è¢«å¿½ç•¥ã€‚<br>    -â€˜maxprecâ€™ï¼šæ‰“å°æœ€å¤šprecisionå°æ•°ä½æ•°<br>    -â€˜maxprec_equalâ€™ï¼šæœ€å¤šæ‰“å°precisionå°æ•°ä½æ•°</p><p>legacyï¼šstringæˆ–False<br>     å¦‚ä¸ºå­—ç¬¦ä¸²â€œ1.13â€ï¼Œåˆ™å¯ç”¨1.13ä¼ ç»Ÿæ‰“å°æ¨¡å¼ã€‚<br>    å¦‚è®¾ç½®â€œFalseâ€ï¼Œç¦ç”¨ä¼ ç»Ÿæ¨¡å¼ã€‚æ— æ³•è¯†åˆ«çš„å­—ç¬¦ä¸²å°†è¢«å¿½ç•¥</p><h1 id="tips"><a href="#tips" class="headerlink" title="tips:"></a>tips:</h1><p><strong>np.sumå’Œnp.add.reduceæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong>ä¸¤è€…çš„æ€§èƒ½ä¼¼ä¹æ˜¯å®Œå…¨ä¸åŒçš„ï¼šå¯¹äºç›¸å¯¹è¾ƒå°çš„æ•°ç»„å¤§å°è€Œè¨€ã€‚<code>add.reduce</code>å¤§çº¦å¿«ä¸¤å€ã€‚å¯¹äºè¾ƒå¤§çš„æ•°ç»„å¤§å°ï¼Œå·®åˆ«ä¼¼ä¹æ¶ˆå¤±äº†ã€‚è¾ƒé•¿çš„ç­”æ¡ˆï¼š  <code>np.sum</code>åœ¨ä¸­å®šä¹‰numpy&#x2F;core&#x2F;fromnumeric.pyã€‚åœ¨å®šä¹‰ä¸­<code>np.sum</code>ï¼Œä½ ä¼šçœ‹åˆ°å·¥ä½œè¢«ä¼ é€’ç»™<code>_methods._sum</code>ã€‚è¯¥åŠŸèƒ½æ˜¯_methods.pyç®€å•åœ°è¯´å°±æ˜¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">def <span class="hljs-title function_">_sum</span>(a, axis=<span class="hljs-title class_">None</span>, dtype=<span class="hljs-title class_">None</span>, out=<span class="hljs-title class_">None</span>, keepdims=<span class="hljs-title class_">False</span>):<br>    <span class="hljs-keyword">return</span> um.<span class="hljs-property">add</span>.<span class="hljs-title function_">reduce</span>(a, axis=axis, dtype=dtype,<br>                            out=out, keepdims=keepdims)<br></code></pre></td></tr></table></figure><p><strong>æ€ä¹ˆå¯¹çŸ©é˜µä¸Šä¸‰è§’æˆ–è€…ä¸‹ä¸‰è§’å¤„ç†æ•°æ®ï¼Ÿ</strong></p><p><img src="/%5Csrc%5Cimage-20220222154739735.png" alt="image-20220222154739735"></p><p><strong>numpy.tile(array , size)</strong>  æ‹¼æ¥æ•°ç»„ è‡ªèº«å¤šä¸ªï¿½ï¿½</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Numpy array</title>
    <link href="/2022/08/01/Python/Numpy%E6%95%B0%E7%BB%84/"/>
    <url>/2022/08/01/Python/Numpy%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°ç»„çš„å®šä¹‰"><a href="#æ•°ç»„çš„å®šä¹‰" class="headerlink" title="æ•°ç»„çš„å®šä¹‰"></a>æ•°ç»„çš„å®šä¹‰</h1><p>NumPy æœ€é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯å…¶ N ç»´æ•°ç»„å¯¹è±¡ ndarrayï¼Œå®ƒæ˜¯ä¸€ç³»åˆ—åŒç±»å‹æ•°æ®çš„é›†åˆï¼Œä»¥ 0 ä¸‹æ ‡ä¸ºå¼€å§‹è¿›è¡Œé›†åˆä¸­å…ƒç´ çš„ç´¢å¼•ã€‚</p><p>ndarray å¯¹è±¡æ˜¯ç”¨äºå­˜æ”¾åŒç±»å‹å…ƒç´ çš„å¤šç»´æ•°ç»„ã€‚</p><p>ndarray ä¸­çš„æ¯ä¸ªå…ƒç´ åœ¨å†…å­˜ä¸­éƒ½æœ‰ç›¸åŒå­˜å‚¨å¤§å°çš„åŒºåŸŸã€‚</p><blockquote><p>åˆ›å»ºä¸€ä¸ª ndarray åªéœ€è°ƒç”¨ NumPy çš„ array å‡½æ•°å³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">numpy.array(<span class="hljs-built_in">object</span>, dtype = <span class="hljs-literal">None</span>, copy = <span class="hljs-literal">True</span>, order = <span class="hljs-literal">None</span>, subok = <span class="hljs-literal">False</span>, ndmin = <span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p><table><thead><tr><th align="left">åç§°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">object</td><td align="left">æ•°ç»„æˆ–åµŒå¥—çš„æ•°åˆ—</td></tr><tr><td align="left">dtype</td><td align="left">æ•°ç»„å…ƒç´ çš„æ•°æ®ç±»å‹ï¼Œå¯é€‰</td></tr><tr><td align="left">copy</td><td align="left">å¯¹è±¡æ˜¯å¦éœ€è¦å¤åˆ¶ï¼Œå¯é€‰</td></tr><tr><td align="left">order</td><td align="left">åˆ›å»ºæ•°ç»„çš„æ ·å¼ï¼ŒCä¸ºè¡Œæ–¹å‘ï¼ŒFä¸ºåˆ—æ–¹å‘ï¼ŒAä¸ºä»»æ„æ–¹å‘ï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td align="left">subok</td><td align="left">é»˜è®¤è¿”å›ä¸€ä¸ªä¸åŸºç±»ç±»å‹ä¸€è‡´çš„æ•°ç»„</td></tr><tr><td align="left">ndmin</td><td align="left">æŒ‡å®šç”Ÿæˆæ•°ç»„çš„æœ€å°ç»´åº¦</td></tr></tbody></table></blockquote><h1 id="æ•°ç»„çš„å±æ€§"><a href="#æ•°ç»„çš„å±æ€§" class="headerlink" title="æ•°ç»„çš„å±æ€§"></a>æ•°ç»„çš„å±æ€§</h1><table><thead><tr><th align="left">å±æ€§</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">ndarray.ndim</td><td align="left">ç§©ï¼Œå³è½´çš„æ•°é‡æˆ–ç»´åº¦çš„æ•°é‡</td></tr><tr><td align="left">ndarray.shape</td><td align="left">æ•°ç»„çš„ç»´åº¦ï¼Œå¯¹äºçŸ©é˜µï¼Œn è¡Œ m åˆ—</td></tr><tr><td align="left">ndarray.size</td><td align="left">æ•°ç»„å…ƒç´ çš„æ€»ä¸ªæ•°ï¼Œç›¸å½“äº .shape ä¸­ n*m çš„å€¼</td></tr><tr><td align="left">ndarray.dtype</td><td align="left">ndarray å¯¹è±¡çš„å…ƒç´ ç±»å‹</td></tr><tr><td align="left">ndarray.itemsize</td><td align="left">ndarray å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½</td></tr><tr><td align="left">ndarray.flags</td><td align="left">ndarray å¯¹è±¡çš„å†…å­˜ä¿¡æ¯</td></tr><tr><td align="left">ndarray.real</td><td align="left">ndarrayå…ƒç´ çš„å®éƒ¨</td></tr><tr><td align="left">ndarray.imag</td><td align="left">ndarray å…ƒç´ çš„è™šéƒ¨</td></tr><tr><td align="left">ndarray.data</td><td align="left">åŒ…å«å®é™…æ•°ç»„å…ƒç´ çš„ç¼“å†²åŒºï¼Œç”±äºä¸€èˆ¬é€šè¿‡æ•°ç»„çš„ç´¢å¼•è·å–å…ƒç´ ï¼Œæ‰€ä»¥é€šå¸¸ä¸éœ€è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ã€‚</td></tr></tbody></table><h1 id="æ•°ç»„çš„åˆ›å»ºæ–¹å¼"><a href="#æ•°ç»„çš„åˆ›å»ºæ–¹å¼" class="headerlink" title="æ•°ç»„çš„åˆ›å»ºæ–¹å¼"></a>æ•°ç»„çš„åˆ›å»ºæ–¹å¼</h1><ul><li><p><code>numpy.empty(shape, dtype = float, order = &#39;C&#39;) </code> åˆ›å»ºä¸€ä¸ªæœªåˆå§‹åŒ–çš„æ•°å€¼<br><strong>order</strong>æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼šâ€Câ€å’Œâ€Fâ€ï¼›åˆ†åˆ«ä»£è¡¨ï¼Œè¡Œä¼˜å…ˆå’Œåˆ—ä¼˜å…ˆï¼Œåœ¨è®¡ç®—æœºå†…å­˜ä¸­çš„å­˜å‚¨å…ƒç´ çš„é¡ºåºã€‚</p></li><li><p><code>numpy.zeros(shape, dtype = float, order = &#39;C&#39;)</code> åˆ›å»ºæŒ‡å®šå¤§å°çš„æ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ä»¥ 0 æ¥å¡«å……<br><strong>order</strong>æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼šâ€™Câ€™ ç”¨äº C çš„è¡Œæ•°ç»„ï¼Œæˆ–è€… â€˜Fâ€™ ç”¨äº FORTRAN çš„åˆ—æ•°ç»„</p></li><li><p><code>numpy.ones(shape, dtype = None, order = &#39;C&#39;)</code> åˆ›å»ºæŒ‡å®šå½¢çŠ¶çš„æ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ä»¥ 1 æ¥å¡«å……</p></li><li><p><code>numpy.asarray(a, dtype = None, order = None)</code><br>numpy.asarray ç±»ä¼¼ numpy.arrayï¼Œä½† numpy.asarray å‚æ•°åªæœ‰ä¸‰ä¸ªï¼Œæ¯” numpy.array å°‘ä¸¤ä¸ªã€‚<br>aå¯ä»¥æ˜¯ä»»æ„è¡Œäº‹çš„è¾“å…¥ï¼Œä¾‹å¦‚åˆ—è¡¨ï¼Œå…ƒç»„ï¼Œå¤šç»´æ•°ç»„</p></li><li><p><code>numpy.frombuffer(buffer, dtype = float, count = -1, offset = 0)</code><br>numpy.frombuffer ç”¨äºå®ç°åŠ¨æ€æ•°ç»„ã€‚<br>numpy.frombuffer æ¥å— buffer è¾“å…¥å‚æ•°ï¼Œä»¥æµçš„å½¢å¼è¯»å…¥è½¬åŒ–æˆ ndarray å¯¹è±¡ã€‚<br><em><strong>buffer</strong> æ˜¯å­—ç¬¦ä¸²çš„æ—¶å€™ï¼ŒPython3 é»˜è®¤ str æ˜¯ Unicode ç±»å‹ï¼Œæ‰€ä»¥è¦è½¬æˆ bytestring åœ¨åŸ str å‰åŠ ä¸Š bã€‚</em></p><p><strong>count</strong>è¯»å–çš„æ•°æ®æ•°é‡ï¼Œé»˜è®¤ä¸º-1ï¼Œè¯»å–æ‰€æœ‰æ•°æ®ã€‚<strong>offset</strong>è¯»å–çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np <br> <br>s =  <span class="hljs-string">b&#x27;Hello World&#x27;</span> <br>a = np.frombuffer(s, dtype =  <span class="hljs-string">&#x27;S1&#x27;</span>)  <br><span class="hljs-built_in">print</span> (a)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5Cimage-20220223120720155.png" alt="image-20220223120720155"></p></li><li><p><code>numpy.fromiter(iterable, dtype, count=-1)</code> numpy.fromiter æ–¹æ³•ä»å¯è¿­ä»£å¯¹è±¡ä¸­å»ºç«‹ ndarray å¯¹è±¡ï¼Œè¿”å›ä¸€ç»´æ•°ç»„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np <br> <br><span class="hljs-comment"># ä½¿ç”¨ range å‡½æ•°åˆ›å»ºåˆ—è¡¨å¯¹è±¡  </span><br><span class="hljs-built_in">list</span>=<span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)<br>it=<span class="hljs-built_in">iter</span>(<span class="hljs-built_in">list</span>)<br> <br><span class="hljs-comment"># ä½¿ç”¨è¿­ä»£å™¨åˆ›å»º ndarray </span><br>x=np.fromiter(it, dtype=<span class="hljs-built_in">float</span>)<br><span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5Cimage-20220223120836562.png" alt="image-20220223120836562"></p></li><li><p><code>numpy.arange(start, stop, step, dtype)</code> æ ¹æ® start ä¸ stop æŒ‡å®šçš„èŒƒå›´ä»¥åŠ step è®¾å®šçš„æ­¥é•¿ï¼Œç”Ÿæˆä¸€ä¸ª ndarrayã€‚<br><strong>start</strong>èµ·å§‹å€¼ï¼Œé»˜è®¤ä¸º0ï¼›<strong>stop</strong>ç»ˆæ­¢å€¼ï¼ˆä¸åŒ…å«ï¼‰ï¼›<strong>step</strong>æ­¥é•¿ï¼Œé»˜è®¤ä¸º1</p></li><li><p><code>np.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None)</code> åˆ›å»ºä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œæ•°ç»„æ˜¯ä¸€ä¸ª<em><strong>ç­‰å·®æ•°åˆ—</strong></em>æ„æˆçš„<br><strong>num</strong>è¦ç”Ÿæˆçš„ç­‰æ­¥é•¿çš„æ ·æœ¬æ•°é‡ï¼Œé»˜è®¤ä¸º50ï¼›<strong>endpoint</strong>è¯¥å€¼ä¸º true æ—¶ï¼Œæ•°åˆ—ä¸­åŒ…å«stopå€¼ï¼Œåä¹‹ä¸åŒ…å«ï¼Œé»˜è®¤æ˜¯Trueã€‚ï¼›<strong>retstep</strong>å¦‚æœä¸º True æ—¶ï¼Œç”Ÿæˆçš„æ•°ç»„ä¸­ä¼šæ˜¾ç¤ºé—´è·ï¼Œåä¹‹ä¸æ˜¾ç¤ºã€‚</p></li><li><p><code>np.logspace(start, stop, num=50, endpoint=True, base=10.0, dtype=None)</code> åˆ›å»ºä¸€ä¸ªç­‰æ¯”æ•°åˆ—<br><strong>base</strong>å¯¹æ•° log çš„åº•æ•°ã€‚</p></li></ul><h1 id="æ•°ç»„çš„ç´¢å¼•æ–¹æ³•"><a href="#æ•°ç»„çš„ç´¢å¼•æ–¹æ³•" class="headerlink" title="æ•°ç»„çš„ç´¢å¼•æ–¹æ³•"></a>æ•°ç»„çš„ç´¢å¼•æ–¹æ³•</h1><p>ç®€å•çš„æ–¹æ³•å°±æ˜¯åˆ©ç”¨ä¸‹æ ‡ï¼Œä¾‹å¦‚<code>array[1:5]</code>è¿™ç±»çš„æ–¹æ³•</p><h1 id="å¸¸è§çš„æ•°æ®æ“ä½œ"><a href="#å¸¸è§çš„æ•°æ®æ“ä½œ" class="headerlink" title="å¸¸è§çš„æ•°æ®æ“ä½œ"></a>å¸¸è§çš„æ•°æ®æ“ä½œ</h1><ol><li><p><code>numpy.reshape(arr, newshape, order=&#39;C&#39;)</code> åœ¨ä¸æ”¹å˜æ•°æ®çš„æ¡ä»¶ä¸‹ ä¿®æ”¹æ•°ç»„çš„å½¢çŠ¶</p></li><li><p><code>ndarray.flat</code> æ•°ç»„å…ƒç´ è¿­ä»£å™¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>a = np.arange(<span class="hljs-number">9</span>).reshape(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)<br><span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> a:<br><span class="hljs-built_in">print</span>(element)<br><span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> a.flat:<br><span class="hljs-built_in">print</span>(element)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5Cimage-20220223134015788.png" alt="image-20220223134015788"></p></li><li><p><code>ndarray.flatten(order=&#39;C&#39;)</code> è¿”å›ä¸€ä»½æ•°ç»„æ‹·è´ï¼Œ å¯¹æ‹·è´æ‰€åšçš„ä¿®æ”¹ä¸ä¼šå½±å“åŸå§‹æ•°æ®<br>orderï¼šâ€™Câ€™ â€“ æŒ‰è¡Œï¼Œâ€™Fâ€™ â€“ æŒ‰åˆ—ï¼Œâ€™Aâ€™ â€“ åŸé¡ºåºï¼Œâ€™Kâ€™ â€“ å…ƒç´ åœ¨å†…å­˜ä¸­çš„å‡ºç°é¡ºåºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>a = np.arange(<span class="hljs-number">9</span>).reshape(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(a.flatten())<br><span class="hljs-built_in">print</span>(a.flatten(order=<span class="hljs-string">&#x27;F&#x27;</span>))<br><span class="hljs-built_in">print</span>(a.flatten(order=<span class="hljs-string">&#x27;A&#x27;</span>))<br><span class="hljs-built_in">print</span>(a.flatten(order=<span class="hljs-string">&#x27;K&#x27;</span>))<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5Cimage-20220223134307151.png" alt="image-20220223134307151"></p></li><li><p><code>numpy.ravel(a, order=&#39;C&#39;)</code> è¿”å›å±•å¼€æ•°ç»„ã€‚è¿”å›çš„æ˜¯ä¸€ä¸ªè§†å›¾ï¼Œå¯¹å…¶æ“ä½œä¼šå¯¹åŸå§‹æ•°æ®æœ‰å½±å“</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>a = np.arange(<span class="hljs-number">8</span>).reshape(<span class="hljs-number">2</span>,<span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span> (a)<br><span class="hljs-built_in">print</span> (a.ravel())<br><span class="hljs-built_in">print</span> (a.ravel(order = <span class="hljs-string">&#x27;F&#x27;</span>))<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5Cimage-20220223141006315.png" alt="image-20220223141006315"></p></li><li><p><code>numpy.transpose(arr, axes)</code> ç”¨äºå¯¹æ¢æ•°ç»„çš„ç»´åº¦<br><strong>arr</strong>ï¼šè¦æ“ä½œçš„æ•°ç»„ï¼›<strong>axes</strong>ï¼šæ•´æ•°åˆ—è¡¨ï¼Œå¯¹åº”ç»´åº¦ï¼Œé€šå¸¸æ‰€æœ‰ç»´åº¦éƒ½ä¼šå¯¹æ¢ã€‚</p></li><li><p><code>numpy.expand_dims(arr, axis)</code> é€šè¿‡åœ¨æŒ‡å®šä½ç½®æ’å…¥æ–°çš„è½´æ¥æ‰©å±•æ•°ç»„å½¢çŠ¶<br><strong>arr</strong>ï¼šè¾“å…¥æ•°ç»„; <strong>axis</strong>ï¼šæ–°è½´æ’å…¥çš„ä½ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>x = np.array(([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]))<br><span class="hljs-built_in">print</span>(x.shape)<br>x = np.expand_dims(x, <span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(x.shape)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5Cimage-20220223141702884.png" alt="image-20220223141702884"></p></li><li><p><code>numpy.squeeze(arr, axis)</code>ä»ç»™å®šæ•°ç»„çš„å½¢çŠ¶ä¸­åˆ é™¤ä¸€ç»´çš„æ¡ç›® </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>x = np.arange(<span class="hljs-number">20</span>).reshape(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(x.shape)<br>x = np.squeeze(x)<br><span class="hljs-built_in">print</span>(x.shape)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5Cimage-20220223142030073.png" alt="image-20220223142030073"><br>æ³¨æ„ ä¸è¡¨æ˜ç»´åº¦çš„æƒ…å†µä¸‹ï¼Œsqueezeä¼šè‡ªåŠ¨å‹ç¼©ç»´åº¦å¤§å°ä¸º1çš„ç»´åº¦ã€‚å¦‚æœéœ€è¦å‹ç¼©çš„ç»´åº¦å¤§å°ä¸ä¸º1ï¼Œå›æŠ¥é”™çš„ã€‚</p></li><li><p><code>numpy.concatenate((a1, a2, .), axis)</code> ç”¨äºæ²¿æŒ‡å®šè½´è¿æ¥ç›¸åŒå½¢çŠ¶çš„ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„</p></li><li><p><code>numpy.stack(arrays, axis)</code> ç”¨äºæ²¿æ–°è½´è¿æ¥æ•°ç»„åºåˆ— </p></li><li><p><code>numpy.split(ary, indices_or_sections, axis)</code> æ²¿ç‰¹å®šçš„è½´å°†æ•°ç»„åˆ†å‰²ä¸ºå­æ•°ç»„<br><strong>indices_or_sections</strong>ï¼šå¦‚æœæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå°±ç”¨è¯¥æ•°å¹³å‡åˆ‡åˆ†ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¸ºæ²¿è½´åˆ‡åˆ†çš„ä½ç½®ï¼ˆå·¦å¼€å³é—­ï¼‰</p></li><li><p><code>numpy.array_split(ary, indices_or_sections, axis)</code> å¯ä»¥ä¸è§„åˆ™çš„åˆ‡åˆ†æ•°ç»„ã€‚ splitè¦æ±‚å¯¹æ•°æ®å‡åŒ€åˆ‡åˆ†ï¼Œè€Œarray_splitå¯ä»¥åˆ‡åˆ†æˆä¸åŒçš„å½¢çŠ¶</p></li><li><p><code>numpy.append(arr, values, axis=None)</code>åœ¨æ•°ç»„çš„æœ«å°¾æ·»åŠ å€¼ã€‚ è¿½åŠ æ“ä½œä¼šåˆ†é…æ•´ä¸ªæ•°ç»„ï¼Œå¹¶æŠŠåŸæ¥çš„æ•°ç»„å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ã€‚</p></li><li><p><code>numpy.insert(arr, obj, values, axis)</code>åœ¨ç»™å®šç´¢å¼•ä¹‹å‰ï¼Œæ²¿ç»™å®šè½´åœ¨è¾“å…¥æ•°ç»„ä¸­æ’å…¥å€¼ã€‚</p></li><li><p><code>numpy.delete(arr, obj, axis)</code> è¿”å›ä»è¾“å…¥æ•°ç»„ä¸­åˆ é™¤æŒ‡å®šå­æ•°ç»„çš„æ–°æ•°ç»„</p></li><li><p><code>numpy.unique(arr, return_index, return_inverse, return_counts)</code>ç”¨äºå»é™¤æ•°ç»„ä¸­çš„é‡å¤å…ƒç´ <strong>return_index</strong>ï¼šå¦‚æœä¸ºtrueï¼Œè¿”å›æ–°åˆ—è¡¨å…ƒç´ åœ¨æ—§åˆ—è¡¨ä¸­çš„ä½ç½®ï¼ˆä¸‹æ ‡ï¼‰ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼å‚¨; <strong>return_inverse</strong>ï¼šå¦‚æœä¸ºtrueï¼Œè¿”å›æ—§åˆ—è¡¨å…ƒç´ åœ¨æ–°åˆ—è¡¨ä¸­çš„ä½ç½®ï¼ˆä¸‹æ ‡ï¼‰ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼å‚¨; <strong>return_counts</strong>ï¼šå¦‚æœä¸ºtrueï¼Œè¿”å›å»é‡æ•°ç»„ä¸­çš„å…ƒç´ åœ¨åŸæ•°ç»„ä¸­çš„å‡ºç°æ¬¡æ•°</p></li><li><p><code>numpy.clip(array, min, max)</code> ä½¿æ•°ç»„æ•°å€¼åœ¨ä¸Šä¸‹é™èŒƒå›´å†…</p></li><li><p><code>np.trim_zeros(array)</code> é™¤å»æ•°ç»„ä¸­å‰é¢å’Œåé¢çš„0</p></li><li><p><code>np.full(size, data, dtype)</code> ä»¥dataå¡«å…¥sizeå½¢æˆä¸€ä¸ªarray</p></li></ol><h1 id="æ•°æ®åˆ†å¸ƒ"><a href="#æ•°æ®åˆ†å¸ƒ" class="headerlink" title="æ•°æ®åˆ†å¸ƒ"></a>æ•°æ®åˆ†å¸ƒ</h1><ol><li><p><code>np.arange</code>ï¼šä»èŒƒå›´å†…é€‰å–æ‰€æœ‰æ•´æ•°ï¼ˆå·¦é—­å³å¼€ï¼‰</p></li><li><p><code>numpy.random.choice</code> ä»ä¸€å®šèŒƒå›´å†…éšæœºé€‰å–å‡ ä¸ª</p></li><li><p><code>numpy.random.uniform</code> å‡åŒ€åˆ†å¸ƒ</p></li><li><p><code>numpy.random.randn</code> æ­£æ€åˆ†å¸ƒ</p></li><li><p><code>numpy.random.random</code> éšæœºæ•°  æµ®ç‚¹æ•°</p></li><li><p><code>numpy.random.rand</code>    0-1åˆ†å¸ƒ éšæœºæ•°</p></li><li><p><code>numpy.random.choice(a, size=None, replace=True, p=None)</code><br>ä»a(åªè¦æ˜¯ndarrayéƒ½å¯ä»¥ï¼Œä½†å¿…é¡»æ˜¯ä¸€ç»´çš„)ä¸­éšæœºæŠ½å–æ•°å­—ï¼Œå¹¶ç»„æˆæŒ‡å®šå¤§å°(size)çš„æ•°ç»„<br>replace:Trueè¡¨ç¤ºå¯ä»¥å–ç›¸åŒæ•°å­—ï¼ŒFalseè¡¨ç¤ºä¸å¯ä»¥å–ç›¸åŒæ•°å­—<br>æ•°ç»„pï¼šä¸æ•°ç»„aç›¸å¯¹åº”ï¼Œè¡¨ç¤ºå–æ•°ç»„aä¸­æ¯ä¸ªå…ƒç´ çš„æ¦‚ç‡ï¼Œé»˜è®¤ä¸ºé€‰å–æ¯ä¸ªå…ƒç´ çš„æ¦‚ç‡ç›¸åŒã€‚</p></li><li><p>éšæœºæ•°ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨<code>np.random.rand()</code><br>ä½†æ˜¯è®¾å®šä¸€ä¸ªéšæœºç§å­<code>np.random.seed()</code>ï¼Œä½ å¯ä»¥å®ç°æ¯æ¬¡è·å–ç›¸åŒçš„éšæœºæ•°</p></li><li><p><code>np.random.permutation()</code>éšæœºæ’åˆ—åºåˆ— æ•ˆæœåŒshuflle  å†…éƒ¨è°ƒç”¨äº†shuffle</p><p>shuffle çš„å‚æ•°åªèƒ½æ˜¯ array_likeï¼Œè€Œ permutation é™¤äº† array_like è¿˜å¯ä»¥æ˜¯ int ç±»å‹ï¼Œå¦‚æœæ˜¯ int ç±»å‹ï¼Œé‚£å°±éšæœºæ‰“ä¹± numpy.arange(int)ã€‚</p><p>shuffle è¿”å› Noneï¼Œè¿™ç‚¹å°¤å…¶è¦æ³¨æ„ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰è¿”å›å€¼ï¼Œè€Œ permutation åˆ™è¿”å›æ‰“ä¹±åçš„ arrayã€‚</p></li></ol><h1 id="æ£€æŸ¥å…ƒç´ -åˆ¤æ–­-åŠé›†åˆæ“ä½œ"><a href="#æ£€æŸ¥å…ƒç´ -åˆ¤æ–­-åŠé›†åˆæ“ä½œ" class="headerlink" title="æ£€æŸ¥å…ƒç´  åˆ¤æ–­ åŠé›†åˆæ“ä½œ"></a>æ£€æŸ¥å…ƒç´  åˆ¤æ–­ åŠé›†åˆæ“ä½œ</h1><ul><li><code>np.any()</code>  æ˜¯å¦æœ‰å‡</li><li><code>np.all()</code>  æ˜¯å¦å…¨ä¸ºçœŸ</li><li><code>np.inld(array1, array2)</code> åˆ¤æ–­2æ˜¯å¦æ˜¯1çš„å­é›†</li><li><code>np.intersection()</code> è¾“å‡ºçš„æ•°æ®åˆ™æ˜¯ä¸é‡å¤çš„</li><li><code>np.setdiff1d()</code> ä¸in1d()ç›¸åï¼Œå¯»æ‰¾ä¸yä¸åŒçš„æ•°å€¼ </li><li><code>np.setxor1d()</code> å¯»æ‰¾åªåœ¨xæˆ–è€…yä¸­å­˜åœ¨çš„æ•°æ® å¹¶è¾“å‡º</li><li><code>np.union1d()</code> å¯»æ‰¾å…±åŒå­é›†</li><li><code>np.correlate()</code> ä¸¤ä¸ªåºåˆ—çš„ç›¸å…³æ€§</li></ul><h1 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h1><ol><li>è¡Œå‘é‡æˆ–è€…ä¸€ç»´å‘é‡æ²¡æœ‰åŠæ³•ç›´æ¥è½¬ç½®ï¼Œè½¬ç½®åä¸€ç»´å‘é‡åº”è¯¥æ˜¯äºŒç»´ï¼Œä½†æ˜¯ç›´æ¥ä½¿ç”¨transposeæ˜¯æ²¡æœ‰åŠæ³•è¾¾åˆ°çš„<br>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹ç»´åº¦ä¸‹åˆ€<img src="/%5Csrc%5Cimage-20220214204451566.png" alt="image-20220214204451566"></li><li><code>np.bincount(array, weights, minlength)</code> æ•°ç»„å†…æ•°å­—ç»Ÿè®¡<br><strong>weight</strong>æ˜¯æŒ‡æ•°æ®çš„æƒé‡ï¼Œé»˜è®¤æƒé‡ä¸º1ï¼Œ<strong>minlength</strong>æŒ‡çš„æ˜¯arrayçš„å€¼åŸŸå¤§å°ï¼Œå½“å€¼åŸŸä¸æ»¡è¶³minlengthæ—¶ï¼Œåé¢é»˜è®¤è¡¥0.</li><li><code>np.astype</code> å¯ä»¥è½¬æ¢æ•°ç»„å€¼ æ•°æ®ç±»å‹</li></ol><p>ï¿½ æ•°æ®ç±»å‹</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Numpyã€Scipyã€Pandasçš„å…³è”</title>
    <link href="/2022/08/01/Python/numpy%E3%80%81scipy%E3%80%81pandas%E7%9A%84%E5%85%B3%E8%81%94/"/>
    <url>/2022/08/01/Python/numpy%E3%80%81scipy%E3%80%81pandas%E7%9A%84%E5%85%B3%E8%81%94/</url>
    
    <content type="html"><![CDATA[<p>æ‰“ä¸ªæ¯”æ–¹ï¼ŒPandasç±»ä¼¼Excelè½¯ä»¶ï¼ŒScipyå°±åƒExcelé‡Œçš„å‡½æ•°ç®—æ³•åŒ…ï¼ŒNumpyåˆ™å¥½æ¯”æ„å»ºExcelé€»è¾‘çš„åº•å±‚è¯­å¥ã€‚æ‰€ä»¥è¯´Pandasæ“…é•¿æ•°æ®å¤„ç†ï¼ŒScipyç²¾é€šæ•°å­¦è®¡ç®—ï¼ŒNumpyæ˜¯æ„å»ºPandasã€Scipyçš„åŸºç¡€åº“ã€‚</p><p>Numpyé€šè¿‡Nç»´æ•°ç»„æ¥å®ç°å¿«é€Ÿçš„æ•°æ®è®¡ç®—å’Œå¤„ç†ï¼Œå®ƒä¹Ÿæ˜¯Pythonä¼—å¤šæ•°æ®ç§‘å­¦åº“çš„ä¾èµ–ï¼Œå…¶ä¸­å°±åŒ…æ‹¬Pandasã€Scipyã€‚è€ŒNumpyæœ¬èº«ä¸ä¾èµ–äºä»»ä½•å…¶ä»–Pythonè½¯ä»¶åŒ…ï¼Œåªä¾èµ–äºåŠ é€Ÿçš„çº¿æ€§ä»£æ•°åº“ï¼Œé€šå¸¸ä¸º Intel MKLæˆ– OpenBLASã€‚</p><p>Pandasæ˜¯pythonæ•°æ®å¤„ç†çš„æ ¸å¿ƒåº“ï¼Œå®ƒåŸºäºæ•°ç»„å½¢å¼æä¾›äº†æå…¶ä¸°å¯Œçš„æ•°æ®æ“ä½œï¼Œå¯¹æ¯”excelæœ‰è¿‡ä¹‹è€Œæ— ä¸åŠã€‚å®ƒå¯ä»¥å¯¹å„ç§æ•°æ®è¿›è¡Œè¿ç®—æ“ä½œï¼Œæ¯”å¦‚å½’å¹¶ã€å†æˆå½¢ã€é€‰æ‹©ï¼Œè¿˜æœ‰æ•°æ®æ¸…æ´—å’Œæ•°æ®åŠ å·¥ç‰¹å¾ï¼Œå¹¿æ³›åº”ç”¨åœ¨å­¦æœ¯ã€é‡‘èã€ç»Ÿè®¡å­¦ç­‰å„ä¸ªæ•°æ®åˆ†æé¢†åŸŸã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå­¦pythonæ•°æ®åˆ†æåªéœ€è¦å­¦é€Pandaså°±å¤Ÿäº†ï¼Œè¾…åŠ©åŠ ä¸€äº›Numpyã€Scipyã€Matplotlibç­‰åº“ã€‚</p><p>Scipyæ˜¯ä¸€ä¸ªç”¨äºæ•°å­¦ã€ç§‘å­¦ã€å·¥ç¨‹é¢†åŸŸçš„å¸¸ç”¨è½¯ä»¶åŒ…ï¼Œå¯ä»¥å¤„ç†æœ€ä¼˜åŒ–ã€çº¿æ€§ä»£æ•°ã€ç§¯åˆ†ã€æ’å€¼ã€æ‹Ÿåˆã€ç‰¹æ®Šå‡½æ•°ã€å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ã€ä¿¡å·å¤„ç†ã€å›¾åƒå¤„ç†ã€å¸¸å¾®åˆ†æ–¹ç¨‹æ±‚è§£å™¨ç­‰ã€‚å…¶åŒ…å«çš„æ¨¡å—æœ‰æœ€ä¼˜åŒ–ã€çº¿æ€§ä»£æ•°ã€ç§¯åˆ†ã€æ’å€¼ã€ç‰¹æ®Šå‡½æ•°ã€å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ã€ä¿¡å·å¤„ç†å’Œå›¾åƒå¤„ç†ã€å¸¸å¾®åˆ†æ–¹ç¨‹æ±‚è§£å’Œå…¶ä»–ç§‘å­¦ä¸å·¥ç¨‹ä¸­å¸¸ç”¨çš„è®¡ç®—ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>python numpy char</title>
    <link href="/2022/08/01/Python/Numpy.char/"/>
    <url>/2022/08/01/Python/Numpy.char/</url>
    
    <content type="html"><![CDATA[<p>ä¸»è¦æ˜¯é’ˆå¯¹ndarrayä¸­çš„å€¼ä¸ºå­—ç¬¦ä¸²çš„æ•°æ®ï¼Œä¸»è¦æ˜¯åˆ©ç”¨numpy.char</p><table><thead><tr><th align="left">å‡½æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>add()</code></td><td align="left">å¯¹ä¸¤ä¸ªæ•°ç»„çš„é€ä¸ªå­—ç¬¦ä¸²å…ƒç´ è¿›è¡Œè¿æ¥</td></tr><tr><td align="left">multiply()</td><td align="left">è¿”å›æŒ‰å…ƒç´ å¤šé‡è¿æ¥åçš„å­—ç¬¦ä¸²</td></tr><tr><td align="left"><code>center()</code></td><td align="left">å±…ä¸­å­—ç¬¦ä¸²</td></tr><tr><td align="left"><code>capitalize()</code></td><td align="left">å°†å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—æ¯è½¬æ¢ä¸ºå¤§å†™</td></tr><tr><td align="left"><code>title()</code></td><td align="left">å°†å­—ç¬¦ä¸²çš„æ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯è½¬æ¢ä¸ºå¤§å†™</td></tr><tr><td align="left"><code>lower()</code></td><td align="left">æ•°ç»„å…ƒç´ è½¬æ¢ä¸ºå°å†™</td></tr><tr><td align="left"><code>upper()</code></td><td align="left">æ•°ç»„å…ƒç´ è½¬æ¢ä¸ºå¤§å†™</td></tr><tr><td align="left"><code>split()</code></td><td align="left">æŒ‡å®šåˆ†éš”ç¬¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ†å‰²ï¼Œå¹¶è¿”å›æ•°ç»„åˆ—è¡¨</td></tr><tr><td align="left"><code>splitlines()</code></td><td align="left">è¿”å›å…ƒç´ ä¸­çš„è¡Œåˆ—è¡¨ï¼Œä»¥æ¢è¡Œç¬¦åˆ†å‰²</td></tr><tr><td align="left"><code>strip()</code></td><td align="left">ç§»é™¤å…ƒç´ å¼€å¤´æˆ–è€…ç»“å°¾å¤„çš„ç‰¹å®šå­—ç¬¦</td></tr><tr><td align="left"><code>join()</code></td><td align="left">é€šè¿‡æŒ‡å®šåˆ†éš”ç¬¦æ¥è¿æ¥æ•°ç»„ä¸­çš„å…ƒç´ </td></tr><tr><td align="left"><code>replace()</code></td><td align="left">ä½¿ç”¨æ–°å­—ç¬¦ä¸²æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­å­—ç¬¦ä¸²</td></tr><tr><td align="left"><code>decode()</code></td><td align="left">æ•°ç»„å…ƒç´ ä¾æ¬¡è°ƒç”¨<code>str.decode</code></td></tr><tr><td align="left"><code>encode()</code></td><td align="left">æ•°ç»„å…ƒç´ ä¾æ¬¡è°ƒç”¨<code>str.encode</code></td></tr></tbody></table><hr>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>matplotlib example</title>
    <link href="/2022/08/01/Python/matplotlib/"/>
    <url>/2022/08/01/Python/matplotlib/</url>
    
    <content type="html"><![CDATA[<h2 id="1å¯ç”¨å’Œæ£€æŸ¥äº¤äº’æ¨¡å¼"><a href="#1å¯ç”¨å’Œæ£€æŸ¥äº¤äº’æ¨¡å¼" class="headerlink" title="1å¯ç”¨å’Œæ£€æŸ¥äº¤äº’æ¨¡å¼"></a>1å¯ç”¨å’Œæ£€æŸ¥äº¤äº’æ¨¡å¼</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-keyword">import</span> matplotlib <span class="hljs-keyword">as</span> mpl<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br> <br><span class="hljs-comment"># Set the interactive mode to ON</span><br>plt.ion()<br> <br><span class="hljs-comment"># Check the current status of interactive mode</span><br><span class="hljs-built_in">print</span>(mpl.is_interactive())<br></code></pre></td></tr></table></figure><p>Output:</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada"><span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><h2 id="2åœ¨-Matplotlib-ä¸­ç»˜åˆ¶æŠ˜çº¿å›¾"><a href="#2åœ¨-Matplotlib-ä¸­ç»˜åˆ¶æŠ˜çº¿å›¾" class="headerlink" title="2åœ¨ Matplotlib ä¸­ç»˜åˆ¶æŠ˜çº¿å›¾"></a>2åœ¨ Matplotlib ä¸­ç»˜åˆ¶æŠ˜çº¿å›¾</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs maxima">import matplotlib.pyplot as plt<br><br>#Plot a line graph<br>plt.plot([<span class="hljs-number">5</span>, <span class="hljs-number">15</span>])<br><br># Add <span class="hljs-built_in">labels</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">title</span><br>plt.<span class="hljs-built_in">title</span>(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br>plt.<span class="hljs-built_in">xlabel</span>(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.<span class="hljs-built_in">ylabel</span>(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br>plt.<span class="hljs-built_in">show</span>()<br></code></pre></td></tr></table></figure><h2 id="3ç»˜åˆ¶å¸¦æœ‰æ ‡ç­¾å’Œå›¾ä¾‹çš„å¤šæ¡çº¿çš„æŠ˜çº¿å›¾"><a href="#3ç»˜åˆ¶å¸¦æœ‰æ ‡ç­¾å’Œå›¾ä¾‹çš„å¤šæ¡çº¿çš„æŠ˜çº¿å›¾" class="headerlink" title="3ç»˜åˆ¶å¸¦æœ‰æ ‡ç­¾å’Œå›¾ä¾‹çš„å¤šæ¡çº¿çš„æŠ˜çº¿å›¾"></a>3ç»˜åˆ¶å¸¦æœ‰æ ‡ç­¾å’Œå›¾ä¾‹çš„å¤šæ¡çº¿çš„æŠ˜çº¿å›¾</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-comment">#Plot a line graph</span><br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">5</span>, <span class="hljs-number">15</span>], label=&#x27;Rice&#x27;)<br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">3</span>, <span class="hljs-number">6</span>], label=&#x27;Oil&#x27;)<br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">8</span>.<span class="hljs-number">0010</span>, <span class="hljs-number">14</span>.<span class="hljs-number">2</span>], label=&#x27;Wheat&#x27;)<br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">1</span>.<span class="hljs-number">95412</span>, <span class="hljs-number">6</span>.<span class="hljs-number">98547</span>, <span class="hljs-number">5</span>.<span class="hljs-number">41411</span>, <span class="hljs-number">5</span>.<span class="hljs-number">99</span>, <span class="hljs-number">7</span>.<span class="hljs-number">9999</span>], label=&#x27;Coffee&#x27;)<br><br><span class="hljs-comment"># Add labels and title</span><br><span class="hljs-attribute">plt</span>.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br><span class="hljs-attribute">plt</span>.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br><span class="hljs-attribute">plt</span>.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br><span class="hljs-attribute">plt</span>.legend()<br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287589024200.png" alt="å›¾ç‰‡"></p><h2 id="4åœ¨-Matplotlib-ä¸­ç»˜åˆ¶å¸¦æœ‰æ ‡è®°çš„æŠ˜çº¿å›¾"><a href="#4åœ¨-Matplotlib-ä¸­ç»˜åˆ¶å¸¦æœ‰æ ‡è®°çš„æŠ˜çº¿å›¾" class="headerlink" title="4åœ¨ Matplotlib ä¸­ç»˜åˆ¶å¸¦æœ‰æ ‡è®°çš„æŠ˜çº¿å›¾"></a>4åœ¨ Matplotlib ä¸­ç»˜åˆ¶å¸¦æœ‰æ ‡è®°çš„æŠ˜çº¿å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br> <br><span class="hljs-comment"># Changing default values for parameters individually</span><br>plt.rc(<span class="hljs-string">&#x27;lines&#x27;</span>, <span class="hljs-attribute">linewidth</span>=2, <span class="hljs-attribute">linestyle</span>=<span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;*&#x27;</span>)<br>plt.rcParams[<span class="hljs-string">&#x27;lines.markersize&#x27;</span>] = 25<br>plt.rcParams[<span class="hljs-string">&#x27;font.size&#x27;</span>] = <span class="hljs-string">&#x27;10.0&#x27;</span><br> <br><span class="hljs-comment">#Plot a line graph</span><br>plt.plot([10, 20, 30, 40, 50])<br><span class="hljs-comment"># Add labels and title</span><br>plt.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br> <br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287582384198.png" alt="å›¾ç‰‡"></p><h2 id="5æ”¹å˜-Matplotlib-ä¸­ç»˜åˆ¶çš„å›¾å½¢çš„å¤§å°"><a href="#5æ”¹å˜-Matplotlib-ä¸­ç»˜åˆ¶çš„å›¾å½¢çš„å¤§å°" class="headerlink" title="5æ”¹å˜ Matplotlib ä¸­ç»˜åˆ¶çš„å›¾å½¢çš„å¤§å°"></a>5æ”¹å˜ Matplotlib ä¸­ç»˜åˆ¶çš„å›¾å½¢çš„å¤§å°</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br> <br><span class="hljs-comment"># Changing default values for parameters individually</span><br><span class="hljs-attribute">plt</span>.rc(&#x27;lines&#x27;, linewidth=<span class="hljs-number">2</span>, linestyle=&#x27;-&#x27;, marker=&#x27;*&#x27;)<br> <br><span class="hljs-attribute">plt</span>.rcParams[<span class="hljs-string">&quot;figure.figsize&quot;</span>] = (<span class="hljs-number">4</span>, <span class="hljs-number">8</span>)<br> <br><span class="hljs-comment"># Plot a line graph</span><br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">70</span>, <span class="hljs-number">80</span>])<br><span class="hljs-comment"># Add labels and title</span><br><span class="hljs-attribute">plt</span>.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br><span class="hljs-attribute">plt</span>.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br><span class="hljs-attribute">plt</span>.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br> <br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141072.png" alt="å›¾ç‰‡"></p><h2 id="6åœ¨-Matplotlib-ä¸­è®¾ç½®è½´é™åˆ¶"><a href="#6åœ¨-Matplotlib-ä¸­è®¾ç½®è½´é™åˆ¶" class="headerlink" title="6åœ¨ Matplotlib ä¸­è®¾ç½®è½´é™åˆ¶"></a>6åœ¨ Matplotlib ä¸­è®¾ç½®è½´é™åˆ¶</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-attribute">data1</span> =<span class="hljs-meta"> [11, 12, 13, 14, 15, 16, 17]</span><br><span class="hljs-attribute">data2</span> =<span class="hljs-meta"> [15.5, 12.5, 11.7, 9.50, 12.50, 11.50, 14.75]</span><br><br><span class="hljs-comment"># Add labels and title</span><br><span class="hljs-attribute">plt</span>.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br><span class="hljs-attribute">plt</span>.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br><span class="hljs-attribute">plt</span>.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br><span class="hljs-comment"># Set the limit for each axis</span><br><span class="hljs-attribute">plt</span>.xlim(<span class="hljs-number">11</span>, <span class="hljs-number">17</span>)<br><span class="hljs-attribute">plt</span>.ylim(<span class="hljs-number">9</span>, <span class="hljs-number">16</span>)<br><br><span class="hljs-comment"># Plot a line graph</span><br><span class="hljs-attribute">plt</span>.plot(data1, data2)<br><br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287567644196.png" alt="å›¾ç‰‡"></p><h2 id="7ä½¿ç”¨-Python-Matplotlib-æ˜¾ç¤ºèƒŒæ™¯ç½‘æ ¼"><a href="#7ä½¿ç”¨-Python-Matplotlib-æ˜¾ç¤ºèƒŒæ™¯ç½‘æ ¼" class="headerlink" title="7ä½¿ç”¨ Python Matplotlib æ˜¾ç¤ºèƒŒæ™¯ç½‘æ ¼"></a>7ä½¿ç”¨ Python Matplotlib æ˜¾ç¤ºèƒŒæ™¯ç½‘æ ¼</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br><br>plt.grid(<span class="hljs-literal">True</span>, <span class="hljs-attribute">linewidth</span>=0.5, <span class="hljs-attribute">color</span>=<span class="hljs-string">&#x27;#ff0000&#x27;</span>, <span class="hljs-attribute">linestyle</span>=<span class="hljs-string">&#x27;-&#x27;</span>)<br><br><span class="hljs-comment">#Plot a line graph</span><br>plt.plot([10, 20, 30, 40, 50])<br><span class="hljs-comment"># Add labels and title</span><br>plt.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="Output"><a href="#Output" class="headerlink" title="Output:"></a>Output:</h4><p><img src="/%5Csrc%5C640-1646287557689194.png" alt="å›¾ç‰‡"></p><h2 id="8ä½¿ç”¨-Python-Matplotlib-å°†ç»˜å›¾ä¿å­˜åˆ°å›¾åƒæ–‡ä»¶"><a href="#8ä½¿ç”¨-Python-Matplotlib-å°†ç»˜å›¾ä¿å­˜åˆ°å›¾åƒæ–‡ä»¶" class="headerlink" title="8ä½¿ç”¨ Python Matplotlib å°†ç»˜å›¾ä¿å­˜åˆ°å›¾åƒæ–‡ä»¶"></a>8ä½¿ç”¨ Python Matplotlib å°†ç»˜å›¾ä¿å­˜åˆ°å›¾åƒæ–‡ä»¶</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br><br>plt.grid(<span class="hljs-literal">True</span>, <span class="hljs-attribute">linewidth</span>=0.5, <span class="hljs-attribute">color</span>=<span class="hljs-string">&#x27;#ff0000&#x27;</span>, <span class="hljs-attribute">linestyle</span>=<span class="hljs-string">&#x27;-&#x27;</span>)<br><br><span class="hljs-comment">#Plot a line graph</span><br>plt.plot([10, 20, 30, 40, 50])<br><span class="hljs-comment"># Add labels and title</span><br>plt.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br>plt.savefig(<span class="hljs-string">&quot;foo.png&quot;</span>, <span class="hljs-attribute">bbox_inches</span>=<span class="hljs-string">&#x27;tight&#x27;</span>)<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141073.png" alt="å›¾ç‰‡"></p><h2 id="9å°†å›¾ä¾‹æ”¾åœ¨-plot-çš„ä¸åŒä½ç½®"><a href="#9å°†å›¾ä¾‹æ”¾åœ¨-plot-çš„ä¸åŒä½ç½®" class="headerlink" title="9å°†å›¾ä¾‹æ”¾åœ¨ plot çš„ä¸åŒä½ç½®"></a>9å°†å›¾ä¾‹æ”¾åœ¨ plot çš„ä¸åŒä½ç½®</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br> <br><span class="hljs-comment">#Plot a line graph</span><br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">5</span>, <span class="hljs-number">15</span>], label=&#x27;Rice&#x27;)<br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">3</span>, <span class="hljs-number">6</span>], label=&#x27;Oil&#x27;)<br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">8</span>.<span class="hljs-number">0010</span>, <span class="hljs-number">14</span>.<span class="hljs-number">2</span>], label=&#x27;Wheat&#x27;)<br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">1</span>.<span class="hljs-number">95412</span>, <span class="hljs-number">6</span>.<span class="hljs-number">98547</span>, <span class="hljs-number">5</span>.<span class="hljs-number">41411</span>, <span class="hljs-number">5</span>.<span class="hljs-number">99</span>, <span class="hljs-number">7</span>.<span class="hljs-number">9999</span>], label=&#x27;Coffee&#x27;)<br> <br><span class="hljs-comment"># Add labels and title</span><br><span class="hljs-attribute">plt</span>.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br><span class="hljs-attribute">plt</span>.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br><span class="hljs-attribute">plt</span>.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br> <br><span class="hljs-attribute">plt</span>.legend(bbox_to_anchor=(<span class="hljs-number">1</span>.<span class="hljs-number">1</span>, <span class="hljs-number">1</span>.<span class="hljs-number">05</span>))<br> <br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287542238192.png" alt="å›¾ç‰‡"></p><h2 id="10ç»˜åˆ¶å…·æœ‰ä¸åŒæ ‡è®°å¤§å°çš„çº¿æ¡"><a href="#10ç»˜åˆ¶å…·æœ‰ä¸åŒæ ‡è®°å¤§å°çš„çº¿æ¡" class="headerlink" title="10ç»˜åˆ¶å…·æœ‰ä¸åŒæ ‡è®°å¤§å°çš„çº¿æ¡"></a>10ç»˜åˆ¶å…·æœ‰ä¸åŒæ ‡è®°å¤§å°çš„çº¿æ¡</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br> <br>y1 = [12, 14, 15, 18, 19, 13, 15, 16]<br>y2 = [22, 24, 25, 28, 29, 23, 25, 26]<br>y3 = [32, 34, 35, 38, 39, 33, 35, 36]<br>y4 = [42, 44, 45, 48, 49, 43, 45, 46]<br>y5 = [52, 54, 55, 58, 59, 53, 55, 56]<br> <br> <br><span class="hljs-comment"># Plot lines with different marker sizes</span><br>plt.plot(y1, y2, label = <span class="hljs-string">&#x27;Y1-Y2&#x27;</span>, <span class="hljs-attribute">lw</span>=2, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-attribute">ms</span>=10) # square<br>plt.plot(y1, y3, label = <span class="hljs-string">&#x27;Y1-Y3&#x27;</span>, <span class="hljs-attribute">lw</span>=2, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;^&#x27;</span>, <span class="hljs-attribute">ms</span>=10) # triangle<br>plt.plot(y1, y4, label = <span class="hljs-string">&#x27;Y1-Y4&#x27;</span>, <span class="hljs-attribute">lw</span>=2, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-attribute">ms</span>=10) # circle<br>plt.plot(y1, y5, label = <span class="hljs-string">&#x27;Y1-Y5&#x27;</span>, <span class="hljs-attribute">lw</span>=2, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-attribute">ms</span>=10) # diamond<br>plt.plot(y2, y5, label = <span class="hljs-string">&#x27;Y2-Y5&#x27;</span>, <span class="hljs-attribute">lw</span>=2, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;P&#x27;</span>, <span class="hljs-attribute">ms</span>=10) # filled plus sign<br> <br>plt.legend()<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287535664190.png" alt="å›¾ç‰‡"></p><h2 id="11ç”¨ç°åº¦çº¿ç»˜åˆ¶æŠ˜çº¿å›¾"><a href="#11ç”¨ç°åº¦çº¿ç»˜åˆ¶æŠ˜çº¿å›¾" class="headerlink" title="11ç”¨ç°åº¦çº¿ç»˜åˆ¶æŠ˜çº¿å›¾"></a>11ç”¨ç°åº¦çº¿ç»˜åˆ¶æŠ˜çº¿å›¾</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-comment"># Plot a line graph with grayscale lines </span><br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">5</span>, <span class="hljs-number">15</span>], label=&#x27;Rice&#x27;, c=&#x27;<span class="hljs-number">0</span>.<span class="hljs-number">15</span>&#x27;)<br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">3</span>, <span class="hljs-number">6</span>], label=&#x27;Oil&#x27;, c=&#x27;<span class="hljs-number">0</span>.<span class="hljs-number">35</span>&#x27;)<br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">8</span>.<span class="hljs-number">0010</span>, <span class="hljs-number">14</span>.<span class="hljs-number">2</span>], label=&#x27;Wheat&#x27;,  c=&#x27;<span class="hljs-number">0</span>.<span class="hljs-number">55</span>&#x27;)<br><span class="hljs-attribute">plt</span>.plot([<span class="hljs-number">1</span>.<span class="hljs-number">95412</span>, <span class="hljs-number">6</span>.<span class="hljs-number">98547</span>, <span class="hljs-number">5</span>.<span class="hljs-number">41411</span>, <span class="hljs-number">5</span>.<span class="hljs-number">99</span>, <span class="hljs-number">7</span>.<span class="hljs-number">9999</span>], label=&#x27;Coffee&#x27;,  c=&#x27;<span class="hljs-number">0</span>.<span class="hljs-number">85</span>&#x27;)<br><br><span class="hljs-comment"># Add labels and title</span><br><span class="hljs-attribute">plt</span>.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br><span class="hljs-attribute">plt</span>.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br><span class="hljs-attribute">plt</span>.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br><span class="hljs-attribute">plt</span>.legend()<br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287528650188.png" alt="å›¾ç‰‡"></p><h2 id="12ä»¥é«˜-dpi-ç»˜åˆ¶-PDF-è¾“å‡º"><a href="#12ä»¥é«˜-dpi-ç»˜åˆ¶-PDF-è¾“å‡º" class="headerlink" title="12ä»¥é«˜ dpi ç»˜åˆ¶ PDF è¾“å‡º"></a>12ä»¥é«˜ dpi ç»˜åˆ¶ PDF è¾“å‡º</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br><br><span class="hljs-comment">#Plot a line graph</span><br>plt.plot([5, 15], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Rice&#x27;</span>)<br>plt.plot([3, 6], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Oil&#x27;</span>)<br>plt.plot([8.0010, 14.2], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Wheat&#x27;</span>)<br>plt.plot([1.95412, 6.98547, 5.41411, 5.99, 7.9999], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Coffee&#x27;</span>)<br><br><span class="hljs-comment"># Add labels and title</span><br>plt.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br>plt.savefig(<span class="hljs-string">&#x27;output.pdf&#x27;</span>, <span class="hljs-attribute">dpi</span>=1200, <span class="hljs-attribute">format</span>=<span class="hljs-string">&#x27;pdf&#x27;</span>, <span class="hljs-attribute">bbox_inches</span>=<span class="hljs-string">&#x27;tight&#x27;</span>)<br></code></pre></td></tr></table></figure><p>Output:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">ç”Ÿæˆå¸¦æœ‰å›¾ç‰‡çš„pdfæ–‡ä»¶<br></code></pre></td></tr></table></figure><h2 id="13ç»˜åˆ¶ä¸åŒé¢œè‰²çš„å¤šçº¿å›¾"><a href="#13ç»˜åˆ¶ä¸åŒé¢œè‰²çš„å¤šçº¿å›¾" class="headerlink" title="13ç»˜åˆ¶ä¸åŒé¢œè‰²çš„å¤šçº¿å›¾"></a>13ç»˜åˆ¶ä¸åŒé¢œè‰²çš„å¤šçº¿å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br> <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>    plt.plot([i]*<span class="hljs-number">5</span>, c=<span class="hljs-string">&#x27;C&#x27;</span>+<span class="hljs-built_in">str</span>(i), label=<span class="hljs-string">&#x27;C&#x27;</span>+<span class="hljs-built_in">str</span>(i))<br> <br><span class="hljs-comment"># Plot a line graph</span><br>plt.xlim(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>)<br> <br><span class="hljs-comment"># Add legend</span><br>plt.legend()<br> <br><span class="hljs-comment"># Display the graph on the screen</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141074.png" alt="å›¾ç‰‡"></p><h2 id="14è¯­æ–™åº“åˆ›å»ºè¯äº‘"><a href="#14è¯­æ–™åº“åˆ›å»ºè¯äº‘" class="headerlink" title="14è¯­æ–™åº“åˆ›å»ºè¯äº‘"></a>14è¯­æ–™åº“åˆ›å»ºè¯äº‘</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> nltk<br><span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> webtext<br><span class="hljs-keyword">from</span> nltk.probability <span class="hljs-keyword">import</span> FreqDist<br><span class="hljs-keyword">from</span> wordcloud <span class="hljs-keyword">import</span> WordCloud<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>nltk.download(<span class="hljs-string">&#x27;webtext&#x27;</span>)<br>wt_words = webtext.words(<span class="hljs-string">&#x27;testing.txt&#x27;</span>)  <span class="hljs-comment"># Sample data</span><br>data_analysis = nltk.FreqDist(wt_words)<br><br>filter_words = <span class="hljs-built_in">dict</span>([(m, n) <span class="hljs-keyword">for</span> m, n <span class="hljs-keyword">in</span> data_analysis.items() <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(m) &gt; <span class="hljs-number">3</span>])<br><br>wcloud = WordCloud().generate_from_frequencies(filter_words)<br><br><span class="hljs-comment"># Plotting the wordcloud</span><br>plt.imshow(wcloud, interpolation=<span class="hljs-string">&quot;bilinear&quot;</span>)<br><br>plt.axis(<span class="hljs-string">&quot;off&quot;</span>)<br>(-<span class="hljs-number">0.5</span>, <span class="hljs-number">399.5</span>, <span class="hljs-number">199.5</span>, -<span class="hljs-number">0.5</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287504770186.png" alt="å›¾ç‰‡"></p><h2 id="15ä½¿ç”¨ç‰¹å®šé¢œè‰²åœ¨-Matplotlib-Python-ä¸­ç»˜åˆ¶å›¾å½¢"><a href="#15ä½¿ç”¨ç‰¹å®šé¢œè‰²åœ¨-Matplotlib-Python-ä¸­ç»˜åˆ¶å›¾å½¢" class="headerlink" title="15ä½¿ç”¨ç‰¹å®šé¢œè‰²åœ¨ Matplotlib Python ä¸­ç»˜åˆ¶å›¾å½¢"></a>15ä½¿ç”¨ç‰¹å®šé¢œè‰²åœ¨ Matplotlib Python ä¸­ç»˜åˆ¶å›¾å½¢</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br><br><span class="hljs-comment">#Plot a line graph with specific colors</span><br>plt.plot([5, 15], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Rice&#x27;</span>, <span class="hljs-attribute">c</span>=<span class="hljs-string">&#x27;C7&#x27;</span>)<br>plt.plot([3, 6], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Oil&#x27;</span>, <span class="hljs-attribute">c</span>=<span class="hljs-string">&#x27;C8&#x27;</span>)<br>plt.plot([8.0010, 14.2], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Wheat&#x27;</span>,  <span class="hljs-attribute">c</span>=<span class="hljs-string">&#x27;C4&#x27;</span>)<br>plt.plot([1.95412, 6.98547, 5.41411, 5.99, 7.9999], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Coffee&#x27;</span>,  <span class="hljs-attribute">c</span>=<span class="hljs-string">&#x27;C6&#x27;</span>)<br><br><span class="hljs-comment"># Add labels and title</span><br>plt.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br>plt.legend()<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output</p><p><img src="/%5Csrc%5C640-164628699141075.png" alt="å›¾ç‰‡"></p><h2 id="16NLTK-è¯æ±‡è‰²æ•£å›¾"><a href="#16NLTK-è¯æ±‡è‰²æ•£å›¾" class="headerlink" title="16NLTK è¯æ±‡è‰²æ•£å›¾"></a>16NLTK è¯æ±‡è‰²æ•£å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> nltk<br><span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> webtext<br><span class="hljs-keyword">from</span> nltk.probability <span class="hljs-keyword">import</span> FreqDist<br><span class="hljs-keyword">from</span> wordcloud <span class="hljs-keyword">import</span> WordCloud<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>words = [<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-string">&#x27;science&#x27;</span>, <span class="hljs-string">&#x27;dataset&#x27;</span>]<br><br>nltk.download(<span class="hljs-string">&#x27;webtext&#x27;</span>)<br>wt_words = webtext.words(<span class="hljs-string">&#x27;testing.txt&#x27;</span>)  <span class="hljs-comment"># Sample data</span><br><br>points = [(x, y) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(wt_words))<br>          <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(words)) <span class="hljs-keyword">if</span> wt_words[x] == words[y]]<br><br><span class="hljs-keyword">if</span> points:<br>    x, y = <span class="hljs-built_in">zip</span>(*points)<br><span class="hljs-keyword">else</span>:<br>    x = y = ()<br><br>plt.plot(x, y, <span class="hljs-string">&quot;rx&quot;</span>, scalex=<span class="hljs-number">.1</span>)<br>plt.yticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(words)), words, color=<span class="hljs-string">&quot;b&quot;</span>)<br>plt.ylim(-<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(words))<br>plt.title(<span class="hljs-string">&quot;Lexical Dispersion Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;Word Offset&quot;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141076.png" alt="å›¾ç‰‡"></p><h2 id="17ç»˜åˆ¶å…·æœ‰ä¸åŒçº¿æ¡å›¾æ¡ˆçš„æŠ˜çº¿å›¾"><a href="#17ç»˜åˆ¶å…·æœ‰ä¸åŒçº¿æ¡å›¾æ¡ˆçš„æŠ˜çº¿å›¾" class="headerlink" title="17ç»˜åˆ¶å…·æœ‰ä¸åŒçº¿æ¡å›¾æ¡ˆçš„æŠ˜çº¿å›¾"></a>17ç»˜åˆ¶å…·æœ‰ä¸åŒçº¿æ¡å›¾æ¡ˆçš„æŠ˜çº¿å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br><br><span class="hljs-comment"># Plot a line graph with grayscale lines </span><br>plt.plot([5, 11], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Rice&#x27;</span>, <span class="hljs-attribute">c</span>=<span class="hljs-string">&#x27;C1&#x27;</span>, <span class="hljs-attribute">ls</span>=<span class="hljs-string">&#x27;--&#x27;</span>)<br>plt.plot([2, 16], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Oil&#x27;</span>, <span class="hljs-attribute">c</span>=<span class="hljs-string">&#x27;C4&#x27;</span>, <span class="hljs-attribute">ls</span>=<span class="hljs-string">&#x27;-.&#x27;</span>)<br>plt.plot([8, 14], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Wheat&#x27;</span>, <span class="hljs-attribute">c</span>=<span class="hljs-string">&#x27;C7&#x27;</span>, <span class="hljs-attribute">ls</span>=<span class="hljs-string">&#x27;:&#x27;</span>)<br><br><span class="hljs-comment"># Add labels and title</span><br>plt.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br>plt.legend()<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287494076184.png" alt="å›¾ç‰‡"></p><h2 id="18æ›´æ–°-Matplotlib-æŠ˜çº¿å›¾ä¸­çš„å­—ä½“å¤–è§‚"><a href="#18æ›´æ–°-Matplotlib-æŠ˜çº¿å›¾ä¸­çš„å­—ä½“å¤–è§‚" class="headerlink" title="18æ›´æ–° Matplotlib æŠ˜çº¿å›¾ä¸­çš„å­—ä½“å¤–è§‚"></a>18æ›´æ–° Matplotlib æŠ˜çº¿å›¾ä¸­çš„å­—ä½“å¤–è§‚</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br><br>fontparams = &#123;<span class="hljs-string">&#x27;font.size&#x27;</span>: 12, <span class="hljs-string">&#x27;font.weight&#x27;</span>:<span class="hljs-string">&#x27;bold&#x27;</span>,<br>              <span class="hljs-string">&#x27;font.family&#x27;</span>:<span class="hljs-string">&#x27;arial&#x27;</span>, <span class="hljs-string">&#x27;font.style&#x27;</span>:<span class="hljs-string">&#x27;italic&#x27;</span>&#125;<br><br>plt.rcParams.update(fontparams)<br><br><span class="hljs-comment"># Plot a line graph with specific font style</span><br>plt.plot([5, 11], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Rice&#x27;</span>)<br>plt.plot([2, 16], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Oil&#x27;</span>)<br>plt.plot([8, 14], <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Wheat&#x27;</span>)<br><br>labelparams = &#123;<span class="hljs-string">&#x27;size&#x27;</span>: 20, <span class="hljs-string">&#x27;weight&#x27;</span>:<span class="hljs-string">&#x27;semibold&#x27;</span>,<br>              <span class="hljs-string">&#x27;family&#x27;</span>:<span class="hljs-string">&#x27;serif&#x27;</span>, <span class="hljs-string">&#x27;style&#x27;</span>:<span class="hljs-string">&#x27;italic&#x27;</span>&#125;<br><br><span class="hljs-comment"># Add labels and title</span><br>plt.title(<span class="hljs-string">&quot;Interactive Plot&quot;</span>, labelparams)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>, labelparams)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>, labelparams)<br><br>plt.legend()<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141077.png" alt="å›¾ç‰‡"></p><h2 id="19ç”¨é¢œè‰²åç§°ç»˜åˆ¶è™šçº¿å’Œç‚¹çŠ¶å›¾"><a href="#19ç”¨é¢œè‰²åç§°ç»˜åˆ¶è™šçº¿å’Œç‚¹çŠ¶å›¾" class="headerlink" title="19ç”¨é¢œè‰²åç§°ç»˜åˆ¶è™šçº¿å’Œç‚¹çŠ¶å›¾"></a>19ç”¨é¢œè‰²åç§°ç»˜åˆ¶è™šçº¿å’Œç‚¹çŠ¶å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br> <br>x = [2, 4, 5, 8, 9, 13, 15, 16]<br>y = [1, 3, 4, 7, 10, 11, 14, 17]<br> <br><span class="hljs-comment"># Plot a line graph with dashed and maroon color</span><br>plt.plot(x, y, <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Price&#x27;</span>, <span class="hljs-attribute">c</span>=<span class="hljs-string">&#x27;maroon&#x27;</span>, ls=(<span class="hljs-string">&#x27;dashed&#x27;</span>), <span class="hljs-attribute">lw</span>=2)<br> <br><span class="hljs-comment"># Plot a line graph with dotted and teal color</span><br>plt.plot(y, x, <span class="hljs-attribute">label</span>=<span class="hljs-string">&#x27;Rank&#x27;</span>, <span class="hljs-attribute">c</span>=<span class="hljs-string">&#x27;teal&#x27;</span>, ls=(<span class="hljs-string">&#x27;dotted&#x27;</span>), <span class="hljs-attribute">lw</span>=2)<br> <br>plt.legend()<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287472453182.png" alt="å›¾ç‰‡"></p><h2 id="20ä»¥éšæœºåæ ‡ç»˜åˆ¶æ‰€æœ‰å¯ç”¨æ ‡è®°"><a href="#20ä»¥éšæœºåæ ‡ç»˜åˆ¶æ‰€æœ‰å¯ç”¨æ ‡è®°" class="headerlink" title="20ä»¥éšæœºåæ ‡ç»˜åˆ¶æ‰€æœ‰å¯ç”¨æ ‡è®°"></a>20ä»¥éšæœºåæ ‡ç»˜åˆ¶æ‰€æœ‰å¯ç”¨æ ‡è®°</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">import numpy <span class="hljs-keyword">as</span> np<br>import matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-built_in">from</span> matplotlib.<span class="hljs-keyword">lines</span> import Line2D<br> <br><span class="hljs-comment"># Prepare 50 random numbers to plot</span><br>n1 = np.<span class="hljs-built_in">random</span>.rand(<span class="hljs-number">50</span>)<br>n2 = np.<span class="hljs-built_in">random</span>.rand(<span class="hljs-number">50</span>)<br> <br>markerindex = np.<span class="hljs-built_in">random</span>.randint(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(Line2D.markers), <span class="hljs-number">50</span>)<br> <br><span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> enumerate(Line2D.markers):<br>    i = (markerindex == x)<br>    plt.scatter(n1[i], n2[i], marker=y)<br> <br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141078.png" alt="å›¾ç‰‡"></p><h2 id="21ç»˜åˆ¶ä¸€ä¸ªéå¸¸ç®€å•çš„æ¡å½¢å›¾"><a href="#21ç»˜åˆ¶ä¸€ä¸ªéå¸¸ç®€å•çš„æ¡å½¢å›¾" class="headerlink" title="21ç»˜åˆ¶ä¸€ä¸ªéå¸¸ç®€å•çš„æ¡å½¢å›¾"></a>21ç»˜åˆ¶ä¸€ä¸ªéå¸¸ç®€å•çš„æ¡å½¢å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br><br>year = [2001, 2002, 2003, 2004, 2005, 2006]<br>unit = [50, 60, 75, 45, 70, 105]<br><br><span class="hljs-comment"># Plot the bar graph</span><br>plot = plt.bar(year, unit)<br><br><span class="hljs-comment"># Add the data value on head of the bar</span><br><span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> plot:<br>    height = value.get_height()<br>    plt.text(value.get_x() + value.get_width()/2.,<br>             1.002*height,<span class="hljs-string">&#x27;%d&#x27;</span> % int(height), <span class="hljs-attribute">ha</span>=<span class="hljs-string">&#x27;center&#x27;</span>, <span class="hljs-attribute">va</span>=<span class="hljs-string">&#x27;bottom&#x27;</span>)<br><br><span class="hljs-comment"># Add labels and title</span><br>plt.title(<span class="hljs-string">&quot;Bar Chart&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;Year&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Unit&quot;</span>)<br><br><span class="hljs-comment"># Display the graph on the screen</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287463756180.png" alt="å›¾ç‰‡"></p><h2 id="22åœ¨-X-è½´ä¸Šç»˜åˆ¶å¸¦æœ‰ç»„æ•°æ®çš„æ¡å½¢å›¾"><a href="#22åœ¨-X-è½´ä¸Šç»˜åˆ¶å¸¦æœ‰ç»„æ•°æ®çš„æ¡å½¢å›¾" class="headerlink" title="22åœ¨ X è½´ä¸Šç»˜åˆ¶å¸¦æœ‰ç»„æ•°æ®çš„æ¡å½¢å›¾"></a>22åœ¨ X è½´ä¸Šç»˜åˆ¶å¸¦æœ‰ç»„æ•°æ®çš„æ¡å½¢å›¾</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs prolog">import pandas as pd<br>import matplotlib.pyplot as plt<br> <br>df = pd.<span class="hljs-symbol">DataFrame</span>([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">1.4</span>, <span class="hljs-number">2.1</span>, <span class="hljs-number">2.8</span>], [<span class="hljs-number">5.5</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1.2</span>],<br>                   [<span class="hljs-number">1.5</span>, <span class="hljs-number">1.4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>]],<br>                  columns=[<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Orange&#x27;</span>, <span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-string">&#x27;Pear&#x27;</span>],<br>                  index=[<span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">13</span>, <span class="hljs-number">20</span>, <span class="hljs-number">28</span>, <span class="hljs-number">35</span>])<br>width = <span class="hljs-number">2</span><br>bottom = <span class="hljs-number">0</span><br> <br>for i in df.columns:<br>    plt.bar(df.index, df[i], width=width, bottom=bottom)<br>    bottom += df[i]<br> <br>plt.legend(df.columns)<br>plt.tight_layout()<br> <br># <span class="hljs-symbol">Display</span> the graph on the screen<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141079.png" alt="å›¾ç‰‡"></p><h2 id="23å…·æœ‰ä¸åŒé¢œè‰²æ¡å½¢çš„æ¡å½¢å›¾"><a href="#23å…·æœ‰ä¸åŒé¢œè‰²æ¡å½¢çš„æ¡å½¢å›¾" class="headerlink" title="23å…·æœ‰ä¸åŒé¢œè‰²æ¡å½¢çš„æ¡å½¢å›¾"></a>23å…·æœ‰ä¸åŒé¢œè‰²æ¡å½¢çš„æ¡å½¢å›¾</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> matplotlib <span class="hljs-keyword">as</span> mp<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br> <br><span class="hljs-class"><span class="hljs-keyword">data</span> = [8, 6, 7, 12, 9, 10, 5, 8, 9]</span><br> <br><span class="hljs-meta"># Colorize the graph based on likeability:</span><br><span class="hljs-title">likeability_scores</span> = np.array(<span class="hljs-class"><span class="hljs-keyword">data</span>)</span><br> <br><span class="hljs-title">data_normalizer</span> = mp.colors.<span class="hljs-type">Normalize</span>()<br><span class="hljs-title">color_map</span> = mp.colors.<span class="hljs-type">LinearSegmentedColormap</span>(<br>    <span class="hljs-string">&quot;my_map&quot;</span>,<br>    &#123;<br>        <span class="hljs-string">&quot;red&quot;</span>: [(<span class="hljs-number">0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>),<br>                (<span class="hljs-number">1.0</span>, .<span class="hljs-number">5</span>, .<span class="hljs-number">5</span>)],<br>        <span class="hljs-string">&quot;green&quot;</span>: [(<span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>),<br>                  (<span class="hljs-number">1.0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)],<br>        <span class="hljs-string">&quot;blue&quot;</span>: [(<span class="hljs-number">0</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.5</span>),<br>                 (<span class="hljs-number">1.0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)]<br>    &#125;<br>)<br> <br><span class="hljs-meta"># Map xs to numbers:</span><br><span class="hljs-type">N</span> = len(<span class="hljs-class"><span class="hljs-keyword">data</span>)</span><br><span class="hljs-title">x_nums</span> = np.arange(<span class="hljs-number">1</span>, <span class="hljs-type">N</span>+<span class="hljs-number">1</span>)<br> <br><span class="hljs-meta"># Plot a bar graph:</span><br><span class="hljs-title">plt</span>.bar(<br>    x_nums,<br>    <span class="hljs-class"><span class="hljs-keyword">data</span>,</span><br>    align=<span class="hljs-string">&quot;center&quot;</span>,<br>    color=color_map(data_normalizer(likeability_scores))<br>)<br> <br><span class="hljs-title">plt</span>.xticks(x_nums, <span class="hljs-class"><span class="hljs-keyword">data</span>)</span><br><span class="hljs-title">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287451643178.png" alt="å›¾ç‰‡"></p><h2 id="24ä½¿ç”¨-Matplotlib-ä¸­çš„ç‰¹å®šå€¼æ”¹å˜æ¡å½¢å›¾ä¸­æ¯ä¸ªæ¡çš„é¢œè‰²"><a href="#24ä½¿ç”¨-Matplotlib-ä¸­çš„ç‰¹å®šå€¼æ”¹å˜æ¡å½¢å›¾ä¸­æ¯ä¸ªæ¡çš„é¢œè‰²" class="headerlink" title="24ä½¿ç”¨ Matplotlib ä¸­çš„ç‰¹å®šå€¼æ”¹å˜æ¡å½¢å›¾ä¸­æ¯ä¸ªæ¡çš„é¢œè‰²"></a>24ä½¿ç”¨ Matplotlib ä¸­çš„ç‰¹å®šå€¼æ”¹å˜æ¡å½¢å›¾ä¸­æ¯ä¸ªæ¡çš„é¢œè‰²</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> matplotlib.cm <span class="hljs-keyword">as</span> cm<br><span class="hljs-title">from</span> matplotlib.colors <span class="hljs-keyword">import</span> Normalize<br><span class="hljs-title">from</span> numpy.random <span class="hljs-keyword">import</span> rand<br><br><span class="hljs-class"><span class="hljs-keyword">data</span> = [2, 3, 5, 6, 8, 12, 7, 5]</span><br><span class="hljs-title">fig</span>, ax = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br><br><span class="hljs-meta"># Get a color map</span><br><span class="hljs-title">my_cmap</span> = cm.get_cmap(&#x27;jet&#x27;)<br><br><span class="hljs-meta"># Get normalize function (takes data in range [vmin, vmax] -&gt; [0, 1])</span><br><span class="hljs-title">my_norm</span> = <span class="hljs-type">Normalize</span>(vmin=<span class="hljs-number">0</span>, vmax=<span class="hljs-number">8</span>)<br><br><span class="hljs-title">ax</span>.bar(range(<span class="hljs-number">8</span>), rand(<span class="hljs-number">8</span>), color=my_cmap(my_norm(<span class="hljs-class"><span class="hljs-keyword">data</span>)))</span><br><span class="hljs-title">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141180.png" alt="å›¾ç‰‡"></p><h2 id="25åœ¨-Matplotlib-ä¸­ç»˜åˆ¶æ•£ç‚¹å›¾"><a href="#25åœ¨-Matplotlib-ä¸­ç»˜åˆ¶æ•£ç‚¹å›¾" class="headerlink" title="25åœ¨ Matplotlib ä¸­ç»˜åˆ¶æ•£ç‚¹å›¾"></a>25åœ¨ Matplotlib ä¸­ç»˜åˆ¶æ•£ç‚¹å›¾</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x1 = [<span class="hljs-number">214</span>, <span class="hljs-number">5</span>, <span class="hljs-number">91</span>, <span class="hljs-number">81</span>, <span class="hljs-number">122</span>, <span class="hljs-number">16</span>, <span class="hljs-number">218</span>, <span class="hljs-number">22</span>]<br>x2 = [<span class="hljs-number">12</span>, <span class="hljs-number">125</span>, <span class="hljs-number">149</span>, <span class="hljs-number">198</span>, <span class="hljs-number">22</span>, <span class="hljs-number">26</span>, <span class="hljs-number">28</span>, <span class="hljs-number">32</span>]<br><br>plt.scatter(x1, x2)<br><br># <span class="hljs-keyword">Set</span> X <span class="hljs-keyword">and</span> Y axis labels<br>plt.xlabel(<span class="hljs-string">&#x27;Demand&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Price&#x27;</span>)<br><br><span class="hljs-meta">#Display the graph</span><br>plt.<span class="hljs-keyword">show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141181.png" alt="å›¾ç‰‡"></p><h2 id="26ä½¿ç”¨å•ä¸ªæ ‡ç­¾ç»˜åˆ¶æ•£ç‚¹å›¾"><a href="#26ä½¿ç”¨å•ä¸ªæ ‡ç­¾ç»˜åˆ¶æ•£ç‚¹å›¾" class="headerlink" title="26ä½¿ç”¨å•ä¸ªæ ‡ç­¾ç»˜åˆ¶æ•£ç‚¹å›¾"></a>26ä½¿ç”¨å•ä¸ªæ ‡ç­¾ç»˜åˆ¶æ•£ç‚¹å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import numpy as np<br>import matplotlib.pyplot as plt<br><br>N = 6<br>data = np.random.random((N, 4))<br>labels = [<span class="hljs-string">&#x27;point&#123;0&#125;&#x27;</span>.format(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(N)]<br><br>plt.subplots_adjust(<span class="hljs-attribute">bottom</span>=0.1)<br>plt.scatter(<br>    data[:, 0], data[:, 1], <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-attribute">c</span>=data[:, 2], <span class="hljs-attribute">s</span>=data[:, 3] * 1500,<br>    <span class="hljs-attribute">cmap</span>=plt.get_cmap(&#x27;Spectral&#x27;))<br><br><span class="hljs-keyword">for</span> label, x, y <span class="hljs-keyword">in</span> zip(labels, data[:, 0], data[:, 1]):<br>    plt.annotate(<br>        label,<br>        xy=(x, y), xytext=(-20, 20),<br>        <span class="hljs-attribute">textcoords</span>=<span class="hljs-string">&#x27;offset points&#x27;</span>, <span class="hljs-attribute">ha</span>=<span class="hljs-string">&#x27;right&#x27;</span>, <span class="hljs-attribute">va</span>=<span class="hljs-string">&#x27;bottom&#x27;</span>,<br>        <span class="hljs-attribute">bbox</span>=dict(boxstyle=&#x27;round,pad=0.5&#x27;, <span class="hljs-attribute">fc</span>=<span class="hljs-string">&#x27;yellow&#x27;</span>, <span class="hljs-attribute">alpha</span>=0.5),<br>        <span class="hljs-attribute">arrowprops</span>=dict(arrowstyle=&#x27;-&gt;&#x27;, <span class="hljs-attribute">connectionstyle</span>=<span class="hljs-string">&#x27;arc3,rad=0&#x27;</span>))<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287441540176.png" alt="å›¾ç‰‡"></p><h2 id="27ç”¨æ ‡è®°å¤§å°ç»˜åˆ¶æ•£ç‚¹å›¾"><a href="#27ç”¨æ ‡è®°å¤§å°ç»˜åˆ¶æ•£ç‚¹å›¾" class="headerlink" title="27ç”¨æ ‡è®°å¤§å°ç»˜åˆ¶æ•£ç‚¹å›¾"></a>27ç”¨æ ‡è®°å¤§å°ç»˜åˆ¶æ•£ç‚¹å›¾</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x1 = [<span class="hljs-number">214</span>, <span class="hljs-number">5</span>, <span class="hljs-number">91</span>, <span class="hljs-number">81</span>, <span class="hljs-number">122</span>, <span class="hljs-number">16</span>, <span class="hljs-number">218</span>, <span class="hljs-number">22</span>]<br>x2 = [<span class="hljs-number">12</span>, <span class="hljs-number">125</span>, <span class="hljs-number">149</span>, <span class="hljs-number">198</span>, <span class="hljs-number">22</span>, <span class="hljs-number">26</span>, <span class="hljs-number">28</span>, <span class="hljs-number">32</span>]<br><br>plt.figure(<span class="hljs-number">1</span>)<br><span class="hljs-comment"># You can specify the marker size two ways directly:</span><br>plt.plot(x1, <span class="hljs-string">&#x27;bo&#x27;</span>, markersize=<span class="hljs-number">20</span>)  <span class="hljs-comment"># blue circle with size 10 </span><br>plt.plot(x2, <span class="hljs-string">&#x27;ro&#x27;</span>, ms=<span class="hljs-number">10</span>,)  <span class="hljs-comment"># ms is just an alias for markersize</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141182.png" alt="å›¾ç‰‡"></p><h2 id="28åœ¨æ•£ç‚¹å›¾ä¸­è°ƒæ•´æ ‡è®°å¤§å°å’Œé¢œè‰²"><a href="#28åœ¨æ•£ç‚¹å›¾ä¸­è°ƒæ•´æ ‡è®°å¤§å°å’Œé¢œè‰²" class="headerlink" title="28åœ¨æ•£ç‚¹å›¾ä¸­è°ƒæ•´æ ‡è®°å¤§å°å’Œé¢œè‰²"></a>28åœ¨æ•£ç‚¹å›¾ä¸­è°ƒæ•´æ ‡è®°å¤§å°å’Œé¢œè‰²</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br>import matplotlib.colors<br><br><span class="hljs-comment"># Prepare a list of integers</span><br>val = [2, 3, 6, 9, 14]<br><br><span class="hljs-comment"># Prepare a list of sizes that increases with values in val</span><br>sizevalues = [i*<span class="hljs-number">*2</span><span class="hljs-number">*50</span>+50 <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> val]<br><br><span class="hljs-comment"># Prepare a list of colors</span><br>plotcolor = [<span class="hljs-string">&#x27;red&#x27;</span>,<span class="hljs-string">&#x27;orange&#x27;</span>,<span class="hljs-string">&#x27;yellow&#x27;</span>,<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;blue&#x27;</span>]<br><br><span class="hljs-comment"># Draw a scatter plot of val points with sizes in sizevalues and</span><br><span class="hljs-comment"># colors in plotcolor</span><br>plt.scatter(val, val, <span class="hljs-attribute">s</span>=sizevalues, <span class="hljs-attribute">c</span>=plotcolor)<br><br><span class="hljs-comment"># Set axis limits to show the markers completely</span><br>plt.xlim(0, 20)<br>plt.ylim(0, 20)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141183.png" alt="å›¾ç‰‡"></p><h2 id="29åœ¨-Matplotlib-ä¸­åº”ç”¨æ ·å¼è¡¨"><a href="#29åœ¨-Matplotlib-ä¸­åº”ç”¨æ ·å¼è¡¨" class="headerlink" title="29åœ¨ Matplotlib ä¸­åº”ç”¨æ ·å¼è¡¨"></a>29åœ¨ Matplotlib ä¸­åº”ç”¨æ ·å¼è¡¨</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br>import matplotlib.colors<br>import matplotlib as mpl<br><br>mpl.style.use(<span class="hljs-string">&#x27;seaborn-darkgrid&#x27;</span>)<br><br><span class="hljs-comment"># Prepare a list of integers</span><br>val = [2, 3, 6, 9, 14]<br><br><span class="hljs-comment"># Prepare a list of sizes that increases with values in val</span><br>sizevalues = [i*<span class="hljs-number">*2</span><span class="hljs-number">*50</span>+50 <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> val]<br><br><span class="hljs-comment"># Prepare a list of colors</span><br>plotcolor = [<span class="hljs-string">&#x27;red&#x27;</span>,<span class="hljs-string">&#x27;orange&#x27;</span>,<span class="hljs-string">&#x27;yellow&#x27;</span>,<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;blue&#x27;</span>]<br><br><span class="hljs-comment"># Draw a scatter plot of val points with sizes in sizevalues and</span><br><span class="hljs-comment"># colors in plotcolor</span><br>plt.scatter(val, val, <span class="hljs-attribute">s</span>=sizevalues, <span class="hljs-attribute">c</span>=plotcolor)<br><br><span class="hljs-comment"># Draw grid lines with red color and dashed style</span><br>plt.grid(<span class="hljs-attribute">color</span>=<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-attribute">linestyle</span>=<span class="hljs-string">&#x27;-.&#x27;</span>, <span class="hljs-attribute">linewidth</span>=0.7)<br><br><span class="hljs-comment"># Set axis limits to show the markers completely</span><br>plt.xlim(0, 20)<br>plt.ylim(0, 20)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287424985174.png" alt="å›¾ç‰‡"></p><h2 id="30è‡ªå®šä¹‰ç½‘æ ¼é¢œè‰²å’Œæ ·å¼"><a href="#30è‡ªå®šä¹‰ç½‘æ ¼é¢œè‰²å’Œæ ·å¼" class="headerlink" title="30è‡ªå®šä¹‰ç½‘æ ¼é¢œè‰²å’Œæ ·å¼"></a>30è‡ªå®šä¹‰ç½‘æ ¼é¢œè‰²å’Œæ ·å¼</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br>import matplotlib.colors<br><br><span class="hljs-comment"># Prepare a list of integers</span><br>val = [2, 3, 6, 9, 14]<br><br><span class="hljs-comment"># Prepare a list of sizes that increases with values in val</span><br>sizevalues = [i*<span class="hljs-number">*2</span><span class="hljs-number">*50</span>+50 <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> val]<br><br><span class="hljs-comment"># Prepare a list of colors</span><br>plotcolor = [<span class="hljs-string">&#x27;red&#x27;</span>,<span class="hljs-string">&#x27;orange&#x27;</span>,<span class="hljs-string">&#x27;yellow&#x27;</span>,<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;blue&#x27;</span>]<br><br><span class="hljs-comment"># Draw a scatter plot of val points with sizes in sizevalues and</span><br><span class="hljs-comment"># colors in plotcolor</span><br>plt.scatter(val, val, <span class="hljs-attribute">s</span>=sizevalues, <span class="hljs-attribute">c</span>=plotcolor)<br><br><span class="hljs-comment"># Draw grid lines with red color and dashed style</span><br>plt.grid(<span class="hljs-attribute">color</span>=<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-attribute">linestyle</span>=<span class="hljs-string">&#x27;-.&#x27;</span>, <span class="hljs-attribute">linewidth</span>=0.7)<br><br><span class="hljs-comment"># Set axis limits to show the markers completely</span><br>plt.xlim(0, 20)<br>plt.ylim(0, 20)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141184.png" alt="å›¾ç‰‡"></p><h2 id="31åœ¨-Python-Matplotlib-ä¸­ç»˜åˆ¶é¥¼å›¾"><a href="#31åœ¨-Python-Matplotlib-ä¸­ç»˜åˆ¶é¥¼å›¾" class="headerlink" title="31åœ¨ Python Matplotlib ä¸­ç»˜åˆ¶é¥¼å›¾"></a>31åœ¨ Python Matplotlib ä¸­ç»˜åˆ¶é¥¼å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br><br><br>labels = [<span class="hljs-string">&#x27;India&#x27;</span>, <span class="hljs-string">&#x27;Canada&#x27;</span>, <span class="hljs-string">&#x27;Japan&#x27;</span>, <span class="hljs-string">&#x27;Australia&#x27;</span>, <span class="hljs-string">&#x27;Russia&#x27;</span>]<br>sizes = [31, 19, 15, 14, 21]  # <span class="hljs-built_in">Add</span> upto 100%<br><br><span class="hljs-comment"># Plot the pie chart</span><br>plt.pie(sizes, <span class="hljs-attribute">labels</span>=labels, <span class="hljs-attribute">autopct</span>=<span class="hljs-string">&#x27;%1.1f%%&#x27;</span>, <span class="hljs-attribute">startangle</span>=90)<br><br><span class="hljs-comment"># Equal aspect ratio ensures that pie is drawn as a circle.</span><br>plt.axis(<span class="hljs-string">&#x27;equal&#x27;</span>)<br><br><span class="hljs-comment"># Display the graph onto the screen</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287410451172.png" alt="å›¾ç‰‡"></p><h2 id="32åœ¨-Matplotlib-é¥¼å›¾ä¸­ä¸ºæ¥”å½¢è®¾ç½®è¾¹æ¡†"><a href="#32åœ¨-Matplotlib-é¥¼å›¾ä¸­ä¸ºæ¥”å½¢è®¾ç½®è¾¹æ¡†" class="headerlink" title="32åœ¨ Matplotlib é¥¼å›¾ä¸­ä¸ºæ¥”å½¢è®¾ç½®è¾¹æ¡†"></a>32åœ¨ Matplotlib é¥¼å›¾ä¸­ä¸ºæ¥”å½¢è®¾ç½®è¾¹æ¡†</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br> <br>labels = [<span class="hljs-string">&#x27;India&#x27;</span>, <span class="hljs-string">&#x27;Canada&#x27;</span>, <span class="hljs-string">&#x27;Japan&#x27;</span>, <span class="hljs-string">&#x27;Australia&#x27;</span>, <span class="hljs-string">&#x27;Russia&#x27;</span>]<br>sizes = [31, 19, 15, 14, 21]  # <span class="hljs-built_in">Add</span> upto 100%<br> <br><span class="hljs-comment"># Plot the pie chart</span><br>plt.pie(sizes, <span class="hljs-attribute">labels</span>=labels, <span class="hljs-attribute">autopct</span>=<span class="hljs-string">&#x27;%1.1f%%&#x27;</span>, <span class="hljs-attribute">startangle</span>=90,<br>        wedgeprops=&#123;<span class="hljs-string">&quot;edgecolor&quot;</span>:<span class="hljs-string">&quot;0&quot;</span>,<span class="hljs-string">&#x27;linewidth&#x27;</span>: 1,<br>                    <span class="hljs-string">&#x27;linestyle&#x27;</span>: <span class="hljs-string">&#x27;dashed&#x27;</span>, <span class="hljs-string">&#x27;antialiased&#x27;</span>: <span class="hljs-literal">True</span>&#125;)<br> <br><span class="hljs-comment"># Equal aspect ratio ensures that pie is drawn as a circle.</span><br>plt.axis(<span class="hljs-string">&#x27;equal&#x27;</span>)<br> <br><span class="hljs-comment"># Display the graph onto the screen</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141185.png" alt="å›¾ç‰‡"></p><h2 id="33åœ¨-Python-Matplotlib-ä¸­è®¾ç½®é¥¼å›¾çš„æ–¹å‘"><a href="#33åœ¨-Python-Matplotlib-ä¸­è®¾ç½®é¥¼å›¾çš„æ–¹å‘" class="headerlink" title="33åœ¨ Python Matplotlib ä¸­è®¾ç½®é¥¼å›¾çš„æ–¹å‘"></a>33åœ¨ Python Matplotlib ä¸­è®¾ç½®é¥¼å›¾çš„æ–¹å‘</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br> <br>labels = [<span class="hljs-string">&#x27;India&#x27;</span>, <span class="hljs-string">&#x27;Canada&#x27;</span>, <span class="hljs-string">&#x27;Japan&#x27;</span>, <span class="hljs-string">&#x27;Australia&#x27;</span>, <span class="hljs-string">&#x27;Russia&#x27;</span>]<br>sizes = [31, 19, 15, 14, 21]  # <span class="hljs-built_in">Add</span> upto 100%<br> <br><span class="hljs-comment"># Plot the pie chart</span><br>plt.pie(sizes, <span class="hljs-attribute">labels</span>=labels, <span class="hljs-attribute">counterclock</span>=<span class="hljs-literal">False</span>, <span class="hljs-attribute">startangle</span>=90)<br> <br><span class="hljs-comment"># Equal aspect ratio ensures that pie is drawn as a circle.</span><br>plt.axis(<span class="hljs-string">&#x27;equal&#x27;</span>)<br> <br><span class="hljs-comment"># Display the graph onto the screen</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287393020170.png" alt="å›¾ç‰‡"></p><h2 id="34åœ¨-Matplotlib-ä¸­ç»˜åˆ¶å…·æœ‰ä¸åŒé¢œè‰²ä¸»é¢˜çš„é¥¼å›¾"><a href="#34åœ¨-Matplotlib-ä¸­ç»˜åˆ¶å…·æœ‰ä¸åŒé¢œè‰²ä¸»é¢˜çš„é¥¼å›¾" class="headerlink" title="34åœ¨ Matplotlib ä¸­ç»˜åˆ¶å…·æœ‰ä¸åŒé¢œè‰²ä¸»é¢˜çš„é¥¼å›¾"></a>34åœ¨ Matplotlib ä¸­ç»˜åˆ¶å…·æœ‰ä¸åŒé¢œè‰²ä¸»é¢˜çš„é¥¼å›¾</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs maxima">import matplotlib.pyplot as plt<br><br>sizes = [<span class="hljs-number">12</span>, <span class="hljs-number">23</span>, <span class="hljs-number">11</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">29</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br><span class="hljs-built_in">labels</span> = [<span class="hljs-string">&quot;Market %s&quot;</span> <span class="hljs-symbol">%</span> i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> sizes]<br><br>fig1, ax1 = plt.subplots(figsize=(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>))<br>fig1.subplots_adjust(<span class="hljs-number">0.3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br><br>theme = plt.get_cmap(&#x27;copper&#x27;)<br>ax1.set_prop_cycle(<span class="hljs-string">&quot;color&quot;</span>, [theme(<span class="hljs-number">1</span>. * i / len(sizes))<br>                             <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(len(sizes))])<br><br><span class="hljs-symbol">_</span>, <span class="hljs-symbol">_</span> = ax1.pie(sizes, startangle=<span class="hljs-number">90</span>, <span class="hljs-built_in">radius</span>=<span class="hljs-number">1800</span>)<br><br>ax1.axis(&#x27;<span class="hljs-built_in">equal</span>&#x27;)<br><br>total = <span class="hljs-built_in">sum</span>(sizes)<br>plt.<span class="hljs-built_in">legend</span>(<br>    loc=&#x27;upper left&#x27;,<br>    <span class="hljs-built_in">labels</span>=[&#x27;<span class="hljs-built_in">%s</span>, <span class="hljs-symbol">%</span><span class="hljs-number">1.</span>1f%%&#x27; <span class="hljs-symbol">%</span> (<br>        l, (<span class="hljs-built_in">float</span>(s) / total) * <span class="hljs-number">100</span>)<br>            <span class="hljs-keyword">for</span> l, s <span class="hljs-keyword">in</span> zip(<span class="hljs-built_in">labels</span>, sizes)],<br>    prop=&#123;&#x27;size&#x27;: <span class="hljs-number">11</span>&#125;,<br>    bbox_to_anchor=(<span class="hljs-number">0.0</span>, <span class="hljs-number">1</span>),<br>    bbox_transform=fig1.transFigure<br>)<br><br>plt.<span class="hljs-built_in">show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287384415168.png" alt="å›¾ç‰‡"></p><h2 id="35åœ¨-Python-Matplotlib-ä¸­æ‰“å¼€é¥¼å›¾çš„è½´"><a href="#35åœ¨-Python-Matplotlib-ä¸­æ‰“å¼€é¥¼å›¾çš„è½´" class="headerlink" title="35åœ¨ Python Matplotlib ä¸­æ‰“å¼€é¥¼å›¾çš„è½´"></a>35åœ¨ Python Matplotlib ä¸­æ‰“å¼€é¥¼å›¾çš„è½´</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-attribute">sizes</span> =<span class="hljs-meta"> [12, 23, 11, 17, 19, 24, 29, 11, 12, 9, 7, 5, 3, 2, 1]</span><br><span class="hljs-attribute">labels</span> =<span class="hljs-meta"> [&quot;Market %s&quot; % i for i in sizes]</span><br><br><span class="hljs-attribute">fig1</span>, ax1 = plt.subplots(figsize=(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>))<br><span class="hljs-attribute">fig1</span>.subplots_adjust(<span class="hljs-number">0</span>.<span class="hljs-number">1</span>, <span class="hljs-number">0</span>.<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br><br><span class="hljs-attribute">theme</span> = plt.get_cmap(&#x27;jet&#x27;)<br><span class="hljs-attribute">ax1</span>.set_prop_cycle(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-meta"> [theme(1. * i / len(sizes))</span><br><span class="hljs-meta">                             for i in range(len(sizes))])</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">_, _ = ax1.pie(sizes, startangle=90, radius=1800, frame=True)</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">ax1.axis(&#x27;equal&#x27;)</span><br><span class="hljs-meta">plt.show()</span><br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141186.png" alt="å›¾ç‰‡"></p><h2 id="36å…·æœ‰ç‰¹å®šé¢œè‰²å’Œä½ç½®çš„é¥¼å›¾"><a href="#36å…·æœ‰ç‰¹å®šé¢œè‰²å’Œä½ç½®çš„é¥¼å›¾" class="headerlink" title="36å…·æœ‰ç‰¹å®šé¢œè‰²å’Œä½ç½®çš„é¥¼å›¾"></a>36å…·æœ‰ç‰¹å®šé¢œè‰²å’Œä½ç½®çš„é¥¼å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import numpy as np<br>import matplotlib.pyplot as plt<br><br>fig =plt.figure(figsize = (4,4))<br>ax11 = fig.add_subplot(111)<br><span class="hljs-comment"># Data to plot</span><br>labels = <span class="hljs-string">&#x27;Python&#x27;</span>, <span class="hljs-string">&#x27;C++&#x27;</span>, <span class="hljs-string">&#x27;Ruby&#x27;</span>, <span class="hljs-string">&#x27;Java&#x27;</span><br>sizes = [250, 130, 75, 200]<br>colors = [<span class="hljs-string">&#x27;gold&#x27;</span>, <span class="hljs-string">&#x27;yellowgreen&#x27;</span>, <span class="hljs-string">&#x27;lightcoral&#x27;</span>, <span class="hljs-string">&#x27;lightskyblue&#x27;</span>]<br><br><span class="hljs-comment"># Plot</span><br>w,l,p = ax11.pie(sizes,  <span class="hljs-attribute">labels</span>=labels, <span class="hljs-attribute">colors</span>=colors,<br>                 <span class="hljs-attribute">autopct</span>=<span class="hljs-string">&#x27;%1.1f%%&#x27;</span>, <span class="hljs-attribute">startangle</span>=140, <span class="hljs-attribute">pctdistance</span>=1, <span class="hljs-attribute">radius</span>=0.5)<br><br>pctdists = [.8, .5, .4, .2]<br><br><span class="hljs-keyword">for</span> t,d <span class="hljs-keyword">in</span> zip(p, pctdists):<br>    xi,yi = t.get_position()<br>    ri = np.sqrt(xi*<span class="hljs-number">*2</span>+yi*<span class="hljs-number">*2</span>)<br>    phi = np.arctan2(yi,xi)<br>    x = d*ri*np.cos(phi)<br>    y = d*ri*np.sin(phi)<br>    t.set_position((x,y))<br><br>plt.axis(<span class="hljs-string">&#x27;equal&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287366841166.png" alt="å›¾ç‰‡"></p><h2 id="37åœ¨-Matplotlib-ä¸­ç»˜åˆ¶æåæ ‡å›¾"><a href="#37åœ¨-Matplotlib-ä¸­ç»˜åˆ¶æåæ ‡å›¾" class="headerlink" title="37åœ¨ Matplotlib ä¸­ç»˜åˆ¶æåæ ‡å›¾"></a>37åœ¨ Matplotlib ä¸­ç»˜åˆ¶æåæ ‡å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>employee = [<span class="hljs-string">&quot;Sam&quot;</span>, <span class="hljs-string">&quot;Rony&quot;</span>, <span class="hljs-string">&quot;Albert&quot;</span>, <span class="hljs-string">&quot;Chris&quot;</span>, <span class="hljs-string">&quot;Jahrum&quot;</span>]<br>actual = [<span class="hljs-number">45</span>, <span class="hljs-number">53</span>, <span class="hljs-number">55</span>, <span class="hljs-number">61</span>, <span class="hljs-number">57</span>, <span class="hljs-number">45</span>]<br>expected = [<span class="hljs-number">50</span>, <span class="hljs-number">55</span>, <span class="hljs-number">60</span>, <span class="hljs-number">65</span>, <span class="hljs-number">55</span>, <span class="hljs-number">50</span>]<br><br><span class="hljs-comment"># Initialise the spider plot by setting figure size and polar projection</span><br>plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>))<br>plt.subplot(polar=<span class="hljs-literal">True</span>)<br><br>theta = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> * np.pi, <span class="hljs-built_in">len</span>(actual))<br><br><span class="hljs-comment"># Arrange the grid into number of sales equal parts in degrees</span><br>lines, labels = plt.thetagrids(<span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">360</span>, <span class="hljs-built_in">int</span>(<span class="hljs-number">360</span>/<span class="hljs-built_in">len</span>(employee))), (employee))<br><br><span class="hljs-comment"># Plot actual sales graph</span><br>plt.plot(theta, actual)<br>plt.fill(theta, actual, <span class="hljs-string">&#x27;b&#x27;</span>, alpha=<span class="hljs-number">0.1</span>)<br><br><span class="hljs-comment"># Plot expected sales graph</span><br>plt.plot(theta, expected)<br><br><span class="hljs-comment"># Add legend and title for the plot</span><br>plt.legend(labels=(<span class="hljs-string">&#x27;Actual&#x27;</span>, <span class="hljs-string">&#x27;Expected&#x27;</span>), loc=<span class="hljs-number">1</span>)<br>plt.title(<span class="hljs-string">&quot;Actual vs Expected sales by Employee&quot;</span>)<br><br><span class="hljs-comment"># Dsiplay the plot on the screen</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141187.png" alt="å›¾ç‰‡"></p><h2 id="38åœ¨-Matplotlib-ä¸­ç»˜åˆ¶åŠæåæ ‡å›¾"><a href="#38åœ¨-Matplotlib-ä¸­ç»˜åˆ¶åŠæåæ ‡å›¾" class="headerlink" title="38åœ¨ Matplotlib ä¸­ç»˜åˆ¶åŠæåæ ‡å›¾"></a>38åœ¨ Matplotlib ä¸­ç»˜åˆ¶åŠæåæ ‡å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br>import numpy as np<br><br>theta = np.linspace(0, np.pi)<br>r = np.sin(theta)<br><br>fig = plt.figure()<br>ax = fig.add_subplot(111, <span class="hljs-attribute">polar</span>=<span class="hljs-literal">True</span>)<br>c = ax.scatter(theta, r, <span class="hljs-attribute">c</span>=r, <span class="hljs-attribute">s</span>=10, <span class="hljs-attribute">cmap</span>=<span class="hljs-string">&#x27;hsv&#x27;</span>, <span class="hljs-attribute">alpha</span>=0.75)<br><br>ax.set_thetamin(0)<br>ax.set_thetamax(180)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141188.png" alt="å›¾ç‰‡"></p><h2 id="39Matplotlib-ä¸­çš„æåæ ‡ç­‰å€¼çº¿å›¾"><a href="#39Matplotlib-ä¸­çš„æåæ ‡ç­‰å€¼çº¿å›¾" class="headerlink" title="39Matplotlib ä¸­çš„æåæ ‡ç­‰å€¼çº¿å›¾"></a>39Matplotlib ä¸­çš„æåæ ‡ç­‰å€¼çº¿å›¾</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs maxima">import numpy as <span class="hljs-built_in">np</span><br>import matplotlib.pyplot as plt<br><br># Using linspace so that the endpoint of <span class="hljs-number">360</span> <span class="hljs-built_in">is</span> included<br>actual = <span class="hljs-built_in">np</span>.radians(<span class="hljs-built_in">np</span>.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">360</span>, <span class="hljs-number">20</span>))<br>expected = <span class="hljs-built_in">np</span>.arange(<span class="hljs-number">0</span>, <span class="hljs-number">70</span>, <span class="hljs-number">10</span>)<br><br>r, theta = <span class="hljs-built_in">np</span>.meshgrid(expected, actual)<br><span class="hljs-built_in">values</span> = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">random</span>.<span class="hljs-built_in">random</span>((actual.size, expected.size))<br><br>fig, ax = plt.subplots(subplot_kw=dict(projection=&#x27;<span class="hljs-built_in">polar</span>&#x27;))<br>ax.contourf(theta, r, <span class="hljs-built_in">values</span>)<br><br>plt.<span class="hljs-built_in">show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141189.png" alt="å›¾ç‰‡"></p><h2 id="40ç»˜åˆ¶ç›´æ–¹å›¾"><a href="#40ç»˜åˆ¶ç›´æ–¹å›¾" class="headerlink" title="40ç»˜åˆ¶ç›´æ–¹å›¾"></a>40ç»˜åˆ¶ç›´æ–¹å›¾</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> numpy as np<br><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-comment"># Data in numpy array</span><br><span class="hljs-attribute">exp_data</span> = np.array([<span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">13</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">19</span>, <span class="hljs-number">13</span>, <br>                    <span class="hljs-attribute">12</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <br>                    <span class="hljs-attribute">12</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <br>                    <span class="hljs-attribute">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <br>                    <span class="hljs-attribute">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <br>                    <span class="hljs-attribute">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <br>                    <span class="hljs-attribute">19</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">11</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-attribute">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-attribute">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">13</span>])<br><br><span class="hljs-comment"># Plot the distribution of numpy data</span><br><span class="hljs-attribute">plt</span>.hist(exp_data, bins = <span class="hljs-number">19</span>)<br><br><span class="hljs-comment"># Add axis labels</span><br><span class="hljs-attribute">plt</span>.xlabel(<span class="hljs-string">&quot;Year&quot;</span>)<br><span class="hljs-attribute">plt</span>.ylabel(<span class="hljs-string">&quot;Salary&quot;</span>)<br><span class="hljs-attribute">plt</span>.title(<span class="hljs-string">&quot;Example of Histogram Plot&quot;</span>)<br><br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-164628699141190.png" alt="å›¾ç‰‡"></p><h2 id="41åœ¨-Matplotlib-ç›´æ–¹å›¾ä¸­é€‰æ‹©-bins"><a href="#41åœ¨-Matplotlib-ç›´æ–¹å›¾ä¸­é€‰æ‹©-bins" class="headerlink" title="41åœ¨ Matplotlib ç›´æ–¹å›¾ä¸­é€‰æ‹© bins"></a>41åœ¨ Matplotlib ç›´æ–¹å›¾ä¸­é€‰æ‹© bins</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> numpy as np<br><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-comment"># Data in numpy array</span><br><span class="hljs-attribute">data</span> = np.array([<span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">13</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">19</span>, <span class="hljs-number">13</span>, <br>                    <span class="hljs-attribute">12</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <br>                    <span class="hljs-attribute">12</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <br>                    <span class="hljs-attribute">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <br>                    <span class="hljs-attribute">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <br>                    <span class="hljs-attribute">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <br>                    <span class="hljs-attribute">19</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">11</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-attribute">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-attribute">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">13</span>])<br><br><span class="hljs-comment"># Plot the distribution of numpy data</span><br><span class="hljs-attribute">ax</span> = plt.hist(data, bins=np.arange(min(data), max(data) + <span class="hljs-number">0</span>.<span class="hljs-number">25</span>, <span class="hljs-number">0</span>.<span class="hljs-number">25</span>), align=&#x27;left&#x27;)<br><span class="hljs-comment"># Add axis labels</span><br><span class="hljs-attribute">plt</span>.xlabel(<span class="hljs-string">&quot;Year&quot;</span>)<br><span class="hljs-attribute">plt</span>.ylabel(<span class="hljs-string">&quot;Salary&quot;</span>)<br><span class="hljs-attribute">plt</span>.title(<span class="hljs-string">&quot;Example of Histogram Plot&quot;</span>)<br><br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287338815164.png" alt="å›¾ç‰‡"></p><h2 id="42åœ¨-Matplotlib-ä¸­ç»˜åˆ¶æ²¡æœ‰æ¡å½¢çš„ç›´æ–¹å›¾"><a href="#42åœ¨-Matplotlib-ä¸­ç»˜åˆ¶æ²¡æœ‰æ¡å½¢çš„ç›´æ–¹å›¾" class="headerlink" title="42åœ¨ Matplotlib ä¸­ç»˜åˆ¶æ²¡æœ‰æ¡å½¢çš„ç›´æ–¹å›¾"></a>42åœ¨ Matplotlib ä¸­ç»˜åˆ¶æ²¡æœ‰æ¡å½¢çš„ç›´æ–¹å›¾</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> numpy as np<br><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-comment"># Data in numpy array</span><br><span class="hljs-attribute">data</span> = np.array([<span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">13</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">19</span>, <span class="hljs-number">13</span>,<br>                 <span class="hljs-attribute">12</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>,<br>                 <span class="hljs-attribute">12</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>,<br>                 <span class="hljs-attribute">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>,<br>                 <span class="hljs-attribute">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>,<br>                 <span class="hljs-attribute">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>,<br>                 <span class="hljs-attribute">19</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">11</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>,<br>                 <span class="hljs-attribute">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>,<br>                 <span class="hljs-attribute">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">13</span>])<br><br><span class="hljs-attribute">bins</span>, edges = np.histogram(data, <span class="hljs-number">21</span>, normed=<span class="hljs-number">1</span>)<br><span class="hljs-attribute">left</span>, right = edges[:-<span class="hljs-number">1</span>], edges[<span class="hljs-number">1</span>:]<br><span class="hljs-attribute">X</span> = np.array([left, right]).T.flatten()<br><span class="hljs-attribute">Y</span> = np.array([bins, bins]).T.flatten()<br><br><span class="hljs-attribute">plt</span>.plot(X, Y)<br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287332420162.png" alt="å›¾ç‰‡"></p><h2 id="43ä½¿ç”¨-Matplotlib-åŒæ—¶ç»˜åˆ¶ä¸¤ä¸ªç›´æ–¹å›¾"><a href="#43ä½¿ç”¨-Matplotlib-åŒæ—¶ç»˜åˆ¶ä¸¤ä¸ªç›´æ–¹å›¾" class="headerlink" title="43ä½¿ç”¨ Matplotlib åŒæ—¶ç»˜åˆ¶ä¸¤ä¸ªç›´æ–¹å›¾"></a>43ä½¿ç”¨ Matplotlib åŒæ—¶ç»˜åˆ¶ä¸¤ä¸ªç›´æ–¹å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import numpy as np<br>import matplotlib.pyplot as plt<br><br>age = np.random.normal(<span class="hljs-attribute">loc</span>=1, <span class="hljs-attribute">size</span>=100) # a normal distribution<br>salaray = np.random.normal(<span class="hljs-attribute">loc</span>=-1, <span class="hljs-attribute">size</span>=10000) # a normal distribution<br><br>_, bins, _ = plt.hist(age, <span class="hljs-attribute">bins</span>=50, range=[-6, 6], <span class="hljs-attribute">density</span>=<span class="hljs-literal">True</span>)<br>_ = plt.hist(salaray, <span class="hljs-attribute">bins</span>=bins, <span class="hljs-attribute">alpha</span>=0.5, <span class="hljs-attribute">density</span>=<span class="hljs-literal">True</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287326594160.png" alt="å›¾ç‰‡"></p><h2 id="44ç»˜åˆ¶å…·æœ‰ç‰¹å®šé¢œè‰²ã€è¾¹ç¼˜é¢œè‰²å’Œçº¿å®½çš„ç›´æ–¹å›¾"><a href="#44ç»˜åˆ¶å…·æœ‰ç‰¹å®šé¢œè‰²ã€è¾¹ç¼˜é¢œè‰²å’Œçº¿å®½çš„ç›´æ–¹å›¾" class="headerlink" title="44ç»˜åˆ¶å…·æœ‰ç‰¹å®šé¢œè‰²ã€è¾¹ç¼˜é¢œè‰²å’Œçº¿å®½çš„ç›´æ–¹å›¾"></a>44ç»˜åˆ¶å…·æœ‰ç‰¹å®šé¢œè‰²ã€è¾¹ç¼˜é¢œè‰²å’Œçº¿å®½çš„ç›´æ–¹å›¾</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> numpy as np<br><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-comment"># Data in numpy array</span><br><span class="hljs-attribute">exp_data</span> = np.array([<span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">13</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">19</span>, <span class="hljs-number">13</span>, <br>                    <span class="hljs-attribute">12</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <br>                    <span class="hljs-attribute">12</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <br>                    <span class="hljs-attribute">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <br>                    <span class="hljs-attribute">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <br>                    <span class="hljs-attribute">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <br>                    <span class="hljs-attribute">19</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">11</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-attribute">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-attribute">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">13</span>])<br><br><span class="hljs-comment"># Plot the distribution of numpy data</span><br><span class="hljs-attribute">plt</span>.hist(exp_data, bins=<span class="hljs-number">21</span>, align=&#x27;left&#x27;, color=&#x27;b&#x27;, edgecolor=&#x27;red&#x27;,<br>              <span class="hljs-attribute">linewidth</span>=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># Add axis labels</span><br><span class="hljs-attribute">plt</span>.xlabel(<span class="hljs-string">&quot;Year&quot;</span>)<br><span class="hljs-attribute">plt</span>.ylabel(<span class="hljs-string">&quot;Salary&quot;</span>)<br><span class="hljs-attribute">plt</span>.title(<span class="hljs-string">&quot;Example of Histogram Plot&quot;</span>)<br><br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287319271158.png" alt="å›¾ç‰‡"></p><h2 id="45ç”¨é¢œè‰²å›¾ç»˜åˆ¶ç›´æ–¹å›¾"><a href="#45ç”¨é¢œè‰²å›¾ç»˜åˆ¶ç›´æ–¹å›¾" class="headerlink" title="45ç”¨é¢œè‰²å›¾ç»˜åˆ¶ç›´æ–¹å›¾"></a>45ç”¨é¢œè‰²å›¾ç»˜åˆ¶ç›´æ–¹å›¾</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> numpy as np<br><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-comment"># Data in numpy array</span><br><span class="hljs-attribute">data</span> = np.array([<span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">13</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">19</span>, <span class="hljs-number">13</span>, <br>                    <span class="hljs-attribute">12</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <br>                    <span class="hljs-attribute">12</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <br>                    <span class="hljs-attribute">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <br>                    <span class="hljs-attribute">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <br>                    <span class="hljs-attribute">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <br>                    <span class="hljs-attribute">19</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">11</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-attribute">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-attribute">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">13</span>])<br><br><span class="hljs-attribute">cm</span> = plt.cm.RdBu_r<br><br><span class="hljs-attribute">n</span>, bins, patches = plt.hist(data, <span class="hljs-number">25</span>, normed=<span class="hljs-number">1</span>, color=&#x27;green&#x27;)<br><span class="hljs-attribute">for</span> i, p in enumerate(patches):<br>    <span class="hljs-attribute">plt</span>.setp(p, &#x27;facecolor&#x27;, cm(i/<span class="hljs-number">25</span>)) # notice the i/<span class="hljs-number">25</span><br><br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287312250156.png" alt="å›¾ç‰‡"></p><h2 id="46æ›´æ”¹ç›´æ–¹å›¾ä¸Šç‰¹å®šæ¡çš„é¢œè‰²"><a href="#46æ›´æ”¹ç›´æ–¹å›¾ä¸Šç‰¹å®šæ¡çš„é¢œè‰²" class="headerlink" title="46æ›´æ”¹ç›´æ–¹å›¾ä¸Šç‰¹å®šæ¡çš„é¢œè‰²"></a>46æ›´æ”¹ç›´æ–¹å›¾ä¸Šç‰¹å®šæ¡çš„é¢œè‰²</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>s = pd.Series([<span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">13</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">19</span>, <span class="hljs-number">13</span>, <br>                    <span class="hljs-number">12</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <br>                    <span class="hljs-number">12</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <br>                    <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <br>                    <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <br>                    <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <br>                    <span class="hljs-number">19</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">11</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <br>                    <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">13</span>])<br><br>p = s.plot(kind=<span class="hljs-string">&#x27;hist&#x27;</span>, bins=<span class="hljs-number">50</span>, color=<span class="hljs-string">&#x27;orange&#x27;</span>)<br><br>bar_value_to_label = <span class="hljs-number">5</span><br><br>min_distance = <span class="hljs-built_in">float</span>(<span class="hljs-string">&quot;inf&quot;</span>)  <span class="hljs-comment"># initialize min_distance with infinity</span><br>index_of_bar_to_label = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> i, rectangle <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(p.patches):  <span class="hljs-comment"># iterate over every bar</span><br>    tmp = <span class="hljs-built_in">abs</span>(  <span class="hljs-comment"># tmp = distance from middle of the bar to bar_value_to_label</span><br>        (rectangle.get_x() +<br>            (rectangle.get_width() * (<span class="hljs-number">1</span> / <span class="hljs-number">2</span>))) - bar_value_to_label)<br>    <span class="hljs-keyword">if</span> tmp &lt; min_distance:  <span class="hljs-comment"># we are searching for the bar with x cordinate</span><br>                            <span class="hljs-comment"># closest to bar_value_to_label</span><br>        min_distance = tmp<br>        index_of_bar_to_label = i<br>p.patches[index_of_bar_to_label].set_color(<span class="hljs-string">&#x27;b&#x27;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287297868152.png" alt="å›¾ç‰‡"></p><h2 id="47ç®±çº¿å›¾"><a href="#47ç®±çº¿å›¾" class="headerlink" title="47ç®±çº¿å›¾"></a>47ç®±çº¿å›¾</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs prolog">import matplotlib.pyplot as plt<br>import pandas as pd<br><br>df = pd.<span class="hljs-symbol">DataFrame</span>([[<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">14</span>, <span class="hljs-number">21</span>, <span class="hljs-number">28</span>], [<span class="hljs-number">15</span>, <span class="hljs-number">15</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>],<br>                   [<span class="hljs-number">15</span>, <span class="hljs-number">14</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>]],<br>                  columns=[<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Orange&#x27;</span>, <span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-string">&#x27;Pear&#x27;</span>],<br>                  index=[<span class="hljs-string">&#x27;Basket1&#x27;</span>, <span class="hljs-string">&#x27;Basket2&#x27;</span>, <span class="hljs-string">&#x27;Basket3&#x27;</span>, <span class="hljs-string">&#x27;Basket4&#x27;</span>,<br>                         <span class="hljs-string">&#x27;Basket5&#x27;</span>, <span class="hljs-string">&#x27;Basket6&#x27;</span>])<br><br>df.boxplot([<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Orange&#x27;</span>, <span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-string">&#x27;Pear&#x27;</span>])<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287292341150.png" alt="å›¾ç‰‡"></p><h2 id="48ç®±å‹å›¾æŒ‰åˆ—æ•°æ®åˆ†ç»„"><a href="#48ç®±å‹å›¾æŒ‰åˆ—æ•°æ®åˆ†ç»„" class="headerlink" title="48ç®±å‹å›¾æŒ‰åˆ—æ•°æ®åˆ†ç»„"></a>48ç®±å‹å›¾æŒ‰åˆ—æ•°æ®åˆ†ç»„</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br> <br>employees = pd.DataFrame(&#123;<br>    <span class="hljs-string">&#x27;EmpCode&#x27;</span>: [<span class="hljs-string">&#x27;Emp001&#x27;</span>, <span class="hljs-string">&#x27;Emp002&#x27;</span>, <span class="hljs-string">&#x27;Emp003&#x27;</span>, <span class="hljs-string">&#x27;Emp004&#x27;</span>, <span class="hljs-string">&#x27;Emp005&#x27;</span>, <span class="hljs-string">&#x27;Emp006&#x27;</span><br>                , <span class="hljs-string">&#x27;Emp007&#x27;</span>, <span class="hljs-string">&#x27;Emp008&#x27;</span>, <span class="hljs-string">&#x27;Emp009&#x27;</span>, <span class="hljs-string">&#x27;Emp010&#x27;</span>, <span class="hljs-string">&#x27;Emp011&#x27;</span>, <span class="hljs-string">&#x27;Emp012&#x27;</span><br>                , <span class="hljs-string">&#x27;Emp013&#x27;</span>, <span class="hljs-string">&#x27;Emp014&#x27;</span>, <span class="hljs-string">&#x27;Emp015&#x27;</span>, <span class="hljs-string">&#x27;Emp016&#x27;</span>, <span class="hljs-string">&#x27;Emp017&#x27;</span>, <span class="hljs-string">&#x27;Emp018&#x27;</span><br>                , <span class="hljs-string">&#x27;Emp019&#x27;</span>, <span class="hljs-string">&#x27;Emp020&#x27;</span>],<br>    <span class="hljs-string">&#x27;Occupation&#x27;</span>: [<span class="hljs-string">&#x27;Chemist&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>,<br>                   <span class="hljs-string">&#x27;Programmer&#x27;</span>, <span class="hljs-string">&#x27;Chemist&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>,<br>                   <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Programmer&#x27;</span>, <span class="hljs-string">&#x27;Chemist&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>,<br>                   <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Programmer&#x27;</span>, <span class="hljs-string">&#x27;Chemist&#x27;</span>,<br>                   <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Programmer&#x27;</span><br>                   ],<br>    <span class="hljs-string">&#x27;Age&#x27;</span>: [<span class="hljs-number">23</span>, <span class="hljs-number">24</span>, <span class="hljs-number">34</span>, <span class="hljs-number">29</span>, <span class="hljs-number">40</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">29</span>, <span class="hljs-number">40</span>, <span class="hljs-number">41</span>, <span class="hljs-number">40</span>, <span class="hljs-number">35</span>, <span class="hljs-number">41</span>, <span class="hljs-number">29</span>, <span class="hljs-number">33</span>, <span class="hljs-number">35</span>,<br>            <span class="hljs-number">29</span>, <span class="hljs-number">30</span>, <span class="hljs-number">36</span>, <span class="hljs-number">37</span>]&#125;)<br> <br>employees.boxplot(column=[<span class="hljs-string">&#x27;Age&#x27;</span>], <span class="hljs-keyword">by</span>=[<span class="hljs-string">&#x27;Occupation&#x27;</span>])<br> <br>plt.<span class="hljs-keyword">show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287282925148.png" alt="å›¾ç‰‡"></p><h2 id="49æ›´æ”¹ç®±çº¿å›¾ä¸­çš„ç®±ä½“é¢œè‰²"><a href="#49æ›´æ”¹ç®±çº¿å›¾ä¸­çš„ç®±ä½“é¢œè‰²" class="headerlink" title="49æ›´æ”¹ç®±çº¿å›¾ä¸­çš„ç®±ä½“é¢œè‰²"></a>49æ›´æ”¹ç®±çº¿å›¾ä¸­çš„ç®±ä½“é¢œè‰²</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs prolog">import matplotlib.pyplot as plt<br>import pandas as pd<br><br>df = pd.<span class="hljs-symbol">DataFrame</span>([[<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">14</span>, <span class="hljs-number">21</span>, <span class="hljs-number">28</span>], [<span class="hljs-number">15</span>, <span class="hljs-number">15</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>],<br>                   [<span class="hljs-number">15</span>, <span class="hljs-number">14</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>]],<br>                  columns=[<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Orange&#x27;</span>, <span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-string">&#x27;Pear&#x27;</span>],<br>                  index=[<span class="hljs-string">&#x27;Basket1&#x27;</span>, <span class="hljs-string">&#x27;Basket2&#x27;</span>, <span class="hljs-string">&#x27;Basket3&#x27;</span>, <span class="hljs-string">&#x27;Basket4&#x27;</span>,<br>                         <span class="hljs-string">&#x27;Basket5&#x27;</span>, <span class="hljs-string">&#x27;Basket6&#x27;</span>])<br><br>box = plt.boxplot(df, patch_artist=<span class="hljs-symbol">True</span>)<br><br>colors = [<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;purple&#x27;</span>, <span class="hljs-string">&#x27;tan&#x27;</span>, <span class="hljs-string">&#x27;pink&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>]<br><br>for patch, color in zip(box[<span class="hljs-string">&#x27;boxes&#x27;</span>], colors):<br>    patch.set_facecolor(color)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287275306146.png" alt="å›¾ç‰‡"></p><h2 id="50æ›´æ”¹-Boxplot-æ ‡è®°æ ·å¼ã€æ ‡è®°é¢œè‰²å’Œæ ‡è®°å¤§å°"><a href="#50æ›´æ”¹-Boxplot-æ ‡è®°æ ·å¼ã€æ ‡è®°é¢œè‰²å’Œæ ‡è®°å¤§å°" class="headerlink" title="50æ›´æ”¹ Boxplot æ ‡è®°æ ·å¼ã€æ ‡è®°é¢œè‰²å’Œæ ‡è®°å¤§å°"></a>50æ›´æ”¹ Boxplot æ ‡è®°æ ·å¼ã€æ ‡è®°é¢œè‰²å’Œæ ‡è®°å¤§å°</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br>import pandas as pd<br><br>df = pd.DataFrame([[10, 20, 30, 40], [7, 14, 21, 128], [15, 15, 89, 12],<br>                   [-15, 14, 1, 8], [7, -11, 1, 8], [5, 4, 9, 2]],<br>                  columns=[<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Orange&#x27;</span>, <span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-string">&#x27;Pear&#x27;</span>],<br>                  index=[<span class="hljs-string">&#x27;Basket1&#x27;</span>, <span class="hljs-string">&#x27;Basket2&#x27;</span>, <span class="hljs-string">&#x27;Basket3&#x27;</span>, <span class="hljs-string">&#x27;Basket4&#x27;</span>,<br>                         <span class="hljs-string">&#x27;Basket5&#x27;</span>, <span class="hljs-string">&#x27;Basket6&#x27;</span>])<br><br><br>flierprops = dict(<span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;+&#x27;</span>, <span class="hljs-attribute">markerfacecolor</span>=<span class="hljs-string">&#x27;g&#x27;</span>, <span class="hljs-attribute">markersize</span>=15,<br>                  <span class="hljs-attribute">linestyle</span>=<span class="hljs-string">&#x27;none&#x27;</span>, <span class="hljs-attribute">markeredgecolor</span>=<span class="hljs-string">&#x27;r&#x27;</span>)<br><br>df.boxplot([<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Orange&#x27;</span>, <span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-string">&#x27;Pear&#x27;</span>], <span class="hljs-attribute">flierprops</span>=flierprops)<br><br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287268238144.png" alt="å›¾ç‰‡"></p><h2 id="51ç”¨æ•°æ®ç³»åˆ—ç»˜åˆ¶æ°´å¹³ç®±çº¿å›¾"><a href="#51ç”¨æ•°æ®ç³»åˆ—ç»˜åˆ¶æ°´å¹³ç®±çº¿å›¾" class="headerlink" title="51ç”¨æ•°æ®ç³»åˆ—ç»˜åˆ¶æ°´å¹³ç®±çº¿å›¾"></a>51ç”¨æ•°æ®ç³»åˆ—ç»˜åˆ¶æ°´å¹³ç®±çº¿å›¾</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><br><span class="hljs-attribute">data</span> =<span class="hljs-meta"> [-12, 15, 13, -20, 19, 20, 11, 19, -11, 12, 19, 10, </span><br><span class="hljs-meta">                    12, 10, 6, 19, 3, 1, 1, 0, 4, 49, 6, 5, 3, 7, </span><br><span class="hljs-meta">                    12, 77, 9, 8, 12, 11, 11, 18, 19, 18, 19, 3, 6, </span><br><span class="hljs-meta">                    5, 6, 9, 11, 10, 18, 14, 16, 17, 17, 19, 0, 2, </span><br><span class="hljs-meta">                    0, 3, 1, 4, 6, 6, 8, 7, 7, 69, 79, 11, 11, 10, </span><br><span class="hljs-meta">                    11, 10, 13, 13, 15, 18, 20, 19, 1, 11, 8, 16, </span><br><span class="hljs-meta">                    19, 89, 17, 16, 11, 1, 110, 13, 15, 3, 8, 6, 99, </span><br><span class="hljs-meta">                    10, 15, 19, 2, 4, 5, 6, 9, 11, 10, 9, 10, 99, </span><br><span class="hljs-meta">                    15, 16, 18, 13]</span><br><br><span class="hljs-attribute">fig</span> = plt.figure(figsize=(<span class="hljs-number">7</span>, <span class="hljs-number">3</span>), dpi=<span class="hljs-number">100</span>)<br><span class="hljs-attribute">ax</span> = plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br><br><span class="hljs-attribute">ax</span>.boxplot(data, False, sym=&#x27;rs&#x27;, vert=False, whis=<span class="hljs-number">0</span>.<span class="hljs-number">75</span>, positions=[<span class="hljs-number">0</span>], widths=[<span class="hljs-number">0</span>.<span class="hljs-number">5</span>])<br><br><span class="hljs-attribute">plt</span>.tight_layout()<br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287262078142.png" alt="å›¾ç‰‡"></p><h2 id="52ç®±çº¿å›¾è°ƒæ•´åº•éƒ¨å’Œå·¦ä¾§"><a href="#52ç®±çº¿å›¾è°ƒæ•´åº•éƒ¨å’Œå·¦ä¾§" class="headerlink" title="52ç®±çº¿å›¾è°ƒæ•´åº•éƒ¨å’Œå·¦ä¾§"></a>52ç®±çº¿å›¾è°ƒæ•´åº•éƒ¨å’Œå·¦ä¾§</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import matplotlib<span class="hljs-selector-class">.pyplot</span> as plt<br>import pandas as pd<br><br>x = <span class="hljs-selector-attr">[[1.2, 2.3, 3.0, 4.5]</span>,<br>     <span class="hljs-selector-attr">[1.1, 2.2, 2.9, 5.0]</span>]<br><br>df = pd<span class="hljs-selector-class">.DataFrame</span>(x, index=<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Orange&#x27;</span>]</span>)<br>df<span class="hljs-selector-class">.T</span><span class="hljs-selector-class">.boxplot</span>()<br><br>plt<span class="hljs-selector-class">.subplots_adjust</span>(<span class="hljs-attribute">bottom</span>=<span class="hljs-number">0.25</span>)<br><br>plt<span class="hljs-selector-class">.show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287254755140.png" alt="å›¾ç‰‡"></p><h2 id="53ä½¿ç”¨-Pandas-æ•°æ®åœ¨-Matplotlib-ä¸­ç”Ÿæˆçƒ­å›¾"><a href="#53ä½¿ç”¨-Pandas-æ•°æ®åœ¨-Matplotlib-ä¸­ç”Ÿæˆçƒ­å›¾" class="headerlink" title="53ä½¿ç”¨ Pandas æ•°æ®åœ¨ Matplotlib ä¸­ç”Ÿæˆçƒ­å›¾"></a>53ä½¿ç”¨ Pandas æ•°æ®åœ¨ Matplotlib ä¸­ç”Ÿæˆçƒ­å›¾</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import matplotlib<span class="hljs-selector-class">.pyplot</span> as plt<br>import pandas as pd<br><br>df = pd<span class="hljs-selector-class">.DataFrame</span>(<span class="hljs-selector-attr">[[10, 20, 30, 40]</span>, <span class="hljs-selector-attr">[7, 14, 21, 28]</span>, <span class="hljs-selector-attr">[55, 15, 8, 12]</span>,<br>                    <span class="hljs-selector-attr">[15, 14, 1, 8]</span>],<br>                  <span class="hljs-attribute">columns</span>=[<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Orange&#x27;</span>, <span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-string">&#x27;Pear&#x27;</span>],<br>                  index=<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;Basket1&#x27;</span>, <span class="hljs-string">&#x27;Basket2&#x27;</span>, <span class="hljs-string">&#x27;Basket3&#x27;</span>, <span class="hljs-string">&#x27;Basket4&#x27;</span>]</span><br>                  )<br><br>plt<span class="hljs-selector-class">.imshow</span>(df, cmap=<span class="hljs-string">&quot;YlGnBu&quot;</span>)<br>plt<span class="hljs-selector-class">.colorbar</span>()<br>plt<span class="hljs-selector-class">.xticks</span>(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(df)),df<span class="hljs-selector-class">.columns</span>, rotation=<span class="hljs-number">20</span>)<br>plt<span class="hljs-selector-class">.yticks</span>(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(df)),df.index)<br>plt<span class="hljs-selector-class">.show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287239467138.png" alt="å›¾ç‰‡"></p><h2 id="54å¸¦æœ‰ä¸­é—´é¢œè‰²æ–‡æœ¬æ³¨é‡Šçš„çƒ­å›¾"><a href="#54å¸¦æœ‰ä¸­é—´é¢œè‰²æ–‡æœ¬æ³¨é‡Šçš„çƒ­å›¾" class="headerlink" title="54å¸¦æœ‰ä¸­é—´é¢œè‰²æ–‡æœ¬æ³¨é‡Šçš„çƒ­å›¾"></a>54å¸¦æœ‰ä¸­é—´é¢œè‰²æ–‡æœ¬æ³¨é‡Šçš„çƒ­å›¾</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>data = &#123;<br>        <span class="hljs-string">&#x27;Basket1&#x27;</span>: [<span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">99</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">45</span>, <span class="hljs-number">81</span>],<br>        <span class="hljs-string">&#x27;Basket2&#x27;</span>: [<span class="hljs-number">91</span>, <span class="hljs-number">98</span>, <span class="hljs-number">89</span>, <span class="hljs-number">75</span>, <span class="hljs-number">98</span>, <span class="hljs-number">49</span>, <span class="hljs-number">80</span>],<br>        <span class="hljs-string">&#x27;Basket3&#x27;</span>: [<span class="hljs-number">92</span>, <span class="hljs-number">97</span>, <span class="hljs-number">99</span>, <span class="hljs-number">85</span>, <span class="hljs-number">96</span>, <span class="hljs-number">75</span>, <span class="hljs-number">88</span>],<br>        <span class="hljs-string">&#x27;Basket4&#x27;</span>: [<span class="hljs-number">94</span>, <span class="hljs-number">96</span>, <span class="hljs-number">88</span>, <span class="hljs-number">79</span>, <span class="hljs-number">98</span>, <span class="hljs-number">69</span>, <span class="hljs-number">86</span>]<br>        &#125;<br><br>fig, ax = plt.subplots(figsize=(<span class="hljs-number">9</span>, <span class="hljs-number">4</span>))<br>df = pd.DataFrame.from_dict(data, orient=<span class="hljs-string">&#x27;index&#x27;</span>)<br><br>im = ax.imshow(df.<span class="hljs-keyword">values</span>, cmap=&quot;YlGnBu&quot;)<br>fig.colorbar(im)<br><br># <span class="hljs-keyword">Loop</span> <span class="hljs-keyword">over</span> data dimensions <span class="hljs-keyword">and</span> <span class="hljs-keyword">create</span> <span class="hljs-type">text</span> annotations<br>textcolors = [&quot;k&quot;, &quot;w&quot;]<br>threshold = <span class="hljs-number">55</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(df)):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(len(df.<span class="hljs-keyword">columns</span>)):<br>        <span class="hljs-type">text</span> = ax.text(j, i, df.<span class="hljs-keyword">values</span>[i, j],<br>                       ha=&quot;center&quot;, va=&quot;center&quot;,<br>                       color=textcolors[df.<span class="hljs-keyword">values</span>[i, j] &gt; threshold])<br><br>plt.<span class="hljs-keyword">show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287232541136.png" alt="å›¾ç‰‡"></p><h2 id="55çƒ­å›¾æ˜¾ç¤ºåˆ—å’Œè¡Œçš„æ ‡ç­¾å¹¶ä»¥æ­£ç¡®çš„æ–¹å‘æ˜¾ç¤ºæ•°æ®"><a href="#55çƒ­å›¾æ˜¾ç¤ºåˆ—å’Œè¡Œçš„æ ‡ç­¾å¹¶ä»¥æ­£ç¡®çš„æ–¹å‘æ˜¾ç¤ºæ•°æ®" class="headerlink" title="55çƒ­å›¾æ˜¾ç¤ºåˆ—å’Œè¡Œçš„æ ‡ç­¾å¹¶ä»¥æ­£ç¡®çš„æ–¹å‘æ˜¾ç¤ºæ•°æ®"></a>55çƒ­å›¾æ˜¾ç¤ºåˆ—å’Œè¡Œçš„æ ‡ç­¾å¹¶ä»¥æ­£ç¡®çš„æ–¹å‘æ˜¾ç¤ºæ•°æ®</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br>import numpy as np<br><br>column_labels = list(<span class="hljs-string">&#x27;ABCDEFGH&#x27;</span>)<br>row_labels = list(<span class="hljs-string">&#x27;12345678&#x27;</span>)<br><br>data = np.random.rand(8, 8)<br><br>fig, ax = plt.subplots()<br>heatmap = ax.pcolor(data, <span class="hljs-attribute">cmap</span>=plt.cm.Reds)<br><br><span class="hljs-comment"># Put the major ticks at the middle of each cell</span><br>ax.set_xticks(np.arange(data.shape[0]), <span class="hljs-attribute">minor</span>=<span class="hljs-literal">False</span>)<br>ax.set_yticks(np.arange(data.shape[0]), <span class="hljs-attribute">minor</span>=<span class="hljs-literal">False</span>)<br><br><span class="hljs-comment"># Want a more natural, table-like display</span><br>ax.invert_yaxis()<br>ax.xaxis.tick_top()<br><br>ax.set_xticklabels(row_labels, <span class="hljs-attribute">minor</span>=<span class="hljs-literal">False</span>)<br>ax.set_yticklabels(column_labels, <span class="hljs-attribute">minor</span>=<span class="hljs-literal">False</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287225520134.png" alt="å›¾ç‰‡"></p><h2 id="56å°†-NA-cells-ä¸-HeatMap-ä¸­çš„å…¶ä»–-cells-åŒºåˆ†å¼€æ¥"><a href="#56å°†-NA-cells-ä¸-HeatMap-ä¸­çš„å…¶ä»–-cells-åŒºåˆ†å¼€æ¥" class="headerlink" title="56å°† NA cells ä¸ HeatMap ä¸­çš„å…¶ä»– cells åŒºåˆ†å¼€æ¥"></a>56å°† NA cells ä¸ HeatMap ä¸­çš„å…¶ä»– cells åŒºåˆ†å¼€æ¥</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br>import matplotlib.patches as patches<br> <br>import numpy as np<br> <br>column_labels = list(<span class="hljs-string">&#x27;ABCDEFGH&#x27;</span>)<br>row_labels = list(<span class="hljs-string">&#x27;12345678&#x27;</span>)<br> <br>data = np.random.rand(8, 8)<br>data = np.ma.masked_greater(data, 0.8)<br> <br>fig, ax = plt.subplots()<br>heatmap = ax.pcolor(data, <span class="hljs-attribute">cmap</span>=plt.cm.gray, <span class="hljs-attribute">edgecolors</span>=<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-attribute">linewidths</span>=1,<br>                   <span class="hljs-attribute">antialiased</span>=<span class="hljs-literal">True</span>)<br> <br>fig.colorbar(heatmap)<br>ax.patch.<span class="hljs-built_in">set</span>(<span class="hljs-attribute">hatch</span>=<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attribute">edgecolor</span>=<span class="hljs-string">&#x27;red&#x27;</span>)<br> <br><span class="hljs-comment"># Put the major ticks at the middle of each cell</span><br>ax.set_xticks(np.arange(data.shape[0]), <span class="hljs-attribute">minor</span>=<span class="hljs-literal">False</span>)<br>ax.set_yticks(np.arange(data.shape[0]), <span class="hljs-attribute">minor</span>=<span class="hljs-literal">False</span>)<br> <br><span class="hljs-comment"># Want a more natural, table-like display</span><br>ax.invert_yaxis()<br>ax.xaxis.tick_top()<br> <br>ax.set_xticklabels(row_labels, <span class="hljs-attribute">minor</span>=<span class="hljs-literal">False</span>)<br>ax.set_yticklabels(column_labels, <span class="hljs-attribute">minor</span>=<span class="hljs-literal">False</span>)<br> <br> <br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287218026132.png" alt="å›¾ç‰‡"></p><h2 id="57åœ¨-matplotlib-ä¸­åˆ›å»ºå¾„å‘çƒ­å›¾"><a href="#57åœ¨-matplotlib-ä¸­åˆ›å»ºå¾„å‘çƒ­å›¾" class="headerlink" title="57åœ¨ matplotlib ä¸­åˆ›å»ºå¾„å‘çƒ­å›¾"></a>57åœ¨ matplotlib ä¸­åˆ›å»ºå¾„å‘çƒ­å›¾</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">import matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-built_in">from</span> mpl_toolkits.mplot3d import Axes3D<br>import numpy <span class="hljs-keyword">as</span> np<br><br>fig = plt.figure()<br>ax = Axes3D(fig)<br><br>n = <span class="hljs-number">12</span><br>m = <span class="hljs-number">24</span><br>rad = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, m)<br><span class="hljs-keyword">a</span> = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> * np.<span class="hljs-literal">pi</span>, n)<br>r, th = np.meshgrid(rad, <span class="hljs-keyword">a</span>)<br><br>z = np.<span class="hljs-built_in">random</span>.uniform(<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, (n,m))<br>plt.subplot(projection=<span class="hljs-string">&quot;polar&quot;</span>)<br><br>plt.pcolormesh(th, r, z, cmap = <span class="hljs-string">&#x27;Blues&#x27;</span>)<br><br>plt.plot(<span class="hljs-keyword">a</span>, r, ls=<span class="hljs-string">&#x27;none&#x27;</span>, color = <span class="hljs-string">&#x27;k&#x27;</span>) <br>plt.grid()<br>plt.colorbar()<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287206149130.png" alt="å›¾ç‰‡"></p><h2 id="58åœ¨-Matplotlib-ä¸­ç»„åˆä¸¤ä¸ªçƒ­å›¾"><a href="#58åœ¨-Matplotlib-ä¸­ç»„åˆä¸¤ä¸ªçƒ­å›¾" class="headerlink" title="58åœ¨ Matplotlib ä¸­ç»„åˆä¸¤ä¸ªçƒ­å›¾"></a>58åœ¨ Matplotlib ä¸­ç»„åˆä¸¤ä¸ªçƒ­å›¾</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import matplotlib.pyplot as plt<br>import numpy as np<br>import pandas as pd<br>import seaborn as sns<br><br>df1 = pd.DataFrame(np.random.rand(20, 4), <span class="hljs-attribute">columns</span>=list(&quot;ABCD&quot;))<br>df2 = pd.DataFrame(np.random.rand(20, 4), <span class="hljs-attribute">columns</span>=list(&quot;WXYZ&quot;))<br><br>fig, (ax1, ax2) = plt.subplots(<span class="hljs-attribute">ncols</span>=2)<br>fig.subplots_adjust(<span class="hljs-attribute">wspace</span>=0.01)<br><br>sns.heatmap(df1, <span class="hljs-attribute">cmap</span>=<span class="hljs-string">&quot;rocket&quot;</span>, <span class="hljs-attribute">ax</span>=ax1, <span class="hljs-attribute">cbar</span>=<span class="hljs-literal">False</span>)<br>fig.colorbar(ax1.collections[0], <span class="hljs-attribute">ax</span>=ax1, <span class="hljs-attribute">location</span>=<span class="hljs-string">&quot;left&quot;</span>, <span class="hljs-attribute">use_gridspec</span>=<span class="hljs-literal">False</span>, <span class="hljs-attribute">pad</span>=0.2)<br><br>sns.heatmap(df2, <span class="hljs-attribute">cmap</span>=<span class="hljs-string">&quot;icefire&quot;</span>, <span class="hljs-attribute">ax</span>=ax2, <span class="hljs-attribute">cbar</span>=<span class="hljs-literal">False</span>)<br>fig.colorbar(ax2.collections[0], <span class="hljs-attribute">ax</span>=ax2, <span class="hljs-attribute">location</span>=<span class="hljs-string">&quot;right&quot;</span>, <span class="hljs-attribute">use_gridspec</span>=<span class="hljs-literal">False</span>, <span class="hljs-attribute">pad</span>=0.2)<br><br>ax2.yaxis.tick_right()<br>ax2.tick_params(<span class="hljs-attribute">rotation</span>=0)<br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287194349128.png" alt="å›¾ç‰‡"></p><h2 id="59ä½¿ç”¨-Numpy-å’Œ-Matplotlib-åˆ›å»ºçƒ­å›¾æ—¥å†"><a href="#59ä½¿ç”¨-Numpy-å’Œ-Matplotlib-åˆ›å»ºçƒ­å›¾æ—¥å†" class="headerlink" title="59ä½¿ç”¨ Numpy å’Œ Matplotlib åˆ›å»ºçƒ­å›¾æ—¥å†"></a>59ä½¿ç”¨ Numpy å’Œ Matplotlib åˆ›å»ºçƒ­å›¾æ—¥å†</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs css">import datetime as <span class="hljs-selector-tag">dt</span><br>import matplotlib<span class="hljs-selector-class">.pyplot</span> as plt<br>import numpy as np<br><br><br>def <span class="hljs-selector-tag">main</span>():<br>    dates, data = <span class="hljs-built_in">generate_data</span>()<br>    fig, ax = plt.<span class="hljs-built_in">subplots</span>(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">10</span>))<br>    <span class="hljs-built_in">calendar_heatmap</span>(ax, dates, data)<br>    plt.<span class="hljs-built_in">show</span>()<br><br><br>def <span class="hljs-built_in">generate_data</span>():<br>    num = <span class="hljs-number">60</span><br>    data = np.random.<span class="hljs-built_in">randint</span>(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>, num)<br>    start = dt.<span class="hljs-built_in">datetime</span>(<span class="hljs-number">2018</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>    dates = [start + dt.<span class="hljs-built_in">timedelta</span>(days=i) for i in <span class="hljs-built_in">range</span>(num)]<br>    return dates, data<br><br><br>def <span class="hljs-built_in">calendar_array</span>(dates, data):<br>    i, j = <span class="hljs-built_in">zip</span>(*[d.<span class="hljs-built_in">isocalendar</span>()[<span class="hljs-number">1</span>:] for d in dates])<br>    i = np.<span class="hljs-built_in">array</span>(i) - <span class="hljs-built_in">min</span>(i)<br>    j = np.<span class="hljs-built_in">array</span>(j) - <span class="hljs-number">1</span><br>    ni = <span class="hljs-built_in">max</span>(i) + <span class="hljs-number">1</span><br><br>    calendar = np.nan * np.<span class="hljs-built_in">zeros</span>((ni, <span class="hljs-number">7</span>))<br>    calendar[i, j] = data<br>    return i, j, calendar<br><br><br>def <span class="hljs-built_in">calendar_heatmap</span>(ax, dates, data):<br>    i, j, calendar = <span class="hljs-built_in">calendar_array</span>(dates, data)<br>    im = ax.<span class="hljs-built_in">imshow</span>(calendar, interpolation=<span class="hljs-string">&#x27;none&#x27;</span>, cmap=<span class="hljs-string">&#x27;summer&#x27;</span>)<br>    <span class="hljs-built_in">label_days</span>(ax, dates, i, j, calendar)<br>    <span class="hljs-built_in">label_months</span>(ax, dates, i, j, calendar)<br>    ax.figure.<span class="hljs-built_in">colorbar</span>(im)<br><br><br>def <span class="hljs-built_in">label_days</span>(ax, dates, i, j, calendar):<br>    ni, nj = calendar.shape<br>    day_of_month = np.nan * np.<span class="hljs-built_in">zeros</span>((ni, <span class="hljs-number">7</span>))<br>    day_of_month[i, j] = [d.day for d in dates]<br><br>    for (i, j), day in np.<span class="hljs-built_in">ndenumerate</span>(day_of_month):<br>        if np.<span class="hljs-built_in">isfinite</span>(day):<br>            ax.<span class="hljs-built_in">text</span>(j, i, <span class="hljs-built_in">int</span>(day), ha=<span class="hljs-string">&#x27;center&#x27;</span>, va=<span class="hljs-string">&#x27;center&#x27;</span>)<br><br>    ax.<span class="hljs-built_in">set</span>(xticks=np.<span class="hljs-built_in">arange</span>(<span class="hljs-number">7</span>),<br>           xticklabels=[<span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>])<br>    ax.xaxis.<span class="hljs-built_in">tick_top</span>()<br><br><br>def <span class="hljs-built_in">label_months</span>(ax, dates, i, j, calendar):<br>    month_labels = np.<span class="hljs-built_in">array</span>([<span class="hljs-string">&#x27;Jan&#x27;</span>, <span class="hljs-string">&#x27;Feb&#x27;</span>, <span class="hljs-string">&#x27;Mar&#x27;</span>, <span class="hljs-string">&#x27;Apr&#x27;</span>, <span class="hljs-string">&#x27;May&#x27;</span>, <span class="hljs-string">&#x27;Jun&#x27;</span>, <span class="hljs-string">&#x27;Jul&#x27;</span>,<br>                             <span class="hljs-string">&#x27;Aug&#x27;</span>, <span class="hljs-string">&#x27;Sep&#x27;</span>, <span class="hljs-string">&#x27;Oct&#x27;</span>, <span class="hljs-string">&#x27;Nov&#x27;</span>, <span class="hljs-string">&#x27;Dec&#x27;</span>])<br>    months = np.<span class="hljs-built_in">array</span>([d.month for d in dates])<br>    uniq_months = <span class="hljs-built_in">sorted</span>(<span class="hljs-built_in">set</span>(months))<br>    yticks = [i[months == m].<span class="hljs-built_in">mean</span>() for m in uniq_months]<br>    labels = [month_labels[m - <span class="hljs-number">1</span>] for m in uniq_months]<br>    ax.<span class="hljs-built_in">set</span>(yticks=yticks)<br>    ax.<span class="hljs-built_in">set_yticklabels</span>(labels, rotation=<span class="hljs-number">90</span>)<br><br><br><span class="hljs-built_in">main</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287182971126.png" alt="å›¾ç‰‡"></p><h2 id="60åœ¨-Python-ä¸­åˆ›å»ºåˆ†ç±»æ°”æ³¡å›¾"><a href="#60åœ¨-Python-ä¸­åˆ›å»ºåˆ†ç±»æ°”æ³¡å›¾" class="headerlink" title="60åœ¨ Python ä¸­åˆ›å»ºåˆ†ç±»æ°”æ³¡å›¾"></a>60åœ¨ Python ä¸­åˆ›å»ºåˆ†ç±»æ°”æ³¡å›¾</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>df = pd.DataFrame(&#123;<span class="hljs-string">&#x27;Company1&#x27;</span>:[<span class="hljs-string">&#x27;Chemist&#x27;</span>, <span class="hljs-string">&#x27;Scientist&#x27;</span>, <span class="hljs-string">&#x27;Worker&#x27;</span>,<br>                               <span class="hljs-string">&#x27;Accountant&#x27;</span>, <span class="hljs-string">&#x27;Programmer&#x27;</span>, <span class="hljs-string">&#x27;Chemist&#x27;</span>,<br>                              <span class="hljs-string">&#x27;Scientist&#x27;</span>, <span class="hljs-string">&#x27;Worker&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>,<br>                              <span class="hljs-string">&#x27;Programmer&#x27;</span>, <span class="hljs-string">&#x27;Chemist&#x27;</span>, <span class="hljs-string">&#x27;Accountant&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>,<br>                               <span class="hljs-string">&#x27;Scientist&#x27;</span>, <span class="hljs-string">&#x27;Accountant&#x27;</span>, <span class="hljs-string">&#x27;Chemist&#x27;</span>,<br>                              <span class="hljs-string">&#x27;Scientist&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>,<br>                              <span class="hljs-string">&#x27;Programmer&#x27;</span>],                   <br>                   <span class="hljs-string">&#x27;Company2&#x27;</span>:[<span class="hljs-string">&#x27;Programmer&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Scientist&#x27;</span>,<br>                               <span class="hljs-string">&#x27;Statistician&#x27;</span>, <span class="hljs-string">&#x27;Worker&#x27;</span>, <span class="hljs-string">&#x27;Chemist&#x27;</span>,<br>                              <span class="hljs-string">&#x27;Accountant&#x27;</span>, <span class="hljs-string">&#x27;Accountant&#x27;</span>, <span class="hljs-string">&#x27;Statistician&#x27;</span>,<br>                              <span class="hljs-string">&#x27;Chemist&#x27;</span>, <span class="hljs-string">&#x27;Programmer&#x27;</span>, <span class="hljs-string">&#x27;Scientist&#x27;</span>, <span class="hljs-string">&#x27;Scientist&#x27;</span>,<br>                               <span class="hljs-string">&#x27;Accountant&#x27;</span>, <span class="hljs-string">&#x27;Programmer&#x27;</span>, <span class="hljs-string">&#x27;Chemist&#x27;</span>,<br>                              <span class="hljs-string">&#x27;Accountant&#x27;</span>, <span class="hljs-string">&#x27;Scientist&#x27;</span>, <span class="hljs-string">&#x27;Scientist&#x27;</span>,<br>                              <span class="hljs-string">&#x27;Worker&#x27;</span>],<br>                   <span class="hljs-string">&#x27;Count&#x27;</span>:[<span class="hljs-number">53</span>, <span class="hljs-number">15</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">22</span>, <span class="hljs-number">6</span>, <span class="hljs-number">1</span>, <span class="hljs-number">15</span>, <span class="hljs-number">15</span>,<br>                             <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">22</span>, <span class="hljs-number">22</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>]<br>                   &#125;)<br><br># <span class="hljs-keyword">Create</span> padding <span class="hljs-keyword">column</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">values</span> <span class="hljs-keyword">for</span> circles that are neither too small nor too <span class="hljs-keyword">large</span><br>df[&quot;padd&quot;] = <span class="hljs-number">2.5</span> * (df.Count - df.Count.min()) / (df.Count.max() - df.Count.min()) + <span class="hljs-number">0.5</span><br><br>fig = plt.figure()<br># <span class="hljs-keyword">Prepare</span> the axes <span class="hljs-keyword">for</span> the plot - you can <span class="hljs-keyword">also</span> <span class="hljs-keyword">order</span> your categories at this step<br>s = plt.scatter(sorted(df.Company1.<span class="hljs-keyword">unique</span>()),<br>                sorted(df.Company2.<span class="hljs-keyword">unique</span>(), <span class="hljs-keyword">reverse</span> = <span class="hljs-keyword">True</span>), s = <span class="hljs-number">0</span>)<br>s.remove<br># Plot data <span class="hljs-keyword">row</span>-wise <span class="hljs-keyword">as</span> <span class="hljs-type">text</span> <span class="hljs-keyword">with</span> <span class="hljs-type">circle</span> radius according <span class="hljs-keyword">to</span> Count<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">row</span> <span class="hljs-keyword">in</span> df.itertuples():<br>    bbox_props = dict(boxstyle = &quot;circle, pad = &#123;&#125;&quot;.format(<span class="hljs-keyword">row</span>.padd),<br>                      fc = &quot;w&quot;, ec = &quot;b&quot;, lw = <span class="hljs-number">2</span>)<br>    plt.annotate(str(<span class="hljs-keyword">row</span>.Count), xy = (<span class="hljs-keyword">row</span>.Company1, <span class="hljs-keyword">row</span>.Company2),<br>                 bbox = bbox_props, ha=&quot;center&quot;, va=&quot;center&quot;, zorder = <span class="hljs-number">2</span>,<br>                 clip_on = <span class="hljs-keyword">True</span>)<br><br># Plot grid behind markers<br>plt.grid(ls = &quot;--&quot;, zorder = <span class="hljs-number">1</span>)<br><br># Take care <span class="hljs-keyword">of</span> long labels<br>fig.autofmt_xdate()<br>plt.tight_layout()<br>plt.<span class="hljs-keyword">show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287172939124.png" alt="å›¾ç‰‡"></p><h2 id="61ä½¿ç”¨-Numpy-å’Œ-Matplotlib-åˆ›å»ºæ–¹å½¢æ°”æ³¡å›¾"><a href="#61ä½¿ç”¨-Numpy-å’Œ-Matplotlib-åˆ›å»ºæ–¹å½¢æ°”æ³¡å›¾" class="headerlink" title="61ä½¿ç”¨ Numpy å’Œ Matplotlib åˆ›å»ºæ–¹å½¢æ°”æ³¡å›¾"></a>61ä½¿ç”¨ Numpy å’Œ Matplotlib åˆ›å»ºæ–¹å½¢æ°”æ³¡å›¾</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> matplotlib.pyplot as plt<br><span class="hljs-attribute">import</span> numpy as np<br><span class="hljs-attribute">import</span> random<br><br><span class="hljs-attribute">xs</span> = np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>)<br><span class="hljs-attribute">ys</span> = np.arange(<span class="hljs-number">0</span>.<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">1</span>)<br><br><span class="hljs-attribute">colors</span> =<span class="hljs-meta"> [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;]</span><br><br><br><span class="hljs-attribute">def</span> square_size_color(value):<br><br>    <span class="hljs-attribute">square_color</span> = random.choice(colors)<br><br>    <span class="hljs-attribute">if</span> value &lt; <span class="hljs-number">1</span>:<br>        <span class="hljs-attribute">square_size</span> = random.choice(range(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>))<br>    <span class="hljs-attribute">if</span> <span class="hljs-number">3</span> &gt; value &gt; <span class="hljs-number">1</span>:<br>        <span class="hljs-attribute">square_size</span> = random.choice(range(<span class="hljs-number">10</span>, <span class="hljs-number">25</span>))<br>    <span class="hljs-attribute">else</span>:<br>        <span class="hljs-attribute">square_size</span> = random.choice(range(<span class="hljs-number">25</span>, <span class="hljs-number">35</span>))<br><br>    <span class="hljs-attribute">return</span> square_size, square_color<br><br><br><span class="hljs-attribute">for</span> x in xs:<br>    <span class="hljs-attribute">for</span> y in ys:<br>        <span class="hljs-attribute">square_size</span>, square_color = square_size_color(y)<br>        <span class="hljs-attribute">plt</span>.plot(x, y, linestyle=<span class="hljs-string">&quot;None&quot;</span>, marker=<span class="hljs-string">&quot;s&quot;</span>,<br>                 <span class="hljs-attribute">markersize</span>=square_size, mfc=square_color, mec=square_color)<br><br><span class="hljs-attribute">plt</span>.grid(visible=True, axis=&#x27;y&#x27;)<br><span class="hljs-attribute">plt</span>.xlim(<span class="hljs-number">0</span>.<span class="hljs-number">5</span>, <span class="hljs-number">4</span>.<span class="hljs-number">5</span>)<br><span class="hljs-attribute">plt</span>.ylim(-<span class="hljs-number">0</span>.<span class="hljs-number">5</span>, <span class="hljs-number">6</span>.<span class="hljs-number">5</span>)<br><span class="hljs-attribute">plt</span>.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287156311122.png" alt="å›¾ç‰‡"></p><h2 id="62ä½¿ç”¨-Numpy-å’Œ-Matplotlib-åˆ›å»ºå…·æœ‰æ°”æ³¡å¤§å°çš„å›¾ä¾‹"><a href="#62ä½¿ç”¨-Numpy-å’Œ-Matplotlib-åˆ›å»ºå…·æœ‰æ°”æ³¡å¤§å°çš„å›¾ä¾‹" class="headerlink" title="62ä½¿ç”¨ Numpy å’Œ Matplotlib åˆ›å»ºå…·æœ‰æ°”æ³¡å¤§å°çš„å›¾ä¾‹"></a>62ä½¿ç”¨ Numpy å’Œ Matplotlib åˆ›å»ºå…·æœ‰æ°”æ³¡å¤§å°çš„å›¾ä¾‹</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br> <br>N = <span class="hljs-number">50</span><br>M = <span class="hljs-number">5</span> # Number <span class="hljs-keyword">of</span> bins<br> <br>x = np.random.rand(N)<br>y = np.random.rand(N)<br>a2 = <span class="hljs-number">400</span>*np.random.rand(N)<br> <br># <span class="hljs-keyword">Create</span> the DataFrame <span class="hljs-keyword">from</span> your randomised data <span class="hljs-keyword">and</span> bin it <span class="hljs-keyword">using</span> groupby.<br>df = pd.DataFrame(data=dict(x=x, y=y, a2=a2))<br>bins = np.linspace(df.a2.min(), df.a2.max(), M)<br>grouped = df.groupby(np.digitize(df.a2, bins))<br> <br># <span class="hljs-keyword">Create</span> <span class="hljs-keyword">some</span> sizes <span class="hljs-keyword">and</span> <span class="hljs-keyword">some</span> labels.<br>sizes = [<span class="hljs-number">50</span>*(i+<span class="hljs-number">1.</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(M)]<br>labels = [<span class="hljs-string">&#x27;Tiny&#x27;</span>, <span class="hljs-string">&#x27;Small&#x27;</span>, <span class="hljs-string">&#x27;Medium&#x27;</span>, <span class="hljs-string">&#x27;Large&#x27;</span>, <span class="hljs-string">&#x27;Huge&#x27;</span>]<br> <br><span class="hljs-keyword">for</span> i, (<span class="hljs-type">name</span>, <span class="hljs-keyword">group</span>) <span class="hljs-keyword">in</span> enumerate(grouped):<br>    plt.scatter(<span class="hljs-keyword">group</span>.x, <span class="hljs-keyword">group</span>.y, s=sizes[i], alpha=<span class="hljs-number">0.5</span>, label=labels[i])<br> <br>plt.legend()<br>plt.<span class="hljs-keyword">show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287147615120.png" alt="å›¾ç‰‡"></p><h2 id="63ä½¿ç”¨-Matplotlib-å †å æ¡å½¢å›¾"><a href="#63ä½¿ç”¨-Matplotlib-å †å æ¡å½¢å›¾" class="headerlink" title="63ä½¿ç”¨ Matplotlib å †å æ¡å½¢å›¾"></a>63ä½¿ç”¨ Matplotlib å †å æ¡å½¢å›¾</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>df = pd.DataFrame([[<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">14</span>, <span class="hljs-number">21</span>, <span class="hljs-number">28</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]],<br>                  <span class="hljs-keyword">columns</span>=[<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Orange&#x27;</span>, <span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-string">&#x27;Pear&#x27;</span>],<br>                  <span class="hljs-keyword">index</span>=[<span class="hljs-string">&#x27;Basket1&#x27;</span>, <span class="hljs-string">&#x27;Basket2&#x27;</span>, <span class="hljs-string">&#x27;Basket3&#x27;</span>])<br><br>ax = df.plot(kind=<span class="hljs-string">&#x27;bar&#x27;</span>, <span class="hljs-keyword">stacked</span>=<span class="hljs-keyword">True</span>)<br>ax.set_xlabel(<span class="hljs-string">&#x27;DataFrame Values&#x27;</span>)<br>ax.set_ylabel(<span class="hljs-string">&#x27;Basket&#x27;</span>)<br>plt.<span class="hljs-keyword">show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287129791118.png" alt="å›¾ç‰‡"></p><h2 id="64åœ¨åŒä¸€å›¾ä¸­ç»˜åˆ¶å¤šä¸ªå †å æ¡"><a href="#64åœ¨åŒä¸€å›¾ä¸­ç»˜åˆ¶å¤šä¸ªå †å æ¡" class="headerlink" title="64åœ¨åŒä¸€å›¾ä¸­ç»˜åˆ¶å¤šä¸ªå †å æ¡"></a>64åœ¨åŒä¸€å›¾ä¸­ç»˜åˆ¶å¤šä¸ªå †å æ¡</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>df = pd.DataFrame(dict(<br>    A=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],<br>    B=[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],<br>    C=[<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br>))<br><br>fig, axes = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>), sharey=<span class="hljs-keyword">True</span>)<br><br>df.plot.bar(ax=axes[<span class="hljs-number">0</span>])<br>df.diff(axis=<span class="hljs-number">1</span>).fillna(df).astype(df.dtypes).plot.bar(ax=axes[<span class="hljs-number">1</span>], <span class="hljs-keyword">stacked</span>=<span class="hljs-keyword">True</span>)<br><br>plt.<span class="hljs-keyword">show</span>()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287105490116.png" alt="å›¾ç‰‡"></p><h2 id="65Matplotlib-ä¸­çš„æ°´å¹³å †ç§¯æ¡å½¢å›¾"><a href="#65Matplotlib-ä¸­çš„æ°´å¹³å †ç§¯æ¡å½¢å›¾" class="headerlink" title="65Matplotlib ä¸­çš„æ°´å¹³å †ç§¯æ¡å½¢å›¾"></a>65Matplotlib ä¸­çš„æ°´å¹³å †ç§¯æ¡å½¢å›¾</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">import numpy <span class="hljs-keyword">as</span> np<br>import matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>people = (<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>,<span class="hljs-string">&#x27;C&#x27;</span>,<span class="hljs-string">&#x27;D&#x27;</span>,<span class="hljs-string">&#x27;E&#x27;</span>,<span class="hljs-string">&#x27;F&#x27;</span>,<span class="hljs-string">&#x27;G&#x27;</span>,<span class="hljs-string">&#x27;H&#x27;</span>)<br><span class="hljs-keyword">segments</span> = <span class="hljs-number">4</span><br><br><span class="hljs-comment"># generate some multi-dimensional data &amp; arbitrary labels</span><br>data = <span class="hljs-number">3</span> + <span class="hljs-number">10</span>* np.<span class="hljs-built_in">random</span>.rand(<span class="hljs-keyword">segments</span>, <span class="hljs-built_in">len</span>(people))<br>percentages = (np.<span class="hljs-built_in">random</span>.randint(<span class="hljs-number">5</span>,<span class="hljs-number">20</span>, (<span class="hljs-built_in">len</span>(people), <span class="hljs-keyword">segments</span>)))<br>y_pos = np.arange(<span class="hljs-built_in">len</span>(people))<br><br>fig = plt.figure(figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">8</span>))<br>ax = fig.add_subplot(<span class="hljs-number">111</span>)<br><br>colors =<span class="hljs-string">&#x27;rgbwmc&#x27;</span><br>patch_handles = []<br>left = np.zeros(<span class="hljs-built_in">len</span>(people)) <span class="hljs-comment"># left alignment of data starts at zero</span><br><span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> enumerate(data):<br>    patch_handles.append(ax.barh(y_pos, d, <br>      color=colors[i%<span class="hljs-built_in">len</span>(colors)], align=<span class="hljs-string">&#x27;center&#x27;</span>, <br>      left=left))<br>    <span class="hljs-comment"># accumulate the left-hand offsets</span><br>    left += d<br><br><span class="hljs-comment"># go through all of the bar segments and annotate</span><br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(<span class="hljs-built_in">len</span>(patch_handles)):<br>    <span class="hljs-keyword">for</span> i, patch <span class="hljs-keyword">in</span> enumerate(patch_handles[j].get_children()):<br>        bl = patch.get_xy()<br>        x = <span class="hljs-number">0.5</span>*patch.get_width() + bl[<span class="hljs-number">0</span>]<br>        y = <span class="hljs-number">0.5</span>*patch.get_height() + bl[<span class="hljs-number">1</span>]<br>        ax.<span class="hljs-keyword">text</span>(x,y, <span class="hljs-string">&quot;%d%%&quot;</span> % (percentages[i,j]), ha=<span class="hljs-string">&#x27;center&#x27;</span>)<br><br>ax.set_yticks(y_pos)<br>ax.set_yticklabels(people)<br>ax.set_xlabel(<span class="hljs-string">&#x27;Distance&#x27;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>Output:</p><p><img src="/%5Csrc%5C640-1646287095116114.png" alt="å›¾ç‰‡">set_yticklabels(people)<br>ax.set_xlabel(â€˜Distanceâ€™)</p><p>plt.show()</p><p>&#96;&#96;&#96;</p><p>Output:</p><p><img src="/..%5Csrc%5C640-1646287095116114.png" alt="å›¾ç‰‡"></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python Logging</title>
    <link href="/2022/08/01/Python/Logging/"/>
    <url>/2022/08/01/Python/Logging/</url>
    
    <content type="html"><![CDATA[<h1 id="Logging-ç†è§£"><a href="#Logging-ç†è§£" class="headerlink" title="Logging ç†è§£"></a>Logging ç†è§£</h1><p>Loggingä½œä¸ºPythonçš„æ ‡å‡†åº“ä¹‹ä¸€ï¼Œæ—¥å¿—æ˜¯å¯¹è½¯ä»¶æ‰§è¡Œæ—¶æ‰€å‘ç”Ÿäº‹ä»¶çš„ä¸€ç§è¿½è¸ªæ–¹å¼ï¼Œæ‰€ä»¥ä»–å¯ä»¥ååˆ†çµæ´»çš„å¸®åŠ©æˆ‘ä»¬è®°å½•ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­çš„ä¸€äº›ä¿¡æ¯ã€‚è¿™é‡Œç»™å‡º<a href="https://docs.python.org/zh-cn/3/library/logging.html#">å®˜æ–¹æ–‡æ¡£</a>ï¼Œå¯ä»¥è¿›è¡Œå‚è€ƒ</p><h2 id="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ—¥å¿—"><a href="#ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ—¥å¿—" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ—¥å¿—"></a>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ—¥å¿—</h2><p>å¯¹äºç®€å•çš„æ—¥å¿—ä½¿ç”¨æ¥è¯´æ—¥å¿—åŠŸèƒ½æä¾›äº†ä¸€ç³»åˆ—ä¾¿åˆ©çš„å‡½æ•°ã€‚å®ƒä»¬æ˜¯ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.debug"><code>debug()</code></a>ï¼Œ<a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.info"><code>info()</code></a>ï¼Œ<a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.warning"><code>warning()</code></a>ï¼Œ<a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.error"><code>error()</code></a> å’Œ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.critical"><code>critical()</code></a>ã€‚æƒ³è¦å†³å®šä½•æ—¶ä½¿ç”¨æ—¥å¿—ï¼Œè¯·çœ‹ä¸‹è¡¨ï¼Œå…¶ä¸­æ˜¾ç¤ºäº†å¯¹äºæ¯ä¸ªé€šç”¨ä»»åŠ¡é›†åˆæ¥è¯´æœ€å¥½çš„å·¥å…·ã€‚</p><table><thead><tr><th align="left">ä½ æƒ³è¦æ‰§è¡Œçš„ä»»åŠ¡</th><th align="left">æ­¤ä»»åŠ¡æœ€å¥½çš„å·¥å…·</th></tr></thead><tbody><tr><td align="left">å¯¹äºå‘½ä»¤è¡Œæˆ–ç¨‹åºçš„åº”ç”¨ï¼Œç»“æœæ˜¾ç¤ºåœ¨æ§åˆ¶å°ã€‚</td><td align="left"><a href="https://docs.python.org/zh-cn/3.10/library/functions.html#print"><code>print()</code></a></td></tr><tr><td align="left">åœ¨å¯¹ç¨‹åºçš„æ™®é€šæ“ä½œå‘ç”Ÿæ—¶æäº¤äº‹ä»¶æŠ¥å‘Š(æ¯”å¦‚ï¼šçŠ¶æ€ç›‘æ§å’Œé”™è¯¯è°ƒæŸ¥)</td><td align="left"><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.info"><code>logging.info()</code></a> å‡½æ•°(å½“æœ‰è¯Šæ–­ç›®çš„éœ€è¦è¯¦ç»†è¾“å‡ºä¿¡æ¯æ—¶ä½¿ç”¨ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.debug"><code>logging.debug()</code></a> å‡½æ•°)</td></tr><tr><td align="left">æå‡ºä¸€ä¸ªè­¦å‘Šä¿¡æ¯åŸºäºä¸€ä¸ªç‰¹æ®Šçš„è¿è¡Œæ—¶äº‹ä»¶</td><td align="left"><a href="https://docs.python.org/zh-cn/3.10/library/warnings.html#warnings.warn"><code>warnings.warn()</code></a> ä½äºä»£ç åº“ä¸­ï¼Œè¯¥äº‹ä»¶æ˜¯å¯ä»¥é¿å…çš„ï¼Œéœ€è¦ä¿®æ”¹å®¢æˆ·ç«¯åº”ç”¨ä»¥æ¶ˆé™¤å‘Šè­¦<a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.warning"><code>logging.warning()</code></a> ä¸éœ€è¦ä¿®æ”¹å®¢æˆ·ç«¯åº”ç”¨ï¼Œä½†æ˜¯è¯¥äº‹ä»¶è¿˜æ˜¯éœ€è¦å¼•èµ·å…³æ³¨</td></tr><tr><td align="left">å¯¹ä¸€ä¸ªç‰¹æ®Šçš„è¿è¡Œæ—¶äº‹ä»¶æŠ¥å‘Šé”™è¯¯</td><td align="left">å¼•å‘å¼‚å¸¸</td></tr><tr><td align="left">æŠ¥å‘Šé”™è¯¯è€Œä¸å¼•å‘å¼‚å¸¸(å¦‚åœ¨é•¿æ—¶é—´è¿è¡Œä¸­çš„æœåŠ¡ç«¯è¿›ç¨‹çš„é”™è¯¯å¤„ç†)</td><td align="left"><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.error"><code>logging.error()</code></a>, <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.exception"><code>logging.exception()</code></a> æˆ– <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.critical"><code>logging.critical()</code></a> åˆ†åˆ«é€‚ç”¨äºç‰¹å®šçš„é”™è¯¯åŠåº”ç”¨é¢†åŸŸ</td></tr></tbody></table><p>æ—¥å¿—åŠŸèƒ½åº”ä»¥æ‰€è¿½è¸ªäº‹ä»¶çº§åˆ«æˆ–ä¸¥é‡æ€§è€Œå®šã€‚å„çº§åˆ«é€‚ç”¨æ€§å¦‚ä¸‹ï¼ˆä»¥ä¸¥é‡æ€§é€’å¢ï¼‰ï¼š</p><table><thead><tr><th align="left">çº§åˆ«</th><th>çº§åˆ«æ•°å€¼</th><th align="left">ä½•æ—¶ä½¿ç”¨</th><th></th></tr></thead><tbody><tr><td align="left"><code>DEBUG</code></td><td>10</td><td align="left">ç»†èŠ‚ä¿¡æ¯ï¼Œä»…å½“è¯Šæ–­é—®é¢˜æ—¶é€‚ç”¨ã€‚</td><td></td></tr><tr><td align="left"><code>INFO</code></td><td>20</td><td align="left">ç¡®è®¤ç¨‹åºæŒ‰é¢„æœŸè¿è¡Œã€‚</td><td></td></tr><tr><td align="left"><code>WARNING</code></td><td>30</td><td align="left">è¡¨æ˜æœ‰å·²ç»æˆ–å³å°†å‘ç”Ÿçš„æ„å¤–ï¼ˆä¾‹å¦‚ï¼šç£ç›˜ç©ºé—´ä¸è¶³ï¼‰ã€‚ç¨‹åºä»æŒ‰é¢„æœŸè¿›è¡Œã€‚</td><td></td></tr><tr><td align="left"><code>ERROR</code></td><td>40</td><td align="left">ç”±äºä¸¥é‡çš„é—®é¢˜ï¼Œç¨‹åºçš„æŸäº›åŠŸèƒ½å·²ç»ä¸èƒ½æ­£å¸¸æ‰§è¡Œ</td><td></td></tr><tr><td align="left"><code>CRITICAL</code></td><td>50</td><td align="left">ä¸¥é‡çš„é”™è¯¯ï¼Œè¡¨æ˜ç¨‹åºå·²ä¸èƒ½ç»§ç»­æ‰§è¡Œ</td><td></td></tr></tbody></table><p>é»˜è®¤çš„çº§åˆ«æ˜¯ <code>WARNING</code>ï¼Œæ„å‘³ç€åªä¼šè¿½è¸ªè¯¥çº§åˆ«åŠä»¥ä¸Šçš„äº‹ä»¶ï¼Œé™¤éæ›´æ”¹æ—¥å¿—é…ç½®ã€‚</p><p>æ‰€è¿½è¸ªäº‹ä»¶å¯ä»¥ä»¥ä¸åŒå½¢å¼å¤„ç†ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚å¦ä¸€ç§å¸¸ç”¨çš„æ–¹å¼æ˜¯å†™å…¥ç£ç›˜æ–‡ä»¶ã€‚</p><h2 id="æ—¥å¿—çš„è¾“å‡ºæ ¼å¼"><a href="#æ—¥å¿—çš„è¾“å‡ºæ ¼å¼" class="headerlink" title="æ—¥å¿—çš„è¾“å‡ºæ ¼å¼"></a>æ—¥å¿—çš„è¾“å‡ºæ ¼å¼</h2><p><img src="/src/1620.png" alt="img"></p><h2 id="æ€ä¹ˆä½¿ç”¨æ—¥å¿—"><a href="#æ€ä¹ˆä½¿ç”¨æ—¥å¿—" class="headerlink" title="æ€ä¹ˆä½¿ç”¨æ—¥å¿—"></a>æ€ä¹ˆä½¿ç”¨æ—¥å¿—</h2><p><strong>æœ€ç®€å•çš„æ–¹æ³•</strong>å½“ç„¶æ˜¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">logging.warning(<span class="hljs-string">&#x27;Watch out!&#x27;</span>)<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±ä¼šç›´æ¥åœ¨æ§åˆ¶å°ä¸­è¾“å‡º<code>WARNING:root:Watch out!</code></p><p>åŒæ ·å¯ä»¥åœ¨æ¶ˆæ¯ä¸­<strong>å¡«åŠ ä¸€äº›äº‹ä»¶çš„å±æ€§</strong>ï¼Œä¾‹å¦‚æ—¶é—´ã€æ—¥æœŸç­‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br>logging.basicConfig(<span class="hljs-built_in">format</span>=<span class="hljs-string">&#x27;%(asctime)s %(message)s&#x27;</span>)<br>logging.warning(<span class="hljs-string">&#x27;is when this event was logged.&#x27;</span>)<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆå®ƒçš„è¾“å‡ºå°±æ˜¯<code>2022-07-18 16:08:42,612 is when this event was logged.</code></p><p>å½“ç„¶è¿™é‡Œè¿˜å­˜åœ¨ä¸€äº›é«˜çº§çš„<strong>è¿›é¡¹ä½¿ç”¨æ–¹æ³•</strong></p><p>æ—¥å¿—åº“é‡‡ç”¨æ¨¡å—åŒ–æ–¹æ³•ï¼Œå¹¶æä¾›å‡ ç±»ç»„ä»¶ï¼ˆå¯¹è±¡ï¼‰ï¼š**<code>Logger</code><strong>æ—¥å¿—ã€</strong><code>LogRecord</code><strong>è®°å½•å™¨ã€</strong><code>Filterè¿‡æ»¤å™¨</code><strong>ã€</strong><code>Handler</code><strong>å¤„ç†å™¨ã€</strong><code>Formatter</code>**æ ¼å¼å™¨ã€‚</p><ul><li>è®°å½•å™¨æš´éœ²äº†åº”ç”¨ç¨‹åºä»£ç ç›´æ¥ä½¿ç”¨çš„æ¥å£ã€‚</li><li>å¤„ç†å™¨å°†æ—¥å¿—è®°å½•ï¼ˆç”±è®°å½•å™¨åˆ›å»ºï¼‰å‘é€åˆ°é€‚å½“çš„ç›®æ ‡ã€‚</li><li>è¿‡æ»¤å™¨æä¾›äº†æ›´ç»†ç²’åº¦çš„åŠŸèƒ½ï¼Œç”¨äºç¡®å®šè¦è¾“å‡ºçš„æ—¥å¿—è®°å½•ã€‚</li><li>æ ¼å¼å™¨æŒ‡å®šæœ€ç»ˆè¾“å‡ºä¸­æ—¥å¿—è®°å½•çš„æ ·å¼ã€‚</li></ul><p><img src="/src/logging_flow.png" alt="/_images/logging_flow.png"></p><p>Loggingæµç¨‹è§£é‡Šï¼š</p><ol><li>åˆ¤æ–­ Logger å¯¹è±¡å¯¹äºè®¾ç½®çš„çº§åˆ«æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœå¯ç”¨ï¼Œåˆ™å¾€ä¸‹æ‰§è¡Œï¼Œå¦åˆ™ï¼Œæµç¨‹ç»“æŸã€‚</li><li>åˆ›å»º LogRecord å¯¹è±¡ï¼Œå¦‚æœæ³¨å†Œåˆ° Logger å¯¹è±¡ä¸­çš„ Filter å¯¹è±¡è¿‡æ»¤åè¿”å› Falseï¼Œåˆ™ä¸è®°å½•æ—¥å¿—ï¼Œæµç¨‹ç»“æŸï¼Œå¦åˆ™ï¼Œåˆ™å‘ä¸‹æ‰§è¡Œã€‚</li><li>LogRecord å¯¹è±¡å°† Handler å¯¹è±¡ä¼ å…¥å½“å‰çš„ Logger å¯¹è±¡ï¼Œï¼ˆå›¾ä¸­çš„å­æµç¨‹ï¼‰å¦‚æœ Handler å¯¹è±¡çš„æ—¥å¿—çº§åˆ«å¤§äºè®¾ç½®çš„æ—¥å¿—çº§åˆ«ï¼Œå†åˆ¤æ–­æ³¨å†Œåˆ° Handler å¯¹è±¡ä¸­çš„ Filter å¯¹è±¡è¿‡æ»¤åæ˜¯å¦è¿”å› True è€Œæ”¾è¡Œè¾“å‡ºæ—¥å¿—ä¿¡æ¯ï¼Œå¦åˆ™ä¸æ”¾è¡Œï¼Œæµç¨‹ç»“æŸã€‚</li><li>å¦‚æœä¼ å…¥çš„ Handler å¤§äº Logger ä¸­è®¾ç½®çš„çº§åˆ«ï¼Œä¹Ÿå³ Handler æœ‰æ•ˆï¼Œåˆ™å¾€ä¸‹æ‰§è¡Œï¼Œå¦åˆ™ï¼Œæµç¨‹ç»“æŸã€‚</li><li>åˆ¤æ–­è¿™ä¸ª Logger å¯¹è±¡æ˜¯å¦è¿˜æœ‰çˆ¶ Logger å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰ï¼ˆä»£è¡¨å½“å‰ Logger å¯¹è±¡æ˜¯æœ€é¡¶å±‚çš„ Logger å¯¹è±¡ root Loggerï¼‰ï¼Œæµç¨‹ç»“æŸã€‚å¦åˆ™å°† Logger å¯¹è±¡è®¾ç½®ä¸ºå®ƒçš„çˆ¶ Logger å¯¹è±¡ï¼Œé‡å¤ä¸Šé¢çš„ 3ã€4 ä¸¤æ­¥ï¼Œè¾“å‡ºçˆ¶ç±» Logger å¯¹è±¡ä¸­çš„æ—¥å¿—è¾“å‡ºï¼Œç›´åˆ°æ˜¯ root Logger ä¸ºæ­¢ã€‚</li></ol><h3 id="è®°å½•å™¨"><a href="#è®°å½•å™¨" class="headerlink" title="è®°å½•å™¨"></a>è®°å½•å™¨</h3><p><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger"><code>Logger</code></a> å¯¹è±¡æœ‰ä¸‰é‡ä»»åŠ¡ã€‚é¦–å…ˆï¼Œå®ƒä»¬å‘åº”ç”¨ç¨‹åºä»£ç å…¬å¼€äº†å‡ ç§æ–¹æ³•ï¼Œä»¥ä¾¿åº”ç”¨ç¨‹åºå¯ä»¥åœ¨è¿è¡Œæ—¶è®°å½•æ¶ˆæ¯ã€‚å…¶æ¬¡ï¼Œè®°å½•å™¨å¯¹è±¡æ ¹æ®ä¸¥é‡æ€§ï¼ˆé»˜è®¤è¿‡æ»¤å·¥å…·ï¼‰æˆ–è¿‡æ»¤å™¨å¯¹è±¡ç¡®å®šè¦å¤„ç†çš„æ—¥å¿—æ¶ˆæ¯ã€‚ç¬¬ä¸‰ï¼Œè®°å½•å™¨å¯¹è±¡å°†ç›¸å…³çš„æ—¥å¿—æ¶ˆæ¯ä¼ é€’ç»™æ‰€æœ‰æ„Ÿå…´è¶£çš„æ—¥å¿—å¤„ç†å™¨ã€‚</p><p><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.getLogger"><code>getLogger()</code></a> è¿”å›å¯¹å…·æœ‰æŒ‡å®šåç§°çš„è®°å½•å™¨å®ä¾‹çš„å¼•ç”¨ï¼ˆå¦‚æœå·²æä¾›ï¼‰ï¼Œæˆ–è€…å¦‚æœæ²¡æœ‰åˆ™è¿”å› <code>root</code> ã€‚</p><p>è®°å½•å™¨å¯¹è±¡ä¸Šä½¿ç”¨æœ€å¹¿æ³›çš„æ–¹æ³•åˆ†ä¸ºä¸¤ç±»ï¼šé…ç½®å’Œæ¶ˆæ¯å‘é€ã€‚è¿™äº›æ˜¯æœ€å¸¸è§çš„é…ç½®æ–¹æ³•ï¼š</p><ul><li><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.setLevel"><code>Logger.setLevel()</code></a> æŒ‡å®šè®°å½•å™¨å°†å¤„ç†çš„æœ€ä½ä¸¥é‡æ€§æ—¥å¿—æ¶ˆæ¯ï¼Œå…¶ä¸­ debug æ˜¯æœ€ä½å†…ç½®ä¸¥é‡æ€§çº§åˆ«ï¼Œ critical æ˜¯æœ€é«˜å†…ç½®ä¸¥é‡æ€§çº§åˆ«ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä¸¥é‡æ€§çº§åˆ«ä¸º INFO ï¼Œåˆ™è®°å½•å™¨å°†ä»…å¤„ç† INFO ã€ WARNING ã€ ERROR å’Œ CRITICAL æ¶ˆæ¯ï¼Œå¹¶å°†å¿½ç•¥ DEBUG æ¶ˆæ¯ã€‚</li><li><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.addHandler"><code>Logger.addHandler()</code></a> å’Œ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.removeHandler"><code>Logger.removeHandler()</code></a> ä»è®°å½•å™¨å¯¹è±¡ä¸­æ·»åŠ å’Œåˆ é™¤å¤„ç†å™¨å¯¹è±¡ã€‚å¤„ç†å™¨åœ¨ä»¥ä¸‹å†…å®¹ä¸­æœ‰æ›´è¯¦ç»†çš„ä»‹ç» <a href="https://docs.python.org/zh-cn/3.10/howto/logging.html#handler-basic">å¤„ç†å™¨</a> ã€‚</li><li><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.addFilter"><code>Logger.addFilter()</code></a> å’Œ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.removeFilter"><code>Logger.removeFilter()</code></a> å¯ä»¥æ·»åŠ æˆ–ç§»é™¤è®°å½•å™¨å¯¹è±¡ä¸­çš„è¿‡æ»¤å™¨ã€‚ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#filter">è¿‡æ»¤å™¨å¯¹è±¡</a> åŒ…å«æ›´å¤šçš„è¿‡æ»¤å™¨ç»†èŠ‚ã€‚</li></ul><p>é…ç½®è®°å½•å™¨å¯¹è±¡åï¼Œä»¥ä¸‹æ–¹æ³•å°†åˆ›å»ºæ—¥å¿—æ¶ˆæ¯ï¼š</p><ul><li><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.debug"><code>Logger.debug()</code></a> ã€ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.info"><code>Logger.info()</code></a> ã€ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.warning"><code>Logger.warning()</code></a> ã€ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.error"><code>Logger.error()</code></a> å’Œ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.critical"><code>Logger.critical()</code></a> éƒ½åˆ›å»ºæ—¥å¿—è®°å½•ï¼ŒåŒ…å«æ¶ˆæ¯å’Œä¸å…¶å„è‡ªæ–¹æ³•åç§°å¯¹åº”çš„çº§åˆ«ã€‚è¯¥æ¶ˆæ¯å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå®ƒå¯èƒ½åŒ…å«æ ‡é¢˜å­—ç¬¦ä¸²æ›¿æ¢è¯­æ³• <code>%s</code> ã€ <code>%d</code> ã€ <code>%f</code> ç­‰ç­‰ã€‚å…¶ä½™å‚æ•°æ˜¯ä¸æ¶ˆæ¯ä¸­çš„æ›¿æ¢å­—æ®µå¯¹åº”çš„å¯¹è±¡åˆ—è¡¨ã€‚å…³äº <code>**kwargs</code> ï¼Œæ—¥å¿—è®°å½•æ–¹æ³•åªå…³æ³¨ <code>exc_info</code> çš„å…³é”®å­—ï¼Œå¹¶ç”¨å®ƒæ¥ç¡®å®šæ˜¯å¦è®°å½•å¼‚å¸¸ä¿¡æ¯ã€‚</li><li><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.exception"><code>Logger.exception()</code></a> åˆ›å»ºä¸ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.error"><code>Logger.error()</code></a> ç›¸ä¼¼çš„æ—¥å¿—ä¿¡æ¯ã€‚ ä¸åŒä¹‹å¤„æ˜¯ï¼Œ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.exception"><code>Logger.exception()</code></a> åŒæ—¶è¿˜è®°å½•å½“å‰çš„å †æ ˆè¿½è¸ªã€‚ä»…ä»å¼‚å¸¸å¤„ç†ç¨‹åºè°ƒç”¨æ­¤æ–¹æ³•ã€‚</li><li><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.log"><code>Logger.log()</code></a> å°†æ—¥å¿—çº§åˆ«ä½œä¸ºæ˜¾å¼å‚æ•°ã€‚å¯¹äºè®°å½•æ¶ˆæ¯è€Œè¨€ï¼Œè¿™æ¯”ä½¿ç”¨ä¸Šé¢åˆ—å‡ºçš„æ—¥å¿—çº§åˆ«ä¾¿åˆ©æ–¹æ³•æ›´åŠ å†—é•¿ï¼Œä½†è¿™æ˜¯ä½¿ç”¨è‡ªå®šä¹‰æ—¥å¿—çº§åˆ«çš„æ–¹æ³•ã€‚</li></ul><h3 id="å¤„ç†å™¨"><a href="#å¤„ç†å™¨" class="headerlink" title="å¤„ç†å™¨"></a>å¤„ç†å™¨</h3><p><a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Handler"><code>Handler</code></a> å¯¹è±¡è´Ÿè´£å°†é€‚å½“çš„æ—¥å¿—æ¶ˆæ¯ï¼ˆåŸºäºæ—¥å¿—æ¶ˆæ¯çš„ä¸¥é‡æ€§ï¼‰åˆ†æ´¾ç»™å¤„ç†å™¨çš„æŒ‡å®šç›®æ ‡ã€‚ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger"><code>Logger</code></a> å¯¹è±¡å¯ä»¥ä½¿ç”¨ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Logger.addHandler"><code>addHandler()</code></a> æ–¹æ³•å‘è‡ªå·±æ·»åŠ é›¶ä¸ªæˆ–å¤šä¸ªå¤„ç†å™¨å¯¹è±¡ã€‚</p><p>æ³¨æ„ä¸è¦ç›´æ¥å®ä¾‹åŒ– <a href="https://docs.python.org/zh-cn/3/library/logging.html#logging.Handler"><code>Handler</code></a> ï¼›è¿™ä¸ªç±»ç”¨æ¥æ´¾ç”Ÿå…¶ä»–æ›´æœ‰ç”¨çš„å­ç±»ã€‚ä½†æ˜¯ï¼Œå­ç±»çš„ <code>__init__()</code> æ–¹æ³•éœ€è¦è°ƒç”¨ <a href="https://docs.python.org/zh-cn/3/library/logging.html#logging.Handler.__init__"><code>Handler.__init__()</code></a> ã€‚</p><h3 id="æ ¼å¼å™¨"><a href="#æ ¼å¼å™¨" class="headerlink" title="æ ¼å¼å™¨"></a>æ ¼å¼å™¨</h3><p>æ ¼å¼åŒ–å™¨å¯¹è±¡é…ç½®æ—¥å¿—æ¶ˆæ¯çš„æœ€ç»ˆé¡ºåºã€ç»“æ„å’Œå†…å®¹ã€‚ ä¸ <a href="https://docs.python.org/zh-cn/3.10/library/logging.html#logging.Handler"><code>logging.Handler</code></a> ç±»ä¸åŒï¼Œåº”ç”¨ç¨‹åºä»£ç å¯ä»¥å®ä¾‹åŒ–æ ¼å¼å™¨ç±»ï¼Œä½†å¦‚æœåº”ç”¨ç¨‹åºéœ€è¦ç‰¹æ®Šè¡Œä¸ºï¼Œåˆ™å¯èƒ½ä¼šå¯¹æ ¼å¼åŒ–å™¨è¿›è¡Œå­ç±»åŒ–å®šåˆ¶ã€‚</p><p>æ„é€ å‡½æ•°æœ‰ä¸‰ä¸ªå¯é€‰å‚æ•° â€”â€” æ¶ˆæ¯æ ¼å¼å­—ç¬¦ä¸²ã€æ—¥æœŸæ ¼å¼å­—ç¬¦ä¸²å’Œæ ·å¼æŒ‡ç¤ºç¬¦ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®ƒä»¬è´Ÿè´£å°† <a href="https://docs.python.org/zh-cn/3/library/logging.html#logging.LogRecord"><code>LogRecord</code></a> è½¬æ¢ä¸ºå¯ç”±äººæˆ–å¤–éƒ¨ç³»ç»Ÿè§£é‡Šçš„å­—ç¬¦ä¸²ã€‚åŸºç¡€çš„ <a href="https://docs.python.org/zh-cn/3/library/logging.html#logging.Formatter"><code>Formatter</code></a> å…è®¸æŒ‡å®šæ ¼å¼å­—ç¬¦ä¸²ã€‚å¦‚æœæœªæä¾›ä»»ä½•å€¼ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ <code>&#39;%(message)s&#39;</code> ï¼Œå®ƒä»…å°†æ¶ˆæ¯åŒ…æ‹¬åœ¨æ—¥å¿—è®°å½•è°ƒç”¨ä¸­ã€‚</p><h3 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h3><p><code>Filters</code> å¯è¢« <code>Handlers</code> å’Œ <code>Loggers</code> ç”¨æ¥å®ç°æ¯”æŒ‰å±‚çº§æä¾›æ›´å¤æ‚çš„è¿‡æ»¤æ“ä½œã€‚ åŸºæœ¬è¿‡æ»¤å™¨ç±»åªå…è®¸ä½äºæ—¥å¿—è®°å½•å™¨å±‚çº§ç»“æ„ä¸­ä½äºç‰¹å®šå±‚çº§çš„äº‹ä»¶ã€‚</p><p>åœ¨ä¸Šé¢çš„ä½¿ç”¨ä¸­æˆ‘ä»¬ç”¨åˆ°äº†<code>basicConfig()</code>ï¼Œè¿™ä¸ªæ–¹æ³•å°±å¯åŸºæœ¬æ»¡è¶³ä¸€èˆ¬ä½¿ç”¨éœ€æ±‚ã€‚åœ¨æ²¡æœ‰ä¼ å…¥å‚æ•°æ—¶ï¼Œä¼šæ ¹æ®é»˜è®¤çš„é…ç½®æ¥åˆ›å»ºä¸€ä¸ªLoggerå¯¹è±¡ï¼ŒæŠŠæ—¥å¿—çº§åˆ«é»˜è®¤è®¾ç½®ä¸ºWarningã€‚å…·ä½“çš„å‚æ•°ä¸ºï¼š</p><table><thead><tr><th align="left">å‚æ•°åç§°</th><th align="left">å‚æ•°æè¿°</th></tr></thead><tbody><tr><td align="left">filename</td><td align="left">æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶çš„æ–‡ä»¶å</td></tr><tr><td align="left">filemode</td><td align="left">æ–‡ä»¶æ¨¡å¼ï¼Œr[+]ã€w[+]ã€a[+]</td></tr><tr><td align="left">format</td><td align="left">æ—¥å¿—è¾“å‡ºçš„æ ¼å¼</td></tr><tr><td align="left">datefat</td><td align="left">æ—¥å¿—é™„å¸¦æ—¥æœŸæ—¶é—´çš„æ ¼å¼</td></tr><tr><td align="left">style</td><td align="left">æ ¼å¼å ä½ç¬¦ï¼Œé»˜è®¤ä¸º â€œ%â€ å’Œ â€œ{}â€</td></tr><tr><td align="left">level</td><td align="left">è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ«</td></tr><tr><td align="left">stream</td><td align="left">å®šä¹‰è¾“å‡ºæµï¼Œç”¨æ¥åˆå§‹åŒ– StreamHandler å¯¹è±¡ï¼Œä¸èƒ½ filename å‚æ•°ä¸€èµ·ä½¿ç”¨ï¼Œå¦åˆ™ä¼šValueError å¼‚å¸¸</td></tr><tr><td align="left">handles</td><td align="left">å®šä¹‰å¤„ç†å™¨ï¼Œç”¨æ¥åˆ›å»º Handler å¯¹è±¡ï¼Œä¸èƒ½å’Œ filename ã€stream å‚æ•°ä¸€èµ·ä½¿ç”¨ï¼Œå¦åˆ™ä¹Ÿä¼šæŠ›å‡º ValueError å¼‚å¸¸</td></tr></tbody></table><p>ä¾‹å¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>logging.basicConfig()<br>logging.debug(<span class="hljs-string">&#x27;This is a debug message&#x27;</span>)<br>logging.info(<span class="hljs-string">&#x27;This is an info message&#x27;</span>)<br>logging.warning(<span class="hljs-string">&#x27;This is a warning message&#x27;</span>)<br>logging.error(<span class="hljs-string">&#x27;This is an error message&#x27;</span>)<br>logging.critical(<span class="hljs-string">&#x27;This is a critical message&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">WARNING:root:This <span class="hljs-keyword">is</span> a warning message<br>ERROR:root:This <span class="hljs-keyword">is</span> an error message<br>CRITICAL:root:This <span class="hljs-keyword">is</span> a critical message<br></code></pre></td></tr></table></figure><p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å»è®¾è®¡ä¸€ä¸ªLogger</p><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">log_file</span>():<br>    log_file = <span class="hljs-string">&#x27;testfun.log&#x27;</span><br>    handler_test = logging.FileHandler(log_file,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-comment"># stdout to file</span><br>    handler_control = logging.StreamHandler()    <span class="hljs-comment"># stdout to console</span><br>    handler_test.setLevel(<span class="hljs-string">&#x27;ERROR&#x27;</span>)               <span class="hljs-comment"># è®¾ç½®ERRORçº§åˆ«</span><br>    handler_control.setLevel(<span class="hljs-string">&#x27;INFO&#x27;</span>)             <span class="hljs-comment"># è®¾ç½®INFOçº§åˆ«</span><br><br>    selfdef_fmt = <span class="hljs-string">&#x27;%(asctime)s - %(funcName)s - %(levelname)s - %(message)s&#x27;</span><br>    formatter = logging.Formatter(selfdef_fmt)<br>    handler_test.setFormatter(formatter)<br>    handler_control.setFormatter(formatter)<br><br>    logger = logging.getLogger(<span class="hljs-string">&#x27;updateSecurity&#x27;</span>)<br>    logger.setLevel(<span class="hljs-string">&#x27;DEBUG&#x27;</span>)           <span class="hljs-comment">#è®¾ç½®äº†è¿™ä¸ªæ‰ä¼šæŠŠdebugä»¥ä¸Šçš„è¾“å‡ºåˆ°æ§åˆ¶å°</span><br><br>    logger.addHandler(handler_test)    <span class="hljs-comment">#æ·»åŠ handler</span><br>    logger.addHandler(handler_control)<br>    logger.info(<span class="hljs-string">&#x27;info,ä¸€èˆ¬çš„ä¿¡æ¯è¾“å‡º&#x27;</span>)<br>    logger.warning(<span class="hljs-string">&#x27;waringï¼Œç”¨æ¥ç”¨æ¥æ‰“å°è­¦å‘Šä¿¡æ¯&#x27;</span>)<br>    logger.error(<span class="hljs-string">&#x27;errorï¼Œä¸€èˆ¬ç”¨æ¥æ‰“å°ä¸€äº›é”™è¯¯ä¿¡æ¯&#x27;</span>)<br>    logger.critical(<span class="hljs-string">&#x27;criticalï¼Œç”¨æ¥æ‰“å°ä¸€äº›è‡´å‘½çš„é”™è¯¯ä¿¡æ¯ï¼Œç­‰çº§æœ€é«˜&#x27;</span>)<br><br>log_file()<br></code></pre></td></tr></table></figure><h2 id="å®æˆ˜é—®é¢˜"><a href="#å®æˆ˜é—®é¢˜" class="headerlink" title="å®æˆ˜é—®é¢˜"></a>å®æˆ˜é—®é¢˜</h2><h3 id="ä¸­æ–‡ä¹±ç "><a href="#ä¸­æ–‡ä¹±ç " class="headerlink" title="ä¸­æ–‡ä¹±ç "></a><strong>ä¸­æ–‡ä¹±ç </strong></h3><p>FileHandler åˆ›å»ºå¯¹è±¡æ—¶å¯ä»¥è®¾ç½®æ–‡ä»¶ç¼–ç ï¼Œå¦‚æœå°†æ–‡ä»¶ç¼–ç è®¾ç½®ä¸º â€œutf-8â€ï¼ˆutf-8 å’Œ utf8 ç­‰ä»·ï¼‰ï¼Œå°±å¯ä»¥è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜</p><h3 id="ä¸´æ—¶ç¦ç”¨æ—¥å¿—è¾“å‡º"><a href="#ä¸´æ—¶ç¦ç”¨æ—¥å¿—è¾“å‡º" class="headerlink" title="ä¸´æ—¶ç¦ç”¨æ—¥å¿—è¾“å‡º"></a><strong>ä¸´æ—¶ç¦ç”¨æ—¥å¿—è¾“å‡º</strong></h3><p>æœ‰æ—¶å€™æˆ‘ä»¬åˆä¸æƒ³è®©æ—¥å¿—è¾“å‡ºï¼Œä½†åœ¨è¿™ååˆæƒ³è¾“å‡ºæ—¥å¿—ã€‚å¦‚æœæˆ‘ä»¬æ‰“å°ä¿¡æ¯ç”¨çš„æ˜¯ print() æ–¹æ³•ï¼Œé‚£ä¹ˆå°±éœ€è¦æŠŠæ‰€æœ‰çš„ print() æ–¹æ³•éƒ½æ³¨é‡Šæ‰ï¼Œè€Œä½¿ç”¨äº† logging åï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€é”®å¼€å…³é—­æ—¥å¿—çš„ â€œé­”æ³•â€ã€‚ä¸€ç§æ–¹æ³•æ˜¯åœ¨ä½¿ç”¨é»˜è®¤é…ç½®æ—¶ï¼Œç»™ logging.disabled() æ–¹æ³•ä¼ å…¥ç¦ç”¨çš„æ—¥å¿—çº§åˆ«ï¼Œå°±å¯ä»¥ç¦æ­¢è®¾ç½®çº§åˆ«ä»¥ä¸‹çš„æ—¥å¿—è¾“å‡ºäº†ï¼Œå¦ä¸€ç§æ–¹æ³•æ—¶åœ¨è‡ªå®šä¹‰ Logger æ—¶ï¼ŒLogger å¯¹è±¡çš„ disable å±æ€§è®¾ä¸º Trueï¼Œé»˜è®¤å€¼æ˜¯ Falseï¼Œä¹Ÿå³ä¸ç¦ç”¨ã€‚</p><h3 id="æ—¥å¿—æ–‡ä»¶æŒ‰ç…§æ—¶é—´åˆ’åˆ†æˆ–è€…æŒ‰ç…§å¤§å°åˆ’åˆ†"><a href="#æ—¥å¿—æ–‡ä»¶æŒ‰ç…§æ—¶é—´åˆ’åˆ†æˆ–è€…æŒ‰ç…§å¤§å°åˆ’åˆ†" class="headerlink" title="æ—¥å¿—æ–‡ä»¶æŒ‰ç…§æ—¶é—´åˆ’åˆ†æˆ–è€…æŒ‰ç…§å¤§å°åˆ’åˆ†"></a><strong>æ—¥å¿—æ–‡ä»¶æŒ‰ç…§æ—¶é—´åˆ’åˆ†æˆ–è€…æŒ‰ç…§å¤§å°åˆ’åˆ†</strong></h3><p>å¦‚æœå°†æ—¥å¿—ä¿å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆæ—¶é—´ä¸€é•¿ï¼Œæˆ–è€…æ—¥å¿—ä¸€å¤šï¼Œå•ä¸ªæ—¥å¿—æ–‡ä»¶å°±ä¼šå¾ˆå¤§ï¼Œæ—¢ä¸åˆ©äºå¤‡ä»½ï¼Œä¹Ÿä¸åˆ©äºæŸ¥çœ‹ã€‚æˆ‘ä»¬ä¼šæƒ³åˆ°èƒ½ä¸èƒ½æŒ‰ç…§æ—¶é—´æˆ–è€…å¤§å°å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œåˆ’åˆ†å‘¢ï¼Ÿç­”æ¡ˆè‚¯å®šæ˜¯å¯ä»¥çš„ï¼Œå¹¶ä¸”è¿˜å¾ˆç®€å•ï¼Œlogging è€ƒè™‘åˆ°äº†æˆ‘ä»¬è¿™ä¸ªéœ€æ±‚ã€‚logging.handlers æ–‡ä»¶ä¸­æä¾›äº† <strong>TimedRotatingFileHandler</strong> å’Œ <strong>RotatingFileHandler</strong> ç±»åˆ†åˆ«å¯ä»¥å®ç°æŒ‰æ—¶é—´å’Œå¤§å°åˆ’åˆ†ã€‚æ‰“å¼€è¿™ä¸ª handles æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°è¿˜æœ‰å…¶ä»–åŠŸèƒ½çš„ Handler ç±»ï¼Œå®ƒä»¬éƒ½ç»§æ‰¿è‡ªåŸºç±» <strong>BaseRotatingHandler</strong>ã€‚<br>*ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learning Foundationâ€”â€”é«˜ç­‰æ•°å­¦</title>
    <link href="/2022/08/01/MachineLearning/%E9%AB%98%E6%95%B0%E5%9F%BA%E7%A1%80/"/>
    <url>/2022/08/01/MachineLearning/%E9%AB%98%E6%95%B0%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="é«˜ç­‰æ•°å­¦"><a href="#é«˜ç­‰æ•°å­¦" class="headerlink" title="é«˜ç­‰æ•°å­¦"></a>é«˜ç­‰æ•°å­¦</h1><h4 id="1-å¯¼æ•°å®šä¹‰ï¼š"><a href="#1-å¯¼æ•°å®šä¹‰ï¼š" class="headerlink" title="1.å¯¼æ•°å®šä¹‰ï¼š"></a>1.å¯¼æ•°å®šä¹‰ï¼š</h4><p>å¯¼æ•°å’Œå¾®åˆ†çš„æ¦‚å¿µ</p><p>$$<br>fâ€™({ {x}<em>{0} })&#x3D;\underset{\Delta x\to 0}{\mathop{\lim } },\frac{f({ {x}</em>{0} }+\Delta x)-f({ {x}_{0} })}{\Delta x} ï¼ˆ1ï¼‰<br>$$</p><p>æˆ–è€…ï¼š</p><p>$$<br>fâ€™({ {x}<em>{0} })&#x3D;\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },\frac{f(x)-f({ {x}<em>{0} })}{x-{ {x}</em>{0} } }ï¼ˆ2ï¼‰<br>$$</p><h4 id="2-å·¦å³å¯¼æ•°å¯¼æ•°çš„å‡ ä½•æ„ä¹‰å’Œç‰©ç†æ„ä¹‰"><a href="#2-å·¦å³å¯¼æ•°å¯¼æ•°çš„å‡ ä½•æ„ä¹‰å’Œç‰©ç†æ„ä¹‰" class="headerlink" title="2.å·¦å³å¯¼æ•°å¯¼æ•°çš„å‡ ä½•æ„ä¹‰å’Œç‰©ç†æ„ä¹‰"></a>2.å·¦å³å¯¼æ•°å¯¼æ•°çš„å‡ ä½•æ„ä¹‰å’Œç‰©ç†æ„ä¹‰</h4><p>å‡½æ•°$f(x)$åœ¨$x_0$å¤„çš„å·¦ã€å³å¯¼æ•°åˆ†åˆ«å®šä¹‰ä¸ºï¼š</p><p>å·¦å¯¼æ•°ï¼š<br>$$<br>{ { {f}â€™}<em>{-} }({ {x}</em>{0} })&#x3D;\underset{\Delta x\to { {0}^{-} } }{\mathop{\lim } },\frac{f({ {x}<em>{0} }+\Delta x)-f({ {x}</em>{0} })}{\Delta x}&#x3D;\underset{x\to x_{0}^{-} }{\mathop{\lim } },\frac{f(x)-f({ {x}<em>{0} })}{x-{ {x}</em>{0} } },(x&#x3D;{ {x}<em>{0} }+\Delta x)<br>$$<br>å³å¯¼æ•°ï¼š<br>$$<br>{ { {f}â€™}</em>{+} }({ {x}<em>{0} })&#x3D;\underset{\Delta x\to { {0}^{+} } }{\mathop{\lim } },\frac{f({ {x}</em>{0} }+\Delta x)-f({ {x}<em>{0} })}{\Delta x}&#x3D;\underset{x\to x</em>{0}^{+} }{\mathop{\lim } },\frac{f(x)-f({ {x}<em>{0} })}{x-{ {x}</em>{0} } }<br>$$</p><h4 id="3-å‡½æ•°çš„å¯å¯¼æ€§ä¸è¿ç»­æ€§ä¹‹é—´çš„å…³ç³»"><a href="#3-å‡½æ•°çš„å¯å¯¼æ€§ä¸è¿ç»­æ€§ä¹‹é—´çš„å…³ç³»" class="headerlink" title="3.å‡½æ•°çš„å¯å¯¼æ€§ä¸è¿ç»­æ€§ä¹‹é—´çš„å…³ç³»"></a>3.å‡½æ•°çš„å¯å¯¼æ€§ä¸è¿ç»­æ€§ä¹‹é—´çš„å…³ç³»</h4><p>Th1: å‡½æ•°$f(x)$åœ¨$x_0$å¤„å¯å¾®$\Leftrightarrow f(x)$åœ¨$x_0$å¤„å¯å¯¼</p><p>Th2: è‹¥å‡½æ•°åœ¨ç‚¹$x_0$å¤„å¯å¯¼ï¼Œåˆ™$y&#x3D;f(x)$åœ¨ç‚¹$x_0$å¤„è¿ç»­ï¼Œåä¹‹åˆ™ä¸æˆç«‹ã€‚å³å‡½æ•°è¿ç»­ä¸ä¸€å®šå¯å¯¼ã€‚</p><p>Th3: ${f}â€™({ {x}<em>{0} })$å­˜åœ¨$\Leftrightarrow { { {f}â€™}</em>{-} }({ {x}<em>{0} })&#x3D;{ { {f}â€™}</em>{+} }({ {x}_{0} })$</p><h4 id="4-å¹³é¢æ›²çº¿çš„åˆ‡çº¿å’Œæ³•çº¿"><a href="#4-å¹³é¢æ›²çº¿çš„åˆ‡çº¿å’Œæ³•çº¿" class="headerlink" title="4.å¹³é¢æ›²çº¿çš„åˆ‡çº¿å’Œæ³•çº¿"></a>4.å¹³é¢æ›²çº¿çš„åˆ‡çº¿å’Œæ³•çº¿</h4><p>åˆ‡çº¿æ–¹ç¨‹ : $y-{ {y}<em>{0} }&#x3D;fâ€™({ {x}</em>{0} })(x-{ {x}_{0} })$</p><p>æ³•çº¿æ–¹ç¨‹ï¼š$y-{ {y}<em>{0} }&#x3D;-\frac{1}{fâ€™({ {x}</em>{0} })}(x-{ {x}<em>{0} }),fâ€™({ {x}</em>{0} })\ne 0$</p><h4 id="5-å››åˆ™è¿ç®—æ³•åˆ™"><a href="#5-å››åˆ™è¿ç®—æ³•åˆ™" class="headerlink" title="5.å››åˆ™è¿ç®—æ³•åˆ™"></a>5.å››åˆ™è¿ç®—æ³•åˆ™</h4><p>è®¾å‡½æ•°$u&#x3D;u(x)ï¼Œv&#x3D;v(x)$]åœ¨ç‚¹$x$å¯å¯¼åˆ™</p><p>(1) $(u\pm v{)}â€™&#x3D;{u}â€™\pm {v}â€™$ $d(u\pm v)&#x3D;du\pm dv$</p><p>(2)$(uv{)}â€™&#x3D;u{v}â€™+v{u}â€™$ $d(uv)&#x3D;udv+vdu$</p><p>(3) $(\frac{u}{v}{)}â€™&#x3D;\frac{v{u}â€™-u{v}â€™}{ { {v}^{2} } }(v\ne 0)$ $d(\frac{u}{v})&#x3D;\frac{vdu-udv}{ { {v}^{2} } }$</p><h4 id="6-åŸºæœ¬å¯¼æ•°ä¸å¾®åˆ†è¡¨"><a href="#6-åŸºæœ¬å¯¼æ•°ä¸å¾®åˆ†è¡¨" class="headerlink" title="6.åŸºæœ¬å¯¼æ•°ä¸å¾®åˆ†è¡¨"></a>6.åŸºæœ¬å¯¼æ•°ä¸å¾®åˆ†è¡¨</h4><p>(1) $y&#x3D;c$ï¼ˆå¸¸æ•°ï¼‰ ${y}â€™&#x3D;0$ $dy&#x3D;0$</p><p>(2) $y&#x3D;{ {x}^{\alpha } }$($\alpha $ä¸ºå®æ•°) ${y}â€™&#x3D;\alpha { {x}^{\alpha -1} }$ $dy&#x3D;\alpha { {x}^{\alpha -1} }dx$</p><p>(3) $y&#x3D;{ {a}^{x} }$ ${y}â€™&#x3D;{ {a}^{x} }\ln a$ $dy&#x3D;{ {a}^{x} }\ln adx$<br>ç‰¹ä¾‹: $({ { {e} }^{x} }{)}â€™&#x3D;{ { {e} }^{x} }$ $d({ { {e} }^{x} })&#x3D;{ { {e} }^{x} }dx$</p><p>(4) $y&#x3D;{ {\log }_{a} }x$ ${y}â€™&#x3D;\frac{1}{x\ln a}$</p><p>$dy&#x3D;\frac{1}{x\ln a}dx$<br>ç‰¹ä¾‹:$y&#x3D;\ln x$ $(\ln x{)}â€™&#x3D;\frac{1}{x}$ $d(\ln x)&#x3D;\frac{1}{x}dx$</p><p>(5) $y&#x3D;\sin x$</p><p>${y}â€™&#x3D;\cos x$ $d(\sin x)&#x3D;\cos xdx$</p><p>(6) $y&#x3D;\cos x$</p><p>${y}â€™&#x3D;-\sin x$ $d(\cos x)&#x3D;-\sin xdx$</p><p>(7) $y&#x3D;\tan x$</p><p>${y}â€™&#x3D;\frac{1}{ { {\cos }^{2} }x}&#x3D;{ {\sec }^{2} }x$ $d(\tan x)&#x3D;{ {\sec }^{2} }xdx$</p><p>(8) $y&#x3D;\cot x$ ${y}â€™&#x3D;-\frac{1}{ { {\sin }^{2} }x}&#x3D;-{ {\csc }^{2} }x$ $d(\cot x)&#x3D;-{ {\csc }^{2} }xdx$</p><p>(9) $y&#x3D;\sec x$ ${y}â€™&#x3D;\sec x\tan x$</p><p>$d(\sec x)&#x3D;\sec x\tan xdx$<br>(10) $y&#x3D;\csc x$ ${y}â€™&#x3D;-\csc x\cot x$</p><p>$d(\csc x)&#x3D;-\csc x\cot xdx$<br>(11) $y&#x3D;\arcsin x$</p><p>${y}â€™&#x3D;\frac{1}{\sqrt{1-{ {x}^{2} } } }$</p><p>$d(\arcsin x)&#x3D;\frac{1}{\sqrt{1-{ {x}^{2} } } }dx$<br>(12) $y&#x3D;\arccos x$</p><p>${y}â€™&#x3D;-\frac{1}{\sqrt{1-{ {x}^{2} } } }$ $d(\arccos x)&#x3D;-\frac{1}{\sqrt{1-{ {x}^{2} } } }dx$</p><p>(13) $y&#x3D;\arctan x$</p><p>${y}â€™&#x3D;\frac{1}{1+{ {x}^{2} } }$ $d(\arctan x)&#x3D;\frac{1}{1+{ {x}^{2} } }dx$</p><p>(14) $y&#x3D;\operatorname{arc}\cot x$</p><p>${y}â€™&#x3D;-\frac{1}{1+{ {x}^{2} } }$</p><p>$d(\operatorname{arc}\cot x)&#x3D;-\frac{1}{1+{ {x}^{2} } }dx$<br>(15) $y&#x3D;shx$</p><p>${y}â€™&#x3D;chx$ $d(shx)&#x3D;chxdx$</p><p>(16) $y&#x3D;chx$</p><p>${y}â€™&#x3D;shx$ $d(chx)&#x3D;shxdx$</p><h4 id="7-å¤åˆå‡½æ•°ï¼Œåå‡½æ•°ï¼Œéšå‡½æ•°ä»¥åŠå‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¾®åˆ†æ³•"><a href="#7-å¤åˆå‡½æ•°ï¼Œåå‡½æ•°ï¼Œéšå‡½æ•°ä»¥åŠå‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¾®åˆ†æ³•" class="headerlink" title="7.å¤åˆå‡½æ•°ï¼Œåå‡½æ•°ï¼Œéšå‡½æ•°ä»¥åŠå‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¾®åˆ†æ³•"></a>7.å¤åˆå‡½æ•°ï¼Œåå‡½æ•°ï¼Œéšå‡½æ•°ä»¥åŠå‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¾®åˆ†æ³•</h4><p>(1) åå‡½æ•°çš„è¿ç®—æ³•åˆ™: è®¾$y&#x3D;f(x)$åœ¨ç‚¹$x$çš„æŸé‚»åŸŸå†…å•è°ƒè¿ç»­ï¼Œåœ¨ç‚¹$x$å¤„å¯å¯¼ä¸”${f}â€™(x)\ne 0$ï¼Œåˆ™å…¶åå‡½æ•°åœ¨ç‚¹$x$æ‰€å¯¹åº”çš„$y$å¤„å¯å¯¼ï¼Œå¹¶ä¸”æœ‰$\frac{dy}{dx}&#x3D;\frac{1}{\frac{dx}{dy} }$</p><p>(2) å¤åˆå‡½æ•°çš„è¿ç®—æ³•åˆ™:è‹¥$\mu &#x3D;\varphi (x)$åœ¨ç‚¹$x$å¯å¯¼,è€Œ$y&#x3D;f(\mu )$åœ¨å¯¹åº”ç‚¹$\mu $($\mu &#x3D;\varphi (x)$)å¯å¯¼,åˆ™å¤åˆå‡½æ•°$y&#x3D;f(\varphi (x))$åœ¨ç‚¹$x$å¯å¯¼,ä¸”${y}â€™&#x3D;{f}â€™(\mu )\cdot {\varphi }â€™(x)$</p><p>(3) éšå‡½æ•°å¯¼æ•°$\frac{dy}{dx}$çš„æ±‚æ³•ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹æ³•ï¼š</p><p>1)æ–¹ç¨‹ä¸¤è¾¹å¯¹$x$æ±‚å¯¼ï¼Œè¦è®°ä½$y$æ˜¯$x$çš„å‡½æ•°ï¼Œåˆ™$y$çš„å‡½æ•°æ˜¯$x$çš„å¤åˆå‡½æ•°.ä¾‹å¦‚$\frac{1}{y}$ï¼Œ${ {y}^{2} }$ï¼Œ$ln y$ï¼Œ${ { {e} }^{y} }$ç­‰å‡æ˜¯$x$çš„å¤åˆå‡½æ•°.<br>å¯¹$x$æ±‚å¯¼åº”æŒ‰å¤åˆå‡½æ•°è¿é”æ³•åˆ™åš.</p><p>2)å…¬å¼æ³•.ç”±$F(x,y)&#x3D;0$çŸ¥ $\frac{dy}{dx}&#x3D;-\frac{ { { { {F}â€™} }<em>{x} }(x,y)}{ { { { {F}â€™} }</em>{y} }(x,y)}$,å…¶ä¸­ï¼Œ${ { {F}â€™}<em>{x} }(x,y)$ï¼Œ<br>${ { {F}â€™}</em>{y} }(x,y)$åˆ†åˆ«è¡¨ç¤º$F(x,y)$å¯¹$x$å’Œ$y$çš„åå¯¼æ•°</p><p>3)åˆ©ç”¨å¾®åˆ†å½¢å¼ä¸å˜æ€§</p><h4 id="8-å¸¸ç”¨é«˜é˜¶å¯¼æ•°å…¬å¼"><a href="#8-å¸¸ç”¨é«˜é˜¶å¯¼æ•°å…¬å¼" class="headerlink" title="8.å¸¸ç”¨é«˜é˜¶å¯¼æ•°å…¬å¼"></a>8.å¸¸ç”¨é«˜é˜¶å¯¼æ•°å…¬å¼</h4><p>ï¼ˆ1ï¼‰$({ {a}^{x} }){ {,}^{(n)} }&#x3D;{ {a}^{x} }{ {\ln }^{n} }a\quad (a&gt;{0})\quad \quad ({ { {e} }^{x} }){ {,}^{(n)} }&#x3D;{e}{ {,}^{x} }$</p><p>ï¼ˆ2ï¼‰$(\sin kx{)}{ {,}^{(n)} }&#x3D;{ {k}^{n} }\sin (kx+n\cdot \frac{\pi }{ {2} })$</p><p>ï¼ˆ3ï¼‰$(\cos kx{)}{ {,}^{(n)} }&#x3D;{ {k}^{n} }\cos (kx+n\cdot \frac{\pi }{ {2} })$</p><p>ï¼ˆ4ï¼‰$({ {x}^{m} }){ {,}^{(n)} }&#x3D;m(m-1)\cdots (m-n+1){ {x}^{m-n} }$</p><p>ï¼ˆ5ï¼‰$(\ln x){ {,}^{(n)} }&#x3D;{ {(-{1})}^{(n-{1})} }\frac{(n-{1})!}{ { {x}^{n} } }$</p><p>ï¼ˆ6ï¼‰è±å¸ƒå°¼å…¹å…¬å¼ï¼šè‹¥$u(x),,v(x)$å‡$n$é˜¶å¯å¯¼ï¼Œåˆ™<br>${ {(uv)}^{(n)} }&#x3D;\sum\limits_{i&#x3D;{0} }^{n}{c_{n}^{i}{ {u}^{(i)} }{ {v}^{(n-i)} } }$ï¼Œå…¶ä¸­${ {u}^{({0})} }&#x3D;u$ï¼Œ${ {v}^{({0})} }&#x3D;v$</p><h4 id="9-å¾®åˆ†ä¸­å€¼å®šç†ï¼Œæ³°å‹’å…¬å¼"><a href="#9-å¾®åˆ†ä¸­å€¼å®šç†ï¼Œæ³°å‹’å…¬å¼" class="headerlink" title="9.å¾®åˆ†ä¸­å€¼å®šç†ï¼Œæ³°å‹’å…¬å¼"></a>9.å¾®åˆ†ä¸­å€¼å®šç†ï¼Œæ³°å‹’å…¬å¼</h4><p><strong>Th1:(è´¹é©¬å®šç†)</strong></p><p>è‹¥å‡½æ•°$f(x)$æ»¡è¶³æ¡ä»¶ï¼š</p><p>(1)å‡½æ•°$f(x)$åœ¨${ {x}<em>{0} }$çš„æŸé‚»åŸŸå†…æœ‰å®šä¹‰ï¼Œå¹¶ä¸”åœ¨æ­¤é‚»åŸŸå†…æ’æœ‰<br>$f(x)\le f({ {x}</em>{0} })$æˆ–$f(x)\ge f({ {x}_{0} })$,</p><p>(2) $f(x)$åœ¨${ {x}<em>{0} }$å¤„å¯å¯¼,åˆ™æœ‰ ${f}â€™({ {x}</em>{0} })&#x3D;0$</p><p><strong>Th2:(ç½—å°”å®šç†)</strong></p><p>è®¾å‡½æ•°$f(x)$æ»¡è¶³æ¡ä»¶ï¼š</p><p>(1)åœ¨é—­åŒºé—´$[a,b]$ä¸Šè¿ç»­ï¼›</p><p>(2)åœ¨$(a,b)$å†…å¯å¯¼ï¼›</p><p>(3)$f(a)&#x3D;f(b)$ï¼›</p><p>åˆ™åœ¨$(a,b)$å†…ä¸€å­˜åœ¨ä¸ª$\xi $ï¼Œä½¿ ${f}â€™(\xi )&#x3D;0$</p><p><strong>Th3: (æ‹‰æ ¼æœ—æ—¥ä¸­å€¼å®šç†)</strong></p><p>è®¾å‡½æ•°$f(x)$æ»¡è¶³æ¡ä»¶ï¼š</p><p>(1)åœ¨$[a,b]$ä¸Šè¿ç»­ï¼›</p><p>(2)åœ¨$(a,b)$å†…å¯å¯¼ï¼›</p><p>åˆ™åœ¨$(a,b)$å†…ä¸€å­˜åœ¨ä¸ª$\xi $ï¼Œä½¿ $\frac{f(b)-f(a)}{b-a}&#x3D;{f}â€™(\xi )$</p><p><strong>Th4: (æŸ¯è¥¿ä¸­å€¼å®šç†)</strong></p><p>è®¾å‡½æ•°$f(x)$ï¼Œ$g(x)$æ»¡è¶³æ¡ä»¶ï¼š<br>(1) åœ¨$[a,b]$ä¸Šè¿ç»­ï¼›</p><p>(2) åœ¨$(a,b)$å†…å¯å¯¼ä¸”${f}â€™(x)$ï¼Œ${g}â€™(x)$å‡å­˜åœ¨ï¼Œä¸”${g}â€™(x)\ne 0$</p><p>åˆ™åœ¨$(a,b)$å†…å­˜åœ¨ä¸€ä¸ª$\xi $ï¼Œä½¿ $\frac{f(b)-f(a)}{g(b)-g(a)}&#x3D;\frac{ {f}â€™(\xi )}{ {g}â€™(\xi )}$</p><h4 id="10-æ´›å¿…è¾¾æ³•åˆ™"><a href="#10-æ´›å¿…è¾¾æ³•åˆ™" class="headerlink" title="10.æ´›å¿…è¾¾æ³•åˆ™"></a>10.æ´›å¿…è¾¾æ³•åˆ™</h4><p><strong>æ³•åˆ™ â…  ($\frac{0}{0}$å‹)</strong></p><p>è®¾å‡½æ•°$f\left( x \right),g\left( x \right)$</p><p>æ»¡è¶³æ¡ä»¶ï¼š</p><p>$\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },f\left( x \right)&#x3D;0,\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },g\left( x \right)&#x3D;0$;</p><p>$f\left( x \right),g\left( x \right)$åœ¨${ {x}<em>{0} }$çš„é‚»åŸŸå†…å¯å¯¼ï¼Œ(åœ¨${ {x}</em>{0} }$å¤„å¯é™¤å¤–)ä¸”${g}â€™\left( x \right)\ne 0$;</p><p>$\underset{x\to { {x}_{0} } }{\mathop{\lim } },\frac{ {f}â€™\left( x \right)}{ {g}â€™\left( x \right)}$å­˜åœ¨(æˆ–$\infty $)ã€‚</p><p>åˆ™:<br>$\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },\frac{f\left( x \right)}{g\left( x \right)}&#x3D;\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },\frac{ {f}â€™\left( x \right)}{ {g}â€™\left( x \right)}$ã€‚<br>æ³•åˆ™${ {I}â€™}$ ($\frac{0}{0}$å‹)</p><p>è®¾å‡½æ•°$f\left( x \right),g\left( x \right)$</p><p>æ»¡è¶³æ¡ä»¶ï¼š</p><p>$\underset{x\to \infty }{\mathop{\lim } },f\left(x \right)&#x3D;0,\underset{x \to \infty}{\mathop{\lim} },g\left(x \right)&#x3D;0$;</p><p>å­˜åœ¨ä¸€ä¸ª$X&gt;0$,å½“$\left| x \right|&gt;X$æ—¶,$f\left( x \right),g\left( x \right)$å¯å¯¼,ä¸”${g}â€™\left( x \right)\ne 0$;$\underset{x\to { {x}_{0} } }{\mathop{\lim} },\frac{ {f}â€™\left(x \right)}{ {g}â€™\left(x \right)}$å­˜åœ¨(æˆ–$\infty $)ã€‚</p><p>åˆ™:<br>$\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },\frac{f\left( x \right)}{g\left( x \right)}&#x3D;\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },\frac{ {f}â€™\left( x \right)}{ {g}â€™\left( x \right)}$</p><p><strong>æ³•åˆ™ â…¡($\frac{\infty }{\infty }$å‹)</strong></p><p>è®¾å‡½æ•°$f\left( x \right),g\left( x \right)$æ»¡è¶³æ¡ä»¶ï¼š<br>$\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },f\left( x \right)&#x3D;\infty ,\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },g\left( x \right)&#x3D;\infty$;</p><p>$f\left( x \right),g\left( x \right)$åœ¨${ {x}<em>{0} }$ çš„é‚»åŸŸå†…å¯å¯¼(åœ¨${ {x}</em>{0} }$å¤„å¯é™¤å¤–)ä¸”${g}â€™\left( x \right)\ne 0$;$\underset{x\to { {x}_{0} } }{\mathop{\lim } },\frac{ {f}â€™\left( x \right)}{ {g}â€™\left( x \right)}$å­˜åœ¨(æˆ–$\infty$)ã€‚</p><p>åˆ™</p><p>$\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },\frac{f\left( x \right)}{g\left( x \right)}&#x3D;\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },\frac{ {f}â€™\left( x \right)}{ {g}â€™\left( x \right)}.$</p><p>åŒç†æ³•åˆ™${I{I}â€™}$($\frac{\infty }{\infty }$å‹)ä»¿æ³•åˆ™${ {I}â€™}$å¯å†™å‡ºã€‚</p><h4 id="11-æ³°å‹’å…¬å¼"><a href="#11-æ³°å‹’å…¬å¼" class="headerlink" title="11.æ³°å‹’å…¬å¼"></a>11.æ³°å‹’å…¬å¼</h4><p>è®¾å‡½æ•°$f(x)$åœ¨ç‚¹${ {x}<em>{0} }$å¤„çš„æŸé‚»åŸŸå†…å…·æœ‰$n+1$é˜¶å¯¼æ•°ï¼Œåˆ™å¯¹è¯¥é‚»åŸŸå†…å¼‚äº${ {x}</em>{0} }$çš„ä»»æ„ç‚¹$x$ï¼Œåœ¨${ {x}_{0} }$ä¸$x$ä¹‹é—´è‡³å°‘å­˜åœ¨<br>ä¸€ä¸ª$\xi$ï¼Œä½¿å¾—ï¼š</p><p>$f(x)&#x3D;f({ {x}<em>{0} })+{f}â€™({ {x}</em>{0} })(x-{ {x}<em>{0} })+\frac{1}{2!}{f}â€™â€™({ {x}</em>{0} }){ {(x-{ {x}_{0} })}^{2} }+\cdots$</p><p>$+\frac{ { {f}^{(n)} }({ {x}<em>{0} })}{n!}{ {(x-{ {x}</em>{0} })}^{n} }+{ {R}_{n} }(x)$</p><p>å…¶ä¸­ ${ {R}<em>{n} }(x)&#x3D;\frac{ { {f}^{(n+1)} }(\xi )}{(n+1)!}{ {(x-{ {x}</em>{0} })}^{n+1} }$ç§°ä¸º$f(x)$åœ¨ç‚¹${ {x}_{0} }$å¤„çš„$n$é˜¶æ³°å‹’ä½™é¡¹ã€‚</p><p>ä»¤${ {x}<em>{0} }&#x3D;0$ï¼Œåˆ™$n$é˜¶æ³°å‹’å…¬å¼<br>$f(x)&#x3D;f(0)+{f}â€™(0)x+\frac{1}{2!}{f}â€™â€™(0){ {x}^{2} }+\cdots +\frac{ { {f}^{(n)} }(0)}{n!}{ {x}^{n} }+{ {R}</em>{n} }(x)$â€¦â€¦(1)</p><p>å…¶ä¸­ ${ {R}_{n} }(x)&#x3D;\frac{ { {f}^{(n+1)} }(\xi )}{(n+1)!}{ {x}^{n+1} }$ï¼Œ$\xi $åœ¨ 0 ä¸$x$ä¹‹é—´.(1)å¼ç§°ä¸º<strong>éº¦å…‹åŠ³æ—å…¬å¼</strong></p><p>å¸¸ç”¨äº”ç§å‡½æ•°åœ¨${ {x}_{0} }&#x3D;0$å¤„çš„æ³°å‹’å…¬å¼</p><p>(1) ${ { {e} }^{x} }&#x3D;1+x+\frac{1}{2!}{ {x}^{2} }+\cdots +\frac{1}{n!}{ {x}^{n} }+\frac{ { {x}^{n+1} } }{(n+1)!}{ {e}^{\xi } }$</p><p>æˆ– $&#x3D;1+x+\frac{1}{2!}{ {x}^{2} }+\cdots +\frac{1}{n!}{ {x}^{n} }+o({ {x}^{n} })$</p><p>(2) $\sin x&#x3D;x-\frac{1}{3!}{ {x}^{3} }+\cdots +\frac{ { {x}^{n} } }{n!}\sin \frac{n\pi }{2}+\frac{ { {x}^{n+1} } }{(n+1)!}\sin (\xi +\frac{n+1}{2}\pi )$</p><p>æˆ– $&#x3D;x-\frac{1}{3!}{ {x}^{3} }+\cdots +\frac{ { {x}^{n} } }{n!}\sin \frac{n\pi }{2}+o({ {x}^{n} })$</p><p>(3) $\cos x&#x3D;1-\frac{1}{2!}{ {x}^{2} }+\cdots +\frac{ { {x}^{n} } }{n!}\cos \frac{n\pi }{2}+\frac{ { {x}^{n+1} } }{(n+1)!}\cos (\xi +\frac{n+1}{2}\pi )$</p><p>æˆ– $&#x3D;1-\frac{1}{2!}{ {x}^{2} }+\cdots +\frac{ { {x}^{n} } }{n!}\cos \frac{n\pi }{2}+o({ {x}^{n} })$</p><p>(4) $\ln (1+x)&#x3D;x-\frac{1}{2}{ {x}^{2} }+\frac{1}{3}{ {x}^{3} }-\cdots +{ {(-1)}^{n-1} }\frac{ { {x}^{n} } }{n}+\frac{ { {(-1)}^{n} }{ {x}^{n+1} } }{(n+1){ {(1+\xi )}^{n+1} } }$</p><p>æˆ– $&#x3D;x-\frac{1}{2}{ {x}^{2} }+\frac{1}{3}{ {x}^{3} }-\cdots +{ {(-1)}^{n-1} }\frac{ { {x}^{n} } }{n}+o({ {x}^{n} })$</p><p>(5) ${ {(1+x)}^{m} }&#x3D;1+mx+\frac{m(m-1)}{2!}{ {x}^{2} }+\cdots +\frac{m(m-1)\cdots (m-n+1)}{n!}{ {x}^{n} }$<br>$+\frac{m(m-1)\cdots (m-n+1)}{(n+1)!}{ {x}^{n+1} }{ {(1+\xi )}^{m-n-1} }$</p><p>æˆ– ${ {(1+x)}^{m} }&#x3D;1+mx+\frac{m(m-1)}{2!}{ {x}^{2} }+\cdots$ $+\frac{m(m-1)\cdots(m-n+1)}{n!}{ {x}^{n} }+o({ {x}^{n} })$</p><h4 id="12-å‡½æ•°å•è°ƒæ€§çš„åˆ¤æ–­"><a href="#12-å‡½æ•°å•è°ƒæ€§çš„åˆ¤æ–­" class="headerlink" title="12.å‡½æ•°å•è°ƒæ€§çš„åˆ¤æ–­"></a>12.å‡½æ•°å•è°ƒæ€§çš„åˆ¤æ–­</h4><p><strong>Th1:</strong> </p><p>è®¾å‡½æ•°$f(x)$åœ¨$(a,b)$åŒºé—´å†…å¯å¯¼ï¼Œå¦‚æœå¯¹$\forall x\in (a,b)$ï¼Œéƒ½æœ‰$f,â€˜(x)&gt;0$ï¼ˆæˆ–$f,â€˜(x)&lt;0$ï¼‰ï¼Œåˆ™å‡½æ•°$f(x)$åœ¨$(a,b)$å†…æ˜¯å•è°ƒå¢åŠ çš„ï¼ˆæˆ–å•è°ƒå‡å°‘ï¼‰</p><p><strong>Th2:</strong> </p><p>ï¼ˆå–æå€¼çš„å¿…è¦æ¡ä»¶ï¼‰è®¾å‡½æ•°$f(x)$åœ¨${ {x}<em>{0} }$å¤„å¯å¯¼ï¼Œä¸”åœ¨${ {x}</em>{0} }$å¤„å–æå€¼ï¼Œåˆ™$f,â€˜({ {x}_{0} })&#x3D;0$ã€‚</p><p><strong>Th3:</strong> </p><p>ï¼ˆå–æå€¼çš„ç¬¬ä¸€å……åˆ†æ¡ä»¶ï¼‰è®¾å‡½æ•°$f(x)$åœ¨${ {x}<em>{0} }$çš„æŸä¸€é‚»åŸŸå†…å¯å¾®ï¼Œä¸”$f,â€˜({ {x}</em>{0} })&#x3D;0$ï¼ˆæˆ–$f(x)$åœ¨${ {x}<em>{0} }$å¤„è¿ç»­ï¼Œä½†$f,â€˜({ {x}</em>{0} })$ä¸å­˜åœ¨ã€‚ï¼‰</p><p>(1)è‹¥å½“$x$ç»è¿‡${ {x}<em>{0} }$æ—¶ï¼Œ$f,â€˜(x)$ç”±â€œ+â€å˜â€œ-â€ï¼Œåˆ™$f({ {x}</em>{0} })$ä¸ºæå¤§å€¼ï¼›</p><p>(2)è‹¥å½“$x$ç»è¿‡${ {x}<em>{0} }$æ—¶ï¼Œ$f,â€˜(x)$ç”±â€œ-â€å˜â€œ+â€ï¼Œåˆ™$f({ {x}</em>{0} })$ä¸ºæå°å€¼ï¼›</p><p>(3)è‹¥$f,â€˜(x)$ç»è¿‡$x&#x3D;{ {x}<em>{0} }$çš„ä¸¤ä¾§ä¸å˜å·ï¼Œåˆ™$f({ {x}</em>{0} })$ä¸æ˜¯æå€¼ã€‚</p><p><strong>Th4:</strong> </p><p>(å–æå€¼çš„ç¬¬äºŒå……åˆ†æ¡ä»¶)è®¾$f(x)$åœ¨ç‚¹${ {x}<em>{0} }$å¤„æœ‰$fâ€™â€™(x)\ne 0$ï¼Œä¸”$f,â€˜({ {x}</em>{0} })&#x3D;0$ï¼Œåˆ™ å½“$fâ€™,â€˜({ {x}<em>{0} })&lt;0$æ—¶ï¼Œ$f({ {x}_{0} })$ä¸ºæå¤§å€¼ï¼›<br>å½“$fâ€™,â€˜({ {x}_{0} })&gt;0$æ—¶ï¼Œ$f({ {x}</em>{0} })$ä¸ºæå°å€¼ã€‚<br>æ³¨ï¼šå¦‚æœ$fâ€™,â€˜({ {x}_{0} })&lt;0$ï¼Œæ­¤æ–¹æ³•å¤±æ•ˆã€‚</p><h4 id="13-æ¸è¿‘çº¿çš„æ±‚æ³•"><a href="#13-æ¸è¿‘çº¿çš„æ±‚æ³•" class="headerlink" title="13.æ¸è¿‘çº¿çš„æ±‚æ³•"></a>13.æ¸è¿‘çº¿çš„æ±‚æ³•</h4><p>(1)æ°´å¹³æ¸è¿‘çº¿ è‹¥$\underset{x\to +\infty }{\mathop{\lim } },f(x)&#x3D;b$ï¼Œæˆ–$\underset{x\to -\infty }{\mathop{\lim } },f(x)&#x3D;b$ï¼Œåˆ™</p><p>$y&#x3D;b$ç§°ä¸ºå‡½æ•°$y&#x3D;f(x)$çš„æ°´å¹³æ¸è¿‘çº¿ã€‚</p><p>(2)é“…ç›´æ¸è¿‘çº¿ è‹¥$\underset{x\to x_{0}^{-} }{\mathop{\lim } },f(x)&#x3D;\infty $ï¼Œæˆ–$\underset{x\to x_{0}^{+} }{\mathop{\lim } },f(x)&#x3D;\infty $ï¼Œåˆ™</p><p>$x&#x3D;{ {x}_{0} }$ç§°ä¸º$y&#x3D;f(x)$çš„é“…ç›´æ¸è¿‘çº¿ã€‚</p><p>(3)æ–œæ¸è¿‘çº¿ è‹¥$a&#x3D;\underset{x\to \infty }{\mathop{\lim } },\frac{f(x)}{x},\quad b&#x3D;\underset{x\to \infty }{\mathop{\lim } },[f(x)-ax]$ï¼Œåˆ™<br>$y&#x3D;ax+b$ç§°ä¸º$y&#x3D;f(x)$çš„æ–œæ¸è¿‘çº¿ã€‚</p><h4 id="14-å‡½æ•°å‡¹å‡¸æ€§çš„åˆ¤æ–­"><a href="#14-å‡½æ•°å‡¹å‡¸æ€§çš„åˆ¤æ–­" class="headerlink" title="14.å‡½æ•°å‡¹å‡¸æ€§çš„åˆ¤æ–­"></a>14.å‡½æ•°å‡¹å‡¸æ€§çš„åˆ¤æ–­</h4><p><strong>Th1:</strong> (å‡¹å‡¸æ€§çš„åˆ¤åˆ«å®šç†ï¼‰è‹¥åœ¨ I ä¸Š$fâ€™â€™(x)&lt;0$ï¼ˆæˆ–$fâ€™â€™(x)&gt;0$ï¼‰ï¼Œåˆ™$f(x)$åœ¨ I ä¸Šæ˜¯å‡¸çš„ï¼ˆæˆ–å‡¹çš„ï¼‰ã€‚</p><p><strong>Th2:</strong> (æ‹ç‚¹çš„åˆ¤åˆ«å®šç† 1)è‹¥åœ¨${ {x}<em>{0} }$å¤„$fâ€™â€™(x)&#x3D;0$ï¼Œï¼ˆæˆ–$fâ€™â€™(x)$ä¸å­˜åœ¨ï¼‰ï¼Œå½“$x$å˜åŠ¨ç»è¿‡${ {x}</em>{0} }$æ—¶ï¼Œ$fâ€™â€™(x)$å˜å·ï¼Œåˆ™$({ {x}<em>{0} },f({ {x}</em>{0} }))$ä¸ºæ‹ç‚¹ã€‚</p><p><strong>Th3:</strong> (æ‹ç‚¹çš„åˆ¤åˆ«å®šç† 2)è®¾$f(x)$åœ¨${ {x}<em>{0} }$ç‚¹çš„æŸé‚»åŸŸå†…æœ‰ä¸‰é˜¶å¯¼æ•°ï¼Œä¸”$fâ€™â€™(x)&#x3D;0$ï¼Œ$fâ€™â€™â€™(x)\ne 0$ï¼Œåˆ™$({ {x}</em>{0} },f({ {x}_{0} }))$ä¸ºæ‹ç‚¹ã€‚</p><h4 id="15-å¼§å¾®åˆ†"><a href="#15-å¼§å¾®åˆ†" class="headerlink" title="15.å¼§å¾®åˆ†"></a>15.å¼§å¾®åˆ†</h4><p>$dS&#x3D;\sqrt{1+y{ {â€˜}^{2} } }dx$</p><h4 id="16-æ›²ç‡"><a href="#16-æ›²ç‡" class="headerlink" title="16.æ›²ç‡"></a>16.æ›²ç‡</h4><p>æ›²çº¿$y&#x3D;f(x)$åœ¨ç‚¹$(x,y)$å¤„çš„æ›²ç‡$k&#x3D;\frac{\left| yâ€™â€™ \right|}{ { {(1+y{ {â€˜}^{2} })}^{\tfrac{3}{2} } } }$ã€‚<br>å¯¹äºå‚æ•°æ–¹ç¨‹$\left{ \begin{align}  &amp; x&#x3D;\varphi (t) \  &amp; y&#x3D;\psi (t) \ \end{align} \right.,$$k&#x3D;\frac{\left| \varphi â€˜(t)\psi â€˜â€™(t)-\varphi â€˜â€™(t)\psi â€˜(t) \right|}{ { {[\varphi { {â€˜}^{2} }(t)+\psi { {â€˜}^{2} }(t)]}^{\tfrac{3}{2} } } }$ã€‚</p><h4 id="17-æ›²ç‡åŠå¾„"><a href="#17-æ›²ç‡åŠå¾„" class="headerlink" title="17.æ›²ç‡åŠå¾„"></a>17.æ›²ç‡åŠå¾„</h4><p>æ›²çº¿åœ¨ç‚¹$M$å¤„çš„æ›²ç‡$k(k\ne 0)$ä¸æ›²çº¿åœ¨ç‚¹$M$å¤„çš„æ›²ç‡åŠå¾„$\rho $æœ‰å¦‚ä¸‹å…³ç³»ï¼š$\rho &#x3D;\frac{1}{k}$ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
      <tag>Mathematics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learning Foundationâ€”â€”ç»Ÿè®¡å­¦ä¹ ä¸æœºå™¨å­¦ä¹ çš„å…³è”</title>
    <link href="/2022/08/01/MachineLearning/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%85%B3%E8%81%94/"/>
    <url>/2022/08/01/MachineLearning/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%85%B3%E8%81%94/</url>
    
    <content type="html"><![CDATA[<p>ç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ ä¹‹é—´çš„ç•Œå®šä¸€ç›´å¾ˆæ¨¡ç³Šã€‚</p><p>æ— è®ºæ˜¯ä¸šç•Œè¿˜æ˜¯å­¦ç•Œä¸€ç›´è®¤ä¸ºæœºå™¨å­¦ä¹ åªæ˜¯ç»Ÿè®¡å­¦æŠ«äº†ä¸€å±‚å…‰é²œçš„å¤–è¡£ã€‚</p><p>è€Œæœºå™¨å­¦ä¹ æ”¯æ’‘çš„äººå·¥æ™ºèƒ½ä¹Ÿè¢«ç§°ä¸ºâ€œç»Ÿè®¡å­¦çš„å¤–å»¶â€ã€‚</p><p>ä¾‹å¦‚ï¼Œè¯ºå¥–å¾—ä¸»æ‰˜é©¬æ–¯Â·è¨é‡‘ç‰¹æ›¾ç»è¯´è¿‡äººå·¥æ™ºèƒ½å…¶å®å°±æ˜¯ç»Ÿè®¡å­¦ï¼Œåªä¸è¿‡ç”¨äº†ä¸€ä¸ªå¾ˆåä¸½çš„è¾è—»ã€‚</p><p><img src="/src/640-165778097574451.jpeg" alt="å›¾ç‰‡"></p><p>è¨é‡‘ç‰¹åœ¨ä¸–ç•Œç§‘æŠ€åˆ›æ–°è®ºå›ä¸Šè¡¨ç¤ºï¼Œäººå·¥æ™ºèƒ½å…¶å®å°±æ˜¯ç»Ÿè®¡å­¦</p><p>å½“ç„¶ä¹Ÿæœ‰ä¸€äº›ä¸åŒçš„å£°éŸ³ã€‚ä½†æ˜¯è¿™ä¸€è§‚ç‚¹çš„æ­£ååŒæ–¹åœ¨äº‰åµä¸­å……æ–¥ç€ä¸€å †çœ‹ä¼¼é«˜æ·±å®åˆ™å«ç³Šçš„è®ºè¿°ï¼Œç€å®è®©äººæ‘¸ä¸ç€å¤´è„‘ã€‚</p><p>ä¸€ä½åå«Matthew Stewartçš„å“ˆä½›å¤§å­¦åšå£«ç”Ÿä»ç»Ÿè®¡ä¸æœºå™¨å­¦ä¹ çš„ä¸åŒï¼›ç»Ÿè®¡æ¨¡å‹ä¸æœºå™¨å­¦ä¹ çš„ä¸åŒï¼Œè¿™ä¸¤ä¸ªè§’åº¦è®ºè¯äº†æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡å­¦å¹¶ä¸æ˜¯äº’ä¸ºä»£åè¯ã€‚</p><h2 id="æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„ç›®çš„"><a href="#æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„ç›®çš„" class="headerlink" title="æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„ç›®çš„"></a><strong>æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„ç›®çš„</strong></h2><p><img src="/src/640-165778097574452.jpeg" alt="å›¾ç‰‡"></p><p>ä¸å¤§éƒ¨åˆ†äººæ‰€æƒ³çš„æ­£ç›¸åï¼Œæœºå™¨å­¦ä¹ å…¶å®å·²ç»å­˜åœ¨å‡ åå¹´äº†ã€‚å½“åˆåªæ˜¯å› ä¸ºé‚£æ—¶çš„è®¡ç®—èƒ½åŠ›æ— æ³•æ»¡è¶³å®ƒå¯¹å¤§é‡è®¡ç®—çš„éœ€æ±‚ï¼Œè€Œæ¸æ¸è¢«äººé—å¼ƒã€‚ç„¶è€Œï¼Œè¿‘å¹´æ¥ï¼Œç”±äºä¿¡æ¯çˆ†ç‚¸æ‰€å¸¦æ¥çš„æ•°æ®å’Œç®—åŠ›ä¼˜åŠ¿ï¼Œæœºå™¨å­¦ä¹ æ­£å¿«é€Ÿå¤è‹ã€‚</p><p>è¨€å½’æ­£ä¼ ï¼Œå¦‚æœè¯´æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡å­¦æ˜¯äº’ä¸ºä»£åè¯ï¼Œé‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°æ¯æ‰€å¤§å­¦çš„ç»Ÿè®¡å­¦ç³»éƒ½å…³é—¨å¤§å‰è€Œè½¬æŠ•â€™æœºå™¨å­¦ä¹ â€™ç³»å‘¢ï¼Ÿå› ä¸ºå®ƒä»¬æ˜¯ä¸ä¸€æ ·çš„!</p><p>æˆ‘ç»å¸¸å¬åˆ°ä¸€äº›å…³äºè¿™ä¸ªè¯é¢˜çš„å«ç³Šè®ºè¿°ï¼Œæœ€å¸¸è§çš„æ˜¯è¿™æ ·çš„è¯´æ³•:</p><p>â€œæœºå™¨å­¦ä¹ å’Œç»Ÿè®¡çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„ç›®çš„ã€‚æœºå™¨å­¦ä¹ æ¨¡å‹æ—¨åœ¨ä½¿æœ€å‡†ç¡®çš„é¢„æµ‹æˆä¸ºå¯èƒ½ã€‚ç»Ÿè®¡æ¨¡å‹æ˜¯ä¸ºæ¨æ–­å˜é‡ä¹‹é—´çš„å…³ç³»è€Œè®¾è®¡çš„ã€‚</p><p>è™½ç„¶æŠ€æœ¯ä¸Šæ¥è¯´è¿™æ˜¯æ­£ç¡®çš„ï¼Œä½†è¿™æ ·çš„è®ºè¿°å¹¶æ²¡æœ‰ç»™å‡ºç‰¹åˆ«æ¸…æ™°å’Œä»¤äººæ»¡æ„çš„ç­”æ¡ˆã€‚æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡ä¹‹é—´çš„ä¸€ä¸ªä¸»è¦åŒºåˆ«ç¡®å®æ˜¯å®ƒä»¬çš„ç›®çš„ã€‚</p><p>ç„¶è€Œï¼Œè¯´æœºå™¨å­¦ä¹ æ˜¯å…³äºå‡†ç¡®çš„é¢„æµ‹ï¼Œè€Œç»Ÿè®¡æ¨¡å‹æ˜¯ä¸ºæ¨ç†è€Œè®¾è®¡ï¼Œå‡ ä¹æ˜¯æ¯«æ— æ„ä¹‰çš„è¯´æ³•ï¼Œé™¤éä½ çœŸçš„ç²¾é€šè¿™äº›æ¦‚å¿µã€‚</p><p><img src="/src/640-165778097574553.jpeg" alt="å›¾ç‰‡"></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»æ˜ç™½ï¼Œç»Ÿè®¡å’Œç»Ÿè®¡å»ºæ¨¡æ˜¯ä¸ä¸€æ ·çš„ã€‚ç»Ÿè®¡æ˜¯å¯¹æ•°æ®çš„æ•°å­¦ç ”ç©¶ã€‚é™¤éæœ‰æ•°æ®ï¼Œå¦åˆ™æ— æ³•è¿›è¡Œç»Ÿè®¡ã€‚ç»Ÿè®¡æ¨¡å‹æ˜¯æ•°æ®çš„æ¨¡å‹ï¼Œä¸»è¦ç”¨äºæ¨æ–­æ•°æ®ä¸­ä¸åŒå†…å®¹çš„å…³ç³»ï¼Œæˆ–åˆ›å»ºèƒ½å¤Ÿé¢„æµ‹æœªæ¥å€¼çš„æ¨¡å‹ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸¤è€…æ˜¯ç›¸è¾…ç›¸æˆçš„ã€‚</p><p>å› æ­¤ï¼Œå®é™…ä¸Šæˆ‘ä»¬éœ€è¦ä»ä¸¤æ–¹é¢æ¥è®ºè¿°ï¼šç¬¬ä¸€ï¼Œç»Ÿè®¡ä¸æœºå™¨å­¦ä¹ æœ‰ä½•ä¸åŒï¼›ç¬¬äºŒï¼Œç»Ÿè®¡æ¨¡å‹ä¸æœºå™¨å­¦ä¹ æœ‰ä½•ä¸åŒï¼Ÿ</p><p>è¯´å¾—æ›´ç›´ç™½äº›å°±æ˜¯ï¼Œæœ‰å¾ˆå¤šç»Ÿè®¡æ¨¡å‹å¯ä»¥åšå‡ºé¢„æµ‹ï¼Œä½†é¢„æµ‹æ•ˆæœæ¯”è¾ƒå·®å¼ºäººæ„ã€‚</p><p>è€Œæœºå™¨å­¦ä¹ é€šå¸¸ä¼šç‰ºç‰²å¯è§£é‡Šæ€§ä»¥è·å¾—å¼ºå¤§çš„é¢„æµ‹èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œä»çº¿æ€§å›å½’åˆ°ç¥ç»ç½‘ç»œï¼Œå°½ç®¡è§£é‡Šæ€§å˜å·®ï¼Œä½†æ˜¯é¢„æµ‹èƒ½åŠ›å´å¤§å¹…æé«˜ã€‚</p><p>ä»å®è§‚è§’åº¦æ¥çœ‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç­”æ¡ˆã€‚è‡³å°‘å¯¹å¤§å¤šæ•°äººæ¥è¯´å·²ç»è¶³å¤Ÿå¥½ã€‚ç„¶è€Œï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œè¿™ç§è¯´æ³•å®¹æ˜“è®©æˆ‘ä»¬å¯¹æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡å»ºæ¨¡ä¹‹é—´çš„å·®å¼‚äº§ç”Ÿè¯¯è§£ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹çº¿æ€§å›å½’çš„ä¾‹å­ã€‚</p><h2 id="ç»Ÿè®¡æ¨¡å‹ä¸æœºå™¨å­¦ä¹ åœ¨çº¿æ€§å›å½’ä¸Šçš„å·®å¼‚"><a href="#ç»Ÿè®¡æ¨¡å‹ä¸æœºå™¨å­¦ä¹ åœ¨çº¿æ€§å›å½’ä¸Šçš„å·®å¼‚" class="headerlink" title="ç»Ÿè®¡æ¨¡å‹ä¸æœºå™¨å­¦ä¹ åœ¨çº¿æ€§å›å½’ä¸Šçš„å·®å¼‚"></a><strong>ç»Ÿè®¡æ¨¡å‹ä¸æœºå™¨å­¦ä¹ åœ¨çº¿æ€§å›å½’ä¸Šçš„å·®å¼‚</strong></h2><p><img src="/src/640-165778097574554.png" alt="å›¾ç‰‡"></p><p>æˆ–è®¸æ˜¯å› ä¸ºç»Ÿè®¡å»ºæ¨¡å’Œæœºå™¨å­¦ä¹ ä¸­ä½¿ç”¨æ–¹æ³•çš„ç›¸ä¼¼æ€§ï¼Œä½¿äººä»¬è®¤ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚å¯¹äºè¿™ä¸ªæˆ‘å¯ä»¥ç†è§£ï¼Œä½†äº‹å®ä¸Šä¸æ˜¯è¿™æ ·ã€‚</p><p>æœ€æ˜æ˜¾çš„ä¾‹å­æ˜¯çº¿æ€§å›å½’ï¼Œè¿™å¯èƒ½æ˜¯é€ æˆè¿™ç§è¯¯è§£çš„ä¸»è¦åŸå› ã€‚çº¿æ€§å›å½’æ˜¯ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•æˆ‘ä»¬æ—¢å¯ä»¥è®­ç»ƒä¸€ä¸ªçº¿æ€§å›å½’å™¨ï¼Œåˆå¯ä»¥é€šè¿‡æœ€å°äºŒä¹˜æ³•æ‹Ÿåˆä¸€ä¸ªç»Ÿè®¡å›å½’æ¨¡å‹ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œå‰è€…åšçš„äº‹å„¿å«â€è®­ç»ƒâ€æ¨¡å‹ï¼Œå®ƒåªç”¨åˆ°äº†æ•°æ®çš„ä¸€ä¸ªå­é›†ï¼Œè€Œè®­ç»ƒå¾—åˆ°çš„æ¨¡å‹ç©¶ç«Ÿè¡¨ç°å¦‚ä½•éœ€è¦é€šè¿‡æ•°æ®çš„å¦ä¸€ä¸ªå­é›†æµ‹è¯•é›†æµ‹è¯•ä¹‹åæ‰èƒ½çŸ¥é“ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœºå™¨å­¦ä¹ çš„æœ€ç»ˆç›®çš„æ˜¯åœ¨æµ‹è¯•é›†ä¸Šè·å¾—æœ€ä½³æ€§èƒ½ã€‚</p><p>å¯¹äºåè€…ï¼Œæˆ‘ä»¬åˆ™äº‹å…ˆå‡è®¾æ•°æ®æ˜¯ä¸€ä¸ªå…·æœ‰é«˜æ–¯å™ªå£°çš„çº¿æ€§å›å½’é‡ï¼Œç„¶åè¯•å›¾æ‰¾åˆ°ä¸€æ¡çº¿ï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘äº†æ‰€æœ‰æ•°æ®çš„å‡æ–¹è¯¯å·®ã€‚ä¸éœ€è¦è®­ç»ƒæˆ–æµ‹è¯•é›†ï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œç‰¹åˆ«æ˜¯åœ¨ç ”ç©¶ä¸­(å¦‚ä¸‹é¢çš„ä¼ æ„Ÿå™¨ç¤ºä¾‹)ï¼Œå»ºæ¨¡çš„ç›®çš„æ˜¯æè¿°æ•°æ®ä¸è¾“å‡ºå˜é‡ä¹‹é—´çš„å…³ç³», è€Œä¸æ˜¯å¯¹æœªæ¥æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚æˆ‘ä»¬ç§°æ­¤è¿‡ç¨‹ä¸ºç»Ÿè®¡æ¨æ–­ï¼Œè€Œä¸æ˜¯é¢„æµ‹ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­¤æ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼Œè¿™ä¹Ÿå¯èƒ½æ˜¯ä½ æ‰€æƒ³çš„ï¼Œä½†è¯„ä¼°æ¨¡å‹çš„æ–¹æ³•ä¸å†æ˜¯æµ‹è¯•é›†ï¼Œè€Œæ˜¯è¯„ä¼°æ¨¡å‹å‚æ•°çš„æ˜¾è‘—æ€§å’Œå¥å£®æ€§ã€‚</p><p>æœºå™¨å­¦ä¹ ï¼ˆè¿™é‡Œç‰¹æŒ‡æœ‰ç›‘ç£å­¦ä¹ ï¼‰çš„ç›®çš„æ˜¯è·å¾—ä¸€ä¸ªå¯åå¤é¢„æµ‹çš„æ¨¡å‹ã€‚æˆ‘ä»¬é€šå¸¸ä¸å…³å¿ƒæ¨¡å‹æ˜¯å¦å¯ä»¥è§£é‡Šã€‚æœºå™¨å­¦ä¹ åªåœ¨ä¹ç»“æœã€‚å°±å¥½æ¯”å¯¹å…¬å¸è€Œè¨€ï¼Œä½ çš„ä»·å€¼åªç”¨ä½ çš„è¡¨ç°æ¥è¡¡é‡ã€‚è€Œç»Ÿè®¡å»ºæ¨¡æ›´å¤šçš„æ˜¯ä¸ºäº†å¯»æ‰¾å˜é‡ä¹‹é—´çš„å…³ç³»å’Œç¡®å®šå…³ç³»çš„æ˜¾è‘—æ€§ï¼Œæ°å·§è¿åˆäº†é¢„æµ‹ã€‚</p><p>ä¸‹é¢æˆ‘ä¸¾ä¸€ä¸ªè‡ªå·±çš„ä¾‹å­ï¼Œæ¥è¯´æ˜ä¸¤è€…çš„åŒºåˆ«ã€‚æˆ‘æ˜¯ä¸€åç¯å¢ƒç§‘å­¦å®¶ã€‚å·¥ä½œçš„ä¸»è¦å†…å®¹æ˜¯å’Œä¼ æ„Ÿå™¨æ•°æ®æ‰“äº¤é“ã€‚å¦‚æœæˆ‘è¯•å›¾è¯æ˜ä¼ æ„Ÿå™¨èƒ½å¤Ÿå¯¹æŸç§åˆºæ¿€(å¦‚æ°”ä½“æµ“åº¦)åšå‡ºååº”, é‚£ä¹ˆæˆ‘å°†ä½¿ç”¨ç»Ÿè®¡æ¨¡å‹æ¥ç¡®å®šä¿¡å·å“åº”æ˜¯å¦å…·æœ‰ç»Ÿè®¡æ˜¾è‘—æ€§ã€‚æˆ‘ä¼šå°è¯•ç†è§£è¿™ç§å…³ç³»ï¼Œå¹¶æµ‹è¯•å…¶å¯é‡å¤æ€§ï¼Œä»¥ä¾¿èƒ½å¤Ÿå‡†ç¡®åœ°æè¿°ä¼ æ„Ÿå™¨çš„å“åº”ï¼Œå¹¶æ ¹æ®è¿™äº›æ•°æ®åšå‡ºæ¨æ–­ã€‚æˆ‘è¿˜å¯èƒ½æµ‹è¯•ï¼Œå“åº”æ˜¯å¦æ˜¯çº¿æ€§çš„ï¼Ÿå“åº”æ˜¯å¦å½’å› äºæ°”ä½“æµ“åº¦è€Œä¸æ˜¯ä¼ æ„Ÿå™¨ä¸­çš„éšæœºå™ªå£°ï¼Ÿç­‰ç­‰ã€‚</p><p>è€ŒåŒæ—¶ï¼Œæˆ‘ä¹Ÿå¯ä»¥æ‹¿ç€ä»20ä¸ªä¸åŒä¼ æ„Ÿå™¨å¾—åˆ°çš„æ•°æ®, å»å°è¯•é¢„æµ‹ä¸€ä¸ªå¯ç”±ä»–ä»¬è¡¨å¾çš„ä¼ æ„Ÿå™¨çš„å“åº”ã€‚å¦‚æœä½ å¯¹ä¼ æ„Ÿå™¨äº†è§£ä¸å¤šï¼Œè¿™å¯èƒ½ä¼šæ˜¾å¾—æœ‰äº›å¥‡æ€ªï¼Œä½†ç›®å‰è¿™ç¡®å®æ˜¯ç¯å¢ƒç§‘å­¦çš„ä¸€ä¸ªé‡è¦ç ”ç©¶é¢†åŸŸã€‚</p><p>ç”¨ä¸€ä¸ªåŒ…å«20ä¸ªä¸åŒå˜é‡çš„æ¨¡å‹æ¥è¡¨å¾ä¼ æ„Ÿå™¨çš„è¾“å‡ºæ˜¾ç„¶æ˜¯ä¸€ç§é¢„æµ‹ï¼Œè€Œä¸”æˆ‘ä¹Ÿæ²¡æœŸå¾…æ¨¡å‹æ˜¯å¯è§£é‡Šçš„ã€‚è¦çŸ¥é“ï¼Œç”±äºåŒ–å­¦åŠ¨åŠ›å­¦äº§ç”Ÿçš„éçº¿æ€§ä»¥åŠç‰©ç†å˜é‡ä¸æ°”ä½“æµ“åº¦ä¹‹é—´çš„å…³ç³»ç­‰ç­‰å› ç´ ï¼Œå¯èƒ½ä¼šä½¿è¿™ä¸ªæ¨¡å‹éå¸¸æ·±å¥¥ï¼Œå°±åƒç¥ç»ç½‘ç»œé‚£æ ·éš¾ä»¥è§£é‡Šã€‚å°½ç®¡æˆ‘å¸Œæœ›è¿™ä¸ªæ¨¡å‹èƒ½è®©äººçœ‹æ‡‚, ä½†å…¶å®åªè¦å®ƒèƒ½åšå‡ºå‡†ç¡®çš„é¢„æµ‹ï¼Œæˆ‘å°±ç›¸å½“é«˜å…´äº†ã€‚</p><p>å¦‚æœæˆ‘è¯•å›¾è¯æ˜æ•°æ®å˜é‡ä¹‹é—´çš„å…³ç³»åœ¨æŸç§ç¨‹åº¦ä¸Šå…·æœ‰ç»Ÿè®¡æ˜¾è‘—æ€§ï¼Œä»¥ä¾¿æˆ‘å¯ä»¥åœ¨ç§‘å­¦è®ºæ–‡ä¸­å‘è¡¨ï¼Œæˆ‘å°†ä½¿ç”¨ç»Ÿè®¡æ¨¡å‹è€Œä¸æ˜¯æœºå™¨å­¦ä¹ ã€‚è¿™æ˜¯å› ä¸ºæˆ‘æ›´å…³å¿ƒå˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œè€Œä¸æ˜¯åšå‡ºé¢„æµ‹ã€‚åšå‡ºé¢„æµ‹å¯èƒ½ä»ç„¶å¾ˆé‡è¦ï¼Œä½†æ˜¯å¤§å¤šæ•°æœºå™¨å­¦ä¹ ç®—æ³•ç¼ºä¹å¯è§£é‡Šæ€§ï¼Œè¿™ä½¿å¾—å¾ˆéš¾è¯æ˜æ•°æ®ä¸­å­˜åœ¨çš„å…³ç³»ã€‚</p><p><img src="/src/640-165778097574555.jpeg" alt="å›¾ç‰‡"></p><p>å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸¤ç§æ–¹æ³•åœ¨ç›®æ ‡ä¸Šæ˜¯ä¸åŒçš„ï¼Œå°½ç®¡ä½¿ç”¨äº†ç›¸ä¼¼çš„æ–¹æ³•æ¥è¾¾åˆ°ç›®æ ‡ã€‚æœºå™¨å­¦ä¹ ç®—æ³•çš„è¯„ä¼°ä½¿ç”¨æµ‹è¯•é›†æ¥éªŒè¯å…¶å‡†ç¡®æ€§ã€‚ç„¶è€Œï¼Œå¯¹äºç»Ÿè®¡æ¨¡å‹ï¼Œé€šè¿‡ç½®ä¿¡åŒºé—´ã€æ˜¾è‘—æ€§æ£€éªŒå’Œå…¶ä»–æ£€éªŒå¯¹å›å½’å‚æ•°è¿›è¡Œåˆ†æï¼Œå¯ä»¥ç”¨æ¥è¯„ä¼°æ¨¡å‹çš„åˆæ³•æ€§ã€‚å› ä¸ºè¿™äº›æ–¹æ³•äº§ç”Ÿç›¸åŒçš„ç»“æœï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“ç†è§£ä¸ºä»€ä¹ˆäººä»¬ä¼šå‡è®¾å®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚</p><h2 id="ç»Ÿè®¡ä¸æœºå™¨å­¦ä¹ åœ¨çº¿æ€§å›å½’ä¸Šçš„å·®å¼‚"><a href="#ç»Ÿè®¡ä¸æœºå™¨å­¦ä¹ åœ¨çº¿æ€§å›å½’ä¸Šçš„å·®å¼‚" class="headerlink" title="ç»Ÿè®¡ä¸æœºå™¨å­¦ä¹ åœ¨çº¿æ€§å›å½’ä¸Šçš„å·®å¼‚"></a><strong>ç»Ÿè®¡ä¸æœºå™¨å­¦ä¹ åœ¨çº¿æ€§å›å½’ä¸Šçš„å·®å¼‚</strong></h2><p>æœ‰ä¸€ä¸ªè¯¯è§£å­˜åœ¨äº†10å¹´ï¼šä»…åŸºäºå®ƒä»¬éƒ½åˆ©ç”¨ç›¸åŒçš„åŸºæœ¬æ¦‚ç‡æ¦‚å¿µè¿™ä¸€äº‹å®ï¼Œæ¥æ··æ·†è¿™ä¸¤ä¸ªæœ¯è¯­æ˜¯ä¸åˆç†çš„ã€‚</p><p><img src="/src/640-165778097574556.jpeg" alt="å›¾ç‰‡"></p><p>ç„¶è€Œï¼Œä»…ä»…åŸºäºè¿™ä¸¤ä¸ªæœ¯è¯­éƒ½åˆ©ç”¨äº†æ¦‚ç‡é‡Œç›¸åŒçš„åŸºæœ¬æ¦‚å¿µè¿™ä¸€äº‹å®è€Œå°†ä»–ä»¬æ··ä¸ºä¸€è°ˆæ˜¯ä¸åˆç†çš„ã€‚å°±å¥½æ¯”ï¼Œå¦‚æœæˆ‘ä»¬ä»…ä»…æŠŠæœºå™¨å­¦ä¹ å½“ä½œæŠ«äº†ä¸€å±‚å…‰é²œå¤–è¡£çš„ç»Ÿè®¡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·è¯´ï¼š</p><ul><li>ç‰©ç†åªæ˜¯æ•°å­¦çš„ä¸€ç§æ›´å¥½å¬çš„è¯´æ³•ã€‚</li><li>åŠ¨ç‰©å­¦åªæ˜¯é‚®ç¥¨æ”¶è—çš„ä¸€ç§æ›´å¥½å¬çš„è¯´æ³•ã€‚</li><li>å»ºç­‘å­¦åªæ˜¯æ²™å ¡å»ºç­‘çš„ä¸€ç§æ›´å¥½å¬çš„è¯´æ³•ã€‚</li></ul><p>è¿™äº›è¯´æ³•ï¼ˆå°¤å…¶æ˜¯æœ€åä¸€ä¸ªï¼‰éå¸¸è’è°¬ï¼Œå®Œå…¨æ··æ·†äº†ä¸¤ä¸ªç±»ä¼¼æƒ³æ³•çš„æœ¯è¯­ã€‚</p><p>å®é™…ä¸Šï¼Œç‰©ç†æ˜¯å»ºç«‹åœ¨æ•°å­¦åŸºç¡€ä¸Šçš„ï¼Œç†è§£ç°å®ä¸­çš„ç‰©ç†ç°è±¡æ˜¯æ•°å­¦çš„åº”ç”¨ã€‚ç‰©ç†å­¦è¿˜åŒ…æ‹¬ç»Ÿè®¡å­¦çš„å„ä¸ªæ–¹é¢ï¼Œè€Œç°ä»£ç»Ÿè®¡å­¦é€šå¸¸æ˜¯å»ºç«‹åœ¨Zermelo-Frankelé›†åˆè®ºä¸æµ‹é‡ç†è®ºç›¸ç»“åˆçš„æ¡†æ¶ä¸­ï¼Œä»¥äº§ç”Ÿæ¦‚ç‡ç©ºé—´ã€‚å®ƒä»¬æœ‰å¾ˆå¤šå…±åŒç‚¹ï¼Œå› ä¸ºå®ƒä»¬æ¥è‡ªç›¸ä¼¼çš„èµ·æºï¼Œå¹¶è¿ç”¨ç›¸ä¼¼çš„æ€æƒ³å¾—å‡ºä¸€ä¸ªé€»è¾‘ç»“è®ºã€‚åŒæ ·ï¼Œå»ºç­‘å­¦å’Œæ²™å ¡å»ºç­‘å¯èƒ½æœ‰å¾ˆå¤šå…±åŒç‚¹ï¼Œä½†å³ä½¿æˆ‘ä¸æ˜¯ä¸€ä¸ªå»ºç­‘å¸ˆï¼Œä¹Ÿä¸èƒ½ç»™å‡ºä¸€ä¸ªæ¸…æ™°çš„è§£é‡Šï¼Œä½†ä¹Ÿçœ‹å¾—å‡ºå®ƒä»¬æ˜¾ç„¶ä¸ä¸€æ ·ã€‚</p><p>åœ¨æˆ‘ä»¬è¿›ä¸€æ­¥è®¨è®ºä¹‹å‰ï¼Œéœ€è¦ç®€è¦æ¾„æ¸…å¦å¤–ä¸¤ä¸ªä¸æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡æœ‰å…³çš„å¸¸è§è¯¯è§£ã€‚è¿™å°±æ˜¯äººå·¥æ™ºèƒ½ä¸åŒäºæœºå™¨å­¦ä¹ ï¼Œæ•°æ®ç§‘å­¦ä¸åŒäºç»Ÿè®¡å­¦ã€‚è¿™äº›éƒ½æ˜¯æ²¡æœ‰äº‰è®®çš„é—®é¢˜ï¼Œæ‰€ä»¥å¾ˆå¿«å°±èƒ½è¯´æ¸…æ¥šã€‚</p><p>æ•°æ®ç§‘å­¦æœ¬è´¨ä¸Šæ˜¯åº”ç”¨äºæ•°æ®çš„è®¡ç®—å’Œç»Ÿè®¡æ–¹æ³•ï¼ŒåŒ…æ‹¬å°æ•°æ®é›†æˆ–å¤§æ•°æ®é›†ã€‚å®ƒä¹ŸåŒ…æ‹¬è¯¸å¦‚æ¢ç´¢æ€§æ•°æ®åˆ†æä¹‹ç±»çš„ä¸œè¥¿ï¼Œä¾‹å¦‚å¯¹æ•°æ®è¿›è¡Œæ£€æŸ¥å’Œå¯è§†åŒ–ï¼Œä»¥å¸®åŠ©ç§‘å­¦å®¶æ›´å¥½åœ°ç†è§£æ•°æ®ï¼Œå¹¶ä»ä¸­åšå‡ºæ¨è®ºã€‚æ•°æ®ç§‘å­¦è¿˜åŒ…æ‹¬è¯¸å¦‚æ•°æ®åŒ…è£…å’Œé¢„å¤„ç†ä¹‹ç±»çš„ä¸œè¥¿ï¼Œå› æ­¤æ¶‰åŠåˆ°ä¸€å®šç¨‹åº¦çš„è®¡ç®—æœºç§‘å­¦ï¼Œå› ä¸ºå®ƒæ¶‰åŠç¼–ç å’Œå»ºç«‹æ•°æ®åº“ã€WebæœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥å’Œæµæ°´çº¿ç­‰ç­‰ã€‚</p><p>è¦è¿›è¡Œç»Ÿè®¡ï¼Œä½ å¹¶ä¸ä¸€å®šå¾—ä¾é ç”µè„‘ï¼Œä½†å¦‚æœæ˜¯æ•°æ®ç§‘å­¦ç¼ºäº†ç”µè„‘å°±æ²¡æ³•æ“ä½œäº†ã€‚è¿™å°±å†æ¬¡è¯´æ˜äº†è™½ç„¶æ•°æ®ç§‘å­¦å€ŸåŠ©ç»Ÿè®¡å­¦ï¼Œè¿™ä¸¤è€…ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚</p><p>åŒç†ï¼Œæœºå™¨å­¦ä¹ ä¹Ÿå¹¶éäººå·¥æ™ºèƒ½ï¼›äº‹å®ä¸Šï¼Œæœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªåˆ†æ”¯ã€‚è¿™ä¸€ç‚¹æŒºæ˜æ˜¾çš„ï¼Œå› ä¸ºæˆ‘ä»¬åŸºäºä»¥å¾€çš„æ•°æ®â€œæ•™â€ï¼ˆè®­ç»ƒï¼‰æœºå™¨å¯¹ç‰¹å®šç±»å‹çš„æ•°æ®è¿›è¡Œæ¦‚æ‹¬æ€§çš„é¢„æµ‹ã€‚</p><h2 id="æœºå™¨å­¦ä¹ æ˜¯åŸºäºç»Ÿè®¡å­¦"><a href="#æœºå™¨å­¦ä¹ æ˜¯åŸºäºç»Ÿè®¡å­¦" class="headerlink" title="æœºå™¨å­¦ä¹ æ˜¯åŸºäºç»Ÿè®¡å­¦"></a><strong>æœºå™¨å­¦ä¹ æ˜¯åŸºäºç»Ÿè®¡å­¦</strong></h2><p>åœ¨æˆ‘ä»¬è®¨è®ºç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ ä¹‹é—´çš„åŒºåˆ«å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è¯´è¯´å…¶ç›¸ä¼¼æ€§ï¼Œå…¶å®æ–‡ç« çš„å‰åŠæ®µå·²ç»å¯¹æ­¤æœ‰è¿‡ä¸€äº›æ¢è®¨äº†ã€‚</p><p>æœºå™¨å­¦ä¹ åŸºäºç»Ÿè®¡çš„æ¡†æ¶ï¼Œå› ä¸ºæœºå™¨å­¦ä¹ æ¶‰åŠæ•°æ®ï¼Œè€Œæ•°æ®å¿…é¡»åŸºäºç»Ÿè®¡å­¦æ¡†æ¶æ¥è¿›è¡Œæè¿°ï¼Œæ‰€ä»¥è¿™ç‚¹ååˆ†æ˜æ˜¾ã€‚ç„¶è€Œï¼Œæ‰©å±•è‡³é’ˆå¯¹å¤§é‡ç²’å­çš„çƒ­åŠ›å­¦çš„ç»Ÿè®¡æœºåˆ¶ï¼ŒåŒæ ·ä¹Ÿå»ºç«‹åœ¨ç»Ÿè®¡å­¦æ¡†æ¶ä¹‹ä¸‹ã€‚</p><p>å‹åŠ›çš„æ¦‚å¿µå…¶å®æ˜¯æ•°æ®ï¼Œæ¸©åº¦ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ã€‚ä½ å¯èƒ½è§‰å¾—è¿™å¬èµ·æ¥ä¸åˆç†ï¼Œä½†è¿™æ˜¯çœŸçš„ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ ä¸èƒ½æè¿°ä¸€ä¸ªåˆ†å­çš„æ¸©åº¦æˆ–å‹åŠ›ï¼Œè¿™ä¸åˆç†ã€‚æ¸©åº¦æ˜¯åˆ†å­ç›¸æ’äº§ç”Ÿçš„å¹³å‡èƒ½é‡çš„æ˜¾ç¤ºã€‚è€Œä¾‹å¦‚æˆ¿å±‹æˆ–å®¤å¤–è¿™ç§æ‹¥æœ‰å¤§é‡åˆ†å­çš„ï¼Œæˆ‘ä»¬èƒ½ç”¨æ¸©åº¦æ¥æè¿°ä¹Ÿå°±åˆç†äº†ã€‚</p><p>ä½ ä¼šè®¤ä¸ºçƒ­åŠ›å­¦å’Œç»Ÿè®¡å­¦æ˜¯ä¸€ä¸ªä¸œè¥¿å—ï¼Ÿå½“ç„¶ä¸ä¼šï¼Œçƒ­åŠ›å­¦å€ŸåŠ©ç»Ÿè®¡å­¦æ¥å¸®åŠ©æˆ‘ä»¬ç†è§£è¿åŠ¨çš„ç›¸äº’ä½œç”¨ä»¥åŠè½¬ç§»ç°è±¡ä¸­äº§ç”Ÿçš„çƒ­ã€‚</p><p>äº‹å®ä¸Šï¼Œçƒ­åŠ›å­¦åŸºäºå¤šç§å­¦ç§‘è€Œéä»…ä»…ç»Ÿè®¡å­¦ã€‚ç±»ä¼¼åœ°ï¼Œæœºå™¨å­¦ä¹ åŸºäºè®¸å¤šå…¶ä»–é¢†åŸŸçš„å†…å®¹ï¼Œæ¯”å¦‚æ•°å­¦å’Œè®¡ç®—æœºç§‘å­¦ã€‚ä¸¾ä¾‹æ¥è¯´ï¼š</p><ul><li>æœºå™¨å­¦ä¹ çš„ç†è®ºæ¥æºäºæ•°å­¦å’Œç»Ÿè®¡å­¦ï¼›</li><li>æœºå™¨å­¦ä¹ ç®—æ³•åŸºäºä¼˜åŒ–ç†è®ºã€çŸ©é˜µä»£æ•°å’Œå¾®ç§¯åˆ†ï¼›</li><li>æœºå™¨å­¦ä¹ çš„å®ç°æ¥æºäºè®¡ç®—æœºç§‘å­¦å’Œå·¥ç¨‹å­¦æ¦‚å¿µï¼Œæ¯”å¦‚æ ¸æ˜ å°„ã€ç‰¹å¾æ•£åˆ—ç­‰ã€‚</li></ul><p>å½“ä¸€ä¸ªäººå¼€å§‹ç”¨Pythonå¼€å§‹ç¼–ç¨‹ï¼Œçªç„¶ä»Sklearnç¨‹åºåº“é‡Œæ‰¾å‡ºå¹¶ä½¿ç”¨è¿™äº›ç®—æ³•ï¼Œè®¸å¤šä¸Šè¿°çš„æ¦‚å¿µéƒ½æ¯”è¾ƒæŠ½è±¡ï¼Œå› æ­¤å¾ˆéš¾çœ‹å‡ºå…¶ä¸­çš„åŒºåˆ«ã€‚è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œè¿™ç§æŠ½è±¡å®šä¹‰ä¹Ÿå°±è‡´ä½¿äº†å¯¹æœºå™¨å­¦ä¹ çœŸæ­£åŒ…å«çš„å†…å®¹ä¸€å®šç¨‹åº¦ä¸Šçš„æ— çŸ¥ã€‚</p><h2 id="ç»Ÿè®¡å­¦ä¹ ç†è®ºâ€”â€”æœºå™¨å­¦ä¹ çš„ç»Ÿè®¡å­¦åŸºç¡€"><a href="#ç»Ÿè®¡å­¦ä¹ ç†è®ºâ€”â€”æœºå™¨å­¦ä¹ çš„ç»Ÿè®¡å­¦åŸºç¡€" class="headerlink" title="ç»Ÿè®¡å­¦ä¹ ç†è®ºâ€”â€”æœºå™¨å­¦ä¹ çš„ç»Ÿè®¡å­¦åŸºç¡€"></a><strong>ç»Ÿè®¡å­¦ä¹ ç†è®ºâ€”â€”æœºå™¨å­¦ä¹ çš„ç»Ÿè®¡å­¦åŸºç¡€</strong></h2><p>ç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ ä¹‹é—´æœ€ä¸»è¦çš„åŒºåˆ«åœ¨äºç»Ÿè®¡å­¦å®Œå…¨åŸºäºæ¦‚ç‡ç©ºé—´ã€‚ä½ å¯ä»¥ä»é›†åˆè®ºä¸­æ¨å¯¼å‡ºå…¨éƒ¨çš„ç»Ÿè®¡å­¦å†…å®¹ï¼Œé›†åˆè®ºè®¨è®ºäº†æˆ‘ä»¬å¦‚ä½•å°†æ•°æ®å½’ç±»ï¼ˆè¿™äº›ç±»è¢«ç§°ä¸ºâ€œé›†â€ï¼‰ï¼Œç„¶åå¯¹è¿™ä¸ªé›†è¿›è¡ŒæŸç§æµ‹é‡ä¿è¯å…¶æ€»å’Œä¸º1.æˆ‘ä»¬å°†è¿™ç§æ–¹æ³•æˆä¸ºæ¦‚ç‡ç©ºé—´ã€‚</p><p>ç»Ÿè®¡å­¦é™¤äº†å¯¹è¿™äº›é›†åˆå’Œæµ‹é‡æœ‰æ‰€å®šä¹‰ä¹‹å¤–æ²¡æœ‰å…¶ä»–å‡è®¾ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯¹æ¦‚ç‡ç©ºé—´çš„å®šä¹‰éå¸¸ä¸¥è°¨çš„åŸå› ã€‚ä¸€ä¸ªæ¦‚ç‡ç©ºé—´ï¼Œå…¶æ•°å­¦ç¬¦å·å†™ä½œ(Î©,F,P)ï¼ŒåŒ…å«ä¸‰éƒ¨åˆ†ï¼š</p><ul><li>ä¸€ä¸ªæ ·æœ¬ç©ºé—´ï¼ŒÎ©ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰å¯èƒ½ç»“æœçš„é›†åˆã€‚</li><li>ä¸€ä¸ªäº‹ä»¶é›†åˆï¼ŒFï¼Œæ¯ä¸ªäº‹ä»¶éƒ½åŒ…å«0æˆ–è€…å…¶å®ƒå€¼ã€‚</li><li>å¯¹æ¯ä¸ªäº‹ä»¶å‘ç”Ÿçš„å¯èƒ½æ€§èµ‹äºˆæ¦‚ç‡ï¼ŒPï¼Œè¿™æ˜¯ä¸€ä¸ªä»äº‹ä»¶åˆ°æ¦‚ç‡çš„å‡½æ•°ã€‚</li></ul><p>æœºå™¨å­¦ä¹ åŸºäºç»Ÿè®¡å­¦ä¹ ç†è®ºï¼Œç»Ÿè®¡å­¦ä¹ ç†è®ºä¹Ÿä¾æ—§åŸºäºå¯¹æ¦‚ç‡ç©ºé—´çš„å…¬ç†åŒ–è¯­è¨€ã€‚è¿™ä¸ªç†è®ºåŸºäºä¼ ç»Ÿçš„ç»Ÿè®¡å­¦ç†è®ºï¼Œå¹¶å‘å±•äº19ä¸–çºª60å¹´ä»£ã€‚</p><p>æœºå™¨å­¦ä¹ åˆ†ä¸ºå¤šä¸ªç±»åˆ«ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä»…ç€çœ¼äºç›‘ç£å­¦ä¹ ç†è®ºï¼Œå› ä¸ºå®ƒæœ€å®¹æ˜“è§£é‡Šï¼ˆè™½ç„¶å› å…¶å……æ–¥æ•°å­¦æ¦‚å¿µä¾ç„¶æ˜¾å¾—æ™¦æ¶©éš¾æ‡‚ï¼‰ã€‚</p><p>ç»Ÿè®¡å­¦ä¹ ç†è®ºä¸­çš„ç›‘ç£å­¦ä¹ ï¼Œç»™äº†æˆ‘ä»¬ä¸€ä¸ªæ•°æ®é›†ï¼Œæˆ‘ä»¬å°†å…¶æ ‡ä¸ºS&#x3D; {(xáµ¢,yáµ¢)}ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«Nä¸ªæ•°æ®ç‚¹çš„æ•°æ®é›†ï¼Œæ¯ä¸ªæ•°æ®ç‚¹ç”±è¢«ç§°ä¸ºâ€œç‰¹å¾â€çš„å…¶å®ƒå€¼æè¿°ï¼Œè¿™äº›ç‰¹å¾ç”¨xæè¿°ï¼Œè¿™äº›ç‰¹å¾é€šè¿‡ç‰¹å®šå‡½æ•°æ¥æç»˜ä»¥è¿”å›æˆ‘ä»¬æƒ³è¦çš„yå€¼ã€‚</p><p>å·²çŸ¥è¿™ä¸ªæ•°æ®é›†ï¼Œé—®å¦‚ä½•æ‰¾åˆ°å°†xå€¼æ˜ å°„åˆ°yå€¼çš„å‡½æ•°ã€‚æˆ‘ä»¬å°†æ‰€æœ‰å¯èƒ½çš„æè¿°æ˜ å°„è¿‡ç¨‹çš„å‡½æ•°é›†åˆç§°ä¸ºå‡è®¾ç©ºé—´ã€‚</p><p>ä¸ºäº†æ‰¾åˆ°è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦ç»™ç®—æ³•ä¸€äº›æ–¹æ³•æ¥â€œå­¦ä¹ â€å¦‚ä½•æœ€å¥½åœ°ç€æ‰‹å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œè€Œè¿™ç”±ä¸€ä¸ªè¢«ç§°ä¸ºâ€œæŸå¤±å‡½æ•°â€çš„æ¦‚å¿µæ¥æä¾›ã€‚å› æ­¤ï¼Œå¯¹æˆ‘ä»¬æ‰€æœ‰çš„æ¯ä¸ªå‡è®¾ï¼ˆä¹Ÿå³æè®®çš„å‡½æ•°ï¼‰ï¼Œæˆ‘ä»¬è¦é€šè¿‡æ¯”è¾ƒæ‰€æœ‰æ•°æ®ä¸‹å…¶é¢„æœŸé£é™©çš„å€¼æ¥è¡¡é‡è¿™ä¸ªå‡½æ•°çš„è¡¨ç°ã€‚</p><p>é¢„æœŸé£é™©æœ¬è´¨ä¸Šå°±æ˜¯æŸå¤±å‡½æ•°ä¹‹å’Œä¹˜ä»¥æ•°æ®çš„æ¦‚ç‡åˆ†å¸ƒã€‚å¦‚æœæˆ‘ä»¬çŸ¥é“è¿™ä¸ªæ˜ å°„çš„è”åˆæ¦‚ç‡åˆ†å¸ƒï¼Œæ‰¾åˆ°æœ€ä¼˜å‡½æ•°å°±å¾ˆç®€å•äº†ã€‚ä½†æ˜¯è¿™ä¸ªè”åˆæ¦‚ç‡åˆ†å¸ƒé€šå¸¸æ˜¯æœªçŸ¥çš„ï¼Œå› æ­¤æˆ‘ä»¬æœ€å¥½çš„æ–¹å¼å°±æ˜¯çŒœæµ‹ä¸€ä¸ªæœ€ä¼˜å‡½æ•°ï¼Œå†å®è¯éªŒè¯æŸå¤±å‡½æ•°æ˜¯å¦å¾—åˆ°ä¼˜åŒ–ã€‚æˆ‘ä»¬å°†è¿™ç§ç§°ä¸ºå®è¯é£é™©ã€‚</p><p>ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¯”è¾ƒä¸åŒå‡½æ•°ï¼Œæ‰¾å‡ºæœ€å°é¢„æœŸé£é™©çš„é‚£ä¸ªå‡è®¾ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰å‡½æ•°ä¸­å¾—å‡ºæœ€å°ä¸‹ç¡®ç•Œå€¼çš„é‚£ä¸ªå‡è®¾ã€‚</p><p>ç„¶è€Œï¼Œä¸ºäº†æœ€å°åŒ–æŸå¤±å‡½æ•°ï¼Œç®—æ³•æœ‰é€šè¿‡è¿‡åº¦æ‹Ÿåˆæ¥ä½œå¼Šçš„å€¾å‘ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦é€šè¿‡è®­ç»ƒé›†â€œå­¦ä¹ â€å‡½æ•°ï¼Œä¹‹ååœ¨è®­ç»ƒé›†ä¹‹å¤–çš„æ•°æ®é›†ï¼Œæµ‹è¯•é›†é‡Œå¯¹å‡½æ•°è¿›è¡ŒéªŒè¯ã€‚</p><p>æˆ‘ä»¬å¦‚ä½•å®šä¹‰æœºå™¨å­¦ä¹ çš„æœ¬è´¨å¼•å‡ºäº†è¿‡åº¦æ‹Ÿåˆçš„é—®é¢˜ï¼Œä¹Ÿå¯¹éœ€è¦åŒºåˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä½œå‡ºäº†è§£é‡Šã€‚è€Œæˆ‘ä»¬åœ¨ç»Ÿè®¡å­¦ä¸­æ— éœ€è¯•å›¾æœ€å°åŒ–å®è¯é£é™©ï¼Œè¿‡åº¦æ‹Ÿåˆä¸æ˜¯ç»Ÿè®¡å­¦çš„å›ºæœ‰ç‰¹å¾ã€‚æœ€å°åŒ–ç»Ÿè®¡å­¦ä¸­æ— éœ€è§†å›¾ç¨‹å‘äºä¸€ä¸ªä»å‡½æ•°ä¸­é€‰å–æœ€å°åŒ–å®è¯é£é™©çš„å­¦ä¹ ç®—æ³•è¢«ç§°ä¸ºå®è¯é£é™©æœ€å°åŒ–ã€‚</p><h2 id="ä¾‹è¯"><a href="#ä¾‹è¯" class="headerlink" title="ä¾‹è¯"></a><strong>ä¾‹è¯</strong></h2><p>ä»¥çº¿æ€§å›å½’åšä¸€ä¸ªç®€å•ä¾‹å­ã€‚åœ¨ä¼ ç»Ÿæ¦‚å¿µä¸­ï¼Œæˆ‘ä»¬è¯•å›¾æœ€å°åŒ–æ•°æ®ä¸­çš„è¯¯å·®æ‰¾åˆ°èƒ½å¤Ÿæè¿°æ•°æ®çš„å‡½æ•°ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å‡å€¼æ–¹å·®ã€‚ä½¿ç”¨å¹³æ–¹æ•°æ˜¯ä¸ºäº†ä¸è®©æ­£å€¼å’Œè´Ÿå€¼äº’ç›¸æŠµæ¶ˆã€‚ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é—­åˆè¡¨è¾¾å¼æ¥æ±‚å‡ºå›å½’ç³»æ•°ã€‚</p><p>å¦‚æœæˆ‘ä»¬å°†æŸå¤±å‡½æ•°è®¡ä¸ºå‡å€¼æ–¹å·®ï¼Œå¹¶åŸºäºç»Ÿè®¡å­¦ä¹ ç†è®ºè¿›è¡Œæœ€å°åŒ–å®è¯é£é™©ï¼Œç¢°å·§å°±èƒ½å¾—åˆ°ä¼ ç»Ÿçº¿æ€§å›å½’åˆ†æåŒæ ·çš„ç»“æœã€‚</p><p>è¿™ä¸ªå·§åˆæ˜¯å› ä¸ºä¸¤ä¸ªæƒ…å†µæ˜¯ç›¸åŒçš„ï¼Œå¯¹åŒæ ·çš„æ•°æ®ä»¥ç›¸åŒçš„æ–¹å¼æ±‚è§£æœ€å¤§æ¦‚ç‡è‡ªç„¶ä¼šå¾—å‡ºç›¸åŒçš„ç»“æœã€‚æœ€å¤§åŒ–æ¦‚ç‡æœ‰ä¸åŒçš„æ–¹æ³•æ¥å®ç°åŒæ ·çš„ç›®æ ‡ï¼Œä½†æ²¡äººä¼šå»äº‰è®ºè¯´æœ€å¤§åŒ–æ¦‚ç‡ä¸çº¿æ€§å›å½’æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚è¿™ä¸ªæœ€ç®€å•çš„ä¾‹å­æ˜¾ç„¶æ²¡èƒ½åŒºåˆ†å¼€è¿™äº›æ–¹æ³•ã€‚</p><p>è¿™é‡Œè¦æŒ‡å‡ºçš„ç¬¬äºŒç‚¹åœ¨äºï¼Œä¼ ç»Ÿçš„ç»Ÿè®¡æ–¹æ³•ä¸­æ²¡æœ‰è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„æ¦‚å¿µï¼Œä½†æˆ‘ä»¬ä¼šä½¿ç”¨ä¸åŒçš„æŒ‡æ ‡æ¥å¸®åŠ©éªŒè¯æ¨¡å‹ã€‚éªŒè¯è¿‡ç¨‹è™½ç„¶ä¸åŒï¼Œä½†ä¸¤ç§æ–¹æ³•éƒ½èƒ½å¤Ÿç»™æˆ‘ä»¬ç»Ÿè®¡ç¨³å¥çš„ç»“æœã€‚</p><p>å¦å¤–è¦æŒ‡å‡ºçš„ä¸€ç‚¹åœ¨äºï¼Œä¼ ç»Ÿç»Ÿè®¡æ–¹æ³•ç»™äº†æˆ‘ä»¬ä¸€ä¸ªé—­åˆå½¢å¼ä¸‹çš„æœ€ä¼˜è§£ï¼Œå®ƒæ²¡æœ‰å¯¹å…¶å®ƒå¯èƒ½çš„å‡½æ•°è¿›è¡Œæµ‹è¯•æ¥æ”¶æ•›å‡ºä¸€ä¸ªç»“æœã€‚ç›¸å¯¹çš„ï¼Œæœºå™¨å­¦ä¹ æ–¹æ³•å°è¯•äº†ä¸€æ‰¹ä¸åŒçš„æ¨¡å‹ï¼Œæœ€åç»“åˆå›å½’ç®—æ³•çš„ç»“æœï¼Œæ”¶æ•›å‡ºä¸€ä¸ªæœ€ç»ˆçš„å‡è®¾ã€‚</p><p>å¦‚æœæˆ‘ä»¬ç”¨ä¸€ä¸ªä¸åŒçš„æŸå¤±å‡½æ•°ï¼Œç»“æœå¯èƒ½å¹¶ä¸æ”¶æ•›ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬ç”¨äº†é“°é“¾æŸå¤±ï¼ˆä½¿ç”¨æ ‡å‡†æ¢¯åº¦ä¸‹é™æ—¶ä¸å¤ªå¥½åŒºåˆ†ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ç±»ä¼¼è¿‘æ¢¯åº¦ä¸‹é™ç­‰å…¶å®ƒæ–¹æ³•ï¼‰ï¼Œé‚£ä¹ˆç»“æœå°±ä¸ä¼šç›¸åŒäº†ã€‚</p><p>æœ€åå¯ä»¥å¯¹æ¨¡å‹åå·®è¿›è¡ŒåŒºåˆ†ã€‚ä½ å¯ä»¥ç”¨æœºå™¨å­¦ä¹ ç®—æ³•æ¥æµ‹è¯•çº¿æ€§æ¨¡å‹ä»¥åŠå¤šé¡¹å¼æ¨¡å‹ï¼ŒæŒ‡æ•°æ¨¡å‹ç­‰ï¼Œæ¥æ£€éªŒè¿™äº›å‡è®¾æ˜¯å¦ç›¸å¯¹æˆ‘ä»¬çš„å…ˆéªŒæŸå¤±å‡½æ•°å¯¹æ•°æ®é›†ç»™å‡ºæ›´å¥½çš„æ‹Ÿåˆåº¦ã€‚åœ¨ä¼ ç»Ÿç»Ÿè®¡å­¦æ¦‚å¿µä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªæ¨¡å‹ï¼Œè¯„ä¼°å…¶å‡†ç¡®æ€§ï¼Œä½†æ— æ³•è‡ªåŠ¨ä»100ä¸ªä¸åŒçš„æ¨¡å‹ä¸­æ‘˜å‡ºæœ€ä¼˜çš„é‚£ä¸ªã€‚æ˜¾ç„¶ï¼Œç”±äºæœ€å¼€å§‹é€‰æ‹©çš„ç®—æ³•ä¸åŒï¼Œæ‰¾å‡ºçš„æ¨¡å‹æ€»ä¼šå­˜åœ¨ä¸€äº›åè¯¯ã€‚é€‰æ‹©ç®—æ³•æ˜¯éå¸¸å¿…è¦çš„ï¼Œå› ä¸ºä¸ºæ•°æ®é›†æ‰¾å‡ºæœ€ä¼˜çš„æ–¹ç¨‹æ˜¯ä¸€ä¸ªNP-hardé—®é¢˜ã€‚</p><h2 id="é‚£ä¹ˆå“ªä¸ªæ–¹æ³•æ›´ä¼˜å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆå“ªä¸ªæ–¹æ³•æ›´ä¼˜å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆå“ªä¸ªæ–¹æ³•æ›´ä¼˜å‘¢ï¼Ÿ"></a><strong>é‚£ä¹ˆå“ªä¸ªæ–¹æ³•æ›´ä¼˜å‘¢ï¼Ÿ</strong></h2><p>è¿™ä¸ªé—®é¢˜å…¶å®å¾ˆè ¢ã€‚æ²¡æœ‰ç»Ÿè®¡å­¦ï¼Œæœºå™¨å­¦ä¹ æ ¹æœ¬æ²¡æ³•å­˜åœ¨ï¼Œä½†ç”±äºå½“ä»£ä¿¡æ¯çˆ†ç‚¸ï¼Œäººç±»èƒ½æ¥è§¦åˆ°çš„å¤§é‡æ•°æ®ï¼Œæœºå™¨å­¦ä¹ æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p><p>å¯¹æ¯”æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡æ¨¡å‹è¿˜è¦æ›´éš¾ä¸€äº›ï¼Œä½ éœ€è¦è§†ä¹ä½ çš„ç›®æ ‡è€Œå®šç©¶ç«Ÿé€‰æ‹©å“ªç§ã€‚å¦‚æœä½ åªæ˜¯æƒ³è¦åˆ›å»ºä¸€ä¸ªé«˜åº¦å‡†ç¡®çš„é¢„æµ‹æˆ¿ä»·çš„ç®—æ³•ï¼Œæˆ–è€…ä»æ•°æ®ä¸­æ‰¾å‡ºå“ªç±»äººæ›´å®¹æ˜“å¾—æŸç§ç–¾ç—…ï¼Œæœºå™¨å­¦ä¹ å¯èƒ½æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å¦‚æœä½ å¸Œæœ›æ‰¾å‡ºå˜é‡ä¹‹é—´çš„å…³ç³»æˆ–ä»æ•°æ®ä¸­å¾—å‡ºæ¨è®ºï¼Œé€‰æ‹©ç»Ÿè®¡æ¨¡å‹ä¼šæ›´å¥½ã€‚</p><p><img src="/src/640-165778097574557.jpeg" alt="å›¾ç‰‡"></p><blockquote><p>å›¾ä¸­æ–‡å­—ï¼š</p><p>è¿™æ˜¯ä½ çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿï¼Ÿ</p><p>å¯¹çš„ï¼Œä½ ä»è¿™å¤´æŠŠæ•°æ®éƒ½å€’è¿›è¿™ä¸€å¤§å †æˆ–è€…çº¿æ€§ä»£æ•°é‡Œï¼Œç„¶åä»é‚£å¤´é‡Œæ‹¿ç­”æ¡ˆå°±å¥½äº†ã€‚</p><p>ç­”æ¡ˆé”™äº†å’‹æ•´ï¼Ÿ</p><p>é‚£å°±æ…æ…ï¼Œæ…åˆ°çœ‹èµ·æ¥å¯¹äº†ä¸ºæ­¢ã€‚</p></blockquote><p>å¦‚æœä½ ç»Ÿè®¡å­¦åŸºç¡€ä¸å¤Ÿæ‰å®ï¼Œä½ ä¾ç„¶å¯ä»¥å­¦ä¹ æœºå™¨å­¦ä¹ å¹¶ä½¿ç”¨å®ƒâ€”â€”æœºå™¨å­¦ä¹ ç¨‹åºåº“é‡Œçš„æŠ½è±¡æ¦‚å¿µèƒ½å¤Ÿè®©ä½ ä»¥ä¸šä½™è€…çš„èº«ä»½æ¥è½»æ¾ä½¿ç”¨å®ƒä»¬ï¼Œä½†ä½ è¿˜æ˜¯å¾—å¯¹ç»Ÿè®¡æ¦‚å¿µæœ‰æ‰€äº†è§£ï¼Œä»è€Œé¿å…æ¨¡å‹è¿‡åº¦æ‹Ÿåˆæˆ–å¾—å‡ºäº›è²Œä¼¼åˆç†çš„æ¨è®ºã€‚ï¿½ï¿½çš„æ¨è®ºã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learning Foundationâ€”â€”çº¿æ€§ä»£æ•°</title>
    <link href="/2022/08/01/MachineLearning/%E7%BA%BF%E4%BB%A3%E5%9F%BA%E7%A1%80/"/>
    <url>/2022/08/01/MachineLearning/%E7%BA%BF%E4%BB%A3%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="çº¿æ€§ä»£æ•°"><a href="#çº¿æ€§ä»£æ•°" class="headerlink" title="çº¿æ€§ä»£æ•°"></a>çº¿æ€§ä»£æ•°</h1><h2 id="1-åŸºæœ¬ç¬¦å·"><a href="#1-åŸºæœ¬ç¬¦å·" class="headerlink" title="1 åŸºæœ¬ç¬¦å·"></a>1 åŸºæœ¬ç¬¦å·</h2><ul><li><p>$A \in \mathbb{R}^{m \times n}$ï¼Œè¡¨ç¤º $A$ ä¸ºç”±å®æ•°ç»„æˆå…·æœ‰$m$è¡Œå’Œ$n$åˆ—çš„çŸ©é˜µã€‚</p></li><li><p>$x \in \mathbb{R}^{ n}$ï¼Œè¡¨ç¤ºå…·æœ‰$n$ä¸ªå…ƒç´ çš„å‘é‡ã€‚ é€šå¸¸ï¼Œå‘é‡$x$å°†è¡¨ç¤ºåˆ—å‘é‡: å³ï¼Œå…·æœ‰$n$è¡Œå’Œ$1$åˆ—çš„çŸ©é˜µã€‚ å¦‚æœæˆ‘ä»¬æƒ³è¦æ˜ç¡®åœ°è¡¨ç¤ºè¡Œå‘é‡: å…·æœ‰ $1$ è¡Œå’Œ$n$åˆ—çš„çŸ©é˜µ - æˆ‘ä»¬é€šå¸¸å†™$x^T$ï¼ˆè¿™é‡Œ$x^T$x$çš„è½¬ç½®ï¼‰ã€‚</p></li><li><p>$x_i$è¡¨ç¤ºå‘é‡$x$çš„ç¬¬$i$ä¸ªå…ƒç´ </p></li></ul><p>$$<br>x&#x3D;\left[\begin{array}{c}{x_{1} } \ {x_{2} } \ {\vdots} \ {x_{n} }\end{array}\right]<br>$$</p><ul><li>æˆ‘ä»¬ä½¿ç”¨ç¬¦å· $a_{ij}$ï¼ˆæˆ–$A_{ij}$,$A_{i,j}$ç­‰ï¼‰æ¥è¡¨ç¤ºç¬¬ $i$ è¡Œå’Œç¬¬$j$åˆ—ä¸­çš„ $A$ çš„å…ƒç´ ï¼š</li></ul><p>$$<br>A&#x3D;\left[\begin{array}{cccc}{a_{11} } &amp; {a_{12} } &amp; {\cdots} &amp; {a_{1 n} } \ {a_{21} } &amp; {a_{22} } &amp; {\cdots} &amp; {a_{2 n} } \ {\vdots} &amp; {\vdots} &amp; {\ddots} &amp; {\vdots} \ {a_{m 1} } &amp; {a_{m 2} } &amp; {\cdots} &amp; {a_{m n} }\end{array}\right]<br>$$</p><ul><li>æˆ‘ä»¬ç”¨$a^j$æˆ–è€…$A_{:,j}$è¡¨ç¤ºçŸ©é˜µ$A$çš„ç¬¬$j$åˆ—ï¼š</li></ul><p>$$<br>A&#x3D;\left[\begin{array}{llll}{ |} &amp; { |} &amp; {} &amp; { |} \ {a^{1} } &amp; {a^{2} } &amp; {\cdots} &amp; {a^{n} } \ { |} &amp; { |} &amp; {} &amp; { |}\end{array}\right]<br>$$</p><ul><li><p>æˆ‘ä»¬ç”¨$a^T_i$æˆ–è€…$A_{i,:}$è¡¨ç¤ºçŸ©é˜µ$A$çš„ç¬¬$i$è¡Œï¼š</p><p>$$<br>A&#x3D;\left[\begin{array}{c}{-a_{1}^{T}-} \ {-a_{2}^{T}-} \ {\vdots} \ {-a_{m}^{T}-}\end{array}\right]<br>$$</p></li></ul><h2 id="2-è¡Œåˆ—å¼"><a href="#2-è¡Œåˆ—å¼" class="headerlink" title="2 è¡Œåˆ—å¼"></a>2 è¡Œåˆ—å¼</h2><p><strong>è¡Œåˆ—å¼æŒ‰è¡Œï¼ˆåˆ—ï¼‰å±•å¼€å®šç†</strong></p><p>(1) è®¾$A &#x3D; ( a_{ {ij} } )<em>{n \times n}$ï¼Œåˆ™ï¼š$a</em>{i1}A_{j1} +a_{i2}A_{j2} + \cdots + a_{ {in} }A_{ {jn} } &#x3D; \begin{cases}|A|,i&#x3D;j\ 0,i \neq j\end{cases}$</p><p>æˆ–$a_{1i}A_{1j} + a_{2i}A_{2j} + \cdots + a_{ {ni} }A_{ {nj} } &#x3D; \begin{cases}|A|,i&#x3D;j\ 0,i \neq j\end{cases}$å³ $AA^{<em>} &#x3D; A^{</em>}A &#x3D; \left| A \right|E,$å…¶ä¸­ï¼š$A^{*} &#x3D; \begin{pmatrix} A_{11} &amp; A_{12} &amp; \ldots &amp; A_{1n} \ A_{21} &amp; A_{22} &amp; \ldots &amp; A_{2n} \ \ldots &amp; \ldots &amp; \ldots &amp; \ldots \ A_{n1} &amp; A_{n2} &amp; \ldots &amp; A_{ {nn} } \ \end{pmatrix} &#x3D; (A_{ {ji} }) &#x3D; {(A_{ {ij} })}^{T}$</p><p>$D_{n} &#x3D; \begin{vmatrix} 1 &amp; 1 &amp; \ldots &amp; 1 \ x_{1} &amp; x_{2} &amp; \ldots &amp; x_{n} \ \ldots &amp; \ldots &amp; \ldots &amp; \ldots \ x_{1}^{n - 1} &amp; x_{2}^{n - 1} &amp; \ldots &amp; x_{n}^{n - 1} \ \end{vmatrix} &#x3D; \prod_{1 \leq j &lt; i \leq n}^{},(x_{i} - x_{j})$</p><p>(2) è®¾$A,B$ä¸º$n$é˜¶æ–¹é˜µï¼Œåˆ™$\left| {AB} \right| &#x3D; \left| A \right|\left| B \right| &#x3D; \left| B \right|\left| A \right| &#x3D; \left| {BA} \right|$ï¼Œä½†$\left| A \pm B \right| &#x3D; \left| A \right| \pm \left| B \right|$ä¸ä¸€å®šæˆç«‹ã€‚</p><p>(3) $\left| {kA} \right| &#x3D; k^{n}\left| A \right|$,$A$ä¸º$n$é˜¶æ–¹é˜µã€‚</p><p>(4) è®¾$A$ä¸º$n$é˜¶æ–¹é˜µï¼Œ$|A^{T}| &#x3D; |A|;|A^{- 1}| &#x3D; |A|^{- 1}$ï¼ˆè‹¥$A$å¯é€†ï¼‰ï¼Œ$|A^{*}| &#x3D; |A|^{n - 1}$</p><p>$n \geq 2$</p><p>(5) $\left| \begin{matrix}  &amp; {A\quad O} \  &amp; {O\quad B} \ \end{matrix} \right| &#x3D; \left| \begin{matrix}  &amp; {A\quad C} \  &amp; {O\quad B} \ \end{matrix} \right| &#x3D; \left| \begin{matrix}  &amp; {A\quad O} \  &amp; {C\quad B} \ \end{matrix} \right| &#x3D;| A||B|$<br>ï¼Œ$A,B$ä¸ºæ–¹é˜µï¼Œä½†$\left| \begin{matrix} {O} &amp; A_{m \times m} \  B_{n \times n} &amp; { O} \ \end{matrix} \right| &#x3D; ({- 1)}^{ {mn} }|A||B|$ ã€‚</p><p>(6) èŒƒå¾·è’™è¡Œåˆ—å¼$D_{n} &#x3D; \begin{vmatrix} 1 &amp; 1 &amp; \ldots &amp; 1 \ x_{1} &amp; x_{2} &amp; \ldots &amp; x_{n} \ \ldots &amp; \ldots &amp; \ldots &amp; \ldots \ x_{1}^{n - 1} &amp; x_{2}^{n 1} &amp; \ldots &amp; x_{n}^{n - 1} \ \end{vmatrix} &#x3D;  \prod_{1 \leq j &lt; i \leq n}^{},(x_{i} - x_{j})$</p><p>è®¾$A$æ˜¯$n$é˜¶æ–¹é˜µï¼Œ$\lambda_{i}(i &#x3D; 1,2\cdots,n)$æ˜¯$A$çš„$n$ä¸ªç‰¹å¾å€¼ï¼Œåˆ™<br>$|A| &#x3D; \prod_{i &#x3D; 1}^{n}\lambda_{i}$</p><h2 id="3-çŸ©é˜µ"><a href="#3-çŸ©é˜µ" class="headerlink" title="3 çŸ©é˜µ"></a>3 çŸ©é˜µ</h2><p>çŸ©é˜µï¼š$m \times n$ä¸ªæ•°$a_{ {ij} }$æ’æˆ$m$è¡Œ$n$åˆ—çš„è¡¨æ ¼$\begin{bmatrix}  a_{11}\quad a_{12}\quad\cdots\quad a_{1n} \ a_{21}\quad a_{22}\quad\cdots\quad a_{2n} \ \quad\cdots\cdots\cdots\cdots\cdots \  a_{m1}\quad a_{m2}\quad\cdots\quad a_{ {mn} } \ \end{bmatrix}$ ç§°ä¸ºçŸ©é˜µï¼Œç®€è®°ä¸º$A$ï¼Œæˆ–è€…$\left( a_{ {ij} } \right)_{m \times n}$ ã€‚è‹¥$m &#x3D; n$ï¼Œåˆ™ç§°$A$æ˜¯$n$é˜¶çŸ©é˜µæˆ–$n$é˜¶æ–¹é˜µã€‚</p><h3 id="3-1-çŸ©é˜µçš„å±æ€§"><a href="#3-1-çŸ©é˜µçš„å±æ€§" class="headerlink" title="3.1 çŸ©é˜µçš„å±æ€§"></a><strong>3.1 çŸ©é˜µçš„å±æ€§</strong></h3><h4 id="3-1-1-å•ä½çŸ©é˜µå’Œå¯¹è§’çŸ©é˜µ"><a href="#3-1-1-å•ä½çŸ©é˜µå’Œå¯¹è§’çŸ©é˜µ" class="headerlink" title="3.1.1 å•ä½çŸ©é˜µå’Œå¯¹è§’çŸ©é˜µ"></a>3.1.1 å•ä½çŸ©é˜µå’Œå¯¹è§’çŸ©é˜µ</h4><p><strong>å•ä½çŸ©é˜µ</strong>,$I \in \mathbb{R}^{n \times n} $ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ–¹é˜µï¼Œå¯¹è§’çº¿çš„å…ƒç´ æ˜¯1ï¼Œå…¶ä½™å…ƒç´ éƒ½æ˜¯0ï¼š<br>$<br>I_{i j}&#x3D;\left{\begin{array}{ll}{1} &amp; {i&#x3D;j} \ {0} &amp; {i \neq j}\end{array}\right.<br>$å¯¹äºæ‰€æœ‰$A \in \mathbb{R}^ {m \times n}$ï¼Œæœ‰ï¼š<br>$I &#x3D; A &#x3D; IA<br>$ï¼Œåœ¨æŸç§æ„ä¹‰ä¸Šï¼Œå•ä½çŸ©é˜µçš„è¡¨ç¤ºæ³•æ˜¯ä¸æ˜ç¡®çš„ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æŒ‡å®š$I$çš„ç»´æ•°ã€‚é€šå¸¸ï¼Œ$I$çš„ç»´æ•°æ˜¯ä»ä¸Šä¸‹æ–‡æ¨æ–­å‡ºæ¥çš„ï¼Œä»¥ä¾¿ä½¿çŸ©é˜µä¹˜æ³•æˆä¸ºå¯èƒ½ã€‚ ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„ç­‰å¼ä¸­ï¼Œ$AI &#x3D; A$ä¸­çš„Iæ˜¯$n\times n$çŸ©é˜µï¼Œè€Œ$A &#x3D; IA$ä¸­çš„$I$æ˜¯$m\times m$çŸ©é˜µã€‚</p><p>å¯¹è§’çŸ©é˜µæ˜¯ä¸€ç§è¿™æ ·çš„çŸ©é˜µï¼šå¯¹è§’çº¿ä¹‹å¤–çš„å…ƒç´ å…¨ä¸º0ã€‚å¯¹è§’é˜µé€šå¸¸è¡¨ç¤ºä¸ºï¼š$D&#x3D; diag(d_1, d_2, . . . , d_n)$ï¼Œå…¶ä¸­ï¼š<br>$<br>D_{i j}&#x3D;\left{\begin{array}{ll}{d_{i} } &amp; {i&#x3D;j} \ {0} &amp; {i \neq j}\end{array}\right.<br>$å¾ˆæ˜æ˜¾ï¼šå•ä½çŸ©é˜µ$ I &#x3D; diag(1, 1, . . . , 1)$ã€‚</p><h4 id="3-1-2-è½¬ç½®"><a href="#3-1-2-è½¬ç½®" class="headerlink" title="3.1.2 è½¬ç½®"></a>3.1.2 è½¬ç½®</h4><p>çŸ©é˜µçš„è½¬ç½®æ˜¯æŒ‡ç¿»è½¬çŸ©é˜µçš„è¡Œå’Œåˆ—ã€‚</p><p>ç»™å®šä¸€ä¸ªçŸ©é˜µï¼š</p><p>$A \in \mathbb{R}^ {m \times n}$, å®ƒçš„è½¬ç½®ä¸º$n \times m$çš„çŸ©é˜µ$A^T \in \mathbb{R}^ {n \times m}$ ï¼Œå…¶ä¸­çš„å…ƒç´ ä¸ºï¼š<br>$<br>(A^T)<em>{ij} &#x3D; A</em>{ji}<br>$äº‹å®ä¸Šï¼Œæˆ‘ä»¬åœ¨æè¿°è¡Œå‘é‡æ—¶å·²ç»ä½¿ç”¨äº†è½¬ç½®ï¼Œå› ä¸ºåˆ—å‘é‡çš„è½¬ç½®è‡ªç„¶æ˜¯è¡Œå‘é‡ã€‚</p><p>è½¬ç½®çš„ä»¥ä¸‹å±æ€§å¾ˆå®¹æ˜“éªŒè¯ï¼š</p><ul><li>$(A^T )^T &#x3D; A$</li><li>$ (AB)^T &#x3D; B^T A^T$</li><li>$(A + B)^T &#x3D; A^T + B^T$</li></ul><h4 id="3-1-3-çŸ©é˜µçš„é€†"><a href="#3-1-3-çŸ©é˜µçš„é€†" class="headerlink" title="3.1.3 çŸ©é˜µçš„é€†"></a>3.1.3 çŸ©é˜µçš„é€†</h4><p>æ–¹é˜µ$A  \in \mathbb{R}^{n \times n}$çš„å€’æ•°è¡¨ç¤ºä¸º$A^{-1}$ï¼Œå¹¶ä¸”æ˜¯è¿™æ ·çš„ç‹¬ç‰¹çŸ©é˜µ:<br>$<br>A^{-1}A&#x3D;I&#x3D;AA^{-1}<br>$è¯·æ³¨æ„ï¼Œå¹¶éæ‰€æœ‰çŸ©é˜µéƒ½å…·æœ‰é€†ã€‚ ä¾‹å¦‚ï¼Œéæ–¹å½¢çŸ©é˜µæ ¹æ®å®šä¹‰æ²¡æœ‰é€†ã€‚ ç„¶è€Œï¼Œå¯¹äºä¸€äº›æ–¹å½¢çŸ©é˜µ$A$ï¼Œå¯èƒ½ä»ç„¶å­˜åœ¨$A^{-1}$å¯èƒ½ä¸å­˜åœ¨çš„æƒ…å†µã€‚ ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœ$A^{-1}$å­˜åœ¨ï¼Œæˆ‘ä»¬è¯´$A$æ˜¯<strong>å¯é€†</strong>çš„æˆ–<strong>éå¥‡å¼‚</strong>çš„ï¼Œå¦åˆ™å°±æ˜¯<strong>ä¸å¯é€†</strong>æˆ–<strong>å¥‡å¼‚</strong>çš„ã€‚<br>ä¸ºäº†ä½¿æ–¹é˜µAå…·æœ‰é€†$A^{-1}$ï¼Œåˆ™$A$å¿…é¡»æ˜¯æ»¡ç§©ã€‚ æˆ‘ä»¬å¾ˆå¿«å°±ä¼šå‘ç°ï¼Œé™¤äº†æ»¡ç§©ä¹‹å¤–ï¼Œè¿˜æœ‰è®¸å¤šå…¶å®ƒçš„å……åˆ†å¿…è¦æ¡ä»¶ã€‚<br>ä»¥ä¸‹æ˜¯é€†çš„å±æ€§; å‡è®¾$A,B  \in \mathbb{R}^{n \times n}$ï¼Œè€Œä¸”æ˜¯éå¥‡å¼‚çš„ï¼š</p><ul><li>$(A^{-1})^{-1} &#x3D; A$</li><li>$(AB)^{-1} &#x3D; B^{-1}A^{-1}$</li><li>$(A^{-1})^{T} &#x3D;(A^{T})^{-1} $å› æ­¤ï¼Œè¯¥çŸ©é˜µé€šå¸¸è¡¨ç¤ºä¸º$A^{-T}$ã€‚<br>ä½œä¸ºå¦‚ä½•ä½¿ç”¨é€†çš„ç¤ºä¾‹ï¼Œè€ƒè™‘çº¿æ€§æ–¹ç¨‹ç»„ï¼Œ$Ax &#x3D; b$ï¼Œå…¶ä¸­$A  \in \mathbb{R}^{n \times n}$ï¼Œ$x,b\in \mathbb{R}$ï¼Œ å¦‚æœ$A$æ˜¯éå¥‡å¼‚çš„ï¼ˆå³å¯é€†çš„ï¼‰ï¼Œé‚£ä¹ˆ$x &#x3D; A^{-1}b$ã€‚</li></ul><h4 id="3-1-4-å¯¹ç§°çŸ©é˜µ"><a href="#3-1-4-å¯¹ç§°çŸ©é˜µ" class="headerlink" title="3.1.4 å¯¹ç§°çŸ©é˜µ"></a>3.1.4 å¯¹ç§°çŸ©é˜µ</h4><p>å¦‚æœ$A &#x3D;  A^T$ï¼Œåˆ™çŸ©é˜µ$A \in \mathbb{R}^ {n \times n}$æ˜¯å¯¹ç§°çŸ©é˜µã€‚ å¦‚æœ$ A &#x3D;  -  A^T$ï¼Œå®ƒæ˜¯åå¯¹ç§°çš„ã€‚ å¾ˆå®¹æ˜“è¯æ˜ï¼Œå¯¹äºä»»ä½•çŸ©é˜µ$A \in \mathbb{R}^ {n \times n}$ï¼ŒçŸ©é˜µ$A  +  A^ T$æ˜¯å¯¹ç§°çš„ï¼ŒçŸ©é˜µ$A -A^T$æ˜¯åå¯¹ç§°çš„ã€‚ ç”±æ­¤å¾—å‡ºï¼Œä»»ä½•æ–¹çŸ©é˜µ$A \in \mathbb{R}^ {n \times n}$å¯ä»¥è¡¨ç¤ºä¸ºå¯¹ç§°çŸ©é˜µå’Œåå¯¹ç§°çŸ©é˜µçš„å’Œï¼Œæ‰€ä»¥ï¼š<br>$<br>A&#x3D;\frac{1}{2}(A+A^T)+\frac{1}{2}(A-A^T)<br>$ä¸Šé¢å…¬å¼çš„å³è¾¹çš„ç¬¬ä¸€ä¸ªçŸ©é˜µæ˜¯å¯¹ç§°çŸ©é˜µï¼Œè€Œç¬¬äºŒä¸ªçŸ©é˜µæ˜¯åå¯¹ç§°çŸ©é˜µã€‚ äº‹å®è¯æ˜ï¼Œå¯¹ç§°çŸ©é˜µåœ¨å®è·µä¸­ç”¨åˆ°å¾ˆå¤šï¼Œå®ƒä»¬æœ‰å¾ˆå¤šå¾ˆå¥½çš„å±æ€§ï¼Œæˆ‘ä»¬å¾ˆå¿«å°±ä¼šçœ‹åˆ°å®ƒä»¬ã€‚<br>é€šå¸¸å°†å¤§å°ä¸º$n$çš„æ‰€æœ‰å¯¹ç§°çŸ©é˜µçš„é›†åˆè¡¨ç¤ºä¸º$\mathbb{S}^n$ï¼Œå› æ­¤$A \in \mathbb{S}^n$æ„å‘³ç€$A$æ˜¯å¯¹ç§°çš„$n\times n$çŸ©é˜µ;</p><h4 id="3-1-5-æ­£äº¤é˜µ"><a href="#3-1-5-æ­£äº¤é˜µ" class="headerlink" title="3.1.5  æ­£äº¤é˜µ"></a>3.1.5  æ­£äº¤é˜µ</h4><p>å¦‚æœ $x^Ty&#x3D;0$ï¼Œåˆ™ä¸¤ä¸ªå‘é‡$x,y\in \mathbb{R}^{n}$ æ˜¯<strong>æ­£äº¤</strong>çš„ã€‚å¦‚æœ$|x|_2&#x3D;1$ï¼Œåˆ™å‘é‡$x\in \mathbb{R}^{n}$ è¢«å½’ä¸€åŒ–ã€‚å¦‚æœä¸€ä¸ªæ–¹é˜µ$U\in \mathbb{R}^{n \times n}$çš„æ‰€æœ‰åˆ—å½¼æ­¤æ­£äº¤å¹¶è¢«å½’ä¸€åŒ–ï¼ˆè¿™äº›åˆ—ç„¶åè¢«ç§°ä¸ºæ­£äº¤ï¼‰ï¼Œåˆ™æ–¹é˜µ$U$æ˜¯æ­£äº¤é˜µï¼ˆæ³¨æ„åœ¨è®¨è®ºå‘é‡æ—¶çš„æ„ä¹‰ä¸ä¸€æ ·ï¼‰ã€‚</p><p>å®ƒå¯ä»¥ä»æ­£äº¤æ€§å’Œæ­£æ€æ€§çš„å®šä¹‰ä¸­å¾—å‡º:<br>$<br>U^ TU &#x3D; I &#x3D; U U^T<br>$</p><p>æ¢å¥è¯è¯´ï¼Œæ­£äº¤çŸ©é˜µçš„é€†æ˜¯å…¶è½¬ç½®ã€‚ æ³¨æ„ï¼Œå¦‚æœ$U$ä¸æ˜¯æ–¹é˜µ :å³ï¼Œ$U\in \mathbb{R}^{m \times n}$ï¼Œ$n &lt;m$  ï¼Œä½†å…¶åˆ—ä»ç„¶æ˜¯æ­£äº¤çš„ï¼Œåˆ™$U^TU &#x3D; I$ï¼Œä½†æ˜¯$UU^T \neq I$ã€‚æˆ‘ä»¬é€šå¸¸åªä½¿ç”¨æœ¯è¯­â€æ­£äº¤â€æ¥æè¿°å…ˆå‰çš„æƒ…å†µ ï¼Œå…¶ä¸­$U$æ˜¯æ–¹é˜µã€‚<br>æ­£äº¤çŸ©é˜µçš„å¦ä¸€ä¸ªå¥½çš„ç‰¹æ€§æ˜¯åœ¨å…·æœ‰æ­£äº¤çŸ©é˜µçš„å‘é‡ä¸Šæ“ä½œä¸ä¼šæ”¹å˜å…¶æ¬§å‡ é‡Œå¾·èŒƒæ•°ï¼Œå³:<br>$<br>|U x|<em>{2}&#x3D;|x|</em>{2}<br>$å¯¹äºä»»ä½• $x\in \mathbb{R}$ , $U\in \mathbb{R}^{n}$æ˜¯æ­£äº¤çš„ã€‚</p><h4 id="3-1-6-çŸ©é˜µçš„è¿¹"><a href="#3-1-6-çŸ©é˜µçš„è¿¹" class="headerlink" title="3.1.6 çŸ©é˜µçš„è¿¹"></a>3.1.6 çŸ©é˜µçš„è¿¹</h4><p>æ–¹çŸ©é˜µ$A \in \mathbb{R}^ {n \times n}$çš„è¿¹ï¼Œè¡¨ç¤ºä¸º$\operatorname{tr} (A)$ï¼ˆæˆ–è€…åªæ˜¯$\operatorname{tr} A$ï¼Œå¦‚æœæ‹¬å·æ˜¾ç„¶æ˜¯éšå«çš„ï¼‰ï¼Œæ˜¯çŸ©é˜µä¸­å¯¹è§’å…ƒç´ çš„æ€»å’Œï¼š<br>$<br>\operatorname{tr} A&#x3D;\sum_{i&#x3D;1}^{n} A_{i i}<br>$è¿¹å…·æœ‰ä»¥ä¸‹å±æ€§ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼š</p><ul><li><p>å¯¹äºçŸ©é˜µ$A \in \mathbb{R}^ {n \times n}$ï¼Œåˆ™ï¼š$\operatorname{tr}A &#x3D;\operatorname{tr}A^T$</p></li><li><p>å¯¹äºçŸ©é˜µ$A,B \in \mathbb{R}^ {n \times n}$ï¼Œåˆ™ï¼š$\operatorname{tr}(A + B) &#x3D; \operatorname{tr}A + \operatorname{tr}B$</p></li><li><p>å¯¹äºçŸ©é˜µ$A \in \mathbb{R}^ {n \times n}$ï¼Œ$ t \in \mathbb{R}$ï¼Œåˆ™ï¼š$\operatorname{tr}(tA) &#x3D; t\operatorname{tr}A$.</p></li><li><p>å¯¹äºçŸ©é˜µ $A$, $B$ï¼Œ$AB$ ä¸ºæ–¹é˜µ, åˆ™ï¼š$\operatorname{tr}AB &#x3D; \operatorname{tr}BA$</p></li><li><p>å¯¹äºçŸ©é˜µ $A$, $B$, $C$, $ABC$ä¸ºæ–¹é˜µ, åˆ™ï¼š$\operatorname{tr}ABC &#x3D; \operatorname{tr}BCA&#x3D;\operatorname{tr}CAB$, åŒç†ï¼Œæ›´å¤šçŸ©é˜µçš„ç§¯ä¹Ÿæ˜¯æœ‰è¿™ä¸ªæ€§è´¨ã€‚</p></li></ul><p>ä½œä¸ºå¦‚ä½•è¯æ˜è¿™äº›å±æ€§çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†è€ƒè™‘ä¸Šé¢ç»™å‡ºçš„ç¬¬å››ä¸ªå±æ€§ã€‚ å‡è®¾$A \in \mathbb{R}^ {m \times n}$å’Œ$B \in \mathbb{R}^ {n \times m}$ï¼ˆå› æ­¤$AB \in \mathbb{R}^ {m \times m}$æ˜¯æ–¹é˜µï¼‰ã€‚ è§‚å¯Ÿåˆ°$BA \in \mathbb{R}^ {n \times n}$ä¹Ÿæ˜¯ä¸€ä¸ªæ–¹é˜µï¼Œå› æ­¤å¯¹å®ƒä»¬è¿›è¡Œè¿¹çš„è¿ç®—æ˜¯æœ‰æ„ä¹‰çš„ã€‚ è¦è¯æ˜$\operatorname{tr}AB &#x3D; \operatorname{tr}BA$ï¼Œè¯·æ³¨æ„ï¼š</p><p>$$<br>\begin{aligned} \operatorname{tr} A B &amp;&#x3D;\sum_{i&#x3D;1}^{m}(A B)<em>{i i}&#x3D;\sum</em>{i&#x3D;1}^{m}\left(\sum_{j&#x3D;1}^{n} A_{i j} B_{j i}\right) \ &amp;&#x3D;\sum_{i&#x3D;1}^{m} \sum_{j&#x3D;1}^{n} A_{i j} B_{j i}&#x3D;\sum_{j&#x3D;1}^{n} \sum_{i&#x3D;1}^{m} B_{j i} A_{i j} \ &amp;&#x3D;\sum_{j&#x3D;1}^{n}\left(\sum_{i&#x3D;1}^{m} B_{j i} A_{i j}\right)&#x3D;\sum_{j&#x3D;1}^{n}(B A)_{j j}&#x3D;\operatorname{tr} B A \end{aligned}<br>$$</p><p>è¿™é‡Œï¼Œç¬¬ä¸€ä¸ªå’Œæœ€åä¸¤ä¸ªç­‰å¼ä½¿ç”¨è¿¹è¿ç®—ç¬¦å’ŒçŸ©é˜µä¹˜æ³•çš„å®šä¹‰ï¼Œé‡ç‚¹åœ¨ç¬¬å››ä¸ªç­‰å¼ï¼Œä½¿ç”¨æ ‡é‡ä¹˜æ³•çš„å¯äº¤æ¢æ€§æ¥åè½¬æ¯ä¸ªä¹˜ç§¯ä¸­çš„é¡¹çš„é¡ºåºï¼Œä»¥åŠæ ‡é‡åŠ æ³•çš„å¯äº¤æ¢æ€§å’Œç›¸å…³æ€§ï¼Œä»¥ä¾¿é‡æ–°æ’åˆ—æ±‚å’Œçš„é¡ºåºã€‚</p><h4 id="3-1-7-çŸ©é˜µçš„èŒƒæ•°"><a href="#3-1-7-çŸ©é˜µçš„èŒƒæ•°" class="headerlink" title="3.1.7  çŸ©é˜µçš„èŒƒæ•°"></a>3.1.7  çŸ©é˜µçš„èŒƒæ•°</h4><p>å‘é‡çš„èŒƒæ•°$|x|$æ˜¯éæ­£å¼åº¦é‡çš„å‘é‡çš„â€œé•¿åº¦â€ ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰å¸¸ç”¨çš„æ¬§å‡ é‡Œå¾·æˆ–$\ell_{2}$èŒƒæ•°ï¼Œ<br>$<br>|x|<em>{2}&#x3D;\sqrt{\sum</em>{i&#x3D;1}^{n} x_{i}^{2} }<br>$æ³¨æ„ï¼š$|x|_{2}^{2}&#x3D;x^{T} x$</p><p>æ›´æ­£å¼åœ°ï¼ŒèŒƒæ•°æ˜¯æ»¡è¶³4ä¸ªå±æ€§çš„å‡½æ•°ï¼ˆ$f : \mathbb{R}^{n} \rightarrow \mathbb{R}$ï¼‰ï¼š</p><ol><li>å¯¹äºæ‰€æœ‰çš„ $x \in \mathbb{R}^ {n}$, $f(x) \geq 0 $(éè´Ÿ).</li><li>å½“ä¸”ä»…å½“$x &#x3D; 0$ æ—¶ï¼Œ$f(x) &#x3D; 0$ (æ˜ç¡®æ€§).</li><li>å¯¹äºæ‰€æœ‰$x \in \mathbb{R}^ {n}$,$t\in \mathbb{R}$ï¼Œåˆ™ $f(tx) &#x3D; \left| t \right|f(x)$ (æ­£é½æ¬¡æ€§).</li><li>å¯¹äºæ‰€æœ‰ $x,y \in \mathbb{R}^ {n}$, $f(x + y) \leq f(x) + f(y)$ (ä¸‰è§’ä¸ç­‰å¼)</li></ol><p>å…¶ä»–èŒƒæ•°çš„ä¾‹å­æ˜¯$\ell_1$èŒƒæ•°:<br>$<br>|x|<em>{1}&#x3D;\sum</em>{i&#x3D;1}^{n}\left|x_{i}\right|<br>$å’Œ$\ell_{\infty }$èŒƒæ•°ï¼š<br>$|x|<em>{\infty}&#x3D;\max <em>{i}\left|x</em>{i}\right|<br>$ä¸Šï¼Œåˆ°ç›®å‰ä¸ºæ­¢æ‰€æå‡ºçš„æ‰€æœ‰ä¸‰ä¸ªèŒƒæ•°éƒ½æ˜¯$\ell_p$èŒƒæ•°æ—çš„ä¾‹å­ï¼Œå®ƒä»¬ç”±å®æ•°$p \geq 1$å‚æ•°åŒ–ï¼Œå¹¶å®šä¹‰ä¸ºï¼š<br>$|</em>{p}&#x3D;\left(\sum_{i&#x3D;1}^{n}\left|x_{i}\right|^{p}\right)^{1 &#x2F; p}<br>$</p><p>ä¹Ÿå¯ä»¥ä¸ºçŸ©é˜µå®šä¹‰èŒƒæ•°ï¼Œä¾‹å¦‚<strong>Frobenius</strong>èŒƒæ•°:<br>$<br>|A|<em>{F}&#x3D;\sqrt{\sum</em>{i&#x3D;1}^{m} \sum_{j&#x3D;1}^{n} A_{i j}^{2} }&#x3D;\sqrt{\operatorname{tr}\left(A^{T} A\right)}<br>$</p><h3 id="3-2-çŸ©é˜µçš„çº¿æ€§è¿ç®—"><a href="#3-2-çŸ©é˜µçš„çº¿æ€§è¿ç®—" class="headerlink" title="3.2 çŸ©é˜µçš„çº¿æ€§è¿ç®—"></a><strong>3.2 çŸ©é˜µçš„çº¿æ€§è¿ç®—</strong></h3><h4 id="3-2-1-çŸ©é˜µçš„åŠ æ³•"><a href="#3-2-1-çŸ©é˜µçš„åŠ æ³•" class="headerlink" title="3.2.1 çŸ©é˜µçš„åŠ æ³•"></a><strong>3.2.1 çŸ©é˜µçš„åŠ æ³•</strong></h4><p>è®¾$A &#x3D; (a_{ {ij} }),B &#x3D; (b_{ {ij} })$æ˜¯ä¸¤ä¸ª$m \times n$çŸ©é˜µï¼Œåˆ™$m \times n$ çŸ©é˜µ$ï¼ˆC &#x3D; c_{ {ij} }) &#x3D; a_{ {ij} } + b_{ {ij} }$ç§°ä¸ºçŸ©é˜µ$A$ä¸$B$çš„å’Œï¼Œè®°ä¸º$A + B &#x3D; C$ ã€‚</p><h4 id="3-2-2-çŸ©é˜µçš„æ•°ä¹˜"><a href="#3-2-2-çŸ©é˜µçš„æ•°ä¹˜" class="headerlink" title="3.2.2 çŸ©é˜µçš„æ•°ä¹˜"></a><strong>3.2.2 çŸ©é˜µçš„æ•°ä¹˜</strong></h4><p>è®¾$A &#x3D; (a_{ {ij} })$æ˜¯$m \times n$çŸ©é˜µï¼Œ$k$æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œåˆ™$m \times n$çŸ©é˜µ$(ka_{ {ij} })$ç§°ä¸ºæ•°$k$ä¸çŸ©é˜µ$A$çš„æ•°ä¹˜ï¼Œè®°ä¸º${kA}$ã€‚</p><h4 id="3-2-3-çŸ©é˜µçš„ä¹˜æ³•"><a href="#3-2-3-çŸ©é˜µçš„ä¹˜æ³•" class="headerlink" title="3.2.3 çŸ©é˜µçš„ä¹˜æ³•"></a><strong>3.2.3 çŸ©é˜µçš„ä¹˜æ³•</strong></h4><p>è®¾$A &#x3D; (a_{ {ij} })$æ˜¯$m \times n$çŸ©é˜µï¼Œ$B &#x3D; (b_{ {ij} })$æ˜¯$n \times s$çŸ©é˜µï¼Œé‚£ä¹ˆ$m \times s$çŸ©é˜µ$C &#x3D; (c_{ {ij} })$ï¼Œå…¶ä¸­$c_{ {ij} } &#x3D; a_{i1}b_{1j} + a_{i2}b_{2j} + \cdots + a_{ {in} }b_{ {nj} } &#x3D; \sum_{k &#x3D;1}^{n}{a_{ {ik} }b_{ {kj} }}$ç§°ä¸º${AB}$çš„ä¹˜ç§¯ï¼Œè®°ä¸º$C &#x3D; AB$ ã€‚</p><h4 id="3-2-4-mathbf-A-mathbf-T-ã€-mathbf-A-mathbf-1-ã€-mathbf-A-mathbf-ä¸‰è€…ä¹‹é—´çš„å…³ç³»"><a href="#3-2-4-mathbf-A-mathbf-T-ã€-mathbf-A-mathbf-1-ã€-mathbf-A-mathbf-ä¸‰è€…ä¹‹é—´çš„å…³ç³»" class="headerlink" title="*3.2.4 ** $\mathbf{A}^{\mathbf{T} }$ã€$\mathbf{A}^{\mathbf{-1} }$ã€$\mathbf{A}^{\mathbf{} }$ä¸‰è€…ä¹‹é—´çš„å…³ç³»"></a>*<em>3.2.4 ** $\mathbf{A}^{\mathbf{T} }$<strong>ã€</strong>$\mathbf{A}^{\mathbf{-1} }$<strong>ã€</strong>$\mathbf{A}^{\mathbf{</em>} }$<strong>ä¸‰è€…ä¹‹é—´çš„å…³ç³»</strong></h4><p>(1) ${(A^{T})}^{T} &#x3D; A,{(AB)}^{T} &#x3D; B^{T}A^{T},{(kA)}^{T} &#x3D; kA^{T},{(A \pm B)}^{T} &#x3D; A^{T} \pm B^{T}$</p><p>(2) $\left( A^{- 1} \right)^{- 1} &#x3D; A,\left( {AB} \right)^{- 1} &#x3D; B^{- 1}A^{- 1},\left( {kA} \right)^{- 1} &#x3D; \frac{1}{k}A^{- 1},$</p><p>ä½† ${(A \pm B)}^{- 1} &#x3D; A^{- 1} \pm B^{- 1}$ä¸ä¸€å®šæˆç«‹ã€‚</p><p>(3) $\left( A^{<em>} \right)^{</em>} &#x3D; |A|^{n - 2}\ A\ \ (n \geq 3)$ï¼Œ$\left({AB} \right)^{<em>} &#x3D; B^{</em>}A^{<em>},$ $\left( {kA} \right)^{</em>} &#x3D; k^{n -1}A^{*}{\ \ }\left( n \geq 2 \right)$</p><p>ä½†$\left( A \pm B \right)^{<em>} &#x3D; A^{</em>} \pm B^{*}$ä¸ä¸€å®šæˆç«‹ã€‚</p><p>(4) ${(A^{- 1})}^{T} &#x3D; {(A^{T})}^{- 1},\ \left( A^{- 1} \right)^{<em>} &#x3D;{(AA^{</em>})}^{- 1},{(A^{<em>})}^{T} &#x3D; \left( A^{T} \right)^{</em>}$</p><h4 id="3-2-5-æœ‰å…³-mathbf-A-mathbf-çš„ç»“è®º"><a href="#3-2-5-æœ‰å…³-mathbf-A-mathbf-çš„ç»“è®º" class="headerlink" title="3.2.5 æœ‰å…³$\mathbf{A}^{\mathbf{*} }$çš„ç»“è®º"></a><strong>3.2.5 æœ‰å…³</strong>$\mathbf{A}^{\mathbf{*} }$<strong>çš„ç»“è®º</strong></h4><p>(1) $AA^{<em>} &#x3D; A^{</em>}A &#x3D; |A|E$</p><p>(2) $|A^{<em>}| &#x3D; |A|^{n - 1}\ (n \geq 2),\ \ \ \ {(kA)}^{</em>} &#x3D; k^{n -1}A^{<em>},{ {\ \ }\left( A^{</em>} \right)}^{*} &#x3D; |A|^{n - 2}A(n \geq 3)$</p><p>(3) è‹¥$A$å¯é€†ï¼Œåˆ™$A^{<em>} &#x3D; |A|A^{- 1},{(A^{</em>})}^{*} &#x3D; \frac{1}{|A|}A$</p><p>(4) è‹¥$A$ä¸º$n$é˜¶æ–¹é˜µï¼Œåˆ™ï¼š</p><p>$r(A^*)&#x3D;\begin{cases}n,\quad r(A)&#x3D;n\ 1,\quad r(A)&#x3D;n-1\ 0,\quad r(A)&lt;n-1\end{cases}$</p><h4 id="3-2-6-æœ‰å…³-mathbf-A-mathbf-1-çš„ç»“è®º"><a href="#3-2-6-æœ‰å…³-mathbf-A-mathbf-1-çš„ç»“è®º" class="headerlink" title="3.2.6 æœ‰å…³$\mathbf{A}^{\mathbf{- 1} }$çš„ç»“è®º"></a><strong>3.2.6 æœ‰å…³</strong>$\mathbf{A}^{\mathbf{- 1} }$<strong>çš„ç»“è®º</strong></h4><p>$A$å¯é€†$\Leftrightarrow AB &#x3D; E; \Leftrightarrow |A| \neq 0; \Leftrightarrow r(A) &#x3D; n;$</p><p>$\Leftrightarrow A$å¯ä»¥è¡¨ç¤ºä¸ºåˆç­‰çŸ©é˜µçš„ä¹˜ç§¯ï¼›$\Leftrightarrow A;\Leftrightarrow Ax &#x3D; 0$ã€‚</p><h4 id="3-2-7-æœ‰å…³çŸ©é˜µç§©çš„ç»“è®º"><a href="#3-2-7-æœ‰å…³çŸ©é˜µç§©çš„ç»“è®º" class="headerlink" title="3.2.7 æœ‰å…³çŸ©é˜µç§©çš„ç»“è®º"></a><strong>3.2.7 æœ‰å…³çŸ©é˜µç§©çš„ç»“è®º</strong></h4><p>(1) ç§©$r(A)$&#x3D;è¡Œç§©&#x3D;åˆ—ç§©ï¼›</p><p>(2) $r(A_{m \times n}) \leq \min(m,n);$</p><p>(3) $A \neq 0 \Rightarrow r(A) \geq 1$ï¼›</p><p>(4) $r(A \pm B) \leq r(A) + r(B);$</p><p>(5) åˆç­‰å˜æ¢ä¸æ”¹å˜çŸ©é˜µçš„ç§©</p><p>(6) $r(A) + r(B) - n \leq r(AB) \leq \min(r(A),r(B)),$ç‰¹åˆ«è‹¥$AB &#x3D; O$<br>åˆ™ï¼š$r(A) + r(B) \leq n$</p><p>(7) è‹¥$A^{- 1}$å­˜åœ¨$\Rightarrow r(AB) &#x3D; r(B);$ è‹¥$B^{- 1}$å­˜åœ¨<br>$\Rightarrow r(AB) &#x3D; r(A);$</p><p>è‹¥$r(A_{m \times n}) &#x3D; n \Rightarrow r(AB) &#x3D; r(B);$ è‹¥$r(A_{m \times s}) &#x3D; n\Rightarrow r(AB) &#x3D; r\left( A \right)$ã€‚</p><p>(8) $r(A_{m \times s}) &#x3D; n \Leftrightarrow Ax &#x3D; 0$åªæœ‰é›¶è§£</p><h4 id="3-2-8-åˆ†å—æ±‚é€†å…¬å¼"><a href="#3-2-8-åˆ†å—æ±‚é€†å…¬å¼" class="headerlink" title="3.2.8 åˆ†å—æ±‚é€†å…¬å¼"></a><strong>3.2.8 åˆ†å—æ±‚é€†å…¬å¼</strong></h4><p>$\begin{pmatrix} A &amp; O \ O &amp; B \ \end{pmatrix}^{- 1} &#x3D; \begin{pmatrix} A^{-1} &amp; O \ O &amp; B^{- 1} \ \end{pmatrix}$ï¼› $\begin{pmatrix} A &amp; C \ O &amp; B \\end{pmatrix}^{- 1} &#x3D; \begin{pmatrix} A^{- 1}&amp; - A^{- 1}CB^{- 1} \ O &amp; B^{- 1} \ \end{pmatrix}$ï¼›</p><p>$\begin{pmatrix} A &amp; O \ C &amp; B \ \end{pmatrix}^{- 1} &#x3D; \begin{pmatrix}  A^{- 1}&amp;{O} \   - B^{- 1}CA^{- 1} &amp; B^{- 1} \\end{pmatrix}$ï¼› $\begin{pmatrix} O &amp; A \ B &amp; O \ \end{pmatrix}^{- 1} &#x3D;\begin{pmatrix} O &amp; B^{- 1} \ A^{- 1} &amp; O \ \end{pmatrix}$</p><p>è¿™é‡Œ$A$ï¼Œ$B$å‡ä¸ºå¯é€†æ–¹é˜µã€‚</p><h3 id="3-3-çŸ©é˜µå¾®ç§¯åˆ†"><a href="#3-3-çŸ©é˜µå¾®ç§¯åˆ†" class="headerlink" title="3.3 çŸ©é˜µå¾®ç§¯åˆ†"></a>3.3 çŸ©é˜µå¾®ç§¯åˆ†</h3><p>è™½ç„¶å‰é¢ç« èŠ‚ä¸­çš„ä¸»é¢˜é€šå¸¸åŒ…å«åœ¨çº¿æ€§ä»£æ•°çš„æ ‡å‡†è¯¾ç¨‹ä¸­ï¼Œä½†ä¼¼ä¹å¾ˆå°‘æ¶‰åŠï¼ˆæˆ‘ä»¬å°†å¹¿æ³›ä½¿ç”¨ï¼‰çš„ä¸€ä¸ªä¸»é¢˜æ˜¯å¾®ç§¯åˆ†æ‰©å±•åˆ°å‘é‡è®¾ç½®å±•ã€‚å°½ç®¡æˆ‘ä»¬ä½¿ç”¨çš„æ‰€æœ‰å®é™…å¾®ç§¯åˆ†éƒ½æ˜¯ç›¸å¯¹å¾®ä¸è¶³é“çš„ï¼Œä½†æ˜¯ç¬¦å·é€šå¸¸ä¼šä½¿äº‹æƒ…çœ‹èµ·æ¥æ¯”å®é™…å›°éš¾å¾—å¤šã€‚ åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»çŸ©é˜µå¾®ç§¯åˆ†çš„ä¸€äº›åŸºæœ¬å®šä¹‰ï¼Œå¹¶æä¾›ä¸€äº›ç¤ºä¾‹ã€‚</p><h4 id="3-3-1-æ¢¯åº¦"><a href="#3-3-1-æ¢¯åº¦" class="headerlink" title="3.3.1 æ¢¯åº¦"></a>3.3.1 æ¢¯åº¦</h4><p>å‡è®¾$f: \mathbb{R}^{m \times n} \rightarrow \mathbb{R}$æ˜¯å°†ç»´åº¦ä¸º$m \times n$çš„çŸ©é˜µ$A\in \mathbb{R}^{m \times n}$ä½œä¸ºè¾“å…¥å¹¶è¿”å›å®æ•°å€¼çš„å‡½æ•°ã€‚ ç„¶å$f$çš„æ¢¯åº¦ï¼ˆç›¸å¯¹äº$A\in \mathbb{R}^{m \times n}$ï¼‰æ˜¯åå¯¼æ•°çŸ©é˜µï¼Œå®šä¹‰å¦‚ä¸‹ï¼š<br>$<br>\nabla_{A} f(A) \in \mathbb{R}^{m \times n}&#x3D;\left[\begin{array}{cccc}{\frac{\partial f(A)}{\partial A_{11} }} &amp; {\frac{\partial f(A)}{\partial A_{12} }} &amp; {\cdots} &amp; {\frac{\partial f(A)}{\partial A_{1n} }} \ {\frac{\partial f(A)}{\partial A_{21} }} &amp; {\frac{\partial f(A)}{\partial A_{22} }} &amp; {\cdots} &amp; {\frac{\partial f(A)}{\partial A_{2 n} }} \ {\vdots} &amp; {\vdots} &amp; {\ddots} &amp; {\vdots} \ {\frac{\partial f(A)}{\partial A_{m 1} }} &amp; {\frac{\partial f(A)}{\partial A_{m 2} }} &amp; {\cdots} &amp; {\frac{\partial f(A)}{\partial A_{m n} }}\end{array}\right]<br>$å³ï¼Œ$m \times n$çŸ©é˜µ:<br>$\left(\nabla_{A} f(A)\right)<em>{i j}&#x3D;\frac{\partial f(A)}{\partial A</em>{i j} }<br>$æ„ï¼Œ$\nabla_{A} f(A) $çš„ç»´åº¦å§‹ç»ˆä¸$A$çš„ç»´åº¦ç›¸åŒã€‚ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœ$A$åªæ˜¯å‘é‡$A\in \mathbb{R}^{n}$ï¼Œåˆ™<br>$bla_{x} f(x)&#x3D;\left[\begin{array}{c}{\frac{\partial f(x)}{\partial x_{1} }} \ {\frac{\partial f(x)}{\partial x_{2} }} \ {\vdots} \ {\frac{\partial f(x)}{\partial x_{n} }}\end{array}\right]<br>$è¦è®°ä½ï¼Œåªæœ‰å½“å‡½æ•°æ˜¯å®å€¼æ—¶ï¼Œå³å¦‚æœå‡½æ•°è¿”å›æ ‡é‡å€¼ï¼Œæ‰å®šä¹‰å‡½æ•°çš„æ¢¯åº¦ã€‚ä¾‹å¦‚ï¼Œ$A\in \mathbb{R}^{m \times n}$ç›¸å¯¹äº$x$ï¼Œæˆ‘ä»¬ä¸èƒ½å–$Ax$çš„æ¢¯åº¦ï¼Œå› ä¸ºè¿™ä¸ªé‡æ˜¯å‘é‡å€¼ã€‚<br>å®ƒç›´æ¥ä»åå¯¼æ•°çš„ç­‰ä»·æ€§è´¨å¾—å‡ºï¼š</p><ul><li><p>$\nabla_{x}(f(x)+g(x))&#x3D;\nabla_{x} f(x)+\nabla_{x} g(x)$</p></li><li><p>å¯¹äº$t \in \mathbb{R}$ ï¼Œ$\nabla_{x}(t f(x))&#x3D;t \nabla_{x} f(x)$</p></li></ul><p>åŸåˆ™ä¸Šï¼Œæ¢¯åº¦æ˜¯åå¯¼æ•°å¯¹å¤šå˜é‡å‡½æ•°çš„è‡ªç„¶å»¶ä¼¸ã€‚ç„¶è€Œï¼Œåœ¨å®è·µä¸­ï¼Œç”±äºç¬¦å·çš„åŸå› ï¼Œä½¿ç”¨æ¢¯åº¦æœ‰æ—¶æ˜¯å¾ˆå›°éš¾çš„ã€‚ä¾‹å¦‚ï¼Œå‡è®¾$A\in \mathbb{R}^{m \times n}$æ˜¯ä¸€ä¸ªå›ºå®šç³»æ•°çŸ©é˜µï¼Œå‡è®¾$b\in \mathbb{R}^{m}$æ˜¯ä¸€ä¸ªå›ºå®šç³»æ•°å‘é‡ã€‚è®¾$f: \mathbb{R}^{m \times n} \rightarrow \mathbb{R}$ä¸º$f(z)&#x3D;z^Tz$å®šä¹‰çš„å‡½æ•°ï¼Œå› æ­¤$\nabla_{z}f(z)&#x3D;2z$ã€‚ä½†ç°åœ¨è€ƒè™‘è¡¨è¾¾å¼ï¼Œ<br>$<br>\nabla f(Ax)<br>$è¯¥è¡¨è¾¾å¼åº”è¯¥å¦‚ä½•è§£é‡Šï¼Ÿ è‡³å°‘æœ‰ä¸¤ç§å¯èƒ½æ€§ï¼š<br>1.åœ¨ç¬¬ä¸€ä¸ªè§£é‡Šä¸­ï¼Œå›æƒ³èµ·$\nabla_{z}f(z)&#x3D;2z$ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†$\nabla f(Ax)$è§£é‡Šä¸ºè¯„ä¼°ç‚¹$Ax$å¤„çš„æ¢¯åº¦ï¼Œå› æ­¤:</p><p>$$<br>\nabla f(A x)&#x3D;2(A x)&#x3D;2 A x \in \mathbb{R}^{m}<br>$$</p><p>2.åœ¨ç¬¬äºŒç§è§£é‡Šä¸­ï¼Œæˆ‘ä»¬å°†æ•°é‡$f(Ax)$è§†ä¸ºè¾“å…¥å˜é‡$x$çš„å‡½æ•°ã€‚ æ›´æ­£å¼åœ°è¯´ï¼Œè®¾$g(x) &#x3D;f(Ax)$ã€‚ ç„¶ååœ¨è¿™ä¸ªè§£é‡Šä¸­:<br>$<br>\nabla f(A x)&#x3D;\nabla_{x} g(x) \in \mathbb{R}^{n}<br>$</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸¤ç§è§£é‡Šç¡®å®ä¸åŒã€‚ ä¸€ç§è§£é‡Šäº§ç”Ÿ$m$ç»´å‘é‡ä½œä¸ºç»“æœï¼Œè€Œå¦ä¸€ç§è§£é‡Šäº§ç”Ÿ$n$ç»´å‘é‡ä½œä¸ºç»“æœï¼ æˆ‘ä»¬æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ</p><p>è¿™é‡Œï¼Œå…³é”®æ˜¯è¦æ˜ç¡®æˆ‘ä»¬è¦åŒºåˆ†çš„å˜é‡ã€‚<br>åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†å‡½æ•°$f$ä¸å…¶å‚æ•°$z$è¿›è¡ŒåŒºåˆ†ï¼Œç„¶åæ›¿æ¢å‚æ•°$Ax$ã€‚<br>åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†å¤åˆå‡½æ•°$g(x)&#x3D;f(Ax)$ç›´æ¥ä¸$x$è¿›è¡Œå¾®åˆ†ã€‚</p><p>æˆ‘ä»¬å°†ç¬¬ä¸€ç§æƒ…å†µè¡¨ç¤ºä¸º$\nabla zf(Ax)$ï¼Œç¬¬äºŒç§æƒ…å†µè¡¨ç¤ºä¸º$\nabla xf(Ax)$ã€‚</p><p>ä¿æŒç¬¦å·æ¸…æ™°æ˜¯éå¸¸é‡è¦çš„ï¼Œä»¥åå®Œæˆè¯¾ç¨‹ä½œä¸šæ—¶å€™ä½ å°±ä¼šå‘ç°ã€‚</p><h4 id="3-3-2-é»‘å¡çŸ©é˜µ"><a href="#3-3-2-é»‘å¡çŸ©é˜µ" class="headerlink" title="3.3.2 é»‘å¡çŸ©é˜µ"></a>3.3.2 é»‘å¡çŸ©é˜µ</h4><p>å‡è®¾$f: \mathbb{R}^{n} \rightarrow \mathbb{R}$æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—$\mathbb{R}^{n}$ä¸­çš„å‘é‡å¹¶è¿”å›å®æ•°ã€‚é‚£ä¹ˆå…³äº$x$çš„<strong>é»‘å¡çŸ©é˜µ</strong>ï¼ˆä¹Ÿæœ‰ç¿»è¯‘ä½œæµ·æ£®çŸ©é˜µï¼‰ï¼Œå†™åšï¼š$\nabla_x ^2 f(A x)$ï¼Œæˆ–è€…ç®€å•åœ°è¯´ï¼Œ$H$æ˜¯$n \times n$çŸ©é˜µçš„åå¯¼æ•°ï¼š<br>$<br>\nabla_{x}^{2} f(x) \in \mathbb{R}^{n \times n}&#x3D;\left[\begin{array}{cccc}{\frac{\partial^{2} f(x)}{\partial x_{1}^{2} }} &amp; {\frac{\partial^{2} f(x)}{\partial x_{1} \partial x_{2} }} &amp; {\cdots} &amp; {\frac{\partial^{2} f(x)}{\partial x_{1} \partial x_{n} }} \ {\frac{\partial^{2} f(x)}{\partial x_{2} \partial x_{1} }} &amp; {\frac{\partial^{2} f(x)}{\partial x_{2}^{2} }} &amp; {\cdots} &amp; {\frac{\partial^{2} f(x)}{\partial x_{2} \partial x_{n} }} \ {\vdots} &amp; {\vdots} &amp; {\ddots} &amp; {\vdots} \ {\frac{\partial^{2} f(x)}{\partial x_{n} \partial x_{1} }} &amp; {\frac{\partial^{2} f(x)}{\partial x_{n} \partial x_{2} }} &amp; {\cdots} &amp; {\frac{\partial^{2} f(x)}{\partial x_{n}^{2} }}\end{array}\right]<br>$æ¢å¥è¯è¯´ï¼Œ$\nabla_{x}^{2} f(x) \in \mathbb{R}^{n \times n}$ï¼Œå…¶ï¼š</p><p>$$<br>\left(\nabla_{x}^{2} f(x)\right)<em>{i j}&#x3D;\frac{\partial^{2} f(x)}{\partial x</em>{i} \partial x_{j} }<br>$$</p><p>æ³¨æ„ï¼šé»‘å¡çŸ©é˜µé€šå¸¸æ˜¯å¯¹ç§°é˜µï¼š</p><p>$$<br>\frac{\partial^{2} f(x)}{\partial x_{i} \partial x_{j} }&#x3D;\frac{\partial^{2} f(x)}{\partial x_{j} \partial x_{i} }<br>$$</p><p>ä¸æ¢¯åº¦ç›¸ä¼¼ï¼Œåªæœ‰å½“$f(x)$ä¸ºå®å€¼æ—¶æ‰å®šä¹‰é»‘å¡çŸ©é˜µã€‚</p><p>å¾ˆè‡ªç„¶åœ°è®¤ä¸ºæ¢¯åº¦ä¸å‘é‡å‡½æ•°çš„ä¸€é˜¶å¯¼æ•°çš„ç›¸ä¼¼ï¼Œè€Œé»‘å¡çŸ©é˜µä¸äºŒé˜¶å¯¼æ•°çš„ç›¸ä¼¼ï¼ˆæˆ‘ä»¬ä½¿ç”¨çš„ç¬¦å·ä¹Ÿæš—ç¤ºäº†è¿™ç§å…³ç³»ï¼‰ã€‚ è¿™ç§ç›´è§‰é€šå¸¸æ˜¯æ­£ç¡®çš„ï¼Œä½†éœ€è¦è®°ä½ä»¥ä¸‹å‡ ä¸ªæ³¨æ„äº‹é¡¹ã€‚<br>é¦–å…ˆï¼Œå¯¹äºä¸€ä¸ªå˜é‡$f: \mathbb{R} \rightarrow \mathbb{R}$çš„å®å€¼å‡½æ•°ï¼Œå®ƒçš„åŸºæœ¬å®šä¹‰ï¼šäºŒé˜¶å¯¼æ•°æ˜¯ä¸€é˜¶å¯¼æ•°çš„å¯¼æ•°ï¼Œå³ï¼š<br>$<br>\frac{\partial^{2} f(x)}{\partial x^{2} }&#x3D;\frac{\partial}{\partial x} \frac{\partial}{\partial x} f(x)<br>$ç„¶è€Œï¼Œå¯¹äºå‘é‡çš„å‡½æ•°ï¼Œå‡½æ•°çš„æ¢¯åº¦æ˜¯ä¸€ä¸ªå‘é‡ï¼Œæˆ‘ä»¬ä¸èƒ½å–å‘é‡çš„æ¢¯åº¦ï¼Œå³:<br>$nabla_{x} \nabla_{x} f(x)&#x3D;\nabla_{x}\left[\begin{array}{c}{\frac{\partial f(x)}{\partial x_{1} }} \ {\frac{\partial f(x)}{\partial x_{2} }} \ {\vdots} \ {\frac{\partial f(x)}{\partial x_{n} }}\end{array}\right]<br>$</p><p>ä¸Šé¢è¿™ä¸ªè¡¨è¾¾å¼æ²¡æœ‰æ„ä¹‰ã€‚ å› æ­¤ï¼Œé»‘å¡çŸ©é˜µä¸æ˜¯æ¢¯åº¦çš„æ¢¯åº¦ã€‚ ç„¶è€Œï¼Œä¸‹é¢è¿™ç§æƒ…å†µå´è¿™å‡ ä¹æ˜¯æ­£ç¡®çš„ï¼šå¦‚æœæˆ‘ä»¬çœ‹ä¸€ä¸‹æ¢¯åº¦$\left(\nabla_{x} f(x)\right)<em>{i}&#x3D;\partial f(x) &#x2F; \partial x</em>{i}$çš„ç¬¬$i$ä¸ªå…ƒç´ ï¼Œå¹¶å–å…³äºäº$x$çš„æ¢¯åº¦æˆ‘ä»¬å¾—åˆ°ï¼š<br>$<br>\nabla_{x} \frac{\partial f(x)}{\partial x_{i} }&#x3D;\left[\begin{array}{c}{\frac{\partial^{2} f(x)}{\partial x_{i} \partial x_{1} }} \ {\frac{\partial^{2} f(x)}{\partial x_{2} \partial x_{2} }} \ {\vdots} \ {\frac{\partial f(x)}{\partial x_{i} \partial x_{n} }}\end{array}\right]<br>$</p><p>è¿™æ˜¯é»‘å¡çŸ©é˜µç¬¬$i$è¡Œï¼ˆåˆ—ï¼‰,æ‰€ä»¥ï¼š<br>$<br>\nabla_{x}^{2} f(x)&#x3D;\left[\nabla_{x}\left(\nabla_{x} f(x)\right)<em>{1} \quad \nabla</em>{x}\left(\nabla_{x} f(x)\right)<em>{2} \quad \cdots \quad \nabla</em>{x}\left(\nabla_{x} f(x)\right)<em>{n}\right]<br>$ç®€å•åœ°è¯´ï¼šæˆ‘ä»¬å¯ä»¥è¯´ç”±äºï¼š$\nabla</em>{x}^{2} f(x)&#x3D;\nabla_{x}\left(\nabla_{x} f(x)\right)^{T}$ï¼Œåªè¦æˆ‘ä»¬ç†è§£ï¼Œè¿™å®é™…ä¸Šæ˜¯å–$\nabla_{x} f(x)$çš„æ¯ä¸ªå…ƒç´ çš„æ¢¯åº¦ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå‘é‡çš„æ¢¯åº¦ã€‚</p><p>æœ€åï¼Œè¯·æ³¨æ„ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥å¯¹çŸ©é˜µ$A\in \mathbb{R}^{n}$å–æ¢¯åº¦ï¼Œä½†å¯¹äºè¿™é—¨è¯¾ï¼Œæˆ‘ä»¬åªè€ƒè™‘å¯¹å‘é‡$x \in \mathbb{R}^{n}$å–é»‘å¡çŸ©é˜µã€‚<br>è¿™ä¼šæ–¹ä¾¿å¾ˆå¤šï¼ˆäº‹å®ä¸Šï¼Œæˆ‘ä»¬æ‰€åšçš„ä»»ä½•è®¡ç®—éƒ½ä¸è¦æ±‚æˆ‘ä»¬æ‰¾åˆ°å…³äºçŸ©é˜µçš„é»‘æ£®æ–¹ç¨‹ï¼‰ï¼Œå› ä¸ºå…³äºçŸ©é˜µçš„é»‘å¡æ–¹ç¨‹å°±å¿…é¡»å¯¹çŸ©é˜µæ‰€æœ‰å…ƒç´ æ±‚åå¯¼æ•°$\partial^{2} f(A) &#x2F;\left(\partial A_{i j} \partial A_{k \ell}\right)$ï¼Œå°†å…¶è¡¨ç¤ºä¸ºçŸ©é˜µç›¸å½“éº»çƒ¦ã€‚</p><h4 id="3-3-3-äºŒæ¬¡å‡½æ•°å’Œçº¿æ€§å‡½æ•°çš„æ¢¯åº¦å’Œé»‘å¡çŸ©é˜µ"><a href="#3-3-3-äºŒæ¬¡å‡½æ•°å’Œçº¿æ€§å‡½æ•°çš„æ¢¯åº¦å’Œé»‘å¡çŸ©é˜µ" class="headerlink" title="3.3.3 äºŒæ¬¡å‡½æ•°å’Œçº¿æ€§å‡½æ•°çš„æ¢¯åº¦å’Œé»‘å¡çŸ©é˜µ"></a>3.3.3 äºŒæ¬¡å‡½æ•°å’Œçº¿æ€§å‡½æ•°çš„æ¢¯åº¦å’Œé»‘å¡çŸ©é˜µ</h4><p>ç°åœ¨è®©æˆ‘ä»¬å°è¯•ç¡®å®šå‡ ä¸ªç®€å•å‡½æ•°çš„æ¢¯åº¦å’Œé»‘å¡çŸ©é˜µã€‚ </p><p>å¯¹äº$x \in \mathbb{R}^{n}$, è®¾$f(x)&#x3D;b^Tx$  çš„æŸäº›å·²çŸ¥å‘é‡$b \in \mathbb{R}^{n}$ ï¼Œåˆ™ï¼š</p><p>$$<br>f(x)&#x3D;\sum_{i&#x3D;1}^{n} b_{i} x_{i}<br>$$</p><p>æ‰€ä»¥ï¼š<br>$<br>\frac{\partial f(x)}{\partial x_{k} }&#x3D;\frac{\partial}{\partial x_{k} } \sum_{i&#x3D;1}^{n} b_{i} x_{i}&#x3D;b_{k}<br>$ç”±æ­¤æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°çœ‹å‡º$\nabla_{x} b^{T} x&#x3D;b$ã€‚ è¿™åº”è¯¥ä¸å•å˜é‡å¾®ç§¯åˆ†ä¸­çš„ç±»ä¼¼æƒ…å†µè¿›è¡Œæ¯”è¾ƒï¼Œå…¶ä¸­$\partial &#x2F;(\partial x) a x&#x3D;a$ã€‚<br>ç°åœ¨è€ƒè™‘$A\in \mathbb{S}^{n}$çš„äºŒæ¬¡å‡½æ•°$f(x)&#x3D;x^TAx$ã€‚ è®°ä½è¿™ä¸€ç‚¹ï¼š<br>$(x)&#x3D;\sum_{i&#x3D;1}^{n} \sum_{j&#x3D;1}^{n} A_{i j} x_{i} x_{j}<br>$å–åå¯¼æ•°ï¼Œæˆ‘ä»¬å°†åˆ†åˆ«è€ƒè™‘åŒ…æ‹¬$x_k$å’Œ$x_2^k$å› å­çš„é¡¹ï¼š</p><p>$$<br>\begin{aligned} \frac{\partial f(x)}{\partial x_{k} } &amp;&#x3D;\frac{\partial}{\partial x_{k} } \sum_{i&#x3D;1}^{n} \sum_{j&#x3D;1}^{n} A_{i j} x_{i} x_{j} \ &amp;&#x3D;\frac{\partial}{\partial x_{k} }\left[\sum_{i \neq k} \sum_{j \neq k} A_{i j} x_{i} x_{j}+\sum_{i \neq k} A_{i k} x_{i} x_{k}+\sum_{j \neq k} A_{k j} x_{k} x_{j}+A_{k k} x_{k}^{2}\right] \ &amp;&#x3D;\sum_{i \neq k} A_{i k} x_{i}+\sum_{j \neq k} A_{k j} x_{j}+2 A_{k k} x_{k} \ &amp;&#x3D;\sum_{i&#x3D;1}^{n} A_{i k} x_{i}+\sum_{j&#x3D;1}^{n} A_{k j} x_{j}&#x3D;2 \sum_{i&#x3D;1}^{n} A_{k i} x_{i} \end{aligned}<br>$$</p><p>æœ€åä¸€ä¸ªç­‰å¼ï¼Œæ˜¯å› ä¸º$A$æ˜¯å¯¹ç§°çš„ï¼ˆæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°å‡è®¾ï¼Œå› ä¸ºå®ƒä»¥äºŒæ¬¡å½¢å¼å‡ºç°ï¼‰ã€‚ æ³¨æ„ï¼Œ$\nabla_{x} f(x)$çš„ç¬¬$k$ä¸ªå…ƒç´ æ˜¯$A$å’Œ$x$çš„ç¬¬$k$è¡Œçš„å†…ç§¯ã€‚ å› æ­¤ï¼Œ$\nabla_{x} x^{T} A x&#x3D;2 A x$ã€‚ åŒæ ·ï¼Œè¿™åº”è¯¥æé†’ä½ å•å˜é‡å¾®ç§¯åˆ†ä¸­çš„ç±»ä¼¼äº‹å®ï¼Œå³$\partial &#x2F;(\partial x) a x^{2}&#x3D;2 a x$ã€‚</p><p>æœ€åï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹äºŒæ¬¡å‡½æ•°$f(x)&#x3D;x^TAx$é»‘å¡çŸ©é˜µï¼ˆæ˜¾ç„¶ï¼Œçº¿æ€§å‡½æ•°$b^Tx$çš„é»‘å¡çŸ©é˜µä¸ºé›¶ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹:<br>$<br>\frac{\partial^{2} f(x)}{\partial x_{k} \partial x_{\ell} }&#x3D;\frac{\partial}{\partial x_{k} }\left[\frac{\partial f(x)}{\partial x_{\ell} }\right]&#x3D;\frac{\partial}{\partial x_{k} }\left[2 \sum_{i&#x3D;1}^{n} A_{\ell i} x_{i}\right]&#x3D;2 A_{\ell k}&#x3D;2 A_{k \ell}<br>$å› æ­¤ï¼Œåº”è¯¥å¾ˆæ¸…æ¥š$\nabla_{x}^2 x^{T} A x&#x3D;2 A$ï¼Œè¿™åº”è¯¥æ˜¯å®Œå…¨å¯ä»¥ç†è§£çš„ï¼ˆåŒæ ·ç±»ä¼¼äº$\partial^2 &#x2F;(\partial x^2) a x^{2}&#x3D;2a$çš„å•å˜é‡äº‹å®ï¼‰ã€‚</p><p>ç®€è¦æ¦‚æ‹¬èµ·æ¥ï¼š</p><ul><li><p>$\nabla_{x} b^{T} x&#x3D;b$ </p></li><li><p>$\nabla_{x} x^{T} A x&#x3D;2 A x$ (å¦‚æœ$A$æ˜¯å¯¹ç§°é˜µ)</p></li><li><p>$\nabla_{x}^2 x^{T} A x&#x3D;2 A $  (å¦‚æœ$A$æ˜¯å¯¹ç§°é˜µ)</p></li></ul><h4 id="3-3-4-æœ€å°äºŒä¹˜æ³•"><a href="#3-3-4-æœ€å°äºŒä¹˜æ³•" class="headerlink" title="3.3.4 æœ€å°äºŒä¹˜æ³•"></a>3.3.4 æœ€å°äºŒä¹˜æ³•</h4><p>è®©æˆ‘ä»¬åº”ç”¨ä¸Šä¸€èŠ‚ä¸­å¾—åˆ°çš„æ–¹ç¨‹æ¥æ¨å¯¼æœ€å°äºŒä¹˜æ–¹ç¨‹ã€‚å‡è®¾æˆ‘ä»¬å¾—åˆ°çŸ©é˜µ$A\in \mathbb{R}^{m \times n}$ï¼ˆä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾$A$æ˜¯æ»¡ç§©ï¼‰å’Œå‘é‡$b\in \mathbb{R}^{m}$ï¼Œä»è€Œä½¿$b \notin \mathcal{R}(A)$ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†æ— æ³•æ‰¾åˆ°å‘é‡$x\in \mathbb{R}^{n}$ï¼Œç”±äº$Ax &#x3D; b$ï¼Œå› æ­¤æˆ‘ä»¬æƒ³è¦æ‰¾åˆ°ä¸€ä¸ªå‘é‡$x$ï¼Œä½¿å¾—$Ax$å°½å¯èƒ½æ¥è¿‘ $b$ï¼Œç”¨æ¬§å‡ é‡Œå¾·èŒƒæ•°çš„å¹³æ–¹$|A x-b|_{2}^{2} $æ¥è¡¡é‡ã€‚</p><p>ä½¿ç”¨å…¬å¼$|x|^{2}&#x3D;x^Tx$ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š</p><p>$$<br>\begin{aligned}|A x-b|_{2}^{2} &amp;&#x3D;(A x-b)^{T}(A x-b) \ &amp;&#x3D;x^{T} A^{T} A x-2 b^{T} A x+b^{T} b \end{aligned}<br>$$</p><p>æ ¹æ®$x$çš„æ¢¯åº¦ï¼Œå¹¶åˆ©ç”¨ä¸Šä¸€èŠ‚ä¸­æ¨å¯¼çš„æ€§è´¨ï¼š<br>$<br>\begin{aligned} \nabla_{x}\left(x^{T} A^{T} A x-2 b^{T} A x+b^{T} b\right) &amp;&#x3D;\nabla_{x} x^{T} A^{T} A x-\nabla_{x} 2 b^{T} A x+\nabla_{x} b^{T} b \ &amp;&#x3D;2 A^{T} A x-2 A^{T} b \end{aligned}<br>$å°†æœ€åä¸€ä¸ªè¡¨è¾¾å¼è®¾ç½®ä¸ºé›¶ï¼Œç„¶åè§£å‡º$x$ï¼Œå¾—åˆ°äº†æ­£è§„æ–¹ç¨‹ï¼š<br>$ &#x3D; (A^TA)^{-1}A^Tb<br>$æˆ‘ä»¬åœ¨è¯¾å ‚ä¸Šå¾—åˆ°çš„ç›¸åŒã€‚</p><h4 id="3-3-5-è¡Œåˆ—å¼çš„æ¢¯åº¦"><a href="#3-3-5-è¡Œåˆ—å¼çš„æ¢¯åº¦" class="headerlink" title="3.3.5 è¡Œåˆ—å¼çš„æ¢¯åº¦"></a>3.3.5 è¡Œåˆ—å¼çš„æ¢¯åº¦</h4><p>ç°åœ¨è®©æˆ‘ä»¬è€ƒè™‘ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªå‡½æ•°ç›¸å¯¹äºçŸ©é˜µçš„æ¢¯åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äº$A\in \mathbb{R}^{n \times n}$ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°$\nabla_{A}|A|$ã€‚å›æƒ³ä¸€ä¸‹æˆ‘ä»¬å¯¹è¡Œåˆ—å¼çš„è®¨è®ºï¼š<br>$<br>|A|&#x3D;\sum_{i&#x3D;1}^{n}(-1)^{i+j} A_{i j}\left|A_{\backslash i, \backslash j}\right| \quad(\text { for any } j \in 1, \ldots, n)<br>$æ‰€ä»¥ï¼š<br>$frac{\partial}{\partial A_{k \ell} }|A|&#x3D;\frac{\partial}{\partial A_{k \ell} } \sum_{i&#x3D;1}^{n}(-1)^{i+j} A_{i j}\left|A_{\backslash i, \backslash j}\right|&#x3D;(-1)^{k+\ell}\left|A_{\backslash k,\backslash \ell}\right|&#x3D;(\operatorname{adj}(A))<em>{\ell k}<br>$é‡Œå¯ä»¥çŸ¥é“ï¼Œå®ƒç›´æ¥ä»ä¼´éšçŸ©é˜µçš„æ€§è´¨å¾—å‡ºï¼š<br>$bla</em>{A}|A|&#x3D;(\operatorname{adj}(A))^{T}&#x3D;|A| A^{-T}<br>$æ¥è€ƒè™‘å‡½æ•°$f : \mathbb{S}<em>{++}^{n} \rightarrow \mathbb{R}$ï¼Œ$f(A)&#x3D;\log |A|$ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬å¿…é¡»å°†$f$çš„åŸŸé™åˆ¶ä¸ºæ­£å®šçŸ©é˜µï¼Œå› ä¸ºè¿™ç¡®ä¿äº†$|A|&gt;0$ï¼Œå› æ­¤$|A|$çš„å¯¹æ•°æ˜¯å®æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é“¾å¼æ³•åˆ™ï¼ˆæ²¡ä»€ä¹ˆå¥‡æ€ªçš„ï¼Œåªæ˜¯å•å˜é‡æ¼”ç®—ä¸­çš„æ™®é€šé“¾å¼æ³•åˆ™ï¼‰æ¥çœ‹çœ‹ï¼š<br>${\partial \log |A|}{\partial A</em>{i j} }&#x3D;\frac{\partial \log |A|}{\partial|A|} \frac{\partial|A|}{\partial A_{i j} }&#x3D;\frac{1}{|A|} \frac{\partial|A|}{\partial A_{i j} }<br>$æ˜æ˜¾çœ‹å‡ºï¼š</p><p>$$<br>\nabla_{A} \log |A|&#x3D;\frac{1}{|A|} \nabla_{A}|A|&#x3D;A^{-1}<br>$$</p><p>æˆ‘ä»¬å¯ä»¥åœ¨æœ€åä¸€ä¸ªè¡¨è¾¾å¼ä¸­åˆ é™¤è½¬ç½®ï¼Œå› ä¸º$A$æ˜¯å¯¹ç§°çš„ã€‚æ³¨æ„ä¸å•å€¼æƒ…å†µçš„ç›¸ä¼¼æ€§ï¼Œå…¶ä¸­$\partial &#x2F;(\partial x) \log x&#x3D;1 &#x2F; x$ã€‚</p><h4 id="3-3-6-ç‰¹å¾å€¼ä¼˜åŒ–"><a href="#3-3-6-ç‰¹å¾å€¼ä¼˜åŒ–" class="headerlink" title="3.3.6 ç‰¹å¾å€¼ä¼˜åŒ–"></a>3.3.6 ç‰¹å¾å€¼ä¼˜åŒ–</h4><p>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨çŸ©é˜µæ¼”ç®—ä»¥ç›´æ¥å¯¼è‡´ç‰¹å¾å€¼&#x2F;ç‰¹å¾å‘é‡åˆ†æçš„æ–¹å¼æ±‚è§£ä¼˜åŒ–é—®é¢˜ã€‚ è€ƒè™‘ä»¥ä¸‹ç­‰å¼çº¦æŸä¼˜åŒ–é—®é¢˜ï¼š</p><p>$$<br>\max <em>{x \in \mathbb{R}^{n} } x^{T} A x \quad \text { subject to }|x|</em>{2}^{2}&#x3D;1<br>$$</p><p>å¯¹äºå¯¹ç§°çŸ©é˜µ$A\in \mathbb{S}^{n}$ã€‚æ±‚è§£ç­‰å¼çº¦æŸä¼˜åŒ–é—®é¢˜çš„æ ‡å‡†æ–¹æ³•æ˜¯é‡‡ç”¨<strong>æ‹‰æ ¼æœ—æ—¥</strong>å½¢å¼ï¼Œä¸€ç§åŒ…å«ç­‰å¼çº¦æŸçš„ç›®æ ‡å‡½æ•°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‹‰æ ¼æœ—æ—¥å‡½æ•°å¯ç”±ä»¥ä¸‹å…¬å¼ç»™å‡ºï¼š</p><p>$$<br>\mathcal{L}(x, \lambda)&#x3D;x^{T} A x-\lambda x^{T} x<br>$$</p><p>å…¶ä¸­ï¼Œ$\lambda $è¢«ç§°ä¸ºä¸ç­‰å¼çº¦æŸå…³è”çš„æ‹‰æ ¼æœ—æ—¥ä¹˜å­ã€‚å¯ä»¥ç¡®å®šï¼Œè¦ä½¿$x^*$æˆä¸ºé—®é¢˜çš„æœ€ä½³ç‚¹ï¼Œæ‹‰æ ¼æœ—æ—¥çš„æ¢¯åº¦å¿…é¡»åœ¨$x^*$å¤„ä¸ºé›¶ï¼ˆè¿™ä¸æ˜¯å”¯ä¸€çš„æ¡ä»¶ï¼Œä½†å®ƒæ˜¯å¿…éœ€çš„ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<br>$<br>\nabla_{x} \mathcal{L}(x, \lambda)&#x3D;\nabla_{x}\left(x^{T} A x-\lambda x^{T} x\right)&#x3D;2 A^{T} x-2 \lambda x&#x3D;0<br>$è¯·æ³¨æ„ï¼Œè¿™åªæ˜¯çº¿æ€§æ–¹ç¨‹$Ax &#x3D;\lambda x$ã€‚ è¿™è¡¨æ˜å‡è®¾$x^T x &#x3D; 1$ï¼Œå¯èƒ½æœ€å¤§åŒ–ï¼ˆæˆ–æœ€å°åŒ–ï¼‰$x^T Ax$çš„å”¯ä¸€ç‚¹æ˜¯$A$çš„ç‰¹å¾å‘é‡ã€‚</p><h2 id="4-å‘é‡"><a href="#4-å‘é‡" class="headerlink" title="4 å‘é‡"></a>4 å‘é‡</h2><h3 id="4-1-æœ‰å…³å‘é‡ç»„çš„çº¿æ€§è¡¨ç¤º"><a href="#4-1-æœ‰å…³å‘é‡ç»„çš„çº¿æ€§è¡¨ç¤º" class="headerlink" title="4.1 æœ‰å…³å‘é‡ç»„çš„çº¿æ€§è¡¨ç¤º"></a><strong>4.1 æœ‰å…³å‘é‡ç»„çš„çº¿æ€§è¡¨ç¤º</strong></h3><p>(1)$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$çº¿æ€§ç›¸å…³$\Leftrightarrow$è‡³å°‘æœ‰ä¸€ä¸ªå‘é‡å¯ä»¥ç”¨å…¶ä½™å‘é‡çº¿æ€§è¡¨ç¤ºã€‚</p><p>(2)$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$çº¿æ€§æ— å…³ï¼Œ$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$ï¼Œ$\beta$çº¿æ€§ç›¸å…³$\Leftrightarrow \beta$å¯ä»¥ç”±$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$å”¯ä¸€çº¿æ€§è¡¨ç¤ºã€‚</p><p>(3) $\beta$å¯ä»¥ç”±$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$çº¿æ€§è¡¨ç¤º<br>$\Leftrightarrow r(\alpha_{1},\alpha_{2},\cdots,\alpha_{s}) &#x3D;r(\alpha_{1},\alpha_{2},\cdots,\alpha_{s},\beta)$ ã€‚</p><h3 id="4-2-æœ‰å…³å‘é‡ç»„çš„çº¿æ€§ç›¸å…³æ€§"><a href="#4-2-æœ‰å…³å‘é‡ç»„çš„çº¿æ€§ç›¸å…³æ€§" class="headerlink" title="4.2 æœ‰å…³å‘é‡ç»„çš„çº¿æ€§ç›¸å…³æ€§"></a><strong>4.2 æœ‰å…³å‘é‡ç»„çš„çº¿æ€§ç›¸å…³æ€§</strong></h3><p>(1)éƒ¨åˆ†ç›¸å…³ï¼Œæ•´ä½“ç›¸å…³ï¼›æ•´ä½“æ— å…³ï¼Œéƒ¨åˆ†æ— å…³.</p><p>(2) â‘  $n$ä¸ª$n$ç»´å‘é‡<br>$\alpha_{1},\alpha_{2}\cdots\alpha_{n}$çº¿æ€§æ— å…³$\Leftrightarrow \left|\left\lbrack \alpha_{1}\alpha_{2}\cdots\alpha_{n} \right\rbrack \right| \neq0$ï¼Œ $n$ä¸ª$n$ç»´å‘é‡$\alpha_{1},\alpha_{2}\cdots\alpha_{n}$çº¿æ€§ç›¸å…³<br>$\Leftrightarrow |\lbrack\alpha_{1},\alpha_{2},\cdots,\alpha_{n}\rbrack| &#x3D; 0$<br>ã€‚</p><p>â‘¡ $n + 1$ä¸ª$n$ç»´å‘é‡çº¿æ€§ç›¸å…³ã€‚</p><p>â‘¢ è‹¥$\alpha_{1},\alpha_{2}\cdots\alpha_{S}$çº¿æ€§æ— å…³ï¼Œåˆ™æ·»åŠ åˆ†é‡åä»çº¿æ€§æ— å…³ï¼›æˆ–ä¸€ç»„å‘é‡çº¿æ€§ç›¸å…³ï¼Œå»æ‰æŸäº›åˆ†é‡åä»çº¿æ€§ç›¸å…³ã€‚</p><h3 id="4-3-æœ‰å…³å‘é‡ç»„çš„çº¿æ€§è¡¨ç¤º"><a href="#4-3-æœ‰å…³å‘é‡ç»„çš„çº¿æ€§è¡¨ç¤º" class="headerlink" title="4.3 æœ‰å…³å‘é‡ç»„çš„çº¿æ€§è¡¨ç¤º"></a><strong>4.3 æœ‰å…³å‘é‡ç»„çš„çº¿æ€§è¡¨ç¤º</strong></h3><p>(1) $\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$çº¿æ€§ç›¸å…³$\Leftrightarrow$è‡³å°‘æœ‰ä¸€ä¸ªå‘é‡å¯ä»¥ç”¨å…¶ä½™å‘é‡çº¿æ€§è¡¨ç¤ºã€‚</p><p>(2) $\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$çº¿æ€§æ— å…³ï¼Œ$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$ï¼Œ$\beta$çº¿æ€§ç›¸å…³$\Leftrightarrow\beta$ å¯ä»¥ç”±$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$å”¯ä¸€çº¿æ€§è¡¨ç¤ºã€‚</p><p>(3) $\beta$å¯ä»¥ç”±$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$çº¿æ€§è¡¨ç¤º<br>$\Leftrightarrow r(\alpha_{1},\alpha_{2},\cdots,\alpha_{s}) &#x3D;r(\alpha_{1},\alpha_{2},\cdots,\alpha_{s},\beta)$</p><h3 id="4-4-å‘é‡ç»„çš„ç§©ä¸çŸ©é˜µçš„ç§©ä¹‹é—´çš„å…³ç³»"><a href="#4-4-å‘é‡ç»„çš„ç§©ä¸çŸ©é˜µçš„ç§©ä¹‹é—´çš„å…³ç³»" class="headerlink" title="4.4 å‘é‡ç»„çš„ç§©ä¸çŸ©é˜µçš„ç§©ä¹‹é—´çš„å…³ç³»"></a><strong>4.4 å‘é‡ç»„çš„ç§©ä¸çŸ©é˜µçš„ç§©ä¹‹é—´çš„å…³ç³»</strong></h3><p>è®¾$r(A_{m \times n}) &#x3D;r$ï¼Œåˆ™$A$çš„ç§©$r(A)$ä¸$A$çš„è¡Œåˆ—å‘é‡ç»„çš„çº¿æ€§ç›¸å…³æ€§å…³ç³»ä¸ºï¼š</p><p>(1) è‹¥$r(A_{m \times n}) &#x3D; r &#x3D; m$ï¼Œåˆ™$A$çš„è¡Œå‘é‡ç»„çº¿æ€§æ— å…³ã€‚</p><p>(2) è‹¥$r(A_{m \times n}) &#x3D; r &lt; m$ï¼Œåˆ™$A$çš„è¡Œå‘é‡ç»„çº¿æ€§ç›¸å…³ã€‚</p><p>(3) è‹¥$r(A_{m \times n}) &#x3D; r &#x3D; n$ï¼Œåˆ™$A$çš„åˆ—å‘é‡ç»„çº¿æ€§æ— å…³ã€‚</p><p>(4) è‹¥$r(A_{m \times n}) &#x3D; r &lt; n$ï¼Œåˆ™$A$çš„åˆ—å‘é‡ç»„çº¿æ€§ç›¸å…³ã€‚</p><h3 id="4-5-mathbf-n-ç»´å‘é‡ç©ºé—´çš„åŸºå˜æ¢å…¬å¼åŠè¿‡æ¸¡çŸ©é˜µ"><a href="#4-5-mathbf-n-ç»´å‘é‡ç©ºé—´çš„åŸºå˜æ¢å…¬å¼åŠè¿‡æ¸¡çŸ©é˜µ" class="headerlink" title="**4.5 **$\mathbf{n}$ç»´å‘é‡ç©ºé—´çš„åŸºå˜æ¢å…¬å¼åŠè¿‡æ¸¡çŸ©é˜µ"></a>**4.5 **$\mathbf{n}$<strong>ç»´å‘é‡ç©ºé—´çš„åŸºå˜æ¢å…¬å¼åŠè¿‡æ¸¡çŸ©é˜µ</strong></h3><p>è‹¥$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$ä¸$\beta_{1},\beta_{2},\cdots,\beta_{n}$æ˜¯å‘é‡ç©ºé—´$V$çš„ä¸¤ç»„åŸºï¼Œåˆ™åŸºå˜æ¢å…¬å¼ä¸ºï¼š</p><p>$(\beta_{1},\beta_{2},\cdots,\beta_{n}) &#x3D; (\alpha_{1},\alpha_{2},\cdots,\alpha_{n})\begin{bmatrix}  c_{11}&amp; c_{12}&amp; \cdots &amp; c_{1n} \  c_{21}&amp; c_{22}&amp;\cdots &amp; c_{2n} \ \cdots &amp; \cdots &amp; \cdots &amp; \cdots \  c_{n1}&amp; c_{n2} &amp; \cdots &amp; c_{ {nn} } \\end{bmatrix} &#x3D; (\alpha_{1},\alpha_{2},\cdots,\alpha_{n})C$</p><p>å…¶ä¸­$C$æ˜¯å¯é€†çŸ©é˜µï¼Œç§°ä¸ºç”±åŸº$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$åˆ°åŸº$\beta_{1},\beta_{2},\cdots,\beta_{n}$çš„è¿‡æ¸¡çŸ©é˜µã€‚</p><h3 id="4-6-åæ ‡å˜æ¢å…¬å¼"><a href="#4-6-åæ ‡å˜æ¢å…¬å¼" class="headerlink" title="4.6 åæ ‡å˜æ¢å…¬å¼"></a><strong>4.6 åæ ‡å˜æ¢å…¬å¼</strong></h3><p>è‹¥å‘é‡$\gamma$åœ¨åŸº$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$ä¸åŸº$\beta_{1},\beta_{2},\cdots,\beta_{n}$çš„åæ ‡åˆ†åˆ«æ˜¯<br>$X &#x3D; {(x_{1},x_{2},\cdots,x_{n})}^{T}$ï¼Œ</p><p>$Y &#x3D; \left( y_{1},y_{2},\cdots,y_{n} \right)^{T}$ å³ï¼š $\gamma &#x3D;x_{1}\alpha_{1} + x_{2}\alpha_{2} + \cdots + x_{n}\alpha_{n} &#x3D; y_{1}\beta_{1} +y_{2}\beta_{2} + \cdots + y_{n}\beta_{n}$ï¼Œåˆ™å‘é‡åæ ‡å˜æ¢å…¬å¼ä¸º$X &#x3D; CY$ æˆ–$Y &#x3D; C^{- 1}X$ï¼Œå…¶ä¸­$C$æ˜¯ä»åŸº$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$åˆ°åŸº$\beta_{1},\beta_{2},\cdots,\beta_{n}$çš„è¿‡æ¸¡çŸ©é˜µã€‚</p><h3 id="4-7-å‘é‡çš„å†…ç§¯-Inner-Product"><a href="#4-7-å‘é‡çš„å†…ç§¯-Inner-Product" class="headerlink" title="4.7 å‘é‡çš„å†…ç§¯(Inner Product)"></a><strong>4.7 å‘é‡çš„å†…ç§¯(Inner Product)</strong></h3><p>ä¹Ÿå¯ä»¥æˆä¸ºç‚¹ç§¯(Dot Product)æˆ–æ ‡é‡ç§¯(Scalar Product)</p><p>$(\alpha,\beta) &#x3D; a_{1}b_{1} + a_{2}b_{2} + \cdots + a_{n}b_{n} &#x3D; \alpha^{T}\beta &#x3D; \beta^{T}\alpha$</p><h3 id="4-8-Schmidt-æ­£äº¤åŒ–"><a href="#4-8-Schmidt-æ­£äº¤åŒ–" class="headerlink" title="4.8 Schmidt æ­£äº¤åŒ–"></a><strong>4.8 Schmidt æ­£äº¤åŒ–</strong></h3><p>è‹¥$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$çº¿æ€§æ— å…³ï¼Œåˆ™å¯æ„é€ $\beta_{1},\beta_{2},\cdots,\beta_{s}$ä½¿å…¶ä¸¤ä¸¤æ­£äº¤ï¼Œä¸”$\beta_{i}$ä»…æ˜¯$\alpha_{1},\alpha_{2},\cdots,\alpha_{i}$çš„çº¿æ€§ç»„åˆ$(i&#x3D; 1,2,\cdots,n)$ï¼Œå†æŠŠ$\beta_{i}$å•ä½åŒ–ï¼Œè®°$\gamma_{i} &#x3D;\frac{\beta_{i} }{\left| \beta_{i}\right|}$ï¼Œåˆ™$\gamma_{1},\gamma_{2},\cdots,\gamma_{i}$æ˜¯è§„èŒƒæ­£äº¤å‘é‡ç»„ã€‚å…¶ä¸­<br>$\beta_{1} &#x3D; \alpha_{1}$ï¼Œ $\beta_{2} &#x3D; \alpha_{2} -\frac{(\alpha_{2},\beta_{1})}{(\beta_{1},\beta_{1})}\beta_{1}$ ï¼Œ $\beta_{3} &#x3D;\alpha_{3} - \frac{(\alpha_{3},\beta_{1})}{(\beta_{1},\beta_{1})}\beta_{1} -\frac{(\alpha_{3},\beta_{2})}{(\beta_{2},\beta_{2})}\beta_{2}$ ï¼Œ</p><p>$\beta_{s} &#x3D; \alpha_{s} - \frac{(\alpha_{s},\beta_{1})}{(\beta_{1},\beta_{1})}\beta_{1} - \frac{(\alpha_{s},\beta_{2})}{(\beta_{2},\beta_{2})}\beta_{2} - \cdots - \frac{(\alpha_{s},\beta_{s - 1})}{(\beta_{s - 1},\beta_{s - 1})}\beta_{s - 1}$</p><h3 id="4-9-æ­£äº¤åŸºåŠè§„èŒƒæ­£äº¤åŸº"><a href="#4-9-æ­£äº¤åŸºåŠè§„èŒƒæ­£äº¤åŸº" class="headerlink" title="4.9 æ­£äº¤åŸºåŠè§„èŒƒæ­£äº¤åŸº"></a><strong>4.9 æ­£äº¤åŸºåŠè§„èŒƒæ­£äº¤åŸº</strong></h3><p>å‘é‡ç©ºé—´ä¸€ç»„åŸºä¸­çš„å‘é‡å¦‚æœä¸¤ä¸¤æ­£äº¤ï¼Œå°±ç§°ä¸ºæ­£äº¤åŸºï¼›è‹¥æ­£äº¤åŸºä¸­æ¯ä¸ªå‘é‡éƒ½æ˜¯å•ä½å‘é‡ï¼Œå°±ç§°å…¶ä¸ºè§„èŒƒæ­£äº¤åŸºã€‚</p><h2 id="5-çº¿æ€§æ–¹ç¨‹ç»„"><a href="#5-çº¿æ€§æ–¹ç¨‹ç»„" class="headerlink" title="5 çº¿æ€§æ–¹ç¨‹ç»„"></a>5 çº¿æ€§æ–¹ç¨‹ç»„</h2><p><strong>1. å…‹è±å§†æ³•åˆ™</strong></p><p>çº¿æ€§æ–¹ç¨‹ç»„$\begin{cases}  a_{11}x_{1} + a_{12}x_{2} + \cdots +a_{1n}x_{n} &#x3D; b_{1} \   a_{21}x_{1} + a_{22}x_{2} + \cdots + a_{2n}x_{n} &#x3D;b_{2} \   \quad\cdots\cdots\cdots\cdots\cdots\cdots\cdots\cdots\cdots \ a_{n1}x_{1} + a_{n2}x_{2} + \cdots + a_{ {nn} }x_{n} &#x3D; b_{n} \ \end{cases}$ï¼Œå¦‚æœç³»æ•°è¡Œåˆ—å¼$D &#x3D; \left| A \right| \neq 0$ï¼Œåˆ™æ–¹ç¨‹ç»„æœ‰å”¯ä¸€è§£ï¼Œ$x_{1} &#x3D; \frac{D_{1} }{D},x_{2} &#x3D; \frac{D_{2} }{D},\cdots,x_{n} &#x3D;\frac{D_{n} }{D}$ï¼Œå…¶ä¸­$D_{j}$æ˜¯æŠŠ$D$ä¸­ç¬¬$j$åˆ—å…ƒç´ æ¢æˆæ–¹ç¨‹ç»„å³ç«¯çš„å¸¸æ•°åˆ—æ‰€å¾—çš„è¡Œåˆ—å¼ã€‚</p><p><strong>2.</strong> $n$é˜¶çŸ©é˜µ$A$å¯é€†$\Leftrightarrow Ax &#x3D; 0$åªæœ‰é›¶è§£ã€‚$\Leftrightarrow\forall b,Ax &#x3D; b$æ€»æœ‰å”¯ä¸€è§£ï¼Œä¸€èˆ¬åœ°ï¼Œ$r(A_{m \times n}) &#x3D; n \Leftrightarrow Ax&#x3D; 0$åªæœ‰é›¶è§£ã€‚</p><p><strong>3.éå¥‡æ¬¡çº¿æ€§æ–¹ç¨‹ç»„æœ‰è§£çš„å……åˆ†å¿…è¦æ¡ä»¶ï¼Œçº¿æ€§æ–¹ç¨‹ç»„è§£çš„æ€§è´¨å’Œè§£çš„ç»“æ„</strong></p><p>(1) è®¾$A$ä¸º$m \times n$çŸ©é˜µï¼Œè‹¥$r(A_{m \times n}) &#x3D; m$ï¼Œåˆ™å¯¹$Ax &#x3D;b$è€Œè¨€å¿…æœ‰$r(A) &#x3D; r(A \vdots b) &#x3D; m$ï¼Œä»è€Œ$Ax &#x3D; b$æœ‰è§£ã€‚</p><p>(2) è®¾$x_{1},x_{2},\cdots x_{s}$ä¸º$Ax &#x3D; b$çš„è§£ï¼Œåˆ™$k_{1}x_{1} + k_{2}x_{2}\cdots + k_{s}x_{s}$å½“$k_{1} + k_{2} + \cdots + k_{s} &#x3D; 1$æ—¶ä»ä¸º$Ax &#x3D;b$çš„è§£ï¼›ä½†å½“$k_{1} + k_{2} + \cdots + k_{s} &#x3D; 0$æ—¶ï¼Œåˆ™ä¸º$Ax &#x3D;0$çš„è§£ã€‚ç‰¹åˆ«$\frac{x_{1} + x_{2} }{2}$ä¸º$Ax &#x3D; b$çš„è§£ï¼›$2x_{3} - (x_{1} +x_{2})$ä¸º$Ax &#x3D; 0$çš„è§£ã€‚</p><p>(3) éé½æ¬¡çº¿æ€§æ–¹ç¨‹ç»„${Ax} &#x3D; b$æ— è§£$\Leftrightarrow r(A) + 1 &#x3D;r(\overline{A}) \Leftrightarrow b$ä¸èƒ½ç”±$A$çš„åˆ—å‘é‡$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$çº¿æ€§è¡¨ç¤ºã€‚</p><p><strong>4.å¥‡æ¬¡çº¿æ€§æ–¹ç¨‹ç»„çš„åŸºç¡€è§£ç³»å’Œé€šè§£ï¼Œè§£ç©ºé—´ï¼Œéå¥‡æ¬¡çº¿æ€§æ–¹ç¨‹ç»„çš„é€šè§£</strong></p><p>(1) é½æ¬¡æ–¹ç¨‹ç»„${Ax} &#x3D; 0$æ’æœ‰è§£(å¿…æœ‰é›¶è§£)ã€‚å½“æœ‰éé›¶è§£æ—¶ï¼Œç”±äºè§£å‘é‡çš„ä»»æ„çº¿æ€§ç»„åˆä»æ˜¯è¯¥é½æ¬¡æ–¹ç¨‹ç»„çš„è§£å‘é‡ï¼Œå› æ­¤${Ax}&#x3D; 0$çš„å…¨ä½“è§£å‘é‡æ„æˆä¸€ä¸ªå‘é‡ç©ºé—´ï¼Œç§°ä¸ºè¯¥æ–¹ç¨‹ç»„çš„è§£ç©ºé—´ï¼Œè§£ç©ºé—´çš„ç»´æ•°æ˜¯$n - r(A)$ï¼Œè§£ç©ºé—´çš„ä¸€ç»„åŸºç§°ä¸ºé½æ¬¡æ–¹ç¨‹ç»„çš„åŸºç¡€è§£ç³»ã€‚</p><p>(2) $\eta_{1},\eta_{2},\cdots,\eta_{t}$æ˜¯${Ax} &#x3D; 0$çš„åŸºç¡€è§£ç³»ï¼Œå³ï¼š</p><ol><li><p>$\eta_{1},\eta_{2},\cdots,\eta_{t}$æ˜¯${Ax} &#x3D; 0$çš„è§£ï¼›</p></li><li><p>$\eta_{1},\eta_{2},\cdots,\eta_{t}$çº¿æ€§æ— å…³ï¼›</p></li><li><p>${Ax} &#x3D; 0$çš„ä»»ä¸€è§£éƒ½å¯ä»¥ç”±$\eta_{1},\eta_{2},\cdots,\eta_{t}$çº¿æ€§è¡¨å‡º.<br>$k_{1}\eta_{1} + k_{2}\eta_{2} + \cdots + k_{t}\eta_{t}$æ˜¯${Ax} &#x3D; 0$çš„é€šè§£ï¼Œå…¶ä¸­$k_{1},k_{2},\cdots,k_{t}$æ˜¯ä»»æ„å¸¸æ•°ã€‚</p></li></ol><h2 id="6-çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡"><a href="#6-çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡" class="headerlink" title="6 çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡"></a>6 çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡</h2><h3 id="6-1-çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„æ¦‚å¿µåŠæ€§è´¨"><a href="#6-1-çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„æ¦‚å¿µåŠæ€§è´¨" class="headerlink" title="6.1 çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„æ¦‚å¿µåŠæ€§è´¨"></a><strong>6.1 çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„æ¦‚å¿µåŠæ€§è´¨</strong></h3><p>(1) è®¾$\lambda$æ˜¯$A$çš„ä¸€ä¸ªç‰¹å¾å€¼ï¼Œåˆ™ ${kA},{aA} + {bE},A^{2},A^{m},f(A),A^{T},A^{- 1},A^{*}$æœ‰ä¸€ä¸ªç‰¹å¾å€¼åˆ†åˆ«ä¸º<br>${kÎ»},{aÎ»} + b,\lambda^{2},\lambda^{m},f(\lambda),\lambda,\lambda^{- 1},\frac{|A|}{\lambda},$ä¸”å¯¹åº”ç‰¹å¾å‘é‡ç›¸åŒï¼ˆ$A^{T}$ ä¾‹å¤–ï¼‰ã€‚</p><p>(2)è‹¥$\lambda_{1},\lambda_{2},\cdots,\lambda_{n}$ä¸º$A$çš„$n$ä¸ªç‰¹å¾å€¼ï¼Œåˆ™$\sum_{i&#x3D; 1}^{n}\lambda_{i} &#x3D; \sum_{i &#x3D; 1}^{n}a_{ {ii} },\prod_{i &#x3D; 1}^{n}\lambda_{i}&#x3D; |A|$ ,ä»è€Œ$|A| \neq 0 \Leftrightarrow A$æ²¡æœ‰ç‰¹å¾å€¼ã€‚</p><p>(3)è®¾$\lambda_{1},\lambda_{2},\cdots,\lambda_{s}$ä¸º$A$çš„$s$ä¸ªç‰¹å¾å€¼ï¼Œå¯¹åº”ç‰¹å¾å‘é‡ä¸º$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$ï¼Œ</p><p>è‹¥: $\alpha &#x3D; k_{1}\alpha_{1} + k_{2}\alpha_{2} + \cdots + k_{s}\alpha_{s}$ ,</p><p>åˆ™: $A^{n}\alpha &#x3D; k_{1}A^{n}\alpha_{1} + k_{2}A^{n}\alpha_{2} + \cdots +k_{s}A^{n}\alpha_{s} &#x3D; k_{1}\lambda_{1}^{n}\alpha_{1} +k_{2}\lambda_{2}^{n}\alpha_{2} + \cdots k_{s}\lambda_{s}^{n}\alpha_{s}$ ã€‚</p><h3 id="6-2ç›¸ä¼¼å˜æ¢ã€ç›¸ä¼¼çŸ©é˜µçš„æ¦‚å¿µåŠæ€§è´¨"><a href="#6-2ç›¸ä¼¼å˜æ¢ã€ç›¸ä¼¼çŸ©é˜µçš„æ¦‚å¿µåŠæ€§è´¨" class="headerlink" title="6.2ç›¸ä¼¼å˜æ¢ã€ç›¸ä¼¼çŸ©é˜µçš„æ¦‚å¿µåŠæ€§è´¨"></a><strong>6.2ç›¸ä¼¼å˜æ¢ã€ç›¸ä¼¼çŸ©é˜µçš„æ¦‚å¿µåŠæ€§è´¨</strong></h3><p>(1) è‹¥$A \sim B$ï¼Œåˆ™</p><ol><li><p>$A^{T} \sim B^{T},A^{- 1} \sim B^{- 1},,A^{<em>} \sim B^{</em>}$</p></li><li><p>$|A| &#x3D; |B|,\sum_{i &#x3D; 1}^{n}A_{ {ii} } &#x3D; \sum_{i &#x3D;1}^{n}b_{ {ii} },r(A) &#x3D; r(B)$</p></li><li><p>$|\lambda E - A| &#x3D; |\lambda E - B|$ï¼Œå¯¹$\forall\lambda$æˆç«‹</p></li></ol><h3 id="6-3-çŸ©é˜µå¯ç›¸ä¼¼å¯¹è§’åŒ–çš„å……åˆ†å¿…è¦æ¡ä»¶"><a href="#6-3-çŸ©é˜µå¯ç›¸ä¼¼å¯¹è§’åŒ–çš„å……åˆ†å¿…è¦æ¡ä»¶" class="headerlink" title="6.3 çŸ©é˜µå¯ç›¸ä¼¼å¯¹è§’åŒ–çš„å……åˆ†å¿…è¦æ¡ä»¶"></a><strong>6.3 çŸ©é˜µå¯ç›¸ä¼¼å¯¹è§’åŒ–çš„å……åˆ†å¿…è¦æ¡ä»¶</strong></h3><p>(1)è®¾$A$ä¸º$n$é˜¶æ–¹é˜µï¼Œåˆ™$A$å¯å¯¹è§’åŒ–$\Leftrightarrow$å¯¹æ¯ä¸ª$k_{i}$é‡æ ¹ç‰¹å¾å€¼$\lambda_{i}$ï¼Œæœ‰$n-r(\lambda_{i}E - A) &#x3D; k_{i}$</p><p>(2) è®¾$A$å¯å¯¹è§’åŒ–ï¼Œåˆ™ç”±$P^{- 1}{AP} &#x3D; \Lambda,$æœ‰$A &#x3D; {PÎ›}P^{-1}$ï¼Œä»è€Œ$A^{n} &#x3D; P\Lambda^{n}P^{- 1}$</p><p>(3) é‡è¦ç»“è®º</p><ol><li><p>è‹¥$A \sim B,C \sim D$ï¼Œåˆ™$\begin{bmatrix}  A &amp; O \ O &amp; C \\end{bmatrix} \sim \begin{bmatrix} B &amp; O \  O &amp; D \\end{bmatrix}$.</p></li><li><p>è‹¥$A \sim B$ï¼Œåˆ™$f(A) \sim f(B),\left| f(A) \right| \sim \left| f(B)\right|$ï¼Œå…¶ä¸­$f(A)$ä¸ºå…³äº$n$é˜¶æ–¹é˜µ$A$çš„å¤šé¡¹å¼ã€‚</p></li><li><p>è‹¥$A$ä¸ºå¯å¯¹è§’åŒ–çŸ©é˜µï¼Œåˆ™å…¶éé›¶ç‰¹å¾å€¼çš„ä¸ªæ•°(é‡æ ¹é‡å¤è®¡ç®—)ï¼ç§©($A$)</p></li></ol><h3 id="6-4-å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼ã€ç‰¹å¾å‘é‡åŠç›¸ä¼¼å¯¹è§’é˜µ"><a href="#6-4-å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼ã€ç‰¹å¾å‘é‡åŠç›¸ä¼¼å¯¹è§’é˜µ" class="headerlink" title="6.4 å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼ã€ç‰¹å¾å‘é‡åŠç›¸ä¼¼å¯¹è§’é˜µ"></a><strong>6.4 å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼ã€ç‰¹å¾å‘é‡åŠç›¸ä¼¼å¯¹è§’é˜µ</strong></h3><p>(1)ç›¸ä¼¼çŸ©é˜µï¼šè®¾$A,B$ä¸ºä¸¤ä¸ª$n$é˜¶æ–¹é˜µï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå¯é€†çŸ©é˜µ$P$ï¼Œä½¿å¾—$B &#x3D;P^{- 1}{AP}$æˆç«‹ï¼Œåˆ™ç§°çŸ©é˜µ$A$ä¸$B$ç›¸ä¼¼ï¼Œè®°ä¸º$A \sim B$ã€‚</p><p>(2)ç›¸ä¼¼çŸ©é˜µçš„æ€§è´¨ï¼šå¦‚æœ$A \sim B$åˆ™æœ‰ï¼š</p><ol><li><p>$A^{T} \sim B^{T}$</p></li><li><p>$A^{- 1} \sim B^{- 1}$ ï¼ˆè‹¥$A$ï¼Œ$B$å‡å¯é€†ï¼‰</p></li><li><p>$A^{k} \sim B^{k}$ ï¼ˆ$k$ä¸ºæ­£æ•´æ•°ï¼‰</p></li><li><p>$\left| {Î»E} - A \right| &#x3D; \left| {Î»E} - B \right|$ï¼Œä»è€Œ$A,B$<br>æœ‰ç›¸åŒçš„ç‰¹å¾å€¼</p></li><li><p>$\left| A \right| &#x3D; \left| B \right|$ï¼Œä»è€Œ$A,B$åŒæ—¶å¯é€†æˆ–è€…ä¸å¯é€†</p></li><li><p>ç§©$\left( A \right) &#x3D;$ç§©$\left( B \right),\left| {Î»E} - A \right| &#x3D;\left| {Î»E} - B \right|$ï¼Œ$A,B$ä¸ä¸€å®šç›¸ä¼¼</p></li></ol><h2 id="7-äºŒæ¬¡å‹"><a href="#7-äºŒæ¬¡å‹" class="headerlink" title="7 äºŒæ¬¡å‹"></a>7 äºŒæ¬¡å‹</h2><h3 id="7-1-mathbf-n-ä¸ªå˜é‡-mathbf-x-mathbf-1-mathbf-mathbf-x-mathbf-2-mathbf-cdots-mathbf-x-mathbf-n-çš„äºŒæ¬¡é½æ¬¡å‡½æ•°"><a href="#7-1-mathbf-n-ä¸ªå˜é‡-mathbf-x-mathbf-1-mathbf-mathbf-x-mathbf-2-mathbf-cdots-mathbf-x-mathbf-n-çš„äºŒæ¬¡é½æ¬¡å‡½æ•°" class="headerlink" title="7.1 $\mathbf{n}$ä¸ªå˜é‡$\mathbf{x}{\mathbf{1} }\mathbf{,}\mathbf{x}{\mathbf{2} }\mathbf{,\cdots,}\mathbf{x}_{\mathbf{n} }$çš„äºŒæ¬¡é½æ¬¡å‡½æ•°"></a><strong>7.1</strong> $\mathbf{n}$<strong>ä¸ªå˜é‡</strong>$\mathbf{x}<em>{\mathbf{1} }\mathbf{,}\mathbf{x}</em>{\mathbf{2} }\mathbf{,\cdots,}\mathbf{x}_{\mathbf{n} }$<strong>çš„äºŒæ¬¡é½æ¬¡å‡½æ•°</strong></h3><p>$f(x_{1},x_{2},\cdots,x_{n}) &#x3D; \sum_{i &#x3D; 1}^{n}{\sum_{j &#x3D;1}^{n}{a_{ {ij} }x_{i}y_{j} }}$ï¼Œå…¶ä¸­$a_{ {ij} } &#x3D; a_{ {ji} }(i,j &#x3D;1,2,\cdots,n)$ï¼Œç§°ä¸º$n$å…ƒäºŒæ¬¡å‹ï¼Œç®€ç§°äºŒæ¬¡å‹. è‹¥ä»¤$x &#x3D; \ \begin{bmatrix}x_{1} \ x_{1} \  \vdots \ x_{n} \ \end{bmatrix},A &#x3D; \begin{bmatrix}  a_{11}&amp; a_{12}&amp; \cdots &amp; a_{1n} \  a_{21}&amp; a_{22}&amp; \cdots &amp; a_{2n} \ \cdots &amp;\cdots &amp;\cdots &amp;\cdots \  a_{n1}&amp; a_{n2} &amp; \cdots &amp; a_{ {nn} } \\end{bmatrix}$,è¿™äºŒæ¬¡å‹$f$å¯æ”¹å†™æˆçŸ©é˜µå‘é‡å½¢å¼$f &#x3D;x^{T}{Ax}$ï¼Œå…¶ä¸­$A$ç§°ä¸ºäºŒæ¬¡å‹çŸ©é˜µã€‚å†™å¾—æ¸…æ¥šäº›ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š</p><p>$$<br>x^{T} A x&#x3D;\sum_{i&#x3D;1}^{n} x_{i}(A x)<em>{i}&#x3D;\sum</em>{i&#x3D;1}^{n} x_{i}\left(\sum_{j&#x3D;1}^{n} A_{i j} x_{j}\right)&#x3D;\sum_{i&#x3D;1}^{n} \sum_{j&#x3D;1}^{n} A_{i j} x_{i} x_{j}<br>$$</p><p>æ³¨æ„ï¼š<br>$<br>x^{T} A x&#x3D;\left(x^{T} A x\right)^{T}&#x3D;x^{T} A^{T} x&#x3D;x^{T}\left(\frac{1}{2} A+\frac{1}{2} A^{T}\right) x<br>$ç¬¬ä¸€ä¸ªç­‰å·çš„æ˜¯å› ä¸ºæ˜¯æ ‡é‡çš„è½¬ç½®ä¸è‡ªèº«ç›¸ç­‰ï¼Œè€Œç¬¬äºŒä¸ªç­‰å·æ˜¯å› ä¸ºæ˜¯æˆ‘ä»¬å¹³å‡ä¸¤ä¸ªæœ¬èº«ç›¸ç­‰çš„é‡ã€‚ ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼Œåªæœ‰$A$çš„å¯¹ç§°éƒ¨åˆ†æœ‰åŠ©äºå½¢æˆäºŒæ¬¡å‹ã€‚ å‡ºäºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬ç»å¸¸éšå«åœ°å‡è®¾ä»¥äºŒæ¬¡å‹å‡ºç°çš„çŸ©é˜µæ˜¯å¯¹ç§°é˜µã€‚<br>æˆ‘ä»¬ç»™å‡ºä»¥ä¸‹å®šä¹‰ï¼š</p><ul><li><p>å¯¹äºæ‰€æœ‰éé›¶å‘é‡$x \in \mathbb{R}^n$ï¼Œ$x^TAx&gt;0$ï¼Œå¯¹ç§°é˜µ$A \in \mathbb{S}^n$ä¸º<strong>æ­£å®š</strong>ï¼ˆ<strong>positive definite,PD</strong>ï¼‰ã€‚è¿™é€šå¸¸è¡¨ç¤ºä¸º$A\succ0$ï¼ˆæˆ–$A&gt;0$ï¼‰ï¼Œå¹¶ä¸”é€šå¸¸å°†æ‰€æœ‰æ­£å®šçŸ©é˜µçš„é›†åˆè¡¨ç¤ºä¸º$\mathbb{S}_{++}^n$ã€‚</p></li><li><p>å¯¹äºæ‰€æœ‰å‘é‡$x^TAx\geq 0$ï¼Œå¯¹ç§°çŸ©é˜µ$A \in \mathbb{S}^n$æ˜¯<strong>åŠæ­£å®š</strong>(<strong>positive semidefinite ,PSD</strong>)ã€‚ è¿™å†™ä¸ºï¼ˆæˆ–$A \succeq 0$ä»…$Aâ‰¥0$ï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰åŠæ­£å®šçŸ©é˜µçš„é›†åˆé€šå¸¸è¡¨ç¤ºä¸º$\mathbb{S}_+^n$ã€‚</p></li><li><p>åŒæ ·ï¼Œå¯¹ç§°çŸ©é˜µ$A \in \mathbb{S}^n$æ˜¯<strong>è´Ÿå®š</strong>ï¼ˆ<strong>negative definite,ND</strong>ï¼‰ï¼Œå¦‚æœå¯¹äºæ‰€æœ‰éé›¶$x \in \mathbb{R}^n$ï¼Œåˆ™$x^TAx &lt;0$è¡¨ç¤ºä¸º$A\prec0$ï¼ˆæˆ–$A &lt;0$ï¼‰ã€‚</p></li><li><p>ç±»ä¼¼åœ°ï¼Œå¯¹ç§°çŸ©é˜µ$A \in \mathbb{S}^n$æ˜¯<strong>åŠè´Ÿå®š</strong>(<strong>negative semidefinite,NSD</strong>ï¼‰ï¼Œå¦‚æœå¯¹äºæ‰€æœ‰$x \in \mathbb{R}^n$ï¼Œåˆ™$x^TAx \leq 0$è¡¨ç¤ºä¸º$A\preceq 0$ï¼ˆæˆ–$Aâ‰¤0$ï¼‰ã€‚</p></li><li><p>æœ€åï¼Œå¯¹ç§°çŸ©é˜µ$A \in \mathbb{S}^n$æ˜¯<strong>ä¸å®š</strong>çš„ï¼Œå¦‚æœå®ƒæ—¢ä¸æ˜¯æ­£åŠå®šä¹Ÿä¸æ˜¯è´ŸåŠå®šï¼Œå³ï¼Œå¦‚æœå­˜åœ¨$x_1,x_2 \in \mathbb{R}^n$ï¼Œé‚£ä¹ˆ$x_1^TAx_1&gt;0$ä¸”$x_2^TAx_2&lt;0$ã€‚</p></li></ul><p>å¾ˆæ˜æ˜¾ï¼Œå¦‚æœ$A$æ˜¯æ­£å®šçš„ï¼Œé‚£ä¹ˆ$âˆ’A$æ˜¯è´Ÿå®šçš„ï¼Œåä¹‹äº¦ç„¶ã€‚åŒæ ·ï¼Œå¦‚æœ$A$æ˜¯åŠæ­£å®šçš„ï¼Œé‚£ä¹ˆ$âˆ’A$æ˜¯æ˜¯åŠè´Ÿå®šçš„ï¼Œåä¹‹äº¦ç„¶ã€‚å¦‚æœæœ$A$æ˜¯ä¸å®šçš„ï¼Œé‚£ä¹ˆ$âˆ’A$æ˜¯ä¹Ÿæ˜¯ä¸å®šçš„ã€‚</p><p>æ­£å®šçŸ©é˜µå’Œè´Ÿå®šçŸ©é˜µçš„ä¸€ä¸ªé‡è¦æ€§è´¨æ˜¯å®ƒä»¬æ€»æ˜¯æ»¡ç§©ï¼Œå› æ­¤æ˜¯å¯é€†çš„ã€‚ä¸ºäº†äº†è§£è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Œå‡è®¾æŸä¸ªçŸ©é˜µ$A \in \mathbb{S}^n$ä¸æ˜¯æ»¡ç§©ã€‚ç„¶åï¼Œå‡è®¾$A$çš„ç¬¬$j$åˆ—å¯ä»¥è¡¨ç¤ºä¸ºå…¶ä»–$n-1$åˆ—çš„çº¿æ€§ç»„åˆï¼š<br>$<br>a_{j}&#x3D;\sum_{i \neq j} x_{i} a_{i}<br>$å¯¹äºæŸäº›$x_1,\cdots x_{j-1},x_{j + 1} ,\cdots ,x_n\in \mathbb{R}$ã€‚è®¾$x_j &#x3D; -1$ï¼Œåˆ™ï¼š<br>$x&#x3D;\sum_{i \neq j} x_{i} a_{i}&#x3D;0<br>$æ„å‘³ç€å¯¹äºæŸäº›éé›¶å‘é‡$x$ï¼Œ$x^T Ax &#x3D; 0$ï¼Œå› æ­¤$A$å¿…é¡»æ—¢ä¸æ˜¯æ­£å®šä¹Ÿä¸æ˜¯è´Ÿå®šã€‚å¦‚æœ$A$æ˜¯æ­£å®šæˆ–è´Ÿå®šï¼Œåˆ™å¿…é¡»æ˜¯æ»¡ç§©ã€‚<br>æœ€åï¼Œæœ‰ä¸€ç§ç±»å‹çš„æ­£å®šçŸ©é˜µç»å¸¸å‡ºç°ï¼Œå› æ­¤å€¼å¾—ç‰¹åˆ«æåŠã€‚ ç»™å®šçŸ©é˜µ$A  \in \mathbb{R}^{m \times n}$ï¼ˆä¸ä¸€å®šæ˜¯å¯¹ç§°æˆ–å¶æ•°å¹³æ–¹ï¼‰ï¼ŒçŸ©é˜µ$G &#x3D; A^T A$ï¼ˆæœ‰æ—¶ç§°ä¸º<strong>GramçŸ©é˜µ</strong>ï¼‰æ€»æ˜¯åŠæ­£å®šçš„ã€‚ æ­¤å¤–ï¼Œå¦‚æœ$m\geq n$ï¼ˆåŒæ—¶ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾$A$æ˜¯æ»¡ç§©ï¼‰ï¼Œåˆ™$G &#x3D; A^T A$æ˜¯æ­£å®šçš„ã€‚</p><h3 id="7-2-æƒ¯æ€§å®šç†ï¼ŒäºŒæ¬¡å‹çš„æ ‡å‡†å½¢å’Œè§„èŒƒå½¢"><a href="#7-2-æƒ¯æ€§å®šç†ï¼ŒäºŒæ¬¡å‹çš„æ ‡å‡†å½¢å’Œè§„èŒƒå½¢" class="headerlink" title="7.2 æƒ¯æ€§å®šç†ï¼ŒäºŒæ¬¡å‹çš„æ ‡å‡†å½¢å’Œè§„èŒƒå½¢"></a><strong>7.2 æƒ¯æ€§å®šç†ï¼ŒäºŒæ¬¡å‹çš„æ ‡å‡†å½¢å’Œè§„èŒƒå½¢</strong></h3><p>(1) æƒ¯æ€§å®šç†</p><p>å¯¹äºä»»ä¸€äºŒæ¬¡å‹ï¼Œä¸è®ºé€‰å–æ€æ ·çš„åˆåŒå˜æ¢ä½¿å®ƒåŒ–ä¸ºä»…å«å¹³æ–¹é¡¹çš„æ ‡å‡†å‹ï¼Œå…¶æ­£è´Ÿæƒ¯æ€§æŒ‡æ•°ä¸æ‰€é€‰å˜æ¢æ— å…³ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„æƒ¯æ€§å®šç†ã€‚</p><p>(2) æ ‡å‡†å½¢</p><p>äºŒæ¬¡å‹$f &#x3D; \left( x_{1},x_{2},\cdots,x_{n} \right) &#x3D;x^{T}{Ax}$ç»è¿‡åˆåŒå˜æ¢$x &#x3D; {Cy}$åŒ–ä¸º$f &#x3D; x^{T}{Ax} &#x3D;y^{T}C^{T}{AC}$</p><p>$y &#x3D; \sum_{i &#x3D; 1}^{r}{d_{i}y_{i}^{2} }$ç§°ä¸º $f(r \leq n)$çš„æ ‡å‡†å½¢ã€‚åœ¨ä¸€èˆ¬çš„æ•°åŸŸå†…ï¼ŒäºŒæ¬¡å‹çš„æ ‡å‡†å½¢ä¸æ˜¯å”¯ä¸€çš„ï¼Œä¸æ‰€ä½œçš„åˆåŒå˜æ¢æœ‰å…³ï¼Œä½†ç³»æ•°ä¸ä¸ºé›¶çš„å¹³æ–¹é¡¹çš„ä¸ªæ•°ç”±$r(A)$å”¯ä¸€ç¡®å®šã€‚</p><p>(3) è§„èŒƒå½¢</p><p>ä»»ä¸€å®äºŒæ¬¡å‹$f$éƒ½å¯ç»è¿‡åˆåŒå˜æ¢åŒ–ä¸ºè§„èŒƒå½¢$f &#x3D; z_{1}^{2} + z_{2}^{2} + \cdots z_{p}^{2} - z_{p + 1}^{2} - \cdots -z_{r}^{2}$ï¼Œå…¶ä¸­$r$ä¸º$A$çš„ç§©ï¼Œ$p$ä¸ºæ­£æƒ¯æ€§æŒ‡æ•°ï¼Œ$r -p$ä¸ºè´Ÿæƒ¯æ€§æŒ‡æ•°ï¼Œä¸”è§„èŒƒå‹å”¯ä¸€ã€‚</p><h3 id="7-3-ç”¨æ­£äº¤å˜æ¢å’Œé…æ–¹æ³•åŒ–äºŒæ¬¡å‹ä¸ºæ ‡å‡†å½¢ï¼ŒäºŒæ¬¡å‹åŠå…¶çŸ©é˜µçš„æ­£å®šæ€§"><a href="#7-3-ç”¨æ­£äº¤å˜æ¢å’Œé…æ–¹æ³•åŒ–äºŒæ¬¡å‹ä¸ºæ ‡å‡†å½¢ï¼ŒäºŒæ¬¡å‹åŠå…¶çŸ©é˜µçš„æ­£å®šæ€§" class="headerlink" title="7.3 ç”¨æ­£äº¤å˜æ¢å’Œé…æ–¹æ³•åŒ–äºŒæ¬¡å‹ä¸ºæ ‡å‡†å½¢ï¼ŒäºŒæ¬¡å‹åŠå…¶çŸ©é˜µçš„æ­£å®šæ€§"></a><strong>7.3 ç”¨æ­£äº¤å˜æ¢å’Œé…æ–¹æ³•åŒ–äºŒæ¬¡å‹ä¸ºæ ‡å‡†å½¢ï¼ŒäºŒæ¬¡å‹åŠå…¶çŸ©é˜µçš„æ­£å®šæ€§</strong></h3><p>è®¾$A$æ­£å®š$\Rightarrow {kA}(k &gt; 0),A^{T},A^{- 1},A^{*}$æ­£å®šï¼›$|A| &gt;0$,$A$å¯é€†ï¼›$a_{ {ii} } &gt; 0$ï¼Œä¸”$|A_{ {ii} }| &gt; 0$</p><p>$A$ï¼Œ$B$æ­£å®š$\Rightarrow A +B$æ­£å®šï¼Œä½†${AB}$ï¼Œ${BA}$ä¸ä¸€å®šæ­£å®š</p><p>$A$æ­£å®š$\Leftrightarrow f(x) &#x3D; x^{T}{Ax} &gt; 0,\forall x \neq 0$</p><p>$\Leftrightarrow A$çš„å„é˜¶é¡ºåºä¸»å­å¼å…¨å¤§äºé›¶</p><p>$\Leftrightarrow A$çš„æ‰€æœ‰ç‰¹å¾å€¼å¤§äºé›¶</p><p>$\Leftrightarrow A$çš„æ­£æƒ¯æ€§æŒ‡æ•°ä¸º$n$</p><p>$\Leftrightarrow$å­˜åœ¨å¯é€†é˜µ$P$ä½¿$A &#x3D; P^{T}P$</p><p>$\Leftrightarrow$å­˜åœ¨æ­£äº¤çŸ©é˜µ$Q$ï¼Œä½¿$Q^{T}{AQ} &#x3D; Q^{- 1}{AQ} &#x3D;\begin{pmatrix} \lambda_{1} &amp; &amp; \ \begin{matrix}  &amp; \  &amp; \ \end{matrix} &amp;\ddots &amp; \  &amp; &amp; \lambda_{n} \ \end{pmatrix},$</p><p>å…¶ä¸­$\lambda_{i} &gt; 0,i &#x3D; 1,2,\cdots,n.$æ­£å®š$\Rightarrow {kA}(k &gt;0),A^{T},A^{- 1},A^{*}$æ­£å®šï¼› $|A| &gt; 0,A$å¯é€†ï¼›$a_{ {ii} } &gt;0$ï¼Œä¸”$|A_{ {ii} }| &gt; 0$ ã€‚ }| &gt; 0$ ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
      <tag>Mathematics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learning Foundationâ€”â€”çŸ©é˜µæ±‚å¯¼</title>
    <link href="/2022/08/01/MachineLearning/%E7%9F%A9%E9%98%B5%E5%90%91%E9%87%8F%E6%B1%82%E5%AF%BC/"/>
    <url>/2022/08/01/MachineLearning/%E7%9F%A9%E9%98%B5%E5%90%91%E9%87%8F%E6%B1%82%E5%AF%BC/</url>
    
    <content type="html"><![CDATA[<h1 id="å¸¸ç”¨çš„çŸ©é˜µæ±‚å¯¼"><a href="#å¸¸ç”¨çš„çŸ©é˜µæ±‚å¯¼" class="headerlink" title="å¸¸ç”¨çš„çŸ©é˜µæ±‚å¯¼"></a><strong>å¸¸ç”¨çš„çŸ©é˜µæ±‚å¯¼</strong></h1><p>$$<br>\frac{\partial{\beta^T \mathbb{x}}}{\partial{\mathbb{x}}}&#x3D;\beta \<br>\frac{\partial{\mathbb{x}^T \mathbb{x}}}{\partial{\mathbb{x}}}&#x3D;2\mathbb{x} \<br>\frac{\partial{\mathbb{x}^T A\mathbb{x}}}{\partial{\mathbb{x}}}&#x3D;(A+A^T)\mathbb{x} \<br>tr(a)&#x3D;a \<br>tr(AB)&#x3D;tr(BA) \<br>tr(ABC)&#x3D;tr(BCA)&#x3D;tr(CAB) \<br>\frac{\partial tr(AB)}{\partial A} &#x3D; B^T \<br>tr(A)&#x3D;tr(A^T) \<br>\frac{\partial tr(ABA^TC)}{\partial A}&#x3D;CAB+C^TAB^T<br>$$</p><p><img src="/src/image-20211229220010048.png" alt="image-20211229220010048"></p><p><img src="/%5Csrc%5Cimage-20211229220137867.png" alt="image-20211229220137867"></p><p><img src="/%5Csrc%5Cimage-20211229220247720.png" alt="image-20211229220247720"></p><p><img src="/%5Csrc%5Cimage-20211229214110342.png" alt="image-20211229214110342"></p><h1 id="1-çŸ©é˜µå‘é‡æ±‚å¯¼å¼•å…¥"><a href="#1-çŸ©é˜µå‘é‡æ±‚å¯¼å¼•å…¥" class="headerlink" title="1. çŸ©é˜µå‘é‡æ±‚å¯¼å¼•å…¥"></a>1. çŸ©é˜µå‘é‡æ±‚å¯¼å¼•å…¥</h1><p>ã€€ã€€ã€€ã€€åœ¨é«˜ç­‰æ•°å­¦é‡Œé¢ï¼Œæˆ‘ä»¬å·²ç»å­¦è¿‡äº†æ ‡é‡å¯¹æ ‡é‡çš„æ±‚å¯¼ï¼Œæ¯”å¦‚æ ‡é‡$y$å¯¹æ ‡é‡$x$çš„æ±‚å¯¼ï¼Œå¯ä»¥è¡¨ç¤ºä¸º$\frac{\partial y}{\partial x}$ã€‚</p><p>ã€€ã€€ã€€ã€€æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸€ç»„æ ‡é‡$y_i,i&#x3D;1,2,\dots,m$æ¥å¯¹ä¸€ä¸ªæ ‡é‡$x$çš„æ±‚å¯¼,é‚£ä¹ˆæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ç»„æ ‡é‡æ±‚å¯¼çš„ç»“æœï¼š<br>$<br>\frac{\partial y}{\partial x},i&#x3D;1,2,\dots,m<br>$<br>ã€€ã€€ã€€ã€€å¦‚æœæˆ‘ä»¬æŠŠè¿™ç»„æ ‡é‡å†™æˆå‘é‡çš„å½¢å¼ï¼Œå³å¾—åˆ°ç»´åº¦ä¸ºmçš„ä¸€ä¸ªå‘é‡$\mathbb{y}$å¯¹ä¸€ä¸ªæ ‡é‡$x$çš„æ±‚å¯¼ï¼Œé‚£ä¹ˆç»“æœä¹Ÿæ˜¯ä¸€ä¸ªmç»´çš„å‘é‡ï¼š$\frac{\partial \mathbb{y}}{\partial x}$</p><p>ã€€ã€€ã€€ã€€å¯è§ï¼Œæ‰€è°“å‘é‡å¯¹æ ‡é‡çš„æ±‚å¯¼ï¼Œå…¶å®å°±æ˜¯å‘é‡é‡Œçš„æ¯ä¸ªåˆ†é‡åˆ†åˆ«å¯¹æ ‡é‡æ±‚å¯¼ï¼Œæœ€åæŠŠæ±‚å¯¼çš„ç»“æœæ’åˆ—åœ¨ä¸€èµ·ï¼ŒæŒ‰ä¸€ä¸ªå‘é‡è¡¨ç¤ºè€Œå·²ã€‚ç±»ä¼¼çš„ç»“è®ºä¹Ÿå­˜åœ¨äºæ ‡é‡å¯¹å‘é‡çš„æ±‚å¯¼ï¼Œå‘é‡å¯¹å‘é‡çš„æ±‚å¯¼ï¼Œå‘é‡å¯¹çŸ©é˜µçš„æ±‚å¯¼ï¼ŒçŸ©é˜µå¯¹å‘é‡çš„æ±‚å¯¼ï¼Œä»¥åŠçŸ©é˜µå¯¹çŸ©é˜µçš„æ±‚å¯¼ç­‰ã€‚</p><p>ã€€ã€€ã€€ã€€æ€»è€Œè¨€ä¹‹ï¼Œæ‰€è°“çš„å‘é‡çŸ©é˜µæ±‚å¯¼æœ¬è´¨ä¸Šå°±æ˜¯å¤šå…ƒå‡½æ•°æ±‚å¯¼ï¼Œä»…ä»…æ˜¯æŠŠæŠŠå‡½æ•°çš„è‡ªå˜é‡ï¼Œå› å˜é‡ä»¥åŠæ ‡é‡æ±‚å¯¼çš„ç»“æœæ’åˆ—æˆäº†å‘é‡çŸ©é˜µçš„å½¢å¼ï¼Œæ–¹ä¾¿è¡¨è¾¾ä¸è®¡ç®—ï¼Œæ›´åŠ ç®€æ´è€Œå·²ã€‚</p><p>ã€€ã€€ã€€ã€€ä¸ºäº†ä¾¿äºæè¿°ï¼Œåé¢å¦‚æœæ²¡æœ‰æŒ‡æ˜ï¼Œåˆ™æ±‚å¯¼çš„è‡ªå˜é‡ç”¨$x$è¡¨ç¤ºæ ‡é‡ï¼Œ$ \mathbb{x}$è¡¨ç¤ºnç»´å‘é‡ï¼Œ$X$è¡¨ç¤ºmÃ—nç»´åº¦çš„çŸ©é˜µï¼Œæ±‚å¯¼çš„å› å˜é‡ç”¨$y$è¡¨ç¤ºæ ‡é‡ï¼Œ$ \mathbb{y}$è¡¨ç¤ºmç»´å‘é‡ï¼Œ$Y$è¡¨ç¤ºpÃ—qç»´åº¦çš„çŸ©é˜µã€‚</p><h1 id="2-çŸ©é˜µå‘é‡æ±‚å¯¼å®šä¹‰"><a href="#2-çŸ©é˜µå‘é‡æ±‚å¯¼å®šä¹‰" class="headerlink" title="2. çŸ©é˜µå‘é‡æ±‚å¯¼å®šä¹‰"></a>2. çŸ©é˜µå‘é‡æ±‚å¯¼å®šä¹‰</h1><p>ã€€ã€€ã€€ã€€æ ¹æ®æ±‚å¯¼çš„è‡ªå˜é‡å’Œå› å˜é‡æ˜¯æ ‡é‡ï¼Œå‘é‡è¿˜æ˜¯çŸ©é˜µï¼Œæˆ‘ä»¬æœ‰9ç§å¯èƒ½çš„çŸ©é˜µæ±‚å¯¼å®šä¹‰ï¼Œå¦‚ä¸‹ï¼š</p><table><thead><tr><th>è‡ªå˜é‡\å› å˜é‡</th><th>æ ‡é‡$y$</th><th>å‘é‡$\mathbb{y}$</th><th>çŸ©é˜µ$Y$</th></tr></thead><tbody><tr><td>æ ‡é‡$x$</td><td>$\frac{\partial y}{\partial x}$</td><td>$\frac{\partial \mathbb{y}}{\partial x}$</td><td>$\frac{\partial Y}{\partial x}$</td></tr><tr><td>å‘é‡$ \mathbb{x}$</td><td>$\frac{\partial y}{\partial \mathbb{x}}$</td><td>$\frac{\partial \mathbb{y}}{\partial \mathbb{x}}$</td><td>$\frac{\partial Y}{\partial \mathbb{x}}$</td></tr><tr><td>çŸ©é˜µ$X$</td><td>$\frac{\partial y}{\partial X}$</td><td>$\frac{\partial \mathbb{y}}{\partial X}$</td><td>$\frac{\partial Y}{\partial X}$</td></tr></tbody></table><p>ã€€ã€€ã€€ã€€è¿™9ç§é‡Œé¢ï¼Œæ ‡é‡å¯¹æ ‡é‡çš„æ±‚å¯¼é«˜æ•°é‡Œé¢å°±æœ‰ï¼Œä¸éœ€è¦æˆ‘ä»¬å•ç‹¬è®¨è®ºï¼Œåœ¨å‰©ä¸‹çš„8ç§æƒ…å†µé‡Œé¢ï¼Œæˆ‘ä»¬å…ˆè®¨è®ºä¸Šå›¾ä¸­æ ‡é‡å¯¹å‘é‡æˆ–çŸ©é˜µæ±‚å¯¼ï¼Œå‘é‡æˆ–çŸ©é˜µå¯¹æ ‡é‡æ±‚å¯¼ï¼Œä»¥åŠå‘é‡å¯¹å‘é‡æ±‚å¯¼è¿™5ç§æƒ…å†µã€‚å¦å¤–ä¸‰ç§å‘é‡å¯¹çŸ©é˜µçš„æ±‚å¯¼ï¼ŒçŸ©é˜µå¯¹å‘é‡çš„æ±‚å¯¼ï¼Œä»¥åŠçŸ©é˜µå¯¹çŸ©é˜µçš„æ±‚å¯¼æˆ‘ä»¬åœ¨åé¢å†è®²ã€‚</p><p>ã€€ã€€ã€€ã€€ç°åœ¨æˆ‘ä»¬å›çœ‹ç¬¬ä¸€èŠ‚è®²åˆ°çš„ä¾‹å­ï¼Œç»´åº¦ä¸ºmçš„ä¸€ä¸ªå‘é‡$\mathbb{y}$å¯¹ä¸€ä¸ªæ ‡é‡$x$çš„æ±‚å¯¼ï¼Œé‚£ä¹ˆç»“æœä¹Ÿæ˜¯ä¸€ä¸ªmç»´çš„å‘é‡ï¼š$\frac{\partial \mathbb{y}}{\partial x}$ã€‚è¿™æ˜¯æˆ‘ä»¬è¡¨æ ¼é‡Œé¢å‘é‡å¯¹æ ‡é‡æ±‚å¯¼çš„æƒ…å†µã€‚è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜æ²¡æœ‰è®²åˆ°ï¼Œå°±æ˜¯è¿™ä¸ªmç»´çš„æ±‚å¯¼ç»“æœæ’åˆ—æˆçš„mç»´å‘é‡åˆ°åº•åº”è¯¥æ˜¯åˆ—å‘é‡è¿˜æ˜¯è¡Œå‘é‡ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼š<strong>è¡Œå‘é‡æˆ–è€…åˆ—å‘é‡çš†å¯</strong>ï¼æ¯•ç«Ÿæˆ‘ä»¬æ±‚å¯¼çš„æœ¬è´¨åªæ˜¯æŠŠæ ‡é‡æ±‚å¯¼çš„ç»“æœæ’åˆ—èµ·æ¥ï¼Œè‡³äºæ˜¯æŒ‰è¡Œæ’åˆ—è¿˜æ˜¯æŒ‰åˆ—æ’åˆ—éƒ½æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯è¿™æ ·ä¹Ÿæœ‰é—®é¢˜ï¼Œåœ¨æˆ‘ä»¬æœºå™¨å­¦ä¹ ç®—æ³•æ³•ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè¡Œå‘é‡æˆ–è€…åˆ—å‘é‡éšä¾¿å†™ï¼Œé‚£ä¹ˆç»“æœå°±ä¸å”¯ä¸€ï¼Œä¹±å¥—äº†ã€‚</p><p>ã€€ã€€ã€€ã€€ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥æ±‚å¯¼å¸ƒå±€çš„æ¦‚å¿µã€‚</p><h1 id="3-çŸ©é˜µå‘é‡æ±‚å¯¼å¸ƒå±€"><a href="#3-çŸ©é˜µå‘é‡æ±‚å¯¼å¸ƒå±€" class="headerlink" title="3. çŸ©é˜µå‘é‡æ±‚å¯¼å¸ƒå±€"></a>3. çŸ©é˜µå‘é‡æ±‚å¯¼å¸ƒå±€</h1><p>ã€€ã€€ã€€ã€€ä¸ºäº†è§£å†³çŸ©é˜µå‘é‡æ±‚å¯¼çš„ç»“æœä¸å”¯ä¸€ï¼Œæˆ‘ä»¬å¼•å…¥æ±‚å¯¼å¸ƒå±€ã€‚æœ€åŸºæœ¬çš„æ±‚å¯¼å¸ƒå±€æœ‰ä¸¤ä¸ªï¼šåˆ†å­å¸ƒå±€(numerator layout)å’Œåˆ†æ¯å¸ƒå±€(denominator layout )ã€‚</p><p>ã€€ã€€ã€€ã€€å¯¹äºåˆ†å­å¸ƒå±€æ¥è¯´ï¼Œæˆ‘ä»¬æ±‚å¯¼ç»“æœçš„ç»´åº¦ä»¥åˆ†å­ä¸ºä¸»ï¼Œæ¯”å¦‚å¯¹äºæˆ‘ä»¬ä¸Šé¢å¯¹æ ‡é‡æ±‚å¯¼çš„ä¾‹å­ï¼Œç»“æœçš„ç»´åº¦å’Œåˆ†å­çš„ç»´åº¦æ˜¯ä¸€è‡´çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå‘é‡$\mathbb{y}$æ˜¯ä¸€ä¸ªmç»´çš„åˆ—å‘é‡ï¼Œé‚£ä¹ˆæ±‚å¯¼ç»“æœ$\frac{\partial \mathbb{y}}{\partial x}$ä¹Ÿæ˜¯ä¸€ä¸ªmç»´åˆ—å‘é‡ã€‚å¦‚æœå¦‚æœå‘é‡$\mathbb{y}$æ˜¯ä¸€ä¸ªmç»´çš„è¡Œå‘é‡ï¼Œé‚£ä¹ˆæ±‚å¯¼ç»“æœ$\frac{\partial \mathbb{y}}{\partial x}$ä¹Ÿæ˜¯ä¸€ä¸ªmç»´è¡Œå‘é‡ã€‚</p><p>ã€€ã€€ã€€ã€€å¯¹äºåˆ†æ¯å¸ƒå±€æ¥è¯´ï¼Œæˆ‘ä»¬æ±‚å¯¼ç»“æœçš„ç»´åº¦ä»¥åˆ†æ¯ä¸ºä¸»ï¼Œæ¯”å¦‚å¯¹äºæˆ‘ä»¬ä¸Šé¢å¯¹æ ‡é‡æ±‚å¯¼çš„ä¾‹å­ï¼Œå¦‚æœå‘é‡$\mathbb{y}$æ˜¯ä¸€ä¸ªmç»´çš„åˆ—å‘é‡ï¼Œé‚£ä¹ˆæ±‚å¯¼ç»“æœ$\frac{\partial \mathbb{y}}{\partial x}$æ˜¯ä¸€ä¸ªmç»´è¡Œå‘é‡ã€‚å¦‚æœå¦‚æœå‘é‡$\mathbb{y}$æ˜¯ä¸€ä¸ªmç»´çš„è¡Œå‘é‡ï¼Œé‚£ä¹ˆæ±‚å¯¼ç»“æœ$\frac{\partial \mathbb{y}}{\partial x}$æ˜¯ä¸€ä¸ªmç»´çš„åˆ—å‘é‡å‘é‡ã€‚</p><p>ã€€ã€€ã€€ã€€å¯è§ï¼Œå¯¹äºåˆ†å­å¸ƒå±€å’Œåˆ†æ¯å¸ƒå±€çš„ç»“æœæ¥è¯´ï¼Œä¸¤è€…ç›¸å·®ä¸€ä¸ª<strong>è½¬ç½®</strong>ã€‚</p><p>ã€€ã€€ã€€ã€€å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ ‡é‡$y$å¯¹çŸ©é˜µ$X$æ±‚å¯¼ï¼Œé‚£ä¹ˆå¦‚æœæŒ‰åˆ†æ¯å¸ƒå±€ï¼Œåˆ™æ±‚å¯¼ç»“æœçš„ç»´åº¦å’ŒçŸ©é˜µ$X$çš„ç»´åº¦mÃ—næ˜¯ä¸€è‡´çš„ã€‚å¦‚æœæ˜¯åˆ†å­å¸ƒå±€ï¼Œåˆ™æ±‚å¯¼ç»“æœçš„ç»´åº¦ä¸ºnÃ—mã€‚</p><p>ã€€ã€€ã€€ã€€è¿™æ ·ï¼Œå¯¹äºæ ‡é‡å¯¹å‘é‡æˆ–è€…çŸ©é˜µæ±‚å¯¼ï¼Œå‘é‡æˆ–è€…çŸ©é˜µå¯¹æ ‡é‡æ±‚å¯¼è¿™4ç§æƒ…å†µï¼Œå¯¹åº”çš„åˆ†å­å¸ƒå±€å’Œåˆ†æ¯å¸ƒå±€çš„æ’åˆ—æ–¹å¼å·²ç»ç¡®å®šäº†ã€‚</p><p>ã€€ã€€ã€€ã€€ç¨å¾®éº»çƒ¦ç‚¹çš„æ˜¯å‘é‡å¯¹å‘é‡çš„æ±‚å¯¼ï¼Œæœ¬æ–‡åªè®¨è®ºåˆ—å‘é‡å¯¹åˆ—å‘é‡çš„æ±‚å¯¼ï¼Œå…¶ä»–çš„è¡Œå‘é‡æ±‚å¯¼åªæ˜¯å·®ä¸€ä¸ªè½¬ç½®è€Œå·²ã€‚æ¯”å¦‚mç»´åˆ—å‘é‡$\mathbb{y}$å¯¹nç»´åˆ—å‘é‡$ \mathbb{x}$æ±‚å¯¼ã€‚å®ƒçš„æ±‚å¯¼ç»“æœåœ¨åˆ†å­å¸ƒå±€å’Œåˆ†æ¯å¸ƒå±€å„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¯¹äºè¿™2ä¸ªå‘é‡æ±‚å¯¼ï¼Œé‚£ä¹ˆä¸€å…±æœ‰mnä¸ªæ ‡é‡å¯¹æ ‡é‡çš„æ±‚å¯¼ã€‚æ±‚å¯¼çš„ç»“æœä¸€èˆ¬æ˜¯æ’åˆ—ä¸ºä¸€ä¸ªçŸ©é˜µã€‚å¦‚æœæ˜¯åˆ†å­å¸ƒå±€ï¼Œåˆ™çŸ©é˜µçš„ç¬¬ä¸€ä¸ªç»´åº¦ä»¥åˆ†å­ä¸ºå‡†ï¼Œå³ç»“æœæ˜¯ä¸€ä¸ªmÃ—nçš„çŸ©é˜µï¼Œå¦‚ä¸‹ï¼š<br>$<br>\frac{\partial \mathbb{y}}{\partial \mathbb{x}}&#x3D;\begin{pmatrix}<br>\frac{\partial \mathbb{y_1}}{\partial \mathbb{x_1}} &amp; \frac{\partial \mathbb{y_1}}{\partial \mathbb{x_2}} &amp; \ldots &amp; \frac{\partial \mathbb{y_!}}{\partial \mathbb{x_n}} \<br>\frac{\partial \mathbb{y_2}}{\partial \mathbb{x_1}} &amp; \frac{\partial \mathbb{y_2}}{\partial \mathbb{x_2}} &amp; \ldots &amp; \frac{\partial \mathbb{y_2}}{\partial \mathbb{x_n}} \<br>\ldots &amp; \ldots &amp; \ldots &amp; \ldots \<br>\frac{\partial \mathbb{y_m}}{\partial \mathbb{x_1}} &amp; \frac{\partial \mathbb{y_m}}{\partial \mathbb{x_2}} &amp; \ldots &amp; \frac{\partial \mathbb{y_m}}{\partial \mathbb{x_n}} \<br>\end{pmatrix}_{m\times n}<br>$ã€€ã€€ã€€ã€€ä¸Šè¾¹è¿™ä¸ªæŒ‰åˆ†å­å¸ƒå±€çš„å‘é‡å¯¹å‘é‡æ±‚å¯¼çš„ç»“æœçŸ©é˜µï¼Œæˆ‘ä»¬ä¸€èˆ¬å«åšé›…å…‹æ¯” (Jacobian)çŸ©é˜µã€‚æœ‰çš„èµ„æ–™ä¸Šä¼šä½¿ç”¨$\frac{\partial \mathbb{y}}{\partial \mathbb{x}^T}$æ¥å®šä¹‰é›…å…‹æ¯”çŸ©é˜µï¼Œæ„ä¹‰æ˜¯ä¸€æ ·çš„ã€‚</p><p>ã€€ã€€ã€€ã€€å¦‚æœæ˜¯æŒ‰åˆ†æ¯å¸ƒå±€ï¼Œåˆ™æ±‚å¯¼çš„ç»“æœçŸ©é˜µçš„ç¬¬ä¸€ç»´åº¦ä¼šä»¥åˆ†æ¯ä¸ºå‡†ï¼Œå³ç»“æœæ˜¯ä¸€ä¸ªnÃ—mnÃ—mçš„çŸ©é˜µï¼Œå¦‚ä¸‹ï¼š</p><p>$$<br>\frac{\partial \mathbb{y}}{\partial \mathbb{x}}&#x3D;\begin{pmatrix}<br>\frac{\partial \mathbb{y_1}}{\partial \mathbb{x_1}} &amp; \frac{\partial \mathbb{y_2}}{\partial \mathbb{x_1}} &amp; \ldots &amp; \frac{\partial \mathbb{y_m}}{\partial \mathbb{x_1}} \<br>\frac{\partial \mathbb{y_1}}{\partial \mathbb{x_2}} &amp; \frac{\partial \mathbb{y_2}}{\partial \mathbb{x_2}} &amp; \ldots &amp; \frac{\partial \mathbb{y_m}}{\partial \mathbb{x_2}} \<br>\ldots &amp; \ldots &amp; \ldots &amp; \ldots \<br>\frac{\partial \mathbb{y_1}}{\partial \mathbb{x_n}} &amp; \frac{\partial \mathbb{y_2}}{\partial \mathbb{x_n}} &amp; \ldots &amp; \frac{\partial \mathbb{y_m}}{\partial \mathbb{x_n}} \<br>\end{pmatrix}_{n\times m}<br>$$</p><p>ã€€ã€€ã€€ã€€ä¸Šè¾¹è¿™ä¸ªæŒ‰åˆ†æ¯å¸ƒå±€çš„å‘é‡å¯¹å‘é‡æ±‚å¯¼çš„ç»“æœçŸ©é˜µï¼Œæˆ‘ä»¬ä¸€èˆ¬å«åšæ¢¯åº¦çŸ©é˜µã€‚æœ‰çš„èµ„æ–™ä¸Šä¼šä½¿ç”¨$\frac{\partial \mathbb{y}^T}{\partial \mathbb{x}}$æ¥å®šä¹‰æ¢¯åº¦çŸ©é˜µï¼Œæ„ä¹‰æ˜¯ä¸€æ ·çš„ã€‚</p><p>ã€€ã€€ã€€ã€€æœ‰äº†å¸ƒå±€çš„æ¦‚å¿µï¼Œæˆ‘ä»¬å¯¹äºä¸Šé¢5ç§æ±‚å¯¼ç±»å‹ï¼Œå¯ä»¥å„é€‰æ‹©ä¸€ç§å¸ƒå±€æ¥æ±‚å¯¼ã€‚ä½†æ˜¯å¯¹äºæŸä¸€ç§æ±‚å¯¼ç±»å‹ï¼Œä¸èƒ½åŒæ—¶ä½¿ç”¨åˆ†å­å¸ƒå±€å’Œåˆ†æ¯å¸ƒå±€æ±‚å¯¼ã€‚</p><p>ã€€ã€€ã€€ã€€ä½†æ˜¯åœ¨æœºå™¨å­¦ä¹ ç®—æ³•åŸç†çš„èµ„æ–™æ¨å¯¼é‡Œï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰çœ‹åˆ°è¯´æ­£åœ¨ä½¿ç”¨ä»€ä¹ˆå¸ƒå±€ï¼Œä¹Ÿå°±æ˜¯è¯´å¸ƒå±€è¢«éšå«äº†ï¼Œè¿™å°±éœ€è¦è‡ªå·±å»æ¨æ¼”ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚ä½†æ˜¯ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä¼šä½¿ç”¨ä¸€ç§å«æ··åˆå¸ƒå±€çš„æ€è·¯ï¼Œå³å¦‚æœæ˜¯å‘é‡æˆ–è€…çŸ©é˜µå¯¹æ ‡é‡æ±‚å¯¼ï¼Œåˆ™ä½¿ç”¨åˆ†å­å¸ƒå±€ä¸ºå‡†ï¼Œå¦‚æœæ˜¯æ ‡é‡å¯¹å‘é‡æˆ–è€…çŸ©é˜µæ±‚å¯¼ï¼Œåˆ™ä»¥åˆ†æ¯å¸ƒå±€ä¸ºå‡†ã€‚å¯¹äºå‘é‡å¯¹å¯¹å‘é‡æ±‚å¯¼ï¼Œæœ‰äº›åˆ†æ­§ï¼Œæˆ‘çš„æ‰€æœ‰æ–‡ç« ä¸­ä¼šä»¥åˆ†å­å¸ƒå±€çš„é›…å…‹æ¯”çŸ©é˜µä¸ºä¸»ã€‚</p><p>ã€€ã€€ã€€ã€€å…·ä½“æ€»ç»“å¦‚ä¸‹ï¼š</p><table><thead><tr><th>è‡ªå˜é‡\å› å˜é‡</th><th>æ ‡é‡$y$</th><th>å‘é‡$\mathbb{y}$</th><th>çŸ©é˜µ$Y$</th></tr></thead><tbody><tr><td>æ ‡é‡$x$</td><td>&#x2F;</td><td>$\frac{\partial \mathbb{y}}{\partial x}$<br />åˆ†å­å¸ƒå±€ï¼šmç»´åˆ—å‘é‡ï¼ˆé»˜è®¤å¸ƒå±€ï¼‰åˆ†æ¯å¸ƒå±€ï¼šmç»´è¡Œå‘é‡</td><td>$\frac{\partial Y}{\partial x}$<br />åˆ†å­å¸ƒå±€ï¼špÃ—qçŸ©é˜µï¼ˆé»˜è®¤å¸ƒå±€ï¼‰<br />åˆ†æ¯å¸ƒå±€ï¼šqÃ—pçŸ©é˜µ</td></tr><tr><td>åˆ—å‘é‡$\mathbb{x}$</td><td>$\frac{\partial y}{\partial \mathbb{x}}$<br />åˆ†å­å¸ƒå±€ï¼šnç»´è¡Œå‘é‡<br />åˆ†æ¯å¸ƒå±€ï¼šnç»´åˆ—å‘é‡ï¼ˆé»˜è®¤å¸ƒå±€ï¼‰</td><td>$\frac{\partial \mathbb{y}}{\partial \mathbb{x}}$<br />åˆ†å­å¸ƒå±€ï¼šmÃ—né›…å…‹æ¯”çŸ©é˜µï¼ˆé»˜è®¤å¸ƒå±€ï¼‰<br />åˆ†æ¯å¸ƒå±€ï¼šnÃ—mæ¢¯åº¦çŸ©é˜µ</td><td>&#x2F;</td></tr><tr><td>çŸ©é˜µ$X$</td><td>$\frac{\partial y}{\partial X}$<br />åˆ†å­å¸ƒå±€ï¼šnÃ—mçŸ©é˜µ<br />åˆ†æ¯å¸ƒå±€ï¼šmÃ—nçŸ©é˜µï¼ˆé»˜è®¤å¸ƒå±€ï¼‰</td><td>&#x2F;</td><td>&#x2F;</td></tr></tbody></table><h1 id="4-ç”¨å®šä¹‰æ³•æ±‚è§£æ ‡é‡å¯¹å‘é‡æ±‚å¯¼"><a href="#4-ç”¨å®šä¹‰æ³•æ±‚è§£æ ‡é‡å¯¹å‘é‡æ±‚å¯¼" class="headerlink" title="4. ç”¨å®šä¹‰æ³•æ±‚è§£æ ‡é‡å¯¹å‘é‡æ±‚å¯¼"></a>4. ç”¨å®šä¹‰æ³•æ±‚è§£æ ‡é‡å¯¹å‘é‡æ±‚å¯¼</h1><p>ã€€ã€€ã€€ã€€æ ‡é‡å¯¹å‘é‡æ±‚å¯¼ï¼Œä¸¥æ ¼æ¥è¯´æ˜¯å®å€¼å‡½æ•°å¯¹å‘é‡çš„æ±‚å¯¼ã€‚å³å®šä¹‰å®å€¼å‡½æ•°$f:\mathbb{R}^n \to \mathbb{R}$,è‡ªå˜é‡$\mathbb{x}$æ˜¯nç»´å‘é‡ï¼Œè€Œè¾“å‡º$y$æ˜¯æ ‡é‡ã€‚å¯¹äºä¸€ä¸ªç»™å®šçš„å®å€¼å‡½æ•°ï¼Œå¦‚ä½•æ±‚è§£$\frac{\partial y}{\partial\mathbb{x}}$å‘¢ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€é¦–å…ˆæˆ‘ä»¬æƒ³åˆ°çš„æ˜¯åŸºäºçŸ©é˜µæ±‚å¯¼çš„å®šä¹‰æ¥åšï¼Œç”±äºæ‰€è°“æ ‡é‡å¯¹å‘é‡çš„æ±‚å¯¼ï¼Œå…¶å®å°±æ˜¯æ ‡é‡å¯¹å‘é‡é‡Œçš„æ¯ä¸ªåˆ†é‡åˆ†åˆ«æ±‚å¯¼ï¼Œæœ€åæŠŠæ±‚å¯¼çš„ç»“æœæ’åˆ—åœ¨ä¸€èµ·ï¼ŒæŒ‰ä¸€ä¸ªå‘é‡è¡¨ç¤ºè€Œå·²ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†å®å€¼å‡½æ•°å¯¹å‘é‡çš„æ¯ä¸€ä¸ªåˆ†é‡æ¥æ±‚å¯¼ï¼Œæœ€åæ‰¾åˆ°è§„å¾‹ï¼Œå¾—åˆ°æ±‚å¯¼çš„ç»“æœå‘é‡ã€‚</p><p>ã€€ã€€ã€€ã€€é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š$y&#x3D;a^T\mathbb{x}$,æ±‚è§£$\frac{\partial a^T\mathbb{x}}{\partial\mathbb{x}}$</p><p>ã€€ã€€ã€€ã€€æ ¹æ®å®šä¹‰ï¼Œæˆ‘ä»¬å…ˆå¯¹$ \mathbb{x}$çš„ç¬¬iä¸ªåˆ†é‡è¿›è¡Œæ±‚å¯¼ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‡é‡å¯¹æ ‡é‡çš„æ±‚å¯¼ï¼Œå¦‚ä¸‹ï¼š<br>$<br>\frac{\partial a^T\mathbb{x}}{\partial\mathbb{x_i}}&#x3D;\frac{\partial \sum_{j&#x3D;1}^n a_j\mathbb{x}_j}{\partial\mathbb{x_i}}&#x3D;\frac{\partial a_i\mathbb{x_i}}{\partial\mathbb{x_i}}&#x3D;a_i<br>$å¯è§ï¼Œå¯¹å‘é‡çš„ç¬¬iä¸ªåˆ†é‡çš„æ±‚å¯¼ç»“æœå°±ç­‰äºå‘é‡$a$çš„ç¬¬iä¸ªåˆ†é‡ã€‚ç”±äºæˆ‘ä»¬æ˜¯åˆ†æ¯å¸ƒå±€ï¼Œæœ€åæ‰€æœ‰æ±‚å¯¼ç»“æœçš„åˆ†é‡ç»„æˆçš„æ˜¯ä¸€ä¸ªnç»´å‘é‡ã€‚é‚£ä¹ˆå…¶å®å°±æ˜¯å‘é‡$a$ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼š<br>$frac{\partial a^T\mathbb{x}}{\partial\mathbb{x}} &#x3D; a$<br>ã€€åŒæ ·çš„æ€è·¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥å¾—åˆ°ï¼š<br>$<br>$ac{\partial \mathbb{x}^T a}{\partial\mathbb{x}} &#x3D;a<br>$ã€€ã€€$å†æ¥çœ‹ä¸€ä¸ªå¤æ‚ä¸€ç‚¹ç‚¹çš„ä¾‹å­ï¼š$y&#x3D;\mathbb{x}^TA\mathbb{x}$,æ±‚è§£$\frac{\partial \mathbb{x}^TA\mathbb{x}}{\partial\mathbb{x}}$</p><p>ã€€ã€€ã€€ã€€æˆ‘ä»¬å¯¹$\mathbb{x}$çš„ç¬¬kä¸ªåˆ†é‡è¿›è¡Œæ±‚å¯¼å¦‚ä¸‹ï¼š<br>$<br>\frac{\partial \mathbb{x}^TA\mathbb{x}}{\partial\mathbb{x}<em>k}&#x3D; \frac{\partial \sum</em>{i&#x3D;1}^n \sum_{j&#x3D;1}^n\mathbb{x}<em>iA</em>{ij}\mathbb{x}<em>j}{\partial\mathbb{x}<em>k}&#x3D;\sum</em>{i&#x3D;1}^nA</em>{ik}x_i+\sum_{j&#x3D;1}^nA_{kj}x_j<br>$ã€€ã€€ã€€ã€€è¿™ä¸ªç¬¬kä¸ªåˆ†é‡çš„æ±‚å¯¼ç»“æœç¨å¾®å¤æ‚äº›äº†ï¼Œä»”ç»†è§‚å¯Ÿä¸€ä¸‹ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯çŸ©é˜µ$A$çš„ç¬¬kåˆ—è½¬ç½®åå’Œ$ \mathbb{x}$ç›¸ä¹˜å¾—åˆ°ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯çŸ©é˜µ$A$çš„ç¬¬kè¡Œå’Œ$\mathbb{x}$ç›¸ä¹˜å¾—åˆ°ï¼Œæ’åˆ—å¥½å°±æ˜¯:<br>$frac{\partial \mathbb{x}^TA\mathbb{x}}{\partial\mathbb{x}} &#x3D; A^T\mathbb{x}+A\mathbb{x}<br>$ã€€ã€€ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œå®šä¹‰æ³•æ±‚å¯¼å¯¹äºç®€å•çš„å®å€¼å‡½æ•°æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä½†æ˜¯å¤æ‚çš„å®å€¼å‡½æ•°å°±ç®—æ±‚å‡ºäº†ä»»æ„ä¸€ä¸ªåˆ†é‡çš„å¯¼æ•°ï¼Œè¦æ’åˆ—å‡ºæœ€ç»ˆçš„æ±‚å¯¼ç»“æœè¿˜æŒºéº»çƒ¦çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰¾åˆ°å…¶ä»–çš„ç®€ä¾¿ä¸€äº›çš„æ–¹æ³•æ¥æ•´ä½“æ±‚å¯¼ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½å…ˆå»é’ˆå¯¹ä»»æ„ä¸€ä¸ªåˆ†é‡ï¼Œå†è¿›è¡Œæ’åˆ—ã€‚</p><h1 id="5-æ ‡é‡å¯¹å‘é‡æ±‚å¯¼çš„ä¸€äº›åŸºæœ¬æ³•åˆ™"><a href="#5-æ ‡é‡å¯¹å‘é‡æ±‚å¯¼çš„ä¸€äº›åŸºæœ¬æ³•åˆ™" class="headerlink" title="5. æ ‡é‡å¯¹å‘é‡æ±‚å¯¼çš„ä¸€äº›åŸºæœ¬æ³•åˆ™"></a>5. æ ‡é‡å¯¹å‘é‡æ±‚å¯¼çš„ä¸€äº›åŸºæœ¬æ³•åˆ™</h1><p>ã€€ã€€ã€€ã€€åœ¨æˆ‘ä»¬å¯»æ‰¾ä¸€äº›ç®€å•çš„æ–¹æ³•å‰ï¼Œæˆ‘ä»¬ç®€å•çœ‹ä¸‹æ ‡é‡å¯¹å‘é‡æ±‚å¯¼çš„ä¸€äº›åŸºæœ¬æ³•åˆ™ï¼Œè¿™äº›æ³•åˆ™å’Œæ ‡é‡å¯¹æ ‡é‡æ±‚å¯¼çš„è¿‡ç¨‹ç±»ä¼¼ã€‚</p><p>ã€€ã€€ã€€ã€€1ï¼‰ å¸¸é‡å¯¹å‘é‡çš„æ±‚å¯¼ç»“æœä¸º0ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼‰çº¿æ€§æ³•åˆ™ï¼šå¦‚æœ$f,g$éƒ½æ˜¯å®å€¼å‡½æ•°ï¼Œ$c_1,c_2$ä¸ºå¸¸æ•°ï¼Œåˆ™ï¼š<br>$<br>\frac{\partial(c_1f(x)+c_2g(x))}{\partial x}&#x3D;c_1\frac{\partial f(x)}{\partial x} +c_2\frac{\partial g(x)}{\partial x}<br>$ã€€ã€€ã€€ã€€3) ä¹˜æ³•æ³•åˆ™ï¼šå¦‚æœ$f,g$éƒ½æ˜¯å®å€¼å‡½æ•°ï¼Œåˆ™ï¼š<br>$frac{\partial f(x)g(x)}{\partial x}&#x3D;f(x)\frac{\partial g(x)}{\partial x} +\frac{\partial f(x)}{\partial x}g(x)<br>$ã€€ã€€è¦æ³¨æ„çš„æ˜¯å¦‚æœä¸æ˜¯å®å€¼å‡½æ•°ï¼Œåˆ™ä¸èƒ½è¿™ä¹ˆä½¿ç”¨ä¹˜æ³•æ³•åˆ™ã€‚</p><p>ã€€ã€€ã€€ã€€4) é™¤æ³•æ³•åˆ™ï¼šå¦‚æœ$f,g$éƒ½æ˜¯å®å€¼å‡½æ•°ï¼Œä¸”$g(x)\neq 0$ï¼Œåˆ™ï¼š<br>$<br>\frac{\partial f(x)&#x2F;g(x)}{\partial x}&#x3D;\frac{1}{g^2(x)}(g(x)\frac{\partial f(x)}{\partial x}-f(x)\frac{\partial g(x)}{\partial x})<br>$</p><h1 id="6-ç”¨å®šä¹‰æ³•æ±‚è§£æ ‡é‡å¯¹çŸ©é˜µæ±‚å¯¼"><a href="#6-ç”¨å®šä¹‰æ³•æ±‚è§£æ ‡é‡å¯¹çŸ©é˜µæ±‚å¯¼" class="headerlink" title="6. ç”¨å®šä¹‰æ³•æ±‚è§£æ ‡é‡å¯¹çŸ©é˜µæ±‚å¯¼"></a>6. ç”¨å®šä¹‰æ³•æ±‚è§£æ ‡é‡å¯¹çŸ©é˜µæ±‚å¯¼</h1><p> ã€€ã€€ã€€ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹å®šä¹‰æ³•å¦‚ä½•è§£å†³æ ‡é‡å¯¹çŸ©é˜µçš„æ±‚å¯¼é—®é¢˜ã€‚å…¶å®æ€è·¯å’Œç¬¬ä¸€èŠ‚çš„æ ‡é‡å¯¹å‘é‡çš„æ±‚å¯¼æ˜¯ç±»ä¼¼çš„,åªæ˜¯æœ€åçš„ç»“æœæ˜¯ä¸€ä¸ªå’Œè‡ªå˜é‡åŒå‹çš„çŸ©é˜µã€‚</p><p>ã€€ã€€ã€€ã€€æˆ‘ä»¬è¿˜æ˜¯ä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ã€‚$y&#x3D;\mathbb{a}^TX\mathbb{b} $,æ±‚è§£$\frac{\partial \mathbb{a}^TX\mathbb{b}}{\partial X}$</p><p>ã€€ã€€ã€€ã€€å…¶ä¸­, $a$æ˜¯mç»´å‘é‡,$b$æ˜¯nç»´å‘é‡, $X$æ˜¯mÃ—nçš„çŸ©é˜µã€‚</p><p>ã€€ã€€ã€€ã€€æˆ‘ä»¬å¯¹çŸ©é˜µ$X$çš„ä»»æ„ä¸€ä¸ªä½ç½®çš„$X_{ij}$æ±‚å¯¼ï¼Œå¦‚ä¸‹ï¼š<br>$<br>\frac{\partial \mathbb{a}^TX\mathbb{b}}{\partial X_{ij}}&#x3D;\frac{\partial \sum_{p&#x3D;1}^{m}  \sum_{q&#x3D;1}^{n}\mathbb{a}<em>p X</em>{pq}\mathbb{b}<em>q}{\partial X</em>{ij}}&#x3D;\frac{\partial \mathbb{a}<em>i X</em>{ij}\mathbb{b}<em>j}{\partial X</em>{ij}}&#x3D;\mathbb{a}_i\mathbb{b}_j<br>$ã€€ã€€ã€€ã€€å³æ±‚å¯¼ç»“æœåœ¨$(i,j)$ä½ç½®çš„æ±‚å¯¼ç»“æœæ˜¯$\mathbb{a}$å‘é‡ç¬¬$i$ä¸ªåˆ†é‡å’Œ$\mathbb{b}$ç¬¬$j$ä¸ªåˆ†é‡çš„ä¹˜ç§¯ï¼Œå°†æ‰€æœ‰çš„ä½ç½®çš„æ±‚å¯¼ç»“æœæ’åˆ—æˆä¸€ä¸ªmÃ—nçš„çŸ©é˜µï¼Œå³ä¸º$\mathbb{a}\mathbb{b}^T$,è¿™æ ·æœ€åçš„æ±‚å¯¼ç»“æœä¸ºï¼š<br>$frac{\partial \mathbb{a}^TX\mathbb{b}}{\partial X} &#x3D;\mathbb{a}\mathbb{b}^T<br>$ã€€ã€€ç®€å•çš„æ±‚å¯¼çš„ç¡®ä¸éš¾ï¼Œä½†æ˜¯å¦‚æœæ˜¯æ¯”è¾ƒå¤æ‚çš„æ ‡é‡å¯¹çŸ©é˜µæ±‚å¯¼ï¼Œæ¯”å¦‚$y&#x3D;\mathbb{a}^Texp(X\mathbb{b}) $,å¯¹ä»»æ„æ ‡é‡æ±‚å¯¼å®¹æ˜“ï¼Œæ’åˆ—èµ·æ¥è¿˜æ˜¯è›®éº»çƒ¦çš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é‡åˆ°äº†å’Œæ ‡é‡å¯¹å‘é‡æ±‚å¯¼ä¸€æ ·çš„é—®é¢˜ï¼Œå®šä¹‰æ³•æ¯”è¾ƒé€‚åˆè§£å†³ç®€å•çš„é—®é¢˜ï¼Œå¤æ‚çš„æ±‚å¯¼éœ€è¦æ›´ç®€ä¾¿çš„æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬åœ¨ä¸‹ä¸€ç¯‡æ¥è®²ã€‚</p><p>ã€€ã€€ã€€ã€€åŒæ—¶ï¼Œæ ‡é‡å¯¹çŸ©é˜µæ±‚å¯¼ä¹Ÿæœ‰å’Œç¬¬äºŒèŠ‚å¯¹å‘é‡æ±‚å¯¼ç±»ä¼¼çš„åŸºæœ¬æ³•åˆ™ï¼Œè¿™é‡Œå°±ä¸ç´¯è¿°äº†ã€‚</p><h1 id="7-ç”¨å®šä¹‰æ³•æ±‚è§£å‘é‡å¯¹å‘é‡æ±‚å¯¼"><a href="#7-ç”¨å®šä¹‰æ³•æ±‚è§£å‘é‡å¯¹å‘é‡æ±‚å¯¼" class="headerlink" title="7. ç”¨å®šä¹‰æ³•æ±‚è§£å‘é‡å¯¹å‘é‡æ±‚å¯¼"></a>7. ç”¨å®šä¹‰æ³•æ±‚è§£å‘é‡å¯¹å‘é‡æ±‚å¯¼</h1><p>ã€€ã€€ã€€ã€€è¿™é‡Œæˆ‘ä»¬ä¹ŸåŒæ ·ç»™å‡ºå‘é‡å¯¹å‘é‡æ±‚å¯¼çš„å®šä¹‰æ³•çš„å…·ä½“ä¾‹å­ã€‚</p><p>ã€€ã€€ã€€ã€€å…ˆæ¥ä¸€ä¸ªç®€å•çš„ä¾‹å­: $\mathbb{y}&#x3D;A\mathbb{x}$,å…¶ä¸­$A$ä¸ºnÃ—mçš„çŸ©é˜µã€‚$\mathbb{x},\mathbb{y}$åˆ†åˆ«ä¸ºm,nç»´å‘é‡ã€‚éœ€è¦æ±‚å¯¼$\frac{\partial A\mathbb{x}}{\partial \mathbb{x}}$,æ ¹æ®å®šä¹‰ï¼Œç»“æœåº”è¯¥æ˜¯ä¸€ä¸ªnÃ—mçš„çŸ©é˜µ</p><p>ã€€ã€€ã€€ã€€å…ˆæ±‚çŸ©é˜µçš„ç¬¬$i$è¡Œå’Œå‘é‡çš„å†…ç§¯å¯¹å‘é‡çš„ç¬¬$j$åˆ†é‡æ±‚å¯¼ï¼Œç”¨å®šä¹‰æ³•æ±‚è§£è¿‡ç¨‹å¦‚ä¸‹ï¼š<br>$<br>\frac{\partial A_i\mathbb{x}}{\partial \mathbb{x_j}}&#x3D;\frac{\partial A_{ij}\mathbb{x}<em>j}{\partial \mathbb{x_j}}&#x3D;A</em>{ij}<br>$ã€€ã€€ã€€ã€€å¯è§çŸ©é˜µ $A$çš„ç¬¬$i$è¡Œå’Œå‘é‡çš„å†…ç§¯å¯¹å‘é‡çš„ç¬¬$j$åˆ†é‡æ±‚å¯¼çš„ç»“æœå°±æ˜¯çŸ©é˜µ $A$çš„$(i,j)$ä½ç½®çš„å€¼ã€‚æ’åˆ—èµ·æ¥å°±æ˜¯ä¸€ä¸ªçŸ©é˜µäº†ï¼Œç”±äºæˆ‘ä»¬åˆ†å­å¸ƒå±€ï¼Œæ‰€ä»¥æ’åˆ—å‡ºçš„ç»“æœæ˜¯$A$,è€Œä¸æ˜¯ $A^T$</p><h1 id="8-çŸ©é˜µå¾®åˆ†"><a href="#8-çŸ©é˜µå¾®åˆ†" class="headerlink" title="8. çŸ©é˜µå¾®åˆ†"></a>8. çŸ©é˜µå¾®åˆ†</h1><p>ã€€ã€€ã€€ã€€åœ¨é«˜æ•°é‡Œé¢æˆ‘ä»¬å­¦ä¹ è¿‡æ ‡é‡çš„å¯¼æ•°å’Œå¾®åˆ†ï¼Œä»–ä»¬ä¹‹é—´æœ‰è¿™æ ·çš„å…³ç³»ï¼š$df&#x3D;{f}â€™(x)dx$ã€‚å¦‚æœæ˜¯å¤šå˜é‡çš„æƒ…å†µï¼Œåˆ™å¾®åˆ†å¯ä»¥å†™æˆï¼š<br>$<br>df&#x3D;\sum_{i&#x3D;1}^n\frac{\partial f}{\partial x_i}dx_i&#x3D;(\frac{\partial f}{\partial \mathbb{x}})^Td\mathbb{x}<br>$ã€€ã€€ã€€ã€€ä»ä¸Šæ¬¡æˆ‘ä»¬å¯ä»¥å‘ç°æ ‡é‡å¯¹å‘é‡çš„æ±‚å¯¼å’Œå®ƒçš„å‘é‡å¾®åˆ†æœ‰ä¸€ä¸ªè½¬ç½®çš„å…³ç³»ã€‚</p><p>ã€€ã€€ã€€ã€€ç°åœ¨æˆ‘ä»¬å†æ¨å¹¿åˆ°çŸ©é˜µã€‚å¯¹äºçŸ©é˜µå¾®åˆ†ï¼Œæˆ‘ä»¬çš„å®šä¹‰ä¸ºï¼š<br>$<br>df&#x3D;\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\frac{\partial f}{\partial X_{ij}}dX_{ij}&#x3D;tr((\frac{\partial f}{\partial X})^TdX)<br>$ã€€ã€€ã€€ã€€å…¶ä¸­ç¬¬äºŒæ­¥ä½¿ç”¨äº†çŸ©é˜µè¿¹çš„æ€§è´¨ï¼Œå³è¿¹å‡½æ•°ç­‰äºä¸»å¯¹è§’çº¿çš„å’Œã€‚å³<br>$r(A^TB)&#x3D;\sum_{i,j}A_{ij}B_{ij}<br>$ã€€ä»ä¸Šé¢çŸ©é˜µå¾®åˆ†çš„å¼å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°çŸ©é˜µå¾®åˆ†å’Œå®ƒçš„å¯¼æ•°ä¹Ÿæœ‰ä¸€ä¸ªè½¬ç½®çš„å…³ç³»ï¼Œä¸è¿‡åœ¨å¤–é¢å¥—äº†ä¸€ä¸ªè¿¹å‡½æ•°è€Œå·²ã€‚ç”±äºæ ‡é‡çš„è¿¹å‡½æ•°å°±æ˜¯å®ƒæœ¬èº«ï¼Œé‚£ä¹ˆçŸ©é˜µå¾®åˆ†å’Œå‘é‡å¾®åˆ†å¯ä»¥ç»Ÿä¸€è¡¨ç¤ºï¼Œå³ï¼š</p><p>$dtr((\frac{\partial f}{\partial X})^TdX)\<br>df&#x3D;tr((\frac{\partial f}{\partial \mathbb{x}})^Td\mathbb{x})<br>$</p><h1 id="9-çŸ©é˜µå¾®åˆ†çš„æ€§è´¨F"><a href="#9-çŸ©é˜µå¾®åˆ†çš„æ€§è´¨F" class="headerlink" title="9. çŸ©é˜µå¾®åˆ†çš„æ€§è´¨F"></a>9. çŸ©é˜µå¾®åˆ†çš„æ€§è´¨F</h1><p>ã€€ã€€ã€€ã€€æˆ‘ä»¬åœ¨è®¨è®ºå¦‚ä½•ä½¿ç”¨çŸ©é˜µå¾®åˆ†æ¥æ±‚å¯¼å‰ï¼Œå…ˆçœ‹çœ‹çŸ©é˜µå¾®åˆ†çš„æ€§è´¨ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼‰å¾®åˆ†åŠ å‡æ³•ï¼š$d(X+Y)&#x3D;dX+dY,d(Xâˆ’Y)&#x3D;dXâˆ’dY$</p><p>ã€€ã€€ã€€ã€€2) å¾®åˆ†ä¹˜æ³•ï¼š$d(XY)&#x3D;(dX)Y+X(dY)$</p><p>ã€€ã€€ã€€ã€€3) å¾®åˆ†è½¬ç½®ï¼š$d(X^T)&#x3D;(dX)^T$</p><p>ã€€ã€€ã€€ã€€4) å¾®åˆ†çš„è¿¹ï¼š$dtr(X)&#x3D;tr(dX)$</p><p>ã€€ã€€ã€€ã€€5) å¾®åˆ†å“ˆè¾¾é©¬ä¹˜ç§¯ï¼š $d(XâŠ™Y)&#x3D;XâŠ™dY+dXâŠ™Y$</p><p>ã€€ã€€ã€€ã€€6) é€å…ƒç´ æ±‚å¯¼ï¼š$dÏƒ(X)&#x3D;Ïƒâ€²(X)âŠ™dX$</p><p>ã€€ã€€ã€€ã€€7) é€†çŸ©é˜µå¾®åˆ†ï¼š$dX^{âˆ’1}&#x3D;âˆ’X^{âˆ’1}dXX^{âˆ’1}$</p><p>ã€€ã€€ã€€ã€€8) è¡Œåˆ—å¼å¾®åˆ†ï¼š$d|X|&#x3D;|X|tr(X^{âˆ’1}dX)ã€€$</p><p>ã€€ã€€ã€€ã€€æœ‰äº†è¿™äº›æ€§è´¨ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹å¦‚ä½•ç”±çŸ©é˜µå¾®åˆ†æ¥æ±‚å¯¼æ•°ã€‚</p><h1 id="10-ä½¿ç”¨å¾®åˆ†æ³•æ±‚è§£çŸ©é˜µå‘é‡æ±‚å¯¼"><a href="#10-ä½¿ç”¨å¾®åˆ†æ³•æ±‚è§£çŸ©é˜µå‘é‡æ±‚å¯¼" class="headerlink" title="10. ä½¿ç”¨å¾®åˆ†æ³•æ±‚è§£çŸ©é˜µå‘é‡æ±‚å¯¼"></a>10. ä½¿ç”¨å¾®åˆ†æ³•æ±‚è§£çŸ©é˜µå‘é‡æ±‚å¯¼</h1><p>ã€€ã€€ã€€ã€€ç”±äºç¬¬ä¸€èŠ‚æˆ‘ä»¬å·²ç»å¾—åˆ°äº†çŸ©é˜µå¾®åˆ†å’Œå¯¼æ•°å…³ç³»ï¼Œç°åœ¨æˆ‘ä»¬å°±æ¥ä½¿ç”¨å¾®åˆ†æ³•æ±‚è§£çŸ©é˜µå‘é‡æ±‚å¯¼ã€‚</p><p>ã€€ã€€ã€€ã€€è‹¥æ ‡é‡å‡½æ•°$f$æ˜¯çŸ©é˜µ$X$ç»åŠ å‡ä¹˜æ³•ã€é€†ã€è¡Œåˆ—å¼ã€é€å…ƒç´ å‡½æ•°ç­‰è¿ç®—æ„æˆï¼Œåˆ™ä½¿ç”¨ç›¸åº”çš„è¿ç®—æ³•åˆ™å¯¹ffæ±‚å¾®åˆ†ï¼Œå†ä½¿ç”¨è¿¹å‡½æ•°æŠ€å·§ç»™$df$å¥—ä¸Šè¿¹å¹¶å°†å…¶å®ƒé¡¹äº¤æ¢è‡³$dX$å·¦ä¾§,é‚£ä¹ˆå¯¹äºè¿¹å‡½æ•°é‡Œé¢åœ¨$dX$å·¦è¾¹çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬åªéœ€è¦åŠ ä¸€ä¸ªè½¬ç½®å°±å¯ä»¥å¾—åˆ°å¯¼æ•°äº†ã€‚</p><p>ã€€ã€€ã€€ã€€è¿™é‡Œéœ€è¦ç”¨åˆ°çš„è¿¹å‡½æ•°çš„æŠ€å·§ä¸»è¦æœ‰è¿™ä¹ˆå‡ ä¸ªï¼š</p><p>ã€€ã€€ã€€ã€€1) æ ‡é‡çš„è¿¹ç­‰äºè‡ªå·±ï¼š$tr(x)&#x3D;x$</p><p>ã€€ã€€ã€€ã€€2) è½¬ç½®ä¸å˜ï¼š$tr(A^T)&#x3D;tr(A)$</p><p>ã€€ã€€ã€€ã€€3) äº¤æ¢ç‡ï¼š$tr(AB)&#x3D;tr(BA)$,éœ€è¦æ»¡è¶³$A,B^T$åŒç»´åº¦ã€‚</p><p>ã€€ã€€ã€€ã€€4) åŠ å‡æ³•ï¼š$tr(X+Y)&#x3D;tr(X)+tr(Y),tr(Xâˆ’Y)&#x3D;tr(X)âˆ’tr(Y)$</p><p>ã€€ã€€ã€€ã€€5) çŸ©é˜µä¹˜æ³•å’Œè¿¹äº¤æ¢ï¼š$tr((AâŠ™B)^TC)&#x3D;tr(A^T(BâŠ™C))$,éœ€è¦æ»¡è¶³$A,B,C$åŒç»´åº¦ã€‚</p><p>ã€€ã€€ã€€ã€€æˆ‘ä»¬å…ˆçœ‹ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸Šä¸€ç¯‡å®šä¹‰æ³•ä¸­çš„ä¸€ä¸ªæ±‚å¯¼é—®é¢˜ï¼š<br>$<br>y&#x3D;\mathbb{a}^TX\mathbb{b},\frac{\partial y}{\partial X}<br>$ã€€ã€€ã€€ã€€é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨å¾®åˆ†ä¹˜æ³•çš„æ€§è´¨å¯¹$f$æ±‚å¾®åˆ†ï¼Œå¾—åˆ°ï¼š<br>$y&#x3D;d\mathbb{a}^TX\mathbb{b}+\mathbb{a}^TdX\mathbb{b}+\mathbb{a}^TXd\mathbb{b}&#x3D;\mathbb{a}^TdX\mathbb{b}<br>$ã€€ã€€ç¬¬äºŒæ­¥ï¼Œå°±æ˜¯ä¸¤è¾¹å¥—ä¸Šè¿¹å‡½æ•°ï¼Œå³ï¼š<br>$tr(dy)&#x3D;tr(\mathbb{a}^TdX\mathbb{b})&#x3D;tr(\mathbb{b}\mathbb{a}^TdX)<br>$å…¶ä¸­ç¬¬ä¸€åˆ°ç¬¬äºŒæ­¥ä½¿ç”¨äº†ä¸Šé¢è¿¹å‡½æ•°æ€§è´¨1ï¼Œç¬¬ä¸‰æ­¥åˆ°ç¬¬å››æ­¥ç”¨åˆ°äº†ä¸Šé¢è¿¹å‡½æ•°çš„æ€§è´¨3.</p><p>ã€€ã€€ã€€ã€€æ ¹æ®æˆ‘ä»¬çŸ©é˜µå¯¼æ•°å’Œå¾®åˆ†çš„å®šä¹‰ï¼Œè¿¹å‡½æ•°é‡Œé¢åœ¨$dX$å·¦è¾¹çš„éƒ¨åˆ†$ba^T$,åŠ ä¸Šä¸€ä¸ªè½¬ç½®å³ä¸ºæˆ‘ä»¬è¦æ±‚çš„å¯¼æ•°ï¼Œå³ï¼š<br>$<br>\frac{\partial f}{\partial X}&#x3D;(\mathbb{b}\mathbb{a}^T)T&#x3D;\mathbb{a}\mathbb{b}^T<br>$ã€€ã€€ã€€ã€€ä»¥ä¸Šå°±æ˜¯å¾®åˆ†æ³•çš„åŸºæœ¬æµç¨‹ï¼Œå…ˆæ±‚å¾®åˆ†å†åšè¿¹å‡½æ•°å˜æ¢ï¼Œæœ€åå¾—åˆ°æ±‚å¯¼ç»“æœã€‚æ¯”èµ·å®šä¹‰æ³•ï¼Œæˆ‘ä»¬ç°åœ¨ä¸éœ€è¦å»å¯¹çŸ©é˜µä¸­çš„å•ä¸ªæ ‡é‡è¿›è¡Œæ±‚å¯¼äº†ã€‚</p><p>ã€€ã€€ã€€ã€€å†æ¥çœ‹çœ‹<br>$<br>y&#x3D;\mathbb{a}^Texp(X\mathbb{b}) ,\frac{\partial y}{\partial X}<br>$</p><p>$dy&#x3D;tr(dy)\<br>&#x3D;tr(\mathbb{a}^Tdexp(X\mathbb{b}))\<br>&#x3D;tr(\mathbb{a}^T(exp(X\mathbb{b})âŠ™d(X\mathbb{b}))) \<br>&#x3D;tr((\mathbb{a}âŠ™exp(X\mathbb{b}))^TdX\mathbb{b}) \<br>&#x3D;tr(\mathbb{b}(\mathbb{a}âŠ™exp(X\mathbb{b}))^TdX)$</p><p>ã€€ã€€ã€€ã€€å…¶ä¸­ç¬¬ä¸‰æ­¥åˆ°ç¬¬4æ­¥ä½¿ç”¨äº†ä¸Šé¢è¿¹å‡½æ•°çš„æ€§è´¨5. è¿™æ ·æˆ‘ä»¬çš„æ±‚å¯¼ç»“æœä¸ºï¼š<br>$<br>\frac{\partial y}{\partial X}&#x3D;(\mathbb{a}âŠ™exp(X\mathbb{b}))\mathbb{b}^T<br>$</p><p>ã€€ã€€ã€€ã€€ä»¥ä¸Šå°±æ˜¯å¾®åˆ†æ³•çš„åŸºæœ¬æ€è·¯ã€‚</p><h1 id="11-è¿¹å‡½æ•°å¯¹å‘é‡çŸ©é˜µæ±‚å¯¼"><a href="#11-è¿¹å‡½æ•°å¯¹å‘é‡çŸ©é˜µæ±‚å¯¼" class="headerlink" title="11. è¿¹å‡½æ•°å¯¹å‘é‡çŸ©é˜µæ±‚å¯¼"></a>11. è¿¹å‡½æ•°å¯¹å‘é‡çŸ©é˜µæ±‚å¯¼</h1><p>ã€€ã€€ã€€ã€€ç”±äºå¾®åˆ†æ³•ä½¿ç”¨äº†è¿¹å‡½æ•°çš„æŠ€å·§ï¼Œé‚£ä¹ˆè¿¹å‡½æ•°å¯¹å¯¹å‘é‡çŸ©é˜µæ±‚å¯¼è¿™ä¸€å¤§ç±»é—®é¢˜ï¼Œä½¿ç”¨å¾®åˆ†æ³•æ˜¯æœ€ç®€å•ç›´æ¥çš„ã€‚ä¸‹é¢ç»™å‡ºä¸€äº›å¸¸è§çš„è¿¹å‡½æ•°çš„æ±‚å¯¼è¿‡ç¨‹ï¼Œä¹Ÿé¡ºä¾¿ç»™å¤§å®¶ç†Ÿç»ƒæŒæ¡å¾®åˆ†æ³•çš„æŠ€å·§ã€‚</p><p>ã€€ã€€ã€€ã€€é¦–å…ˆæ˜¯$\frac{\partial tr(AB)}{\partial A}&#x3D;B^T$,$\frac{\partial tr(AB)}{\partial B}&#x3D;A^T$è¿™ä¸ªç›´æ¥æ ¹æ®çŸ©é˜µå¾®åˆ†çš„å®šä¹‰å³å¯å¾—åˆ°ã€‚</p><p>ã€€ã€€ã€€ã€€å†æ¥çœ‹çœ‹$\frac{\partial tr(W^TAW)}{\partial W}$:</p><p>$$<br>\begin{align}<br>d(tr(W^TAW))&amp;&#x3D;tr(dW^TAW+W^TAdW) \&amp;&#x3D;tr(dW^TAW)+tr(W^TAdW)\<br>&amp;&#x3D;tr((dW)^TAW)+tr(W^TAdW)\<br>&amp;&#x3D;tr(W^TA^TdW)+tr(W^TAdW) \<br>&amp;&#x3D;tr(W^T(A+A^T)dW)\</p><p>\end{align}<br>$$<br>ã€€å› æ­¤å¯ä»¥å¾—åˆ°ï¼š$\frac{\partial tr(W^TAW)}{\partial W} &#x3D;(A+A^T)W$</p><h1 id="12-å¾®åˆ†æ³•æ±‚å¯¼å°ç»“"><a href="#12-å¾®åˆ†æ³•æ±‚å¯¼å°ç»“" class="headerlink" title="12. å¾®åˆ†æ³•æ±‚å¯¼å°ç»“"></a>12. å¾®åˆ†æ³•æ±‚å¯¼å°ç»“</h1><p>ã€€ã€€ã€€ã€€ä½¿ç”¨çŸ©é˜µå¾®åˆ†ï¼Œå¯ä»¥åœ¨ä¸å¯¹å‘é‡æˆ–çŸ©é˜µä¸­çš„æŸä¸€å…ƒç´ å•ç‹¬æ±‚å¯¼å†æ‹¼æ¥ï¼Œå› æ­¤ä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œå½“ç„¶ç†Ÿç»ƒä½¿ç”¨çš„å‰ææ˜¯å¯¹ä¸Šé¢çŸ©é˜µå¾®åˆ†çš„æ€§è´¨ï¼Œä»¥åŠè¿¹å‡½æ•°çš„æ€§è´¨ç†Ÿç»ƒè¿ç”¨ã€‚</p><p>ã€€ã€€ã€€ã€€è¿˜æœ‰ä¸€äº›åœºæ™¯ï¼Œæ±‚å¯¼çš„è‡ªå˜é‡å’Œå› å˜é‡ç›´æ¥æœ‰å¤æ‚çš„å¤šå±‚é“¾å¼æ±‚å¯¼çš„å…³ç³»ï¼Œæ­¤æ—¶å¾®åˆ†æ³•ä½¿ç”¨èµ·æ¥ä¹Ÿæœ‰äº›éº»çƒ¦ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€äº›å¸¸ç”¨çš„ç®€å•æ±‚å¯¼ç»“æœï¼Œå†ä½¿ç”¨é“¾å¼æ±‚å¯¼æ³•åˆ™ï¼Œåˆ™ä¼šéå¸¸çš„æ–¹ä¾¿ã€‚å› æ­¤ä¸‹ä¸€ç¯‡æˆ‘ä»¬è®¨è®ºå‘é‡çŸ©é˜µæ±‚å¯¼çš„é“¾å¼æ³•åˆ™ã€‚</p><h1 id="13-å‘é‡å¯¹å‘é‡æ±‚å¯¼çš„é“¾å¼æ³•åˆ™"><a href="#13-å‘é‡å¯¹å‘é‡æ±‚å¯¼çš„é“¾å¼æ³•åˆ™" class="headerlink" title="13. å‘é‡å¯¹å‘é‡æ±‚å¯¼çš„é“¾å¼æ³•åˆ™"></a>13. å‘é‡å¯¹å‘é‡æ±‚å¯¼çš„é“¾å¼æ³•åˆ™</h1><p>ã€€ã€€ã€€ã€€é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹å‘é‡å¯¹å‘é‡æ±‚å¯¼çš„é“¾å¼æ³•åˆ™ã€‚å‡è®¾å¤šä¸ªå‘é‡å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œæ¯”å¦‚ä¸‰ä¸ªå‘é‡$\mathbb{x}\to \mathbb{y}\to \mathbb{z}$å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œåˆ™æˆ‘ä»¬æœ‰ä¸‹é¢çš„é“¾å¼æ±‚å¯¼æ³•åˆ™ï¼š<br>$<br>\frac{\partial \mathbb{z}}{\partial \mathbb{x}}&#x3D;\frac{\partial \mathbb{z}}{\partial \mathbb{y}}\frac{\partial \mathbb{y}}{\partial \mathbb{x}}<br>$ã€€ã€€ã€€ã€€è¯¥æ³•åˆ™ä¹Ÿå¯ä»¥æ¨å¹¿åˆ°æ›´å¤šçš„å‘é‡ä¾èµ–å…³ç³»ã€‚ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯è¦æ±‚æ‰€æœ‰æœ‰ä¾èµ–å…³ç³»çš„å˜é‡éƒ½æ˜¯å‘é‡ï¼Œå¦‚æœæœ‰ä¸€ä¸ª$Y$æ˜¯çŸ©é˜µï¼Œæ¯”å¦‚æ˜¯$\mathbb{x}\to Y\to \mathbb{z}$ï¼Œ åˆ™ä¸Šå¼å¹¶ä¸æˆç«‹ã€‚</p><p>ã€€ã€€ã€€ã€€ä»çŸ©é˜µç»´åº¦ç›¸å®¹çš„è§’åº¦ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ä¸Šé¢çš„é“¾å¼æ³•åˆ™ï¼Œå‡è®¾$\mathbb{x}, \mathbb{y}, \mathbb{z}$åˆ†åˆ«æ˜¯m,n,pç»´å‘é‡ï¼Œåˆ™æ±‚å¯¼ç»“æœ$\frac{\partial \mathbb{z}}{\partial \mathbb{x}}$æ˜¯ä¸€ä¸ªpÃ—mçš„é›…å…‹æ¯”çŸ©é˜µï¼Œè€Œå³è¾¹$\frac{\partial \mathbb{z}}{\partial \mathbb{y}}$æ˜¯ä¸€ä¸ªpÃ—nçš„é›…å…‹æ¯”çŸ©é˜µï¼Œ$\frac{\partial \mathbb{y}}{\partial \mathbb{x}}$æ˜¯ä¸€ä¸ªnÃ—mçš„çŸ©é˜µï¼Œä¸¤ä¸ªé›…å…‹æ¯”çŸ©é˜µçš„ä¹˜ç§¯ç»´åº¦åˆšå¥½æ˜¯pÃ—mï¼Œå’Œå·¦è¾¹ç›¸å®¹ã€‚</p><h1 id="14-æ ‡é‡å¯¹å¤šä¸ªå‘é‡çš„é“¾å¼æ±‚å¯¼æ³•åˆ™"><a href="#14-æ ‡é‡å¯¹å¤šä¸ªå‘é‡çš„é“¾å¼æ±‚å¯¼æ³•åˆ™" class="headerlink" title="14. æ ‡é‡å¯¹å¤šä¸ªå‘é‡çš„é“¾å¼æ±‚å¯¼æ³•åˆ™"></a>14. æ ‡é‡å¯¹å¤šä¸ªå‘é‡çš„é“¾å¼æ±‚å¯¼æ³•åˆ™</h1><p>ã€€åœ¨æˆ‘ä»¬çš„æœºå™¨å­¦ä¹ ç®—æ³•ä¸­ï¼Œæœ€ç»ˆè¦ä¼˜åŒ–çš„ä¸€èˆ¬æ˜¯ä¸€ä¸ªæ ‡é‡æŸå¤±å‡½æ•°ï¼Œå› æ­¤æœ€åæ±‚å¯¼çš„ç›®æ ‡æ˜¯æ ‡é‡ï¼Œæ— æ³•ä½¿ç”¨ä¸Šä¸€èŠ‚çš„é“¾å¼æ±‚å¯¼æ³•åˆ™ï¼Œæ¯”å¦‚2å‘é‡ï¼Œæœ€ååˆ°1æ ‡é‡çš„ä¾èµ–å…³ç³»ï¼š$\mathbb{x}\to \mathbb{y} \to z$ã€‚(é‡‡ç”¨åˆ†å­å¸ƒå±€)<br>$<br>\frac{\partial z}{\partial \mathbb{x}}&#x3D;\frac{\partial z}{\partial \mathbb{y}}\frac{\partial \mathbb{y}}{\partial \mathbb{x}}<br>$</p><blockquote><p>å‡è®¾ä½ çš„å¸ƒå±€ä¸ä¸€è‡´å°±ä¼šå‡ºç°ï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨é“¾å¼æ³•åˆ™ã€‚</p><p>å‡è®¾$\mathbb{x}, \mathbb{y}$åˆ†åˆ«æ˜¯m,nç»´å‘é‡, é‚£ä¹ˆ$\frac{\partial z}{\partial \mathbb{x}}$çš„æ±‚å¯¼ç»“æœæ˜¯ä¸€ä¸ªmÃ—1çš„å‘é‡, è€Œ$\frac{\partial z}{\partial \mathbb{y}}$æ˜¯ä¸€ä¸ªnÃ—1çš„å‘é‡ï¼Œ$\frac{\partial \mathbb{y}}{\partial \mathbb{x}}$æ˜¯ä¸€ä¸ªnÃ—mçš„é›…å…‹æ¯”çŸ©é˜µ,å³è¾¹çš„å‘é‡å’ŒçŸ©é˜µæ˜¯æ²¡æ³•ç›´æ¥ä¹˜çš„ã€‚</p><p>ã€€ã€€ã€€ã€€ä½†æ˜¯å‡å¦‚æˆ‘ä»¬æŠŠæ ‡é‡æ±‚å¯¼çš„éƒ¨åˆ†éƒ½åšä¸€ä¸ªè½¬ç½®ï¼Œé‚£ä¹ˆç»´åº¦å°±å¯ä»¥ç›¸å®¹äº†ï¼Œä¹Ÿå°±æ˜¯ï¼š<br>$<br>(\frac{\partial z}{\partial \mathbb{x}})^T&#x3D;(\frac{\partial z}{\partial \mathbb{y}})^T\frac{\partial \mathbb{y}}{\partial \mathbb{x}}<br>$ã€€ã€€ã€€ã€€ä½†æ˜¯æ¯•ç«Ÿæˆ‘ä»¬è¦æ±‚å¯¼çš„æ˜¯$\frac{\partial z}{\partial \mathbb{x}}$,è€Œä¸æ˜¯å®ƒçš„è½¬ç½®ï¼Œå› æ­¤ä¸¤è¾¹è½¬ç½®æˆ‘ä»¬å¯ä»¥å¾—åˆ°æ ‡é‡å¯¹å¤šä¸ªå‘é‡æ±‚å¯¼çš„é“¾å¼æ³•åˆ™ï¼š<br>$frac{\partial z}{\partial \mathbb{x}}&#x3D;(\frac{\partial \mathbb{y}}{\partial \mathbb{x}})^T\frac{\partial z}{\partial \mathbb{y}}<br>$ã€€ã€€å¦‚æœæ˜¯æ ‡é‡å¯¹æ›´å¤šçš„å‘é‡æ±‚å¯¼,æ¯”å¦‚$\mathbb{y}_1\to \mathbb{y}_2  \to \dots \to \mathbb{y}<em>n \to z$ï¼Œåˆ™å…¶é“¾å¼æ±‚å¯¼è¡¨è¾¾å¼å¯ä»¥è¡¨ç¤ºä¸ºï¼š<br>$rac{\partial z}{\partial \mathbb{y}<em>1})^T&#x3D;(\frac{\partial \mathbb{y}<em>n}{\partial \mathbb{y}</em>{n-1}}\frac{\partial \mathbb{y}</em>{n-1}}{\partial \mathbb{y}</em>{n-2}}\dots\frac{\partial \mathbb{y}<em>2}{\partial \mathbb{y}</em>{1}})^T\frac{\partial z}{\partial \mathbb{y}_n}<br>$è¿™é‡Œæˆ‘ä»¬ç»™ä¸€ä¸ªæœ€å¸¸è§çš„æœ€å°äºŒä¹˜æ³•æ±‚å¯¼çš„ä¾‹å­ã€‚æœ€å°äºŒä¹˜æ³•ä¼˜åŒ–çš„ç›®æ ‡æ˜¯æœ€å°åŒ–å¦‚ä¸‹æŸå¤±å‡½æ•°:<br>$theta-y)^T(X\theta-y)<br>$ä¼˜åŒ–çš„æŸå¤±å‡½æ•°$l$æ˜¯ä¸€ä¸ªæ ‡é‡ï¼Œè€Œæ¨¡å‹å‚æ•°$\theta$æ˜¯ä¸€ä¸ªå‘é‡ï¼ŒæœŸæœ›$L$å¯¹$ \theta$æ±‚å¯¼ï¼Œå¹¶æ±‚å‡ºå¯¼æ•°ç­‰äº0æ—¶å€™çš„æå€¼ç‚¹ã€‚æˆ‘ä»¬å‡è®¾å‘é‡$z&#x3D;(X\theta-y)$, åˆ™$l&#x3D;z^Tz,\theta \to z \to l$å­˜åœ¨é“¾å¼æ±‚å¯¼çš„å…³ç³»ï¼Œå› æ­¤ï¼š<br>$partial l}{\partial \theta}&#x3D;(\frac{\partial z}{\partial \theta})^T\frac{\partial l}{\partial z}&#x3D;X^T(2z)&#x3D;2X^T(X\theta-y)$ä¸€æ­¥è½¬æ¢ä½¿ç”¨äº†å¦‚ä¸‹æ±‚å¯¼å…¬å¼ï¼š<br>$rtial (X\theta-y)}{\partial \theta}&#x3D;X\<br>\frac{\partial z^Tz}{\partial z}&#x3D;2z<br>$ä»¬åœ¨å‰å‡ ç¯‡é‡Œå·²æœ‰æ±‚è§£è¿‡ï¼Œç°åœ¨å¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨äº†ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p></blockquote><p>ã€€ã€€ã€€ã€€å½“ç„¶ä¸Šé¢çš„é—®é¢˜ä½¿ç”¨å¾®åˆ†æ³•æ±‚å¯¼æ•°ä¹Ÿæ˜¯éå¸¸ç®€å•çš„ï¼Œè¿™é‡Œåªæ˜¯ç»™å‡ºé“¾å¼æ±‚å¯¼æ³•çš„æ€è·¯ã€‚</p><h1 id="15-æ ‡é‡å¯¹å¤šä¸ªçŸ©é˜µçš„é“¾å¼æ±‚å¯¼æ³•åˆ™"><a href="#15-æ ‡é‡å¯¹å¤šä¸ªçŸ©é˜µçš„é“¾å¼æ±‚å¯¼æ³•åˆ™" class="headerlink" title="15. æ ‡é‡å¯¹å¤šä¸ªçŸ©é˜µçš„é“¾å¼æ±‚å¯¼æ³•åˆ™"></a>15. æ ‡é‡å¯¹å¤šä¸ªçŸ©é˜µçš„é“¾å¼æ±‚å¯¼æ³•åˆ™</h1><p>ã€€ã€€ã€€ã€€ä¸‹é¢æˆ‘ä»¬å†æ¥çœ‹çœ‹æ ‡é‡å¯¹å¤šä¸ªçŸ©é˜µçš„é“¾å¼æ±‚å¯¼æ³•åˆ™ï¼Œå‡è®¾æœ‰è¿™æ ·çš„ä¾èµ–å…³ç³»ï¼š$X\to T\to z$,é‚£ä¹ˆæˆ‘ä»¬æœ‰ï¼š<br>$<br>\frac{\partial z}{\partial X_{ij}}&#x3D;\sum_{k,l}\frac{\partial z}{\partial Y_{kl}}\frac{\partial Y_{kl}}{\partial X_{ij}}&#x3D;tr((\frac{\partial z}{\partial Y})^T\frac{\partial Y}{\partial X_{ij}})<br>$ã€€ã€€ã€€ã€€è¿™é‡Œå¤§å®¶ä¼šå‘ç°æˆ‘ä»¬æ²¡æœ‰ç»™å‡ºåŸºäºçŸ©é˜µæ•´ä½“çš„é“¾å¼æ±‚å¯¼æ³•åˆ™ï¼Œä¸»è¦åŸå› æ˜¯çŸ©é˜µå¯¹çŸ©é˜µçš„æ±‚å¯¼æ˜¯æ¯”è¾ƒå¤æ‚çš„å®šä¹‰ï¼Œæˆ‘ä»¬ç›®å‰ä¹Ÿæœªæ¶‰åŠã€‚å› æ­¤åªèƒ½ç»™å‡ºå¯¹çŸ©é˜µä¸­ä¸€ä¸ªæ ‡é‡çš„é“¾å¼æ±‚å¯¼æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å¹¶ä¸å®ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶ä¸æƒ³æ¯æ¬¡éƒ½åŸºäºå®šä¹‰æ³•æ¥æ±‚å¯¼æœ€åå†å»æ’åˆ—æ±‚å¯¼ç»“æœã€‚</p><p>ã€€ã€€ã€€ã€€è™½ç„¶æˆ‘ä»¬æ²¡æœ‰å…¨å±€çš„æ ‡é‡å¯¹çŸ©é˜µçš„é“¾å¼æ±‚å¯¼æ³•åˆ™ï¼Œä½†æ˜¯å¯¹äºä¸€äº›çº¿æ€§å…³ç³»çš„é“¾å¼æ±‚å¯¼ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥å¾—åˆ°ä¸€äº›æœ‰ç”¨çš„ç»“è®ºçš„ã€‚</p><p>ã€€ã€€ã€€ã€€æˆ‘ä»¬æ¥çœ‹è¿™ä¸ªå¸¸è§é—®é¢˜ï¼š$A,B,X,Y$éƒ½æ˜¯çŸ©é˜µï¼Œ$z$æ˜¯æ ‡é‡ï¼Œå…¶ä¸­$z&#x3D;f(Y),Y&#x3D;AX+B$,æˆ‘ä»¬è¦æ±‚å‡º$\frac{\partial z}{\partial X}$,è¿™ä¸ªé—®é¢˜åœ¨æœºå™¨å­¦ä¹ ä¸­æ˜¯å¾ˆå¸¸è§çš„ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½ç›´æ¥æ•´ä½“ä½¿ç”¨çŸ©é˜µçš„é“¾å¼æ±‚å¯¼æ³•åˆ™ï¼Œå› ä¸ºçŸ©é˜µå¯¹çŸ©é˜µçš„æ±‚å¯¼ç»“æœä¸å¥½å¤„ç†ã€‚</p><p>ã€€ã€€ã€€ã€€è¿™é‡Œæˆ‘ä»¬å›å½’åˆå¿ƒï¼Œä½¿ç”¨å®šä¹‰æ³•è¯•ä¸€è¯•,å…ˆä½¿ç”¨ä¸Šé¢çš„æ ‡é‡é“¾å¼æ±‚å¯¼å…¬å¼ï¼š<br>$<br>\frac{\partial z}{\partial X_{ij}}&#x3D;\sum_{k,l}\frac{\partial z}{\partial Y_{kl}}\frac{\partial Y_{kl}}{\partial X_{ij}}<br>$ã€€ã€€ã€€ã€€æˆ‘ä»¬å†æ¥çœ‹çœ‹ååŠéƒ¨åˆ†çš„å¯¼æ•°ï¼š<br>$frac{\partial Y_{kl}}{\partial X_{ij}}&#x3D;\frac{\partial \sum_s(A_{ks}X_{sl})}{\partial X_{ij}}&#x3D;\frac{\partial A_{ki}X_{si}}{\partial X_{ij}}&#x3D;A_{ki}\delta_{lj}<br>$ã€€ã€€å…¶ä¸­$\delta_{lj}$åœ¨$l&#x3D;j$æ—¶ä¸º1ï¼Œå¦åˆ™ä¸º0.</p><p>ã€€ã€€ã€€ã€€é‚£ä¹ˆæœ€ç»ˆçš„æ ‡ç­¾é“¾å¼æ±‚å¯¼å…¬å¼è½¬åŒ–ä¸ºï¼š<br>$<br>\frac{\partial z}{\partial X_{ij}}&#x3D;\sum_{k,l}\frac{\partial z}{\partial Y_{kl}}A_{ki}\delta_{lj}&#x3D;\sum_{k}\frac{\partial z}{\partial Y_{k,j}}A_{ki}<br>$ã€€ã€€ã€€ã€€å³çŸ©é˜µ$A^T$çš„ç¬¬$i$è¡Œå’Œ$\frac{\partial z}{\partial Y}$çš„ç¬¬$j$åˆ—çš„å†…ç§¯ã€‚æ’åˆ—æˆçŸ©é˜µå³ä¸ºï¼š<br>$frac{\partial z}{\partial X}&#x3D;A^T\frac{\partial z}{\partial Y}<br>$ã€€ã€€æ€»ç»“ä¸‹å°±æ˜¯ï¼š<br>$(Y),Y&#x3D;AX+B \to \frac{\partial z}{\partial X}&#x3D;A^T\frac{\partial z}{\partial Y}<br>$è¿™ç»“è®ºåœ¨$ \mathbb{x}$æ˜¯ä¸€ä¸ªå‘é‡çš„æ—¶å€™ä¹Ÿæˆç«‹ï¼Œå³ï¼š<br>$mathbb{y}),\mathbb{y}&#x3D;A\mathbb{x}+\mathbb{b} \to \frac{\partial z}{\partial \mathbb{x}}&#x3D;A^T\frac{\partial z}{\partial \mathbb{y}}<br>$è¦æ±‚å¯¼çš„è‡ªå˜é‡åœ¨å·¦è¾¹ï¼Œçº¿æ€§å˜æ¢åœ¨å³è¾¹ï¼Œä¹Ÿæœ‰ç±»ä¼¼ç¨æœ‰ä¸åŒçš„ç»“è®ºå¦‚ä¸‹ï¼Œè¯æ˜æ–¹æ³•æ˜¯ç±»ä¼¼çš„ï¼Œè¿™é‡Œç›´æ¥ç»™å‡ºç»“è®ºï¼š<br>$Y&#x3D;XA+B \to \frac{\partial z}{\partial X}&#x3D;\frac{\partial z}{\partial \mathbb{y}}A^T \<br>z&#x3D;f(\mathbb{y}),\mathbb{y}&#x3D;X\mathbb{a}+\mathbb{b} \to \frac{\partial z}{\partial X}&#x3D;\frac{\partial z}{\partial \mathbb{y}}\mathbb{a}^T<br>$è¿°å››ä¸ªç»“è®ºï¼Œå¯¹äºæœºå™¨å­¦ä¹ å°¤å…¶æ˜¯æ·±åº¦å­¦ä¹ é‡Œçš„æ±‚å¯¼é—®é¢˜å¯ä»¥éå¸¸å¿«çš„è§£å†³,å¤§å®¶å¯ä»¥è¯•ä¸€è¯•ã€‚</p><h1 id="16-çŸ©é˜µå‘é‡æ±‚å¯¼å°ç»“"><a href="#16-çŸ©é˜µå‘é‡æ±‚å¯¼å°ç»“" class="headerlink" title="16. çŸ©é˜µå‘é‡æ±‚å¯¼å°ç»“"></a>16. çŸ©é˜µå‘é‡æ±‚å¯¼å°ç»“</h1><p>ã€€ã€€ã€€ã€€çŸ©é˜µå‘é‡æ±‚å¯¼åœ¨å‰é¢æˆ‘ä»¬è®¨è®ºä¸‰ç§æ–¹æ³•ï¼Œå®šä¹‰æ³•ï¼Œå¾®åˆ†æ³•å’Œé“¾å¼æ±‚å¯¼æ³•ã€‚åœ¨åŒç­‰æƒ…å†µä¸‹ï¼Œä¼˜å…ˆè€ƒè™‘é“¾å¼æ±‚å¯¼æ³•ï¼Œå°¤å…¶æ˜¯ç¬¬ä¸‰èŠ‚çš„å››ä¸ªç»“è®ºã€‚å…¶æ¬¡é€‰æ‹©å¾®åˆ†æ³•ã€åœ¨æ²¡æœ‰å¥½çš„æ±‚å¯¼æ–¹æ³•çš„æ—¶å€™ä½¿ç”¨å®šä¹‰æ³•æ˜¯æœ€åçš„ä¿åº•æ–¹æ¡ˆã€‚çŸ©é˜µå¯¹çŸ©é˜µæ±‚å¯¼ä¸€èˆ¬ä¸å¸¸è§ï¿½ï¿½å¸¸è§</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”ç‰¹å¾é€‰æ‹©æ–¹æ³•</title>
    <link href="/2022/08/01/MachineLearning/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9%E6%96%B9%E6%B3%95/"/>
    <url>/2022/08/01/MachineLearning/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="ç‰¹å¾é€‰æ‹©æ–¹æ³•æ€»ç»“"><a href="#ç‰¹å¾é€‰æ‹©æ–¹æ³•æ€»ç»“" class="headerlink" title="ç‰¹å¾é€‰æ‹©æ–¹æ³•æ€»ç»“"></a>ç‰¹å¾é€‰æ‹©æ–¹æ³•æ€»ç»“</h2><hr><p><img src="/src/640-165590372499349.png" alt="å›¾ç‰‡"></p><h1 id="ä¸€ã€èƒŒæ™¯ä»‹ç»"><a href="#ä¸€ã€èƒŒæ™¯ä»‹ç»" class="headerlink" title="ä¸€ã€èƒŒæ™¯ä»‹ç»"></a><strong>ä¸€ã€èƒŒæ™¯ä»‹ç»</strong></h1><p>åœ¨å¤„ç†ç»“æ„å‹æ•°æ®æ—¶ï¼Œç‰¹å¾å·¥ç¨‹ä¸­çš„ç‰¹å¾é€‰æ‹©æ˜¯å¾ˆé‡è¦çš„ä¸€ä¸ªç¯èŠ‚ï¼Œç‰¹å¾é€‰æ‹©æ˜¯é€‰æ‹©å¯¹æ¨¡å‹é‡è¦çš„ç‰¹å¾ã€‚å®ƒçš„å¥½å¤„[2]åœ¨äº:</p><p>â— å‡å°‘è®­ç»ƒæ•°æ®å¤§å°ï¼ŒåŠ å¿«æ¨¡å‹è®­ç»ƒé€Ÿåº¦ã€‚</p><p>â— å‡å°‘æ¨¡å‹å¤æ‚åº¦ï¼Œé¿å…è¿‡æ‹Ÿåˆã€‚</p><p>â— ç‰¹å¾æ•°å°‘ï¼Œæœ‰åˆ©äºè§£é‡Šæ¨¡å‹ã€‚</p><p>â— å¦‚æœé€‰æ‹©å¯¹çš„ç‰¹å¾å­é›†ï¼Œæ¨¡å‹å‡†ç¡®ç‡å¯èƒ½ä¼šæå‡ã€‚</p><p>æˆ‘æ›¾åœ¨æ–‡ç« CCFå¤§èµ›é¡¹ç›®æåˆ°è¿‡ä¸€ä¸ªå›°å¢ƒï¼Œå°±æ˜¯å½“æ—¶æˆ‘åœ¨æ»‘åŠ¨çª—å£å¼ç»„ç»‡æ•°æ® + å¤šé˜¶ç»Ÿè®¡ç‰¹å¾ç”Ÿæˆåï¼Œæˆ‘çš„æ¨¡å‹å°±è¿‡æ‹Ÿåˆäº†ï¼Œç„¶åæˆ‘çœ‹åˆ°æŸé€‰æ‰‹å¼€æºçš„ä»£ç ï¼Œä»–åªç”¨äº†LGBMæ¨¡å‹è®¤ä¸ºé‡è¦çš„TOPå‡ ç™¾ä¸ªç‰¹å¾å°±èƒ½è¾¾åˆ°è·Ÿæˆ‘ç”¨å…¨é‡ç‰¹å¾çš„æ•ˆæœã€‚æ‰€ä»¥æˆ‘å°±åæ€åˆ°ï¼šç‰¹å¾çœŸçš„è¶Šå¤šè¶Šå¥½å—ï¼ŸæŠŠç‰¹å¾äº¤ç»™æ¨¡å‹ï¼Œæ¨¡å‹è‡ªå·±èƒ½å¾ˆå¥½å­¦ä¹ åˆ°å“ªäº›ç‰¹å¾æœ‰ç”¨æˆ–è€…æ²¡ç”¨å—ï¼Ÿå½“æ—¶ï¼Œæˆ‘æŠ±ç€ç–‘é—®ï¼Œåšäº†ç‰¹å¾é€‰æ‹©å·¥ä½œï¼Œå‘ç°æ•ˆæœå±…ç„¶æœ‰æå‡ï¼Œå¯èƒ½åŸå› æ˜¯ï¼š</p><p>â— å»é™¤å†—ä½™æ— ç”¨ç‰¹å¾ï¼Œå‡ä½æ¨¡å‹å­¦ä¹ éš¾åº¦ï¼Œå‡å°‘æ•°æ®å™ªå£°ã€‚</p><p>â— å»é™¤æ ‡æ³¨æ€§å¼ºçš„ç‰¹å¾ï¼Œä¾‹å¦‚æŸäº›ç‰¹å¾åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†åˆ†å¸ƒä¸¥é‡ä¸ä¸€è‡´ï¼Œå»é™¤ä»–ä»¬æœ‰åˆ©äºé¿å…è¿‡æ‹Ÿåˆã€‚</p><p>â— é€‰ç”¨ä¸åŒç‰¹å¾å­é›†å»é¢„æµ‹ä¸åŒçš„ç›®æ ‡ï¼Œæ¯”å¦‚ç”¨ä¸åŒçŠ¶æ€ä¸‹çš„ä½œä¸šæ•°ç‰¹å¾å»é¢„æµ‹â€æäº¤ä¸­çš„ä½œä¸šæ•°â€ï¼Œè€Œç”¨ä¸åŒèµ„æºä½¿ç”¨ç‡çš„ç‰¹å¾å»é¢„æµ‹â€œCPUä½¿ç”¨ç‡â€ã€‚</p><p>å½“æ—¶ï¼Œæˆ‘æ˜¯ç›´æ¥ä¸€è‚¡è„‘æŠŠç‰¹å¾ä¸¢è¿›å»è®­ç»ƒæ¨¡å‹ï¼Œåé¢æ¯”èµ›å®Œè·Ÿå…¶å®ƒé€‰æ‰‹äº¤æµæ‰äº†è§£åˆ°ç‰¹å¾é€‰æ‹©çš„é‡è¦æ€§ã€‚æ‰€ä»¥è¿™ç¯‡æ–‡ç« çš„å‡ºå‘ç‚¹æ˜¯è‡ªæˆ‘æŸ¥æ¼è¡¥ç¼ºï¼Œä¹Ÿå¸Œæœ›èƒ½ç»™å¤§å®¶å¸¦æ¥ç‚¹å¸®åŠ©ã€‚</p><p>ç‰¹å¾é€‰æ‹©æ–¹æ³•ä¸€å…±åˆ†ä¸º3ç±»ï¼š**è¿‡æ»¤æ³•(Filter)<strong>ã€</strong>åŒ…è£¹æ³•(Wrapper)<strong>å’Œ</strong>åµŒå…¥æ³•(Embedded)**ã€‚ä¸‹é¢æˆ‘ä¼šä¾æ¬¡ä»‹ç»å®ƒä»¬ã€‚</p><h1 id="äºŒã€è¿‡æ»¤æ³•-Filter"><a href="#äºŒã€è¿‡æ»¤æ³•-Filter" class="headerlink" title="äºŒã€è¿‡æ»¤æ³•(Filter)"></a><strong>äºŒã€è¿‡æ»¤æ³•(Filter)</strong></h1><p><img src="/src/640-164640125983870.png" alt="å›¾ç‰‡"></p><p>å›¾1: è¿‡æ»¤æ³•[3]</p><p>è¿‡æ»¤æ³•: é€‰æ‹©ç‰¹å¾æ—¶ä¸ç®¡æ¨¡å‹ï¼Œè¯¥æ–¹æ³•åŸºäºç‰¹å¾çš„é€šç”¨è¡¨ç°å»é€‰æ‹©ï¼Œæ¯”å¦‚: ç›®æ ‡ç›¸å…³æ€§ã€è‡ªç›¸å…³æ€§å’Œå‘æ•£æ€§ç­‰ã€‚</p><p>â— <strong>ä¼˜ç‚¹</strong>: ç‰¹å¾é€‰æ‹©è®¡ç®—å¼€é”€å°ï¼Œä¸”èƒ½æœ‰æ•ˆé¿å…è¿‡æ‹Ÿåˆã€‚</p><p><strong>â— ç¼ºç‚¹</strong>: æ²¡è€ƒè™‘é’ˆå¯¹åç»­è¦ä½¿ç”¨çš„å­¦ä¹ å™¨å»é€‰æ‹©ç‰¹å¾å­é›†ï¼Œå‡å¼±å­¦ä¹ å™¨æ‹Ÿåˆèƒ½åŠ›ã€‚</p><p>å½“æˆ‘ä»¬ä½¿ç”¨è¿‡æ»¤æ³•å»å®¡è§†å˜é‡æ—¶ï¼Œæˆ‘ä»¬ä¼šä»<strong>å•å˜é‡è‡ªèº«æƒ…å†µ</strong>å’Œ<strong>å¤šå˜é‡ä¹‹é—´</strong>çš„å…³ç³»å»åˆ¤æ–­å˜é‡æ˜¯å¦è¯¥è¢«è¿‡æ»¤æ‰ã€‚</p><p><img src="/src/640-164640125983971.png" alt="å›¾ç‰‡"></p><p>å›¾2: è¿‡æ»¤æ³•æ–¹æ³•æ€»ç»“</p><h2 id="1-å•å˜é‡"><a href="#1-å•å˜é‡" class="headerlink" title="1. å•å˜é‡"></a><strong>1. å•å˜é‡</strong></h2><p><strong>(1) ç¼ºå¤±ç™¾åˆ†æ¯”(Missing Percentage)</strong></p><p>ç¼ºå¤±æ ·æœ¬æ¯”ä¾‹è¿‡å¤šä¸”éš¾ä»¥å¡«è¡¥çš„ç‰¹å¾ï¼Œå»ºè®®å‰”é™¤è¯¥å˜é‡ã€‚</p><p><strong>(2) æ–¹å·®(Variance)</strong></p><p>è‹¥æŸè¿ç»­å‹å˜é‡çš„æ–¹å·®æ¥è¿‘äº0ï¼Œè¯´æ˜å…¶ç‰¹å¾å€¼è¶‹å‘äºå•ä¸€å€¼çš„çŠ¶æ€ï¼Œå¯¹æ¨¡å‹å¸®åŠ©ä¸å¤§ï¼Œå»ºè®®å‰”é™¤è¯¥å˜é‡ã€‚</p><p><strong>(3) é¢‘æ•°(Frequency)</strong></p><p>è‹¥æŸç±»åˆ«å‹å˜é‡çš„æšä¸¾å€¼æ ·æœ¬é‡å æ¯”åˆ†å¸ƒï¼Œé›†ä¸­åœ¨å•ä¸€æŸæšä¸¾å€¼ä¸Šï¼Œå»ºè®®å‰”é™¤è¯¥å˜é‡ã€‚</p><p>è¿™é‡Œä»¥æ³¢å£«é¡¿æˆ¿ä»·æ•°æ®é›†ä¸¾ä¾‹ï¼Œæ ·ä¾‹ä»£ç å¦‚ä¸‹:</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># <span class="hljs-keyword">load</span> Boston datasetimport pandas <span class="hljs-keyword">as</span> pdimport numpy <span class="hljs-keyword">as</span> npimport seaborn <span class="hljs-keyword">as</span> snsimport matplotlib.pyplot <span class="hljs-keyword">as</span> pltfrom sklearn.datasets <span class="hljs-keyword">import</span> load_bostonboston = load_boston()df = pd.DataFrame(boston.data, <span class="hljs-keyword">columns</span> = boston.feature_names)<br># Missing Percentage + Variancestat_df = pd.DataFrame(&#123;<span class="hljs-string">&#x27;# of miss&#x27;</span>:df.<span class="hljs-keyword">isnull</span>().sum(),                        <span class="hljs-string">&#x27;% of miss&#x27;</span>:df.<span class="hljs-keyword">isnull</span>().sum() / len(df) * <span class="hljs-number">100</span>,                        <span class="hljs-string">&#x27;var&#x27;</span>:df.var()&#125;)<br># Frequencycat_name = <span class="hljs-string">&#x27;CHAS&#x27;</span>chas = df[cat_name].value_counts().sort_index()cat_df = pd.DataFrame(&#123;<span class="hljs-string">&#x27;enumerate_val&#x27;</span>:list(chas.<span class="hljs-keyword">index</span>), <span class="hljs-string">&#x27;frequency&#x27;</span>:list(chas.<span class="hljs-keyword">values</span>)&#125;)sns.barplot(x = &quot;enumerate_val&quot;, y = &quot;frequency&quot;,data = cat_df, palette=&quot;Set3&quot;)<span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> zip(range(len(cat_df)), cat_df.frequency):    plt.text(x, y, <span class="hljs-string">&#x27;%d&#x27;</span>%y, ha=<span class="hljs-string">&#x27;center&#x27;</span>, va=<span class="hljs-string">&#x27;bottom&#x27;</span>, color=<span class="hljs-string">&#x27;grey&#x27;</span>)plt.title(cat_name)plt.<span class="hljs-keyword">show</span>()<br></code></pre></td></tr></table></figure><p><img src="/src/640-164640138869579.png" alt="å›¾ç‰‡"></p><p>ç”±å›¾3å‘ç°ï¼ŒNOXæ–¹å·®ä½å’ŒCHASé¢‘æ¬¡åˆ†å¸ƒä¸¥é‡ä¸å¹³è¡¡ï¼Œå¯ä»¥è€ƒè™‘å‰”é™¤ã€‚</p><h2 id="2-å¤šå˜é‡"><a href="#2-å¤šå˜é‡" class="headerlink" title="2. å¤šå˜é‡"></a><strong>2. å¤šå˜é‡</strong></h2><p>ç ”ç©¶å¤šå˜é‡ä¹‹é—´çš„å…³ç³»æ—¶ï¼Œä¸»è¦ä»ä¸¤ç§å…³ç³»å‡ºå‘:</p><p><strong>â—</strong> <strong>è‡ªå˜é‡ä¸è‡ªå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§</strong>: ç›¸å…³æ€§è¶Šé«˜ï¼Œä¼šå¼•å‘<strong>å¤šé‡å…±çº¿æ€§</strong>é—®é¢˜ï¼Œè¿›è€Œå¯¼è‡´æ¨¡å‹ç¨³å®šæ€§å˜å·®ï¼Œæ ·æœ¬å¾®å°æ‰°åŠ¨éƒ½ä¼šå¸¦æ¥å¤§çš„å‚æ•°å˜åŒ–[5]ï¼Œå»ºè®®åœ¨å…·æœ‰å…±çº¿æ€§çš„ç‰¹å¾ä¸­é€‰æ‹©ä¸€ä¸ªå³å¯ï¼Œå…¶ä½™å‰”é™¤ã€‚</p><p>â— <strong>è‡ªå˜é‡å’Œå› å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§</strong>: ç›¸å…³æ€§è¶Šé«˜ï¼Œè¯´æ˜ç‰¹å¾å¯¹æ¨¡å‹é¢„æµ‹ç›®æ ‡æ›´é‡è¦ï¼Œå»ºè®®ä¿ç•™ã€‚</p><p>ç”±äºå˜é‡åˆ†è¿ç»­å‹å˜é‡å’Œç±»åˆ«å‹å˜é‡ï¼Œæ‰€ä»¥åœ¨ç ”ç©¶å˜é‡é—´å…³ç³»æ—¶ï¼Œä¹Ÿè¦é€‰ç”¨ä¸åŒçš„æ–¹æ³•:</p><h3 id="2-1-è¿ç»­å‹vsè¿ç»­å‹"><a href="#2-1-è¿ç»­å‹vsè¿ç»­å‹" class="headerlink" title="2.1 è¿ç»­å‹vsè¿ç»­å‹"></a><strong>2.1 è¿ç»­å‹vsè¿ç»­å‹</strong></h3><h4 id="1-çš®å°”é€Šç›¸å…³ç³»æ•°-Pearson-Correlation-Coefficient"><a href="#1-çš®å°”é€Šç›¸å…³ç³»æ•°-Pearson-Correlation-Coefficient" class="headerlink" title="(1) çš®å°”é€Šç›¸å…³ç³»æ•°(Pearson Correlation Coefficient)"></a><strong>(1) çš®å°”é€Šç›¸å…³ç³»æ•°(Pearson Correlation Coefficient)</strong></h4><p>Pearsonç›¸å…³ç³»æ•°æ˜¯<strong>ä¸¤ä¸ªå˜é‡çš„åæ–¹å·®é™¤ä»¥ä¸¤å˜é‡çš„æ ‡å‡†å·®ä¹˜ç§¯</strong>ã€‚åæ–¹å·®èƒ½åæ˜ ä¸¤ä¸ªéšæœºå˜é‡çš„ç›¸å…³ç¨‹åº¦ï¼ˆåæ–¹å·®å¤§äº0çš„æ—¶å€™è¡¨ç¤ºä¸¤è€…æ­£ç›¸å…³ï¼Œå°äº0çš„æ—¶å€™è¡¨ç¤ºä¸¤è€…è´Ÿç›¸å…³ï¼‰ï¼Œè€Œé™¤ä»¥æ ‡å‡†å·®åï¼ŒPearsonçš„å€¼èŒƒå›´ä¸º[-1,1]ã€‚å½“ä¸¤ä¸ªå˜é‡çš„çº¿æ€§å…³ç³»å¢å¼ºæ—¶ï¼Œç›¸å…³ç³»æ•°è¶‹äº1æˆ–-1ï¼Œæ­£è´Ÿå·æŒ‡å‘æ­£è´Ÿç›¸å…³å…³ç³»ã€‚[6]<br>$$<br>\begin{align}<br>\rho(X,Y) &amp;&#x3D; \frac{cov(X, Y)}{\sigma_X\sigma_Y}\<br>&amp;&#x3D; \frac{\sum_{i&#x3D;1}^n(X_i-\bar{X})(Y_i-\bar {Y})}{\sqrt{\frac{\sum_{i&#x3D;1}^n(X_i-\mu_X)^2}{n-1}}\sqrt{\frac{\sum_{i&#x3D;1}^n(Y_i-\mu_Y)^2}{n-1}}}\<br>&amp;&#x3D;\frac{E[(X-\mu_X)(Y-\mu_Y)]}{\sqrt{\sum_{i&#x3D;1}^n(X_i-\mu_X)^2}\sqrt{\sum_{i&#x3D;1}^n(Y_i-\mu_Y)^2}}<br>\end{align}<br>$$</p><h4 id="2-æ–¯çš®å°”æ›¼ç›¸å…³ç³»æ•°-Spearmanâ€™s-Rank-Correlation-Coefficient"><a href="#2-æ–¯çš®å°”æ›¼ç›¸å…³ç³»æ•°-Spearmanâ€™s-Rank-Correlation-Coefficient" class="headerlink" title="(2) æ–¯çš®å°”æ›¼ç›¸å…³ç³»æ•°(Spearmanâ€™s Rank Correlation Coefficient)"></a><strong>(2) æ–¯çš®å°”æ›¼ç›¸å…³ç³»æ•°(Spearmanâ€™s Rank Correlation Coefficient)</strong></h4><p>Pearsonç›¸å…³ç³»æ•°æ˜¯å»ºç«‹åœ¨å˜é‡ç¬¦åˆæ­£æ€åˆ†å¸ƒçš„åŸºç¡€ä¸Šï¼Œè€ŒSpearmanç›¸å…³ç³»æ•°ä¸å‡è®¾å˜é‡æœä»ä½•ç§åˆ†å¸ƒï¼Œå®ƒæ˜¯åŸºäº**ç­‰çº§(rank)**çš„æ¦‚å¿µå»è®¡ç®—å˜é‡é—´çš„ç›¸å…³æ€§ã€‚å¦‚æœå˜é‡æ˜¯é¡ºåºå˜é‡(Ordinal Feature)ï¼Œæ¨èä½¿ç”¨Spearmanç›¸å…³ç³»æ•°ã€‚<br>$$<br>\rho &#x3D; 1- \frac{6\sum_{i&#x3D;1}^nd_i^2}{n(n^2-1)}<br>$$<br>å…¶ä¸­ï¼Œ ä¸ºä¸¤ä¸ªå˜é‡çš„ç­‰çº§å·®å€¼ï¼Œ ä¸ºç­‰çº§ä¸ªæ•°ã€‚è¿™é‡Œä¸¾ä¸ªä¾‹å­ä¼šæ›´å¥½ç†è§£ï¼Œå‡è®¾æˆ‘ä»¬è¦æ¢ç©¶è¿ç»­å‹å˜é‡ å’Œ çš„Spearmanç›¸å…³ç³»æ•°ï¼Œè®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/src/640-164640207549781.png" alt="å›¾ç‰‡"></p><p>åŒæ ·åœ°ï¼Œç›¸å…³ç³»æ•°è¶‹äº1æˆ–-1ï¼Œæ­£è´Ÿå·æŒ‡å‘æ­£è´Ÿç›¸å…³å…³ç³»ã€‚</p><h3 id="2-2-è¿ç»­å‹vsç±»åˆ«å‹"><a href="#2-2-è¿ç»­å‹vsç±»åˆ«å‹" class="headerlink" title="2.2 è¿ç»­å‹vsç±»åˆ«å‹"></a><strong>2.2 è¿ç»­å‹vsç±»åˆ«å‹</strong></h3><h4 id="1-æ–¹å·®åˆ†æ-Analysis-of-variance-ANOVA"><a href="#1-æ–¹å·®åˆ†æ-Analysis-of-variance-ANOVA" class="headerlink" title="(1) æ–¹å·®åˆ†æ(Analysis of variance, ANOVA)"></a><strong>(1) æ–¹å·®åˆ†æ(Analysis of variance, ANOVA)</strong></h4><p>ANOVAçš„ç›®çš„æ˜¯æ£€éªŒ<strong>ä¸åŒç»„ä¸‹çš„å¹³å‡æ•°æ˜¯å¦å­˜åœ¨æ˜¾è‘—å·®å¼‚</strong>ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è¦åˆ¤æ–­1,2å’Œ3ç­çš„åŒå­¦çš„æ•°å­¦å¹³å‡åˆ†æ˜¯å¦æœ‰æ˜¾è‘—åŒºåˆ«ï¼Ÿæˆ‘ä»¬èƒ½å¾—åˆ°ï¼Œç­çº§ä¸ºç±»åˆ«å‹å˜é‡ï¼Œæ•°å­¦åˆ†æ•°ä¸ºè¿ç»­å‹å˜é‡ï¼Œå¦‚æœç­çº§ä¸æ•°å­¦åˆ†æ•°æœ‰ç›¸å…³æ€§ï¼Œæ¯”å¦‚1ç­åŒå­¦æ•°å­¦ä¼šæ›´å¥½äº›ï¼Œåˆ™è¯´æ˜ä¸åŒç­çš„æ•°å­¦å¹³å‡åˆ†æœ‰æ˜¾è‘—åŒºåˆ«ã€‚ä¸ºäº†éªŒè¯ç­çº§ä¸æ•°å­¦åˆ†æ•°çš„ç›¸å…³æ€§ï¼ŒANOVAä¼šå…ˆå»ºç«‹é›¶å‡è®¾ï¼š : (ä¸‰ä¸ªç­çš„æ•°å­¦åˆ†æ•°æ²¡æœ‰æ˜¾è‘—åŒºåˆ«)ï¼Œå®ƒçš„éªŒè¯æ–¹å¼æ˜¯çœ‹ç»„é—´æ–¹å·®(Mean Squared Between, MSB)æ˜¯å¦å¤§äºç»„å†…æ–¹å·®(Mean Squared Error, MSE)ï¼Œå¦‚æœç»„é—´æ–¹å·®&gt;ç»„å†…æ–¹å·®ï¼Œè¯´æ˜å­˜åœ¨è‡³å°‘ä¸€ä¸ªåˆ†å¸ƒç›¸å¯¹äºå…¶ä»–åˆ†å¸ƒè¾ƒè¿œï¼Œåˆ™å¯ä»¥è€ƒè™‘æ‹’ç»é›¶å‡è®¾ã€‚[7]</p><p>$$<br>F&#x3D;\frac{MSB}{MSE}<br>$$<br>åŸºäºçº½çº¦Johnnyå“¥åœ¨çŸ¥ä¹â€œä»€ä¹ˆæ˜¯ANOVAâ€çš„å›ç­”[8]ï¼Œæˆ‘ä»¬ä¸¾ä¾‹æ¥è¯•ç€è®¡ç®—ä¸‹ï¼š</p><p><img src="/src/640-164640213634983.png" alt="å›¾ç‰‡"></p><p>æ³¨æ„ï¼ŒANOVAåˆ†æå‰éœ€è¦æ»¡è¶³3ä¸ªå‡è®¾: æ¯ç»„æ ·æœ¬å…·å¤‡æ–¹å·®åŒè´¨æ€§ã€ç»„å†…æ ·æœ¬æœä»æ­£æ€åˆ†å¸ƒï¼Œæ ·æœ¬é—´éœ€è¦ç‹¬ç«‹ã€‚</p><h4 id="2-è‚¯å¾·å°”ç­‰çº§ç›¸å…³ç³»æ•°-Kendall-tau-rank-correlation-coefficient"><a href="#2-è‚¯å¾·å°”ç­‰çº§ç›¸å…³ç³»æ•°-Kendall-tau-rank-correlation-coefficient" class="headerlink" title="(2) è‚¯å¾·å°”ç­‰çº§ç›¸å…³ç³»æ•°(Kendall tau rank correlation coefficient)"></a><strong>(2) è‚¯å¾·å°”ç­‰çº§ç›¸å…³ç³»æ•°(Kendall tau rank correlation coefficient)</strong></h4><p>å‡è®¾æˆ‘ä»¬è¦è¯„ä»·å­¦å†ä¸å·¥èµ„çš„ç›¸å…³æ€§ï¼ŒKendallç³»æ•°ä¼šå¯¹æŒ‰å­¦å†å¯¹<strong>æ ·æœ¬æ’åº</strong>ï¼Œè‹¥æ’åºåï¼Œå­¦å†å’Œå·¥èµ„<strong>æ’åç›¸åŒï¼Œåˆ™Kendallç³»æ•°ä¸º1</strong>ï¼Œä¸¤å˜é‡æ­£ç›¸å…³ã€‚è‹¥å­¦å†å’Œå·¥èµ„å®Œå…¨ç›¸åï¼Œåˆ™ç³»æ•°ä¸º-1ï¼Œå®Œå…¨è´Ÿç›¸å…³ã€‚è€Œå¦‚æœå­¦å†å’Œå·¥èµ„å®Œå…¨ç‹¬ç«‹ï¼Œç³»æ•°ä¸º0ã€‚Kendallç³»æ•°è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š<br>$$<br>P &#x3D; \frac{N_{Concordant Pairs}-N_{DiscordantPairs}}{\frac{n(n-1)}{2}}<br>$$<br>å…¶ä¸­ï¼Œ ä¸ºåŒåºå¯¹ï¼Œ ä¸ºå¼‚åºå¯¹ï¼Œ ä¸ºæ€»å¯¹æ•°ã€‚åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¸¾ä¾‹å±•ç¤ºä¸‹è®¡ç®—è¿‡ç¨‹ï¼š</p><p><img src="/src/640-164640225130885.png" alt="å›¾ç‰‡"></p><h3 id="2-3-ç±»åˆ«å‹vsç±»åˆ«å‹"><a href="#2-3-ç±»åˆ«å‹vsç±»åˆ«å‹" class="headerlink" title="2.3 ç±»åˆ«å‹vsç±»åˆ«å‹"></a><strong>2.3 ç±»åˆ«å‹vsç±»åˆ«å‹</strong></h3><h4 id="1-å¡æ–¹æ£€éªŒ-Chi-squared-Test"><a href="#1-å¡æ–¹æ£€éªŒ-Chi-squared-Test" class="headerlink" title="(1) å¡æ–¹æ£€éªŒ(Chi-squared Test)"></a><strong>(1) å¡æ–¹æ£€éªŒ(Chi-squared Test)</strong></h4><p>å¡æ–¹æ£€éªŒå¯ç”¨äºæ£€éªŒä¸¤ä¸ªç±»åˆ«å‹å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ã€‚å®ƒå»ºç«‹çš„é›¶å‡è®¾æ˜¯ï¼šä¸¤å˜é‡ä¹‹é—´ä¸ç›¸å…³ã€‚å¡æ–¹å€¼ çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><p>$$<br>X^2&#x3D;\sum\frac{(observed-expected)^2}{expected}<br>$$<br>å…¶ä¸­ï¼Œ æ˜¯å®é™…å€¼ï¼Œ æ˜¯ç†è®ºå€¼ã€‚å¡æ–¹å€¼çš„ç›®çš„æ˜¯<strong>è¡¡é‡ç†è®ºå’Œå®é™…çš„å·®å¼‚ç¨‹åº¦</strong>ã€‚å¦‚æœæˆ‘ä»¬ç ”ç©¶è¿åŠ¨çš„äººæ˜¯å¦ä¼šå—ä¼¤ï¼Œè®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/src/640-164640230562487.png" alt="å›¾ç‰‡"></p><p>å¡æ–¹å€¼é«˜ï¼Œè¯´æ˜ä¸¤å˜é‡ä¹‹é—´å…·æœ‰ç›¸å…³æ€§çš„å¯èƒ½æ€§æ›´å¤§ã€‚</p><h4 id="2-äº’ä¿¡æ¯-Mutual-Information"><a href="#2-äº’ä¿¡æ¯-Mutual-Information" class="headerlink" title="(2) äº’ä¿¡æ¯(Mutual Information)"></a><strong>(2) äº’ä¿¡æ¯(Mutual Information)</strong></h4><p>äº’ä¿¡æ¯æ˜¯<strong>è¡¡é‡å˜é‡ä¹‹é—´ç›¸äº’ä¾èµ–ç¨‹åº¦</strong>ï¼Œå®ƒçš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><p>$$<br>I(X;Y)&#x3D;\sum_{y\in Y}\sum_{x\in X}p(x,y)log(\frac{p(x, y)}{p(x)p(y)})<br>$$<br>å®ƒå¯ä»¥è½¬ä¸ºç†µçš„è¡¨ç°å½¢å¼ï¼Œå…¶ä¸­$H(X|Y)$å’Œ$H(Y|X)$æ˜¯æ¡ä»¶ç†µï¼Œ$H(X,Y)$æ˜¯è”åˆç†µã€‚å½“$X$ä¸ $Y$ç‹¬ç«‹æ—¶ï¼Œ$p(x, y)&#x3D;p(x)p(y)$ï¼Œåˆ™äº’ä¿¡æ¯ä¸º0ã€‚å½“ä¸¤ä¸ªå˜é‡å®Œå…¨ç›¸åŒæ—¶ï¼Œäº’ä¿¡æ¯æœ€å¤§ï¼Œå› æ­¤äº’ä¿¡æ¯è¶Šå¤§ï¼Œå˜é‡ç›¸å…³æ€§è¶Šå¼ºã€‚æ­¤å¤–ï¼Œäº’ä¿¡æ¯æ˜¯æ­£æ•°ä¸”å…·æœ‰å¯¹ç§°æ€§(å³$I(X;Y)&#x3D;I(Y;X)$ )ã€‚</p><p><img src="/src/640-164640246738989.png" alt="å›¾ç‰‡"></p><p>å›¾9: äº’ä¿¡æ¯[9]</p><h2 id="3-è¿‡æ»¤æ³•æ€»ç»“"><a href="#3-è¿‡æ»¤æ³•æ€»ç»“" class="headerlink" title="3. è¿‡æ»¤æ³•æ€»ç»“"></a><strong>3. è¿‡æ»¤æ³•æ€»ç»“</strong></h2><p>æ€»ç»“ä»¥ä¸Šå†…å®¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="/src/640-164640249579091.png" alt="å›¾ç‰‡"></p><p>å›¾10: è¿‡æ»¤æ³•çš„åº¦é‡æŒ‡æ ‡æ±‡æ€»ï¼ˆæ³¨ï¼šæŒ‘é€‰è§„åˆ™æ˜¯åŸºäºè‡ªå˜é‡å’Œå› å˜é‡çš„ç›¸å…³æ€§å»æŒ‘é€‰ï¼‰</p><p>æˆ‘ä»¬å¯ä»¥æŒ‰éœ€ä½¿ç”¨ä¸Šé¢çš„æŒ‡æ ‡å»è§‚å¯Ÿå˜é‡é—´çš„ç›¸å…³æ€§ï¼Œç„¶åäººå·¥æŒ‘é€‰ç‰¹å¾ã€‚å¦å¤–ï¼Œä¹Ÿèƒ½ä½¿ç”¨scikit-learné‡Œçš„ç‰¹å¾é€‰æ‹©åº“sklearn.feature_selection[10]ï¼Œè¿™é‡Œæˆ‘ä»¥SelectKBest(é€‰æ‹©Top Kä¸ªæœ€é«˜å¾—åˆ†çš„ç‰¹å¾)ä¸ºä¾‹:</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"># load Boston dataset<br>import pandas <span class="hljs-keyword">as</span> pd<br>import numpy <span class="hljs-keyword">as</span> np<br>from sklearn.datasets import load_boston<br>from sklearn.feature_selection import SelectKBest<br>from sklearn.feature_selection import f_regression<br><br>boston = load<span class="hljs-constructor">_boston()</span><br>df = pd.<span class="hljs-constructor">DataFrame(<span class="hljs-params">boston</span>.<span class="hljs-params">data</span>, <span class="hljs-params">columns</span> = <span class="hljs-params">boston</span>.<span class="hljs-params">feature_names</span>)</span><br>target = pd.<span class="hljs-constructor">DataFrame(<span class="hljs-params">boston</span>.<span class="hljs-params">target</span>, <span class="hljs-params">columns</span>=[&#x27;MEDV&#x27;])</span><br>print(&#x27;<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">X</span>.</span></span>shape:&#x27;, df.shape)<br><br># select feature by person coefficient<br>X = np.<span class="hljs-built_in">array</span>(df)<br>Y = np.<span class="hljs-built_in">array</span>(target)<br>skb = <span class="hljs-constructor">SelectKBest(<span class="hljs-params">score_func</span>=<span class="hljs-params">f_regression</span>, <span class="hljs-params">k</span>=5)</span><br>skb.fit(X, <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Y</span>.</span></span>ravel<span class="hljs-literal">()</span>)<br>print(&#x27;é€‰æ‹©çš„ç‰¹å¾æœ‰:&#x27;, <span class="hljs-literal">[<span class="hljs-identifier">boston</span>.<span class="hljs-identifier">feature_names</span>[<span class="hljs-identifier">i</span>]</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> skb.get<span class="hljs-constructor">_support(<span class="hljs-params">indices</span> = True)</span>])<br>X_selected = skb.transform(X)<br>print(&#x27;<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">X_selected</span>.</span></span>shape:&#x27;, <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">X_selected</span>.</span></span>shape)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5C640-164640256689093.png" alt="å›¾ç‰‡"></p><h1 id="ä¸‰ã€åŒ…è£¹æ³•-Wrapper"><a href="#ä¸‰ã€åŒ…è£¹æ³•-Wrapper" class="headerlink" title="ä¸‰ã€åŒ…è£¹æ³•(Wrapper)"></a><strong>ä¸‰ã€åŒ…è£¹æ³•(Wrapper)</strong></h1><p><img src="/src/640-164640257785995.png" alt="å›¾ç‰‡"></p><p>å›¾11: åŒ…è£¹æ³•[3]</p><p>åŒ…è£¹æ³•: å°†è¦ä½¿ç”¨çš„å­¦ä¹ å™¨çš„æ€§èƒ½ä½œä¸ºç‰¹å¾å­é›†çš„è¯„ä»·å‡†åˆ™ï¼Œç›®çš„æ˜¯ä¸ºç»™çš„å­¦ä¹ å™¨é€‰æ‹©â€œé‡èº«å®šåšâ€çš„ç‰¹å¾å­é›†ã€‚[4]</p><p>â— <strong>ä¼˜ç‚¹</strong>: ç‰¹å¾é€‰æ‹©æ¯”è¿‡æ»¤æ³•æ›´å…·é’ˆå¯¹æ€§ï¼Œå¯¹æ¨¡å‹æ€§èƒ½æœ‰å¥½å¤„ã€‚</p><p>â— <strong>ç¼ºç‚¹</strong>: è®¡ç®—å¼€é”€æ›´å¤§ã€‚</p><p>åŒ…è£¹æ³•æœ‰å¦‚ä¸‹ä¸‰ç±»æœç´¢æ–¹æ³•:</p><p><img src="/src/640-164640258782897.png" alt="å›¾ç‰‡"></p><p>å›¾12: åŒ…è£¹æ³•æ€»ç»“ </p><h2 id="1-å®Œå…¨æœç´¢"><a href="#1-å®Œå…¨æœç´¢" class="headerlink" title="1. å®Œå…¨æœç´¢"></a><strong>1. å®Œå…¨æœç´¢</strong></h2><p>éå†æ‰€æœ‰å¯èƒ½ç»„åˆçš„ç‰¹å¾å­é›†ï¼Œç„¶åè¾“å…¥æ¨¡å‹ï¼Œé€‰æ‹©æœ€ä½³æ¨¡å‹åˆ†æ•°çš„ç‰¹å¾å­é›†ã€‚ä¸æ¨èä½¿ç”¨ï¼Œè®¡ç®—å¼€é”€è¿‡å¤§ã€‚</p><h2 id="2-å¯å‘å¼æœç´¢"><a href="#2-å¯å‘å¼æœç´¢" class="headerlink" title="2. å¯å‘å¼æœç´¢"></a><strong>2. å¯å‘å¼æœç´¢</strong></h2><p>å¯å‘å¼æœç´¢æ˜¯åˆ©ç”¨å¯å‘å¼ä¿¡æ¯ä¸æ–­ç¼©å°æœç´¢ç©ºé—´çš„æ–¹æ³•ã€‚åœ¨ç‰¹å¾é€‰æ‹©ä¸­ï¼Œ<strong>æ¨¡å‹åˆ†æ•°æˆ–ç‰¹å¾æƒé‡å¯ä½œä¸ºå¯å‘å¼ä¿¡æ¯</strong>ã€‚</p><h3 id="2-1-å‘å‰-x2F-å‘åæœç´¢"><a href="#2-1-å‘å‰-x2F-å‘åæœç´¢" class="headerlink" title="2.1 å‘å‰&#x2F;å‘åæœç´¢"></a><strong>2.1 å‘å‰&#x2F;å‘åæœç´¢</strong></h3><p>å‘å‰æœç´¢æ˜¯å…ˆä»ç©ºé›†å¼€å§‹ï¼Œæ¯è½®åªåŠ å…¥ä¸€ä¸ªç‰¹å¾ï¼Œç„¶åè®­ç»ƒæ¨¡å‹ï¼Œè‹¥æ¨¡å‹è¯„ä¼°åˆ†æ•°æé«˜ï¼Œåˆ™ä¿ç•™è¯¥è½®åŠ å…¥çš„ç‰¹å¾ï¼Œå¦åˆ™ä¸¢å¼ƒã€‚åä¹‹ï¼Œå‘åç‰¹å¾æ˜¯åšå‡æ³•ï¼Œå…ˆä»å…¨ç‰¹å¾é›†å¼€å§‹ï¼Œæ¯è½®å‡å»ä¸€ä¸ªç‰¹å¾ï¼Œè‹¥æ¨¡å‹è¡¨ç°å‡ä½ï¼Œåˆ™ä¿ç•™ç‰¹å¾ï¼Œå¦åˆ™å¼ƒä¹‹ã€‚</p><h3 id="2-2-é€’å½’ç‰¹å¾æ¶ˆé™¤"><a href="#2-2-é€’å½’ç‰¹å¾æ¶ˆé™¤" class="headerlink" title="2.2 é€’å½’ç‰¹å¾æ¶ˆé™¤"></a><strong>2.2 é€’å½’ç‰¹å¾æ¶ˆé™¤</strong></h3><p>é€’å½’ç‰¹å¾æ¶ˆé™¤ç®€ç§°**RFE(Recursive Feature Elimination)**ï¼ŒRFEæ˜¯ä½¿ç”¨ä¸€ä¸ªåŸºæ¨¡å‹è¿›è¡Œå¤šè½®è®­ç»ƒï¼Œæ¯è½®è®­ç»ƒåï¼Œæ¶ˆé™¤è‹¥å¹²ä½æƒå€¼(ä¾‹ç‰¹å¾æƒé‡ç³»æ•°æˆ–è€…ç‰¹å¾é‡è¦æ€§)çš„ç‰¹å¾ï¼Œå†åŸºäºæ–°çš„ç‰¹å¾é›†è¿›è¡Œä¸‹ä¸€è½®è®­ç»ƒ[1]ã€‚RFEä½¿ç”¨æ—¶ï¼Œè¦æå‰é™å®šæœ€åé€‰æ‹©çš„ç‰¹å¾æ•°(n_features_to_select)ï¼Œè¿™ä¸ªè¶…å‚å¾ˆéš¾ä¿è¯ä¸€æ¬¡å°±è®¾ç½®åˆç†ï¼Œå› ä¸ºè®¾é«˜äº†ï¼Œå®¹æ˜“ç‰¹å¾å†—ä½™ï¼Œè®¾ä½äº†ï¼Œå¯èƒ½ä¼šè¿‡æ»¤æ‰ç›¸å¯¹é‡è¦çš„ç‰¹å¾ã€‚è€Œä¸”RFEåªæ˜¯å•çº¯åŸºäºç‰¹å¾æƒé‡å»é€‰æ‹©ï¼Œæ²¡æœ‰è€ƒè™‘æ¨¡å‹è¡¨ç°ï¼Œå› æ­¤RFECVå‡ºç°äº†ï¼ŒREFCVæ˜¯REF + CV(äº¤å‰éªŒè¯)ï¼Œå®ƒçš„è¿è¡Œæœºåˆ¶æ˜¯ï¼šå…ˆä½¿ç”¨REFè·å–å„ä¸ªç‰¹å¾çš„rankingï¼Œç„¶åå†åŸºäºrankingï¼Œä¾æ¬¡é€‰æ‹©[min_features_to_select, len(feature)]ä¸ªç‰¹å¾æ•°é‡çš„ç‰¹å¾å­é›†è¿›è¡Œæ¨¡å‹è®­ç»ƒå’Œäº¤å‰éªŒè¯ï¼Œæœ€åé€‰æ‹©å¹³å‡åˆ†æœ€é«˜çš„ç‰¹å¾å­é›†ã€‚</p><p><img src="/src/640-164640261385199.png" alt="å›¾ç‰‡"></p><p>å›¾13: RFE ä¸RFECV</p><p>è¿™é‡Œä¸é‡å¤é€ è½®å­äº†ï¼Œå¯å‚è€ƒwanglei5205æä¾›æ ·ä¾‹ä»£ç [10]:</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment">### ç”Ÿæˆæ•°æ®</span><br><span class="hljs-keyword">from</span> sklearn.datasets import make_classification<br>X, y = make_classification(<span class="hljs-attribute">n_samples</span>=1000,         # æ ·æœ¬ä¸ªæ•°                           <span class="hljs-attribute">n_features</span>=25,          # ç‰¹å¾ä¸ªæ•°                           <br><span class="hljs-attribute">n_informative</span>=3,        # æœ‰æ•ˆç‰¹å¾ä¸ªæ•°                           <br><span class="hljs-attribute">n_redundant</span>=2,          # å†—ä½™ç‰¹å¾ä¸ªæ•°ï¼ˆæœ‰æ•ˆç‰¹å¾çš„éšæœºç»„åˆï¼‰                           <span class="hljs-attribute">n_repeated</span>=0,           # é‡å¤ç‰¹å¾ä¸ªæ•°ï¼ˆæœ‰æ•ˆç‰¹å¾å’Œå†—ä½™ç‰¹å¾çš„éšæœºç»„åˆï¼‰<br><span class="hljs-attribute">n_classes</span>=8,            # æ ·æœ¬ç±»åˆ«                          <br><span class="hljs-attribute">n_clusters_per_class</span>=1, # ç°‡çš„ä¸ªæ•°                           <br><span class="hljs-attribute">random_state</span>=0)<br><span class="hljs-comment">### ç‰¹å¾é€‰æ‹©</span><br><span class="hljs-comment"># RFE</span><br><span class="hljs-keyword">from</span> sklearn.svm import SVC<br>svc = SVC(<span class="hljs-attribute">kernel</span>=<span class="hljs-string">&quot;linear&quot;</span>)<br><span class="hljs-keyword">from</span> sklearn.feature_selection import RFE<br>rfe = RFE(estimator = svc,           # åŸºåˆ†ç±»å™¨          <br>n_features_to_select = 2,  # é€‰æ‹©ç‰¹å¾ä¸ªæ•°          <br><span class="hljs-keyword">step</span> = 1,                  # æ¯æ¬¡è¿­ä»£ç§»é™¤çš„ç‰¹å¾ä¸ªæ•°           <br>verbose = 0                # æ˜¾ç¤ºä¸­é—´è¿‡ç¨‹          ).fit(X,y)<br>X_RFE = rfe.transform(X)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;RFEç‰¹å¾é€‰æ‹©ç»“æœâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æœ‰æ•ˆç‰¹å¾ä¸ªæ•° : %d&quot;</span> % rfe.n_features_)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å…¨éƒ¨ç‰¹å¾ç­‰çº§ : %s&quot;</span> % list(rfe.ranking_))<br><br><span class="hljs-comment"># RFECV</span><br><span class="hljs-keyword">from</span> sklearn.svm import SVC<br>svc = SVC(<span class="hljs-attribute">kernel</span>=<span class="hljs-string">&quot;linear&quot;</span>)<br><span class="hljs-keyword">from</span> sklearn.model_selection import StratifiedKFold<br><span class="hljs-keyword">from</span> sklearn.feature_selection import RFECV<br>rfecv = RFECV(<span class="hljs-attribute">estimator</span>=svc,          # å­¦ä¹ å™¨              <br><span class="hljs-attribute">min_features_to_select</span>=2, # æœ€å°é€‰æ‹©çš„ç‰¹å¾æ•°é‡             <br><span class="hljs-attribute">step</span>=1,                 # ç§»é™¤ç‰¹å¾ä¸ªæ•°             <br><span class="hljs-attribute">cv</span>=StratifiedKFold(2),  # äº¤å‰éªŒè¯æ¬¡æ•°             <br><span class="hljs-attribute">scoring</span>=<span class="hljs-string">&#x27;accuracy&#x27;</span>,     # å­¦ä¹ å™¨çš„è¯„ä»·æ ‡å‡†             <br>verbose = 0,              <br>n_jobs = 1).fit(X, y)<br>X_RFECV = rfecv.transform(X)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;RFECVç‰¹å¾é€‰æ‹©ç»“æœâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æœ‰æ•ˆç‰¹å¾ä¸ªæ•° : %d&quot;</span> % rfecv.n_features_)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å…¨éƒ¨ç‰¹å¾ç­‰çº§ : %s&quot;</span> % list(rfecv.ranking_))<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5C640-1646402768789101.png" alt="å›¾ç‰‡"></p><h2 id="3-éšæœºæœç´¢"><a href="#3-éšæœºæœç´¢" class="headerlink" title="3. éšæœºæœç´¢"></a><strong>3. éšæœºæœç´¢</strong></h2><h3 id="3-1-éšæœºç‰¹å¾å­é›†"><a href="#3-1-éšæœºç‰¹å¾å­é›†" class="headerlink" title="3.1 éšæœºç‰¹å¾å­é›†"></a><strong>3.1 éšæœºç‰¹å¾å­é›†</strong></h3><p>éšæœºé€‰æ‹©å¤šä¸ªç‰¹å¾å­é›†ï¼Œç„¶ååˆ†åˆ«è¯„ä¼°æ¨¡å‹è¡¨ç°ï¼Œé€‰æ‹©è¯„ä¼°åˆ†æ•°é«˜çš„ç‰¹å¾å­é›†ã€‚</p><h3 id="3-2-Null-Importance"><a href="#3-2-Null-Importance" class="headerlink" title="3.2 Null Importance"></a><strong>3.2 Null Importance</strong></h3><p>3å¹´å‰Kaggle GM Olivieræå‡ºNull Importanceç‰¹å¾æŒ‘é€‰æ³•ï¼Œæœ€è¿‘çœ‹å®Œä»£ç ï¼Œè§‰å¾—çœŸå¦™ã€‚å®ƒæˆåŠŸæ‰¾å‡ºâ€œè§é£ä½¿èˆµâ€çš„ç‰¹å¾å¹¶å‰”é™¤äº†å®ƒä»¬ï¼Œä»€ä¹ˆæ˜¯â€œè§é£ä½¿èˆµâ€çš„ç‰¹å¾å‘¢ï¼Ÿå¤šè§äºæ ‡è¯†æ€§å¼ºæˆ–å……æ»¡å™ªå£°çš„ç‰¹å¾ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æŠŠuserIDä½œä¸ºç‰¹å¾åŠ å…¥æ¨¡å‹ï¼Œé¢„æµ‹ä¸åŒuserIDå±äºå“ªç±»æ¶ˆè´¹äººç¾¤ï¼Œä¸€ä¸ªè¿‡æ‹Ÿåˆçš„æ¨¡å‹ï¼Œå¯ä»¥ä¼šå­¦åˆ°userIDåˆ°æ¶ˆè´¹äººç¾¤çš„ç›´æ¥æ˜ å°„å…³ç³»(ç›¸å½“äºæ¨¡å‹ç›´æ¥è®°ä½äº†è¿™ä¸ªuserIDæ˜¯ä»€ä¹ˆæ¶ˆè´¹äººç¾¤)ï¼Œé‚£å¦‚æœæˆ‘å‡è£…æŠŠæ ‡ç­¾æ‰“ä¹±ï¼Œæä¸ªå‡æ ‡ç­¾å»é‡æ–°è®­ç»ƒé¢„æµ‹ï¼Œæˆ‘ä»¬ä¼šå‘ç°æ¨¡å‹ä¼šæŠŠuserIDåˆç›´æ¥æ˜ å°„åˆ°æ‰“ä¹±çš„æ ‡ç­¾ä¸Šï¼Œæœ€åçœŸå‡æ ‡ç­¾ä¸‹ï¼ŒuserIDâ€œè§é£ä½¿èˆµâ€åœ°è®©éƒ½è‡ªå·±å˜æˆäº†æœ€é‡è¦çš„ç‰¹å¾ã€‚æˆ‘ä»¬æ€ä¹ˆæ‰¾å‡ºè¿™ç±»ç‰¹å¾å‘¢ï¼ŸOlivierçš„æƒ³æ³•å¾ˆç®€å•ï¼š<strong>çœŸæ­£å¼ºå¥ã€ç¨³å®šä¸”é‡è¦çš„ç‰¹å¾ä¸€å®šæ˜¯åœ¨çœŸæ ‡ç­¾ä¸‹ç‰¹å¾å¾ˆé‡è¦ï¼Œä½†ä¸€æ—¦æ ‡ç­¾æ‰“ä¹±ï¼Œè¿™äº›ä¼˜è´¨ç‰¹å¾çš„é‡è¦æ€§å°±ä¼šå˜å·®ã€‚ç›¸ååœ°ï¼Œå¦‚æœæŸç‰¹å¾åœ¨åŸå§‹æ ‡ç­¾ä¸‹è¡¨ç°ä¸€èˆ¬ï¼Œä½†æ‰“ä¹±æ ‡ç­¾åï¼Œå±…ç„¶é‡è¦æ€§ä¸Šå‡ï¼Œæ˜æ˜¾å°±ä¸é è°±ï¼Œè¿™ç±»â€œè§é£ä½¿èˆµâ€çš„ç‰¹å¾å°±å¾—å‰”é™¤æ‰ã€‚</strong></p><p>Null Importanceçš„è®¡ç®—è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹:</p><p>(1) åœ¨åŸå§‹æ•°æ®é›†è¿è¡Œæ¨¡å‹è·å–ç‰¹å¾é‡è¦æ€§;</p><p>(2) shuffleå¤šæ¬¡æ ‡ç­¾ï¼Œæ¯æ¬¡shuffleåè·å–å‡æ ‡ç­¾ä¸‹çš„ç‰¹å¾é‡è¦æ€§;</p><p>(3) è®¡ç®—çœŸå‡æ ‡ç­¾ä¸‹çš„ç‰¹å¾é‡è¦æ€§å·®å¼‚ï¼Œå¹¶åŸºäºå·®å¼‚ï¼Œç­›é€‰ç‰¹å¾ã€‚</p><p><img src="/src/640-1646402789025103.png" alt="å›¾ç‰‡"></p><p>å›¾14: Null Importanceçš„è®¡ç®—è¿‡ç¨‹ç¤ºæ„å›¾</p><p>åœ¨å›¾14æˆ‘ä»¬èƒ½çŸ¥é“Null Importanceçš„å¤§è‡´è¿è¡Œæµç¨‹ï¼Œä½†è¿™é‡Œè¡¥å……äº›ç»†èŠ‚ï¼Œå…¶ä¸­ï¼Œé‡è¦æ€§ä½ å¯ä»¥é€‰æ‹©importance_gainæˆ–è€…importance_splitã€‚å¦å¤–ï¼Œå¦‚å›¾14æ‰€ç¤ºï¼Œå¦‚æœæˆ‘ä»¬è¦æ¯”è¾ƒåŸå§‹æ ‡ç­¾å’Œæ‰“ä¹±æ ‡ç­¾ä¸‹çš„ç‰¹å¾é‡è¦æ€§ï¼ŒOlivieræä¾›äº†ä¸¤ç§æ¯”è¾ƒæ–¹æ³•ï¼š<br>$$<br>FeatureScore&#x3D;log(10^{-10}+\frac{Importance_{real\ label}}{1+percentile(Importance_{shuffle\ label},75)})<br>$$<br>ç¬¬ä¸€ç§ï¼šåˆ†ä½æ•°æ¯”è¾ƒã€‚</p><p>${10}^{-10}$ å’Œ1æ˜¯ä¸ºäº†é¿å…$log(0)$å’Œåˆ†æ¯ä¸º0çš„æƒ…å†µã€‚è¾“å‡ºæ ·ä¾‹å¦‚ä¸‹ï¼š</p><p><img src="/src/640-1646402931616105.png" alt="å›¾ç‰‡"></p><p>å›¾15: æ¯”è¾ƒç‰¹å¾é‡è¦æ€§åˆ†ä½æ•°</p><p>ç¬¬äºŒç§ï¼šæ¬¡æ•°å æ¯”æ¯”è¾ƒã€‚</p><p>æ­£å¸¸æ¥è¯´ï¼Œå•ä¸ªç‰¹å¾åªæœ‰1ä¸ª ï¼Œä¹‹æ‰€ä»¥ä½œè€…è¦æ±‚25åˆ†ä½æ•°ï¼Œæ˜¯è€ƒè™‘åˆ°å¦‚æœä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯¹åŸå§‹ç‰¹å¾åå¤è®­ç»ƒç”Ÿæˆå¤šç»„ç‰¹å¾é‡è¦æ€§ï¼Œæ‰€ä»¥æ‰å°±åŠ äº†25åˆ†ä½æ•°ã€‚è¾“å‡ºæ ·ä¾‹å¦‚ä¸‹ï¼š<br>$$<br>FeatureScore&#x3D;\frac{\sum(Importance_{shuffle\ label})&lt;percentile(Importance_{shuffle\ label},25)}{n_{Importance_{shuffle\ label}}}*100<br>$$<br><img src="/src/640-1646403081500107.png" alt="å›¾ç‰‡"></p><p>ç”±ä¸Šå¯çŸ¥ï¼Œç¬¬äºŒç§æ–¹æ³•å¾—åˆ°çš„ç‰¹å¾åˆ†æ•°æ˜¯åœ¨0-100èŒƒå›´å†…ï¼Œå› æ­¤Olivieré€‰æ‹©åœ¨ç¬¬äºŒç§æ–¹æ³•ä¸Šï¼Œé‡‡ç”¨ä¸åŒé˜ˆå€¼å»ç­›é€‰ç‰¹å¾ï¼Œç„¶åè¯„ä¼°æ¨¡å‹è¡¨ç°ã€‚æ¨èé˜…è¯»Olivierçš„å¼€æºä»£ç [11]ï¼Œç®€å•æ˜“æ‡‚ã€‚</p><h2 id="4-åŒ…è£¹æ³•æ€»ç»“"><a href="#4-åŒ…è£¹æ³•æ€»ç»“" class="headerlink" title="4. åŒ…è£¹æ³•æ€»ç»“"></a><strong>4. åŒ…è£¹æ³•æ€»ç»“</strong></h2><p>å®é™…ä½¿ç”¨ä¸­ï¼Œæ¨èRFECVå’ŒNull Importanceï¼Œå› ä¸ºä»–ä»¬æ—¢è€ƒè™‘äº†ç‰¹å¾æƒé‡ä¹Ÿè€ƒè™‘äº†æ¨¡å‹è¡¨ç°ã€‚</p><h1 id="å››ã€åµŒå…¥æ³•-Embedded"><a href="#å››ã€åµŒå…¥æ³•-Embedded" class="headerlink" title="å››ã€åµŒå…¥æ³•(Embedded)"></a><strong>å››ã€åµŒå…¥æ³•(Embedded)</strong></h1><p><img src="/src/640-1646403109893109.png" alt="å›¾ç‰‡"></p><p>å›¾17: åµŒå…¥æ³•[3]</p><p>åµŒå…¥æ³•: ç‰¹å¾é€‰æ‹©è¢«åµŒå…¥è¿›å­¦ä¹ å™¨è®­ç»ƒè¿‡ç¨‹ä¸­ã€‚ä¸åƒåŒ…è£¹æ³•ï¼Œç‰¹æ€§é€‰æ‹©ä¸å­¦ä¹ å™¨è®­ç»ƒè¿‡ç¨‹æœ‰æ˜æ˜¾çš„åŒºåˆ†ã€‚[4]</p><p>â— <strong>ä¼˜ç‚¹</strong>: æ¯”åŒ…è£¹æ³•æ›´çœæ—¶çœåŠ›ï¼ŒæŠŠç‰¹å¾é€‰æ‹©äº¤ç»™æ¨¡å‹å»å­¦ä¹ ã€‚</p><p>â— <strong>ç¼ºç‚¹</strong>: å¢åŠ æ¨¡å‹è®­ç»ƒè´Ÿæ‹…ã€‚</p><p>å¸¸è§çš„åµŒå…¥æ³•æœ‰LASSOçš„L1æ­£åˆ™æƒ©ç½šé¡¹ã€éšæœºæ£®æ—æ„å»ºå­æ ‘æ—¶ä¼šé€‰æ‹©ç‰¹å¾å­é›†ã€‚åµŒå…¥æ³•çš„åº”ç”¨æ¯”è¾ƒå•è°ƒï¼Œsklearnæœ‰æä¾›SelectFromModel[12]ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨æ¨¡å‹æŒ‘é€‰ç‰¹å¾ã€‚å‚è€ƒæ ·ä¾‹ä»£ç [1]å¦‚ä¸‹:</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-title">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris<br><span class="hljs-title">from</span> sklearn.feature_selection <span class="hljs-keyword">import</span> SelectFromModel<br><span class="hljs-title">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br><span class="hljs-title">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> GradientBoostingClassifier<br><br><span class="hljs-title">iris</span> = load_iris()<br><span class="hljs-meta"># å°†å¾…L1æƒ©ç½šé¡¹çš„é€»è¾‘å›å½’ä½œä¸ºåŸºæ¨¡å‹çš„ç‰¹å¾é€‰æ‹©</span><br><span class="hljs-title">selected_data_lr</span> = <span class="hljs-type">SelectFromModel</span>(<span class="hljs-type">LogisticRegression</span>(penalty=&#x27;l1&#x27;, <span class="hljs-type">C</span> = <span class="hljs-number">0.1</span>, <br>solver = &#x27;liblinear&#x27;), max_features = <span class="hljs-number">3</span>).fit_transform(iris.<span class="hljs-class"><span class="hljs-keyword">data</span>, iris.target)</span><br><span class="hljs-meta"># å°†GBDTä½œä¸ºåŸºæ¨¡å‹çš„ç‰¹å¾é€‰æ‹©</span><br><span class="hljs-title">selected_data_gbdt</span> = <span class="hljs-type">SelectFromModel</span>(<span class="hljs-type">GradientBoostingClassifier</span>(), <br>max_features = <span class="hljs-number">3</span>).fit_transform(iris.<span class="hljs-class"><span class="hljs-keyword">data</span>, iris.target)</span><br><br><span class="hljs-title">print</span>(iris.<span class="hljs-class"><span class="hljs-keyword">data</span>.shape)</span><br><span class="hljs-title">print</span>(selected_data_lr.shape)<br><span class="hljs-title">print</span>(selected_data_gbdt.shape)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5C640-1646403175816111.png" alt="å›¾ç‰‡"></p><h1 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a><strong>äº”ã€æ€»ç»“</strong></h1><p>åœ¨è¿›è¡Œç‰¹å¾é€‰æ‹©æ—¶ï¼Œå»ºè®®è¿‡æ»¤æ³•ã€åŒ…è£¹æ³•å’ŒåµŒå…¥æ³•éƒ½å°è¯•ä½¿ç”¨ï¼Œå‰æœŸçš„ç‰¹å¾è¿‡æ»¤æœ‰åˆ©äºå‡è½»æ¨¡å‹çš„å­¦ä¹ è´Ÿæ‹…ã€‚å½“ç„¶æœ€é«˜çº§çš„ç‰¹å¾é€‰æ‹©è¿˜æ˜¯åŸºäºä¸šåŠ¡çŸ¥è¯†çš„äººå·¥æŒ‘é€‰ï¼Œä»¥ä¸Šæ–¹æ³•æŒ‘é€‰å‡ºçš„ç‰¹å¾ä¹Ÿå»ºè®®å¤šæ€è€ƒä¸ºä»€ä¹ˆè¿™ä¸ªç‰¹å¾å¯¹æ¨¡å‹æœ‰å¸®åŠ©ï¼Œä»¥åŠæŒ‘é€‰çš„ä¼˜è´¨ç‰¹å¾æœ‰æ²¡æœ‰æ›´è¿›ä¸€æ­¥æ·±å…¥æŒ–æ˜çš„å¯èƒ½ã€‚ï¿½æœ‰æ›´è¿›ä¸€æ­¥æ·±å…¥æŒ–æ˜çš„å¯èƒ½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”ç‰¹å¾å½’ä¸€åŒ–çš„é‡è¦æ€§</title>
    <link href="/2022/08/01/MachineLearning/%E7%89%B9%E5%BE%81%E5%BD%92%E4%B8%80%E5%8C%96%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7/"/>
    <url>/2022/08/01/MachineLearning/%E7%89%B9%E5%BE%81%E5%BD%92%E4%B8%80%E5%8C%96%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7/</url>
    
    <content type="html"><![CDATA[<p><strong>Feature scaling</strong>ï¼Œå¸¸è§çš„ææ³•æœ‰â€œç‰¹å¾å½’ä¸€åŒ–â€ã€â€œæ ‡å‡†åŒ–â€ï¼Œæ˜¯æ•°æ®é¢„å¤„ç†ä¸­çš„é‡è¦æŠ€æœ¯ï¼Œæœ‰æ—¶ç”šè‡³å†³å®šäº†ç®—æ³•èƒ½ä¸èƒ½workä»¥åŠworkå¾—å¥½ä¸å¥½ã€‚è°ˆåˆ°feature scalingçš„å¿…è¦æ€§ï¼Œæœ€å¸¸ç”¨çš„2ä¸ªä¾‹å­å¯èƒ½æ˜¯ï¼š</p><ul><li><strong>ç‰¹å¾é—´çš„å•ä½ï¼ˆå°ºåº¦ï¼‰å¯èƒ½ä¸åŒ</strong>ï¼Œæ¯”å¦‚èº«é«˜å’Œä½“é‡ï¼Œæ¯”å¦‚æ‘„æ°åº¦å’Œåæ°åº¦ï¼Œæ¯”å¦‚æˆ¿å±‹é¢ç§¯å’Œæˆ¿é—´æ•°ï¼Œä¸€ä¸ªç‰¹å¾çš„å˜åŒ–èŒƒå›´å¯èƒ½æ˜¯[1000, 10000]ï¼Œå¦ä¸€ä¸ªç‰¹å¾çš„å˜åŒ–èŒƒå›´å¯èƒ½æ˜¯[âˆ’0.1,0.2]ï¼Œåœ¨è¿›è¡Œè·ç¦»æœ‰å…³çš„è®¡ç®—æ—¶ï¼Œå•ä½çš„ä¸åŒä¼šå¯¼è‡´è®¡ç®—ç»“æœçš„ä¸åŒï¼Œå°ºåº¦å¤§çš„ç‰¹å¾ä¼šèµ·å†³å®šæ€§ä½œç”¨ï¼Œè€Œå°ºåº¦å°çš„ç‰¹å¾å…¶ä½œç”¨å¯èƒ½ä¼šè¢«å¿½ç•¥ï¼Œ<strong>ä¸ºäº†æ¶ˆé™¤ç‰¹å¾é—´å•ä½å’Œå°ºåº¦å·®å¼‚çš„å½±å“ï¼Œä»¥å¯¹æ¯ç»´ç‰¹å¾åŒç­‰çœ‹å¾…ï¼Œéœ€è¦å¯¹ç‰¹å¾è¿›è¡Œå½’ä¸€åŒ–</strong>ã€‚</li><li>åŸå§‹ç‰¹å¾ä¸‹ï¼Œ<strong>å› å°ºåº¦å·®å¼‚ï¼Œå…¶æŸå¤±å‡½æ•°çš„ç­‰é«˜çº¿å›¾å¯èƒ½æ˜¯æ¤­åœ†å½¢</strong>ï¼Œæ¢¯åº¦æ–¹å‘å‚ç›´äºç­‰é«˜çº¿ï¼Œä¸‹é™ä¼šèµ°zigzagè·¯çº¿ï¼Œè€Œä¸æ˜¯æŒ‡å‘local minimumã€‚é€šè¿‡å¯¹ç‰¹å¾è¿›è¡Œzero-mean and unit-varianceå˜æ¢åï¼Œå…¶æŸå¤±å‡½æ•°çš„ç­‰é«˜çº¿å›¾æ›´æ¥è¿‘åœ†å½¢ï¼Œæ¢¯åº¦ä¸‹é™çš„æ–¹å‘éœ‡è¡æ›´å°ï¼Œæ”¶æ•›æ›´å¿«ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</li></ul><p><img src="/src/640-165779004044093.png" alt="å›¾ç‰‡"></p><p>å¯¹äºfeature scalingä¸­æœ€å¸¸ä½¿ç”¨çš„Standardizationï¼Œä¼¼ä¹â€œæ— è„‘ä¸Šâ€å°±è¡Œäº†ï¼Œæœ¬æ–‡æƒ³å¤šæ¢ç©¶ä¸€äº›ä¸ºä»€ä¹ˆï¼Œ</p><h1 id="å¸¸ç”¨çš„feature-scalingæ–¹æ³•"><a href="#å¸¸ç”¨çš„feature-scalingæ–¹æ³•" class="headerlink" title="å¸¸ç”¨çš„feature scalingæ–¹æ³•"></a>å¸¸ç”¨çš„feature scalingæ–¹æ³•</h1><p>ç»™å®šæ•°æ®é›†ï¼Œä»¤ç‰¹å¾å‘é‡ä¸ºxï¼Œç»´æ•°ä¸ºDï¼Œæ ·æœ¬æ•°é‡ä¸ºRï¼Œå¯æ„æˆDÃ—Rçš„çŸ©é˜µï¼Œä¸€åˆ—ä¸ºä¸€ä¸ªæ ·æœ¬ï¼Œä¸€è¡Œä¸ºä¸€ç»´ç‰¹å¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾ç‰‡æ¥è‡ªHung-yi Lee pdf-Gradient Descentï¼š</p><p><img src="/src/640-165779234453596.jpeg" alt="å›¾ç‰‡"></p><p>feature matrix</p><p>feature scalingçš„æ–¹æ³•å¯ä»¥åˆ†æˆ2ç±»ï¼Œé€è¡Œè¿›è¡Œå’Œé€åˆ—è¿›è¡Œã€‚é€è¡Œæ˜¯å¯¹æ¯ä¸€ç»´ç‰¹å¾æ“ä½œï¼Œé€åˆ—æ˜¯å¯¹æ¯ä¸ªæ ·æœ¬æ“ä½œï¼Œä¸Šå›¾ä¸ºé€è¡Œæ“ä½œä¸­ç‰¹å¾æ ‡å‡†åŒ–çš„ç¤ºä¾‹ã€‚</p><p>å…·ä½“åœ°ï¼Œå¸¸ç”¨feature scalingæ–¹æ³•å¦‚ä¸‹ï¼Œæ¥è‡ªwikiï¼Œ</p><ul><li><p>**Rescaling (min-max normalizationã€range scaling)**ï¼š<br>$$<br>x^{\prime}&#x3D;a+\frac{(x-\min (x))(b-a)}{\max (x)-\min (x)}<br>$$<br>å°†æ¯ä¸€ç»´ç‰¹å¾çº¿æ€§æ˜ å°„åˆ°ç›®æ ‡èŒƒå›´[a,b]ï¼Œå³å°†æœ€å°å€¼æ˜ å°„ä¸ºaï¼Œæœ€å¤§å€¼æ˜ å°„ä¸ºbï¼Œå¸¸ç”¨ç›®æ ‡èŒƒå›´ä¸º[0,1]å’Œ[âˆ’1,1]ï¼Œç‰¹åˆ«åœ°ï¼Œæ˜ å°„åˆ°[0,1]è®¡ç®—æ–¹å¼ä¸ºï¼š<br>$$<br>x^{\prime}&#x3D;\frac{x-\min (x)}{\max (x)-\min (x)}<br>$$</p></li><li><p><strong>Mean normalization</strong>ï¼š<br>$$<br>x^{\prime}&#x3D;\frac{x-\bar{x}}{\max (x)-\min (x)}<br>$$<br>å°†<strong>å‡å€¼æ˜ å°„ä¸º0</strong>ï¼ŒåŒæ—¶ç”¨æœ€å¤§å€¼æœ€å°å€¼çš„å·®å¯¹ç‰¹å¾è¿›è¡Œå½’ä¸€åŒ–ï¼Œä¸€ç§æ›´å¸¸è§çš„åšæ³•æ˜¯ç”¨æ ‡å‡†å·®è¿›è¡Œå½’ä¸€åŒ–ï¼Œå¦‚ä¸‹ã€‚</p></li><li><p><strong>Standardization (Z-score Normalization)<strong>ï¼š<br>$$<br>x^{\prime}&#x3D;\frac{x-\bar{x}}{\sigma}<br>$$<br>æ¯ç»´ç‰¹å¾</strong>0å‡å€¼1æ–¹å·®ï¼ˆzero-mean and unit-varianceï¼‰</strong>ã€‚</p></li><li><p><strong>Scaling to unit length</strong>ï¼š<br>$$<br>x^{\prime}&#x3D;\frac{x}{||x||}<br>$$<br>å°†æ¯ä¸ªæ ·æœ¬çš„ç‰¹å¾å‘é‡é™¤ä»¥å…¶é•¿åº¦ï¼Œå³å¯¹æ ·æœ¬ç‰¹å¾å‘é‡çš„é•¿åº¦è¿›è¡Œå½’ä¸€åŒ–ï¼Œé•¿åº¦çš„åº¦é‡å¸¸ä½¿ç”¨çš„æ˜¯L2 normï¼ˆæ¬§æ°è·ç¦»ï¼‰ï¼Œæœ‰æ—¶ä¹Ÿä¼šé‡‡ç”¨L1 normï¼Œä¸åŒåº¦é‡æ–¹å¼çš„ä¸€ç§å¯¹æ¯”å¯ä»¥å‚è§è®ºæ–‡â€œCVPR2005-Histograms of Oriented Gradients for Human Detectionâ€ã€‚</p></li></ul><p>ä¸Šè¿°4ç§feature scalingæ–¹å¼ï¼Œå‰3ç§ä¸ºé€è¡Œæ“ä½œï¼Œæœ€å1ç§ä¸ºé€åˆ—æ“ä½œã€‚</p><p>  <strong>å®¹æ˜“è®©äººå›°æƒ‘çš„ä¸€ç‚¹æ˜¯æŒ‡ä»£æ··æ·†ï¼ŒStandardizationæŒ‡ä»£æ¯”è¾ƒæ¸…æ™°ï¼Œä½†æ˜¯å•è¯´Normalizationæœ‰æ—¶ä¼šæŒ‡ä»£min-max normalizationï¼Œæœ‰æ—¶ä¼šæŒ‡ä»£Standardizationï¼Œæœ‰æ—¶ä¼šæŒ‡ä»£Scaling to unit length</strong>ã€‚</p><h1 id="è®¡ç®—æ–¹å¼ä¸Šå¯¹æ¯”åˆ†æ"><a href="#è®¡ç®—æ–¹å¼ä¸Šå¯¹æ¯”åˆ†æ" class="headerlink" title="è®¡ç®—æ–¹å¼ä¸Šå¯¹æ¯”åˆ†æ"></a>è®¡ç®—æ–¹å¼ä¸Šå¯¹æ¯”åˆ†æ</h1><p>3ç§feature scalingçš„è®¡ç®—æ–¹å¼ä¸º<strong>å‡ä¸€ä¸ªç»Ÿè®¡é‡å†é™¤ä»¥ä¸€ä¸ªç»Ÿè®¡é‡</strong>ï¼Œæœ€å1ç§ä¸º<strong>é™¤ä»¥å‘é‡è‡ªèº«çš„é•¿åº¦</strong>ã€‚</p><ul><li><strong>å‡ä¸€ä¸ªç»Ÿè®¡é‡</strong>å¯ä»¥çœ‹æˆ<strong>é€‰å“ªä¸ªå€¼ä½œä¸ºåŸç‚¹ï¼Œæ˜¯æœ€å°å€¼è¿˜æ˜¯å‡å€¼ï¼Œå¹¶å°†æ•´ä¸ªæ•°æ®é›†å¹³ç§»åˆ°è¿™ä¸ªæ–°çš„åŸç‚¹ä½ç½®</strong>ã€‚å¦‚æœç‰¹å¾é—´åç½®ä¸åŒå¯¹åç»­è¿‡ç¨‹æœ‰è´Ÿé¢å½±å“ï¼Œåˆ™è¯¥æ“ä½œæ˜¯æœ‰ç›Šçš„ï¼Œå¯ä»¥çœ‹æˆæ˜¯æŸç§<strong>åç½®æ— å…³æ“ä½œ</strong>ï¼›å¦‚æœåŸå§‹ç‰¹å¾å€¼æœ‰ç‰¹æ®Šæ„ä¹‰ï¼Œæ¯”å¦‚ç¨€ç–æ€§ï¼Œè¯¥æ“ä½œå¯èƒ½ä¼šç ´åå…¶ç¨€ç–æ€§ã€‚</li><li><strong>é™¤ä»¥ä¸€ä¸ªç»Ÿè®¡é‡</strong>å¯ä»¥çœ‹æˆåœ¨<strong>åæ ‡è½´æ–¹å‘ä¸Šå¯¹ç‰¹å¾è¿›è¡Œç¼©æ”¾</strong>ï¼Œç”¨äº<strong>é™ä½ç‰¹å¾å°ºåº¦çš„å½±å“ï¼Œå¯ä»¥çœ‹æˆæ˜¯æŸç§å°ºåº¦æ— å…³æ“ä½œ</strong>ã€‚ç¼©æ”¾å¯ä»¥ä½¿ç”¨æœ€å¤§å€¼æœ€å°å€¼é—´çš„è·¨åº¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡å‡†å·®ï¼ˆåˆ°ä¸­å¿ƒç‚¹çš„å¹³å‡è·ç¦»ï¼‰ï¼Œå‰è€…å¯¹outliersæ•æ„Ÿï¼Œoutlierså¯¹åè€…å½±å“ä¸outliersæ•°é‡å’Œæ•°æ®é›†å¤§å°æœ‰å…³ï¼Œoutliersè¶Šå°‘æ•°æ®é›†è¶Šå¤§å½±å“è¶Šå°ã€‚</li><li><strong>é™¤ä»¥é•¿åº¦</strong>ç›¸å½“äºæŠŠé•¿åº¦å½’ä¸€åŒ–ï¼Œ<strong>æŠŠæ‰€æœ‰æ ·æœ¬æ˜ å°„åˆ°å•ä½çƒä¸Š</strong>ï¼Œå¯ä»¥çœ‹æˆæ˜¯æŸç§<strong>é•¿åº¦æ— å…³æ“ä½œ</strong>ï¼Œæ¯”å¦‚ï¼Œè¯é¢‘ç‰¹å¾è¦ç§»é™¤æ–‡ç« é•¿åº¦çš„å½±å“ï¼Œå›¾åƒå¤„ç†ä¸­æŸäº›ç‰¹å¾è¦ç§»é™¤å…‰ç…§å¼ºåº¦çš„å½±å“ï¼Œä»¥åŠæ–¹ä¾¿è®¡ç®—ä½™å¼¦è·ç¦»æˆ–å†…ç§¯ç›¸ä¼¼åº¦ç­‰ã€‚</li></ul><p>ç¨€ç–æ•°æ®ã€outliersç›¸å…³çš„æ›´å¤šæ•°æ®é¢„å¤„ç†å†…å®¹å¯ä»¥å‚è§scikit learn-5.3. Preprocessing dataã€‚</p><p>ä»å‡ ä½•ä¸Šè§‚å¯Ÿä¸Šè¿°æ–¹æ³•çš„ä½œç”¨ï¼Œzero-meanå°†æ•°æ®é›†å¹³ç§»åˆ°åŸç‚¹ï¼Œunit-varianceä½¿æ¯ç»´ç‰¹å¾ä¸Šçš„è·¨åº¦ç›¸å½“ï¼Œå›¾ä¸­å¯ä»¥æ˜æ˜¾çœ‹å‡ºä¸¤ç»´ç‰¹å¾é—´å­˜åœ¨çº¿æ€§ç›¸å…³æ€§ï¼ŒStandardizationæ“ä½œå¹¶æ²¡æœ‰æ¶ˆé™¤è¿™ç§ç›¸å…³æ€§ã€‚</p><p><img src="/src/640-165779380738299.png" alt="å›¾ç‰‡">Standardization</p><p>å¯é€šè¿‡PCAæ–¹æ³•ç§»é™¤çº¿æ€§ç›¸å…³æ€§ï¼ˆdecorrelationï¼‰ï¼Œå³å¼•å…¥æ—‹è½¬ï¼Œæ‰¾åˆ°æ–°çš„åæ ‡è½´æ–¹å‘ï¼Œåœ¨æ–°åæ ‡è½´æ–¹å‘ä¸Šç”¨â€œæ ‡å‡†å·®â€è¿›è¡Œç¼©æ”¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾ç‰‡æ¥è‡ªé“¾æ¥ï¼Œå›¾ä¸­åŒæ—¶æè¿°äº†unit lengthçš„ä½œç”¨â€”â€”å°†æ‰€æœ‰æ ·æœ¬æ˜ å°„åˆ°å•ä½çƒä¸Šã€‚</p><p><img src="/src/640-1657793807382100.png" alt="å›¾ç‰‡">Effect of the operations of standardization and length normalization</p><p>å½“ç‰¹å¾ç»´æ•°æ›´å¤šæ—¶ï¼Œå¯¹æ¯”å¦‚ä¸‹ï¼Œ<img src="/src/640-1657793807382101.png" alt="å›¾ç‰‡"></p><p>æ€»çš„æ¥è¯´ï¼Œ<strong>å½’ä¸€åŒ–&#x2F;æ ‡å‡†åŒ–çš„ç›®çš„æ˜¯ä¸ºäº†è·å¾—æŸç§â€œæ— å…³æ€§â€â€”â€”åç½®æ— å…³ã€å°ºåº¦æ— å…³ã€é•¿åº¦æ— å…³â€¦â€¦å½“å½’ä¸€åŒ–&#x2F;æ ‡å‡†åŒ–æ–¹æ³•èƒŒåçš„ç‰©ç†æ„ä¹‰å’Œå‡ ä½•å«ä¹‰ä¸å½“å‰é—®é¢˜çš„éœ€è¦ç›¸å¥‘åˆæ—¶ï¼Œå…¶å¯¹è§£å†³è¯¥é—®é¢˜å°±æœ‰æ­£å‘ä½œç”¨ï¼Œåä¹‹ï¼Œå°±ä¼šèµ·åä½œç”¨ã€‚æ‰€ä»¥ï¼Œâ€œä½•æ—¶é€‰æ‹©ä½•ç§æ–¹æ³•â€å–å†³äºå¾…è§£å†³çš„é—®é¢˜ï¼Œå³problem-dependentã€‚</strong></p><h1 id="feature-scaling-éœ€è¦è¿˜æ˜¯ä¸éœ€è¦"><a href="#feature-scaling-éœ€è¦è¿˜æ˜¯ä¸éœ€è¦" class="headerlink" title="feature scaling éœ€è¦è¿˜æ˜¯ä¸éœ€è¦"></a>feature scaling éœ€è¦è¿˜æ˜¯ä¸éœ€è¦</h1><p>ä¸‹å›¾å¯¹æ¯”äº†å‡ ä¸ªç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œæœ€å³ä¾§ä¸¤åˆ—ä¸ºæ˜¯å¦éœ€è¦feature scalingã€‚</p><p><img src="/src/640-1657794028306108.png" alt="å›¾ç‰‡">Comparing supervised learning algorithms</p><p>ä¸‹é¢å…·ä½“åˆ†æä¸€ä¸‹ã€‚</p><h2 id="ä»€ä¹ˆæ—¶å€™éœ€è¦feature-scalingï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™éœ€è¦feature-scalingï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™éœ€è¦feature scalingï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™éœ€è¦feature scalingï¼Ÿ</h2><ul><li>æ¶‰åŠæˆ–éšå«<strong>è·ç¦»è®¡ç®—</strong>çš„ç®—æ³•ï¼Œæ¯”å¦‚K-meansã€KNNã€PCAã€SVMç­‰ï¼Œä¸€èˆ¬éœ€è¦feature scalingï¼Œå› ä¸ºï¼š</li></ul><p><strong>zero-meanä¸€èˆ¬å¯ä»¥å¢åŠ æ ·æœ¬é—´ä½™å¼¦è·ç¦»æˆ–è€…å†…ç§¯ç»“æœçš„å·®å¼‚</strong>ï¼ŒåŒºåˆ†åŠ›æ›´å¼ºï¼Œå‡è®¾æ•°æ®é›†é›†ä¸­åˆ†å¸ƒåœ¨ç¬¬ä¸€è±¡é™é¥è¿œçš„å³ä¸Šè§’ï¼Œå°†å…¶å¹³ç§»åˆ°åŸç‚¹å¤„ï¼Œå¯ä»¥æƒ³è±¡æ ·æœ¬é—´ä½™å¼¦è·ç¦»çš„å·®å¼‚è¢«æ”¾å¤§äº†ã€‚åœ¨æ¨¡ç‰ˆåŒ¹é…ä¸­ï¼Œzero-meanå¯ä»¥æ˜æ˜¾æé«˜å“åº”ç»“æœçš„åŒºåˆ†åº¦ã€‚</p><p>å°±æ¬§å¼è·ç¦»è€Œè¨€ï¼Œ<strong>å¢å¤§æŸä¸ªç‰¹å¾çš„å°ºåº¦ï¼Œç›¸å½“äºå¢åŠ äº†å…¶åœ¨è·ç¦»è®¡ç®—ä¸­çš„æƒé‡ï¼Œå¦‚æœæœ‰æ˜ç¡®çš„å…ˆéªŒçŸ¥è¯†è¡¨æ˜æŸä¸ªç‰¹å¾å¾ˆé‡è¦ï¼Œé‚£ä¹ˆé€‚å½“å¢åŠ å…¶æƒé‡å¯èƒ½æœ‰æ­£å‘æ•ˆæœï¼Œä½†å¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ˆéªŒï¼Œæˆ–è€…ç›®çš„å°±æ˜¯æƒ³çŸ¥é“å“ªäº›ç‰¹å¾æ›´é‡è¦ï¼Œé‚£ä¹ˆå°±éœ€è¦å…ˆfeature scalingï¼Œå¯¹å„ç»´ç‰¹å¾ç­‰è€Œè§†ä¹‹</strong>ã€‚</p><p>å¢å¤§å°ºåº¦çš„åŒæ—¶ä¹Ÿå¢å¤§äº†è¯¥ç‰¹å¾ç»´åº¦ä¸Šçš„æ–¹å·®ï¼ŒPCAç®—æ³•å€¾å‘äºå…³æ³¨æ–¹å·®è¾ƒå¤§çš„ç‰¹å¾æ‰€åœ¨çš„åæ ‡è½´æ–¹å‘ï¼Œå…¶ä»–ç‰¹å¾å¯èƒ½ä¼šè¢«å¿½è§†ï¼Œå› æ­¤ï¼Œåœ¨PCAå‰åšStandardizationæ•ˆæœå¯èƒ½æ›´å¥½ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾ç‰‡æ¥è‡ªscikit learn-Importance of Feature Scalingï¼Œ</p><ul><li><p><img src="/src/640-1657794800850111.png" alt="å›¾ç‰‡">PCA and Standardization</p></li><li><p>æŸå¤±å‡½æ•°ä¸­å«æœ‰<strong>æ­£åˆ™é¡¹</strong>æ—¶ï¼Œä¸€èˆ¬éœ€è¦feature scalingï¼šå¯¹äºçº¿æ€§æ¨¡å‹y&#x3D;wx+bè€Œè¨€ï¼Œxçš„ä»»ä½•çº¿æ€§å˜æ¢ï¼ˆå¹³ç§»ã€æ”¾ç¼©ï¼‰ï¼Œéƒ½å¯ä»¥è¢«wå’Œbâ€œå¸æ”¶â€æ‰ï¼Œç†è®ºä¸Šï¼Œä¸ä¼šå½±å“æ¨¡å‹çš„æ‹Ÿåˆèƒ½åŠ›ã€‚ä½†æ˜¯ï¼Œå¦‚æœæŸå¤±å‡½æ•°ä¸­å«æœ‰æ­£åˆ™é¡¹ï¼Œå¦‚Î»âˆ£âˆ£wâˆ£âˆ£^2ï¼ŒÎ»ä¸ºè¶…å‚æ•°ï¼Œå…¶å¯¹wçš„æ¯ä¸€ä¸ªå‚æ•°æ–½åŠ åŒæ ·çš„æƒ©ç½šï¼Œä½†å¯¹äºæŸä¸€ç»´ç‰¹å¾xiè€Œè¨€ï¼Œå…¶scaleè¶Šå¤§ï¼Œç³»æ•°wiè¶Šå°ï¼Œå…¶åœ¨æ­£åˆ™é¡¹ä¸­çš„æ¯”é‡å°±ä¼šå˜å°ï¼Œç›¸å½“äºå¯¹wiæƒ©ç½šå˜å°ï¼Œå³æŸå¤±å‡½æ•°ä¼šç›¸å¯¹å¿½è§†é‚£äº›scaleå¢å¤§çš„ç‰¹å¾ï¼Œè¿™å¹¶ä¸åˆç†ï¼Œæ‰€ä»¥éœ€è¦feature scalingï¼Œä½¿æŸå¤±å‡½æ•°å¹³ç­‰çœ‹å¾…æ¯ä¸€ç»´ç‰¹å¾ã€‚</p></li><li><p><strong>æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼Œéœ€è¦feature scaling</strong>ã€‚æ¢¯åº¦ä¸‹é™çš„å‚æ•°æ›´æ–°å…¬å¼å¦‚ä¸‹ï¼Œ</p></li></ul><p><img src="/src/640-1657794800850112.png" alt="å›¾ç‰‡"></p><p>E(W)ä¸ºæŸå¤±å‡½æ•°ï¼Œ<strong>æ”¶æ•›é€Ÿåº¦å–å†³äºï¼šå‚æ•°çš„åˆå§‹ä½ç½®åˆ°local minimaçš„è·ç¦»ï¼Œä»¥åŠå­¦ä¹ ç‡Î·çš„å¤§å°</strong>ã€‚ä¸€ç»´æƒ…å†µä¸‹ï¼Œ<strong>åœ¨local minimaé™„è¿‘</strong>ï¼Œä¸åŒå­¦ä¹ ç‡å¯¹æ¢¯åº¦ä¸‹é™çš„å½±å“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/src/640-1657794800850113.png" alt="å›¾ç‰‡">Gradient descent for different learning rates</p><p>å¤šç»´æƒ…å†µä¸‹å¯ä»¥åˆ†è§£æˆå¤šä¸ªä¸Šå›¾ï¼Œæ¯ä¸ªç»´åº¦ä¸Šåˆ†åˆ«ä¸‹é™ï¼Œå‚æ•°Wä¸ºå‘é‡ï¼Œä½†å­¦ä¹ ç‡åªæœ‰1ä¸ªï¼Œå³æ‰€æœ‰å‚æ•°ç»´åº¦å…±ç”¨åŒä¸€ä¸ªå­¦ä¹ ç‡ï¼ˆæš‚ä¸è€ƒè™‘ä¸ºæ¯ä¸ªç»´åº¦éƒ½åˆ†é…å•ç‹¬å­¦ä¹ ç‡çš„ç®—æ³•ï¼‰ã€‚æ”¶æ•›æ„å‘³ç€åœ¨æ¯ä¸ªå‚æ•°ç»´åº¦ä¸Šéƒ½å–å¾—æå°å€¼ï¼Œæ¯ä¸ªå‚æ•°ç»´åº¦ä¸Šçš„åå¯¼æ•°éƒ½ä¸º0ï¼Œä½†æ˜¯æ¯ä¸ªå‚æ•°ç»´åº¦ä¸Šçš„ä¸‹é™é€Ÿåº¦æ˜¯ä¸åŒçš„ï¼Œä¸ºäº†æ¯ä¸ªç»´åº¦ä¸Šéƒ½èƒ½æ”¶æ•›ï¼Œå­¦ä¹ ç‡åº”å–æ‰€æœ‰ç»´åº¦åœ¨å½“å‰ä½ç½®åˆé€‚æ­¥é•¿ä¸­æœ€å°çš„é‚£ä¸ªã€‚ä¸‹é¢è®¨è®ºfeature scalingå¯¹gradient descentçš„ä½œç”¨ï¼Œ</p><ul><li><ul><li><strong>zero centerä¸å‚æ•°åˆå§‹åŒ–ç›¸é…åˆï¼Œç¼©çŸ­åˆå§‹å‚æ•°ä½ç½®ä¸local minimumé—´çš„è·ç¦»ï¼ŒåŠ å¿«æ”¶æ•›</strong>ã€‚æ¨¡å‹çš„æœ€ç»ˆå‚æ•°æ˜¯æœªçŸ¥çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬éšæœºåˆå§‹åŒ–ï¼Œæ¯”å¦‚ä»0å‡å€¼çš„å‡åŒ€åˆ†å¸ƒæˆ–é«˜æ–¯åˆ†å¸ƒä¸­é‡‡æ ·å¾—åˆ°ï¼Œå¯¹çº¿æ€§æ¨¡å‹è€Œè¨€ï¼Œå…¶åˆ†ç•Œé¢åˆå§‹ä½ç½®å¤§è‡´åœ¨åŸç‚¹é™„è¿‘ï¼Œbiasç»å¸¸åˆå§‹åŒ–ä¸º0ï¼Œåˆ™åˆ†ç•Œé¢ç›´æ¥é€šè¿‡åŸç‚¹ã€‚åŒæ—¶ï¼Œä¸ºäº†æ”¶æ•›ï¼Œå­¦ä¹ ç‡ä¸ä¼šå¾ˆå¤§ã€‚è€Œæ¯ä¸ªæ•°æ®é›†çš„ç‰¹å¾åˆ†å¸ƒæ˜¯ä¸ä¸€æ ·çš„ï¼Œå¦‚æœå…¶åˆ†å¸ƒé›†ä¸­ä¸”è·ç¦»åŸç‚¹è¾ƒè¿œï¼Œæ¯”å¦‚ä½äºç¬¬ä¸€è±¡é™é¥è¿œçš„å³ä¸Šè§’ï¼Œåˆ†ç•Œé¢å¯èƒ½éœ€è¦èŠ±è´¹å¾ˆå¤šæ­¥éª¤æ‰èƒ½â€œçˆ¬åˆ°â€æ•°æ®é›†æ‰€åœ¨çš„ä½ç½®ã€‚æ‰€ä»¥ï¼Œæ— è®ºä»€ä¹ˆæ•°æ®é›†ï¼Œå…ˆå¹³ç§»åˆ°åŸç‚¹ï¼Œå†é…åˆå‚æ•°åˆå§‹åŒ–ï¼Œå¯ä»¥ä¿è¯åˆ†ç•Œé¢ä¸€å®šä¼šç©¿è¿‡æ•°æ®é›†ã€‚æ­¤å¤–ï¼Œ<strong>outlierså¸¸åˆ†å¸ƒåœ¨æ•°æ®é›†çš„å¤–å›´</strong>ï¼Œä¸åˆ†ç•Œé¢ä»å¤–éƒ¨å‘å†…æŒªåŠ¨ç›¸æ¯”ï¼Œä»ä¸­å¿ƒåŒºåŸŸå¼€å§‹æŒªåŠ¨å¯èƒ½å—outliersçš„å½±å“æ›´å°ã€‚</li><li>å¯¹äºé‡‡ç”¨å‡æ–¹è¯¯å·®æŸå¤±LMSçš„çº¿æ€§æ¨¡å‹ï¼ŒæŸå¤±å‡½æ•°æ°ä¸ºäºŒé˜¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</li></ul></li><li><p><img src="/src/640-1657794800850114.png" alt="å›¾ç‰‡"></p></li><li><p><strong>ä¸åŒæ–¹å‘ä¸Šçš„ä¸‹é™é€Ÿåº¦å˜åŒ–ä¸åŒï¼ˆäºŒé˜¶å¯¼ä¸åŒï¼Œæ›²ç‡ä¸åŒï¼‰</strong>ï¼Œæ°ç”±è¾“å…¥çš„åæ–¹å·®çŸ©é˜µå†³å®šï¼Œ<strong>é€šè¿‡scalingæ”¹å˜äº†æŸå¤±å‡½æ•°çš„å½¢çŠ¶ï¼Œå‡å°ä¸åŒæ–¹å‘ä¸Šçš„æ›²ç‡å·®å¼‚</strong>ã€‚å°†æ¯ä¸ªç»´åº¦ä¸Šçš„ä¸‹é™åˆ†è§£æ¥çœ‹ï¼Œç»™å®šä¸€ä¸ªä¸‹é™æ­¥é•¿ï¼Œå¦‚æœä¸å¤Ÿå°ï¼Œæœ‰çš„ç»´åº¦ä¸‹é™çš„å¤šï¼Œæœ‰çš„ä¸‹é™çš„å°‘ï¼Œæœ‰çš„è¿˜å¯èƒ½åœ¨ä¸Šå‡ï¼ŒæŸå¤±å‡½æ•°çš„æ•´ä½“è¡¨ç°å¯èƒ½æ˜¯ä¸Šå‡ä¹Ÿå¯èƒ½æ˜¯ä¸‹é™ï¼Œå°±ä¼šä¸ç¨³å®šã€‚<strong>scalingåä¸åŒæ–¹å‘ä¸Šçš„æ›²ç‡ç›¸å¯¹æ›´æ¥è¿‘ï¼Œæ›´å®¹æ˜“é€‰æ‹©åˆ°åˆé€‚çš„å­¦ä¹ ç‡ï¼Œä½¿ä¸‹é™è¿‡ç¨‹ç›¸å¯¹æ›´ç¨³å®šã€‚</strong></p></li><li><ul><li>å¦æœ‰ä»HessiançŸ©é˜µç‰¹å¾å€¼ä»¥åŠcondition numberè§’åº¦çš„ç†è§£ï¼Œè¯¦è§Lecun paper-Efficient BackPropä¸­çš„Convergence of Gradient Descentä¸€èŠ‚ï¼Œæœ‰æ¸…æ™°çš„æ•°å­¦æè¿°ï¼ŒåŒæ—¶è¿˜ä»‹ç»äº†ç™½åŒ–çš„ä½œç”¨â€”â€”è§£é™¤ç‰¹å¾é—´çš„çº¿æ€§ç›¸å…³æ€§ï¼Œä½¿æ¯ä¸ªç»´åº¦ä¸Šçš„æ¢¯åº¦ä¸‹é™å¯ç‹¬ç«‹çœ‹å¾…ã€‚</li><li>æ–‡ç« å¼€ç¯‡çš„æ¤­åœ†å½¢å’Œåœ†å½¢ç­‰é«˜çº¿å›¾ï¼Œä»…åœ¨é‡‡ç”¨å‡æ–¹è¯¯å·®çš„çº¿æ€§æ¨¡å‹ä¸Šé€‚ç”¨ï¼Œå…¶ä»–æŸå¤±å‡½æ•°æˆ–æ›´å¤æ‚çš„æ¨¡å‹ï¼Œå¦‚æ·±åº¦ç¥ç»ç½‘ç»œï¼Œ<strong>æŸå¤±å‡½æ•°çš„error surfaceå¯èƒ½å¾ˆå¤æ‚ï¼Œå¹¶ä¸èƒ½ç®€å•åœ°ç”¨æ¤­åœ†å’Œåœ†æ¥åˆ»ç”»</strong>ï¼Œæ‰€ä»¥ç”¨å®ƒæ¥è§£é‡Šfeature scalingå¯¹æ‰€æœ‰æŸå¤±å‡½æ•°çš„æ¢¯åº¦ä¸‹é™çš„ä½œç”¨ï¼Œä¼¼ä¹è¿‡äºç®€åŒ–ï¼Œè§Hinton vedio-3.2 The error surface for a linear neuronã€‚</li><li>å¯¹äºæŸå¤±å‡½æ•°ä¸æ˜¯å‡æ–¹è¯¯å·®çš„æƒ…å†µï¼Œåªè¦æƒé‡wä¸è¾“å…¥ç‰¹å¾xé—´æ˜¯ç›¸ä¹˜å…³ç³»ï¼ŒæŸå¤±å‡½æ•°å¯¹wçš„åå¯¼å¿…ç„¶å«æœ‰å› å­xï¼Œwçš„æ¢¯åº¦ä¸‹é™é€Ÿåº¦å°±ä¼šå—åˆ°ç‰¹å¾xå°ºåº¦çš„å½±å“ã€‚ç†è®ºä¸Šä¸ºæ¯ä¸ªå‚æ•°éƒ½è®¾ç½®ä¸Šè‡ªé€‚åº”çš„å­¦ä¹ ç‡ï¼Œå¯ä»¥å¸æ”¶æ‰xå°ºåº¦çš„å½±å“ï¼Œä½†åœ¨å®è·µä¸­å‡ºäºè®¡ç®—é‡çš„è€ƒè™‘ï¼Œå¾€å¾€è¿˜æ˜¯æ‰€æœ‰å‚æ•°å…±ç”¨ä¸€ä¸ªå­¦ä¹ ç‡ï¼Œæ­¤æ—¶xå°ºåº¦ä¸åŒå¯èƒ½ä¼šå¯¼è‡´ä¸åŒæ–¹å‘ä¸Šçš„ä¸‹é™é€Ÿåº¦æ‚¬æ®Šè¾ƒå¤§ï¼Œå­¦ä¹ ç‡ä¸å®¹æ˜“é€‰æ‹©ï¼Œä¸‹é™è¿‡ç¨‹ä¹Ÿå¯èƒ½ä¸ç¨³å®šï¼Œé€šè¿‡scalingå¯å¯¹ä¸åŒæ–¹å‘ä¸Šçš„ä¸‹é™é€Ÿåº¦æœ‰æ‰€æ§åˆ¶ï¼Œä½¿ä¸‹é™è¿‡ç¨‹ç›¸å¯¹æ›´ç¨³å®šã€‚</li></ul></li><li><p>å¯¹äºä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œï¼Œå¯¹è¾“å…¥åšfeature scalingä¹Ÿå¾ˆé‡è¦ï¼Œå› ä¸ºé‡‡ç”¨sigmoidç­‰æœ‰é¥±å’ŒåŒºçš„æ¿€æ´»å‡½æ•°ï¼Œå¦‚æœè¾“å…¥åˆ†å¸ƒèŒƒå›´å¾ˆå¹¿ï¼Œå‚æ•°åˆå§‹åŒ–æ—¶æ²¡æœ‰é€‚é…å¥½ï¼Œå¾ˆå®¹æ˜“ç›´æ¥é™·å…¥é¥±å’ŒåŒºï¼Œå¯¼è‡´<strong>æ¢¯åº¦æ¶ˆå¤±</strong>ï¼Œæ‰€ä»¥ï¼Œéœ€è¦å¯¹è¾“å…¥åšStandardizationæˆ–æ˜ å°„åˆ°[0,1]ã€[âˆ’1,1]ï¼Œé…åˆç²¾å¿ƒè®¾è®¡çš„å‚æ•°åˆå§‹åŒ–æ–¹æ³•ï¼Œå¯¹å€¼åŸŸè¿›è¡Œæ§åˆ¶ã€‚ä½†è‡ªä»æœ‰äº†Batch Normalizationï¼Œæ¯æ¬¡çº¿æ€§å˜æ¢æ”¹å˜ç‰¹å¾åˆ†å¸ƒåï¼Œéƒ½ä¼šé‡æ–°è¿›è¡ŒNormalizationï¼Œä¼¼ä¹å¯ä»¥ä¸å¤ªéœ€è¦å¯¹ç½‘ç»œçš„è¾“å…¥è¿›è¡Œfeature scalingäº†ï¼Ÿä½†ä¹ æƒ¯ä¸Šè¿˜æ˜¯ä¼šåšfeature scalingã€‚</p></li></ul><h2 id="ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦Feature-Scalingï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦Feature-Scalingï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦Feature Scalingï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦Feature Scalingï¼Ÿ</h2><p>ä¸è·ç¦»è®¡ç®—æ— å…³çš„æ¦‚ç‡æ¨¡å‹ï¼Œä¸éœ€è¦feature scalingï¼Œæ¯”å¦‚Naive Bayesï¼›</p><p>ä¸è·ç¦»è®¡ç®—æ— å…³çš„åŸºäºæ ‘çš„æ¨¡å‹ï¼Œä¸éœ€è¦feature scalingï¼Œæ¯”å¦‚å†³ç­–æ ‘ã€éšæœºæ£®æ—ç­‰ï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„é€‰æ‹©åªå…³æ³¨å½“å‰ç‰¹å¾åœ¨å“ªé‡Œåˆ‡åˆ†å¯¹åˆ†ç±»æ›´å¥½ï¼Œå³åªåœ¨æ„ç‰¹å¾å†…éƒ¨çš„ç›¸å¯¹å¤§å°ï¼Œè€Œä¸ç‰¹å¾é—´çš„ç›¸å¯¹å¤§å°æ— å…³ã€‚<br>å¯¹å¤§å°æ— å…³ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æ€§èƒ½æŒ‡æ ‡</title>
    <link href="/2022/08/01/MachineLearning/%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/"/>
    <url>/2022/08/01/MachineLearning/%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/</url>
    
    <content type="html"><![CDATA[<p>è¡¡é‡ä¸€ä¸ªæœºå™¨å­¦ä¹ ç®—æ³•çš„å¥½åéœ€è¦ä¸€ä¸ªæ ‡å‡†æ¥è¡¡é‡ï¼Œå¯¹äºä¸åŒåœºæ™¯ä¸­çš„ä¸åŒä»»åŠ¡å°±éœ€è¦å†³å®šä¸åŒçš„æŒ‡æ ‡æ¥åº¦é‡ã€‚æ ¹æ®æ²¡æœ‰å…è´¹åˆé¤è¿™ä¸ªå½’çº³åå¥½ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œæ²¡æœ‰ä¸€ç§æ¨¡å‹æ˜¯å®Œç¾é€‚ç”¨äºä»»ä½•åœºæ™¯ã€‚æ‰€ä»¥é€‰å–ä¸€ä¸ªåˆé€‚çš„æ€§èƒ½æŒ‡æ ‡å’Œé€‰å–ä¸€ä¸ªåˆ‡åˆçš„æœºå™¨å­¦ä¹ ç®—æ³•å‡æ˜¯å¾ˆé‡è¦çš„äº‹æƒ…ã€‚æ‰€ä»¥æœ¬æ–‡å¯¹æ­¤åŠ ä»¥æ•´ç†</p><p>è¿™é‡Œå…ˆå¯¹ä¸€äº›æ ‡è®°ä½œå‡ºè§£é‡Šï¼šç»™å®šæ ·ä¾‹é›†$D&#x3D;{(\mathbb{x}_1,y_1),(\mathbb{x}_2,y_2),\dots,(\mathbb{x}_m,y_m)}$ï¼Œå…¶ä¸­$y_i$æ˜¯ç¤ºä¾‹$\mathbb{x}_i$çš„çœŸå®æ ‡è®°ï¼Œè¦è¯„ä¼°å­¦ä¹ å™¨$f$çš„æ€§èƒ½ï¼Œå°±è¦æŠŠå­¦ä¹ é¢„æµ‹ç»“æœ$f(x)ï¼ˆæˆ–\hat{y}ï¼‰$ä¸çœŸå®æ ‡è®°$y$è¿›è¡Œæ¯”è¾ƒ</p><h1 id="åˆ†ç±»é—®é¢˜çš„æ€§èƒ½æŒ‡æ ‡"><a href="#åˆ†ç±»é—®é¢˜çš„æ€§èƒ½æŒ‡æ ‡" class="headerlink" title="åˆ†ç±»é—®é¢˜çš„æ€§èƒ½æŒ‡æ ‡"></a>åˆ†ç±»é—®é¢˜çš„æ€§èƒ½æŒ‡æ ‡</h1><h2 id="æ··æ·†çŸ©é˜µ"><a href="#æ··æ·†çŸ©é˜µ" class="headerlink" title="æ··æ·†çŸ©é˜µ"></a>æ··æ·†çŸ©é˜µ</h2><p>æ··æ·†çŸ©é˜µä¹Ÿç§°è¯¯å·®çŸ©é˜µï¼Œæ˜¯è¡¨ç¤ºç²¾åº¦è¯„ä»·çš„ä¸€ç§æ ‡å‡†æ ¼å¼ï¼Œç”¨nè¡Œnåˆ—çš„çŸ©é˜µå½¢å¼æ¥è¡¨ç¤ºã€‚</p><p><img src="/src/image-20220104111941267.png" alt="image-20220104111941267"></p><p>  TN:çœŸå®ç±»åˆ«ä¸ºnegativeï¼Œæ¨¡å‹é¢„æµ‹çš„ç±»åˆ«ä¹Ÿä¸ºnegative<br>  FN:é¢„æµ‹ä¸ºnegativeï¼Œä½†çœŸå®ç±»åˆ«ä¸ºpositiveï¼Œæ˜¯æ¼æŠ¥<br>  TP:çœŸå®ç±»åˆ«ä¸ºpositiveï¼Œæ¨¡å‹é¢„æµ‹çš„ç±»åˆ«ä¹Ÿä¸ºpositive<br>  FP:é¢„æµ‹ä¸ºpositiveï¼Œä½†çœŸå®ç±»åˆ«ä¸ºnegativeï¼Œæ˜¯è¯¯æŠ¥<br>$<br>TN+FN+TP+FP&#x3D;m<br>$<br>TPã€FPã€TNã€FNï¼Œç¬¬äºŒä¸ªå­—æ¯è¡¨ç¤ºæ ·æœ¬è¢«é¢„æµ‹çš„ç±»åˆ«ï¼Œç¬¬ä¸€ä¸ªå­—æ¯è¡¨ç¤ºæ ·æœ¬çš„é¢„æµ‹ç±»åˆ«ä¸çœŸå®ç±»åˆ«æ˜¯å¦ä¸€è‡´ã€‚</p><h2 id="é”™è¯¯ç‡ä¸ç²¾åº¦"><a href="#é”™è¯¯ç‡ä¸ç²¾åº¦" class="headerlink" title="é”™è¯¯ç‡ä¸ç²¾åº¦"></a>é”™è¯¯ç‡ä¸ç²¾åº¦</h2><p>é”™è¯¯ç‡æ˜¯åˆ†ç±»é”™è¯¯çš„æ ·æœ¬æ•°å æ ·æœ¬æ€»æ•°çš„æ¯”ä¾‹</p><p>$$<br>E(f,D)&#x3D;\frac{1}{m}\sum^m_{i&#x3D;1}\mathbb{I}(f(\mathbb{x_i})\neq y_i)\&#x3D;\frac{FP+FN}{m}<br>$$</p><p>ç²¾åº¦åˆ™æ˜¯åˆ†ç±»æ­£ç¡®çš„æ ·æœ¬æ•°å æ ·æœ¬æ€»æ•°çš„æ¯”ä¾‹</p><p>$$<br>Acc(f;D)&#x3D;\frac{1}{m}\sum^m_{i&#x3D;1}\mathbb{I}(f(\mathbb{x_i}) &#x3D; y_i) \<br>&#x3D;1-E(f;D)&#x3D;\frac{TN+TP}{m}<br>$$</p><p>æ›´ä¸€èˆ¬çš„ï¼Œå¯¹äºæ•°æ®åˆ†å¸ƒ$\mathcal{D}$å’Œæ¦‚ç‡åˆ†å¸ƒå‡½æ•°$p(Â·)$ï¼ŒäºŒè€…å¯è¡¨è¾¾ä¸º<br>$<br>E(f;\mathcal{D})&#x3D;\int_{\mathbb{x}\sim \mathcal{D}}\mathbb{I}(f(\mathbb{x})\neq y)p(\mathbb{x})d\mathbb{x}ï¼Œ\<br>Acc(f;\mathcal{D})&#x3D;\int_{\mathbb{x}\sim \mathcal{D}}\mathbb{I}(f(\mathbb{x})&#x3D; y)p(\mathbb{x})d\mathbb{x}ï¼Œ\<br>$<br>ä½†æ˜¯å¯¹äºæ•°æ®é›†ä¸­æ ·æœ¬ä¸å‡è¡¡çš„æƒ…å†µæ¥è¯´ï¼Œç²¾åº¦å°±ä¼šå‡ºç°é—®é¢˜ã€‚ä¾‹å¦‚å¼‚å¸¸æ£€æµ‹ï¼Œå‡ ç™¾ä¸‡çš„æ•°æ®ä¸­å¯èƒ½ä»…ä¼šæœ‰æ•°åä¾‹ä¸æ­£å¸¸æ ·æœ¬ã€‚å³ä½¿ç²¾åº¦è¾¾åˆ°99%ï¼Œä¹Ÿå¹¶ä¸èƒ½ä¿è¯æ¨¡å‹å°±æ˜¯å¥½çš„æ¨¡å‹</p><h2 id="æŸ¥å‡†ç‡ä¸å¬å›ç‡"><a href="#æŸ¥å‡†ç‡ä¸å¬å›ç‡" class="headerlink" title="æŸ¥å‡†ç‡ä¸å¬å›ç‡"></a>æŸ¥å‡†ç‡ä¸å¬å›ç‡</h2><p>æŸ¥å‡†ç‡P,é¢„æµ‹ä¸ºæ­£ä¾‹ä¸­çœŸæ­£æ ‡è®°ä¸ºæ­£çš„æ¦‚ç‡ï¼ˆæ˜¯é’ˆå¯¹<strong>é¢„æµ‹ç»“æœ</strong>è€Œè¨€çš„ï¼‰</p><p>$precision&#x3D;\frac{TP}{TP+FP}$</p><p>æŸ¥å‡†ç‡R,çœŸæ­£æ ‡è®°ä¸ºæ­£çš„æ ·æœ¬è¢«æ­£ç¡®åæ˜ å‡ºæ¥æ¦‚ç‡ï¼ˆæ˜¯é’ˆå¯¹<strong>åŸæ¥æ ·æœ¬</strong>è€Œè¨€çš„ï¼‰<br>$<br>recall&#x3D;\frac{TP}{TP+FN}$</p><h2 id="PRæ›²çº¿"><a href="#PRæ›²çº¿" class="headerlink" title="PRæ›²çº¿"></a>PRæ›²çº¿</h2><p>æŸ¥å‡†ç‡å’ŒæŸ¥å…¨ç‡å¾€å¾€æ˜¯ä¸€å¯¹çŸ›ç›¾çš„åº¦é‡ã€‚ç®€å•æ¥è¯´ï¼ŒæŸ¥å‡†ç‡é«˜ï¼ŒæŸ¥å…¨ç‡å°±ä½ã€‚åä¹‹äº¦ç„¶ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®å­¦ä¹ å™¨çš„é¢„æµ‹ç»“æœå¯¹æ ·ä¾‹è¿›è¡Œæ’åºï¼Œæ’åœ¨å‰é¢çš„æ˜¯å­¦ä¹ å™¨è®¤ä¸ºâ€œæœ€å¯èƒ½â€æ˜¯æ­£ä¾‹çš„æ ·æœ¬ï¼Œæ’åœ¨æœ€åçš„åˆ™æ˜¯å­¦ä¹ å™¨è®¤ä¸ºâ€œæœ€ä¸å¯èƒ½â€çš„æ­£ä¾‹æ ·æœ¬ã€‚æŒ‰æ­¤é¡ºåºé€ä¸ªæŠŠæ ·æœ¬ä½œä¸ºæ­£ä¾‹è¿›è¡Œé¢„æµ‹ï¼Œæ¯æ¬¡å¯ä»¥è®¡ç®—å‡ºå½“å‰çš„Pã€Rå€¼ã€‚æˆ‘ä»¬å¯ä»¥ç»˜åˆ¶ä¸€å¹…å›¾ã€‚</p><p><img src="/src/image-20220104120445935.png" alt="image-20220104120445935"></p><h2 id="F1-Score"><a href="#F1-Score" class="headerlink" title="F1 Score"></a>F1 Score</h2><p>F1 Scoreä¸ºç²¾å‡†ç‡å’Œå¬å›ç‡çš„<strong>è°ƒå’Œå‡å€¼</strong></p><p>$$<br>\frac{1}{F_1}&#x3D;\frac{1}{2}(\frac{1}{P}+\frac{1}{R})\<br>\Longleftrightarrow F_1&#x3D;\frac{2 \times P \times R}{P+ R} &#x3D; \frac{2 \times TP}{m+TP-TN}<br>$$</p><h2 id="ROC"><a href="#ROC" class="headerlink" title="ROC"></a>ROC</h2><p>ROCå‡ºç°çš„åŠ¨æœº</p><blockquote><p><strong>Motivation1ï¼š</strong>åœ¨ä¸€ä¸ªäºŒåˆ†ç±»æ¨¡å‹ä¸­ï¼Œå¯¹äºæ‰€å¾—åˆ°çš„è¿ç»­ç»“æœï¼Œå‡è®¾å·²ç¡®å®šä¸€ä¸ªé˜€å€¼ï¼Œæ¯”å¦‚è¯´ 0.6ï¼Œå¤§äºè¿™ä¸ªå€¼çš„å®ä¾‹åˆ’å½’ä¸ºæ­£ç±»ï¼Œå°äºè¿™ä¸ªå€¼åˆ™åˆ’åˆ°è´Ÿç±»ä¸­ã€‚å¦‚æœå‡å°é˜€å€¼ï¼Œå‡åˆ°0.5ï¼Œå›ºç„¶èƒ½è¯†åˆ«å‡ºæ›´å¤šçš„æ­£ç±»ï¼Œä¹Ÿå°±æ˜¯æé«˜äº†è¯†åˆ«å‡ºçš„æ­£ä¾‹å æ‰€æœ‰æ­£ä¾‹ çš„æ¯”ç±»ï¼Œå³TPR,ä½†åŒæ—¶ä¹Ÿå°†æ›´å¤šçš„è´Ÿå®ä¾‹å½“ä½œäº†æ­£å®ä¾‹ï¼Œå³æé«˜äº†FPRã€‚ä¸ºäº†å½¢è±¡åŒ–è¿™ä¸€å˜åŒ–ï¼Œå¼•å…¥ROCï¼ŒROCæ›²çº¿å¯ä»¥ç”¨äºè¯„ä»·ä¸€ä¸ªåˆ†ç±»å™¨ã€‚</p><p><strong>Motivation2ï¼š</strong>åœ¨ç±»ä¸å¹³è¡¡çš„æƒ…å†µä¸‹,å¦‚æ­£æ ·æœ¬990ä¸ª,è´Ÿæ ·æœ¬10ä¸ª,ç›´æ¥æŠŠæ‰€æœ‰æ ·æœ¬åˆ†ç±»ä¸ºæ­£æ ·æœ¬,å¾—åˆ°è¯†åˆ«ç‡ä¸º99%ã€‚ä½†è¿™æ˜¾ç„¶æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚å•çº¯æ ¹æ®Precisionå’ŒRecallæ¥è¡¡é‡ç®—æ³•çš„ä¼˜åŠ£å·²ç»ä¸èƒ½è¡¨å¾è¿™ç§ç—…æ€é—®é¢˜ã€‚</p></blockquote><p>ç»´åŸºç™¾ç§‘ä¸­çš„å®šä¹‰ï¼šIn signal detection theory, a receiver operating characteristic (ROC), or simply ROC curve, is a graphical plot which illustrates the performance of a binary classifier system <strong>as its discrimination threshold is varied.</strong></p><p>ROCå…³æ³¨ä¸¤ä¸ªæŒ‡æ ‡ï¼š</p><blockquote><p><strong>True  Positive Rate:</strong>  TPR &#x3D; TP &#x2F; (TP+FN) â†’ å°†æ­£ä¾‹åˆ†å¯¹çš„æ¦‚ç‡<br> <strong>Fales Positive Rate:</strong>  FPR &#x3D; FP &#x2F; (FP+TN) â†’ å°†è´Ÿä¾‹é”™åˆ†ä¸ºæ­£ä¾‹çš„æ¦‚ç‡</p></blockquote><p>åœ¨ ROC ç©ºé—´ä¸­ï¼Œæ¯ä¸ªç‚¹çš„æ¨ªåæ ‡æ˜¯ FPRï¼Œçºµåæ ‡æ˜¯ TPRï¼Œè¿™ä¹Ÿå°±æç»˜äº†åˆ†ç±»å™¨åœ¨ TPï¼ˆçœŸæ­£ç‡ï¼‰å’Œ FPï¼ˆå‡æ­£ç‡ï¼‰é—´çš„ trade-offã€‚</p><p><img src="/src/image-20220104115651709.png" alt="image-20220104115651709"></p><p>ROCæ›²çº¿ä¸­çš„å››ä¸ªç‚¹å’Œä¸€æ¡çº¿:</p><ul><li>ç‚¹(0,1)ï¼šå³FPR&#x3D;0, TPR&#x3D;1ï¼Œæ„å‘³ç€FNï¼0ä¸”FPï¼0ï¼Œå°†æ‰€æœ‰çš„æ ·æœ¬éƒ½æ­£ç¡®åˆ†ç±»ï¼›</li><li>ç‚¹(1,0)ï¼šå³FPR&#x3D;1ï¼ŒTPR&#x3D;0ï¼Œæœ€å·®åˆ†ç±»å™¨ï¼Œé¿å¼€äº†æ‰€æœ‰æ­£ç¡®ç­”æ¡ˆï¼›</li><li>ç‚¹(0,0)ï¼šå³FPR&#x3D;TPR&#x3D;0ï¼ŒFPï¼TPï¼0ï¼Œåˆ†ç±»å™¨é¢„æµ‹æ‰€æœ‰çš„æ ·æœ¬éƒ½ä¸ºè´Ÿæ ·æœ¬ï¼ˆnegativeï¼‰ï¼›</li><li>ç‚¹(1,1)ï¼šåˆ†ç±»å™¨å®é™…ä¸Šé¢„æµ‹æ‰€æœ‰çš„æ ·æœ¬éƒ½ä¸ºæ­£æ ·æœ¬ã€‚</li><li><strong>æ€»ä¹‹ï¼š</strong>ROCæ›²çº¿è¶Šæ¥è¿‘å·¦ä¸Šè§’ï¼Œè¯¥åˆ†ç±»å™¨çš„æ€§èƒ½è¶Šå¥½ã€‚</li></ul><p>ä¸¤ä¸ªæ¨¡å‹ç”¨è¿™ä¸ªæŒ‡æ ‡åšè¯„ä»·çš„æ—¶å€™ï¼Œå¦‚æœä¸€ä¸ªæ¨¡å‹Açš„ROCæ›²çº¿å¯ä»¥åŒ…è£¹ä½å¦ä¸€ä¸ªæ¨¡å‹Bï¼Œé‚£ä¹ˆè¿™ä¸ªæ¨¡å‹Aå°±ä¼˜äºæ¨¡å‹Bã€‚å¦‚æœAå’ŒBä¸¤ä¸ªæ¨¡å‹æœ‰äº¤å‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå°±çœ‹å®ƒä»¬æ›²çº¿ä¸‹çš„é¢ç§¯å¤§äº†ï¼Œé¢ç§¯å¤§çš„æ¨¡å‹æ€§èƒ½æ›´ä¼˜ã€‚</p><h2 id="AUC"><a href="#AUC" class="headerlink" title="AUC"></a>AUC</h2><p>AUCï¼ˆArea Under Curveï¼‰è¢«å®šä¹‰ä¸ºROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œæ˜¾ç„¶è¿™ä¸ªé¢ç§¯çš„æ•°å€¼ä¸ä¼šå¤§äº1ã€‚éšæœºæŒ‘é€‰ä¸€ä¸ªæ­£æ ·æœ¬ä»¥åŠä¸€ä¸ªè´Ÿæ ·æœ¬ï¼Œåˆ†ç±»å™¨åˆ¤å®šæ­£æ ·æœ¬çš„å€¼é«˜äºè´Ÿæ ·æœ¬çš„æ¦‚ç‡å°±æ˜¯ AUC å€¼ã€‚<br> <strong>æ€»ä¹‹ï¼š</strong>AUCå€¼è¶Šå¤§çš„åˆ†ç±»å™¨ï¼Œæ­£ç¡®ç‡è¶Šé«˜ã€‚</p><ul><li>AUC &#x3D; 1ï¼šç»å¯¹å®Œç¾åˆ†ç±»å™¨ï¼Œç†æƒ³çŠ¶æ€ä¸‹ï¼Œ100%å®Œç¾è¯†åˆ«æ­£è´Ÿç±»ï¼Œä¸ç®¡é˜ˆå€¼æ€ä¹ˆè®¾å®šéƒ½èƒ½å¾—å‡ºå®Œç¾é¢„æµ‹ï¼Œç»å¤§å¤šæ•°é¢„æµ‹ä¸å­˜åœ¨å®Œç¾åˆ†ç±»å™¨ï¼›</li><li>0.5&lt;AUC&lt;1ï¼šä¼˜äºéšæœºçŒœæµ‹ã€‚è¿™ä¸ªåˆ†ç±»å™¨ï¼ˆæ¨¡å‹ï¼‰å¦¥å–„è®¾å®šé˜ˆå€¼çš„è¯ï¼Œå¯èƒ½æœ‰é¢„æµ‹ä»·å€¼ï¼›</li><li>AUC&#x3D;0.5ï¼šè·ŸéšæœºçŒœæµ‹ä¸€æ ·ï¼ˆä¾‹ï¼šéšæœºä¸¢Næ¬¡ç¡¬å¸ï¼Œæ­£åå‡ºç°çš„æ¦‚ç‡ä¸º50%ï¼‰ï¼Œæ¨¡å‹æ²¡æœ‰é¢„æµ‹ä»·å€¼ï¼›</li><li>AUC&lt;0.5ï¼šæ¯”éšæœºçŒœæµ‹è¿˜å·®ï¼›ä½†åªè¦æ€»æ˜¯åé¢„æµ‹è€Œè¡Œï¼Œå°±ä¼˜äºéšæœºçŒœæµ‹ï¼Œå› æ­¤ä¸å­˜åœ¨AUC&lt;0.5çš„çŠ¶å†µã€‚</li></ul><p><img src="/src/image-20220104115856538.png" alt="image-20220104115856538"></p><p>åŒæ ·çš„AUCçš„è®¡ç®—ä¸å±€é™äºROCæ›²çº¿ä¸‹,ç›¸åŒçš„æƒ…å†µæ”¾åœ¨PRæ›²çº¿ä¹Ÿå¯ä»¥ã€‚</p><p>AUCçš„è®¡ç®—æ–¹æ³•ï¼š</p><p>ç¬¬ä¸€ç§æ–¹æ³•:AUCä¸ºROCæ›²çº¿ä¸‹çš„é¢ç§¯,é‚£æˆ‘ä»¬ç›´æ¥è®¡ç®—é¢ç§¯å¯å¾—ã€‚é¢ç§¯ä¸ºä¸€ä¸ªä¸ªå°çš„æ¢¯å½¢é¢ç§¯ä¹‹å’Œã€‚è®¡ç®—çš„ç²¾åº¦ä¸é˜ˆå€¼çš„ç²¾åº¦æœ‰å…³ã€‚</p><p>ç¬¬äºŒç§æ–¹æ³•:æ ¹æ®AUCçš„ç‰©ç†æ„ä¹‰,æˆ‘ä»¬è®¡ç®—æ­£æ ·æœ¬scoreå¤§äºè´Ÿæ ·æœ¬çš„scoreçš„æ¦‚ç‡ã€‚å–$NM$(Nä¸ºæ­£æ ·æœ¬æ•°,Mä¸ºè´Ÿæ ·æœ¬æ•°)ä¸ªäºŒå…ƒç»„,æ¯”è¾ƒscore,æœ€åå¾—åˆ°AUCã€‚æ—¶é—´å¤æ‚åº¦ä¸º$O(NM)$ã€‚</p><p>ç¬¬ä¸‰ç§æ–¹æ³•:ä¸ç¬¬äºŒç§æ–¹æ³•ç›¸ä¼¼,ç›´æ¥è®¡ç®—æ­£æ ·æœ¬scoreå¤§äºè´Ÿæ ·æœ¬çš„æ¦‚ç‡ã€‚æˆ‘ä»¬é¦–å…ˆæŠŠæ‰€æœ‰æ ·æœ¬æŒ‰ç…§scoreæ’åº,ä¾æ¬¡ç”¨rankè¡¨ç¤ºä»–ä»¬,å¦‚æœ€å¤§scoreçš„æ ·æœ¬,rank&#x3D;n(n&#x3D;N M),å…¶æ¬¡ä¸ºn-1ã€‚é‚£ä¹ˆå¯¹äºæ­£æ ·æœ¬ä¸­rankæœ€å¤§çš„æ ·æœ¬,rank_max,æœ‰M-1ä¸ªå…¶ä»–æ­£æ ·æœ¬æ¯”ä»–scoreå°,é‚£ä¹ˆå°±æœ‰(rank_max-1)-(M-1)ä¸ªè´Ÿæ ·æœ¬æ¯”ä»–scoreå°ã€‚å…¶æ¬¡ä¸º(rank_second-1)-(M-2)ã€‚æœ€åæˆ‘ä»¬å¾—åˆ°æ­£æ ·æœ¬å¤§äºè´Ÿæ ·æœ¬çš„æ¦‚ç‡ä¸º</p><p>$$<br>\frac{\sum_{æ‰€æœ‰æ­£æ ·æœ¬}rank-M(M+1)&#x2F;2}{M * N} \</p><p>æ—¶é—´å¤æ‚åº¦ä¸ºO(N+M)ã€‚<br>$$</p><h1 id="å›å½’é—®é¢˜çš„æ€§èƒ½æŒ‡æ ‡"><a href="#å›å½’é—®é¢˜çš„æ€§èƒ½æŒ‡æ ‡" class="headerlink" title="å›å½’é—®é¢˜çš„æ€§èƒ½æŒ‡æ ‡"></a>å›å½’é—®é¢˜çš„æ€§èƒ½æŒ‡æ ‡</h1><h2 id="å¹³å‡å¹³æ–¹è¯¯å·®-MSE"><a href="#å¹³å‡å¹³æ–¹è¯¯å·®-MSE" class="headerlink" title="å¹³å‡å¹³æ–¹è¯¯å·® MSE"></a>å¹³å‡å¹³æ–¹è¯¯å·® MSE</h2><p>å‡æ–¹è¯¯å·®ï¼Œä¹Ÿç§°å¹³å‡å¹³æ–¹è¯¯å·®Mean Square Errorï¼ˆMSEï¼‰,å³$L_2$èŒƒæ•°æŸå¤±</p><p>å¯¹äºä¸€èˆ¬ç¦»æ•£çš„æ ·æœ¬ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰ä»¥ä¸‹çš„æ–¹å¼è®¡ç®—</p><p>$$<br>E(f;D)&#x3D;\frac{1}{m}\sum^m_{i&#x3D;1}\mathbb{I}(f(\mathbb{x_i})-y_i)^2\<br>&#x3D;\frac{1}{m}\sum^m_{i&#x3D;1} {\vert \vert f(\mathbb{x_i})-y_i\vert \vert}^2<br>$$</p><p>æ›´ä¸€èˆ¬çš„ï¼Œå¯¹äºæ•°æ®åˆ†å¸ƒ$\mathcal{D}$å’Œæ¦‚ç‡åˆ†å¸ƒå‡½æ•°$p(Â·)$ï¼Œå¯è¡¨è¾¾ä¸º</p><p>$$<br>vE(f;\mathcal{D})&#x3D;\int_{\mathbb{x}\sim \mathcal{D}}(f(\mathbb{x})-y)^2p(\mathbb{x})d\mathbb{x}vv<br>$$</p><h2 id="å¹³å‡ç»å¯¹è¯¯å·®-MAE"><a href="#å¹³å‡ç»å¯¹è¯¯å·®-MAE" class="headerlink" title="å¹³å‡ç»å¯¹è¯¯å·® MAE"></a>å¹³å‡ç»å¯¹è¯¯å·® MAE</h2><p>å¹³å‡ç»å¯¹è¯¯å·® MAEï¼Œå³æ˜¯$L_1$èŒƒæ•°æŸå¤±ã€‚</p><p>$E(f;D)&#x3D;\frac{1}{m}\sum^m_{i&#x3D;1} {\vert f(\mathbb{x_i})-y_i \vert}$<br>vert}$</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”å›å½’æ¨¡å‹</title>
    <link href="/2022/08/01/MachineLearning/%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/"/>
    <url>/2022/08/01/MachineLearning/%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯å›å½’åˆ†æï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å›å½’åˆ†æï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å›å½’åˆ†æï¼Ÿ"></a><strong>ä»€ä¹ˆæ˜¯å›å½’åˆ†æï¼Ÿ</strong></h2><p>å›å½’åˆ†ææ˜¯ä¸€ç§é¢„æµ‹æ€§çš„å»ºæ¨¡æŠ€æœ¯ï¼Œå®ƒç ”ç©¶çš„æ˜¯å› å˜é‡ï¼ˆç›®æ ‡ï¼‰å’Œè‡ªå˜é‡ï¼ˆé¢„æµ‹å™¨ï¼‰ä¹‹é—´çš„å…³ç³»ã€‚è¿™ç§æŠ€æœ¯é€šå¸¸ç”¨äºé¢„æµ‹åˆ†æï¼Œæ—¶é—´åºåˆ—æ¨¡å‹ä»¥åŠå‘ç°å˜é‡ä¹‹é—´çš„å› æœå…³ç³»ã€‚ä¾‹å¦‚ï¼Œå¸æœºçš„é²è½é©¾é©¶ä¸é“è·¯äº¤é€šäº‹æ•…æ•°é‡ä¹‹é—´çš„å…³ç³»ï¼Œæœ€å¥½çš„ç ”ç©¶æ–¹æ³•å°±æ˜¯å›å½’ã€‚</p><p>å›å½’åˆ†ææ˜¯å»ºæ¨¡å’Œåˆ†ææ•°æ®çš„é‡è¦å·¥å…·ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨æ›²çº¿&#x2F;çº¿æ¥æ‹Ÿåˆè¿™äº›æ•°æ®ç‚¹ï¼Œåœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œä»æ›²çº¿æˆ–çº¿åˆ°æ•°æ®ç‚¹çš„è·ç¦»å·®å¼‚æœ€å°ã€‚æˆ‘ä¼šåœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†è¯¦ç»†è§£é‡Šè¿™ä¸€ç‚¹ã€‚</p><p><img src="/src/640.png" alt="å›¾ç‰‡"></p><h2 id="æˆ‘ä»¬ä¸ºä»€ä¹ˆä½¿ç”¨å›å½’åˆ†æï¼Ÿ"><a href="#æˆ‘ä»¬ä¸ºä»€ä¹ˆä½¿ç”¨å›å½’åˆ†æï¼Ÿ" class="headerlink" title="æˆ‘ä»¬ä¸ºä»€ä¹ˆä½¿ç”¨å›å½’åˆ†æï¼Ÿ"></a><strong>æˆ‘ä»¬ä¸ºä»€ä¹ˆä½¿ç”¨å›å½’åˆ†æï¼Ÿ</strong></h2><p>å¦‚ä¸Šæ‰€è¿°ï¼Œå›å½’åˆ†æä¼°è®¡äº†ä¸¤ä¸ªæˆ–å¤šä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»ã€‚ä¸‹é¢ï¼Œè®©æˆ‘ä»¬ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥ç†è§£å®ƒï¼š</p><p>æ¯”å¦‚è¯´ï¼Œåœ¨å½“å‰çš„ç»æµæ¡ä»¶ä¸‹ï¼Œä½ è¦ä¼°è®¡ä¸€å®¶å…¬å¸çš„é”€å”®é¢å¢é•¿æƒ…å†µã€‚ç°åœ¨ï¼Œä½ æœ‰å…¬å¸æœ€æ–°çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®æ˜¾ç¤ºå‡ºé”€å”®é¢å¢é•¿å¤§çº¦æ˜¯ç»æµå¢é•¿çš„2.5å€ã€‚é‚£ä¹ˆä½¿ç”¨å›å½’åˆ†æï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å½“å‰å’Œè¿‡å»çš„ä¿¡æ¯æ¥é¢„æµ‹æœªæ¥å…¬å¸çš„é”€å”®æƒ…å†µã€‚</p><p>ä½¿ç”¨å›å½’åˆ†æçš„å¥½å¤„è‰¯å¤šã€‚å…·ä½“å¦‚ä¸‹ï¼š</p><ol><li><p>å®ƒè¡¨æ˜è‡ªå˜é‡å’Œå› å˜é‡ä¹‹é—´çš„æ˜¾è‘—å…³ç³»ï¼›</p></li><li><p>å®ƒè¡¨æ˜å¤šä¸ªè‡ªå˜é‡å¯¹ä¸€ä¸ªå› å˜é‡çš„å½±å“å¼ºåº¦ã€‚</p></li></ol><p>å›å½’åˆ†æä¹Ÿå…è®¸æˆ‘ä»¬å»æ¯”è¾ƒé‚£äº›è¡¡é‡ä¸åŒå°ºåº¦çš„å˜é‡ä¹‹é—´çš„ç›¸äº’å½±å“ï¼Œå¦‚ä»·æ ¼å˜åŠ¨ä¸ä¿ƒé”€æ´»åŠ¨æ•°é‡ä¹‹é—´è”ç³»ã€‚è¿™äº›æœ‰åˆ©äºå¸®åŠ©å¸‚åœºç ”ç©¶äººå‘˜ï¼Œæ•°æ®åˆ†æäººå‘˜ä»¥åŠæ•°æ®ç§‘å­¦å®¶æ’é™¤å¹¶ä¼°è®¡å‡ºä¸€ç»„æœ€ä½³çš„å˜é‡ï¼Œç”¨æ¥æ„å»ºé¢„æµ‹æ¨¡å‹ã€‚</p><h2 id="æˆ‘ä»¬æœ‰å¤šå°‘ç§å›å½’æŠ€æœ¯ï¼Ÿ"><a href="#æˆ‘ä»¬æœ‰å¤šå°‘ç§å›å½’æŠ€æœ¯ï¼Ÿ" class="headerlink" title="æˆ‘ä»¬æœ‰å¤šå°‘ç§å›å½’æŠ€æœ¯ï¼Ÿ"></a><strong>æˆ‘ä»¬æœ‰å¤šå°‘ç§å›å½’æŠ€æœ¯ï¼Ÿ</strong></h2><p>æœ‰å„ç§å„æ ·çš„å›å½’æŠ€æœ¯ç”¨äºé¢„æµ‹ã€‚è¿™äº›æŠ€æœ¯ä¸»è¦æœ‰ä¸‰ä¸ªåº¦é‡ï¼ˆè‡ªå˜é‡çš„ä¸ªæ•°ï¼Œå› å˜é‡çš„ç±»å‹ä»¥åŠå›å½’çº¿çš„å½¢çŠ¶ï¼‰ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹é¢çš„éƒ¨åˆ†è¯¦ç»†è®¨è®ºå®ƒä»¬ã€‚</p><p><img src="/src/640-16559035604247.jpeg" alt="å›¾ç‰‡"></p><p>å¯¹äºé‚£äº›æœ‰åˆ›æ„çš„äººï¼Œå¦‚æœä½ è§‰å¾—æœ‰å¿…è¦ä½¿ç”¨ä¸Šé¢è¿™äº›å‚æ•°çš„ä¸€ä¸ªç»„åˆï¼Œä½ ç”šè‡³å¯ä»¥åˆ›é€ å‡ºä¸€ä¸ªæ²¡æœ‰è¢«ä½¿ç”¨è¿‡çš„å›å½’æ¨¡å‹ã€‚ä½†åœ¨ä½ å¼€å§‹ä¹‹å‰ï¼Œå…ˆäº†è§£å¦‚ä¸‹æœ€å¸¸ç”¨çš„å›å½’æ–¹æ³•ï¼š</p><h3 id="1-Linear-Regressionçº¿æ€§å›å½’"><a href="#1-Linear-Regressionçº¿æ€§å›å½’" class="headerlink" title="1.Linear Regressionçº¿æ€§å›å½’"></a><strong>1.Linear Regressionçº¿æ€§å›å½’</strong></h3><p>å®ƒæ˜¯æœ€ä¸ºäººç†ŸçŸ¥çš„å»ºæ¨¡æŠ€æœ¯ä¹‹ä¸€ã€‚çº¿æ€§å›å½’é€šå¸¸æ˜¯äººä»¬åœ¨å­¦ä¹ é¢„æµ‹æ¨¡å‹æ—¶é¦–é€‰çš„æŠ€æœ¯ä¹‹ä¸€ã€‚åœ¨è¿™ç§æŠ€æœ¯ä¸­ï¼Œå› å˜é‡æ˜¯è¿ç»­çš„ï¼Œè‡ªå˜é‡å¯ä»¥æ˜¯è¿ç»­çš„ä¹Ÿå¯ä»¥æ˜¯ç¦»æ•£çš„ï¼Œå›å½’çº¿çš„æ€§è´¨æ˜¯çº¿æ€§çš„ã€‚</p><p>çº¿æ€§å›å½’ä½¿ç”¨æœ€ä½³çš„æ‹Ÿåˆç›´çº¿ï¼ˆä¹Ÿå°±æ˜¯å›å½’çº¿ï¼‰åœ¨å› å˜é‡ï¼ˆYï¼‰å’Œä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå˜é‡ï¼ˆXï¼‰ä¹‹é—´å»ºç«‹ä¸€ç§å…³ç³»ã€‚</p><p>ç”¨ä¸€ä¸ªæ–¹ç¨‹å¼æ¥è¡¨ç¤ºå®ƒï¼Œå³$Y&#x3D;a+b*X+e$ï¼Œå…¶ä¸­aè¡¨ç¤ºæˆªè·ï¼Œbè¡¨ç¤ºç›´çº¿çš„æ–œç‡ï¼Œeæ˜¯è¯¯å·®é¡¹ã€‚è¿™ä¸ªæ–¹ç¨‹å¯ä»¥æ ¹æ®ç»™å®šçš„é¢„æµ‹å˜é‡ï¼ˆsï¼‰æ¥é¢„æµ‹ç›®æ ‡å˜é‡çš„å€¼ã€‚</p><p><img src="/src/640-165590356364210.png" alt="å›¾ç‰‡"></p><p>ä¸€å…ƒçº¿æ€§å›å½’å’Œå¤šå…ƒçº¿æ€§å›å½’çš„åŒºåˆ«åœ¨äºï¼Œå¤šå…ƒçº¿æ€§å›å½’æœ‰ï¼ˆ&gt;1ï¼‰ä¸ªè‡ªå˜é‡ï¼Œè€Œä¸€å…ƒçº¿æ€§å›å½’é€šå¸¸åªæœ‰1ä¸ªè‡ªå˜é‡ã€‚ç°åœ¨çš„é—®é¢˜æ˜¯â€œæˆ‘ä»¬å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæœ€ä½³çš„æ‹Ÿåˆçº¿å‘¢ï¼Ÿâ€ã€‚</p><h4 id="å¦‚ä½•è·å¾—æœ€ä½³æ‹Ÿåˆçº¿ï¼ˆaå’Œbçš„å€¼ï¼‰ï¼Ÿ"><a href="#å¦‚ä½•è·å¾—æœ€ä½³æ‹Ÿåˆçº¿ï¼ˆaå’Œbçš„å€¼ï¼‰ï¼Ÿ" class="headerlink" title="å¦‚ä½•è·å¾—æœ€ä½³æ‹Ÿåˆçº¿ï¼ˆaå’Œbçš„å€¼ï¼‰ï¼Ÿ"></a><strong>å¦‚ä½•è·å¾—æœ€ä½³æ‹Ÿåˆçº¿ï¼ˆaå’Œbçš„å€¼ï¼‰ï¼Ÿ</strong></h4><p>è¿™ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨æœ€å°äºŒä¹˜æ³•è½»æ¾åœ°å®Œæˆã€‚æœ€å°äºŒä¹˜æ³•ä¹Ÿæ˜¯ç”¨äºæ‹Ÿåˆå›å½’çº¿æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚å¯¹äºè§‚æµ‹æ•°æ®ï¼Œå®ƒé€šè¿‡æœ€å°åŒ–æ¯ä¸ªæ•°æ®ç‚¹åˆ°çº¿çš„å‚ç›´åå·®å¹³æ–¹å’Œæ¥è®¡ç®—æœ€ä½³æ‹Ÿåˆçº¿ã€‚å› ä¸ºåœ¨ç›¸åŠ æ—¶ï¼Œåå·®å…ˆå¹³æ–¹ï¼Œæ‰€ä»¥æ­£å€¼å’Œè´Ÿå€¼æ²¡æœ‰æŠµæ¶ˆã€‚</p><p><img src="/src/640-165590356617213.jpeg" alt="å›¾ç‰‡"></p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨R-squareæŒ‡æ ‡æ¥è¯„ä¼°æ¨¡å‹æ€§èƒ½ã€‚æƒ³äº†è§£è¿™äº›æŒ‡æ ‡çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥é˜…è¯»ï¼šæ¨¡å‹æ€§èƒ½æŒ‡æ ‡Part 1,Part 2.</p><blockquote><p><strong>è¦ç‚¹ï¼š</strong></p><p>1.è‡ªå˜é‡ä¸å› å˜é‡ä¹‹é—´å¿…é¡»æœ‰çº¿æ€§å…³ç³»</p><p>2.å¤šå…ƒå›å½’å­˜åœ¨å¤šé‡å…±çº¿æ€§ï¼Œè‡ªç›¸å…³æ€§å’Œå¼‚æ–¹å·®æ€§ã€‚</p><p>3.çº¿æ€§å›å½’å¯¹å¼‚å¸¸å€¼éå¸¸æ•æ„Ÿã€‚å®ƒä¼šä¸¥é‡å½±å“å›å½’çº¿ï¼Œæœ€ç»ˆå½±å“é¢„æµ‹å€¼ã€‚</p><p>4.å¤šé‡å…±çº¿æ€§ä¼šå¢åŠ ç³»æ•°ä¼°è®¡å€¼çš„æ–¹å·®ï¼Œä½¿å¾—åœ¨æ¨¡å‹è½»å¾®å˜åŒ–ä¸‹ï¼Œä¼°è®¡éå¸¸æ•æ„Ÿã€‚ç»“æœå°±æ˜¯ç³»æ•°ä¼°è®¡å€¼ä¸ç¨³å®š</p><p>5.åœ¨å¤šä¸ªè‡ªå˜é‡çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘å‰é€‰æ‹©æ³•ï¼Œå‘åå‰”é™¤æ³•å’Œé€æ­¥ç­›é€‰æ³•æ¥é€‰æ‹©æœ€é‡è¦çš„è‡ªå˜é‡ã€‚</p></blockquote><h3 id="2-Logistic-Regressioné€»è¾‘å›å½’"><a href="#2-Logistic-Regressioné€»è¾‘å›å½’" class="headerlink" title="2.Logistic Regressioné€»è¾‘å›å½’"></a><strong>2.Logistic Regressioné€»è¾‘å›å½’</strong></h3><p>é€»è¾‘å›å½’æ˜¯ç”¨æ¥è®¡ç®—â€œäº‹ä»¶&#x3D;Successâ€å’Œâ€œäº‹ä»¶&#x3D;Failureâ€çš„æ¦‚ç‡ã€‚å½“å› å˜é‡çš„ç±»å‹å±äºäºŒå…ƒï¼ˆ1 &#x2F; 0ï¼ŒçœŸ&#x2F;å‡ï¼Œæ˜¯&#x2F;å¦ï¼‰å˜é‡æ—¶ï¼Œæˆ‘ä»¬å°±åº”è¯¥ä½¿ç”¨é€»è¾‘å›å½’ã€‚è¿™é‡Œï¼ŒYçš„å€¼ä»0åˆ°1ï¼Œå®ƒå¯ä»¥ç”¨ä¸‹æ–¹ç¨‹è¡¨ç¤ºã€‚</p><p>$odds&#x3D; \frac{p}{1-p} &#x3D; \frac{probability \ of \ event \ occurrence}{probability\ of\ not\ event\ occurrence\ ln(odds)} &#x3D; ln(\frac{p}{1-p})logit(p) &#x3D; ln(\frac{p}{1-p}) &#x3D; b_0+b_1X_1+b_2X_2+b_3X_3+b_kX_k$</p><p>ä¸Šè¿°å¼å­ä¸­ï¼Œpè¡¨è¿°å…·æœ‰æŸä¸ªç‰¹å¾çš„æ¦‚ç‡ã€‚ä½ åº”è¯¥ä¼šé—®è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šâ€œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åœ¨å…¬å¼ä¸­ä½¿ç”¨å¯¹æ•°logå‘¢ï¼Ÿâ€ã€‚</p><p>å› ä¸ºåœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯çš„äºŒé¡¹åˆ†å¸ƒï¼ˆå› å˜é‡ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€ä¸ªå¯¹äºè¿™ä¸ªåˆ†å¸ƒæœ€ä½³çš„è¿ç»“å‡½æ•°ã€‚å®ƒå°±æ˜¯Logitå‡½æ•°ã€‚åœ¨ä¸Šè¿°æ–¹ç¨‹ä¸­ï¼Œé€šè¿‡è§‚æµ‹æ ·æœ¬çš„æå¤§ä¼¼ç„¶ä¼°è®¡å€¼æ¥é€‰æ‹©å‚æ•°ï¼Œè€Œä¸æ˜¯æœ€å°åŒ–å¹³æ–¹å’Œè¯¯å·®ï¼ˆå¦‚åœ¨æ™®é€šå›å½’ä½¿ç”¨çš„ï¼‰ã€‚</p><p><img src="/src/640-165590356921716.jpeg" alt="å›¾ç‰‡"></p><blockquote><p><strong>è¦ç‚¹ï¼š</strong></p><p>1.å®ƒå¹¿æ³›çš„ç”¨äºåˆ†ç±»é—®é¢˜ã€‚</p><p>2.é€»è¾‘å›å½’ä¸è¦æ±‚è‡ªå˜é‡å’Œå› å˜é‡æ˜¯çº¿æ€§å…³ç³»ã€‚å®ƒå¯ä»¥å¤„ç†å„ç§ç±»å‹çš„å…³ç³»ï¼Œå› ä¸ºå®ƒå¯¹é¢„æµ‹çš„ç›¸å¯¹é£é™©æŒ‡æ•°ORä½¿ç”¨äº†ä¸€ä¸ªéçº¿æ€§çš„logè½¬æ¢ã€‚</p><p>3.ä¸ºäº†é¿å…è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆï¼Œæˆ‘ä»¬åº”è¯¥åŒ…æ‹¬æ‰€æœ‰é‡è¦çš„å˜é‡ã€‚æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•æ¥ç¡®ä¿è¿™ç§æƒ…å†µï¼Œå°±æ˜¯ä½¿ç”¨é€æ­¥ç­›é€‰æ–¹æ³•æ¥ä¼°è®¡é€»è¾‘å›å½’ã€‚</p><p>4.å®ƒéœ€è¦å¤§çš„æ ·æœ¬é‡ï¼Œå› ä¸ºåœ¨æ ·æœ¬æ•°é‡è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œæå¤§ä¼¼ç„¶ä¼°è®¡çš„æ•ˆæœæ¯”æ™®é€šçš„æœ€å°äºŒä¹˜æ³•å·®ã€‚</p><p>5.è‡ªå˜é‡ä¸åº”è¯¥ç›¸äº’å…³è”çš„ï¼Œå³ä¸å…·æœ‰å¤šé‡å…±çº¿æ€§ã€‚ç„¶è€Œï¼Œåœ¨åˆ†æå’Œå»ºæ¨¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åŒ…å«åˆ†ç±»å˜é‡ç›¸äº’ä½œç”¨çš„å½±å“ã€‚</p><p>6.å¦‚æœå› å˜é‡çš„å€¼æ˜¯å®šåºå˜é‡ï¼Œåˆ™ç§°å®ƒä¸ºåºé€»è¾‘å›å½’ã€‚</p><p>7.å¦‚æœå› å˜é‡æ˜¯å¤šç±»çš„è¯ï¼Œåˆ™ç§°å®ƒä¸ºå¤šå…ƒé€»è¾‘å›å½’ã€‚</p></blockquote><h3 id="3-Polynomial-Regressionå¤šé¡¹å¼å›å½’"><a href="#3-Polynomial-Regressionå¤šé¡¹å¼å›å½’" class="headerlink" title="3.Polynomial Regressionå¤šé¡¹å¼å›å½’"></a><strong>3.Polynomial Regressionå¤šé¡¹å¼å›å½’</strong></h3><p>å¯¹äºä¸€ä¸ªå›å½’æ–¹ç¨‹ï¼Œå¦‚æœè‡ªå˜é‡çš„æŒ‡æ•°å¤§äº1ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å¤šé¡¹å¼å›å½’æ–¹ç¨‹ã€‚å¦‚ä¸‹æ–¹ç¨‹æ‰€ç¤ºï¼š$y&#x3D;a+b*x^2$</p><p>åœ¨è¿™ç§å›å½’æŠ€æœ¯ä¸­ï¼Œæœ€ä½³æ‹Ÿåˆçº¿ä¸æ˜¯ç›´çº¿ã€‚è€Œæ˜¯ä¸€ä¸ªç”¨äºæ‹Ÿåˆæ•°æ®ç‚¹çš„æ›²çº¿ã€‚</p><p><img src="/src/640-165590357936919.png" alt="å›¾ç‰‡"></p><blockquote><p>é‡ç‚¹ï¼š</p><p>è™½ç„¶ä¼šæœ‰ä¸€ä¸ªè¯±å¯¼å¯ä»¥æ‹Ÿåˆä¸€ä¸ªé«˜æ¬¡å¤šé¡¹å¼å¹¶å¾—åˆ°è¾ƒä½çš„é”™è¯¯ï¼Œä½†è¿™å¯èƒ½ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆã€‚ä½ éœ€è¦ç»å¸¸ç”»å‡ºå…³ç³»å›¾æ¥æŸ¥çœ‹æ‹Ÿåˆæƒ…å†µï¼Œå¹¶ä¸”ä¸“æ³¨äºä¿è¯æ‹Ÿåˆåˆç†ï¼Œæ—¢æ²¡æœ‰è¿‡æ‹Ÿåˆåˆæ²¡æœ‰æ¬ æ‹Ÿåˆã€‚</p></blockquote><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå›¾ä¾‹ï¼Œå¯ä»¥å¸®åŠ©ç†è§£ï¼š</p><p><img src="/src/640-165590358261822.png" alt="å›¾ç‰‡"></p><p>æ˜æ˜¾åœ°å‘ä¸¤ç«¯å¯»æ‰¾æ›²çº¿ç‚¹ï¼Œçœ‹çœ‹è¿™äº›å½¢çŠ¶å’Œè¶‹åŠ¿æ˜¯å¦æœ‰æ„ä¹‰ã€‚æ›´é«˜æ¬¡çš„å¤šé¡¹å¼æœ€åå¯èƒ½äº§ç”Ÿæ€ªå¼‚çš„æ¨æ–­ç»“æœã€‚</p><h3 id="4-Stepwise-Regressioné€æ­¥å›å½’"><a href="#4-Stepwise-Regressioné€æ­¥å›å½’" class="headerlink" title="4.Stepwise Regressioné€æ­¥å›å½’"></a><strong>4.Stepwise Regressioné€æ­¥å›å½’</strong></h3><p>åœ¨å¤„ç†å¤šä¸ªè‡ªå˜é‡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ç§å½¢å¼çš„å›å½’ã€‚åœ¨è¿™ç§æŠ€æœ¯ä¸­ï¼Œè‡ªå˜é‡çš„é€‰æ‹©æ˜¯åœ¨ä¸€ä¸ªè‡ªåŠ¨çš„è¿‡ç¨‹ä¸­å®Œæˆçš„ï¼Œå…¶ä¸­åŒ…æ‹¬éäººä¸ºæ“ä½œã€‚</p><p>è¿™ä¸€å£®ä¸¾æ˜¯é€šè¿‡è§‚å¯Ÿç»Ÿè®¡çš„å€¼ï¼Œå¦‚R-squareï¼Œt-statså’ŒAICæŒ‡æ ‡ï¼Œæ¥è¯†åˆ«é‡è¦çš„å˜é‡ã€‚é€æ­¥å›å½’é€šè¿‡åŒæ—¶æ·»åŠ &#x2F;åˆ é™¤åŸºäºæŒ‡å®šæ ‡å‡†çš„åå˜é‡æ¥æ‹Ÿåˆæ¨¡å‹ã€‚</p><p>ä¸‹é¢åˆ—å‡ºäº†ä¸€äº›æœ€å¸¸ç”¨çš„é€æ­¥å›å½’æ–¹æ³•ï¼š</p><ul><li>æ ‡å‡†é€æ­¥å›å½’æ³•åšä¸¤ä»¶äº‹æƒ…ã€‚å³å¢åŠ å’Œåˆ é™¤æ¯ä¸ªæ­¥éª¤æ‰€éœ€çš„é¢„æµ‹ã€‚</li><li>å‘å‰é€‰æ‹©æ³•ä»æ¨¡å‹ä¸­æœ€æ˜¾è‘—çš„é¢„æµ‹å¼€å§‹ï¼Œç„¶åä¸ºæ¯ä¸€æ­¥æ·»åŠ å˜é‡ã€‚</li><li>å‘åå‰”é™¤æ³•ä¸æ¨¡å‹çš„æ‰€æœ‰é¢„æµ‹åŒæ—¶å¼€å§‹ï¼Œç„¶ååœ¨æ¯ä¸€æ­¥æ¶ˆé™¤æœ€å°æ˜¾ç€æ€§çš„å˜é‡ã€‚</li></ul><p>è¿™ç§å»ºæ¨¡æŠ€æœ¯çš„ç›®çš„æ˜¯ä½¿ç”¨æœ€å°‘çš„é¢„æµ‹å˜é‡æ•°æ¥æœ€å¤§åŒ–é¢„æµ‹èƒ½åŠ›ã€‚è¿™ä¹Ÿæ˜¯å¤„ç†é«˜ç»´æ•°æ®é›†çš„æ–¹æ³•ä¹‹ä¸€ã€‚</p><h3 id="5-Ridge-Regressionå²­å›å½’"><a href="#5-Ridge-Regressionå²­å›å½’" class="headerlink" title="5.Ridge Regressionå²­å›å½’"></a><strong>5.Ridge Regressionå²­å›å½’</strong></h3><p>å²­å›å½’åˆ†ææ˜¯ä¸€ç§ç”¨äºå­˜åœ¨å¤šé‡å…±çº¿æ€§ï¼ˆè‡ªå˜é‡é«˜åº¦ç›¸å…³ï¼‰æ•°æ®çš„æŠ€æœ¯ã€‚åœ¨å¤šé‡å…±çº¿æ€§æƒ…å†µä¸‹ï¼Œå°½ç®¡æœ€å°äºŒä¹˜æ³•ï¼ˆOLSï¼‰å¯¹æ¯ä¸ªå˜é‡å¾ˆå…¬å¹³ï¼Œä½†å®ƒä»¬çš„å·®å¼‚å¾ˆå¤§ï¼Œä½¿å¾—è§‚æµ‹å€¼åç§»å¹¶è¿œç¦»çœŸå®å€¼ã€‚å²­å›å½’é€šè¿‡ç»™å›å½’ä¼°è®¡ä¸Šå¢åŠ ä¸€ä¸ªåå·®åº¦ï¼Œæ¥é™ä½æ ‡å‡†è¯¯å·®ã€‚</p><p>ä¸Šé¢ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†çº¿æ€§å›å½’æ–¹ç¨‹ã€‚è¿˜è®°å¾—å—ï¼Ÿå®ƒå¯ä»¥è¡¨ç¤ºä¸ºï¼š</p><p>$y&#x3D;a+b*x$è¿™ä¸ªæ–¹ç¨‹ä¹Ÿæœ‰ä¸€ä¸ªè¯¯å·®é¡¹ã€‚å®Œæ•´çš„æ–¹ç¨‹æ˜¯ï¼š</p><p>y&#x3D;a+b*x+e (error term),  [error term is the value needed to correct for a prediction error between the observed and predicted value]</p><p>&#x3D;&gt; y&#x3D;a+y&#x3D; a+ b1x1+ b2x2++e, for multiple independent variables.</p><p>åœ¨ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ä¸­ï¼Œé¢„æµ‹è¯¯å·®å¯ä»¥åˆ†è§£ä¸º2ä¸ªå­åˆ†é‡ã€‚ä¸€ä¸ªæ˜¯åå·®ï¼Œä¸€ä¸ªæ˜¯æ–¹å·®ã€‚é¢„æµ‹é”™è¯¯å¯èƒ½ä¼šç”±è¿™ä¸¤ä¸ªåˆ†é‡æˆ–è€…è¿™ä¸¤ä¸ªä¸­çš„ä»»ä½•ä¸€ä¸ªé€ æˆã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†è®¨è®ºç”±æ–¹å·®æ‰€é€ æˆçš„æœ‰å…³è¯¯å·®ã€‚</p><p>å²­å›å½’é€šè¿‡æ”¶ç¼©å‚æ•°Î»ï¼ˆlambdaï¼‰è§£å†³å¤šé‡å…±çº¿æ€§é—®é¢˜ã€‚çœ‹ä¸‹é¢çš„å…¬å¼</p><p><img src="/src/640-165590358924025.png" alt="å›¾ç‰‡"></p><p>åœ¨è¿™ä¸ªå…¬å¼ä¸­ï¼Œæœ‰ä¸¤ä¸ªç»„æˆéƒ¨åˆ†ã€‚ç¬¬ä¸€ä¸ªæ˜¯æœ€å°äºŒä¹˜é¡¹ï¼Œå¦ä¸€ä¸ªæ˜¯Î²2ï¼ˆÎ²-å¹³æ–¹ï¼‰çš„Î»å€ï¼Œå…¶ä¸­Î²æ˜¯ç›¸å…³ç³»æ•°ã€‚ä¸ºäº†æ”¶ç¼©å‚æ•°æŠŠå®ƒæ·»åŠ åˆ°æœ€å°äºŒä¹˜é¡¹ä¸­ä»¥å¾—åˆ°ä¸€ä¸ªéå¸¸ä½çš„æ–¹å·®ã€‚</p><blockquote><p>è¦ç‚¹ï¼š</p><p>1.é™¤å¸¸æ•°é¡¹ä»¥å¤–ï¼Œè¿™ç§å›å½’çš„å‡è®¾ä¸æœ€å°äºŒä¹˜å›å½’ç±»ä¼¼ï¼›</p><p>2.å®ƒæ”¶ç¼©äº†ç›¸å…³ç³»æ•°çš„å€¼ï¼Œä½†æ²¡æœ‰è¾¾åˆ°é›¶ï¼Œè¿™è¡¨æ˜å®ƒæ²¡æœ‰ç‰¹å¾é€‰æ‹©åŠŸèƒ½</p><p>3.è¿™æ˜¯ä¸€ä¸ªæ­£åˆ™åŒ–æ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯L2æ­£åˆ™åŒ–ã€‚</p></blockquote><h3 id="6-Lasso-Regressionå¥—ç´¢å›å½’"><a href="#6-Lasso-Regressionå¥—ç´¢å›å½’" class="headerlink" title="6.Lasso Regressionå¥—ç´¢å›å½’"></a><strong>6.Lasso Regressionå¥—ç´¢å›å½’</strong></h3><p>å®ƒç±»ä¼¼äºå²­å›å½’ï¼ŒLasso ï¼ˆLeast Absolute Shrinkage and Selection Operatorï¼‰ä¹Ÿä¼šæƒ©ç½šå›å½’ç³»æ•°çš„ç»å¯¹å€¼å¤§å°ã€‚æ­¤å¤–ï¼Œå®ƒèƒ½å¤Ÿå‡å°‘å˜åŒ–ç¨‹åº¦å¹¶æé«˜çº¿æ€§å›å½’æ¨¡å‹çš„ç²¾åº¦ã€‚çœ‹çœ‹ä¸‹é¢çš„å…¬å¼ï¼š</p><p><img src="/src/640-165590359151028.jpeg" alt="å›¾ç‰‡"></p><p>Lasso å›å½’ä¸Ridgeå›å½’æœ‰ä¸€ç‚¹ä¸åŒï¼Œå®ƒä½¿ç”¨çš„æƒ©ç½šå‡½æ•°æ˜¯ç»å¯¹å€¼ï¼Œè€Œä¸æ˜¯å¹³æ–¹ã€‚è¿™å¯¼è‡´æƒ©ç½šï¼ˆæˆ–ç­‰äºçº¦æŸä¼°è®¡çš„ç»å¯¹å€¼ä¹‹å’Œï¼‰å€¼ä½¿ä¸€äº›å‚æ•°ä¼°è®¡ç»“æœç­‰äºé›¶ã€‚ä½¿ç”¨æƒ©ç½šå€¼è¶Šå¤§ï¼Œè¿›ä¸€æ­¥ä¼°è®¡ä¼šä½¿å¾—ç¼©å°å€¼è¶‹è¿‘äºé›¶ã€‚è¿™å°†å¯¼è‡´æˆ‘ä»¬è¦ä»ç»™å®šçš„nä¸ªå˜é‡ä¸­é€‰æ‹©å˜é‡ã€‚</p><blockquote><p>è¦ç‚¹ï¼š</p><p>1.é™¤å¸¸æ•°é¡¹ä»¥å¤–ï¼Œè¿™ç§å›å½’çš„å‡è®¾ä¸æœ€å°äºŒä¹˜å›å½’ç±»ä¼¼ï¼›</p><p>2.å®ƒæ”¶ç¼©ç³»æ•°æ¥è¿‘é›¶ï¼ˆç­‰äºé›¶ï¼‰ï¼Œè¿™ç¡®å®æœ‰åŠ©äºç‰¹å¾é€‰æ‹©ï¼›</p><p>3.è¿™æ˜¯ä¸€ä¸ªæ­£åˆ™åŒ–æ–¹æ³•ï¼Œä½¿ç”¨çš„æ˜¯L1æ­£åˆ™åŒ–ï¼›</p><p>å¦‚æœé¢„æµ‹çš„ä¸€ç»„å˜é‡æ˜¯é«˜åº¦ç›¸å…³çš„ï¼ŒLasso ä¼šé€‰å‡ºå…¶ä¸­ä¸€ä¸ªå˜é‡å¹¶ä¸”å°†å…¶å®ƒçš„æ”¶ç¼©ä¸ºé›¶ã€‚</p></blockquote><h3 id="7-ElasticNetå›å½’"><a href="#7-ElasticNetå›å½’" class="headerlink" title="7.ElasticNetå›å½’"></a><strong>7.ElasticNetå›å½’</strong></h3><p>ElasticNetæ˜¯Lassoå’ŒRidgeå›å½’æŠ€æœ¯çš„æ··åˆä½“ã€‚å®ƒä½¿ç”¨L1æ¥è®­ç»ƒå¹¶ä¸”L2ä¼˜å…ˆä½œä¸ºæ­£åˆ™åŒ–çŸ©é˜µã€‚å½“æœ‰å¤šä¸ªç›¸å…³çš„ç‰¹å¾æ—¶ï¼ŒElasticNetæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚Lasso ä¼šéšæœºæŒ‘é€‰ä»–ä»¬å…¶ä¸­çš„ä¸€ä¸ªï¼Œè€ŒElasticNetåˆ™ä¼šé€‰æ‹©ä¸¤ä¸ªã€‚</p><p><img src="/src/640-165590359434431.png" alt="å›¾ç‰‡"></p><p>Lassoå’ŒRidgeä¹‹é—´çš„å®é™…çš„ä¼˜ç‚¹æ˜¯ï¼Œå®ƒå…è®¸ElasticNetç»§æ‰¿å¾ªç¯çŠ¶æ€ä¸‹Ridgeçš„ä¸€äº›ç¨³å®šæ€§ã€‚</p><blockquote><p><strong>è¦ç‚¹ï¼š</strong></p><p>1.åœ¨é«˜åº¦ç›¸å…³å˜é‡çš„æƒ…å†µä¸‹ï¼Œå®ƒä¼šäº§ç”Ÿç¾¤ä½“æ•ˆåº”ï¼›</p><p>2.é€‰æ‹©å˜é‡çš„æ•°ç›®æ²¡æœ‰é™åˆ¶ï¼›</p><p>3.å®ƒå¯ä»¥æ‰¿å—åŒé‡æ”¶ç¼©ã€‚</p></blockquote><h2 id="å¦‚ä½•æ­£ç¡®é€‰æ‹©å›å½’æ¨¡å‹ï¼Ÿ"><a href="#å¦‚ä½•æ­£ç¡®é€‰æ‹©å›å½’æ¨¡å‹ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ­£ç¡®é€‰æ‹©å›å½’æ¨¡å‹ï¼Ÿ"></a><strong>å¦‚ä½•æ­£ç¡®é€‰æ‹©å›å½’æ¨¡å‹ï¼Ÿ</strong></h2><p>å½“ä½ åªçŸ¥é“ä¸€ä¸ªæˆ–ä¸¤ä¸ªæŠ€æœ¯æ—¶ï¼Œç”Ÿæ´»å¾€å¾€å¾ˆç®€å•ã€‚æˆ‘çŸ¥é“çš„ä¸€ä¸ªåŸ¹è®­æœºæ„å‘Šè¯‰ä»–ä»¬çš„å­¦ç”Ÿï¼Œå¦‚æœç»“æœæ˜¯è¿ç»­çš„ï¼Œå°±ä½¿ç”¨çº¿æ€§å›å½’ã€‚å¦‚æœæ˜¯äºŒå…ƒçš„ï¼Œå°±ä½¿ç”¨é€»è¾‘å›å½’ï¼ç„¶è€Œï¼Œåœ¨æˆ‘ä»¬çš„å¤„ç†ä¸­ï¼Œå¯é€‰æ‹©çš„è¶Šå¤šï¼Œé€‰æ‹©æ­£ç¡®çš„ä¸€ä¸ªå°±è¶Šéš¾ã€‚ç±»ä¼¼çš„æƒ…å†µä¸‹ä¹Ÿå‘ç”Ÿåœ¨å›å½’æ¨¡å‹ä¸­ã€‚</p><p>åœ¨å¤šç±»å›å½’æ¨¡å‹ä¸­ï¼ŒåŸºäºè‡ªå˜é‡å’Œå› å˜é‡çš„ç±»å‹ï¼Œæ•°æ®çš„ç»´æ•°ä»¥åŠæ•°æ®çš„å…¶å®ƒåŸºæœ¬ç‰¹å¾çš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©æœ€åˆé€‚çš„æŠ€æœ¯éå¸¸é‡è¦ã€‚ä»¥ä¸‹æ˜¯ä½ è¦é€‰æ‹©æ­£ç¡®çš„å›å½’æ¨¡å‹çš„<strong>å…³é”®å› ç´ </strong>ï¼š</p><ol><li>æ•°æ®æ¢ç´¢æ˜¯æ„å»ºé¢„æµ‹æ¨¡å‹çš„å¿…ç„¶ç»„æˆéƒ¨åˆ†ã€‚åœ¨é€‰æ‹©åˆé€‚çš„æ¨¡å‹æ—¶ï¼Œæ¯”å¦‚è¯†åˆ«å˜é‡çš„å…³ç³»å’Œå½±å“æ—¶ï¼Œå®ƒåº”è¯¥é¦–é€‰çš„ä¸€æ­¥ã€‚</li><li>æ¯”è¾ƒé€‚åˆäºä¸åŒæ¨¡å‹çš„ä¼˜ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æä¸åŒçš„æŒ‡æ ‡å‚æ•°ï¼Œå¦‚ç»Ÿè®¡æ„ä¹‰çš„å‚æ•°ï¼ŒR-squareï¼ŒAdjusted R-squareï¼ŒAICï¼ŒBICä»¥åŠè¯¯å·®é¡¹ï¼Œå¦ä¸€ä¸ªæ˜¯Mallowsâ€™ Cpå‡†åˆ™ã€‚è¿™ä¸ªä¸»è¦æ˜¯é€šè¿‡å°†æ¨¡å‹ä¸æ‰€æœ‰å¯èƒ½çš„å­æ¨¡å‹è¿›è¡Œå¯¹æ¯”ï¼ˆæˆ–è°¨æ…é€‰æ‹©ä»–ä»¬ï¼‰ï¼Œæ£€æŸ¥åœ¨ä½ çš„æ¨¡å‹ä¸­å¯èƒ½å‡ºç°çš„åå·®ã€‚</li><li>äº¤å‰éªŒè¯æ˜¯è¯„ä¼°é¢„æµ‹æ¨¡å‹æœ€å¥½é¢æ–¹æ³•ã€‚åœ¨è¿™é‡Œï¼Œå°†ä½ çš„æ•°æ®é›†åˆ†æˆä¸¤ä»½ï¼ˆä¸€ä»½åšè®­ç»ƒå’Œä¸€ä»½åšéªŒè¯ï¼‰ã€‚ä½¿ç”¨è§‚æµ‹å€¼å’Œé¢„æµ‹å€¼ä¹‹é—´çš„ä¸€ä¸ªç®€å•å‡æ–¹å·®æ¥è¡¡é‡ä½ çš„é¢„æµ‹ç²¾åº¦ã€‚</li><li>å¦‚æœä½ çš„æ•°æ®é›†æ˜¯å¤šä¸ªæ··åˆå˜é‡ï¼Œé‚£ä¹ˆä½ å°±ä¸åº”è¯¥é€‰æ‹©è‡ªåŠ¨æ¨¡å‹é€‰æ‹©æ–¹æ³•ï¼Œå› ä¸ºä½ åº”è¯¥ä¸æƒ³åœ¨åŒä¸€æ—¶é—´æŠŠæ‰€æœ‰å˜é‡æ”¾åœ¨åŒä¸€ä¸ªæ¨¡å‹ä¸­ã€‚</li><li>å®ƒä¹Ÿå°†å–å†³äºä½ çš„ç›®çš„ã€‚å¯èƒ½ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œä¸€ä¸ªä¸å¤ªå¼ºå¤§çš„æ¨¡å‹ä¸å…·æœ‰é«˜åº¦ç»Ÿè®¡å­¦æ„ä¹‰çš„æ¨¡å‹ç›¸æ¯”ï¼Œæ›´æ˜“äºå®ç°ã€‚</li><li>å›å½’æ­£åˆ™åŒ–æ–¹æ³•ï¼ˆLassoï¼ŒRidgeå’ŒElasticNetï¼‰åœ¨é«˜ç»´å’Œæ•°æ®é›†å˜é‡ä¹‹é—´å¤šé‡å…±çº¿æ€§æƒ…å†µä¸‹è¿è¡Œè‰¯å¥½ã€‚ï¿½æ€§æƒ…å†µä¸‹è¿è¡Œè‰¯å¥½ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”å…³äºELBOçš„æ¨æ¼”</title>
    <link href="/2022/08/01/MachineLearning/%E5%85%B3%E4%BA%8EELBO%E7%9A%84%E6%8E%A8%E6%BC%94/"/>
    <url>/2022/08/01/MachineLearning/%E5%85%B3%E4%BA%8EELBO%E7%9A%84%E6%8E%A8%E6%BC%94/</url>
    
    <content type="html"><![CDATA[<p>å½“æˆ‘ä»¬æƒ³ç ”ç©¶ä¸€ä¸ªå˜é‡çš„åˆ†å¸ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥é€šè¿‡é‡‡æ ·æ¥æ¨æµ‹æ•´ä½“åˆ†å¸ƒï¼Œéœ€è¦ä¿æŒæå¤§çš„ä¸ªæ•°ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­å»ºä¸€ä¸ªéšå˜é‡ï¼Œæ¥è®¡ç®—å‡ºå˜é‡çš„åˆ†å¸ƒã€‚<br>$$<br>\phi: X \to Z \iff p_{\phi}(z|x)  \quad \text{variational parameter} \<br>\theta: Z \to \hat{X} \iff p_{\theta}(\hat{x}|z) \quad \text{generative parameter}<br>$$<br>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºä¸€ä¸ªç›®æ ‡å‡½æ•°ï¼š<br>$$<br>min_{\phi,\theta}L(x,(\phi,\theta)x)<br>$$<br>æ±‚å‡ºï¼ˆ2ï¼‰å¼ï¼Œå°±å¯ä»¥è¿‘ä¼¼çš„å¾—åˆ°äº†xçš„åˆ†å¸ƒæƒ…å†µã€‚</p><p>ä½†æ˜¯å¾ˆé—æ†¾çš„æ˜¯å…³äºä»¥ä¸‹ä¸¤ä¸ªå…¬å¼æ²¡æœ‰åŠæ³•è®¡ç®—å‡ºæ¥ã€‚<br>$$<br>p_{\theta}(x)&#x3D;\int p_{\theta}(x|z)p_{\theta}(z)dz \<br>p_{\theta}(z|x) &#x3D; \frac{p(x|z)p(z)}{p(x)}<br>$$<br>OKï¼Œæ²¡æœ‰åŠæ³•ç›´æ¥æ¨ç®—å‡ºæ¥ï¼Œé‚£æˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ä¸ªå˜é‡$q_{\phi}(z|x)$æ¥æ¥è¿‘$p_{\theta}(z|x)$ã€‚è¿™é‡Œå°±å¯ä»¥åˆ©ç”¨KLæ•£åº¦æ¥è®¡ç®—ä¸¤ä¸ªåˆ†å¸ƒçš„è¿‘ä¼¼ç¨‹åº¦ã€‚<br>$$<br>\begin{align}<br>D_{KL}(q_{\phi}(z|x)\  ||\ p_{\theta}(z|x)) &amp;&#x3D;E_{z\sim q_{\phi}(z|x)}[logq_{\phi}(z|x)-logp_{\theta}(z|x)] \<br>&amp;&#x3D;E_{z\sim q_{\phi}(z|x)}[logq_{\phi}(z|x)-logp_{\theta}(z,x)]+E_{z\sim q_{\phi}(z|x)}(logp_{\theta}(x))<br>\end{align}<br>$$<br>ä»ä¸Šå¼æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¼ï¼ˆ5ï¼‰åä¸€éƒ¨åˆ†æ˜¯æˆ‘ä»¬ææ„Ÿå…´è¶£çš„ä¸œè¥¿ã€‚</p><p>OK,æˆ‘ä»¬å¯ä»¥ä»$log(x)$â€‹å‡ºå‘å¯»æ‰¾ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿<br>$$<br>\begin{align}<br>\sum_{i}logp(x^i;\theta)&amp;&#x3D;\sum_{i}log\sum_{z_i}p(x^i,z_i;\theta)\<br>&amp;&#x3D;\sum_{i}log\sum_{z^i}q_i(x^i,z^i)\frac{p(x^i,z^i;\theta)}{q_i(x^i,z^i)} \<br>&amp;\ge  \sum_{i}\sum_{z^i}q_i(x^i,z^i)log\frac{p(x^i,z^i;\theta)}{q_i(x^i,z^i)} (Jensen \ Inequality)\<br>             \text{for i,get evidence lower bound ELBO:} \<br>logp(x^i;\theta)&amp;&#x3D;\sum_{z^j}q_i(x^i,z^j)log\frac{p(x^i,z^j;\theta)}{q_i(x^i,z^j)}\<br>&amp;&#x3D;E_{z\sim q_{i}(z|x^i)}[logp_{i}(z,x^i)-logq_{i}(z|x^i)] \<br>&amp;&#x3D;E_{z\sim q_{i}(z|x^i)}[log\frac{p_{i}(z,x^i)}{p(z)}-log\frac{q_{i}(z|x^i)}{p(z)}]\<br>&amp;&#x3D;E_{z\sim q_{i}(z|x^i)}[logp(x^i|z)]-D_{KL}(q_{i}(z|x^i) \ || \ p(z))</p><p>\end{align}<br>$$<br>OKï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦è¿›ä¸€æ­¥å¯¹å¼(11)è¿›è¡Œç»†åŒ–<br>$$<br>\begin{align}<br>logp(x^i;\theta)&amp;&#x3D;E_{z\sim q_{i}(z|x^i)}[logp_{i}(z,x^i)-logq_{i}(z|x^i)] \<br>&amp;&#x3D;E_{z\sim q_{i}(z|x^i)}[log\frac{p_{i}(z,x^i)}{p(z)}-log\frac{q_{i}(z|x^i)}{p(z)}]\<br>&amp;&#x3D;E_{z\sim q_{i}(z|x^i)}[logp(x^i|z)]-D_{KL}(q_{i}(z|x^i) \ || \ p(z))<br>\end{align}<br>$$</p><p>$$<br>Jensen\ Inequality:\quad if \ f(x) \ is \ convex, \ f(E(x)) \ge E(f(x))<br>$$</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
      <tag>Auto Encoder</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”äº¤å‰éªŒè¯</title>
    <link href="/2022/08/01/MachineLearning/%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81%E6%96%B9%E6%B3%95/"/>
    <url>/2022/08/01/MachineLearning/%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä»»ä½•æœ‰ç›‘ç£æœºå™¨å­¦ä¹ é¡¹ç›®çš„æ¨¡å‹æ„å»ºé˜¶æ®µï¼Œæˆ‘ä»¬è®­ç»ƒæ¨¡å‹çš„ç›®çš„æ˜¯ä»æ ‡è®°çš„ç¤ºä¾‹ä¸­å­¦ä¹ æ‰€æœ‰æƒé‡å’Œåå·®çš„æœ€ä½³å€¼ã€‚</p><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ç›¸åŒçš„æ ‡è®°ç¤ºä¾‹æ¥æµ‹è¯•æˆ‘ä»¬çš„æ¨¡å‹ï¼Œé‚£ä¹ˆè¿™å°†æ˜¯ä¸€ä¸ªæ–¹æ³•è®ºé”™è¯¯ï¼Œå› ä¸ºä¸€ä¸ªåªä¼šé‡å¤åˆšåˆšçœ‹åˆ°çš„æ ·æœ¬æ ‡ç­¾çš„æ¨¡å‹å°†è·å¾—å®Œç¾çš„åˆ†æ•°ï¼Œä½†æ— æ³•é¢„æµ‹ä»»ä½•æœ‰ç”¨çš„ä¸œè¥¿ - æœªæ¥çš„æ•°æ®ï¼Œè¿™ç§æƒ…å†µç§°ä¸ºè¿‡æ‹Ÿåˆã€‚</p><p>ä¸ºäº†å…‹æœè¿‡åº¦æ‹Ÿåˆçš„é—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨äº¤å‰éªŒè¯ã€‚æ‰€ä»¥ä½ å¿…é¡»çŸ¥é“ä»€ä¹ˆæ˜¯äº¤å‰éªŒè¯ï¼Ÿä»¥åŠå¦‚ä½•è§£å†³è¿‡æ‹Ÿåˆçš„é—®é¢˜ï¼Ÿ<img src="/src/2274220-20211212113146635-514573712.webp" alt="å›¾ç‰‡"></p><h1 id="ä»€ä¹ˆæ˜¯äº¤å‰éªŒè¯ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯äº¤å‰éªŒè¯ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯äº¤å‰éªŒè¯ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯äº¤å‰éªŒè¯ï¼Ÿ</h1><p>äº¤å‰éªŒè¯æ˜¯ä¸€ç§ç”¨äºä¼°è®¡æœºå™¨å­¦ä¹ æ¨¡å‹æ€§èƒ½çš„ç»Ÿè®¡æ–¹æ³•ï¼Œå®ƒæ˜¯ä¸€ç§è¯„ä¼°ç»Ÿè®¡åˆ†æç»“æœå¦‚ä½•æ¨å¹¿åˆ°ç‹¬ç«‹æ•°æ®é›†çš„æ–¹æ³•ã€‚</p><h1 id="å®ƒæ˜¯å¦‚ä½•è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜çš„ï¼Ÿ"><a href="#å®ƒæ˜¯å¦‚ä½•è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜çš„ï¼Ÿ" class="headerlink" title="å®ƒæ˜¯å¦‚ä½•è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜çš„ï¼Ÿ"></a>å®ƒæ˜¯å¦‚ä½•è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜çš„ï¼Ÿ</h1><p>åœ¨äº¤å‰éªŒè¯ä¸­ï¼Œæˆ‘ä»¬å°†è®­ç»ƒæ•°æ®ç”Ÿæˆå¤šä¸ªå°çš„è®­ç»ƒæµ‹è¯•åˆ†å‰²ï¼Œä½¿ç”¨è¿™äº›æ‹†åˆ†æ¥è°ƒæ•´æ‚¨çš„æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œåœ¨æ ‡å‡†çš„ k æŠ˜äº¤å‰éªŒè¯ä¸­ï¼Œæˆ‘ä»¬å°†æ•°æ®åˆ’åˆ†ä¸º k ä¸ªå­é›†ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨ k-1 ä¸ªå­é›†ä¸Šè¿­ä»£è®­ç»ƒç®—æ³•ï¼ŒåŒæ—¶ä½¿ç”¨å‰©ä½™çš„å­é›†ä½œä¸ºæµ‹è¯•é›†ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœªå‚ä¸è®­ç»ƒçš„æ•°æ®ä¸Šæµ‹è¯•æˆ‘ä»¬çš„æ¨¡å‹ã€‚</p><p>ä¸‹é¢åˆ—å‡ºäº†è¿™äº›æŠ€æœ¯æ–¹æ³•ï¼š</p><ul><li><p>HoldOut äº¤å‰éªŒè¯</p></li><li><p>K-Fold äº¤å‰éªŒè¯</p></li><li><p>åˆ†å±‚ K-Foldäº¤å‰éªŒè¯</p></li><li><p>Leave P Out äº¤å‰éªŒè¯</p></li><li><p>ç•™ä¸€äº¤å‰éªŒè¯</p></li><li><p>è’™ç‰¹å¡æ´› (Shuffle-Split)</p></li><li><p>æ—¶é—´åºåˆ—ï¼ˆæ»šåŠ¨äº¤å‰éªŒè¯ï¼‰</p></li></ul><h2 id="1ã€HoldOut-äº¤å‰éªŒè¯"><a href="#1ã€HoldOut-äº¤å‰éªŒè¯" class="headerlink" title="1ã€HoldOut äº¤å‰éªŒè¯"></a>1ã€HoldOut äº¤å‰éªŒè¯</h2><p>åœ¨è¿™ç§äº¤å‰éªŒè¯æŠ€æœ¯ä¸­ï¼Œæ•´ä¸ªæ•°æ®é›†è¢«éšæœºåˆ’åˆ†ä¸ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚æ ¹æ®ç»éªŒï¼Œæ•´ä¸ªæ•°æ®é›†çš„è¿‘ 70% ç”¨ä½œè®­ç»ƒé›†ï¼Œå…¶ä½™ 30% ç”¨ä½œéªŒè¯é›†ã€‚<img src="/src/2274220-20211212113146701-1213545127.png" alt="å›¾ç‰‡"><strong>ä¼˜ç‚¹</strong></p><p>1.å¿«é€Ÿæ‰§è¡Œï¼šå› ä¸ºæˆ‘ä»¬å¿…é¡»å°†æ•°æ®é›†æ‹†åˆ†ä¸ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸€æ¬¡ï¼Œå¹¶ä¸”æ¨¡å‹å°†åœ¨è®­ç»ƒé›†ä¸Šä»…æ„å»ºä¸€æ¬¡ï¼Œå› æ­¤å¯ä»¥å¿«é€Ÿæ‰§è¡Œã€‚</p><p><strong>ç¼ºç‚¹</strong></p><ol><li><p>ä¸é€‚åˆä¸å¹³è¡¡æ•°æ®é›†ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸å¹³è¡¡æ•°æ®é›†ï¼Œå®ƒå…·æœ‰â€œ0â€ç±»å’Œâ€œ1â€ç±»ã€‚å‡è®¾ 80% çš„æ•°æ®å±äºâ€œ0â€ç±»ï¼Œå…¶ä½™ 20% çš„æ•°æ®å±äºâ€œ1â€ç±»ã€‚åœ¨è®­ç»ƒé›†å¤§å°ä¸º 80%ï¼Œæµ‹è¯•æ•°æ®å¤§å°ä¸ºæ•°æ®é›†çš„ 20% çš„æƒ…å†µä¸‹è¿›è¡Œè®­ç»ƒ-æµ‹è¯•åˆ†å‰²ã€‚å¯èƒ½ä¼šå‘ç”Ÿâ€œ0â€ç±»çš„æ‰€æœ‰ 80% æ•°æ®éƒ½åœ¨è®­ç»ƒé›†ä¸­ï¼Œè€Œâ€œ1â€ç±»çš„æ‰€æœ‰æ•°æ®éƒ½åœ¨æµ‹è¯•é›†ä¸­ã€‚æ‰€ä»¥æˆ‘ä»¬çš„æ¨¡å‹ä¸èƒ½å¾ˆå¥½åœ°æ¦‚æ‹¬æˆ‘ä»¬çš„æµ‹è¯•æ•°æ®ï¼Œå› ä¸ºå®ƒä¹‹å‰æ²¡æœ‰çœ‹åˆ°è¿‡â€œ1â€ç±»çš„æ•°æ®ã€‚</p></li><li><p>å¤§é‡æ•°æ®æ— æ³•è®­ç»ƒæ¨¡å‹ã€‚</p></li></ol><p>åœ¨å°æ•°æ®é›†çš„æƒ…å†µä¸‹ï¼Œå°†ä¿ç•™ä¸€éƒ¨åˆ†ç”¨äºæµ‹è¯•æ¨¡å‹ï¼Œå…¶ä¸­å¯èƒ½å…·æœ‰æˆ‘ä»¬çš„æ¨¡å‹å¯èƒ½ä¼šé”™è¿‡çš„é‡è¦ç‰¹å¾ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å¯¹è¯¥æ•°æ®è¿›è¡Œè®­ç»ƒã€‚</p><p><strong>ä»£ç ç‰‡æ®µ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris <br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split <br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression <br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score<br>iris = load_iris()<br>X = iris.data<br>Y = iris.target <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Size of Dataset &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-built_in">len</span>(X)))<br>logreg = LogisticRegression()<br>x_train, x_test, y_train, y_test = train_test_split(X, Y, test_size=<span class="hljs-number">0.3</span>, random_state=<span class="hljs-number">42</span>)<br>logreg.fit(x_train, y_train)<br>predict = logreg.predict(x_test) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Accuracy score on training set is &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(accuracy_score(logreg.predict(x_train), y_train))) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Accuracy score on test set is &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(accuracy_score(predict, y_test)))<br></code></pre></td></tr></table></figure><blockquote><p>Â <img src="https://src2020.cnblogs.com/blog/2274220/202112/2274220-20211212122517173-1672251919.png"></p></blockquote><h2 id="2ã€K-æŠ˜äº¤å‰éªŒè¯"><a href="#2ã€K-æŠ˜äº¤å‰éªŒè¯" class="headerlink" title="2ã€K æŠ˜äº¤å‰éªŒè¯"></a>2ã€K æŠ˜äº¤å‰éªŒè¯</h2><p>åœ¨è¿™ç§ K æŠ˜äº¤å‰éªŒè¯æŠ€æœ¯ä¸­ï¼Œæ•´ä¸ªæ•°æ®é›†è¢«åˆ’åˆ†ä¸º K ä¸ªç›¸ç­‰å¤§å°çš„éƒ¨åˆ†ã€‚æ¯ä¸ªåˆ†åŒºç§°ä¸ºä¸€ä¸ªâ€œæŠ˜å â€ã€‚å› æ­¤ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰ K ä¸ªéƒ¨åˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°ä¹‹ä¸º K æŠ˜å ã€‚ä¸€æŠ˜ç”¨ä½œéªŒè¯é›†ï¼Œå…¶ä½™ K-1 æŠ˜ç”¨ä½œè®­ç»ƒé›†ã€‚</p><p>è¯¥æŠ€æœ¯é‡å¤ K æ¬¡ï¼Œç›´åˆ°æ¯ä¸ªæŠ˜å ç”¨ä½œéªŒè¯é›†ï¼Œå…¶ä½™æŠ˜å ç”¨ä½œè®­ç»ƒé›†ã€‚</p><p>æ¨¡å‹çš„æœ€ç»ˆç²¾åº¦æ˜¯é€šè¿‡å– k-models éªŒè¯æ•°æ®çš„å¹³å‡ç²¾åº¦æ¥è®¡ç®—çš„ã€‚<img src="/src/2274220-20211212113146944-1491600070.png" alt="å›¾ç‰‡"><strong>ä¼˜ç‚¹</strong></p><ol><li>æ•´ä¸ªæ•°æ®é›†æ—¢ç”¨ä½œè®­ç»ƒé›†åˆç”¨ä½œéªŒè¯é›†ï¼š</li></ol><p><strong>ç¼ºç‚¹</strong></p><ol><li><p>ä¸ç”¨äºä¸å¹³è¡¡çš„æ•°æ®é›†ï¼šæ­£å¦‚åœ¨ HoldOut äº¤å‰éªŒè¯çš„æƒ…å†µä¸‹æ‰€è®¨è®ºçš„ï¼Œåœ¨ K-Fold éªŒè¯çš„æƒ…å†µä¸‹ä¹Ÿå¯èƒ½å‘ç”Ÿè®­ç»ƒé›†çš„æ‰€æœ‰æ ·æœ¬éƒ½æ²¡æœ‰æ ·æœ¬å½¢å¼ç±»â€œ1â€ï¼Œå¹¶ä¸”åªæœ‰ ç±»â€œ0â€ã€‚éªŒè¯é›†å°†æœ‰ä¸€ä¸ªç±»â€œ1â€çš„æ ·æœ¬ã€‚</p></li><li><p>ä¸é€‚åˆæ—¶é—´åºåˆ—æ•°æ®ï¼šå¯¹äºæ—¶é—´åºåˆ—æ•°æ®ï¼Œæ ·æœ¬çš„é¡ºåºå¾ˆé‡è¦ã€‚ä½†æ˜¯åœ¨ K æŠ˜äº¤å‰éªŒè¯ä¸­ï¼Œæ ·æœ¬æ˜¯æŒ‰éšæœºé¡ºåºé€‰æ‹©çš„ã€‚</p></li></ol><p><strong>ä»£ç ç‰‡æ®µ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris <br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score,KFold <br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br>iris = load_iris()<br>X = iris.data<br>Y = iris.target<br>logreg = LogisticRegression()<br>kf = KFold(n_splits=<span class="hljs-number">5</span>)<br>score = cross_val_score(logreg, X, Y, cv=kf) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores are &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(score)) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average Cross Validation score :&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(score.mean()))<br></code></pre></td></tr></table></figure><h2 id="3ã€åˆ†å±‚-K-æŠ˜äº¤å‰éªŒè¯"><a href="#3ã€åˆ†å±‚-K-æŠ˜äº¤å‰éªŒè¯" class="headerlink" title="3ã€åˆ†å±‚ K æŠ˜äº¤å‰éªŒè¯"></a>3ã€åˆ†å±‚ K æŠ˜äº¤å‰éªŒè¯</h2><p>åˆ†å±‚ K-Fold æ˜¯ K-Fold äº¤å‰éªŒè¯çš„å¢å¼ºç‰ˆæœ¬ï¼Œä¸»è¦ç”¨äºä¸å¹³è¡¡çš„æ•°æ®é›†ã€‚å°±åƒ K-fold ä¸€æ ·ï¼Œæ•´ä¸ªæ•°æ®é›†è¢«åˆ†æˆå¤§å°ç›¸ç­‰çš„ K-foldã€‚</p><p>ä½†æ˜¯åœ¨è¿™ç§æŠ€æœ¯ä¸­ï¼Œæ¯ä¸ªæŠ˜å å°†å…·æœ‰ä¸æ•´ä¸ªæ•°æ®é›†ä¸­ç›¸åŒçš„ç›®æ ‡å˜é‡å®ä¾‹æ¯”ç‡ã€‚</p><p><img src="/src/2274220-20211212113147123-1500880612.png" alt="å›¾ç‰‡"><strong>ä¼˜ç‚¹</strong></p><ol><li>å¯¹äºä¸å¹³è¡¡æ•°æ®éå¸¸æœ‰æ•ˆï¼šåˆ†å±‚äº¤å‰éªŒè¯ä¸­çš„æ¯ä¸ªæŠ˜å éƒ½ä¼šä»¥ä¸æ•´ä¸ªæ•°æ®é›†ä¸­ç›¸åŒçš„æ¯”ç‡è¡¨ç¤ºæ‰€æœ‰ç±»åˆ«çš„æ•°æ®ã€‚</li></ol><p><strong>ç¼ºç‚¹</strong></p><ol><li>ä¸é€‚åˆæ—¶é—´åºåˆ—æ•°æ®ï¼šå¯¹äºæ—¶é—´åºåˆ—æ•°æ®ï¼Œæ ·æœ¬çš„é¡ºåºå¾ˆé‡è¦ã€‚ä½†åœ¨åˆ†å±‚äº¤å‰éªŒè¯ä¸­ï¼Œæ ·æœ¬æ˜¯æŒ‰éšæœºé¡ºåºé€‰æ‹©çš„ã€‚</li></ol><p><strong>ä»£ç ç‰‡æ®µ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris <br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score, StratifiedKFold <br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br>iris = load_iris()<br>X = iris.data<br>Y = iris.target<br>logreg = LogisticRegression()<br>stratifiedkf = StratifiedKFold(n_splits=<span class="hljs-number">5</span>)<br>score = cross_val_score(logreg, X, Y, cv=stratifiedkf) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores are &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(score)) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average Cross Validation score :&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(score.mean()))<br></code></pre></td></tr></table></figure><h2 id="4ã€Leave-P-Out-äº¤å‰éªŒè¯"><a href="#4ã€Leave-P-Out-äº¤å‰éªŒè¯" class="headerlink" title="4ã€Leave P Out Â äº¤å‰éªŒè¯"></a>4ã€Leave P Out Â äº¤å‰éªŒè¯</h2><p>Leave P Out äº¤å‰éªŒè¯æ˜¯ä¸€ç§è¯¦å°½çš„äº¤å‰éªŒè¯æŠ€æœ¯ï¼Œå…¶ä¸­ p æ ·æœ¬ç”¨ä½œéªŒè¯é›†ï¼Œå‰©ä½™çš„ np æ ·æœ¬ç”¨ä½œè®­ç»ƒé›†ã€‚</p><p>å‡è®¾æˆ‘ä»¬åœ¨æ•°æ®é›†ä¸­æœ‰ 100 ä¸ªæ ·æœ¬ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ p&#x3D;10ï¼Œé‚£ä¹ˆåœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œ10 ä¸ªå€¼å°†ç”¨ä½œéªŒè¯é›†ï¼Œå…¶ä½™ 90 ä¸ªæ ·æœ¬å°†ç”¨ä½œè®­ç»ƒé›†ã€‚</p><p>é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ•´ä¸ªæ•°æ®é›†åœ¨ p-æ ·æœ¬å’Œ n-p è®­ç»ƒæ ·æœ¬çš„éªŒè¯é›†ä¸Šè¢«åˆ’åˆ†ã€‚</p><p><strong>ä¼˜ç‚¹</strong></p><p>æ‰€æœ‰æ•°æ®æ ·æœ¬éƒ½ç”¨ä½œè®­ç»ƒå’ŒéªŒè¯æ ·æœ¬ã€‚</p><p><strong>ç¼ºç‚¹</strong></p><ol><li><p>è®¡ç®—æ—¶é—´é•¿ï¼šç”±äºä¸Šè¿°æŠ€æœ¯ä¼šä¸æ–­é‡å¤ï¼Œç›´åˆ°æ‰€æœ‰æ ·æœ¬éƒ½ç”¨ä½œéªŒè¯é›†ï¼Œå› æ­¤è®¡ç®—æ—¶é—´ä¼šæ›´é•¿ã€‚</p></li><li><p>ä¸é€‚åˆä¸å¹³è¡¡æ•°æ®é›†ï¼šä¸ K æŠ˜äº¤å‰éªŒè¯ç›¸åŒï¼Œå¦‚æœåœ¨è®­ç»ƒé›†ä¸­æˆ‘ä»¬åªæœ‰ 1 ä¸ªç±»çš„æ ·æœ¬ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ¨¡å‹å°†æ— æ³•æ¨å¹¿åˆ°éªŒè¯é›†ã€‚</p></li></ol><p><strong>ä»£ç ç‰‡æ®µ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> LeavePOut, cross_val_score <br><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris <br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestClassifier<br>iris = load_iris()<br>X = iris.data<br>Y = iris.target<br>lpo = LeavePOut(p=<span class="hljs-number">2</span>)<br>lpo.get_n_splits(X)<br>tree = RandomForestClassifier(n_estimators=<span class="hljs-number">10</span>, max_depth=<span class="hljs-number">5</span>, n_jobs=-<span class="hljs-number">1</span>)<br>score = cross_val_score(tree, X, Y, cv=lpo) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores are &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(score)) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average Cross Validation score :&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(score.mean()))<br></code></pre></td></tr></table></figure><h2 id="5ã€ç•™ä¸€äº¤å‰éªŒè¯"><a href="#5ã€ç•™ä¸€äº¤å‰éªŒè¯" class="headerlink" title="5ã€ç•™ä¸€äº¤å‰éªŒè¯"></a>5ã€ç•™ä¸€äº¤å‰éªŒè¯</h2><p>ç•™ä¸€äº¤å‰éªŒè¯æ˜¯ä¸€ç§è¯¦å°½çš„äº¤å‰éªŒè¯æŠ€æœ¯ï¼Œå…¶ä¸­ 1 ä¸ªæ ·æœ¬ç‚¹ç”¨ä½œéªŒè¯é›†ï¼Œå…¶ä½™ n-1 ä¸ªæ ·æœ¬ç”¨ä½œè®­ç»ƒé›†ã€‚</p><p>å‡è®¾æˆ‘ä»¬åœ¨æ•°æ®é›†ä¸­æœ‰ 100 ä¸ªæ ·æœ¬ã€‚ç„¶ååœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œ1 ä¸ªå€¼å°†ç”¨ä½œéªŒè¯é›†ï¼Œå…¶ä½™ 99 ä¸ªæ ·æœ¬ä½œä¸ºè®­ç»ƒé›†ã€‚å› æ­¤ï¼Œé‡å¤è¯¥è¿‡ç¨‹ï¼Œç›´åˆ°æ•°æ®é›†çš„æ¯ä¸ªæ ·æœ¬éƒ½ç”¨ä½œéªŒè¯ç‚¹ã€‚</p><p>å®ƒä¸ä½¿ç”¨ p&#x3D;1 çš„ LeavePOut äº¤å‰éªŒè¯ç›¸åŒã€‚<img src="/src/2274220-20211212113147240-1106296430.png" alt="å›¾ç‰‡"><strong>ã€Œä»£ç ç‰‡æ®µã€</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris <br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestClassifier <br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> LeaveOneOut, cross_val_score<br>iris = load_iris()<br>X = iris.data<br>Y = iris.target<br>loo = LeaveOneOut()<br>tree = RandomForestClassifier(n_estimators=<span class="hljs-number">10</span>, max_depth=<span class="hljs-number">5</span>, n_jobs=-<span class="hljs-number">1</span>)<br>score = cross_val_score(tree, X, Y, cv=loo) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores are &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(score)) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average Cross Validation score :&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(score.mean()))<br></code></pre></td></tr></table></figure><h2 id="6ã€è’™ç‰¹å¡ç½—äº¤å‰éªŒè¯ï¼ˆShuffle-Splitï¼‰"><a href="#6ã€è’™ç‰¹å¡ç½—äº¤å‰éªŒè¯ï¼ˆShuffle-Splitï¼‰" class="headerlink" title="6ã€è’™ç‰¹å¡ç½—äº¤å‰éªŒè¯ï¼ˆShuffle Splitï¼‰"></a>6ã€è’™ç‰¹å¡ç½—äº¤å‰éªŒè¯ï¼ˆShuffle Splitï¼‰</h2><p>è’™ç‰¹å¡ç½—äº¤å‰éªŒè¯ï¼Œä¹Ÿç§°ä¸ºShuffle Splitäº¤å‰éªŒè¯ï¼Œæ˜¯ä¸€ç§éå¸¸çµæ´»çš„äº¤å‰éªŒè¯ç­–ç•¥ã€‚åœ¨è¿™ç§æŠ€æœ¯ä¸­ï¼Œæ•°æ®é›†è¢«éšæœºåˆ’åˆ†ä¸ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚</p><p>æˆ‘ä»¬å·²ç»å†³å®šäº†è¦ç”¨ä½œè®­ç»ƒé›†çš„æ•°æ®é›†çš„ç™¾åˆ†æ¯”å’Œç”¨ä½œéªŒè¯é›†çš„ç™¾åˆ†æ¯”ã€‚å¦‚æœè®­ç»ƒé›†å’ŒéªŒè¯é›†å¤§å°çš„å¢åŠ ç™¾åˆ†æ¯”æ€»å’Œä¸æ˜¯ 100ï¼Œåˆ™å‰©ä½™çš„æ•°æ®é›†ä¸ä¼šç”¨äºè®­ç»ƒé›†æˆ–éªŒè¯é›†ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ 100 ä¸ªæ ·æœ¬ï¼Œå…¶ä¸­ 60% çš„æ ·æœ¬ç”¨ä½œè®­ç»ƒé›†ï¼Œ20% çš„æ ·æœ¬ç”¨ä½œéªŒè¯é›†ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„ 20%( 100-(60+20)) å°†ä¸è¢«ä½¿ç”¨ã€‚</p><p>è¿™ç§æ‹†åˆ†å°†é‡å¤æˆ‘ä»¬å¿…é¡»æŒ‡å®šçš„â€œnâ€æ¬¡ã€‚</p><p><img src="/src/2274220-20211212113146806-2032744793.png" alt="å›¾ç‰‡"><strong>ä¼˜ç‚¹</strong></p><p>1.æˆ‘ä»¬å¯ä»¥è‡ªç”±ä½¿ç”¨è®­ç»ƒå’ŒéªŒè¯é›†çš„å¤§å°ã€‚</p><p>2.æˆ‘ä»¬å¯ä»¥é€‰æ‹©é‡å¤çš„æ¬¡æ•°ï¼Œè€Œä¸ä¾èµ–äºé‡å¤çš„æŠ˜å æ¬¡æ•°ã€‚</p><p><strong>ç¼ºç‚¹</strong></p><ol><li><p>å¯èƒ½ä¸ä¼šä¸ºè®­ç»ƒé›†æˆ–éªŒè¯é›†é€‰æ‹©å¾ˆå°‘çš„æ ·æœ¬ã€‚</p></li><li><p>ä¸é€‚åˆä¸å¹³è¡¡çš„æ•°æ®é›†ï¼šåœ¨æˆ‘ä»¬å®šä¹‰äº†è®­ç»ƒé›†å’ŒéªŒè¯é›†çš„å¤§å°åï¼Œæ‰€æœ‰çš„æ ·æœ¬éƒ½æ˜¯éšæœºé€‰æ‹©çš„ï¼Œæ‰€ä»¥è®­ç»ƒé›†å¯èƒ½æ²¡æœ‰æµ‹è¯•ä¸­çš„æ•°æ®ç±»åˆ« è®¾ç½®ï¼Œå¹¶ä¸”è¯¥æ¨¡å‹å°†æ— æ³•æ¦‚æ‹¬ä¸ºçœ‹ä¸è§çš„æ•°æ®ã€‚</p></li></ol><p><strong>ä»£ç ç‰‡æ®µ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> ShuffleSplit, cross_val_score <br><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris <br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression  <br>iris = load_iris()<br>logreg = LogisticRegression()<br>shuffle_split = ShuffleSplit(test_size=<span class="hljs-number">0.3</span>, train_size=<span class="hljs-number">0.5</span>, n_splits=<span class="hljs-number">10</span>)<br>scores = cross_val_score(logreg, iris.data, iris.target, cv=shuffle_split) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;cross Validation scores:n &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(scores)) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average Cross Validation score :&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(scores.mean()))<br></code></pre></td></tr></table></figure><h2 id="7ã€æ—¶é—´åºåˆ—äº¤å‰éªŒè¯"><a href="#7ã€æ—¶é—´åºåˆ—äº¤å‰éªŒè¯" class="headerlink" title="7ã€æ—¶é—´åºåˆ—äº¤å‰éªŒè¯"></a>7ã€æ—¶é—´åºåˆ—äº¤å‰éªŒè¯</h2><p>ä»€ä¹ˆæ˜¯æ—¶é—´åºåˆ—æ•°æ®ï¼Ÿ</p><p>æ—¶é—´åºåˆ—æ•°æ®æ˜¯åœ¨ä¸åŒæ—¶é—´ç‚¹æ”¶é›†çš„æ•°æ®ã€‚ç”±äºæ•°æ®ç‚¹æ˜¯åœ¨ç›¸é‚»æ—¶é—´æ®µæ”¶é›†çš„ï¼Œå› æ­¤è§‚æµ‹å€¼ä¹‹é—´å¯èƒ½å­˜åœ¨ç›¸å…³æ€§ã€‚è¿™æ˜¯åŒºåˆ†æ—¶é—´åºåˆ—æ•°æ®ä¸æ¨ªæˆªé¢æ•°æ®çš„ç‰¹å¾ä¹‹ä¸€ã€‚</p><p>åœ¨æ—¶é—´åºåˆ—æ•°æ®çš„æƒ…å†µä¸‹å¦‚ä½•è¿›è¡Œäº¤å‰éªŒè¯ï¼Ÿ</p><p>åœ¨æ—¶é—´åºåˆ—æ•°æ®çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸èƒ½é€‰æ‹©éšæœºæ ·æœ¬å¹¶å°†å®ƒä»¬åˆ†é…ç»™è®­ç»ƒé›†æˆ–éªŒè¯é›†ï¼Œå› ä¸ºä½¿ç”¨æœªæ¥æ•°æ®ä¸­çš„å€¼æ¥é¢„æµ‹è¿‡å»æ•°æ®çš„å€¼æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p><p>ç”±äºæ•°æ®çš„é¡ºåºå¯¹äºæ—¶é—´åºåˆ—ç›¸å…³é—®é¢˜éå¸¸é‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬æ ¹æ®æ—¶é—´å°†æ•°æ®æ‹†åˆ†ä¸ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ï¼Œä¹Ÿç§°ä¸ºâ€œå‰å‘é“¾â€æ–¹æ³•æˆ–æ»šåŠ¨äº¤å‰éªŒè¯ã€‚</p><p>æˆ‘ä»¬ä»ä¸€å°éƒ¨åˆ†æ•°æ®ä½œä¸ºè®­ç»ƒé›†å¼€å§‹ã€‚åŸºäºè¯¥é›†åˆï¼Œæˆ‘ä»¬é¢„æµ‹ç¨åçš„æ•°æ®ç‚¹ï¼Œç„¶åæ£€æŸ¥å‡†ç¡®æ€§ã€‚</p><p>ç„¶åå°†é¢„æµ‹æ ·æœ¬ä½œä¸ºä¸‹ä¸€ä¸ªè®­ç»ƒæ•°æ®é›†çš„ä¸€éƒ¨åˆ†åŒ…æ‹¬åœ¨å†…ï¼Œå¹¶å¯¹åç»­æ ·æœ¬è¿›è¡Œé¢„æµ‹ã€‚</p><p><img src="/src/2274220-20211212113146957-262206822.png" alt="å›¾ç‰‡"><strong>ä¼˜ç‚¹</strong></p><p>æœ€å¥½çš„æŠ€æœ¯ä¹‹ä¸€ã€‚</p><p><strong>ç¼ºç‚¹</strong></p><p>ä¸é€‚ç”¨äºå…¶ä»–æ•°æ®ç±»å‹çš„éªŒè¯ï¼šä¸å…¶ä»–æŠ€æœ¯ä¸€æ ·ï¼Œæˆ‘ä»¬é€‰æ‹©éšæœºæ ·æœ¬ä½œä¸ºè®­ç»ƒæˆ–éªŒè¯é›†ï¼Œä½†åœ¨è¯¥æŠ€æœ¯ä¸­æ•°æ®çš„é¡ºåºéå¸¸é‡è¦ã€‚</p><p><strong>ä»£ç ç‰‡æ®µ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np <br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> TimeSeriesSplit<br>X = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])<br>y = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br>time_series = TimeSeriesSplit() <span class="hljs-built_in">print</span>(time_series) <br><span class="hljs-keyword">for</span> train_index, test_index <span class="hljs-keyword">in</span> time_series.split(X): <br>Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;TRAIN:&quot;</span>, train_index, <span class="hljs-string">&quot;TEST:&quot;</span>, test_index)<br>    X_train, X_test = X[train_index], X[test_index]<br>    y_train, y_test = y[train_index], y[test_index]<br></code></pre></td></tr></table></figure><p>_index]</p><pre><code class="hljs"></code></pre>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”Regularization</title>
    <link href="/2022/08/01/MachineLearning/Regularization/"/>
    <url>/2022/08/01/MachineLearning/Regularization/</url>
    
    <content type="html"><![CDATA[<p>ä¸ªäººè®¤ä¸ºæ­£åˆ™åŒ–è¿™ä¸ªå­—çœ¼æœ‰ç‚¹å¤ªè¿‡æŠ½è±¡å’Œå®½æ³›ï¼Œ<strong>å…¶å®æ­£åˆ™åŒ–çš„æœ¬è´¨å¾ˆç®€å•ï¼Œå°±æ˜¯å¯¹æŸä¸€é—®é¢˜åŠ ä»¥å…ˆéªŒçš„é™åˆ¶æˆ–çº¦æŸä»¥è¾¾åˆ°æŸç§ç‰¹å®šç›®çš„çš„ä¸€ç§æ‰‹æ®µæˆ–æ“ä½œã€‚åœ¨ç®—æ³•ä¸­ä½¿ç”¨æ­£åˆ™åŒ–çš„ç›®çš„æ˜¯é˜²æ­¢æ¨¡å‹å‡ºç°è¿‡æ‹Ÿåˆã€‚</strong>ä¸€æåˆ°æ­£åˆ™åŒ–ï¼Œå¾ˆå¤šåŒå­¦å¯èƒ½é©¬ä¸Šä¼šæƒ³åˆ°å¸¸ç”¨çš„L1èŒƒæ•°å’ŒL2èŒƒæ•°ï¼Œåœ¨æ±‡æ€»ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹LPèŒƒæ•°æ˜¯ä»€ä¹ˆé¬¼ã€‚</p><h1 id="LPèŒƒæ•°"><a href="#LPèŒƒæ•°" class="headerlink" title="LPèŒƒæ•°"></a>LPèŒƒæ•°</h1><p>å¯ä»¥å‚è€ƒ<a href="F:\notes\æœºå™¨å­¦ä¹ \Norm&Distance.md">Norm</a></p><p>èŒƒæ•°ç®€å•å¯ä»¥ç†è§£ä¸ºç”¨æ¥è¡¨å¾å‘é‡ç©ºé—´ä¸­çš„è·ç¦»ï¼Œè€Œè·ç¦»çš„å®šä¹‰å¾ˆæŠ½è±¡ï¼Œ<strong>åªè¦æ»¡è¶³éè´Ÿã€è‡ªåã€ä¸‰è§’ä¸ç­‰å¼å°±å¯ä»¥ç§°ä¹‹ä¸ºè·ç¦»ã€‚</strong></p><p>LPèŒƒæ•°ä¸æ˜¯ä¸€ä¸ªèŒƒæ•°ï¼Œè€Œæ˜¯ä¸€ç»„èŒƒæ•°ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š<br>$$<br>{\vert \vert x \vert \vert}_p &#x3D; (\sum^n_ix^p_i)^\frac{1}{p}<br>$$<br>pçš„èŒƒå›´æ˜¯[1,$+\infty$]ã€‚<strong>påœ¨(0,1)èŒƒå›´å†…å®šä¹‰çš„å¹¶ä¸æ˜¯èŒƒæ•°ï¼Œå› ä¸ºè¿åäº†ä¸‰è§’ä¸ç­‰å¼ã€‚</strong></p><p>æ ¹æ®pçš„å˜åŒ–ï¼ŒèŒƒæ•°ä¹Ÿæœ‰ç€ä¸åŒçš„å˜åŒ–ï¼Œå€Ÿç”¨ä¸€ä¸ªç»å…¸çš„æœ‰å…³PèŒƒæ•°çš„å˜åŒ–å›¾å¦‚ä¸‹ï¼š</p><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640743227862.webp" alt="å›¾ç‰‡"></p><p>ä¸Šå›¾è¡¨ç¤ºäº†pä»0åˆ°æ­£æ— ç©·å˜åŒ–æ—¶ï¼Œå•ä½çƒï¼ˆunit ballï¼‰çš„å˜åŒ–æƒ…å†µã€‚åœ¨PèŒƒæ•°ä¸‹å®šä¹‰çš„å•ä½çƒéƒ½æ˜¯å‡¸é›†ï¼Œä½†æ˜¯å½“0&lt;p&lt;1æ—¶ï¼Œè¯¥å®šä¹‰ä¸‹çš„å•ä½çƒä¸æ˜¯å‡¸é›†ï¼ˆè¿™ä¸ªæˆ‘ä»¬ä¹‹å‰æè¿‡ï¼Œå½“0&lt;p&lt;1æ—¶å¹¶ä¸æ˜¯èŒƒæ•°ï¼‰ã€‚</p><p>é‚£é—®é¢˜æ¥äº†ï¼ŒL0èŒƒæ•°æ˜¯å•¥ç©æ„ï¼Ÿ</p><p>L0èŒƒæ•°è¡¨ç¤ºå‘é‡ä¸­éé›¶å…ƒç´ çš„ä¸ªæ•°ï¼Œç”¨å…¬å¼è¡¨ç¤ºå¦‚ä¸‹ï¼š<br>$$<br>{\vert \vert x \vert \vert}_0&#x3D;\mathbb{I}(i|x \neq 0)<br>$$<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡æœ€å°åŒ–L0èŒƒæ•°ï¼Œæ¥å¯»æ‰¾æœ€å°‘æœ€ä¼˜çš„ç¨€ç–ç‰¹å¾é¡¹ã€‚ä½†ä¸å¹¸çš„æ˜¯ï¼Œ<strong>L0èŒƒæ•°çš„æœ€ä¼˜åŒ–é—®é¢˜æ˜¯ä¸€ä¸ªNP hardé—®é¢˜ï¼ˆL0èŒƒæ•°åŒæ ·æ˜¯éå‡¸çš„ï¼‰ã€‚å› æ­¤ï¼Œåœ¨å®é™…åº”ç”¨ä¸­æˆ‘ä»¬ç»å¸¸å¯¹L0è¿›è¡Œå‡¸æ¾å¼›ï¼Œç†è®ºä¸Šæœ‰è¯æ˜ï¼ŒL1èŒƒæ•°æ˜¯L0èŒƒæ•°çš„æœ€ä¼˜å‡¸è¿‘ä¼¼ï¼Œå› æ­¤é€šå¸¸ä½¿ç”¨L1èŒƒæ•°æ¥ä»£æ›¿ç›´æ¥ä¼˜åŒ–L0èŒƒæ•°ã€‚</strong></p><h2 id="L1èŒƒæ•°"><a href="#L1èŒƒæ•°" class="headerlink" title="L1èŒƒæ•°"></a>L1èŒƒæ•°</h2><p>æ ¹æ®LPèŒƒæ•°çš„å®šä¹‰æˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„å¾—åˆ°L1èŒƒæ•°çš„æ•°å­¦å½¢å¼ï¼š<br>$$<br>{\vert \vert x \vert \vert}_1 &#x3D; \sum^n_i \vert x \vert<br>$$<br>é€šè¿‡ä¸Šå¼å¯ä»¥çœ‹åˆ°ï¼ŒL1èŒƒæ•°å°±æ˜¯å‘é‡å„å…ƒç´ çš„ç»å¯¹å€¼ä¹‹å’Œï¼Œä¹Ÿè¢«ç§°ä¸ºæ˜¯â€ç¨€ç–è§„åˆ™ç®—å­â€ï¼ˆLasso regularizationï¼‰ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬å¸Œæœ›ç¨€ç–åŒ–ï¼Ÿç¨€ç–åŒ–æœ‰å¾ˆå¤šå¥½å¤„ï¼Œæœ€ç›´æ¥çš„ä¸¤ä¸ªï¼š</p><ul><li><strong>ç‰¹å¾é€‰æ‹©</strong></li><li><strong>å¯è§£é‡Šæ€§</strong></li></ul><h2 id="L2èŒƒæ•°"><a href="#L2èŒƒæ•°" class="headerlink" title="L2èŒƒæ•°"></a>L2èŒƒæ•°</h2><p>L2èŒƒæ•°æ˜¯æœ€ç†Ÿæ‚‰çš„ï¼Œå®ƒå°±æ˜¯æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œå…¬å¼å¦‚ä¸‹ï¼š<br>$$<br>{\vert \vert x \vert \vert}_2 &#x3D; (\sum^n_ix^2_i)^\frac{1}{2}<br>$$<br>L2èŒƒæ•°æœ‰å¾ˆå¤šåç§°ï¼Œæœ‰äººæŠŠå®ƒçš„å›å½’å«â€œå²­å›å½’â€ï¼ˆRidge Regressionï¼‰ï¼Œä¹Ÿæœ‰äººå«å®ƒâ€œæƒå€¼è¡°å‡â€ï¼ˆWeight Decayï¼‰ã€‚<strong>ä»¥L2èŒƒæ•°ä½œä¸ºæ­£åˆ™é¡¹å¯ä»¥å¾—åˆ°ç¨ å¯†è§£ï¼Œå³æ¯ä¸ªç‰¹å¾å¯¹åº”çš„å‚æ•°wéƒ½å¾ˆå°ï¼Œæ¥è¿‘äº0ä½†æ˜¯ä¸ä¸º0ï¼›æ­¤å¤–ï¼ŒL2èŒƒæ•°ä½œä¸ºæ­£åˆ™åŒ–é¡¹ï¼Œå¯ä»¥é˜²æ­¢æ¨¡å‹ä¸ºäº†è¿åˆè®­ç»ƒé›†è€Œè¿‡äºå¤æ‚é€ æˆè¿‡æ‹Ÿåˆçš„æƒ…å†µï¼Œä»è€Œæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</strong></p><h2 id="L1èŒƒæ•°å’ŒL2èŒƒæ•°çš„åŒºåˆ«"><a href="#L1èŒƒæ•°å’ŒL2èŒƒæ•°çš„åŒºåˆ«" class="headerlink" title="L1èŒƒæ•°å’ŒL2èŒƒæ•°çš„åŒºåˆ«"></a>L1èŒƒæ•°å’ŒL2èŒƒæ•°çš„åŒºåˆ«</h2><p>L1èŒƒæ•°å¯ä»¥å¯¼è‡´ç¨€ç–è§£ï¼ŒL2èŒƒæ•°å¯¼è‡´ç¨ å¯†è§£ã€‚</p><p>ä»è´å¶æ–¯å…ˆéªŒçš„è§’åº¦çœ‹ï¼Œå½“è®­ç»ƒä¸€ä¸ªæ¨¡å‹æ—¶ï¼Œä»…ä¾é å½“å‰çš„è®­ç»ƒæ•°æ®é›†æ˜¯ä¸å¤Ÿçš„ï¼Œä¸ºäº†å®ç°æ›´å¥½çš„æ³›åŒ–èƒ½åŠ›ï¼Œå¾€å¾€éœ€è¦åŠ å…¥å…ˆéªŒé¡¹ï¼Œè€ŒåŠ å…¥æ­£åˆ™é¡¹ç›¸å½“äºåŠ å…¥äº†ä¸€ç§å…ˆéªŒã€‚</p><ul><li><strong>L1èŒƒæ•°ç›¸å½“äºåŠ å…¥äº†ä¸€ä¸ªLaplaceanå…ˆéªŒï¼›</strong></li><li><strong>L2èŒƒæ•°ç›¸å½“äºåŠ å…¥äº†ä¸€ä¸ªGaussianå…ˆéªŒã€‚</strong></li></ul><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640743227869.webp" alt="å›¾ç‰‡"></p><p>ä»æ•°å­¦è§’åº¦æ¥è§£é‡Šè¿™æ–¹é¢çš„ä¸œè¥¿ï¼Œä½¿ç”¨$L_2$èŒƒæ•°çš„ä¸€ä¸ªåŸå› æ˜¯å®ƒå¯¹æƒé‡å‘é‡çš„å¤§åˆ†é‡æ–½åŠ äº†å·¨å¤§çš„æƒ©ç½šã€‚ è¿™ä½¿å¾—æˆ‘ä»¬çš„å­¦ä¹ ç®—æ³•åå‘äºåœ¨å¤§é‡ç‰¹å¾ä¸Šå‡åŒ€åˆ†å¸ƒæƒé‡çš„æ¨¡å‹ã€‚ åœ¨å®è·µä¸­ï¼Œè¿™å¯èƒ½ä½¿å®ƒä»¬å¯¹å•ä¸ªå˜é‡ä¸­çš„è§‚æµ‹è¯¯å·®æ›´ä¸ºç¨³å®šã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼Œ$L_1$æƒ©ç½šä¼šå¯¼è‡´æ¨¡å‹å°†æƒé‡é›†ä¸­åœ¨ä¸€å°éƒ¨åˆ†ç‰¹å¾ä¸Šï¼Œ è€Œå°†å…¶ä»–æƒé‡æ¸…é™¤ä¸ºé›¶ã€‚ è¿™ç§°ä¸º<em>ç‰¹å¾é€‰æ‹©</em>ï¼Œè¿™å¯èƒ½æ˜¯å…¶ä»–åœºæ™¯ä¸‹éœ€è¦çš„ã€‚</p><h1 id="Dropout"><a href="#Dropout" class="headerlink" title="Dropout"></a>Dropout</h1><p>æˆ‘ä»¬ä»‹ç»äº†é€šè¿‡æƒ©ç½šæƒé‡çš„$L_2$èŒƒæ•°æ¥æ­£åˆ™åŒ–ç»Ÿè®¡æ¨¡å‹çš„ç»å…¸æ–¹æ³•ã€‚ åœ¨æ¦‚ç‡è§’åº¦çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹è®ºè¯æ¥è¯æ˜è¿™ä¸€æŠ€æœ¯çš„åˆç†æ€§ï¼š æˆ‘ä»¬å·²ç»å‡è®¾äº†ä¸€ä¸ªå…ˆéªŒï¼Œå³æƒé‡çš„å€¼å–è‡ªå‡å€¼ä¸º0çš„é«˜æ–¯åˆ†å¸ƒã€‚ æ›´ç›´è§‚çš„æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›æ¨¡å‹æ·±åº¦æŒ–æ˜ç‰¹å¾ï¼Œå³å°†å…¶æƒé‡åˆ†æ•£åˆ°è®¸å¤šç‰¹å¾ä¸­ï¼Œ è€Œä¸æ˜¯è¿‡äºä¾èµ–å°‘æ•°æ½œåœ¨çš„è™šå‡å…³è”ã€‚</p><p>å½“é¢å¯¹æ›´å¤šçš„ç‰¹å¾è€Œæ ·æœ¬ä¸è¶³æ—¶ï¼Œçº¿æ€§æ¨¡å‹å¾€å¾€ä¼šè¿‡æ‹Ÿåˆã€‚ ç›¸åï¼Œå½“ç»™å‡ºæ›´å¤šæ ·æœ¬è€Œä¸æ˜¯ç‰¹å¾ï¼Œé€šå¸¸çº¿æ€§æ¨¡å‹ä¸ä¼šè¿‡æ‹Ÿåˆã€‚ ä¸å¹¸çš„æ˜¯ï¼Œçº¿æ€§æ¨¡å‹æ³›åŒ–çš„å¯é æ€§æ˜¯æœ‰ä»£ä»·çš„ã€‚ ç®€å•åœ°è¯´ï¼Œçº¿æ€§æ¨¡å‹æ²¡æœ‰è€ƒè™‘åˆ°ç‰¹å¾ä¹‹é—´çš„äº¤äº’ä½œç”¨ã€‚ å¯¹äºæ¯ä¸ªç‰¹å¾ï¼Œçº¿æ€§æ¨¡å‹å¿…é¡»æŒ‡å®šæ­£çš„æˆ–è´Ÿçš„æƒé‡ï¼Œè€Œå¿½ç•¥å…¶ä»–ç‰¹å¾ã€‚</p><p>æ³›åŒ–æ€§å’Œçµæ´»æ€§ä¹‹é—´çš„è¿™ç§åŸºæœ¬æƒè¡¡è¢«æè¿°ä¸º<em>åå·®-æ–¹å·®æƒè¡¡</em>ï¼ˆbias-variance tradeoffï¼‰ã€‚ çº¿æ€§æ¨¡å‹æœ‰å¾ˆé«˜çš„åå·®ï¼šå®ƒä»¬åªèƒ½è¡¨ç¤ºä¸€å°ç±»å‡½æ•°ã€‚ ç„¶è€Œï¼Œè¿™äº›æ¨¡å‹çš„æ–¹å·®å¾ˆä½ï¼šå®ƒä»¬åœ¨ä¸åŒçš„éšæœºæ•°æ®æ ·æœ¬ä¸Šå¯ä»¥å¾—å‡ºäº†ç›¸ä¼¼çš„ç»“æœã€‚</p><p><strong>æ·±åº¦ç¥ç»ç½‘ç»œ</strong>ä½äºåå·®-æ–¹å·®è°±çš„å¦ä¸€ç«¯ã€‚ ä¸çº¿æ€§æ¨¡å‹ä¸åŒï¼Œç¥ç»ç½‘ç»œå¹¶ä¸å±€é™äºå•ç‹¬æŸ¥çœ‹æ¯ä¸ªç‰¹å¾ï¼Œè€Œæ˜¯å­¦ä¹ ç‰¹å¾ä¹‹é—´çš„äº¤äº’ã€‚</p><p>Dropoutæ˜¯æ·±åº¦å­¦ä¹ ä¸­ç»å¸¸é‡‡ç”¨çš„ä¸€ç§æ­£åˆ™åŒ–æ–¹æ³•ã€‚å®ƒçš„åšæ³•å¯ä»¥ç®€å•çš„ç†è§£ä¸ºåœ¨DNNsè®­ç»ƒçš„è¿‡ç¨‹ä¸­ä»¥æ¦‚ç‡pä¸¢å¼ƒéƒ¨åˆ†ç¥ç»å…ƒï¼Œå³ä½¿å¾—è¢«ä¸¢å¼ƒçš„ç¥ç»å…ƒè¾“å‡ºä¸º0ã€‚Dropoutå¯ä»¥å®ä¾‹åŒ–çš„è¡¨ç¤ºä¸ºä¸‹å›¾ï¼š</p><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640743227877.webp" alt="å›¾ç‰‡"></p><p>æˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢å»ç›´è§‚åœ°ç†è§£Dropoutçš„æ­£åˆ™åŒ–æ•ˆæœï¼š</p><ul><li>åœ¨Dropoutæ¯ä¸€è½®è®­ç»ƒè¿‡ç¨‹ä¸­éšæœºä¸¢å¤±ç¥ç»å…ƒçš„æ“ä½œç›¸å½“äºå¤šä¸ªDNNsè¿›è¡Œå–å¹³å‡ï¼Œå› æ­¤ç”¨äºé¢„æµ‹å…·æœ‰voteçš„æ•ˆæœã€‚</li><li><strong>å‡å°‘ç¥ç»å…ƒä¹‹é—´å¤æ‚çš„å…±é€‚åº”æ€§ã€‚å½“éšè—å±‚ç¥ç»å…ƒè¢«éšæœºåˆ é™¤ä¹‹åï¼Œä½¿å¾—å…¨è¿æ¥ç½‘ç»œå…·æœ‰äº†ä¸€å®šçš„ç¨€ç–åŒ–ï¼Œä»è€Œæœ‰æ•ˆåœ°å‡è½»äº†ä¸åŒç‰¹å¾çš„ååŒæ•ˆåº”ã€‚</strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰äº›ç‰¹å¾å¯èƒ½ä¼šä¾èµ–äºå›ºå®šå…³ç³»çš„éšå«èŠ‚ç‚¹çš„å…±åŒä½œç”¨ï¼Œè€Œé€šè¿‡Dropoutçš„è¯ï¼Œå°±æœ‰æ•ˆåœ°ç»„ç»‡äº†æŸäº›ç‰¹å¾åœ¨å…¶ä»–ç‰¹å¾å­˜åœ¨ä¸‹æ‰æœ‰æ•ˆæœçš„æƒ…å†µï¼Œå¢åŠ äº†ç¥ç»ç½‘ç»œçš„é²æ£’æ€§ã€‚</li></ul><p>Dropoutä¼šç”¨äºåœ¨å±‚(å¤šåŠæ˜¯å…¨è¿æ¥å±‚)ä¹‹é—´äº§ç”Ÿå™ªå£°ï¼Œä½†æ˜¯å¹¶ä¸å¸Œæœ›æ”¹å˜åŸæœ‰çš„æœŸæœ›æ‰€ä»¥äº§ç”Ÿçš„å™ªéŸ³$\xi \sim N(0, \sigma^2)$ï¼Œå¯¹åŸæœ‰çš„è¾“å‡ºè¿›è¡Œå˜åŒ–$xâ€™ &#x3D; x + \xi$,ä»è€Œäº§ç”Ÿæ‰°åŠ¨ï¼Œé¢„æœŸæ˜¯$E[xâ€™]&#x3D;x$ã€‚</p><p>åœ¨æ ‡å‡†æš‚é€€æ³•æ­£åˆ™åŒ–ä¸­ï¼Œé€šè¿‡æŒ‰ä¿ç•™ï¼ˆæœªä¸¢å¼ƒï¼‰çš„èŠ‚ç‚¹çš„åˆ†æ•°è¿›è¡Œè§„èŒƒåŒ–æ¥æ¶ˆé™¤æ¯ä¸€å±‚çš„åå·®ã€‚ æ¢è¨€ä¹‹ï¼Œæ¯ä¸ªä¸­é—´æ´»æ€§å€¼$h$ä»¥<em>æš‚é€€æ¦‚ç‡</em>$p$ç”±éšæœºå˜é‡$hâ€™$æ›¿æ¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br>$$<br>hâ€™&#x3D;\left{\begin{array}{ll}<br>        {0} &amp; {\text {è¯¥ç‚¹æ¦‚ç‡ä¸ºp}} \<br>        {\frac{h}{1-p}} &amp; {\text { otherwise }}<br>        \end{array}\right.<br>$$<br>æ ¹æ®æ­¤æ¨¡å‹çš„è®¾è®¡ï¼Œå…¶æœŸæœ›å€¼ä¿æŒä¸å˜ï¼Œå³$E[hâ€™]&#x3D;h$</p><p>æ‰€ä»¥ç»è¿‡Dropoutåçš„å±‚$h$è¾“å‡ºçš„æœŸæœ›ä¸å˜ï¼Œå±‚å†…æ¯ä¸ªèŠ‚ç‚¹$x$è¾“å‡ºçš„æœŸæœ›ä¸å˜</p><h1 id="å½’ä¸€åŒ–ã€æ ‡å‡†åŒ–-amp-æ­£åˆ™åŒ–"><a href="#å½’ä¸€åŒ–ã€æ ‡å‡†åŒ–-amp-æ­£åˆ™åŒ–" class="headerlink" title="å½’ä¸€åŒ–ã€æ ‡å‡†åŒ– &amp; æ­£åˆ™åŒ–"></a>å½’ä¸€åŒ–ã€æ ‡å‡†åŒ– &amp; æ­£åˆ™åŒ–</h1><p>æ­£åˆ™åŒ–æˆ‘ä»¬ä»¥åŠæåˆ°è¿‡äº†ï¼Œè¿™é‡Œç®€å•æä¸€ä¸‹å½’ä¸€åŒ–å’Œæ ‡å‡†åŒ–ã€‚</p><p>å½’ä¸€åŒ–ï¼ˆNormalizationï¼‰ï¼šå½’ä¸€åŒ–çš„ç›®æ ‡æ˜¯æ‰¾åˆ°æŸç§æ˜ å°„å…³ç³»ï¼Œå°†åŸæ•°æ®æ˜ å°„åˆ°[a,b]åŒºé—´ä¸Šã€‚ä¸€èˆ¬aï¼Œbä¼šå–[-1,1]ï¼Œ[0,1]è¿™äº›ç»„åˆ ã€‚</p><p>ä¸€èˆ¬æœ‰ä¸¤ç§åº”ç”¨åœºæ™¯ï¼š</p><ul><li><strong>æŠŠæ•°å˜ä¸º(0, 1)ä¹‹é—´çš„å°æ•°</strong></li><li><strong>æŠŠæœ‰é‡çº²çš„æ•°è½¬åŒ–ä¸ºæ— é‡çº²çš„æ•°</strong></li></ul><p>å¸¸ç”¨min-max normalizationï¼š</p><p><strong>æ ‡å‡†åŒ–ï¼ˆStandardizationï¼‰ï¼šç”¨å¤§æ•°å®šç†å°†æ•°æ®è½¬åŒ–ä¸ºä¸€ä¸ªæ ‡å‡†æ­£æ€åˆ†å¸ƒ</strong>ï¼Œæ ‡å‡†åŒ–å…¬å¼ä¸ºï¼š<br>$$<br>x^{â€˜} &#x3D; \frac{x-\mu}{\sigma}<br>$$<br><strong>å½’ä¸€åŒ–å’Œæ ‡å‡†åŒ–çš„åŒºåˆ«ï¼š</strong></p><p>æˆ‘ä»¬å¯ä»¥è¿™æ ·ç®€å•åœ°è§£é‡Šï¼š</p><p><strong>å½’ä¸€åŒ–çš„ç¼©æ”¾æ˜¯â€œæ‹æ‰â€ç»Ÿä¸€åˆ°åŒºé—´ï¼ˆä»…ç”±æå€¼å†³å®šï¼‰ï¼Œè€Œæ ‡å‡†åŒ–çš„ç¼©æ”¾æ˜¯æ›´åŠ â€œå¼¹æ€§â€å’Œâ€œåŠ¨æ€â€çš„ï¼Œå’Œæ•´ä½“æ ·æœ¬çš„åˆ†å¸ƒæœ‰å¾ˆå¤§çš„å…³ç³»ã€‚</strong></p><p>å€¼å¾—æ³¨æ„ï¼š</p><p>å½’ä¸€åŒ–ï¼šç¼©æ”¾ä»…ä»…è·Ÿæœ€å¤§ã€æœ€å°å€¼çš„å·®åˆ«æœ‰å…³ã€‚</p><p>æ ‡å‡†åŒ–ï¼šç¼©æ”¾å’Œæ¯ä¸ªç‚¹éƒ½æœ‰å…³ç³»ï¼Œé€šè¿‡æ–¹å·®ï¼ˆvarianceï¼‰ä½“ç°å‡ºæ¥ã€‚ä¸å½’ä¸€åŒ–å¯¹æ¯”ï¼Œæ ‡å‡†åŒ–ä¸­æ‰€æœ‰æ•°æ®ç‚¹éƒ½æœ‰è´¡çŒ®ï¼ˆé€šè¿‡å‡å€¼å’Œæ ‡å‡†å·®é€ æˆå½±å“ï¼‰ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¦æ ‡å‡†åŒ–å’Œå½’ä¸€åŒ–ï¼Ÿ</strong></p><ul><li><strong>æå‡æ¨¡å‹ç²¾åº¦ï¼š</strong>å½’ä¸€åŒ–åï¼Œä¸åŒç»´åº¦ä¹‹é—´çš„ç‰¹å¾åœ¨æ•°å€¼ä¸Šæœ‰ä¸€å®šæ¯”è¾ƒæ€§ï¼Œå¯ä»¥å¤§å¤§æé«˜åˆ†ç±»å™¨çš„å‡†ç¡®æ€§ã€‚</li><li><strong>åŠ é€Ÿæ¨¡å‹æ”¶æ•›ï¼š</strong>æ ‡å‡†åŒ–åï¼Œæœ€ä¼˜è§£çš„å¯»ä¼˜è¿‡ç¨‹æ˜æ˜¾ä¼šå˜å¾—å¹³ç¼“ï¼Œæ›´å®¹æ˜“æ­£ç¡®çš„æ”¶æ•›åˆ°æœ€ä¼˜è§£ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ul><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640743227884.webp" alt="å›¾ç‰‡"></p><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640743227893.webp" alt="å›¾ç‰‡"></p><h1 id="Batch-Normalization"><a href="#Batch-Normalization" class="headerlink" title="Batch Normalization"></a>Batch Normalization</h1><h2 id="ä»€ä¹ˆæ˜¯Batch-Normalization"><a href="#ä»€ä¹ˆæ˜¯Batch-Normalization" class="headerlink" title="ä»€ä¹ˆæ˜¯Batch Normalization"></a>ä»€ä¹ˆæ˜¯Batch Normalization</h2><p>æ‰¹è§„èŒƒåŒ–ï¼ˆBatch Normalizationï¼‰ä¸¥æ ¼æ„ä¹‰ä¸Šè®²å±äºå½’ä¸€åŒ–æ‰‹æ®µï¼Œä¸»è¦ç”¨äºåŠ é€Ÿç½‘ç»œçš„æ”¶æ•›ï¼Œä½†ä¹Ÿå…·æœ‰ä¸€å®šç¨‹åº¦çš„æ­£åˆ™åŒ–æ•ˆæœã€‚</p><p>è¿™é‡Œå€Ÿé‰´ä¸‹é­ç§€å‚åšå£«çš„çŸ¥ä¹å›ç­”ä¸­å¯¹covariate shiftçš„è§£é‡Šã€‚</p><blockquote><p><strong>å¤§å®¶éƒ½çŸ¥é“åœ¨ç»Ÿè®¡æœºå™¨å­¦ä¹ ä¸­çš„ä¸€ä¸ªç»å…¸å‡è®¾æ˜¯â€œæºç©ºé—´ï¼ˆsource domainï¼‰å’Œç›®æ ‡ç©ºé—´ï¼ˆtarget domainï¼‰çš„æ•°æ®åˆ†å¸ƒï¼ˆdistributionï¼‰æ˜¯ä¸€è‡´çš„â€ã€‚</strong>å¦‚æœä¸ä¸€è‡´ï¼Œé‚£ä¹ˆå°±å‡ºç°äº†æ–°çš„æœºå™¨å­¦ä¹ é—®é¢˜ï¼Œå¦‚transfer learning&#x2F;domain adaptationç­‰ã€‚è€Œcovariate shiftå°±æ˜¯åˆ†å¸ƒä¸ä¸€è‡´å‡è®¾ä¹‹ä¸‹çš„ä¸€ä¸ªåˆ†æ”¯é—®é¢˜ï¼Œå®ƒæ˜¯æŒ‡æºç©ºé—´å’Œç›®æ ‡ç©ºé—´çš„æ¡ä»¶æ¦‚ç‡æ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯å…¶è¾¹ç¼˜æ¦‚ç‡ä¸åŒã€‚å¤§å®¶ç»†æƒ³ä¾¿ä¼šå‘ç°ï¼Œçš„ç¡®ï¼Œå¯¹äºç¥ç»ç½‘ç»œçš„å„å±‚è¾“å‡ºï¼Œç”±äºå®ƒä»¬ç»è¿‡äº†å±‚å†…æ“ä½œä½œç”¨ï¼Œå…¶åˆ†å¸ƒæ˜¾ç„¶ä¸å„å±‚å¯¹åº”çš„è¾“å…¥ä¿¡å·åˆ†å¸ƒä¸åŒï¼Œè€Œä¸”å·®å¼‚ä¼šéšç€ç½‘ç»œæ·±åº¦å¢å¤§è€Œå¢å¤§ï¼Œå¯æ˜¯å®ƒä»¬æ‰€èƒ½â€œæŒ‡ç¤ºâ€çš„æ ·æœ¬æ ‡è®°ï¼ˆlabelï¼‰ä»ç„¶æ˜¯ä¸å˜çš„ï¼Œè¿™ä¾¿ç¬¦åˆäº†covariate shiftçš„å®šä¹‰ã€‚</p><p>BNçš„åŸºæœ¬æ€æƒ³å…¶å®ç›¸å½“ç›´è§‚ï¼Œå› ä¸ºç¥ç»ç½‘ç»œåœ¨åšéçº¿æ€§å˜æ¢å‰çš„æ¿€æ´»è¾“å…¥å€¼ï¼ˆX &#x3D; WU + Bï¼ŒUæ˜¯è¾“å…¥ï¼‰ï¼Œéšç€ç½‘ç»œæ·±åº¦åŠ æ·±ï¼Œå…¶åˆ†å¸ƒé€æ¸å‘ç”Ÿåç§»æˆ–è€…å˜åŠ¨ï¼ˆå³ä¸Šè¿°çš„covariate shiftï¼‰ã€‚ä¹‹æ‰€ä»¥è®­ç»ƒæ”¶æ•›æ…¢ï¼Œä¸€èˆ¬æ˜¯æ•´ä½“åˆ†å¸ƒé€æ¸å¾€éçº¿æ€§å‡½æ•°çš„å–å€¼åŒºé—´çš„ä¸Šä¸‹é™ä¸¤ç«¯é è¿‘ï¼ˆå¯¹äºSigmoidå‡½æ•°æ¥è¯´ï¼Œæ„å‘³ç€æ¿€æ´»è¾“å…¥å€¼ï¼ˆX &#x3D; WU + Bï¼‰æ˜¯å¤§çš„è´Ÿå€¼å’Œæ­£å€¼ã€‚æ‰€ä»¥è¿™å¯¼è‡´åå‘ä¼ æ’­æ—¶ä½å±‚ç¥ç»ç½‘ç»œçš„æ¢¯åº¦æ¶ˆå¤±ï¼Œè¿™æ˜¯è®­ç»ƒæ·±å±‚ç¥ç»ç½‘ç»œæ”¶æ•›è¶Šæ¥è¶Šæ…¢çš„æœ¬è´¨åŸå› ã€‚<strong>è€Œ BN å°±æ˜¯é€šè¿‡ä¸€å®šçš„è§„èŒƒåŒ–æ‰‹æ®µï¼ŒæŠŠæ¯å±‚ç¥ç»ç½‘ç»œä»»æ„ç¥ç»å…ƒè¿™ä¸ªè¾“å…¥å€¼çš„åˆ†å¸ƒå¼ºè¡Œæ‹‰å›åˆ°å‡å€¼ä¸º0æ–¹å·®ä¸º1çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œé¿å…å› ä¸ºæ¿€æ´»å‡½æ•°å¯¼è‡´çš„æ¢¯åº¦å¼¥æ•£é—®é¢˜ã€‚æ‰€ä»¥ä¸å…¶è¯´BNçš„ä½œç”¨æ˜¯ç¼“è§£covariate shiftï¼Œå€’ä¸å¦‚è¯´BNå¯ç¼“è§£æ¢¯åº¦å¼¥æ•£é—®é¢˜ã€‚</strong></p></blockquote><p>è°·æ­Œåœ¨2015å¹´å°±æå‡ºäº†Batch Normalization(BN)ï¼Œè¯¥æ–¹æ³•å¯¹æ¯ä¸ªmini-batchéƒ½è¿›è¡Œnormalizeï¼Œä¸‹å›¾æ˜¯BNçš„è®¡ç®—æ–¹å¼ï¼Œä¼šæŠŠmini-batchä¸­çš„æ•°æ®æ­£è§„åŒ–åˆ°å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ï¼ŒåŒæ—¶è¿˜å¼•å…¥äº†ä¸¤ä¸ªå¯ä»¥å­¦çš„å‚æ•°ï¼Œåˆ†åˆ«ä¸ºscaleå’Œshiftï¼Œè®©æ¨¡å‹å­¦ä¹ å…¶é€‚åˆçš„åˆ†å¸ƒã€‚</p><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746074269.webp" alt="å›¾ç‰‡"></p><p>  <strong>é‚£ä¹ˆä¸ºä»€ä¹ˆåœ¨åšè¿‡æ­£è§„åŒ–åï¼Œåˆè¦scaleå’Œshiftå‘¢ï¼Ÿ</strong></p><p>  å½“é€šè¿‡æ­£è§„åŒ–åï¼ŒæŠŠå°ºåº¦ç¼©æ”¾åˆ°0å‡å€¼ï¼Œå†scaleå’Œshiftï¼Œä¸æ˜¯æœ‰å¯èƒ½æŠŠæ•°æ®å˜å›â€åŸæ ·â€ï¼Ÿå› ä¸ºscaleå’Œshiftæ˜¯æ¨¡å‹è‡ªåŠ¨å­¦ä¹ çš„ï¼Œç¥ç»ç½‘ç»œå¯ä»¥è‡ªå·±ç¢ç£¨å‰é¢çš„æ­£è§„åŒ–æœ‰æ²¡æœ‰èµ·åˆ°ä¼˜åŒ–ä½œç”¨ï¼Œæ²¡æœ‰çš„è¯å°±â€åâ€æ­£è§„åŒ–ï¼ŒæŠµæ¶ˆä¹‹å‰çš„æ­£è§„åŒ–æ“ä½œå¸¦æ¥çš„å½±å“ã€‚</p><p>  BatchNormalizationæ˜¯å¯¹<strong>ä¸€æ‰¹æ ·æœ¬</strong>è¿›è¡Œå¤„ç†, å¯¹ä¸€æ‰¹æ ·æœ¬çš„<strong>æ¯ä¸ªç‰¹å¾</strong>åˆ†åˆ«è¿›è¡Œå½’ä¸€åŒ–,ä¸¾ä¸ªç®€å•çš„ä¾‹å­,åŠ å…¥æˆ‘æœ‰ä¸€æ‰¹æ ·æœ¬, æ¯ä¸ªæ ·æœ¬æœ‰ä¸‰ä¸ªç‰¹å¾,,åˆ†åˆ«æ˜¯èº«é«˜,ä½“é‡,å¹´é¾„,é‚£ä¹ˆæˆ‘åšå½’ä¸€åŒ–çš„æ—¶å€™,å°±æ˜¯å¯¹ä½“é‡åšå½’ä¸€åŒ–,å¯¹èº«é«˜åšå½’ä¸€åŒ–,å¯¹å¹´é¾„åšå½’ä¸€åŒ–,ä¸‰è€…ä¹‹é—´ä¸ä¼šæœ‰äº¤å‰å½±å“ã€‚</p><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746074268.webp" alt="å›¾ç‰‡"></p><h2 id="ä»€ä¹ˆæ˜¯LayerNormalization"><a href="#ä»€ä¹ˆæ˜¯LayerNormalization" class="headerlink" title="ä»€ä¹ˆæ˜¯LayerNormalization?"></a><strong>ä»€ä¹ˆæ˜¯LayerNormalization?</strong></h2><p>  LayerNormalizationæ˜¯å¯¹ä¸€ä¸ªæ ·æœ¬è¿›è¡Œå¤„ç†ï¼Œå¯¹ä¸€ä¸ªæ ·æœ¬çš„æ‰€æœ‰ç‰¹å¾è¿›è¡Œå½’ä¸€åŒ–ï¼Œä¹ä¸€çœ‹å¾ˆæ²¡æœ‰é“ç†ï¼Œå› ä¸ºå¦‚æœå¯¹èº«é«˜ä½“é‡å’Œå¹´é¾„ä¸€èµ·æ±‚ä¸€ä¸ªå‡å€¼æ–¹å·®ï¼Œéƒ½ä¸çŸ¥é“è¿™äº›å€¼æœ‰ä»€ä¹ˆå«ä¹‰ï¼Œä½†å­˜åœ¨ä¸€äº›åœºæ™¯å´éå¸¸æœ‰æ•ˆæœâ€”â€”NLPé¢†åŸŸã€‚</p><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746074271.webp" alt="å›¾ç‰‡"></p><p> åœ¨NLPä¸­ï¼ŒNä¸ªç‰¹å¾éƒ½å¯èƒ½è¡¨ç¤ºä¸åŒçš„è¯ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä»ç„¶é‡‡ç”¨BatchNormalizationçš„è¯ï¼Œå¯¹ç¬¬ä¸€ä¸ªè¯è¿›è¡Œæ“ä½œï¼Œå¾ˆæ˜¾ç„¶æ„ä¹‰å°±ä¸æ˜¯éå¸¸å¤§äº†ï¼Œå› ä¸ºä»»ä½•ä¸€ä¸ªè¯éƒ½å¯ä»¥æ”¾åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè€Œä¸”å¾ˆå¤šæ—¶å€™è¯åºå¯¹äºæˆ‘ä»¬å¯¹äºå¥å­çš„å½±å“æ²¡é‚£ä¹ˆå¤§ï¼Œè€Œæ­¤æ—¶æˆ‘ä»¬å¯¹Nä¸ªè¯è¿›è¡ŒNormalizationç­‰æ“ä½œå¯ä»¥å¾ˆå¥½åœ°åæ˜ å¥å­çš„åˆ†å¸ƒã€‚(LNä¸€èˆ¬ç”¨åœ¨ç¬¬ä¸‰ç»´åº¦ï¼Œ[batchsize, seq_len,dims])ï¼Œå› ä¸ºè¯¥ç»´åº¦ç‰¹å¾çš„é‡çº²æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰å¤ªå¤šåŒºåˆ«ã€‚</p><h2 id="ä¸ºä»€ä¹ˆè¦ç”¨Normalization"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨Normalization" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨Normalization"></a>ä¸ºä»€ä¹ˆè¦ç”¨Normalization</h2><h3 id="è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜"><a href="#è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜" class="headerlink" title="è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜"></a>è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</h3><p>æ‹¿sigmoidæ¿€æ´»å‡½æ•°è·ç¦»ï¼Œä»å›¾ä¸­ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“ï¼Œæ•°æ®å€¼è¶Šé è¿‘0æ¢¯åº¦è¶Šå¤§ï¼Œè¶Šè¿œç¦»0æ¢¯åº¦è¶Šæ¥è¿‘0ï¼Œæˆ‘ä»¬é€šè¿‡BNæ”¹å˜æ•°æ®åˆ†å¸ƒåˆ°0é™„è¿‘ï¼Œä»è€Œè§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚</p><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746459970.webp"></p><h3 id="è§£å†³äº†Internal-Covariate-Shift-ICS-é—®é¢˜"><a href="#è§£å†³äº†Internal-Covariate-Shift-ICS-é—®é¢˜" class="headerlink" title="è§£å†³äº†Internal Covariate Shift(ICS)é—®é¢˜"></a><strong>è§£å†³äº†Internal Covariate Shift(ICS)é—®é¢˜</strong></h3><blockquote><p>we define Internal Covariate Shift as the change in the distribution of network activations due to the change in network parameters during training</p></blockquote><p>ç”±äºè®­ç»ƒè¿‡ç¨‹ä¸­å‚æ•°çš„å˜åŒ–ï¼Œå¯¼è‡´å„å±‚æ•°æ®åˆ†å¸ƒå˜åŒ–è¾ƒå¤§ï¼Œç¥ç»ç½‘ç»œå°±è¦å­¦ä¹ æ–°çš„åˆ†å¸ƒï¼Œéšç€å±‚æ•°çš„åŠ æ·±ï¼Œå­¦ä¹ è¿‡ç¨‹å°±å˜çš„æ„ˆåŠ å›°éš¾ï¼Œè¦è§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦ä½¿ç”¨è¾ƒä½çš„å­¦ä¹ ç‡ï¼Œç”±æ­¤åˆäº§ç”Ÿæ”¶æ•›é€Ÿåº¦æ…¢ï¼Œå› æ­¤å¼•å…¥BNå¯ä»¥å¾ˆæœ‰æ•ˆçš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="åŠ é€Ÿæ¨¡å‹æ”¶æ•›"><a href="#åŠ é€Ÿæ¨¡å‹æ”¶æ•›" class="headerlink" title="åŠ é€Ÿæ¨¡å‹æ”¶æ•›"></a><strong>åŠ é€Ÿæ¨¡å‹æ”¶æ•›</strong></h3><p>å’Œå¯¹åŸå§‹ç‰¹å¾åšå½’ä¸€åŒ–ç±»ä¼¼ï¼ŒBNä½¿å¾—æ¯ä¸€ç»´æ•°æ®å¯¹ç»“æœçš„å½±å“æ˜¯ç›¸åŒçš„ï¼Œç”±æ­¤å°±èƒ½åŠ é€Ÿæ¨¡å‹çš„æ”¶æ•›é€Ÿåº¦ã€‚</p><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746649895.webp" alt="å›¾ç‰‡"></p><h3 id="å…·æœ‰æ­£åˆ™åŒ–çš„æ•ˆæœ"><a href="#å…·æœ‰æ­£åˆ™åŒ–çš„æ•ˆæœ" class="headerlink" title="å…·æœ‰æ­£åˆ™åŒ–çš„æ•ˆæœ"></a>å…·æœ‰æ­£åˆ™åŒ–çš„æ•ˆæœ</h3><p> BatchNormalizationå±‚å’Œæ­£è§„åŒ–&#x2F;å½’ä¸€åŒ–ä¸åŒï¼ŒBatchNormalizationå±‚æ˜¯åœ¨mini-batchä¸­è®¡ç®—å‡å€¼æ–¹å·®ï¼Œå› æ­¤ä¼šå¸¦æ¥ä¸€äº›è¾ƒå°çš„å™ªå£°ï¼Œåœ¨ç¥ç»ç½‘ç»œä¸­æ·»åŠ éšæœºå™ªå£°å¯ä»¥å¸¦æ¥æ­£åˆ™åŒ–çš„æ•ˆæœã€‚</p><h2 id="åœ¨CTRé—®é¢˜ä¸­çš„èœœæ±æ•ˆæœ"><a href="#åœ¨CTRé—®é¢˜ä¸­çš„èœœæ±æ•ˆæœ" class="headerlink" title="åœ¨CTRé—®é¢˜ä¸­çš„èœœæ±æ•ˆæœ"></a><strong>åœ¨CTRé—®é¢˜ä¸­çš„èœœæ±æ•ˆæœ</strong></h2><p>  åœ¨éå¸¸å¤šCTRç›¸å…³çš„è®ºæ–‡ä¸­,å¾ˆå¤šå·¥ä½œä¸»è¦éƒ½Focusåœ¨æ¨¡å‹ç»“æ„æ–¹é¢çš„ä¼˜åŒ–æˆ–è€…å¼•å…¥æ–°çš„ä¿¡æ¯ç­‰,è€Œè¿™ä¹ˆåšå¾€å¾€éƒ½å¿½ç•¥äº†æ¨¡å‹ä¸­çš„ä¸€äº›å°çš„æ¨¡å—çš„ä½œç”¨,ä¾‹å¦‚Normalization,åœ¨CTRç›¸å…³çš„ç»“æ„ä¸­æˆ‘ä»¬å‘ç°,å¤§å®¶ç»å¸¸ä¼šæŠŠBatchNormæ”¾åœ¨æœ€åçš„MLPå±‚, ä½†æ˜¯è¿™ä¹ˆåšå¤Ÿå—ï¼ŸNormalizationæ˜¯å¦å‘æŒ¥äº†æœ€å¤§çš„ä½œç”¨ï¼Ÿæ˜¯å¦æ˜¯æœ€ä¼˜çš„æ–¹æ¡ˆï¼Ÿæœ¬æ–‡é€šè¿‡å¤§é‡çš„ç³»ç»Ÿçš„å®éªŒ,ç»™å‡ºäº†ç»“è®ºï¼š<strong>æ²¡æœ‰,è¿˜æœ‰æ›´å¥½çš„æ–¹æ¡ˆ</strong>, æœ¬æ–‡é€šè¿‡åœ¨CTRæ¨¡å‹çš„ä¸åŒåœ°æ–¹åŠ å…¥ä¸åŒçš„æ­£åˆ™åŒ–ç­–ç•¥(BatchNorm,LayerNormç­‰),æœ€ç»ˆå–å¾—äº†éå¸¸å¥½çš„æ•ˆæœã€‚é‚£ç©¶ç«Ÿæ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ï¼Œä¸‹é¢çš„æ¡†æ¶å¾ˆç®€å•ï¼Œæ˜¾ç¤ºä½œè€…æå‡ºæ¨¡å‹çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†VO-LayerNorm,ç„¶åæ˜¯åŸºäºæ­¤æå‡ºçš„æ–°çš„NormDNNï¼Œæœ€åæ˜¯å®éªŒéªŒè¯éƒ¨åˆ†ã€‚</p><h3 id="Variance-Only-LayerNorm"><a href="#Variance-Only-LayerNorm" class="headerlink" title="Variance-Only LayerNorm"></a><strong>Variance-Only LayerNorm</strong></h3><p>  è¿™æ˜¯ä¸€ä¸ªç»éªŒå¾—å‡ºæ¥çš„æ“ä½œ,ä½œè€…åœ¨å¤§é‡çš„å®éªŒä¸­å‘ç°ï¼ŒåŸå§‹çš„LayerNormæœ‰äº›å¤æ‚åŒ–äº†,åœ¨å¯¹å…¶è¿›è¡Œä¸æ–­çš„ç²¾ç®€å®éªŒå,ä½œè€…å‘ç°åœ¨CTRæ•°æ®é›†ä¸Šçš„æ•ˆæœå¹¶æ²¡æœ‰å¸¦æ¥ä¸‹é™ï¼Œåè€Œæ›´å¥½äº†ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹è¿™ä¸€æ­¥æ­¥ç²¾ç®€çš„æ“ä½œï¼š</p><h3 id="å¤æ‚ç‰ˆæœ¬LayerNorm"><a href="#å¤æ‚ç‰ˆæœ¬LayerNorm" class="headerlink" title="å¤æ‚ç‰ˆæœ¬LayerNorm"></a><strong>å¤æ‚ç‰ˆæœ¬LayerNorm</strong></h3><p>å‡è®¾æˆ‘ä»¬ä¸€ä¸ªBatchæœ‰Hä¸ªæ ·æœ¬,$x_1,x_2,\dots,x_{H}$ ,é‚£ä¹ˆæˆ‘ä»¬çš„LayerNormå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è®¡ç®—å¾—åˆ°ï¼š$h &#x3D; g\bigodot N(x)+ b,\  N(x)&#x3D;\frac{x-\mu }{\sigma}$,å…¶ä¸­$ \mu&#x3D;\frac{1}{H}\sum_{i&#x3D;1}^Hx_i, \ \sigma&#x3D;\sqrt{\frac{1}{H}\sum_{i&#x3D;1}^H(x_i-u)^2}$,LayerNormåœ¨NLPä»»åŠ¡ä¸­å–å¾—äº†éå¸¸å¥½çš„æ•ˆæœ,ä½†æ˜¯å®è·µä¸­,Xuç­‰äººå‘ç°è¿™ä¸ªLayerNormçš„biaså’Œgainå¢åŠ äº†è¿‡æ‹Ÿåˆçš„é£é™©,å¹¶ä¸”ç»è¿‡è¯•éªŒä»–ä»¬å‘ç°ç®€åŒ–LayerNormä¹Ÿå¯ä»¥å–çš„éå¸¸ä¸é”™çš„æ•ˆæœã€‚</p><h3 id="ç®€åŒ–ç‰ˆçš„LayerNorm"><a href="#ç®€åŒ–ç‰ˆçš„LayerNorm" class="headerlink" title="ç®€åŒ–ç‰ˆçš„LayerNorm"></a><strong>ç®€åŒ–ç‰ˆçš„LayerNorm</strong></h3><p>æˆ‘ä»¬æŠŠbiasä»¥åŠgainåŒæ—¶åˆ é™¤,å¾—åˆ°ç²¾ç®€ç‰ˆçš„LayerNorm,</p><p>$h&#x3D;N(x),\ N(x)&#x3D;\frac{x-\mu }{\sigma}$,å…¶ä¸­$ \mu&#x3D;\frac{1}{H}\sum_{i&#x3D;1}^Hx_i, \ \sigma&#x3D;\sqrt{\frac{1}{H}\sum_{i&#x3D;1}^H(x_i-u)^2}$,åœ¨å¤§é‡çš„å®éªŒä¸­,æˆ‘ä»¬å‘ç°ç®€åŒ–ç‰ˆæœ¬çš„LayerNormå¹¶æ²¡æœ‰ä»€ä¹ˆæ€§èƒ½æŸå¤±,ç›¸åçš„è¿˜å¯ä»¥å–çš„æ›´å¥½çš„æ•ˆæœã€‚ç„¶åä½œè€…åœ¨CTRç›¸å…³çš„æ•°æ®é›†ä¸Šåˆè¿›è¡Œäº†å¤§é‡çš„å®éªŒ,å‘ç°å¯¹æ¨¡å‹æ•ˆæœå½±å“æœ€å¤§çš„ä¸æ˜¯re-centeringç­‰æ“ä½œ,åè€Œæ–¹å·®å¸¦æ¥çš„å½±å“æ›´å¤§ï¼Œäºæ˜¯ä½œè€…æå‡ºäº†æ–°çš„LayerNormã€‚</p><p>Variance-Only LayerNorm<br>$$<br>h&#x3D;\frac{x}{\sigma}<br>$$<br>å…¶ä¸­$\mu&#x3D;\frac{1}{H}\sum_{i&#x3D;1}^Hx_i, \ \sigma&#x3D;\sqrt{\frac{1}{H}\sum_{i&#x3D;1}^H(x_i-u)^2}$,æ­¤å¤„,ä½œè€…ç›´æ¥é™¤ä»¥äº†æ–¹å·®,è™½ç„¶æ›´åŠ ç²¾ç®€äº†,ä½†æ˜¯å®éªŒæ•ˆæœå´æ˜¾ç¤ºè¿™ä¹ˆåšåœ¨CTRæ•°æ®é›†ä¸Šå´å¯ä»¥å–å¾—æ›´å¥½çš„æ•ˆæœã€‚</p><h2 id="NormDNN"><a href="#NormDNN" class="headerlink" title="NormDNN"></a><strong>NormDNN</strong></h2><p>åœ¨ä¸åŒçš„åœ°æ–¹ä½¿ç”¨ä¸åŒå½¢å¼çš„Normalizationç­–ç•¥ä¼šå¸¦æ¥ä»€ä¹ˆæ ·çš„å½±å“å‘¢ï¼Ÿæ­¤å¤„ä½œè€…ä¸»è¦æ¢ç´¢äº†ä¸¤ä¸ªéƒ¨åˆ†, ç‰¹å¾Embeddingéƒ¨åˆ†çš„Normalizationä»¥åŠMLPéƒ¨åˆ†çš„Normalizationã€‚åœ¨å¤§é‡çš„å®éªŒä¹‹åï¼Œä½œè€…å¾—åˆ°äº†ä¸€ç§æå‡æœ€å¤§çš„æ–¹æ¡ˆï¼š</p><ol><li>å¯¹äºæ•°å€¼ç±»çš„ç‰¹å¾ï¼Œæˆ‘ä»¬ä½¿ç”¨Variance-Only LayerNormæˆ–è€…LayerNorm;</li><li>å¯¹äºç±»åˆ«ç‰¹å¾ï¼Œæˆ‘ä»¬ä½¿ç”¨BatchNorm;</li><li>å¯¹äºMLPéƒ¨åˆ†ï¼Œæˆ‘ä»¬ä½¿ç”¨LayerNorm;</li></ol><h3 id="åœ¨ç‰¹å¾Embeddingå±‚çš„Normalization"><a href="#åœ¨ç‰¹å¾Embeddingå±‚çš„Normalization" class="headerlink" title="åœ¨ç‰¹å¾Embeddingå±‚çš„Normalization"></a>åœ¨ç‰¹å¾Embeddingå±‚çš„Normalization</h3><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸ªåŸŸ,æˆ‘ä»¬åŸå§‹çš„embeddingå¯ä»¥è¡¨ç¤ºä¸º:</p><p>$V_{emb}&#x3D;concat(e_1,e_2,\dots,e_i,\dots,e_f),\ e_i\in\mathbb{R}^k$,</p><p>è¡¨ç¤ºæ¯ä¸ªfieldçš„embeddingçš„ç»´åº¦;</p><p>æˆ‘ä»¬åœ¨è¯¥åŸºç¡€ä¸ŠåŠ å…¥Normalization,å¾—åˆ°</p><p>$N(V_{emb})&#x3D;concat(N(e_1),N(e_2),\dots,N(e_i),\dots,N(e_f)),\ e_i\in\mathbb{R}^k$,</p><p>æ­¤å¤„çš„å¯ä»¥æ˜¯LayerNorm,BatchNormç­‰ã€‚</p><h3 id="åœ¨MLPå¤„åŠ å…¥Normalization"><a href="#åœ¨MLPå¤„åŠ å…¥Normalization" class="headerlink" title="åœ¨MLPå¤„åŠ å…¥Normalization"></a>åœ¨MLPå¤„åŠ å…¥Normalization</h3><p>æ­¤å¤„ä½œè€…å‘ç°åœ¨éçº¿æ€§çš„æ¿€æ´»å‡½æ•°ä¹‹å‰åŠ å…¥Normalizationæ“ä½œçš„æ•ˆæœæ˜¯æ¯”å…ˆä½¿ç”¨æ¿€æ´»å‡½æ•°å†åšNormalizationå¤„ç†è¦å¥½çš„ã€‚</p><h3 id="ä¸ºä»€ä¹ˆNormalizationæ˜¯æœ‰æ•ˆçš„ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆNormalizationæ˜¯æœ‰æ•ˆçš„ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆNormalizationæ˜¯æœ‰æ•ˆçš„ï¼Ÿ"></a>ä¸ºä»€ä¹ˆNormalizationæ˜¯æœ‰æ•ˆçš„ï¼Ÿ</h3><p>ä½œè€…æœ€ååˆ†æäº†ä¸€ä¸‹Normalizationä¸ºä»€ä¹ˆæœ‰æ•ˆ,å¹¶ç»˜åˆ¶äº†ä¸åŒçš„Normalizationå¯¹äºæˆ‘ä»¬å‡å€¼å’Œæ–¹å·®å¸¦æ¥çš„å½±å“,ä»å›¾ä¸­ä»¥åŠå®éªŒä¸­çœ‹æ¥,æˆ‘ä»¬å‘ç° Normalizationæœ‰æ•ˆçš„æœ€å¤§ä¸€ä¸ªåŸå› åœ¨äºæ–¹å·®çš„å½±å“è€Œä¸æ˜¯å‡å€¼ã€‚</p><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746764463.webp" alt="å›¾ç‰‡"></p><p>åŒæ—¶æˆ‘ä»¬å‘ç°å¾ˆå¤šç¥ç»å…ƒçš„è¾“å‡ºå¤§éƒ¨åˆ†åœ¨ä½¿ç”¨Variance-Only LayerNormä¹‹åéƒ½ä¼šè¢«pushè¾“å‡ºä¸€ä¸ªè´Ÿæ•°çš„å€¼ï¼Œç„¶åè¢«RELUè¿‡æ»¤æ‰,è¿™å¯ä»¥å‡å°‘å™ªéŸ³å¸¦æ¥çš„å½±å“,åŒæ ·çš„ï¼Œæˆ‘ä»¬å°†Normalizationçš„å¯¼æ•°è¡¨ç¤ºä¸ºï¼š<br>$$<br>\frac{\partial L}{\partial x_i } &#x3D; \frac{\partial L}{\partial h }* \frac{\partial L}{\partial x_i } \<br>\frac{\partial h}{\partial x_i }&#x3D; \frac{1}{\sigma}-\frac{x_i(x_i-\mu)}{\sigma^3\cdot H}<br>$$<br>ä»ä¸Šé¢çš„å¼å­ä¸­æˆ‘ä»¬ä¹Ÿå‘ç°æˆ‘ä»¬çš„Normalizationå¯¹äº$\sigma$æ˜¯éå¸¸æ•æ„Ÿçš„ã€‚</p><h3 id="ç‰¹å¾Embeddingä¸ŠåŠ å…¥Normalizationæ˜¯å¦æœ‰æ•ˆï¼Ÿ"><a href="#ç‰¹å¾Embeddingä¸ŠåŠ å…¥Normalizationæ˜¯å¦æœ‰æ•ˆï¼Ÿ" class="headerlink" title="ç‰¹å¾Embeddingä¸ŠåŠ å…¥Normalizationæ˜¯å¦æœ‰æ•ˆï¼Ÿ"></a>ç‰¹å¾Embeddingä¸ŠåŠ å…¥Normalizationæ˜¯å¦æœ‰æ•ˆï¼Ÿ</h3><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746764470.webp" alt="å›¾ç‰‡"></p><p>ä»ä¸Šé¢çš„å®éªŒä¸­,æˆ‘ä»¬å‘ç°,<strong>åœ¨ç‰¹å¾Embeddingå±‚åŠ å…¥Normalizationéƒ½æ˜¯æœ‰æ•ˆçš„,è€Œä¸”LayerNormä»¥åŠç›¸å…³çš„å˜ç§æ˜¯æ•ˆæœç›¸å¯¹ç¨³å®šä»¥åŠæœ€å¥½çš„</strong>;</p><h3 id="Normalizationå¯¹äºMLPçš„å½±å“"><a href="#Normalizationå¯¹äºMLPçš„å½±å“" class="headerlink" title="Normalizationå¯¹äºMLPçš„å½±å“"></a>Normalizationå¯¹äºMLPçš„å½±å“</h3><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746764476.webp" alt="å›¾ç‰‡"></p><p>ä»ä¸Šé¢çš„å®éªŒä¸­,æˆ‘ä»¬å‘ç°,<strong>åœ¨MLPå±‚åŠ å…¥Normalizationéƒ½æ˜¯æœ‰æ•ˆçš„,ä½†æ˜¯å…·ä½“é€‰ç”¨å“ªç§Normalizationéœ€è¦ä¾æ®ä¸åŒçš„ä»»åŠ¡è¿›è¡Œé€‰æ‹©</strong>;</p><h3 id="Normalizationå¯¹äºFeature-EMbedding-amp-MLPçš„å½±å“"><a href="#Normalizationå¯¹äºFeature-EMbedding-amp-MLPçš„å½±å“" class="headerlink" title="Normalizationå¯¹äºFeature EMbedding &amp; MLPçš„å½±å“"></a>Normalizationå¯¹äºFeature EMbedding &amp; MLPçš„å½±å“</h3><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746764483.webp" alt="å›¾ç‰‡"></p><p>ä»ä¸Šé¢çš„å®éªŒä¸­,æˆ‘ä»¬å‘ç°,<strong>åœ¨MLPå±‚ä»¥åŠç‰¹å¾Embeddingå±‚éƒ½åŠ å…¥Normalizationéƒ½æ˜¯æ¯”å•ä¸ªåŠ å…¥éƒ½æœ‰æ•ˆçš„,åœ¨MLPä¾§åŠ å…¥VO-LNçš„Normalizationå¾€å¾€èƒ½å–å¾—æ›´å¥½çš„æ•ˆæœ</strong>;</p><h3 id="Normalizationå¯¹äºæ•°å€¼ä»¥åŠç±»åˆ«ç‰¹å¾çš„-EMbeddingçš„å½±å“"><a href="#Normalizationå¯¹äºæ•°å€¼ä»¥åŠç±»åˆ«ç‰¹å¾çš„-EMbeddingçš„å½±å“" class="headerlink" title="Normalizationå¯¹äºæ•°å€¼ä»¥åŠç±»åˆ«ç‰¹å¾çš„ EMbeddingçš„å½±å“"></a>Normalizationå¯¹äºæ•°å€¼ä»¥åŠç±»åˆ«ç‰¹å¾çš„ EMbeddingçš„å½±å“</h3><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746764489.webp" alt="å›¾ç‰‡"></p><p>ä»ä¸Šé¢çš„å®éªŒä¸­,æˆ‘ä»¬å‘ç°,<strong>å¯¹æ•°å€¼çš„EMbeddingä½¿ç”¨LayerNormç›¸å…³çš„æ•ˆæœæ›´å¥½,å¯¹æ•°å€¼ç‰¹å¾ä½¿ç”¨LayerNormç›¸å…³çš„æ­£åˆ™åŒ–æ–¹æ³•,åœ¨MLPå¤„ä½¿ç”¨VO-LNå¾€å¾€å¯ä»¥å–å¾—æœ€å¥½çš„æ•ˆæœ.</strong></p><h2 id="NormDNN-ä¸-å…¶ä»–ç½‘ç»œæ¯”è¾ƒ"><a href="#NormDNN-ä¸-å…¶ä»–ç½‘ç»œæ¯”è¾ƒ" class="headerlink" title="NormDNN ä¸ å…¶ä»–ç½‘ç»œæ¯”è¾ƒ"></a><strong>NormDNN ä¸ å…¶ä»–ç½‘ç»œæ¯”è¾ƒ</strong></h2><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746764503.webp" alt="å›¾ç‰‡"><br>å‡ºä¹æ„æ–™,åœ¨ä¸‰ä¸ªæ•°æ®é›†ä¸Š,æˆ‘ä»¬åªéœ€è¦å¯¹ä¸åŒå±‚åšNormalizationçš„å¤„ç†å°±å¯ä»¥å–å¾—æ¯”DeepFM,xDeepFMæ›´å¥½çš„æ•ˆæœ;</p><blockquote><p>NormDNN: Numerical Embeddingç”¨LayerNormç›¸å…³çš„å¤„ç†; Categorical Featureä½¿ç”¨BatchNormç›¸å…³çš„å¤„ç†; åœ¨MLPéƒ¨åˆ†ä½¿ç”¨VO-LN</p></blockquote><h3 id="æ³›åŒ–åˆ°å…¶ä»–Deepç›¸å…³çš„æ¨¡å‹"><a href="#æ³›åŒ–åˆ°å…¶ä»–Deepç›¸å…³çš„æ¨¡å‹" class="headerlink" title="æ³›åŒ–åˆ°å…¶ä»–Deepç›¸å…³çš„æ¨¡å‹"></a>æ³›åŒ–åˆ°å…¶ä»–Deepç›¸å…³çš„æ¨¡å‹</h3><p><img src="F:\notes\æœºå™¨å­¦ä¹ \src\640-1640746764525.webp" alt="å›¾ç‰‡"></p><p>  æˆ‘ä»¬æŠŠåˆå§‹åŒ–çš„æ–¹æ¡ˆåº”ç”¨åˆ°æ›´åŠ å¤æ‚çš„ç½‘ç»œç»“æ„ä¸Šä¹Ÿéƒ½å–å¾—äº†æ›´å¥½çš„æ•ˆæœ;ä¹Ÿå°±æ˜¯è¯´è¿™ç§Normalizationçš„æ–¹æ¡ˆå¯ä»¥æ‰©å……åˆ°å…¶ä»–çš„æ‰€æœ‰æœ€æ–°ç½‘ç»œç»“æ„ä¸Š;</p><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a><strong>å°ç»“</strong></h3><p>  ä»ä¸Šé¢çš„å†…å®¹æ¥çœ‹,Normalizationå¯¹äºæ¨¡å‹çš„å¸®åŠ©æ˜¯éå¸¸å¤§çš„; å¯¹Embeddingä¹‹åçš„ç‰¹å¾è¿›è¡ŒNormalization(æ•°å€¼Embeddingå¤„ç”¨LayerNormç›¸å…³çš„Normalization,Categoricaléƒ¨åˆ†ä½¿ç”¨BatchNormç›¸å…³çš„å¤„ç†ï¼ŒMLPéƒ¨åˆ†ä½¿ç”¨VO-LN)å¯ä»¥å–å¾—éå¸¸å¤§çš„æå‡;éå¸¸å€¼å¾—ä¸€è¯•ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”Perceptron</title>
    <link href="/2022/08/01/MachineLearning/Perceptron/"/>
    <url>/2022/08/01/MachineLearning/Perceptron/</url>
    
    <content type="html"><![CDATA[<h1 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h1><p>æ„ŸçŸ¥æœºæ¨¡å‹(Perceptron)æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„æœ‰ç›‘ç£çš„äºŒåˆ†ç±»çº¿æ€§æ¨¡å‹ã€‚ä»–å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢è¿›è¡Œä»‹ç»</p><h2 id="æ–¹é¢ä¸€-é—®é¢˜åˆ†æ"><a href="#æ–¹é¢ä¸€-é—®é¢˜åˆ†æ" class="headerlink" title="æ–¹é¢ä¸€ é—®é¢˜åˆ†æ"></a>æ–¹é¢ä¸€ é—®é¢˜åˆ†æ</h2><h3 id="é—®é¢˜ï¼ˆä¸€ç»´ï¼‰ï¼šå„¿ç«¥å…ç¥¨ä¹˜è½¦é—®é¢˜ï¼ˆå­©å­èº«é«˜ä½äº1-2må¯ä»¥å…ç¥¨ä¸Šè½¦ï¼‰"><a href="#é—®é¢˜ï¼ˆä¸€ç»´ï¼‰ï¼šå„¿ç«¥å…ç¥¨ä¹˜è½¦é—®é¢˜ï¼ˆå­©å­èº«é«˜ä½äº1-2må¯ä»¥å…ç¥¨ä¸Šè½¦ï¼‰" class="headerlink" title="é—®é¢˜ï¼ˆä¸€ç»´ï¼‰ï¼šå„¿ç«¥å…ç¥¨ä¹˜è½¦é—®é¢˜ï¼ˆå­©å­èº«é«˜ä½äº1.2må¯ä»¥å…ç¥¨ä¸Šè½¦ï¼‰"></a>é—®é¢˜ï¼ˆä¸€ç»´ï¼‰ï¼šå„¿ç«¥å…ç¥¨ä¹˜è½¦é—®é¢˜ï¼ˆå­©å­èº«é«˜ä½äº1.2må¯ä»¥å…ç¥¨ä¸Šè½¦ï¼‰</h3><p>è¿™è½¬æ¢æˆæ•°å­¦è¡¨è¾¾å¼å°±æ˜¯ $x:$èº«é«˜ï¼Œ$y:{-1:$å…ç¥¨ ,$1:$è´­ç¥¨$}$</p><p>$$ y&#x3D;\left{\begin{matrix}+1,x\ge1.2m \ -1,x\lt1.2m\end{matrix}\right. $$</p><p><img src="/img/2274220-20211218214342516-2127817773.png" alt="img"></p><p>å¦‚æœæŠŠ$y$ç”¨å‡½æ•°$f(x;b)$è¡¨è¾¾å‡ºæ¥å°±å¦‚ä¸‹æ‰€ç¤º</p><p>$$ y&#x3D;f(x;b)&#x3D;\left{\begin{matrix}+1,z&#x3D;x+b\ge0 \ -1,z&#x3D;x+b \lt0 \end{matrix}\right. $$</p><p><img src="/img/2274220-20211218214401828-471520394.png" alt="img"></p><p>ç”¨æœºå™¨å­¦ä¹ çš„è¯æ¥è¯´å˜é‡$x$å°±æ˜¯ä¸€ä¸ª<strong>ç‰¹å¾</strong>,$y$å°±æ˜¯ä¸€ä¸ª<strong>æ ‡è®°</strong>ï¼Œ$b$å°±æ˜¯ä¸€ä¸ª<strong>åç½®</strong></p><h3 id="é—®é¢˜ï¼ˆäºŒç»´ï¼‰ï¼šè¥¿ç“œåˆ†ç±»ï¼ˆä¾é è¥¿ç“œçš„é¢œè‰²å’Œæ•²å‡»çš„å“å£°åˆ†ç±»ï¼‰"><a href="#é—®é¢˜ï¼ˆäºŒç»´ï¼‰ï¼šè¥¿ç“œåˆ†ç±»ï¼ˆä¾é è¥¿ç“œçš„é¢œè‰²å’Œæ•²å‡»çš„å“å£°åˆ†ç±»ï¼‰" class="headerlink" title="é—®é¢˜ï¼ˆäºŒç»´ï¼‰ï¼šè¥¿ç“œåˆ†ç±»ï¼ˆä¾é è¥¿ç“œçš„é¢œè‰²å’Œæ•²å‡»çš„å“å£°åˆ†ç±»ï¼‰"></a>é—®é¢˜ï¼ˆäºŒç»´ï¼‰ï¼šè¥¿ç“œåˆ†ç±»ï¼ˆä¾é è¥¿ç“œçš„é¢œè‰²å’Œæ•²å‡»çš„å“å£°åˆ†ç±»ï¼‰</h3><p>è¿™é‡Œçš„$x$å°±ä»ä¸€ä¸ªä¸€ç»´ç‰¹å¾ç¼–ç¨‹äº†äºŒç»´çš„ç‰¹ç§°å‘é‡${x_1:$é¢œè‰² ,$x_2:$å“å£°$}$ $y$ä»ç„¶æ˜¯ä¸€ä¸ªæ ‡è®° $y:{-1:$åç“œ ,$1:$å¥½ç“œ$}$ æ•°æ®å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/img/2274220-20211219113413328-528436610.png" alt="img"></p><p>ç”¨ä¸€èˆ¬çš„æ•°å­¦æ–¹æ³•ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ä¸¤ä¸ªå˜é‡$x_1,x_2$æ˜ å°„åˆ°ä¸€ä¸ªç»´åº¦ä¸Šå» å°±ä¼šå‡ºç°å¦‚ä¸‹ä¸‰ç§ç»å…¸çš„æƒ…å†µ</p><p>æ˜ å°„åˆ°æ°´å¹³æ–¹å‘<img src="/img/2274220-20211218221216356-994026222.png" alt="img"></p><p>æ˜ å°„åˆ°ç«–ç›´æ–¹å‘<img src="/img/2274220-20211218221328431-310696772.png" alt="img"></p><p>æ˜ å°„åˆ°ä»»æ„æ–¹å‘<img src="/img/2274220-20211218221424196-524684068.png" alt="img"></p><p>äºŒç»´å‘é‡æ˜ å°„åˆ°ä¸€ç»´ç©ºé—´éœ€è¦æœ‰æ˜ å°„çš„æ–¹å‘ã€‚æ­¤æ—¶å°±éœ€è¦ä¸€å®šçš„æ–¹å‘å‘é‡$\mathbb{w}&#x3D;(w_1 \ w_2)^T$ æ­¤æ—¶ï¼Œå¦‚æœæŠŠ$y$ç”¨å‡½æ•°$f(\mathbb{x};\mathbb{w},b)$æ¥è¡¨ç¤º</p><p>$$ y&#x3D;f(\mathbb{x};\mathbb{w},b)&#x3D;\left{\begin{matrix}+1,\mathbb{w}^T\mathbb{x}+b\ge0 \ -1,\mathbb{w}^T\mathbb{x}+b\lt0 \end{matrix}\right. $$</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œå¯ä»¥ç±»æ¨åˆ°nç»´ã€‚åªè¦å°†$\mathbb{x},\mathbb{w}å‡ç»´å°±å¯ä»¥äº†$</p><h2 id="æ–¹é¢äºŒ-æ¨¡å‹å‘å±•"><a href="#æ–¹é¢äºŒ-æ¨¡å‹å‘å±•" class="headerlink" title="æ–¹é¢äºŒ æ¨¡å‹å‘å±•"></a>æ–¹é¢äºŒ æ¨¡å‹å‘å±•</h2><p>1943å¹´ï¼ŒMcCullochå’ŒPitsç»“åˆç¥ç»å…ƒæ¨¡å‹Neuronæå‡ºæ¥ç»å…¸çš„æŠ½è±¡çš„M-Pç¥ç»å…ƒæ¨¡å‹</p><p>ç¥ç»å…ƒçš„ç”Ÿç‰©å­¦ç»“æ„<img src="/img/2274220-20211219123951945-1354915555.png" alt="img"></p><p>M-Pç¥ç»å…ƒæ¨¡å‹ <img src="/img/2274220-20211219124043889-525716909.png" alt="img"></p><p>è€Œæ„ŸçŸ¥æœºæ¨¡å‹æ˜¯ä»ç¥ç»å…ƒæ¨¡å‹å‘å±•è¿‡æ¥çš„ã€‚æ„ŸçŸ¥æœºæ˜¯ç”±ä¸¤å±‚ç¥ç»å…ƒç»„æˆçš„ä¸€ä¸ªç®€å•æ¨¡å‹ã€‚åªæœ‰è¾“å‡ºå±‚æ˜¯M-P ç¥ç»å…ƒï¼Œå³åªæœ‰è¾“å‡ºå±‚ç¥ç»å…ƒè¿›è¡Œæ¿€æ´»å‡½æ•°å¤„ç†ï¼Œä¹Ÿç§°ä¸ºåŠŸèƒ½ç¥ç»å…ƒï¼ˆ functional neuronï¼‰ï¼›è¾“å…¥å±‚åªæ˜¯æ¥å—å¤–ç•Œä¿¡å·ï¼ˆæ ·æœ¬å±æ€§ï¼‰å¹¶ä¼ é€’ç»™è¾“å‡ºå±‚ï¼ˆè¾“å…¥å±‚çš„ç¥ç»å…ƒä¸ªæ•°ç­‰äºæ ·æœ¬çš„å±æ€§æ•°ç›®ï¼‰ï¼Œè€Œæ²¡æœ‰æ¿€æ´»å‡½æ•°ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="/img/2274220-20211219130328971-1222419824.png" alt="img"></p><h1 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h1><p>å‡è®¾è¾“å…¥ç©ºé—´ï¼ˆç‰¹å¾ç©ºé—´ï¼‰æ˜¯$\mathcal{X} \subset \mathbb{R}^n$ï¼Œè¾“å‡ºç©ºé—´æ˜¯$\mathcal{Y}&#x3D;{-1,+1}$ã€‚è¾“å…¥$x\in \mathcal{X}$è¡¨ç¤ºå®ä¾‹çš„ç‰¹å¾å‘é‡ï¼Œå¯¹åº”äºè¾“å…¥ç©ºé—´ï¼ˆç‰¹å¾ç©ºé—´ï¼‰çš„ç‚¹ï¼›è¾“å‡º$y\in \mathcal{Y}$è¡¨ç¤ºç±»åˆ«ã€‚ç”±è¾“å…¥ç©ºé—´åˆ°è¾“å‡ºç©ºé—´çš„å¦‚ä¸‹å‡½æ•°ï¼š $$ f(x)&#x3D;sign(w \cdot x+b) $$ æˆä¸ºæ„ŸçŸ¥æœºã€‚å…¶ä¸­ï¼Œ$w,b$æˆä¸ºæ„ŸçŸ¥æœºæ¨¡å‹çš„å‚æ•°,$w \in \mathbb{R}^n$å«åšæƒå€¼ï¼ˆweightï¼‰æˆ–æƒå€¼å‘é‡ï¼ˆweight vectorï¼‰ï¼Œ$b \in \mathbb{R}$å«åšåç½®ï¼ˆbiasï¼‰ï¼Œ$w \cdot x$è¡¨ç¤ºä¸¤è€…çš„å†…ç§¯ã€‚$sign$æ˜¯ç¬¦å·å‡½æ•°ï¼Œå³ $$ sign(a)&#x3D;\left{\begin{matrix}+1,a\ge0\-1,a\lt0\end{matrix}\right. $$ æ„ŸçŸ¥æœºæ˜¯ä¸€ç§çº¿æ€§åˆ†ç±»å™¨ï¼Œå±äºåˆ¤åˆ«æ¨¡å‹ã€‚æ„ŸçŸ¥æœºæ¨¡å‹çš„å‡è®¾ç©ºé—´æ˜¯å®šä¹‰åœ¨ç‰¹å¾ç©ºé—´ä¸­çš„æ‰€æœ‰çº¿æ€§åˆ†ç±»æ¨¡å‹ï¼ˆlinear classification modelï¼‰æˆ–çº¿æ€§åˆ†ç±»å™¨ï¼ˆlinear classifierï¼‰ï¼Œå³å‡½æ•°æ¨¡å‹${f,|,f(x)&#x3D;w \cdot x +b }$</p><h1 id="Loss-Function"><a href="#Loss-Function" class="headerlink" title="Loss Function"></a>Loss Function</h1><p>æ„ŸçŸ¥æœºå­¦ä¹ çš„ç­–ç•¥å°±æ˜¯æœ€å°åŒ–æŸå¤±å‡½æ•°ã€‚å¯¹äºæ„ŸçŸ¥æœºæ¥è¯´æŸå¤±å‡½æ•°æœ‰ä¸¤ç§æ–¹å¼ã€‚</p><p>\1. ç»Ÿè®¡è¯¯åˆ†ç±»ç‚¹ï¼š $$ l(w)&#x3D;\sum_{i&#x3D;1}^N \ \mathbb{I}(y_i \cdot (w^Tx +b ) &lt; 0) $$ ã€€ä½†æ˜¯æŒ‡ç¤ºå‡½æ•°ä¸è¿ç»­ï¼Œåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ä¸å¤ªå‹å¥½</p><p>\2. ç»Ÿè®¡è¯¯åˆ†ç±»ç‚¹åˆ°åˆ†æ¥è¶…å¹³é¢çš„è·ç¦»ï¼š $$ \begin{align}l(w) &amp;&#x3D;|w^Tx +b |\ &amp;&#x3D;\sum_{i&#x3D;1}^N - ,y_i \cdot (w^Tx +b )\end{align} $$</p><h1 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h1><p>ä¸ºäº†æ‰¾åˆ°æ›´å¥½çš„$w,b$ã€‚ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™SGD(Stochastic Gradient Descend), ä½†æ˜¯è¯¥æ–¹æ³•å®¹æ˜“å—ç‰¹å¾ç¼©æ”¾ã€å­¦ä¹ ç‡å› ç´ å½±å“é™·å…¥å±€éƒ¨æœ€å°å€¼ã€‚ $$ w_{n+1} \leftarrow w_n +\eta \frac{\partial l}{\partial w}\ b_{n+1} \leftarrow b_n +\eta \frac{\partial l}{\partial b} $$</p><p>å¯¹è¯¥ç®—æ³•çš„è¶…å‚æ•°ï¼šå­¦ä¹ ç‡$\eta$ï¼Œè¯¯å·®ä¸Šé™$\varepsilon$ï¼Œå­¦ä¹ æ¬¡æ•°$epoch$</p><h1 id="æ”¶æ•›æ€§"><a href="#æ”¶æ•›æ€§" class="headerlink" title="æ”¶æ•›æ€§"></a>æ”¶æ•›æ€§</h1><p>è®¾è®­ç»ƒæ•°æ®é›†$T&#x3D;{(x_1,y_1),(x_2,y_2),\cdots,(x_N,y_N)}$æ˜¯çº¿æ€§å¯åˆ†çš„ï¼Œå…¶ä¸­$x_i\in \mathcal{X}&#x3D;\mathbb{R}^n,\ y_i\in\mathcal{Y}&#x3D;{+1,-1},\ i&#x3D;1,2,\cdots,N$åˆ™:</p><ul><li>å­˜åœ¨æ»¡è¶³æ¡ä»¶$||\hat{w}<em>{opt}||&#x3D;1$çš„è¶…å¹³é¢$\hat{w}</em>{opt} \cdot \hat{x}&#x3D;w_{opt}\cdot x +b_{opt}&#x3D;0$å°†è®­ç»ƒæ•°æ®é›†å®Œå…¨æ­£ç¡®åˆ†å¼€ï¼›ä¸”å­˜åœ¨$\gamma&gt;0$,å¯¹æ‰€æœ‰$i&#x3D;1,2,\cdots,N$: $$ y_i (\hat{w}<em>{opt} \cdot \hat{x})&#x3D;y_i(w</em>{opt}\cdot x +b_{opt})\geq \gamma $$</li><li>ä»¤$R&#x3D;max_{1 \leq i \leq N} ||\hat{x}_i||$,åˆ™æ„ŸçŸ¥æœºç®—æ³•åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šçš„è¯¯åˆ†ç±»æ¬¡æ•°$k$æ»¡è¶³ä¸ç­‰å¼: $$ k \leq (\frac{R}{\gamma})^2 $$</li></ul><h1 id="Disadvantage"><a href="#Disadvantage" class="headerlink" title="Disadvantage"></a>Disadvantage</h1><p>\1. å­˜åœ¨å¤šè§£<br>\2. ä¾èµ–åˆå€¼ï¼Œä¹Ÿä¾èµ–é€‰æ‹©é¡ºåº<br>\3. å½“æ•°æ®é›†çº¿æ€§ä¸å¯åˆ†å°±ä¼šäº§ç”Ÿè¿­ä»£éœ‡è¡ã€‚ä¾‹å¦‚XORå¼‚æˆ–é—®é¢˜</p><p>é’ˆå¯¹æ„ŸçŸ¥æœºç®—æ³•çš„ç¼ºç‚¹ï¼Œæå‡ºSVMè§£å†³å¤šè§£é—®é¢˜ï¼ŒPocket Algorithmä½¿æ„ŸçŸ¥æœºå®¹å¿ä¸€äº›é”™è¯¯ã€‚</p><h1 id="Pythonä»£ç å®ç°"><a href="#Pythonä»£ç å®ç°" class="headerlink" title="Pythonä»£ç å®ç°"></a>Pythonä»£ç å®ç°</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>data1 = [[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">3</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">5</span>,<span class="hljs-number">2</span>]]<br>lable1 = [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>]<br><br>data2 = [[<span class="hljs-number">3</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]]<br>lable2 = [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>]<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Model</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,data</span>):<br>        self.w = np.zeros(np.shape(data)[<span class="hljs-number">1</span>])  <span class="hljs-comment"># æƒé‡å‚æ•°</span><br>        self.b = <span class="hljs-number">0</span>  <span class="hljs-comment"># åç½®</span><br>        self.l_rate = <span class="hljs-number">1</span>  <span class="hljs-comment"># å­¦ä¹ ç‡</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sign</span>(<span class="hljs-params">self, x, w, b</span>):<br>        y = np.dot(x, w) + b<br>        <span class="hljs-keyword">return</span> y<br><br>    <span class="hljs-comment"># éšæœºæ¢¯åº¦ä¸‹é™æ³•</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fit</span>(<span class="hljs-params">self, data, lable</span>):<br>        is_wrong = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> is_wrong:<br>            wrong_count = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(data)):<br>                X = data[d]<br>                y = lable[d]<br>                judge = y * self.sign(X, self.w, self.b)<br>                <span class="hljs-keyword">if</span> judge &lt;= <span class="hljs-number">0</span>:<br>                    self.w = self.w + self.l_rate * np.dot(y, X)<br>                    self.b = self.b + self.l_rate * y<br>                    <span class="hljs-keyword">if</span> judge == <span class="hljs-number">0</span>:<br>                        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æœªåˆ†ç±»=&#x27;</span>, d + <span class="hljs-number">1</span>, <span class="hljs-string">&#x27; &#x27;</span>, data[d])<br>                    <span class="hljs-keyword">else</span>:<br>                        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;è¯¯åˆ†ç±»=&#x27;</span>, d + <span class="hljs-number">1</span>, <span class="hljs-string">&#x27; &#x27;</span>, data[d])<br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;w = &#x27;</span>,self.w,<span class="hljs-string">&#x27;b= &#x27;</span>,self.b)<br>                    wrong_count += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> wrong_count == <span class="hljs-number">0</span>:<br>                is_wrong = <span class="hljs-literal">True</span><br><br>perception1 = Model(data1)<br>perception1.fit(data1,lable1)<br></code></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><blockquote><p>æèˆª ç»Ÿè®¡å­¦ä¹ æ–¹æ³•</p><p>å‘¨å¿—å æœºå™¨å­¦ä¹ (è¥¿ç“œä¹¦)</p><p>shuhuai008 <a href="https://www.bilibili.com/video/BV1aE411o7qd?spm_id_from=333.1007.top_right_bar_window_custom_collection.content.click">æœºå™¨å­¦ä¹ ç™½æ¿æ¨å¯¼</a>ion.content.click)</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”PCA</title>
    <link href="/2022/08/01/MachineLearning/PCA/"/>
    <url>/2022/08/01/MachineLearning/PCA/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€PCAç®—æ³•çš„ç›´è§‰ç†è§£"><a href="#ä¸€ã€PCAç®—æ³•çš„ç›´è§‰ç†è§£" class="headerlink" title="ä¸€ã€PCAç®—æ³•çš„ç›´è§‰ç†è§£"></a>ä¸€ã€PCAç®—æ³•çš„ç›´è§‰ç†è§£</h2><p>ä»ç›´è§‰ä¸Šçœ‹ï¼ŒPCAä¸»æˆåˆ†åˆ†æç±»ä¼¼äºä¾æ¬¡å¯»æ‰¾ä¸€ç¾¤æ ·æœ¬ç‚¹çš„å„ä¸ªä½ç½®å·®å¼‚æœ€å¤§çš„æ–¹å‘é•¿è½´ã€‚</p><p><img src="/src/640-1640494499177.webp" alt="å›¾ç‰‡"></p><p>å‡å®šæŠŠä¸€ä¸ªäººèº«ä¸Šçš„æ‰€æœ‰ç»†èƒçœ‹æˆä¸€ä¸ªä¸€ä¸ªçš„æ ·æœ¬ç‚¹ã€‚è¿™äº›æ ·æœ¬ç‚¹å¯ä»¥ç”¨3ä¸ªåæ ‡æ¥è¡¨ç¤ºï¼Œä»å·¦åˆ°å³ä¸ºxæ–¹å‘ï¼Œä»å‰åˆ°åä¸ºyæ–¹å‘ï¼Œä»ä¸‹åˆ°ä¸Šä¸ºzæ–¹å‘ã€‚</p><p>é‚£ä¹ˆå®ƒä»¬çš„ç¬¬ä¸€ä¸ªä¸»æˆåˆ†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç¬¬ä¸€ä¸ªä¸»æˆåˆ†å¯¹åº”çš„é•¿è½´æ˜¯æ²¿ç€äººçš„è„šåˆ°å¤´çš„æ–¹å‘ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸çš„ä¸Šä¸‹æ–¹å‘ï¼Œå³zæ–¹å‘ã€‚è¿™ä¸ªæ–¹å‘æ˜¯æœ€ä¸»è¦çš„é•¿è½´ã€‚è¿™äº›æ ·æœ¬ç‚¹çš„ä½ç½®å·®å¼‚åŸºæœ¬ä¸Š70%ä»¥ä¸Šæ¥è‡ªäºè¿™ä¸ªæ–¹å‘ä¸Šçš„å·®å¼‚ã€‚</p><p>å®ƒä»¬çš„ç¬¬äºŒä¸ªä¸»æˆåˆ†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç¬¬äºŒä¸ªä¸»æˆåˆ†å¯¹åº”çš„æ–¹å‘æ˜¯æ²¿ç€äººçš„å·¦è‡‚åˆ°å³è‡‚çš„æ–¹å‘ï¼Œä¹Ÿå°±é€šå¸¸çš„å·¦å³æ–¹å‘ï¼Œå³yæ–¹å‘ã€‚è¿™ä¸ªæ–¹å‘å’Œç¬¬ä¸€ä¸ªä¸»æˆåˆ†é•¿è½´å‚ç›´ï¼Œè¿™äº›æ ·æœ¬ç‚¹çš„ä½ç½®å·®å¼‚å¤§æ¦‚æœ‰20%å·¦å³æ¥è‡ªè¿™ä¸ªæ–¹å‘ä¸Šçš„å·®å¼‚ã€‚</p><p>å®ƒä»¬çš„ç¬¬ä¸‰ä¸ªä¸»æˆåˆ†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç¬¬ä¸‰ä¸ªä¸»æˆåˆ†æ–¹å‘æ˜¯æ²¿ç€äººçš„å‰èƒ¸åˆ°åèƒŒçš„æ–¹å‘ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸çš„å‰åæ–¹å‘ï¼Œå³xæ–¹å‘ã€‚è¿™ä¸ªæ–¹å‘å’Œå‰ä¸¤ä¸ªä¸»æˆåˆ†é•¿è½´å‚ç›´ï¼Œæ ·æœ¬ç‚¹çš„ä½ç½®å·®å¼‚æœ‰ä¸€èˆ¬åªæœ‰ä¸åˆ°10%æ¥è‡ªè¿™ä¸ªæ–¹å‘çš„å·®å¼‚ï¼Œå½“ç„¶ï¼Œæœ‰äº›èº«ææ¯”è¾ƒåœ†æ¶¦çš„åŒå­¦é™¤å¤–ã€‚</p><p>ç°åœ¨ï¼Œå¦‚æœè¦å°†è¿™äº›æ ·æœ¬ç‚¹çš„åæ ‡å‡å°‘åˆ°ç”¨2ä¸ªæ¥è¡¨ç¤ºï¼Œå¹¶å°½å¯èƒ½å¤šçš„ä¿ç•™æ ·æœ¬ç‚¹ä¹‹é—´ä½ç½®å·®å¼‚çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆï¼Œæ˜¾ç„¶ï¼Œåº”è¯¥ä¿ç•™ç¬¬ä¸€ä¸ªä¸»æˆåˆ†åæ ‡å’Œç¬¬äºŒä¸ªä¸»æˆåˆ†åæ ‡ã€‚</p><p>ç°åœ¨ï¼Œå‡å®šè¿™ä¸ªäººèººåœ¨ä¸€ä¸ªæ–œçš„èººæ¤…ä¸Šï¼Œé‚£ä¹ˆç°åœ¨è¿™äº›æ ·æœ¬ç‚¹çš„ç¬¬ä¸€ä¸»æˆåˆ†æ˜¾ç„¶ä¸å†æ˜¯ä»ä¸‹åˆ°ä¸Šçš„zæ–¹å‘ã€‚æˆ‘ä»¬åº”è¯¥å°†æˆ‘ä»¬çš„åæ ‡ç³»ä½œä¸€ä¸ªæ—‹è½¬ï¼Œè®©zè½´å’Œæ–œç€çš„èººæ¤…æ–¹å‘ä¸€è‡´ï¼Œè¿™ä¸ªæ–°çš„zæ–¹å‘æ˜¯è¿™äº›æ ·æœ¬ç‚¹çš„ç¬¬ä¸€ä¸»æˆåˆ†æ–¹å‘ã€‚ç±»ä¼¼åœ°ï¼Œä¹Ÿéœ€è¦æ—‹è½¬xè½´å’Œyè½´å¾—åˆ°æ–°çš„ç¬¬äºŒä¸»æˆåˆ†æ–¹å‘å’Œç¬¬ä¸‰ä¸»æˆåˆ†æ–¹å‘ã€‚</p><p>è¿™ä¸ªæ—‹è½¬æ—§åæ ‡ç³»ä»¥æ‰¾åˆ°ä¸»æˆåˆ†æ–¹å‘çš„è¿‡ç¨‹å°±æ˜¯PCAä¸»æˆåˆ†åˆ†æã€‚</p><h2 id="äºŒã€PCAç®—æ³•çš„æ•°å­¦è¯´æ˜"><a href="#äºŒã€PCAç®—æ³•çš„æ•°å­¦è¯´æ˜" class="headerlink" title="äºŒã€PCAç®—æ³•çš„æ•°å­¦è¯´æ˜"></a>äºŒã€PCAç®—æ³•çš„æ•°å­¦è¯´æ˜</h2><p>PCAä¸»æˆåˆ†åˆ†æ(Principal Components Analysis)æ˜¯ä¸€ç§é€šè¿‡æ­£äº¤çº¿æ€§ç»„åˆæ–¹å¼ï¼Œæœ€å¤§åŒ–ä¿ç•™æ ·æœ¬é—´æ–¹å·®çš„é™ç»´æ–¹æ³•ã€‚</p><p>ç”¨å‡ ä½•è§‚ç‚¹æ¥çœ‹ï¼ŒPCAä¸»æˆåˆ†åˆ†ææ–¹æ³•å¯ä»¥çœ‹æˆé€šè¿‡<strong>æ­£äº¤å˜æ¢</strong>ï¼Œå¯¹åæ ‡ç³»è¿›è¡Œæ—‹è½¬å’Œå¹³ç§»ï¼Œå¹¶ä¿ç•™æ ·æœ¬ç‚¹æŠ•å½±åæ ‡æ–¹å·®æœ€å¤§çš„å‰å‡ ä¸ªæ–°çš„åæ ‡ã€‚</p><p>è¿™é‡Œæœ‰å‡ ä¸ªå…³é”®è¯éœ€è¦è¯´æ˜:</p><ul><li><strong>é™ç»´ï¼š</strong>å°†æ ·æœ¬åŸæ¥çš„mç»´ç‰¹å¾ç”¨æ›´å°‘çš„kä¸ªç‰¹å¾å–ä»£ã€‚é™ç»´ç®—æ³•å¯ä»¥ç†è§£æˆä¸€ç§æ•°æ®å‹ç¼©æ–¹æ³•ï¼Œå®ƒå¯èƒ½ä¼šä¸¢å¤±ä¸€äº›ä¿¡æ¯ã€‚</li><li><strong>æ­£äº¤çº¿æ€§ç»„åˆï¼š</strong>kä¸ªæ–°ç‰¹å¾æ˜¯é€šè¿‡å¯¹mä¸ªæ—§ç‰¹å¾è¿›è¡Œçº¿æ€§ç»„åˆäº§ç”Ÿçš„ï¼Œå¹¶ä¸”kä¸ªçº¿æ€§ç»„åˆçš„ç³»æ•°å‘é‡ä¸ºå•ä½å‘é‡ï¼Œä¸”å½¼æ­¤ç›¸äº’æ­£äº¤ã€‚</li><li><strong>æœ€å¤§åŒ–ä¿ç•™æ ·æœ¬é—´æ–¹å·®ï¼š</strong>ç¬¬1ä¸ªä¸»æˆåˆ†ç‰¹å¾æœ€å¤§åŒ–æ ·æœ¬é—´ç‰¹å¾æ–¹å·®ï¼Œç¬¬2ä¸ªä¸»æˆåˆ†ç‰¹å¾åœ¨æ»¡è¶³ä¸ç¬¬1ä¸ªä¸»æˆåˆ†æ­£äº¤çº¦æŸæ¡ä»¶ä¸‹æœ€å¤§åŒ–æ ·æœ¬é—´ç‰¹å¾æ–¹å·®â€¦â€¦</li></ul><p><img src="/src/640-1640494499121.webp" alt="å›¾ç‰‡"></p><h2 id="ä¸‰ã€PCAç®—æ³•çš„è°ƒåŒ…èŒƒä¾‹"><a href="#ä¸‰ã€PCAç®—æ³•çš„è°ƒåŒ…èŒƒä¾‹" class="headerlink" title="ä¸‰ã€PCAç®—æ³•çš„è°ƒåŒ…èŒƒä¾‹"></a>ä¸‰ã€PCAç®—æ³•çš„è°ƒåŒ…èŒƒä¾‹</h2><p>ä¸‹é¢çš„èŒƒä¾‹æˆ‘ä»¬è°ƒç”¨sklearnä¸­çš„PCAé™ç»´ç®—æ³•æ¥å£ï¼Œå¯¹æ³¢å£«é¡¿æˆ¿ä»·æ•°æ®é›†è¿›è¡Œé™ç»´(13ç»´é™åˆ°7ç»´)ã€‚</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-title">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><br><span class="hljs-title">boston</span> = datasets.load_boston()<br><span class="hljs-title">dfdata</span> = pd.<span class="hljs-type">DataFrame</span>(boston.<span class="hljs-class"><span class="hljs-keyword">data</span>,columns = boston.feature_names)</span><br><span class="hljs-title">dfdata</span>.head()<br></code></pre></td></tr></table></figure><p><img src="/src/640-1640494499120.webp" alt="å›¾ç‰‡"></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># ä¸åŒç‰¹å¾å–å€¼èŒƒå›´ç›¸å·®è¾ƒå¤§ï¼Œæˆ‘ä»¬é¦–å…ˆè¿›è¡Œæ ‡å‡†æ­£æ€å½’ä¸€åŒ–</span><br><span class="hljs-comment"># å½’ä¸€åŒ–çš„ç»“æœä½œä¸º PCAé™ç»´çš„è¾“å…¥</span><br><span class="hljs-keyword">from</span> sklearn.preprocessing import StandardScaler<br>scaler = StandardScaler()<br>scaler.fit(dfdata.values)<br>X_input = scaler.transform(dfdata.values)<br><br><span class="hljs-comment"># æˆ‘ä»¬çš„è¾“å…¥æœ‰506ä¸ªæ ·æœ¬ï¼Œ13ç»´ç‰¹å¾</span><br><span class="hljs-built_in">print</span>(X_input.shape)<br>(506, 13)<br><span class="hljs-comment"># åº”ç”¨PCAè¿›è¡Œé™ç»´</span><br><br><span class="hljs-keyword">from</span> sklearn.decomposition import PCA<br>pca = PCA(<span class="hljs-attribute">n_components</span>=7)<br>pca.fit(X_input)<br>X_output = pca.transform(X_input)<br><br><span class="hljs-comment"># é™ç»´åï¼Œåªæœ‰7ç»´ç‰¹å¾</span><br><span class="hljs-built_in">print</span>(X_output.shape)<br>(506, 7)<br><span class="hljs-comment"># æŸ¥çœ‹å„ä¸ªä¸»æˆåˆ†å¯¹åº”çš„æ–¹å·®å¤§å°å’Œå å…¨éƒ¨æ–¹å·®çš„æ¯”ä¾‹</span><br><span class="hljs-comment"># å¯ä»¥çœ‹åˆ°å‰7ä¸ªä¸»æˆåˆ†å·²ç»è§£é‡Šäº†æ ·æœ¬åˆ†å¸ƒçš„90%çš„å·®å¼‚äº†ã€‚</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;explained_variance:&quot;</span>)<br><span class="hljs-built_in">print</span>(pca.explained_variance_)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;explained_variance_ratio:&quot;</span>)<br><span class="hljs-built_in">print</span>(pca.explained_variance_ratio_)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;total explained variance ratio of first 7 principal components:&quot;</span>)<br><span class="hljs-built_in">print</span>(sum(pca.explained_variance_ratio_)<br>explained_variance:<br>[6.1389812  1.43611329 1.2450773  0.85927328 0.83646904 0.65870897<br> 0.5364162 ]<br>explained_variance_ratio:<br>[0.47129606 0.11025193 0.0955859  0.06596732 0.06421661 0.05056978<br> 0.04118124]<br>total explained variance ratio of first 7 principal components:<br>0.8990688406240493<br><span class="hljs-comment">#å¯è§†åŒ–å„ä¸ªä¸»æˆåˆ†è´¡çŒ®çš„æ–¹å·®</span><br>%matplotlib inline<br>%config InlineBackend.figure_format = <span class="hljs-string">&#x27;svg&#x27;</span><br><br>import matplotlib.pyplot as plt<br>plt.figure()<br>plt.plot(np.arange(1,8),pca.explained_variance_,<span class="hljs-attribute">linewidth</span>=2)<br>plt.xlabel(<span class="hljs-string">&#x27;components_n&#x27;</span>, <span class="hljs-attribute">fontsize</span>=16)<br>plt.ylabel(<span class="hljs-string">&#x27;explained_variance_&#x27;</span>, <span class="hljs-attribute">fontsize</span>=16)<br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="å›¾ç‰‡"></p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs subunit"># æŸ¥çœ‹é™ç»´å¯¹åº”çš„æ­£äº¤å˜æ¢çŸ©é˜µï¼Œå³å„ä¸ªæŠ•å½±å‘é‡<br>W = pca.components_<br># éªŒè¯æ­£äº¤å…³ç³»<br>np.round(np.dot(W,np.transpose(W)),6)<br>array([[ 1.,  0., <span class="hljs-string">-0</span>., <span class="hljs-string">-0</span>., <span class="hljs-string">-0</span>.,  0., <span class="hljs-string">-0</span>.],<br>       [ 0.,  1., <span class="hljs-string">-0</span>.,  0.,  0., <span class="hljs-string">-0</span>., <span class="hljs-string">-0</span>.],<br>       [<span class="hljs-string">-0</span>., <span class="hljs-string">-0</span>.,  1.,  0., <span class="hljs-string">-0</span>.,  0., <span class="hljs-string">-0</span>.],<br>       [<span class="hljs-string">-0</span>.,  0.,  0.,  1., <span class="hljs-string">-0</span>., <span class="hljs-string">-0</span>.,  0.],<br>       [<span class="hljs-string">-0</span>.,  0., <span class="hljs-string">-0</span>., <span class="hljs-string">-0</span>.,  1.,  0.,  0.],<br>       [ 0., <span class="hljs-string">-0</span>.,  0., <span class="hljs-string">-0</span>.,  0.,  1., <span class="hljs-string">-0</span>.],<br>       [<span class="hljs-string">-0</span>., <span class="hljs-string">-0</span>., <span class="hljs-string">-0</span>.,  0.,  0., <span class="hljs-string">-0</span>.,  1.]])<br># å¯¹é™ç»´åçš„æ•°æ®çš„å‰ä¸¤ç»´è¿›è¡Œæ•£ç‚¹å›¾å¯è§†åŒ–<br><br>%matplotlib inline<br>%config InlineBackend.figure_format = &#x27;svg&#x27;<br><br>plt.scatter(X_output[:,0],X_output[:,1])<br>plt.xlabel(&quot;components_1&quot;)<br>plt.ylabel(&quot;components_2&quot;)<br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="/src/640-1640494499119.webp" alt="å›¾ç‰‡"></p><h2 id="å››ã€PCAç®—æ³•çš„æ•°å­¦åŸç†"><a href="#å››ã€PCAç®—æ³•çš„æ•°å­¦åŸç†" class="headerlink" title="å››ã€PCAç®—æ³•çš„æ•°å­¦åŸç†"></a>å››ã€PCAç®—æ³•çš„æ•°å­¦åŸç†</h2><p>å‰æ–¹é«˜æ•°æé†’ã€‚</p><p>ä¸‹é¢è¿›è¡ŒPCAç®—æ³•çš„æ•°å­¦åŸç†æ¨æ¼”ï¼Œè¯æ˜ç¬¬kä¸ªä¸»æˆåˆ†æŠ•å½±å‘é‡æ°å¥½æ˜¯æ ·æœ¬çš„åæ–¹å·®çŸ©é˜µçš„ç¬¬kå¤§ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ã€‚</p><p>ä¸‹é¢çš„æ¨æ¼”ä¼šä¼šç”¨åˆ°é«˜ç­‰æ•°å­¦ä¸­çš„ä¸€äº›çº¿æ€§ä»£æ•°çŸ¥è¯†å’Œå¾®ç§¯åˆ†çŸ¥è¯†ã€‚</p><p>æ²¡æœ‰ç›¸å…³æ•°å­¦åŸºç¡€çš„åŒå­¦å¯ä»¥è·³è¿‡ï¼Œåœ¨å®è·µä¸­åªè¦æŒæ¡PCAç®—æ³•çš„ç›´è§‰æ¦‚å¿µå’Œè°ƒåŒ…ä½¿ç”¨æ–¹æ³•ï¼ŒåŸºæœ¬å°±å¤Ÿç”¨äº†ã€‚</p><p>å‡å®šæ ·æœ¬ç‰¹å¾ç”¨çŸ©é˜µ$X$è¡¨ç¤ºï¼Œ å…¶æ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªæ ·æœ¬ï¼Œæ¯ä¸€åˆ—è¡¨ç¤ºä¸€ä¸ªç‰¹å¾ã€‚</p><p>å‡å®š$X$æ˜¯$n \times m$ç»´çš„ï¼Œå³$n$ä¸ªæ ·æœ¬ï¼Œ$m$ç»´ç‰¹å¾ã€‚</p><p>ç°åœ¨å¯»æ‰¾$X$çš„ç¬¬ä¸€ä¸ªä¸»æˆåˆ†ã€‚</p><p>å‡å®šç¬¬ä¸€ä¸ªä¸»æˆåˆ†æŠ•å½±å‘é‡æ˜¯$w$ï¼Œå®ƒæ˜¯ä¸€ä¸ªå•ä½åˆ—å‘é‡ï¼Œç»´æ•°ä¸º$m$ï¼Œ</p><p>åˆ™$X$æŠ•å½±åçš„åæ ‡æ˜¯<br>$$<br>y&#x3D;Xw<br>$$<br>æŠ•å½±åçš„æ ·æœ¬é—´çš„åæ ‡æ–¹å·®å¯ä»¥è¡¨ç¤ºä¸º<br>$$<br>var(y)&#x3D;(Xw-\bar{Xw})^T(Xw-\bar{Xw})<br>$$<br>æ æ è¡¨ç¤ºå¯¹æ ·æœ¬æ±‚å¹³å‡ï¼Œç”±äºä¸æ ·æœ¬æ— å…³ï¼Œå¯ä»¥åŒ–ç®€ä¸º:<br>$$<br>var(y)&#x3D;((X-\bar{X})w)^T((X-\bar{X})w)\<br>var(y)&#x3D;w^T(X-\bar{X})^T(X-\bar{X})w<br>$$<br>æ³¨æ„åˆ°$(X-\bar{X})^T(X-\bar{X})$æ°å¥½ä¸º$X$çš„åæ–¹å·®çŸ©é˜µã€‚</p><p>ä¸‹é¢æˆ‘ä»¬è¦è®©è¿™ä¸ªåæ ‡æ–¹å·®æœ€å¤§åŒ–ï¼ŒåŒæ—¶$w$è¦æ»¡è¶³å•ä½é•¿åº¦çº¦æŸ:<br>$$<br>w^Tw&#x3D;1<br>$$<br>å¯¹äºå«æœ‰çº¦æŸæ¡ä»¶çš„æå€¼æ¡ä»¶æ±‚è§£ï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨å¾®ç§¯åˆ†ä¸­çš„æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ã€‚æ„é€ å¦‚ä¸‹æ‹‰æ ¼æœ—æ—¥å‡½æ•°ã€‚<br>$$<br>L(w,\lambda)&#x3D;w^T(X-\bar{X})^T(X-\bar{X})w-\lambda(w^Tw-1)<br>$$<br>å¯ä»¥åˆ©ç”¨ä¸‹æ ‡è¡¨ç¤ºæ–¹æ³•è¯æ˜ï¼Œå¯¹äºäºŒæ¬¡å‹ï¼Œå­˜åœ¨å¦‚ä¸‹å‘é‡æ±‚å¯¼å…¬å¼ï¼š<br>$$<br>\frac{\partial x^TAx}{\partial x}&#x3D;A^Tx+Ax<br>$$<br>å¯ä»¥æ¨å¯¼å¾—åˆ°ï¼š</p><p>$$<br>\frac{\partial L}{\partial w}&#x3D;2(X-\bar{X})^T(X-\bar{X})w-2\lambda w&#x3D;0\<br>(X-\bar{X})^T(X-\bar{X})w&#x3D;\lambda w<br>$$<br>å¯ä»¥çœ‹å‡ºï¼Œ $\lambda$ä¸º$X$åæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å€¼ï¼Œ$w$ä¸ºå¯¹åº”çš„ç‰¹å¾å‘é‡ã€‚ç”±äºåæ–¹å·®çŸ©é˜µä¸ºå®å¯¹ç§°çŸ©é˜µï¼Œå…¶ç‰¹å¾å€¼å¿…å®šå¤§äºç­‰äº0ã€‚</p><p>åŒæ—¶ï¼ŒæŠ•å½±åçš„æ ·æœ¬é—´çš„åæ ‡æ–¹å·®å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p><p>$$<br>var(y)&#x3D;w^T(X-\bar{X})^T(X-\bar{X})w&#x3D;\lambda w^Tw&#x3D;\lambda \ge 0<br>$$<br>ä¸ºäº†æœ€å¤§åŒ–æ ·æœ¬é—´çš„åæ ‡æ–¹å·®ï¼Œ$\lambda$åº”å½“å–$X$åæ–¹å·®çŸ©é˜µçš„æœ€å¤§çš„ç‰¹å¾å€¼ï¼Œåˆ™$w$åº”ä¸º$X$åæ–¹å·®çŸ©é˜µæœ€å¤§ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ã€‚</p><p>ç±»ä¼¼åœ°ï¼Œå¯ä»¥è¯æ˜ç¬¬kä¸ªä¸»æˆåˆ†æŠ•å½±å‘é‡ä¸º$X$åæ–¹å·®çŸ©é˜µçš„ç¬¬kå¤§ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ã€‚</p><p>ç”±äºçŸ©é˜µä¸åŒç‰¹å¾å€¼çš„ç‰¹å¾å‘é‡ç›¸äº’æ­£äº¤ï¼Œå› æ­¤è¿™äº›æŠ•å½±å‘é‡æ»¡è¶³æ­£äº¤æ¡ä»¶ã€‚</p><hr><p>PCAï¼ˆPrincipal Component Analysisï¼‰æ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®åˆ†ææ–¹æ³•ã€‚PCAé€šè¿‡çº¿æ€§å˜æ¢å°†åŸå§‹æ•°æ®å˜æ¢ä¸ºä¸€ç»„å„ç»´åº¦çº¿æ€§æ— å…³çš„è¡¨ç¤ºï¼Œå¯ç”¨äºæå–æ•°æ®çš„ä¸»è¦ç‰¹å¾åˆ†é‡ï¼Œå¸¸ç”¨äºé«˜ç»´æ•°æ®çš„é™ç»´ã€‚ç½‘ä¸Šå…³äºPCAçš„æ–‡ç« æœ‰å¾ˆå¤šï¼Œä½†æ˜¯å¤§å¤šæ•°åªæè¿°äº†PCAçš„åˆ†æè¿‡ç¨‹ï¼Œè€Œæ²¡æœ‰è®²è¿°å…¶ä¸­çš„åŸç†ã€‚è¿™ç¯‡æ–‡ç« çš„ç›®çš„æ˜¯ä»‹ç»PCAçš„åŸºæœ¬æ•°å­¦åŸç†ï¼Œå¸®åŠ©è¯»è€…äº†è§£PCAçš„å·¥ä½œæœºåˆ¶æ˜¯ä»€ä¹ˆã€‚</p><p>æ•°æ®çš„å‘é‡è¡¨ç¤ºåŠé™ç»´é—®é¢˜</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨æ•°æ®æŒ–æ˜å’Œæœºå™¨å­¦ä¹ ä¸­ï¼Œæ•°æ®è¢«è¡¨ç¤ºä¸ºå‘é‡ã€‚ä¾‹å¦‚æŸä¸ªæ·˜å®åº—2012å¹´å…¨å¹´çš„æµé‡åŠäº¤æ˜“æƒ…å†µå¯ä»¥çœ‹æˆä¸€ç»„è®°å½•çš„é›†åˆï¼Œå…¶ä¸­æ¯ä¸€å¤©çš„æ•°æ®æ˜¯ä¸€æ¡è®°å½•ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><p>(æ—¥æœŸ, æµè§ˆé‡, è®¿å®¢æ•°, ä¸‹å•æ•°, æˆäº¤æ•°, æˆäº¤é‡‘é¢)</p><p>å…¶ä¸­â€œæ—¥æœŸâ€æ˜¯ä¸€ä¸ªè®°å½•æ ‡å¿—è€Œéåº¦é‡å€¼ï¼Œè€Œæ•°æ®æŒ–æ˜å…³å¿ƒçš„å¤§å¤šæ˜¯åº¦é‡å€¼ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬å¿½ç•¥æ—¥æœŸè¿™ä¸ªå­—æ®µåï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ç»„è®°å½•ï¼Œæ¯æ¡è®°å½•å¯ä»¥è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªäº”ç»´å‘é‡ï¼Œå…¶ä¸­ä¸€æ¡çœ‹èµ·æ¥å¤§çº¦æ˜¯è¿™ä¸ªæ ·å­ï¼š</p><p><img src="/src/640-1640495441440.webp" alt="å›¾ç‰‡"></p><p>æ³¨æ„è¿™é‡Œæˆ‘ç”¨äº†è½¬ç½®ï¼Œå› ä¸ºä¹ æƒ¯ä¸Šä½¿ç”¨åˆ—å‘é‡è¡¨ç¤ºä¸€æ¡è®°å½•ï¼ˆåé¢ä¼šçœ‹åˆ°åŸå› ï¼‰ï¼Œæœ¬æ–‡åé¢ä¹Ÿä¼šéµå¾ªè¿™ä¸ªå‡†åˆ™ã€‚ä¸è¿‡ä¸ºäº†æ–¹ä¾¿æœ‰æ—¶æˆ‘ä¼šçœç•¥è½¬ç½®ç¬¦å·ï¼Œä½†æˆ‘ä»¬è¯´åˆ°å‘é‡é»˜è®¤éƒ½æ˜¯æŒ‡åˆ—å‘é‡ã€‚</p><p>æˆ‘ä»¬å½“ç„¶å¯ä»¥å¯¹è¿™ä¸€ç»„äº”ç»´å‘é‡è¿›è¡Œåˆ†æå’ŒæŒ–æ˜ï¼Œä¸è¿‡æˆ‘ä»¬çŸ¥é“ï¼Œå¾ˆå¤šæœºå™¨å­¦ä¹ ç®—æ³•çš„å¤æ‚åº¦å’Œæ•°æ®çš„ç»´æ•°æœ‰ç€å¯†åˆ‡å…³ç³»ï¼Œç”šè‡³ä¸ç»´æ•°å‘ˆæŒ‡æ•°çº§å…³è”ã€‚å½“ç„¶ï¼Œè¿™é‡ŒåŒºåŒºäº”ç»´çš„æ•°æ®ï¼Œä¹Ÿè®¸è¿˜æ— æ‰€è°“ï¼Œä½†æ˜¯å®é™…æœºå™¨å­¦ä¹ ä¸­å¤„ç†æˆåƒä¸Šä¸‡ç”šè‡³å‡ åä¸‡ç»´çš„æƒ…å†µä¹Ÿå¹¶ä¸ç½•è§ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœºå™¨å­¦ä¹ çš„èµ„æºæ¶ˆè€—æ˜¯ä¸å¯æ¥å—çš„ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»å¯¹æ•°æ®è¿›è¡Œé™ç»´ã€‚</p><p>é™ç»´å½“ç„¶æ„å‘³ç€ä¿¡æ¯çš„ä¸¢å¤±ï¼Œä¸è¿‡é‰´äºå®é™…æ•°æ®æœ¬èº«å¸¸å¸¸å­˜åœ¨çš„ç›¸å…³æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åŠæ³•åœ¨é™ç»´çš„åŒæ—¶å°†ä¿¡æ¯çš„æŸå¤±å°½é‡é™ä½ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æŸå­¦ç±æ•°æ®æœ‰ä¸¤åˆ—Må’ŒFï¼Œå…¶ä¸­Måˆ—çš„å–å€¼æ˜¯å¦‚ä½•æ­¤å­¦ç”Ÿä¸ºç”·æ€§å–å€¼1ï¼Œä¸ºå¥³æ€§å–å€¼0ï¼›è€ŒFåˆ—æ˜¯å­¦ç”Ÿä¸ºå¥³æ€§å–å€¼1ï¼Œç”·æ€§å–å€¼0ã€‚æ­¤æ—¶å¦‚æœæˆ‘ä»¬ç»Ÿè®¡å…¨éƒ¨å­¦ç±æ•°æ®ï¼Œä¼šå‘ç°å¯¹äºä»»ä½•ä¸€æ¡è®°å½•æ¥è¯´ï¼Œå½“Mä¸º1æ—¶Få¿…å®šä¸º0ï¼Œåä¹‹å½“Mä¸º0æ—¶Få¿…å®šä¸º1ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†Mæˆ–Få»æ‰å®é™…ä¸Šæ²¡æœ‰ä»»ä½•ä¿¡æ¯çš„æŸå¤±ï¼Œå› ä¸ºåªè¦ä¿ç•™ä¸€åˆ—å°±å¯ä»¥å®Œå…¨è¿˜åŸå¦ä¸€åˆ—ã€‚</p><p>å½“ç„¶ä¸Šé¢æ˜¯ä¸€ä¸ªæç«¯çš„æƒ…å†µï¼Œåœ¨ç°å®ä¸­ä¹Ÿè®¸ä¸ä¼šå‡ºç°ï¼Œä¸è¿‡ç±»ä¼¼çš„æƒ…å†µè¿˜æ˜¯å¾ˆå¸¸è§çš„ã€‚ä¾‹å¦‚ä¸Šé¢æ·˜å®åº—é“ºçš„æ•°æ®ï¼Œä»ç»éªŒæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œâ€œæµè§ˆé‡â€å’Œâ€œè®¿å®¢æ•°â€å¾€å¾€å…·æœ‰è¾ƒå¼ºçš„ç›¸å…³å…³ç³»ï¼Œè€Œâ€œä¸‹å•æ•°â€å’Œâ€œæˆäº¤æ•°â€ä¹Ÿå…·æœ‰è¾ƒå¼ºçš„ç›¸å…³å…³ç³»ã€‚è¿™é‡Œæˆ‘ä»¬éæ­£å¼çš„ä½¿ç”¨â€œç›¸å…³å…³ç³»â€è¿™ä¸ªè¯ï¼Œå¯ä»¥ç›´è§‚ç†è§£ä¸ºâ€œå½“æŸä¸€å¤©è¿™ä¸ªåº—é“ºçš„æµè§ˆé‡è¾ƒé«˜ï¼ˆæˆ–è¾ƒä½ï¼‰æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å¾ˆå¤§ç¨‹åº¦ä¸Šè®¤ä¸ºè¿™å¤©çš„è®¿å®¢æ•°ä¹Ÿè¾ƒé«˜ï¼ˆæˆ–è¾ƒä½ï¼‰â€ã€‚åé¢çš„ç« èŠ‚ä¸­æˆ‘ä»¬ä¼šç»™å‡ºç›¸å…³æ€§çš„ä¸¥æ ¼æ•°å­¦å®šä¹‰ã€‚</p><p>è¿™ç§æƒ…å†µè¡¨æ˜ï¼Œå¦‚æœæˆ‘ä»¬åˆ é™¤æµè§ˆé‡æˆ–è®¿å®¢æ•°å…¶ä¸­ä¸€ä¸ªæŒ‡æ ‡ï¼Œæˆ‘ä»¬åº”è¯¥æœŸå¾…å¹¶ä¸ä¼šä¸¢å¤±å¤ªå¤šä¿¡æ¯ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥åˆ é™¤ä¸€ä¸ªï¼Œä»¥é™ä½æœºå™¨å­¦ä¹ ç®—æ³•çš„å¤æ‚åº¦ã€‚</p><p>ä¸Šé¢ç»™å‡ºçš„æ˜¯é™ç»´çš„æœ´ç´ æ€æƒ³æè¿°ï¼Œå¯ä»¥æœ‰åŠ©äºç›´è§‚ç†è§£é™ç»´çš„åŠ¨æœºå’Œå¯è¡Œæ€§ï¼Œä½†å¹¶ä¸å…·æœ‰æ“ä½œæŒ‡å¯¼æ„ä¹‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åˆ°åº•åˆ é™¤å“ªä¸€åˆ—æŸå¤±çš„ä¿¡æ¯æ‰æœ€å°ï¼Ÿäº¦æˆ–æ ¹æœ¬ä¸æ˜¯å•çº¯åˆ é™¤å‡ åˆ—ï¼Œè€Œæ˜¯é€šè¿‡æŸäº›å˜æ¢å°†åŸå§‹æ•°æ®å˜ä¸ºæ›´å°‘çš„åˆ—ä½†åˆä½¿å¾—ä¸¢å¤±çš„ä¿¡æ¯æœ€å°ï¼Ÿåˆ°åº•å¦‚ä½•åº¦é‡ä¸¢å¤±ä¿¡æ¯çš„å¤šå°‘ï¼Ÿå¦‚ä½•æ ¹æ®åŸå§‹æ•°æ®å†³å®šå…·ä½“çš„é™ç»´æ“ä½œæ­¥éª¤ï¼Ÿ</p><p>è¦å›ç­”ä¸Šé¢çš„é—®é¢˜ï¼Œå°±è¦å¯¹é™ç»´é—®é¢˜è¿›è¡Œæ•°å­¦åŒ–å’Œå½¢å¼åŒ–çš„è®¨è®ºã€‚è€ŒPCAæ˜¯ä¸€ç§å…·æœ‰ä¸¥æ ¼æ•°å­¦åŸºç¡€å¹¶ä¸”å·²è¢«å¹¿æ³›é‡‡ç”¨çš„é™ç»´æ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä¸ä¼šç›´æ¥æè¿°PCAï¼Œè€Œæ˜¯é€šè¿‡é€æ­¥åˆ†æé—®é¢˜ï¼Œè®©æˆ‘ä»¬ä¸€èµ·é‡æ–°â€œå‘æ˜â€ä¸€éPCAã€‚</p><p>å‘é‡çš„è¡¨ç¤ºåŠåŸºå˜æ¢</p><p>æ—¢ç„¶æˆ‘ä»¬é¢å¯¹çš„æ•°æ®è¢«æŠ½è±¡ä¸ºä¸€ç»„å‘é‡ï¼Œé‚£ä¹ˆä¸‹é¢æœ‰å¿…è¦ç ”ç©¶ä¸€äº›å‘é‡çš„æ•°å­¦æ€§è´¨ã€‚è€Œè¿™äº›æ•°å­¦æ€§è´¨å°†æˆä¸ºåç»­å¯¼å‡ºPCAçš„ç†è®ºåŸºç¡€ã€‚</p><p><strong>å†…ç§¯ä¸æŠ•å½±</strong></p><p>ä¸‹é¢å…ˆæ¥çœ‹ä¸€ä¸ªé«˜ä¸­å°±å­¦è¿‡çš„å‘é‡è¿ç®—ï¼šå†…ç§¯ã€‚ä¸¤ä¸ªç»´æ•°ç›¸åŒçš„å‘é‡çš„å†…ç§¯è¢«å®šä¹‰ä¸ºï¼š</p><p><img src="/src/640-1640495441325.webp" alt="å›¾ç‰‡"></p><p>å†…ç§¯è¿ç®—å°†ä¸¤ä¸ªå‘é‡æ˜ å°„ä¸ºä¸€ä¸ªå®æ•°ã€‚å…¶è®¡ç®—æ–¹å¼éå¸¸å®¹æ˜“ç†è§£ï¼Œä½†æ˜¯å…¶æ„ä¹‰å¹¶ä¸æ˜æ˜¾ã€‚ä¸‹é¢æˆ‘ä»¬åˆ†æå†…ç§¯çš„å‡ ä½•æ„ä¹‰ã€‚å‡è®¾Aå’ŒBæ˜¯ä¸¤ä¸ªnç»´å‘é‡ï¼Œæˆ‘ä»¬çŸ¥é“nç»´å‘é‡å¯ä»¥ç­‰ä»·è¡¨ç¤ºä¸ºnç»´ç©ºé—´ä¸­çš„ä¸€æ¡ä»åŸç‚¹å‘å°„çš„æœ‰å‘çº¿æ®µï¼Œä¸ºäº†ç®€å•èµ·è§æˆ‘ä»¬å‡è®¾Aå’ŒBå‡ä¸ºäºŒç»´å‘é‡ï¼Œåˆ™A&#x3D;(x1,y1)A&#x3D;(x1,y1)ï¼ŒB&#x3D;(x2,y2)B&#x3D;(x2,y2)ã€‚åˆ™åœ¨äºŒç»´å¹³é¢ä¸ŠAå’ŒBå¯ä»¥ç”¨ä¸¤æ¡å‘è‡ªåŸç‚¹çš„æœ‰å‘çº¿æ®µè¡¨ç¤ºï¼Œè§ä¸‹å›¾ï¼š</p><p><img src="/src/640-1640495441323.webp" alt="å›¾ç‰‡"></p><p>å¥½ï¼Œç°åœ¨æˆ‘ä»¬ä»Aç‚¹å‘Bæ‰€åœ¨ç›´çº¿å¼•ä¸€æ¡å‚çº¿ã€‚æˆ‘ä»¬çŸ¥é“å‚çº¿ä¸Bçš„äº¤ç‚¹å«åšAåœ¨Bä¸Šçš„æŠ•å½±ï¼Œå†è®¾Aä¸Bçš„å¤¹è§’æ˜¯aï¼Œåˆ™æŠ•å½±çš„çŸ¢é‡é•¿åº¦ä¸º<img src="/src/640-1640495441408.webp" alt="å›¾ç‰‡">å…¶ä¸­</p><p><img src="/src/640-1640495441352.webp" alt="å›¾ç‰‡">æ˜¯å‘é‡Açš„æ¨¡ï¼Œä¹Ÿå°±æ˜¯Açº¿æ®µçš„æ ‡é‡é•¿åº¦ã€‚</p><p>æ³¨æ„è¿™é‡Œæˆ‘ä»¬ä¸“é—¨åŒºåˆ†äº†çŸ¢é‡é•¿åº¦å’Œæ ‡é‡é•¿åº¦ï¼Œæ ‡é‡é•¿åº¦æ€»æ˜¯å¤§äºç­‰äº0ï¼Œå€¼å°±æ˜¯çº¿æ®µçš„é•¿åº¦ï¼›è€ŒçŸ¢é‡é•¿åº¦å¯èƒ½ä¸ºè´Ÿï¼Œå…¶ç»å¯¹å€¼æ˜¯çº¿æ®µé•¿åº¦ï¼Œè€Œç¬¦å·å–å†³äºå…¶æ–¹å‘ä¸æ ‡å‡†æ–¹å‘ç›¸åŒæˆ–ç›¸åã€‚</p><p>åˆ°è¿™é‡Œè¿˜æ˜¯çœ‹ä¸å‡ºå†…ç§¯å’Œè¿™ä¸œè¥¿æœ‰ä»€ä¹ˆå…³ç³»ï¼Œä¸è¿‡å¦‚æœæˆ‘ä»¬å°†å†…ç§¯è¡¨ç¤ºä¸ºå¦ä¸€ç§æˆ‘ä»¬ç†Ÿæ‚‰çš„å½¢å¼ï¼š</p><p>Aâ‹…B&#x3D;|A||B|cos(a)</p><p>ç°åœ¨äº‹æƒ…ä¼¼ä¹æ˜¯æœ‰ç‚¹çœ‰ç›®äº†ï¼šAä¸Bçš„å†…ç§¯ç­‰äºAåˆ°Bçš„æŠ•å½±é•¿åº¦ä¹˜ä»¥Bçš„æ¨¡ã€‚å†è¿›ä¸€æ­¥ï¼Œå¦‚æœæˆ‘ä»¬å‡è®¾Bçš„æ¨¡ä¸º1ï¼Œå³è®©|B|&#x3D;1ï¼Œé‚£ä¹ˆå°±å˜æˆäº†ï¼š</p><p>Aâ‹…B&#x3D;|A|cos(a)</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè®¾å‘é‡Bçš„æ¨¡ä¸º1ï¼Œåˆ™Aä¸Bçš„å†…ç§¯å€¼ç­‰äºAå‘Bæ‰€åœ¨ç›´çº¿æŠ•å½±çš„çŸ¢é‡é•¿åº¦ï¼è¿™å°±æ˜¯å†…ç§¯çš„ä¸€ç§å‡ ä½•è§£é‡Šï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å¾—åˆ°çš„ç¬¬ä¸€ä¸ªé‡è¦ç»“è®ºã€‚åœ¨åé¢çš„æ¨å¯¼ä¸­ï¼Œå°†åå¤ä½¿ç”¨è¿™ä¸ªç»“è®ºã€‚</p><p><strong>åŸº</strong></p><p>ä¸‹é¢æˆ‘ä»¬ç»§ç»­åœ¨äºŒç»´ç©ºé—´å†…è®¨è®ºå‘é‡ã€‚ä¸Šæ–‡è¯´è¿‡ï¼Œä¸€ä¸ªäºŒç»´å‘é‡å¯ä»¥å¯¹åº”äºŒç»´ç¬›å¡å°”ç›´è§’åæ ‡ç³»ä¸­ä»åŸç‚¹å‡ºå‘çš„ä¸€ä¸ªæœ‰å‘çº¿æ®µã€‚ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªå‘é‡ï¼š</p><p><img src="/src/640-1640495441314.webp" alt="å›¾ç‰‡"></p><p>åœ¨ä»£æ•°è¡¨ç¤ºæ–¹é¢ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨çº¿æ®µç»ˆç‚¹çš„ç‚¹åæ ‡è¡¨ç¤ºå‘é‡ï¼Œä¾‹å¦‚ä¸Šé¢çš„å‘é‡å¯ä»¥è¡¨ç¤ºä¸º(3,2)ï¼Œè¿™æ˜¯æˆ‘ä»¬å†ç†Ÿæ‚‰ä¸è¿‡çš„å‘é‡è¡¨ç¤ºã€‚</p><p>ä¸è¿‡æˆ‘ä»¬å¸¸å¸¸å¿½ç•¥ï¼Œåªæœ‰ä¸€ä¸ª(3,2)æœ¬èº«æ˜¯ä¸èƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºä¸€ä¸ªå‘é‡çš„ã€‚æˆ‘ä»¬ä»”ç»†çœ‹ä¸€ä¸‹ï¼Œè¿™é‡Œçš„3å®é™…è¡¨ç¤ºçš„æ˜¯å‘é‡åœ¨xè½´ä¸Šçš„æŠ•å½±å€¼æ˜¯3ï¼Œåœ¨yè½´ä¸Šçš„æŠ•å½±å€¼æ˜¯2ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å…¶å®éšå¼å¼•å…¥äº†ä¸€ä¸ªå®šä¹‰ï¼šä»¥xè½´å’Œyè½´ä¸Šæ­£æ–¹å‘é•¿åº¦ä¸º1çš„å‘é‡ä¸ºæ ‡å‡†ã€‚é‚£ä¹ˆä¸€ä¸ªå‘é‡(3,2)å®é™…æ˜¯è¯´åœ¨xè½´æŠ•å½±ä¸º3è€Œyè½´çš„æŠ•å½±ä¸º2ã€‚æ³¨æ„æŠ•å½±æ˜¯ä¸€ä¸ªçŸ¢é‡ï¼Œæ‰€ä»¥å¯ä»¥ä¸ºè´Ÿã€‚</p><p>æ›´æ­£å¼çš„è¯´ï¼Œå‘é‡(x,y)å®é™…ä¸Šè¡¨ç¤ºçº¿æ€§ç»„åˆï¼š</p><p><img src="/src/640-1640495441328.webp" alt="å›¾ç‰‡"></p><p>ä¸éš¾è¯æ˜æ‰€æœ‰äºŒç»´å‘é‡éƒ½å¯ä»¥è¡¨ç¤ºä¸ºè¿™æ ·çš„çº¿æ€§ç»„åˆã€‚æ­¤å¤„(1,0)å’Œ(0,1)å«åšäºŒç»´ç©ºé—´ä¸­çš„ä¸€ç»„åŸºã€‚</p><p><img src="/src/640-1640495441327.webp" alt="å›¾ç‰‡"></p><p>æ‰€ä»¥ï¼Œè¦å‡†ç¡®æè¿°å‘é‡ï¼Œé¦–å…ˆè¦ç¡®å®šä¸€ç»„åŸºï¼Œç„¶åç»™å‡ºåœ¨åŸºæ‰€åœ¨çš„å„ä¸ªç›´çº¿ä¸Šçš„æŠ•å½±å€¼ï¼Œå°±å¯ä»¥äº†ã€‚åªä¸è¿‡æˆ‘ä»¬ç»å¸¸çœç•¥ç¬¬ä¸€æ­¥ï¼Œè€Œé»˜è®¤ä»¥(1,0)å’Œ(0,1)ä¸ºåŸºã€‚</p><p>æˆ‘ä»¬ä¹‹æ‰€ä»¥é»˜è®¤é€‰æ‹©(1,0)å’Œ(0,1)ä¸ºåŸºï¼Œå½“ç„¶æ˜¯æ¯”è¾ƒæ–¹ä¾¿ï¼Œå› ä¸ºå®ƒä»¬åˆ†åˆ«æ˜¯xå’Œyè½´æ­£æ–¹å‘ä¸Šçš„å•ä½å‘é‡ï¼Œå› æ­¤å°±ä½¿å¾—äºŒç»´å¹³é¢ä¸Šç‚¹åæ ‡å’Œå‘é‡ä¸€ä¸€å¯¹åº”ï¼Œéå¸¸æ–¹ä¾¿ã€‚ä½†å®é™…ä¸Šä»»ä½•ä¸¤ä¸ªçº¿æ€§æ— å…³çš„äºŒç»´å‘é‡éƒ½å¯ä»¥æˆä¸ºä¸€ç»„åŸºï¼Œæ‰€è°“çº¿æ€§æ— å…³åœ¨äºŒç»´å¹³é¢å†…å¯ä»¥ç›´è§‚è®¤ä¸ºæ˜¯ä¸¤ä¸ªä¸åœ¨ä¸€æ¡ç›´çº¿ä¸Šçš„å‘é‡ã€‚</p><p>ä¾‹å¦‚ï¼Œ(1,1)å’Œ(-1,1)ä¹Ÿå¯ä»¥æˆä¸ºä¸€ç»„åŸºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›åŸºçš„æ¨¡æ˜¯1ï¼Œå› ä¸ºä»å†…ç§¯çš„æ„ä¹‰å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœåŸºçš„æ¨¡æ˜¯1ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ–¹ä¾¿çš„ç”¨å‘é‡ç‚¹ä¹˜åŸºè€Œç›´æ¥è·å¾—å…¶åœ¨æ–°åŸºä¸Šçš„åæ ‡äº†ï¼å®é™…ä¸Šï¼Œå¯¹åº”ä»»ä½•ä¸€ä¸ªå‘é‡æˆ‘ä»¬æ€»å¯ä»¥æ‰¾åˆ°å…¶åŒæ–¹å‘ä¸Šæ¨¡ä¸º1çš„å‘é‡ï¼Œåªè¦è®©ä¸¤ä¸ªåˆ†é‡åˆ†åˆ«é™¤ä»¥æ¨¡å°±å¥½äº†ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„åŸºå¯ä»¥å˜ä¸º<img src="/src/640-1640495441325.webp" alt="å›¾ç‰‡"></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³è·å¾—(3,2)åœ¨æ–°åŸºä¸Šçš„åæ ‡ï¼Œå³åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šçš„æŠ•å½±çŸ¢é‡å€¼ï¼Œé‚£ä¹ˆæ ¹æ®å†…ç§¯çš„å‡ ä½•æ„ä¹‰ï¼Œæˆ‘ä»¬åªè¦åˆ†åˆ«è®¡ç®—(3,2)å’Œä¸¤ä¸ªåŸºçš„å†…ç§¯ï¼Œä¸éš¾å¾—åˆ°æ–°çš„åæ ‡ä¸º<img src="/src/640-1640495441318.webp" alt="å›¾ç‰‡"></p><p>ä¸‹å›¾ç»™å‡ºäº†æ–°çš„åŸºä»¥åŠ(3,2)åœ¨æ–°åŸºä¸Šåæ ‡å€¼çš„ç¤ºæ„å›¾ï¼š</p><p><img src="/src/640-1640495441354.webp" alt="å›¾ç‰‡"></p><p>å¦å¤–è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åˆ—ä¸¾çš„ä¾‹å­ä¸­åŸºæ˜¯æ­£äº¤çš„ï¼ˆå³å†…ç§¯ä¸º0ï¼Œæˆ–ç›´è§‚è¯´ç›¸äº’å‚ç›´ï¼‰ï¼Œä½†å¯ä»¥æˆä¸ºä¸€ç»„åŸºçš„å”¯ä¸€è¦æ±‚å°±æ˜¯çº¿æ€§æ— å…³ï¼Œéæ­£äº¤çš„åŸºä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¸è¿‡å› ä¸ºæ­£äº¤åŸºæœ‰è¾ƒå¥½çš„æ€§è´¨ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨çš„åŸºéƒ½æ˜¯æ­£äº¤çš„ã€‚</p><p><strong>åŸºå˜æ¢çš„çŸ©é˜µè¡¨ç¤º</strong></p><p>ä¸‹é¢æˆ‘ä»¬æ‰¾ä¸€ç§ç®€ä¾¿çš„æ–¹å¼æ¥è¡¨ç¤ºåŸºå˜æ¢ã€‚è¿˜æ˜¯æ‹¿ä¸Šé¢çš„ä¾‹å­ï¼Œæƒ³ä¸€ä¸‹ï¼Œå°†(3,2)å˜æ¢ä¸ºæ–°åŸºä¸Šçš„åæ ‡ï¼Œå°±æ˜¯ç”¨(3,2)ä¸ç¬¬ä¸€ä¸ªåŸºåšå†…ç§¯è¿ç®—ï¼Œä½œä¸ºç¬¬ä¸€ä¸ªæ–°çš„åæ ‡åˆ†é‡ï¼Œç„¶åç”¨(3,2)ä¸ç¬¬äºŒä¸ªåŸºåšå†…ç§¯è¿ç®—ï¼Œä½œä¸ºç¬¬äºŒä¸ªæ–°åæ ‡çš„åˆ†é‡ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç”¨çŸ©é˜µç›¸ä¹˜çš„å½¢å¼ç®€æ´çš„è¡¨ç¤ºè¿™ä¸ªå˜æ¢ï¼š</p><p><img src="/src/640-1640495441408.webp" alt="å›¾ç‰‡"></p><p>å¤ªæ¼‚äº®äº†ï¼å…¶ä¸­çŸ©é˜µçš„ä¸¤è¡Œåˆ†åˆ«ä¸ºä¸¤ä¸ªåŸºï¼Œä¹˜ä»¥åŸå‘é‡ï¼Œå…¶ç»“æœåˆšå¥½ä¸ºæ–°åŸºçš„åæ ‡ã€‚å¯ä»¥ç¨å¾®æ¨å¹¿ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æœ‰mä¸ªäºŒç»´å‘é‡ï¼Œåªè¦å°†äºŒç»´å‘é‡æŒ‰åˆ—æ’æˆä¸€ä¸ªä¸¤è¡Œmåˆ—çŸ©é˜µï¼Œç„¶åç”¨â€œåŸºçŸ©é˜µâ€ä¹˜ä»¥è¿™ä¸ªçŸ©é˜µï¼Œå°±å¾—åˆ°äº†æ‰€æœ‰è¿™äº›å‘é‡åœ¨æ–°åŸºä¸‹çš„å€¼ã€‚ä¾‹å¦‚(1,1)ï¼Œ(2,2)ï¼Œ(3,3)ï¼Œæƒ³å˜æ¢åˆ°åˆšæ‰é‚£ç»„åŸºä¸Šï¼Œåˆ™å¯ä»¥è¿™æ ·è¡¨ç¤ºï¼š</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/951TjTgiabky2jXhnzqYC7JdLQBWPVKFGc68nlISpkibRGs2uWYyqPIVnwYZUx6GfcExtLkbzUCqaTSib1oHSQ5JA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p><p>äºæ˜¯ä¸€ç»„å‘é‡çš„åŸºå˜æ¢è¢«å¹²å‡€çš„è¡¨ç¤ºä¸ºçŸ©é˜µçš„ç›¸ä¹˜ã€‚</p><p>ä¸€èˆ¬çš„ï¼Œå¦‚æœæˆ‘ä»¬æœ‰Mä¸ªNç»´å‘é‡ï¼Œæƒ³å°†å…¶å˜æ¢ä¸ºç”±Rä¸ªNç»´å‘é‡è¡¨ç¤ºçš„æ–°ç©ºé—´ä¸­ï¼Œé‚£ä¹ˆé¦–å…ˆå°†Rä¸ªåŸºæŒ‰è¡Œç»„æˆçŸ©é˜µAï¼Œç„¶åå°†å‘é‡æŒ‰åˆ—ç»„æˆçŸ©é˜µBï¼Œé‚£ä¹ˆä¸¤çŸ©é˜µçš„ä¹˜ç§¯ABå°±æ˜¯å˜æ¢ç»“æœï¼Œå…¶ä¸­ABçš„ç¬¬måˆ—ä¸ºAä¸­ç¬¬måˆ—å˜æ¢åçš„ç»“æœã€‚</p><p>æ•°å­¦è¡¨ç¤ºä¸ºï¼š</p><p><img src="/src/640-1640495441322.webp" alt="å›¾ç‰‡"></p><p>å…¶ä¸­piæ˜¯ä¸€ä¸ªè¡Œå‘é‡ï¼Œè¡¨ç¤ºç¬¬iä¸ªåŸºï¼Œajæ˜¯ä¸€ä¸ªåˆ—å‘é‡ï¼Œè¡¨ç¤ºç¬¬jä¸ªåŸå§‹æ•°æ®è®°å½•</p><p>ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡ŒRå¯ä»¥å°äºNï¼Œè€ŒRå†³å®šäº†å˜æ¢åæ•°æ®çš„ç»´æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€Nç»´æ•°æ®å˜æ¢åˆ°æ›´ä½ç»´åº¦çš„ç©ºé—´ä¸­å»ï¼Œå˜æ¢åçš„ç»´åº¦å–å†³äºåŸºçš„æ•°é‡ã€‚å› æ­¤è¿™ç§çŸ©é˜µç›¸ä¹˜çš„è¡¨ç¤ºä¹Ÿå¯ä»¥è¡¨ç¤ºé™ç»´å˜æ¢ã€‚</p><p>æœ€åï¼Œä¸Šè¿°åˆ†æåŒæ—¶ç»™çŸ©é˜µç›¸ä¹˜æ‰¾åˆ°äº†ä¸€ç§ç‰©ç†è§£é‡Šï¼šä¸¤ä¸ªçŸ©é˜µç›¸ä¹˜çš„æ„ä¹‰æ˜¯å°†å³è¾¹çŸ©é˜µä¸­çš„æ¯ä¸€åˆ—åˆ—å‘é‡å˜æ¢åˆ°å·¦è¾¹çŸ©é˜µä¸­æ¯ä¸€è¡Œè¡Œå‘é‡ä¸ºåŸºæ‰€è¡¨ç¤ºçš„ç©ºé—´ä¸­å»ã€‚æ›´æŠ½è±¡çš„è¯´ï¼Œä¸€ä¸ªçŸ©é˜µå¯ä»¥è¡¨ç¤ºä¸€ç§çº¿æ€§å˜æ¢ã€‚å¾ˆå¤šåŒå­¦åœ¨å­¦çº¿æ€§ä»£æ•°æ—¶å¯¹çŸ©é˜µç›¸ä¹˜çš„æ–¹æ³•æ„Ÿåˆ°å¥‡æ€ªï¼Œä½†æ˜¯å¦‚æœæ˜ç™½äº†çŸ©é˜µç›¸ä¹˜çš„ç‰©ç†æ„ä¹‰ï¼Œå…¶åˆç†æ€§å°±ä¸€ç›®äº†ç„¶äº†ã€‚</p><p>åæ–¹å·®çŸ©é˜µåŠä¼˜åŒ–ç›®æ ‡</p><p>ä¸Šé¢æˆ‘ä»¬è®¨è®ºäº†é€‰æ‹©ä¸åŒçš„åŸºå¯ä»¥å¯¹åŒæ ·ä¸€ç»„æ•°æ®ç»™å‡ºä¸åŒçš„è¡¨ç¤ºï¼Œè€Œä¸”å¦‚æœåŸºçš„æ•°é‡å°‘äºå‘é‡æœ¬èº«çš„ç»´æ•°ï¼Œåˆ™å¯ä»¥è¾¾åˆ°é™ç»´çš„æ•ˆæœã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰å›ç­”ä¸€ä¸ªæœ€æœ€å…³é”®çš„é—®é¢˜ï¼šå¦‚ä½•é€‰æ‹©åŸºæ‰æ˜¯æœ€ä¼˜çš„ã€‚æˆ–è€…è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ç»„Nç»´å‘é‡ï¼Œç°åœ¨è¦å°†å…¶é™åˆ°Kç»´ï¼ˆKå°äºNï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©Kä¸ªåŸºæ‰èƒ½æœ€å¤§ç¨‹åº¦ä¿ç•™åŸæœ‰çš„ä¿¡æ¯ï¼Ÿ</p><p>è¦å®Œå…¨æ•°å­¦åŒ–è¿™ä¸ªé—®é¢˜éå¸¸ç¹æ‚ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ç§éå½¢å¼åŒ–çš„ç›´è§‚æ–¹æ³•æ¥çœ‹è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä¸ºäº†é¿å…è¿‡äºæŠ½è±¡çš„è®¨è®ºï¼Œæˆ‘ä»¬ä»ä»¥ä¸€ä¸ªå…·ä½“çš„ä¾‹å­å±•å¼€ã€‚å‡è®¾æˆ‘ä»¬çš„æ•°æ®ç”±äº”æ¡è®°å½•ç»„æˆï¼Œå°†å®ƒä»¬è¡¨ç¤ºæˆçŸ©é˜µå½¢å¼ï¼š</p><p><img src="/src/640-1640495441323.webp" alt="å›¾ç‰‡"></p><p>å…¶ä¸­æ¯ä¸€åˆ—ä¸ºä¸€æ¡æ•°æ®è®°å½•ï¼Œè€Œä¸€è¡Œä¸ºä¸€ä¸ªå­—æ®µã€‚ä¸ºäº†åç»­å¤„ç†æ–¹ä¾¿ï¼Œæˆ‘ä»¬é¦–å…ˆå°†æ¯ä¸ªå­—æ®µå†…æ‰€æœ‰å€¼éƒ½å‡å»å­—æ®µå‡å€¼ï¼Œå…¶ç»“æœæ˜¯å°†æ¯ä¸ªå­—æ®µéƒ½å˜ä¸ºå‡å€¼ä¸º0ï¼ˆè¿™æ ·åšçš„é“ç†å’Œå¥½å¤„åé¢ä¼šçœ‹åˆ°ï¼‰ã€‚</p><p>æˆ‘ä»¬çœ‹ä¸Šé¢çš„æ•°æ®ï¼Œç¬¬ä¸€ä¸ªå­—æ®µå‡å€¼ä¸º2ï¼Œç¬¬äºŒä¸ªå­—æ®µå‡å€¼ä¸º3ï¼Œæ‰€ä»¥å˜æ¢åï¼š</p><p><img src="/src/640-1640495441437.webp" alt="å›¾ç‰‡"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹äº”æ¡æ•°æ®åœ¨å¹³é¢ç›´è§’åæ ‡ç³»å†…çš„æ ·å­ï¼š</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/951TjTgiabkyQPnnP8sxicPCfWP6sZKy4VY6cTVl9YN0Q6EpFqRA3EB02zqvAicKqutInibic1SCVfXNAKIcCvX0rsg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p><p>ç°åœ¨é—®é¢˜æ¥äº†ï¼šå¦‚æœæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸€ç»´æ¥è¡¨ç¤ºè¿™äº›æ•°æ®ï¼Œåˆå¸Œæœ›å°½é‡ä¿ç•™åŸå§‹çš„ä¿¡æ¯ï¼Œä½ è¦å¦‚ä½•é€‰æ‹©ï¼Ÿ</p><p>é€šè¿‡ä¸Šä¸€èŠ‚å¯¹åŸºå˜æ¢çš„è®¨è®ºæˆ‘ä»¬çŸ¥é“ï¼Œè¿™ä¸ªé—®é¢˜å®é™…ä¸Šæ˜¯è¦åœ¨äºŒç»´å¹³é¢ä¸­é€‰æ‹©ä¸€ä¸ªæ–¹å‘ï¼Œå°†æ‰€æœ‰æ•°æ®éƒ½æŠ•å½±åˆ°è¿™ä¸ªæ–¹å‘æ‰€åœ¨ç›´çº¿ä¸Šï¼Œç”¨æŠ•å½±å€¼è¡¨ç¤ºåŸå§‹è®°å½•ã€‚è¿™æ˜¯ä¸€ä¸ªå®é™…çš„äºŒç»´é™åˆ°ä¸€ç»´çš„é—®é¢˜ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•é€‰æ‹©è¿™ä¸ªæ–¹å‘ï¼ˆæˆ–è€…è¯´åŸºï¼‰æ‰èƒ½å°½é‡ä¿ç•™æœ€å¤šçš„åŸå§‹ä¿¡æ¯å‘¢ï¼Ÿä¸€ç§ç›´è§‚çš„çœ‹æ³•æ˜¯ï¼šå¸Œæœ›æŠ•å½±åçš„æŠ•å½±å€¼å°½å¯èƒ½åˆ†æ•£ã€‚</p><p>ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹å‡ºå¦‚æœå‘xè½´æŠ•å½±ï¼Œé‚£ä¹ˆæœ€å·¦è¾¹çš„ä¸¤ä¸ªç‚¹ä¼šé‡å åœ¨ä¸€èµ·ï¼Œä¸­é—´çš„ä¸¤ä¸ªç‚¹ä¹Ÿä¼šé‡å åœ¨ä¸€èµ·ï¼Œäºæ˜¯æœ¬èº«å››ä¸ªå„ä¸ç›¸åŒçš„äºŒç»´ç‚¹æŠ•å½±ååªå‰©ä¸‹ä¸¤ä¸ªä¸åŒçš„å€¼äº†ï¼Œè¿™æ˜¯ä¸€ç§ä¸¥é‡çš„ä¿¡æ¯ä¸¢å¤±ï¼ŒåŒç†ï¼Œå¦‚æœå‘yè½´æŠ•å½±æœ€ä¸Šé¢çš„ä¸¤ä¸ªç‚¹å’Œåˆ†å¸ƒåœ¨xè½´ä¸Šçš„ä¸¤ä¸ªç‚¹ä¹Ÿä¼šé‡å ã€‚æ‰€ä»¥çœ‹æ¥xå’Œyè½´éƒ½ä¸æ˜¯æœ€å¥½çš„æŠ•å½±é€‰æ‹©ã€‚æˆ‘ä»¬ç›´è§‚ç›®æµ‹ï¼Œå¦‚æœå‘é€šè¿‡ç¬¬ä¸€è±¡é™å’Œç¬¬ä¸‰è±¡é™çš„æ–œçº¿æŠ•å½±ï¼Œåˆ™äº”ä¸ªç‚¹åœ¨æŠ•å½±åè¿˜æ˜¯å¯ä»¥åŒºåˆ†çš„ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬ç”¨æ•°å­¦æ–¹æ³•è¡¨è¿°è¿™ä¸ªé—®é¢˜ã€‚</p><p><strong>æ–¹å·®</strong></p><p>ä¸Šæ–‡è¯´åˆ°ï¼Œæˆ‘ä»¬å¸Œæœ›æŠ•å½±åæŠ•å½±å€¼å°½å¯èƒ½åˆ†æ•£ï¼Œè€Œè¿™ç§åˆ†æ•£ç¨‹åº¦ï¼Œå¯ä»¥ç”¨æ•°å­¦ä¸Šçš„æ–¹å·®æ¥è¡¨è¿°ã€‚æ­¤å¤„ï¼Œä¸€ä¸ªå­—æ®µçš„æ–¹å·®å¯ä»¥çœ‹åšæ˜¯æ¯ä¸ªå…ƒç´ ä¸å­—æ®µå‡å€¼çš„å·®çš„å¹³æ–¹å’Œçš„å‡å€¼ï¼Œå³ï¼š</p><p><img src="/src/640-1640495441353.webp" alt="å›¾ç‰‡"></p><p>ç”±äºä¸Šé¢æˆ‘ä»¬å·²ç»å°†æ¯ä¸ªå­—æ®µçš„å‡å€¼éƒ½åŒ–ä¸º0äº†ï¼Œå› æ­¤æ–¹å·®å¯ä»¥ç›´æ¥ç”¨æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹å’Œé™¤ä»¥å…ƒç´ ä¸ªæ•°è¡¨ç¤ºï¼š</p><p><img src="/src/640-1640495441327.webp" alt="å›¾ç‰‡"></p><p>äºæ˜¯ä¸Šé¢çš„é—®é¢˜è¢«å½¢å¼åŒ–è¡¨è¿°ä¸ºï¼šå¯»æ‰¾ä¸€ä¸ªä¸€ç»´åŸºï¼Œä½¿å¾—æ‰€æœ‰æ•°æ®å˜æ¢ä¸ºè¿™ä¸ªåŸºä¸Šçš„åæ ‡è¡¨ç¤ºåï¼Œæ–¹å·®å€¼æœ€å¤§ã€‚</p><p><strong>åæ–¹å·®</strong></p><p>å¯¹äºä¸Šé¢äºŒç»´é™æˆä¸€ç»´çš„é—®é¢˜æ¥è¯´ï¼Œæ‰¾åˆ°é‚£ä¸ªä½¿å¾—æ–¹å·®æœ€å¤§çš„æ–¹å‘å°±å¯ä»¥äº†ã€‚ä¸è¿‡å¯¹äºæ›´é«˜ç»´ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜éœ€è¦è§£å†³ã€‚è€ƒè™‘ä¸‰ç»´é™åˆ°äºŒç»´é—®é¢˜ã€‚ä¸ä¹‹å‰ç›¸åŒï¼Œé¦–å…ˆæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªæ–¹å‘ä½¿å¾—æŠ•å½±åæ–¹å·®æœ€å¤§ï¼Œè¿™æ ·å°±å®Œæˆäº†ç¬¬ä¸€ä¸ªæ–¹å‘çš„é€‰æ‹©ï¼Œç»§è€Œæˆ‘ä»¬é€‰æ‹©ç¬¬äºŒä¸ªæŠ•å½±æ–¹å‘ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¿˜æ˜¯å•çº¯åªé€‰æ‹©æ–¹å·®æœ€å¤§çš„æ–¹å‘ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªæ–¹å‘ä¸ç¬¬ä¸€ä¸ªæ–¹å‘åº”è¯¥æ˜¯â€œå‡ ä¹é‡åˆåœ¨ä¸€èµ·â€ï¼Œæ˜¾ç„¶è¿™æ ·çš„ç»´åº¦æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå› æ­¤ï¼Œåº”è¯¥æœ‰å…¶ä»–çº¦æŸæ¡ä»¶ã€‚ä»ç›´è§‚ä¸Šè¯´ï¼Œè®©ä¸¤ä¸ªå­—æ®µå°½å¯èƒ½è¡¨ç¤ºæ›´å¤šçš„åŸå§‹ä¿¡æ¯ï¼Œæˆ‘ä»¬æ˜¯ä¸å¸Œæœ›å®ƒä»¬ä¹‹é—´å­˜åœ¨ï¼ˆçº¿æ€§ï¼‰ç›¸å…³æ€§çš„ï¼Œå› ä¸ºç›¸å…³æ€§æ„å‘³ç€ä¸¤ä¸ªå­—æ®µä¸æ˜¯å®Œå…¨ç‹¬ç«‹ï¼Œå¿…ç„¶å­˜åœ¨é‡å¤è¡¨ç¤ºçš„ä¿¡æ¯ã€‚</p><p>æ•°å­¦ä¸Šå¯ä»¥ç”¨ä¸¤ä¸ªå­—æ®µçš„åæ–¹å·®è¡¨ç¤ºå…¶ç›¸å…³æ€§ï¼Œç”±äºå·²ç»è®©æ¯ä¸ªå­—æ®µå‡å€¼ä¸º0ï¼Œåˆ™ï¼š</p><p><img src="/src/640-1640495441324.webp" alt="å›¾ç‰‡"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å­—æ®µå‡å€¼ä¸º0çš„æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªå­—æ®µçš„åæ–¹å·®ç®€æ´çš„è¡¨ç¤ºä¸ºå…¶å†…ç§¯é™¤ä»¥å…ƒç´ æ•°mã€‚</p><p>å½“åæ–¹å·®ä¸º0æ—¶ï¼Œè¡¨ç¤ºä¸¤ä¸ªå­—æ®µå®Œå…¨ç‹¬ç«‹ã€‚ä¸ºäº†è®©åæ–¹å·®ä¸º0ï¼Œæˆ‘ä»¬é€‰æ‹©ç¬¬äºŒä¸ªåŸºæ—¶åªèƒ½åœ¨ä¸ç¬¬ä¸€ä¸ªåŸºæ­£äº¤çš„æ–¹å‘ä¸Šé€‰æ‹©ã€‚å› æ­¤æœ€ç»ˆé€‰æ‹©çš„ä¸¤ä¸ªæ–¹å‘ä¸€å®šæ˜¯æ­£äº¤çš„ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°äº†é™ç»´é—®é¢˜çš„ä¼˜åŒ–ç›®æ ‡ï¼šå°†ä¸€ç»„Nç»´å‘é‡é™ä¸ºKç»´ï¼ˆKå¤§äº0ï¼Œå°äºNï¼‰ï¼Œå…¶ç›®æ ‡æ˜¯é€‰æ‹©Kä¸ªå•ä½ï¼ˆæ¨¡ä¸º1ï¼‰æ­£äº¤åŸºï¼Œä½¿å¾—åŸå§‹æ•°æ®å˜æ¢åˆ°è¿™ç»„åŸºä¸Šåï¼Œå„å­—æ®µä¸¤ä¸¤é—´åæ–¹å·®ä¸º0ï¼Œè€Œå­—æ®µçš„æ–¹å·®åˆ™å°½å¯èƒ½å¤§ï¼ˆåœ¨æ­£äº¤çš„çº¦æŸä¸‹ï¼Œå–æœ€å¤§çš„Kä¸ªæ–¹å·®ï¼‰ã€‚</p><p><strong>åæ–¹å·®çŸ©é˜µ</strong></p><p>ä¸Šé¢æˆ‘ä»¬å¯¼å‡ºäº†ä¼˜åŒ–ç›®æ ‡ï¼Œä½†æ˜¯è¿™ä¸ªç›®æ ‡ä¼¼ä¹ä¸èƒ½ç›´æ¥ä½œä¸ºæ“ä½œæŒ‡å—ï¼ˆæˆ–è€…è¯´ç®—æ³•ï¼‰ï¼Œå› ä¸ºå®ƒåªè¯´è¦ä»€ä¹ˆï¼Œä½†æ ¹æœ¬æ²¡æœ‰è¯´æ€ä¹ˆåšã€‚æ‰€ä»¥æˆ‘ä»¬è¦ç»§ç»­åœ¨æ•°å­¦ä¸Šç ”ç©¶è®¡ç®—æ–¹æ¡ˆã€‚</p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œæœ€ç»ˆè¦è¾¾åˆ°çš„ç›®çš„ä¸å­—æ®µå†…æ–¹å·®åŠå­—æ®µé—´åæ–¹å·®æœ‰å¯†åˆ‡å…³ç³»ã€‚å› æ­¤æˆ‘ä»¬å¸Œæœ›èƒ½å°†ä¸¤è€…ç»Ÿä¸€è¡¨ç¤ºï¼Œä»”ç»†è§‚å¯Ÿå‘ç°ï¼Œä¸¤è€…å‡å¯ä»¥è¡¨ç¤ºä¸ºå†…ç§¯çš„å½¢å¼ï¼Œè€Œå†…ç§¯åˆä¸çŸ©é˜µç›¸ä¹˜å¯†åˆ‡ç›¸å…³ã€‚äºæ˜¯æˆ‘ä»¬æ¥äº†çµæ„Ÿï¼š</p><p>å‡è®¾æˆ‘ä»¬åªæœ‰aå’Œbä¸¤ä¸ªå­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å®ƒä»¬æŒ‰è¡Œç»„æˆçŸ©é˜µXï¼š</p><p><img src="/src/640-1640495441409.webp" alt="å›¾ç‰‡"></p><p>ç„¶åæˆ‘ä»¬ç”¨Xä¹˜ä»¥Xçš„è½¬ç½®ï¼Œå¹¶ä¹˜ä¸Šç³»æ•°1&#x2F;mï¼š</p><p><img src="/src/640-1640495441326.webp" alt="å›¾ç‰‡"></p><p>å¥‡è¿¹å‡ºç°äº†ï¼è¿™ä¸ªçŸ©é˜µå¯¹è§’çº¿ä¸Šçš„ä¸¤ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯ä¸¤ä¸ªå­—æ®µçš„æ–¹å·®ï¼Œè€Œå…¶å®ƒå…ƒç´ æ˜¯aå’Œbçš„åæ–¹å·®ã€‚ä¸¤è€…è¢«ç»Ÿä¸€åˆ°äº†ä¸€ä¸ªçŸ©é˜µçš„ã€‚</p><p>æ ¹æ®çŸ©é˜µç›¸ä¹˜çš„è¿ç®—æ³•åˆ™ï¼Œè¿™ä¸ªç»“è®ºå¾ˆå®¹æ˜“è¢«æ¨å¹¿åˆ°ä¸€èˆ¬æƒ…å†µï¼š</p><p>è®¾æˆ‘ä»¬æœ‰mä¸ªnç»´æ•°æ®è®°å½•ï¼Œå°†å…¶æŒ‰åˆ—æ’æˆnä¹˜mçš„çŸ©é˜µXï¼Œè®¾<img src="/src/640-1640495441438.webp" alt="å›¾ç‰‡"></p><p>åˆ™Cæ˜¯ä¸€ä¸ªå¯¹ç§°çŸ©é˜µï¼Œå…¶å¯¹è§’çº¿åˆ†åˆ«ä¸ªå„ä¸ªå­—æ®µçš„æ–¹å·®ï¼Œè€Œç¬¬iè¡Œjåˆ—å’Œjè¡Œiåˆ—å…ƒç´ ç›¸åŒï¼Œè¡¨ç¤ºiå’Œjä¸¤ä¸ªå­—æ®µçš„åæ–¹å·®ã€‚</p><p><strong>åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–</strong></p><p>æ ¹æ®ä¸Šè¿°æ¨å¯¼ï¼Œæˆ‘ä»¬å‘ç°è¦è¾¾åˆ°ä¼˜åŒ–ç›®å‰ï¼Œç­‰ä»·äºå°†åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–ï¼šå³é™¤å¯¹è§’çº¿å¤–çš„å…¶å®ƒå…ƒç´ åŒ–ä¸º0ï¼Œå¹¶ä¸”åœ¨å¯¹è§’çº¿ä¸Šå°†å…ƒç´ æŒ‰å¤§å°ä»ä¸Šåˆ°ä¸‹æ’åˆ—ï¼Œè¿™æ ·æˆ‘ä»¬å°±è¾¾åˆ°äº†ä¼˜åŒ–ç›®çš„ã€‚è¿™æ ·è¯´å¯èƒ½è¿˜ä¸æ˜¯å¾ˆæ˜æ™°ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥çœ‹ä¸‹åŸçŸ©é˜µä¸åŸºå˜æ¢åçŸ©é˜µåæ–¹å·®çŸ©é˜µçš„å…³ç³»ï¼š</p><p>è®¾åŸå§‹æ•°æ®çŸ©é˜µXå¯¹åº”çš„åæ–¹å·®çŸ©é˜µä¸ºCï¼Œè€ŒPæ˜¯ä¸€ç»„åŸºæŒ‰è¡Œç»„æˆçš„</p><p>çŸ©é˜µï¼Œè®¾Y&#x3D;PXï¼Œåˆ™Yä¸ºXå¯¹PåšåŸºå˜æ¢åçš„æ•°æ®ã€‚è®¾Yçš„åæ–¹å·®çŸ©é˜µä¸ºDï¼Œæˆ‘ä»¬æ¨å¯¼ä¸€ä¸‹Dä¸Cçš„å…³ç³»ï¼š</p><p><img src="/src/640-1640495441432.webp" alt="å›¾ç‰‡"></p><p>ç°åœ¨äº‹æƒ…å¾ˆæ˜ç™½äº†ï¼æˆ‘ä»¬è¦æ‰¾çš„Pä¸æ˜¯åˆ«çš„ï¼Œè€Œæ˜¯èƒ½è®©åŸå§‹åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–çš„Pã€‚æ¢å¥è¯è¯´ï¼Œä¼˜åŒ–ç›®æ ‡å˜æˆäº†å¯»æ‰¾ä¸€ä¸ªçŸ©é˜µPï¼Œ<img src="/src/640-1640495441433.webp" alt="å›¾ç‰‡">æ»¡è¶³ æ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µï¼Œå¹¶ä¸”å¯¹è§’å…ƒç´ æŒ‰ä»å¤§åˆ°å°ä¾æ¬¡æ’åˆ—ï¼Œé‚£ä¹ˆPçš„å‰Kè¡Œå°±æ˜¯è¦å¯»æ‰¾çš„åŸºï¼Œç”¨Pçš„å‰Kè¡Œç»„æˆçš„çŸ©é˜µä¹˜ä»¥Xå°±ä½¿å¾—Xä»Nç»´é™åˆ°äº†Kç»´å¹¶æ»¡è¶³ä¸Šè¿°ä¼˜åŒ–æ¡ä»¶ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ç¦»â€œå‘æ˜â€PCAè¿˜æœ‰ä»…ä¸€æ­¥ä¹‹é¥ï¼</p><p>ç°åœ¨æ‰€æœ‰ç„¦ç‚¹éƒ½èšç„¦åœ¨äº†åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–é—®é¢˜ä¸Šï¼Œæœ‰æ—¶ï¼Œæˆ‘ä»¬çœŸåº”è¯¥æ„Ÿè°¢æ•°å­¦å®¶çš„å…ˆè¡Œï¼Œå› ä¸ºçŸ©é˜µå¯¹è§’åŒ–åœ¨çº¿æ€§ä»£æ•°é¢†åŸŸå·²ç»å±äºè¢«ç©çƒ‚äº†çš„ä¸œè¥¿ï¼Œæ‰€ä»¥è¿™åœ¨æ•°å­¦ä¸Šæ ¹æœ¬ä¸æ˜¯é—®é¢˜ã€‚</p><p>ç”±ä¸Šæ–‡çŸ¥é“ï¼Œåæ–¹å·®çŸ©é˜µCæ˜¯ä¸€ä¸ªæ˜¯å¯¹ç§°çŸ©é˜µï¼Œåœ¨çº¿æ€§ä»£æ•°ä¸Šï¼Œå®å¯¹ç§°çŸ©é˜µæœ‰ä¸€ç³»åˆ—éå¸¸å¥½çš„æ€§è´¨ï¼š</p><p>1ï¼‰å®å¯¹ç§°çŸ©é˜µä¸åŒç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡å¿…ç„¶æ­£äº¤ã€‚</p><p>2ï¼‰è®¾ç‰¹å¾å‘é‡Î»é‡æ•°ä¸ºrï¼Œåˆ™å¿…ç„¶å­˜åœ¨rä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡å¯¹åº”äºÎ»Î»ï¼Œå› æ­¤å¯ä»¥å°†è¿™rä¸ªç‰¹å¾å‘é‡å•ä½æ­£äº¤åŒ–ã€‚</p><p>ç”±ä¸Šé¢ä¸¤æ¡å¯çŸ¥ï¼Œä¸€ä¸ªnè¡Œnåˆ—çš„å®å¯¹ç§°çŸ©é˜µä¸€å®šå¯ä»¥æ‰¾åˆ°nä¸ªå•ä½æ­£äº¤ç‰¹å¾å‘é‡ï¼Œè®¾è¿™nä¸ªç‰¹å¾å‘é‡ä¸ºe1,e2,â‹¯,enï¼Œæˆ‘ä»¬å°†å…¶æŒ‰åˆ—ç»„æˆçŸ©é˜µï¼š</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/951TjTgiabky2jXhnzqYC7JdLQBWPVKFGg6kzxoUe6Aa2GZ7BktHDtVicKz5eKWLicaPfA5pk34VEtaPXqUY3IYlw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p><p>åˆ™å¯¹åæ–¹å·®çŸ©é˜µCæœ‰å¦‚ä¸‹ç»“è®ºï¼š</p><p><img src="/src/640-1640495441434.webp" alt="å›¾ç‰‡"></p><p>å…¶ä¸­Î›ä¸ºå¯¹è§’çŸ©é˜µï¼Œå…¶å¯¹è§’å…ƒç´ ä¸ºå„ç‰¹å¾å‘é‡å¯¹åº”çš„ç‰¹å¾å€¼ï¼ˆå¯èƒ½æœ‰é‡å¤ï¼‰ã€‚</p><p>ä»¥ä¸Šç»“è®ºä¸å†ç»™å‡ºä¸¥æ ¼çš„æ•°å­¦è¯æ˜ï¼Œå¯¹è¯æ˜æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥å‚è€ƒçº¿æ€§ä»£æ•°ä¹¦ç±å…³äºâ€œå®å¯¹ç§°çŸ©é˜µå¯¹è§’åŒ–â€çš„å†…å®¹ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†éœ€è¦çš„çŸ©é˜µP:</p><p><img src="/src/640-1640495441435.webp" alt="å›¾ç‰‡"></p><p>Pæ˜¯åæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å‘é‡å•ä½åŒ–åæŒ‰è¡Œæ’åˆ—å‡ºçš„çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸€è¡Œéƒ½æ˜¯Cçš„ä¸€ä¸ªç‰¹å¾å‘é‡ã€‚å¦‚æœè®¾PæŒ‰ç…§Î›ä¸­ç‰¹å¾å€¼çš„ä»å¤§åˆ°å°ï¼Œå°†ç‰¹å¾å‘é‡ä»ä¸Šåˆ°ä¸‹æ’åˆ—ï¼Œåˆ™ç”¨Pçš„å‰Kè¡Œç»„æˆçš„çŸ©é˜µä¹˜ä»¥åŸå§‹æ•°æ®çŸ©é˜µXï¼Œå°±å¾—åˆ°äº†æˆ‘ä»¬éœ€è¦çš„é™ç»´åçš„æ•°æ®çŸ©é˜µYã€‚</p><p>è‡³æ­¤æˆ‘ä»¬å®Œæˆäº†æ•´ä¸ªPCAçš„æ•°å­¦åŸç†è®¨è®ºã€‚åœ¨ä¸‹é¢çš„ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†ç»™å‡ºPCAçš„ä¸€ä¸ªå®ä¾‹ã€‚</p><p>ç®—æ³•åŠå®ä¾‹</p><p>ä¸ºäº†å·©å›ºä¸Šé¢çš„ç†è®ºï¼Œæˆ‘ä»¬åœ¨è¿™ä¸€èŠ‚ç»™å‡ºä¸€ä¸ªå…·ä½“çš„PCAå®ä¾‹ã€‚</p><p><strong>PCAç®—æ³•</strong></p><p>æ€»ç»“ä¸€ä¸‹PCAçš„ç®—æ³•æ­¥éª¤ï¼š</p><p>è®¾æœ‰mæ¡nç»´æ•°æ®ã€‚</p><p>1ï¼‰å°†åŸå§‹æ•°æ®æŒ‰åˆ—ç»„æˆnè¡Œmåˆ—çŸ©é˜µX</p><p>2ï¼‰å°†Xçš„æ¯ä¸€è¡Œï¼ˆä»£è¡¨ä¸€ä¸ªå±æ€§å­—æ®µï¼‰è¿›è¡Œé›¶å‡å€¼åŒ–ï¼Œå³å‡å»è¿™ä¸€è¡Œçš„å‡å€¼</p><p>3ï¼‰æ±‚å‡ºåæ–¹å·®çŸ©é˜µ<img src="/src/640-1640495441436.webp" alt="å›¾ç‰‡"></p><p>4ï¼‰æ±‚å‡ºåæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å€¼åŠå¯¹åº”çš„ç‰¹å¾å‘é‡</p><p>5ï¼‰å°†ç‰¹å¾å‘é‡æŒ‰å¯¹åº”ç‰¹å¾å€¼å¤§å°ä»ä¸Šåˆ°ä¸‹æŒ‰è¡Œæ’åˆ—æˆçŸ©é˜µï¼Œå–å‰kè¡Œç»„æˆçŸ©é˜µP</p><p>6ï¼‰Y&#x3D;PXå³ä¸ºé™ç»´åˆ°kç»´åçš„æ•°æ®</p><p><strong>å®ä¾‹</strong></p><p>è¿™é‡Œæ˜¯ä¸Šæ–‡æåˆ°çš„</p><p><img src="/src/640-1640495441436.webp" alt="å›¾ç‰‡"></p><p>ä¸ºä¾‹ï¼Œæˆ‘ä»¬ç”¨PCAæ–¹æ³•å°†è¿™ç»„äºŒç»´æ•°æ®å…¶é™åˆ°ä¸€ç»´ã€‚</p><p>å› ä¸ºè¿™ä¸ªçŸ©é˜µçš„æ¯è¡Œå·²ç»æ˜¯é›¶å‡å€¼ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥æ±‚åæ–¹å·®çŸ©é˜µï¼š</p><p><img src="/src/640-1640495441438.webp" alt="å›¾ç‰‡"></p><p>ç„¶åæ±‚å…¶ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œå…·ä½“æ±‚è§£æ–¹æ³•ä¸å†è¯¦è¿°ï¼Œå¯ä»¥å‚è€ƒç›¸å…³èµ„æ–™ã€‚æ±‚è§£åç‰¹å¾å€¼ä¸ºï¼š</p><p><img src="/src/640-1640495441440.webp" alt="å›¾ç‰‡"></p><p>å…¶å¯¹åº”çš„ç‰¹å¾å‘é‡åˆ†åˆ«æ˜¯ï¼š</p><p><img src="/src/640-1640495441441.webp" alt="å›¾ç‰‡"></p><p>å…¶ä¸­å¯¹åº”çš„ç‰¹å¾å‘é‡åˆ†åˆ«æ˜¯ä¸€ä¸ªé€šè§£ï¼Œc1c1å’Œc2c2å¯å–ä»»æ„å®æ•°ã€‚é‚£ä¹ˆæ ‡å‡†åŒ–åçš„ç‰¹å¾å‘é‡ä¸ºï¼š</p><p><img src="/src/640-1640495441442.webp" alt="å›¾ç‰‡"></p><p>å› æ­¤æˆ‘ä»¬çš„çŸ©é˜µPæ˜¯ï¼š</p><p><img src="/src/640-1640495441442.webp" alt="å›¾ç‰‡"></p><p>å¯ä»¥éªŒè¯åæ–¹å·®çŸ©é˜µCçš„å¯¹è§’åŒ–ï¼š</p><p><img src="/src/640-1640495441443.webp" alt="å›¾ç‰‡"></p><p>æœ€åæˆ‘ä»¬ç”¨Pçš„ç¬¬ä¸€è¡Œä¹˜ä»¥æ•°æ®çŸ©é˜µï¼Œå°±å¾—åˆ°äº†é™ç»´åçš„è¡¨ç¤ºï¼š</p><p><img src="/src/640-1640495441443.webp" alt="å›¾ç‰‡"></p><p>é™ç»´æŠ•å½±ç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/src/640-1640495441464.webp" alt="å›¾ç‰‡"></p><p>è¿›ä¸€æ­¥è®¨è®º</p><p>æ ¹æ®ä¸Šé¢å¯¹PCAçš„æ•°å­¦åŸç†çš„è§£é‡Šï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ä¸€äº›PCAçš„èƒ½åŠ›å’Œé™åˆ¶ã€‚PCAæœ¬è´¨ä¸Šæ˜¯å°†æ–¹å·®æœ€å¤§çš„æ–¹å‘ä½œä¸ºä¸»è¦ç‰¹å¾ï¼Œå¹¶ä¸”åœ¨å„ä¸ªæ­£äº¤æ–¹å‘ä¸Šå°†æ•°æ®â€œç¦»ç›¸å…³â€ï¼Œä¹Ÿå°±æ˜¯è®©å®ƒä»¬åœ¨ä¸åŒæ­£äº¤æ–¹å‘ä¸Šæ²¡æœ‰ç›¸å…³æ€§ã€‚</p><p>å› æ­¤ï¼ŒPCAä¹Ÿå­˜åœ¨ä¸€äº›é™åˆ¶ï¼Œä¾‹å¦‚å®ƒå¯ä»¥å¾ˆå¥½çš„è§£é™¤çº¿æ€§ç›¸å…³ï¼Œä½†æ˜¯å¯¹äºé«˜é˜¶ç›¸å…³æ€§å°±æ²¡æœ‰åŠæ³•äº†ï¼Œå¯¹äºå­˜åœ¨é«˜é˜¶ç›¸å…³æ€§çš„æ•°æ®ï¼Œå¯ä»¥è€ƒè™‘Kernel PCAï¼Œé€šè¿‡Kernelå‡½æ•°å°†éçº¿æ€§ç›¸å…³è½¬ä¸ºçº¿æ€§ç›¸å…³ï¼Œå…³äºè¿™ç‚¹å°±ä¸å±•å¼€è®¨è®ºäº†ã€‚å¦å¤–ï¼ŒPCAå‡è®¾æ•°æ®å„ä¸»ç‰¹å¾æ˜¯åˆ†å¸ƒåœ¨æ­£äº¤æ–¹å‘ä¸Šï¼Œå¦‚æœåœ¨éæ­£äº¤æ–¹å‘ä¸Šå­˜åœ¨å‡ ä¸ªæ–¹å·®è¾ƒå¤§çš„æ–¹å‘ï¼ŒPCAçš„æ•ˆæœå°±å¤§æ‰“æŠ˜æ‰£äº†ã€‚</p><p>æœ€åéœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒPCAæ˜¯ä¸€ç§æ— å‚æ•°æŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯è¯´é¢å¯¹åŒæ ·çš„æ•°æ®ï¼Œå¦‚æœä¸è€ƒè™‘æ¸…æ´—ï¼Œè°æ¥åšç»“æœéƒ½ä¸€æ ·ï¼Œæ²¡æœ‰ä¸»è§‚å‚æ•°çš„ä»‹å…¥ï¼Œæ‰€ä»¥PCAä¾¿äºé€šç”¨å®ç°ï¼Œä½†æ˜¯æœ¬èº«æ— æ³•ä¸ªæ€§åŒ–çš„ä¼˜åŒ–ã€‚</p><p>åœ¨æœºå™¨å­¦ä¹ çš„é¢†åŸŸä¸­ï¼Œæˆ‘ä»¬å¯¹åŸå§‹æ•°æ®è¿›è¡Œç‰¹å¾æå–ï¼Œç»å¸¸ä¼šå¾—åˆ°é«˜ç»´åº¦çš„ç‰¹å¾å‘é‡ã€‚åœ¨è¿™äº›å¤šç‰¹å¾çš„é«˜ç»´ç©ºé—´ä¸­ï¼Œä¼šåŒ…å«ä¸€äº›å†—ä½™å’Œå™ªå£°ã€‚æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›é€šè¿‡é™ç»´çš„æ–¹å¼æ¥å¯»æ‰¾æ•°æ®å†…éƒ¨çš„ç‰¹æ€§ï¼Œæå‡ç‰¹å¾è¡¨è¾¾èƒ½åŠ›ï¼Œé™ä½æ¨¡å‹çš„è®­ç»ƒæˆæœ¬ã€‚PCAæ˜¯ä¸€ç§é™ç»´çš„ç»å…¸ç®—æ³•ï¼Œå±äº<strong>çº¿æ€§ã€éç›‘ç£ã€å…¨å±€</strong>çš„é™ç»´æ–¹æ³•ã€‚ï¿½ï¿½ç»´çš„ç»å…¸ç®—æ³•ï¼Œå±äº<strong>çº¿æ€§ã€éç›‘ç£ã€å…¨å±€</strong>çš„é™ç»´æ–¹æ³•ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”Norm</title>
    <link href="/2022/08/01/MachineLearning/Norm&amp;Distance/"/>
    <url>/2022/08/01/MachineLearning/Norm&amp;Distance/</url>
    
    <content type="html"><![CDATA[<h1 id="èŒƒæ•°-Norm"><a href="#èŒƒæ•°-Norm" class="headerlink" title="èŒƒæ•° Norm"></a>èŒƒæ•° Norm</h1><p>èŒƒæ•°æœ¬è´¨æ˜¯å‘é‡æˆ–è€…çŸ©é˜µæ˜ å°„åˆ°å®æ•°åŸŸçš„å•å€¼å‡½æ•°ã€‚</p><blockquote><p>å‡è®¾$N(x)&#x3D;\Vert x \Vert$æ˜¯å®šä¹‰åœ¨$R^n$ä¸Šçš„å‡½æ•°ï¼Œå¥¹éœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š</p><ul><li>éè´Ÿæ€§ï¼š$\Vert x \Vert \ge 0 $ï¼Œå½“ä¸”ä»…å½“$x&#x3D;0$æ—¶ï¼Œ$\Vert x \Vert &#x3D; 0 $</li><li>é½æ¬¡æ€§ï¼š$\Vert kx \Vert &#x3D;  \Vert x \Vert *\Vert k \Vert, \quad k \in R$</li><li>ä¸‰è§’ä¸ç­‰æ€§ï¼šå¯¹äº$\forall x,y \in R^n, \quad \Vert x+y \Vert \le \Vert x \Vert+\Vert y \Vert$</li></ul><p>åˆ™ç§°$N(x)&#x3D;\Vert x \Vert$åœ¨$R^n$ä¸Šå‘é‡$x$çš„èŒƒæ•°</p></blockquote><p>é‚£ä¹ˆï¼Œå‘é‡èŒƒæ•°å’ŒçŸ©é˜µèŒƒæ•°è¾“å‡ºéƒ½æ˜¯ä¸€ä¸ªå€¼ï¼Œå®æ•°å€¼ã€‚åªä¸è¿‡è¾“å…¥ç©ºé—´ä¸åŒç½¢äº†ã€‚ä»–ä»¬éƒ½æ˜¯ä¸ºäº†èƒ½å¤Ÿæ›´æ˜¾æ€§çš„ä½“ç°å‡ºä¸€ä¸ªå‘é‡å’ŒçŸ©é˜µçš„å¤§å°ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›èŒƒæ•°çš„å›¾ç¤ºï¼š</p><p><img src="/img/image-20211214115802005.png" alt="image-20211214115802005"></p><p>åŒæ ·ï¼ŒèŒƒæ•°ä¹Ÿå¯ä»¥æœ‰ç›¸å¯¹åº”çš„å˜åŒ–è¶‹åŠ¿ï¼Œä»ä¸‹å›¾ä¸­ä¸éš¾å‘ç°ä¸€äº›ä¸œè¥¿ï¼š</p><p><img src="/img/IMG_0522.JPG" alt="QQå›¾ç‰‡20211216152534"></p><h2 id="Vector-èŒƒæ•°è®¡ç®—å…¬å¼"><a href="#Vector-èŒƒæ•°è®¡ç®—å…¬å¼" class="headerlink" title="Vector èŒƒæ•°è®¡ç®—å…¬å¼:"></a>Vector èŒƒæ•°è®¡ç®—å…¬å¼:</h2><p>$$<br>\Vert x\Vert_1&#x3D; \sum_{i&#x3D;1}^N |x_i| \<br>\Vert x\Vert_2&#x3D; \sqrt {\sum_{i&#x3D;1}^N x_i^2} \<br>\Vert x\Vert_p&#x3D; ({\sum_{i&#x3D;1}^N x_i^p})^{\frac{1}{p}} \<br>\Vert x\Vert _\infty&#x3D; \max|x_i|<br>$$</p><h2 id="Matrix-èŒƒæ•°è®¡ç®—å…¬å¼"><a href="#Matrix-èŒƒæ•°è®¡ç®—å…¬å¼" class="headerlink" title="Matrix èŒƒæ•°è®¡ç®—å…¬å¼:"></a>Matrix èŒƒæ•°è®¡ç®—å…¬å¼:</h2><p>$$<br>A_{m\times n}\<br>\Vert A\Vert_1&#x3D; \max_j \sum_{i&#x3D;1}^m |a_{ij}| \<br>\Vert A\Vert_2&#x3D; \sqrt {\lambda_{max}(A^TA)} \<br>\Vert A\Vert_F&#x3D; ({\sum_{i&#x3D;1}^m \sum_{j&#x3D;1}^n |a_{ij}|^2})^{\frac{1}{2}} \<br>\Vert A\Vert_\infty&#x3D; \max_i \sum_{j&#x3D;1}^n|a_{ij}|<br>$$</p><p>èŒƒæ•°çš„åº”ç”¨ï¼šåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼ŒèŒƒæ•°æœ€å¸¸è§çš„ä½œç”¨æ˜¯æ¥å¯¹ç›®æ ‡å‡½æ•°è¿›è¡Œæƒ©ç½šï¼Œè¾¾åˆ°æ­£åˆ™åŒ–çš„æ•ˆæœï¼Œä»¥å…ç›®æ ‡å‡½æ•°è¿‡æ‹Ÿåˆã€‚å½“ç„¶é¢å¯¹æ¨¡å‹è¿‡æ‹Ÿåˆçš„æ–¹æ³•ä¸æ­¢æ­£åˆ™åŒ–è¿™ä¸€ç§ï¼Œè¿˜æœ‰å¢åŠ æ•°æ®ï¼Œç‰¹å¾æå–ç­‰æ–¹å¼ã€‚</p><p>$L_1$èŒƒæ•°(Lasso)å’Œ$L_0$èŒƒæ•°é€šè¿‡æ­£åˆ™åŒ–å¾—åˆ°ç¨€ç–è§£<br>$L_2$èŒƒæ•°(Ridge)é€šè¿‡æ­£åˆ™åŒ–å¾—åˆ°ç¨ å¯†è§£ï¼Œè¿™ç§æ–¹æ³•æœ‰ä¸ªä¸“æœ‰çš„åå­—ï¼šæƒå€¼è¡°å‡</p><p>é¦–å…ˆå†™å‡ºL1æ­£åˆ™åŒ–å’ŒL2æ­£åˆ™åŒ–çš„å…¬å¼ï¼š</p><h2 id="ç”¨ç­‰é«˜çº¿å±•ç¤ºL1ï¼ŒL2æ­£åˆ™åŒ–çš„æ­£ç¡®å§¿åŠ¿"><a href="#ç”¨ç­‰é«˜çº¿å±•ç¤ºL1ï¼ŒL2æ­£åˆ™åŒ–çš„æ­£ç¡®å§¿åŠ¿" class="headerlink" title="ç”¨ç­‰é«˜çº¿å±•ç¤ºL1ï¼ŒL2æ­£åˆ™åŒ–çš„æ­£ç¡®å§¿åŠ¿"></a>ç”¨ç­‰é«˜çº¿å±•ç¤ºL1ï¼ŒL2æ­£åˆ™åŒ–çš„æ­£ç¡®å§¿åŠ¿</h2><p><img src="/img/640-16463600254073.png" alt="å›¾ç‰‡">L1ï¼ŒL2æ­£åˆ™åŒ–ç¤ºæ„å›¾</p><p>å›¾ä¸­ï¼š</p><ul><li>è“è‰²çš„ä¸€å±‚å±‚çš„çº¿ï¼Œä»£è¡¨<strong>æ­£åˆ™é¡¹çš„ç­‰é«˜çº¿</strong>ï¼Œå¯¹äºL1ï¼Œå®ƒæ˜¯è±å½¢çš„ï¼Œå¯¹äºL2ï¼Œå®ƒæ˜¯åœ†å½¢çš„ï¼›</li><li>ç»¿è‰²çš„ä¸€å±‚å±‚çš„åœ†åœˆï¼Œä»£è¡¨<strong>åŸå§‹æŸå¤±å‡½æ•°çš„ç­‰é«˜çº¿å›¾</strong>ï¼›</li><li>é»‘è‰²çš„æ˜¯åæ ‡è½´ï¼Œè¿™é‡Œå±•ç¤ºçš„æ˜¯äºŒç»´ç‰¹å¾çš„åæ ‡è½´ã€‚</li></ul><p><strong>å…³é”®çš„å…³é”®</strong>ï¼š</p><ol><li>è“è‰²çš„ç­‰é«˜çº¿å’Œç»¿è‰²çš„ç­‰é«˜çº¿ï¼Œåˆ†åˆ«ä»£è¡¨äº†ä¸¤ä¸ªä¼˜åŒ–é—®é¢˜ã€‚å¯¹åŸå§‹çš„æŸå¤±å‡½æ•°Jæ·»åŠ äº†æ­£åˆ™åƒä¹‹åï¼Œä¼˜åŒ–é—®é¢˜å°±å˜æˆäº†ä¸¤ä¸ªå­ä¼˜åŒ–é—®é¢˜çš„åšå¼ˆã€‚</li><li>å½“Jå’Œæ­£åˆ™é¡¹ä¹‹å’Œæœ€å°æ—¶ï¼Œä¸Šè¿°çš„åšå¼ˆå–å¾—å¹³è¡¡ã€‚è€Œæ­¤æ—¶å¹³è¡¡ç‚¹ä¸€å®šæ˜¯ç›¸åˆ‡ç‚¹&#x2F;ç«¯ç‚¹ã€‚ç›¸åˆ‡ç‚¹çš„å…·ä½“ä½ç½®ï¼Œå–å†³äºæ­£åˆ™é¡¹çš„æƒ©ç½šåŠ›åº¦ï¼Œä¹Ÿå°±æ˜¯å…¬å¼é‡Œçš„ã€‚æ¯ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œå¯¹åº”ç€ä¸€ä¸ªçš„è®¾ç½®ã€‚</li></ol><ul><li>å¯ä»¥æƒ³è±¡ï¼š<strong>å½“æƒ©ç½šåŠ›åº¦å¤§æ—¶ï¼Œè“è‰²çš„çº¿å¸Œæœ›æ‰¯ç€ç»¿è‰²çš„çº¿ï¼Œå¾€é è¿‘åæ ‡è½´çš„æ–¹å‘ç§»åŠ¨</strong>ï¼Œè€Œ<strong>æƒ©ç½šåŠ›åº¦å°æ—¶ï¼Œç»¿è‰²çš„çº¿å¸Œæœ›æ‰¯ç€è“è‰²çš„çº¿ï¼Œå¾€è¿œç¦»åæ ‡è½´çš„æ–¹å‘ç§»åŠ¨</strong>ã€‚</li></ul><p>é‚£ä¹ˆå°±å¥½ç†è§£äº†ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼š</p><ul><li>å¯¹äºL1æ­£åˆ™åŒ–ï¼Œè“çº¿å’Œç»¿çº¿çš„ç›¸åˆ‡ç‚¹ï¼Œéšç€è“çº¿ä¸æ–­é è¿‘åæ ‡è½´ï¼Œæ—©æ™šä¼šç¢°åˆ°åæ ‡è½´ï¼ŒæŠµè¾¾åæ ‡è½´ä¹‹åï¼Œæœ€ä¼˜ç‚¹ä¼šä¿æŒåœ¨L1ç­‰é«˜çº¿çš„ç«¯ç‚¹å¤„ï¼Œä¾ç„¶åœ¨åæ ‡è½´ä¸Šï¼Œæ•…æŸä¸ªç‰¹å¾çš„å€¼ä¼šå˜ä¸º0ã€‚</li><li>è€ŒL2çš„ç›¸åˆ‡ç‚¹åˆ™åªèƒ½æ— é™æ¥è¿‘åæ ‡è½´ï¼Œæƒ©ç½šåŠ›åº¦å†å¤§ï¼Œéƒ½åˆ°ä¸äº†0ã€‚</li></ul><h3 id="ä¸Šé¢è¿™ä¸ªå›¾è¿˜æ˜¯å¤æ‚äº†ç‚¹å„¿ï¼Œèƒ½ä¸èƒ½åˆ†è§£-x2F-åˆ†æ­¥ä¸€ä¸‹ï¼Ÿ"><a href="#ä¸Šé¢è¿™ä¸ªå›¾è¿˜æ˜¯å¤æ‚äº†ç‚¹å„¿ï¼Œèƒ½ä¸èƒ½åˆ†è§£-x2F-åˆ†æ­¥ä¸€ä¸‹ï¼Ÿ" class="headerlink" title="ä¸Šé¢è¿™ä¸ªå›¾è¿˜æ˜¯å¤æ‚äº†ç‚¹å„¿ï¼Œèƒ½ä¸èƒ½åˆ†è§£&#x2F;åˆ†æ­¥ä¸€ä¸‹ï¼Ÿ"></a>ä¸Šé¢è¿™ä¸ªå›¾è¿˜æ˜¯å¤æ‚äº†ç‚¹å„¿ï¼Œèƒ½ä¸èƒ½åˆ†è§£&#x2F;åˆ†æ­¥ä¸€ä¸‹ï¼Ÿ</h3><p>å½“ç„¶ï¼ŒçœŸæ­£è®©æˆ‘å½»åº•ç†è§£çš„ï¼Œæ˜¯å½“æˆ‘ç”»å‡ºä¸‹é¢è¿™ä¸ªå›¾çš„æ—¶å€™ï¼š</p><p><img src="/img/640-16463600254074.png" alt="å›¾ç‰‡">L1æ­£åˆ™åŒ–ç¤ºæ„å›¾</p><p><img src="/img/640-16463600254075.gif" alt="å›¾ç‰‡"></p><p>å›¾ä¸­å±•ç¤ºçš„éƒ½æ˜¯è¾¾åˆ°æœ€ä¼˜çš„æ—¶å€™çš„ä¸¤ä¸ªç­‰é«˜çº¿çš„å…³ç³»ã€‚å›¾æ³¨éƒ½å†™åœ¨å›¾ç‰‡é‡Œäº†ï¼Œéšç€çš„å¢å¤§ï¼ŒL1çš„è“è‰²çš„æ–¹æ¡†ä¸æ–­ç¼©å°ï¼Œæ‹‰æ‰¯ç€Jçš„ç»¿è‰²åœ†åœˆå˜å¤§ï¼Œç¬¬ä¸‰å¼ å­å›¾çš„æ—¶å€™ï¼Œæœ€ä¼˜ç‚¹åˆ°è¾¾äº†L1çš„é¡¶ç‚¹ï¼Œåé¢å¦‚æœç»§ç»­å¢å¤§çš„è¯ï¼Œæœ€ä¼˜ç‚¹ä¼šæ²¿ç€çºµåæ ‡å¾€ä¸‹æ»‘ã€‚æ‰€ä»¥ï¼Œå½“è¶…è¿‡æŸä¸ªé˜ˆå€¼çš„æ—¶å€™ï¼Œæœ€ä¼˜è§£ä¸­çš„w1å°±ä¼šæ€»ç­‰äº0.</p><p><img src="/img/640-16463600254076.png" alt="å›¾ç‰‡">L2ç†è§£èµ·æ¥å°±ç®€å•å¤šäº†ï¼Œä¸¤ä¸ªåœ†ä¸€ç›´éƒ½æ˜¯ç›¸åˆ‡çš„çŠ¶æ€ï¼Œåˆ‡ç‚¹æ°¸è¿œåˆ°ä¸äº†åŸç‚¹ï¼Œä¹Ÿå°±æ²¡æ³•è®©æŸä¸ªç‰¹å¾ç­‰äº0ã€‚</p><p>è¿™ä¸¤å¼ å›¾ï¼Œæ‰çœŸæ­£å±•ç¤ºäº†ä¸€èˆ¬æƒ…å†µä¸‹çš„L1å’ŒL2æ­£åˆ™åŒ–çš„ç‰¹ç‚¹ï¼Œè§£é‡Šäº†ä¸ºä»€ä¹ˆL1æ­£åˆ™åŒ–ä¼šå¯¼è‡´ç¨€ç–è§£ã€‚</p><h2 id="æœ€åè¾…ä»¥æ¨å¯¼"><a href="#æœ€åè¾…ä»¥æ¨å¯¼" class="headerlink" title="æœ€åè¾…ä»¥æ¨å¯¼"></a>æœ€åè¾…ä»¥æ¨å¯¼</h2><p>åªæœ‰ä»ç›´è§‰ä¸Šï¼Œé“ç†ä¸Šç†è§£äº†L1å’ŒL2çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å†å»ç”¨æ•°å­¦æ¨å¯¼æ‰æœ‰æ„ä¹‰ã€‚</p><p>è¦çœ‹æ˜¯å¦ä¼šå¯¼è‡´ç¨€ç–è§£ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹0é™„è¿‘çš„å¯¼æ•°æ˜¯å¦å¯¼è‡´0æ˜¯å…¶é‚»åŸŸå†…çš„æå€¼ç‚¹ï¼š</p><p><img src="/img/640-16463600254087.png" alt="å›¾ç‰‡"></p><p><img src="/img/640-16463600254088.png" alt="å›¾ç‰‡">å‡è®¾Jåœ¨0å¤„çš„å¯¼æ•°æ˜¯ä¸€ä¸ªå¾ˆå°çš„æ­£æ•°ï¼Œé‚£ä¹ˆåœ¨0çš„é‚»åŸŸå†…ï¼ŒJçš„å¯¼æ•°å’ŒJçš„å¤§è‡´çš„æ ·å­</p><p>ä¸Šé¢çš„æ¨å¯¼è¡¨æ˜ï¼Œå¯¹äºL1ï¼Œ0çš„é‚»åŸŸå†…ï¼Œå­˜åœ¨æŸç§æ¡ä»¶ï¼Œä½¿å¾—å¯¼æ•°å…ˆè´Ÿåæ­£ï¼Œå³å‡½æ•°å…ˆå‡åå¢ï¼Œæ‰€ä»¥0æ˜¯æå€¼ç‚¹ã€‚è€Œæ¡ä»¶æ˜¯ï¼šåŸæŸå¤±å‡½æ•°Jåœ¨æŸå‚æ•°ä¸º0å¤„çš„å¯¼æ•°åœ¨èŒƒå›´å†…ã€‚è¿™ä¸ªæ¡ä»¶ï¼Œè¯´ç›´ç™½ä¸€ç‚¹å°±æ˜¯<strong>æœ‰æ²¡æœ‰æŸç‰¹å¾å¯¹æŸå¤±å‡½æ•°å½±å“ä¸å¤§</strong>ã€‚</p><p>è€ŒL2åœ¨0å¤„çš„å¯¼æ•°ï¼Œå°±ç­‰äºJåœ¨0å¤„çš„å¯¼æ•°ã€‚åªæœ‰å½“åŸå§‹ä¼˜åŒ–é—®é¢˜çš„æœ€ä¼˜è§£æœ¬èº«å°±æ˜¯ç¨€ç–è§£çš„æ—¶å€™ï¼Œæ‰ä¼šä½¿å¾—è¯¥å‚æ•°ä¸º0ï¼Œè€Œè¿™ä¸ªæ˜¾ç„¶ä¸å¸¸è§ã€‚</p><p>æœ€åçš„æœ€åè¡¥å……ä¸€å¥ï¼Œå‰é¢æˆ‘ä¸€ç›´è¯´çš„â€œå¯¼è‡´â€ç¨€ç–è§£ï¼Œæçš„å¥½åƒç¨€ç–è§£æ˜¯æŸç§ä¸å¥½çš„åæœä¸€æ ·ï¼Œä¸æ˜¯çš„ã€‚å…¶å®L1è¿™ä¸ªç‰¹ç‚¹ï¼Œç»å¸¸è¢«ç”¨æ¥è¿›è¡Œç‰¹å¾é€‰æ‹©ï¼Œå› ä¸ºå®ƒå¯ä»¥æ‰¾å‡ºé‚£äº›ä¸é‡è¦çš„ç‰¹å¾ã€‚</p><h1 id="è·ç¦»-Distanceï¼š"><a href="#è·ç¦»-Distanceï¼š" class="headerlink" title="è·ç¦» Distanceï¼š"></a>è·ç¦» Distanceï¼š</h1><p>æ—¢ç„¶è¯´äº†èŒƒæ•°ï¼Œè·ç¦»æ¯”è¾ƒæ˜¯ä¸¤ä¸ª<br>$p \in \mathbb{R}^m,\ q \in \mathbb{R}^m$</p><p>$$<br>L_1(p,q)&#x3D; \sum_{i&#x3D;1}^m |p_i-q_i|\<br>L_2(p,q)&#x3D; [\sum_{i&#x3D;1}^m (p_i-q_i)^2]^\frac{1}{2}\<br>L_p(p,q)&#x3D; \max |p_i-q_i|<br>$$</p><p>$L_1$ç§°è¡—åŒºè·ç¦»ï¼Œåˆç§°Manhattan Distance<br>$L_2$ç§°æ¬§å¼è·ç¦»ï¼Œåˆç§°Euclidean Distance<br>$L_1$ç§°åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼Œåˆç§°Minkowski Distance</p><p>è·ç¦»(distanceï¼Œå·®å¼‚ç¨‹åº¦)ã€ç›¸ä¼¼åº¦(similarityï¼Œç›¸ä¼¼ç¨‹åº¦)æ–¹æ³•å¯ä»¥çœ‹ä½œæ˜¯ä»¥æŸç§çš„è·ç¦»å‡½æ•°è®¡ç®—å…ƒç´ é—´çš„è·ç¦»ï¼Œè¿™äº›æ–¹æ³•ä½œä¸ºæœºå™¨å­¦ä¹ çš„åŸºç¡€æ¦‚å¿µï¼Œå¹¿æ³›åº”ç”¨äºå¦‚ï¼šKmeansèšç±»ã€ååŒè¿‡æ»¤æ¨èç®—æ³•ã€ç›¸ä¼¼åº¦ç®—æ³•ã€MSEæŸå¤±å‡½æ•°ç­‰ç­‰ã€‚æœ¬æ–‡å¯¹å¸¸ç”¨çš„è·ç¦»è®¡ç®—æ–¹æ³•è¿›è¡Œå½’çº³ä»¥åŠè§£æï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ç±»å±•å¼€ï¼š</p><h2 id="é—µæ°è·ç¦»ï¼ˆMinkowski-Distanceï¼‰ç±»"><a href="#é—µæ°è·ç¦»ï¼ˆMinkowski-Distanceï¼‰ç±»" class="headerlink" title="é—µæ°è·ç¦»ï¼ˆMinkowski Distanceï¼‰ç±»"></a>é—µæ°è·ç¦»ï¼ˆMinkowski Distanceï¼‰ç±»</h2><h3 id="é—µæ°è·ç¦»ï¼ˆMinkowski-Distanceï¼‰"><a href="#é—µæ°è·ç¦»ï¼ˆMinkowski-Distanceï¼‰" class="headerlink" title="é—µæ°è·ç¦»ï¼ˆMinkowski Distanceï¼‰"></a>é—µæ°è·ç¦»ï¼ˆMinkowski Distanceï¼‰</h3><p>å¯¹äºç‚¹x&#x3D;(x1,x2.xn) ä¸ç‚¹y&#x3D;(y1,y2.yn) , é—µæ°è·ç¦»å¯ä»¥ç”¨ä¸‹å¼è¡¨ç¤ºï¼š<br><a href="https://camo.githubusercontent.com/4623a6a2ac3e0f0b122f6ea01512b9bb109a9ef9bd36d1f83fb3d568d25ee125/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d363261656565393930313837396330382e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/4623a6a2ac3e0f0b122f6ea01512b9bb109a9ef9bd36d1f83fb3d568d25ee125/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d363261656565393930313837396330382e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img-1.png"></a></p><p>é—µæ°è·ç¦»æ˜¯å¯¹å¤šä¸ªè·ç¦»åº¦é‡å…¬å¼çš„æ¦‚æ‹¬æ€§çš„è¡¨è¿°ï¼Œp&#x3D;1é€€åŒ–ä¸ºæ›¼å“ˆé¡¿è·ç¦»ï¼›p&#x3D;2é€€åŒ–ä¸ºæ¬§æ°è·ç¦»ï¼›åˆ‡æ¯”é›ªå¤«è·ç¦»æ˜¯é—µæ°è·ç¦»å–æé™çš„å½¢å¼ã€‚</p><h3 id="æ›¼å“ˆé¡¿è·ç¦»ï¼ˆManhattan-Distanceï¼‰VS-æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆEuclidean-Distanceï¼‰"><a href="#æ›¼å“ˆé¡¿è·ç¦»ï¼ˆManhattan-Distanceï¼‰VS-æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆEuclidean-Distanceï¼‰" class="headerlink" title="æ›¼å“ˆé¡¿è·ç¦»ï¼ˆManhattan Distanceï¼‰VS æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆEuclidean Distanceï¼‰"></a>æ›¼å“ˆé¡¿è·ç¦»ï¼ˆManhattan Distanceï¼‰VS æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆEuclidean Distanceï¼‰</h3><p>æ›¼å“ˆé¡¿è·ç¦» å…¬å¼ï¼š</p><p><a href="https://camo.githubusercontent.com/c6d190e0f05b6be207141bb173883768f2d7d9de4192e3a824b59e7e13c122e5/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d383666393835326261386361343936612e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/c6d190e0f05b6be207141bb173883768f2d7d9de4192e3a824b59e7e13c122e5/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d383666393835326261386361343936612e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><p>æ¬§å‡ é‡Œå¾—è·ç¦»å…¬å¼ï¼š</p><p><a href="https://camo.githubusercontent.com/c88270c10bd37a31194b953d24a814e9e5c72ce9f9f824089390171836e90ac9/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d306431313631616131303636396535392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/c88270c10bd37a31194b953d24a814e9e5c72ce9f9f824089390171836e90ac9/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d306431313631616131303636396535392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><p>å¦‚ä¸‹å›¾è“çº¿çš„è·ç¦»å³æ˜¯æ›¼å“ˆé¡¿è·ç¦»ï¼ˆæƒ³è±¡ä½ åœ¨æ›¼å“ˆé¡¿è¦ä»ä¸€ä¸ªåå­—è·¯å£å¼€è½¦åˆ°å¦å¤–ä¸€ä¸ªåå­—è·¯å£å®é™…é©¾é©¶è·ç¦»å°±æ˜¯è¿™ä¸ªâ€œæ›¼å“ˆé¡¿è·ç¦»â€ï¼Œæ­¤å³æ›¼å“ˆé¡¿è·ç¦»åç§°çš„æ¥æºï¼Œä¹Ÿç§°ä¸ºåŸå¸‚è¡—åŒºè·ç¦»ï¼‰ï¼Œçº¢çº¿ä¸ºæ¬§å‡ é‡Œå¾—è·ç¦»ï¼š</p><p>[<img src="https://camo.githubusercontent.com/2ec05a4b25f50cff3e51999d90ca96ca5bfc4c554c221fba02c91a3ff1026bfd/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d373066626637643862363130323464662e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></p><h3 id="åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼ˆChebyshev-Distanceï¼‰"><a href="#åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼ˆChebyshev-Distanceï¼‰" class="headerlink" title="åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼ˆChebyshev Distanceï¼‰"></a>åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼ˆChebyshev Distanceï¼‰</h3><p>åˆ‡æ¯”é›ªå¤«è·ç¦»èµ·æºäºå›½é™…è±¡æ£‹ä¸­å›½ç‹çš„èµ°æ³•ï¼Œå›½é™…è±¡æ£‹ä¸­å›½ç‹æ¯æ¬¡åªèƒ½å¾€å‘¨å›´çš„8æ ¼ä¸­èµ°ä¸€æ­¥ï¼Œé‚£ä¹ˆå¦‚æœè¦ä»æ£‹ç›˜ä¸­Aæ ¼(x1,y1)èµ°åˆ°Bæ ¼(x2,y2)æœ€å°‘éœ€è¦èµ°å‡ æ­¥ï¼Ÿä½ ä¼šå‘ç°æœ€å°‘æ­¥æ•°æ€»æ˜¯max(|x2-x1|,|y2-y1|)æ­¥ã€‚æœ‰ä¸€ç§ç±»ä¼¼çš„ä¸€ç§è·ç¦»åº¦é‡æ–¹æ³•å«åˆ‡æ¯”é›ªå¤«è·ç¦»ã€‚</p><p><a href="https://camo.githubusercontent.com/7144c9f505ae682075bc81922bfb44d7e737fffc73057a4dc456d308777ca96d/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d653866306436313763653665393036342e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/7144c9f505ae682075bc81922bfb44d7e737fffc73057a4dc456d308777ca96d/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d653866306436313763653665393036342e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><p>åˆ‡æ¯”é›ªå¤«è·ç¦»å°±æ˜¯å½“pè¶‹å‘äºæ— ç©·å¤§æ—¶çš„é—µæ°è·ç¦»ï¼š</p><p><a href="https://camo.githubusercontent.com/dbb3c1b8e27f59afda6c9092c5a52fa1ebacde632cdfda1fd5f1fed244b544cd/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d623239623737633263636466346238652e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/dbb3c1b8e27f59afda6c9092c5a52fa1ebacde632cdfda1fd5f1fed244b544cd/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d623239623737633263636466346238652e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><h2 id="é—µæ°è·ç¦»çš„ç›¸å…³çŸ¥è¯†"><a href="#é—µæ°è·ç¦»çš„ç›¸å…³çŸ¥è¯†" class="headerlink" title="é—µæ°è·ç¦»çš„ç›¸å…³çŸ¥è¯†"></a>é—µæ°è·ç¦»çš„ç›¸å…³çŸ¥è¯†</h2><h3 id="è·ç¦»åº¦é‡çš„å®šä¹‰"><a href="#è·ç¦»åº¦é‡çš„å®šä¹‰" class="headerlink" title="è·ç¦»åº¦é‡çš„å®šä¹‰"></a>è·ç¦»åº¦é‡çš„å®šä¹‰</h3><p>è·ç¦»å‡½æ•°å¹¶ä¸ä¸€å®šæ˜¯è·ç¦»åº¦é‡ï¼Œå½“è·ç¦»å‡½æ•°è¦ä½œä¸ºè·ç¦»åº¦é‡ï¼Œéœ€è¦æ»¡è¶³ï¼š<br><a href="https://camo.githubusercontent.com/b41d73b203a6f172280a80af85066ef590bbc7b0d7832b1ffdebeb354ff74594/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d613464623231383730346430393936362e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/b41d73b203a6f172280a80af85066ef590bbc7b0d7832b1ffdebeb354ff74594/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d613464623231383730346430393936362e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a><br>ç”±æ­¤å¯è§ï¼Œé—µæ°è·ç¦»å¯ä»¥ä½œä¸ºè·ç¦»åº¦é‡ï¼Œè€Œå¤§éƒ¨åˆ†çš„ç›¸ä¼¼åº¦å¹¶ä¸èƒ½ä½œä¸ºè·ç¦»åº¦é‡ã€‚</p><h3 id="LpèŒƒæ•°"><a href="#LpèŒƒæ•°" class="headerlink" title="LpèŒƒæ•°"></a>LpèŒƒæ•°</h3><blockquote><p>å‘é‡çš„èŒƒæ•°å¯ä»¥ç®€å•å½¢è±¡çš„ç†è§£ä¸ºå‘é‡çš„é•¿åº¦ï¼Œæˆ–è€…å‘é‡åˆ°é›¶ç‚¹çš„è·ç¦»ï¼Œæˆ–è€…ç›¸åº”çš„ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è·ç¦»ã€‚</p></blockquote><p>é—µæ°è·ç¦»ä¹Ÿæ˜¯LpèŒƒæ•°ï¼ˆå¦‚p&#x3D;&#x3D;2ä¸ºå¸¸ç”¨L2èŒƒæ•°æ­£åˆ™åŒ–ï¼‰çš„ä¸€èˆ¬åŒ–å®šä¹‰ã€‚<br>ä¸‹å›¾ç»™å‡ºäº†ä¸€ä¸ªLpçƒï¼ˆ ||X||p &#x3D; 1 ï¼‰çš„å½¢çŠ¶éšç€Pçš„å‡å°‘çš„å¯è§†åŒ–å›¾ï¼š</p><p>[<img src="https://camo.githubusercontent.com/30b84347233498518d718b53e20a714163e3a88eefb86381e53673d6efe57288/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d623163646335383163343734663638312e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></p><h3 id="ç»´åº¦ç¾éš¾çš„é—®é¢˜"><a href="#ç»´åº¦ç¾éš¾çš„é—®é¢˜" class="headerlink" title="ç»´åº¦ç¾éš¾çš„é—®é¢˜"></a>ç»´åº¦ç¾éš¾çš„é—®é¢˜</h3><p>è·ç¦»åº¦é‡éšç€ç©ºé—´çš„ç»´åº¦dçš„ä¸æ–­å¢åŠ ï¼Œè®¡ç®—é‡å¤æ‚ä¹Ÿé€å¢ï¼Œå¦å¤–åœ¨é«˜ç»´ç©ºé—´ä¸‹ï¼Œåœ¨ç»´åº¦è¶Šé«˜çš„æƒ…å†µä¸‹ï¼Œä»»æ„æ ·æœ¬ä¹‹é—´çš„è·ç¦»è¶Šè¶‹äºç›¸ç­‰ï¼ˆæ ·æœ¬é—´æœ€å¤§ä¸æœ€å°æ¬§æ°è·ç¦»ä¹‹é—´çš„ç›¸å¯¹å·®è·å°±è¶‹è¿‘äº0ï¼‰ï¼Œä¹Ÿå°±æ˜¯ç»´åº¦ç¾éš¾çš„é—®é¢˜ï¼Œå¦‚ä¸‹å¼ç»“è®ºï¼š</p><p><a href="https://camo.githubusercontent.com/29dcd66a01c383eb0639a8b961865fb5b1583aa00d07144021780bde0014d287/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d363961623461613263656638343563392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/29dcd66a01c383eb0639a8b961865fb5b1583aa00d07144021780bde0014d287/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d363961623461613263656638343563392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><p>å¯¹äºç»´åº¦ç¾éš¾çš„é—®é¢˜ï¼Œå¸¸ç”¨çš„æœ‰PCAæ–¹æ³•è¿›è¡Œé™ç»´è®¡ç®—ã€‚</p><h3 id="é‡çº²å·®å¼‚é—®é¢˜"><a href="#é‡çº²å·®å¼‚é—®é¢˜" class="headerlink" title="é‡çº²å·®å¼‚é—®é¢˜"></a>é‡çº²å·®å¼‚é—®é¢˜</h3><p>å‡è®¾å„æ ·æœ¬æœ‰å¹´é¾„ï¼Œå·¥èµ„ä¸¤ä¸ªå˜é‡ï¼Œè®¡ç®—æ¬§æ°è·ç¦»ï¼ˆp&#x3D;2ï¼‰çš„æ—¶å€™ï¼Œ(å¹´é¾„1-å¹´é¾„2)Â² çš„å€¼è¦è¿œå°äº(å·¥èµ„1-å·¥èµ„2)Â² ï¼Œè¿™æ„å‘³ç€åœ¨ä¸ä½¿ç”¨ç‰¹å¾ç¼©æ”¾çš„æƒ…å†µä¸‹ï¼Œè·ç¦»ä¼šè¢«å·¥èµ„å˜é‡ï¼ˆå¤§çš„æ•°å€¼ï¼‰ä¸»å¯¼, ç‰¹åˆ«å½“pè¶Šå¤§ï¼Œå•ä¸€ç»´åº¦çš„å·®å€¼å¯¹æ•´ä½“çš„å½±å“å°±è¶Šå¤§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ç‰¹å¾ç¼©æ”¾æ¥å°†å…¨éƒ¨çš„æ•°å€¼ç»Ÿä¸€åˆ°ä¸€ä¸ªé‡çº§ä¸Šæ¥è§£å†³æ­¤é—®é¢˜ã€‚åŸºæœ¬çš„è§£å†³æ–¹æ³•å¯ä»¥å¯¹æ•°æ®è¿›è¡Œâ€œæ ‡å‡†åŒ–â€å’Œâ€œå½’ä¸€åŒ–â€ã€‚</p><p><a href="https://camo.githubusercontent.com/117e3aa79041a5a08a1f9d11225c95101c0b442b1a606bd70939414d073730bd/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d376166376436353939626663343731302e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/117e3aa79041a5a08a1f9d11225c95101c0b442b1a606bd70939414d073730bd/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d376166376436353939626663343731302e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><p>å¦å¤–å¯ä»¥ä½¿ç”¨é©¬æ°è·ç¦»ï¼ˆåæ–¹å·®è·ç¦»ï¼‰ï¼Œä¸æ¬§å¼è·ç¦»ä¸åŒå…¶è€ƒè™‘åˆ°å„ç§ç‰¹æ€§ä¹‹é—´çš„è”ç³»æ˜¯ï¼ˆé‡çº²ï¼‰å°ºåº¦æ— å…³ (Scale Invariant) çš„ï¼Œå¯ä»¥æ’é™¤å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§çš„å¹²æ‰°ï¼Œç¼ºç‚¹æ˜¯å¤¸å¤§äº†å˜åŒ–å¾®å°çš„å˜é‡çš„ä½œç”¨ã€‚é©¬æ°è·ç¦»å®šä¹‰ä¸ºï¼š</p><p><a href="https://camo.githubusercontent.com/5307b4ca8788ed4bc62b3c7b1f979f723ae1c1c3af7882a32495b7e0817995fe/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d333736356331613736376431376662632e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/5307b4ca8788ed4bc62b3c7b1f979f723ae1c1c3af7882a32495b7e0817995fe/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d333736356331613736376431376662632e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a><br>é©¬æ°è·ç¦»åŸç†æ˜¯ä½¿ç”¨çŸ©é˜µå¯¹ä¸¤ä¸¤å‘é‡è¿›è¡ŒæŠ•å½±åï¼Œå†é€šè¿‡å¸¸è§„çš„æ¬§å‡ é‡Œå¾—è·ç¦»åº¦é‡ä¸¤å¯¹è±¡é—´çš„è·ç¦»ã€‚å½“åæ–¹å·®çŸ©é˜µä¸ºå•ä½çŸ©é˜µï¼Œé©¬æ°è·ç¦»å°±ç®€åŒ–ä¸ºæ¬§æ°è·ç¦»ï¼›å¦‚æœåæ–¹å·®çŸ©é˜µä¸ºå¯¹è§’é˜µï¼Œå…¶ä¹Ÿå¯ç§°ä¸ºæ­£è§„åŒ–çš„æ¬§æ°è·ç¦»ã€‚</p><h2 id="äºŒã€ç›¸ä¼¼åº¦ï¼ˆSimilarity"><a href="#äºŒã€ç›¸ä¼¼åº¦ï¼ˆSimilarity" class="headerlink" title="äºŒã€ç›¸ä¼¼åº¦ï¼ˆSimilarity)"></a>äºŒã€ç›¸ä¼¼åº¦ï¼ˆSimilarity)</h2><ul><li><h2 id="ä½™å¼¦ç›¸ä¼¼åº¦-Cosine-Similarity"><a href="#ä½™å¼¦ç›¸ä¼¼åº¦-Cosine-Similarity" class="headerlink" title="ä½™å¼¦ç›¸ä¼¼åº¦ (Cosine Similarity)"></a>ä½™å¼¦ç›¸ä¼¼åº¦ (Cosine Similarity)</h2></li></ul><p>æ ¹æ®å‘é‡x,yçš„ç‚¹ç§¯å…¬å¼ï¼š</p><p><a href="https://camo.githubusercontent.com/97312fbe79e84ebdf0d9e26600b2be9d2aa2fca3a960545bc5c81777fef8b885/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d616531383266336535386263313639392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/97312fbe79e84ebdf0d9e26600b2be9d2aa2fca3a960545bc5c81777fef8b885/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d616531383266336535386263313639392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å‘é‡é—´å¤¹è§’çš„coså€¼ä½œä¸ºå‘é‡ç›¸ä¼¼åº¦[1]ï¼š<br><a href="https://camo.githubusercontent.com/776b7fdb349dcee3c1f5b2ed112ad41734de0fcd091346f8fe9c21d5767614c0/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d356365623632316437623031323166392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/776b7fdb349dcee3c1f5b2ed112ad41734de0fcd091346f8fe9c21d5767614c0/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d356365623632316437623031323166392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a><br>ä½™å¼¦ç›¸ä¼¼åº¦çš„å–å€¼èŒƒå›´ä¸ºï¼š-1~1ï¼Œ1 è¡¨ç¤ºä¸¤è€…å®Œå…¨æ­£ç›¸å…³ï¼Œ-1 è¡¨ç¤ºä¸¤è€…å®Œå…¨è´Ÿç›¸å…³ï¼Œ0 è¡¨ç¤ºä¸¤è€…ä¹‹é—´ç‹¬ç«‹ã€‚ä½™å¼¦ç›¸ä¼¼åº¦ä¸å‘é‡çš„é•¿åº¦æ— å…³ï¼Œåªä¸å‘é‡çš„æ–¹å‘æœ‰å…³ï¼Œä½†ä½™å¼¦ç›¸ä¼¼åº¦ä¼šå—åˆ°å‘é‡å¹³ç§»çš„å½±å“ï¼ˆä¸Šå¼å¦‚æœå°† x å¹³ç§»åˆ° x+1, ä½™å¼¦å€¼å°±ä¼šæ”¹å˜ï¼‰ã€‚</p><p>å¦å¤–ï¼Œå½’ä¸€åŒ–åè®¡ç®—æ¬§æ°è·ç¦»ï¼Œç­‰ä»·äºä½™å¼¦å€¼ï¼šä¸¤ä¸ªå‘é‡x,y, å¤¹è§’ä¸ºAï¼Œæ¬§æ°è·ç¦»D&#x3D;(x-y)^2 &#x3D; x^2+y^2-2|x||y|cosA &#x3D; 2-2cosA</p><ul><li><h2 id="åæ–¹å·®"><a href="#åæ–¹å·®" class="headerlink" title="åæ–¹å·®"></a>åæ–¹å·®</h2></li></ul><p>åæ–¹å·®æ˜¯è¡¡é‡å¤šç»´æ•°æ®é›†ä¸­ï¼Œå˜é‡ä¹‹é—´ç›¸å…³æ€§çš„ç»Ÿè®¡é‡ã€‚å¦‚ä¸‹å…¬å¼Xï¼ŒYçš„åæ–¹å·®å³æ˜¯ï¼ŒXå‡å»å…¶å‡å€¼ ä¹˜ä»¥ Yå‡å»å…¶å‡å€¼ï¼Œæ‰€å¾—æ¯ä¸€ç»„æ•°å€¼çš„æœŸæœ›ï¼ˆå¹³å‡å€¼ï¼‰ã€‚<br><a href="https://camo.githubusercontent.com/e9c0245a31394f581649c72447cc489e1768e8605dba1ec06e5eecaf98a144f9/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d633165613066666637373132613162392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/e9c0245a31394f581649c72447cc489e1768e8605dba1ec06e5eecaf98a144f9/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d633165613066666637373132613162392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a><br>å¦‚æœä¸¤ä¸ªå˜é‡ä¹‹é—´çš„åæ–¹å·®ä¸ºæ­£å€¼ï¼Œåˆ™è¿™ä¸¤ä¸ªå˜é‡ä¹‹é—´å­˜åœ¨æ­£ç›¸å…³ï¼Œè‹¥ä¸ºè´Ÿå€¼ï¼Œåˆ™ä¸ºè´Ÿç›¸å…³ã€‚</p><ul><li><h2 id="çš®å°”é€Šç›¸å…³ç³»æ•°-Pearson-Correlation"><a href="#çš®å°”é€Šç›¸å…³ç³»æ•°-Pearson-Correlation" class="headerlink" title="çš®å°”é€Šç›¸å…³ç³»æ•° (Pearson Correlation)"></a>çš®å°”é€Šç›¸å…³ç³»æ•° (Pearson Correlation)</h2></li></ul><p>çš®å°”é€Šç›¸å…³ç³»æ•°æ•°å€¼èŒƒå›´ä¹Ÿæ˜¯[-1ï¼Œ1]ã€‚çš®å°”é€Šç›¸å…³ç³»æ•°å¯çœ‹ä½œæ˜¯åœ¨ä½™å¼¦ç›¸ä¼¼åº¦æˆ–åæ–¹å·®åŸºç¡€ä¸Šåšäº†ä¼˜åŒ–ï¼ˆå˜é‡çš„åæ–¹å·®é™¤ä»¥æ ‡å‡†å·®ï¼‰ã€‚å®ƒæ¶ˆé™¤æ¯ä¸ªåˆ†é‡æ ‡å‡†ä¸åŒï¼ˆåˆ†æ•°è†¨èƒ€ï¼‰çš„å½±å“ï¼Œå…·æœ‰å¹³ç§»ä¸å˜æ€§å’Œå°ºåº¦ä¸å˜æ€§ã€‚<br><a href="https://camo.githubusercontent.com/d2c73bf5409d45a7ff8e511db1a91f61d8ee329a49de9bb2cc2857ee1e33b943/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d333039306462633763633066646162372e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/d2c73bf5409d45a7ff8e511db1a91f61d8ee329a49de9bb2cc2857ee1e33b943/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d333039306462633763633066646162372e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><ul><li><h2 id="å¡æ–¹æ£€éªŒ"><a href="#å¡æ–¹æ£€éªŒ" class="headerlink" title="å¡æ–¹æ£€éªŒ"></a>å¡æ–¹æ£€éªŒ</h2></li></ul><p>å¡æ–¹æ£€éªŒX2ï¼Œä¸»è¦æ˜¯æ¯”è¾ƒä¸¤ä¸ªåˆ†ç±»å˜é‡çš„å…³è”æ€§ã€ç‹¬ç«‹æ€§åˆ†æã€‚å¦‚ä¸‹å…¬å¼ï¼ŒAä»£è¡¨å®é™…é¢‘æ•°ï¼›Eä»£è¡¨æœŸæœ›é¢‘æ•°ï¼š<br><a href="https://camo.githubusercontent.com/187c4caa4617f742db957740ebaecbdc112bffad74664c845526736e50acbd91/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d303137356136626432663937626139642e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/187c4caa4617f742db957740ebaecbdc112bffad74664c845526736e50acbd91/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d303137356136626432663937626139642e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><h2 id="ä¸‰ã€å­—ç¬¦ä¸²è·ç¦»-Distance-of-Strings"><a href="#ä¸‰ã€å­—ç¬¦ä¸²è·ç¦»-Distance-of-Strings" class="headerlink" title="ä¸‰ã€å­—ç¬¦ä¸²è·ç¦»(Distance of Strings)"></a>ä¸‰ã€å­—ç¬¦ä¸²è·ç¦»(Distance of Strings)</h2><ul><li><h2 id="Levenshtein-è·ç¦»"><a href="#Levenshtein-è·ç¦»" class="headerlink" title="Levenshtein è·ç¦»"></a>Levenshtein è·ç¦»</h2></li></ul><p>Levenshtein è·ç¦»æ˜¯ ç¼–è¾‘è·ç¦» (Editor Distance) çš„ä¸€ç§ï¼ŒæŒ‡ä¸¤ä¸ªå­—ä¸²ä¹‹é—´ï¼Œç”±ä¸€ä¸ªè½¬æˆå¦ä¸€ä¸ªæ‰€éœ€çš„æœ€å°‘ç¼–è¾‘æ“ä½œæ¬¡æ•°ã€‚å…è®¸çš„ç¼–è¾‘æ“ä½œåŒ…æ‹¬å°†ä¸€ä¸ªå­—ç¬¦æ›¿æ¢æˆå¦ä¸€ä¸ªå­—ç¬¦ï¼Œæ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚<br>åƒhalloä¸helloä¸¤ä¸ªå­—ç¬¦ä¸²ç¼–è¾‘è·ç¦»å°±æ˜¯1ï¼Œæˆ‘ä»¬é€šè¿‡æ›¿æ¢â€aâ€œ ä¸º â€eâ€œï¼Œå°±å¯ä»¥å®Œæˆè½¬æ¢ã€‚<br><a href="https://camo.githubusercontent.com/22b9d5369d4ec6667d4339a72f19784bbbc0fd7f825a7c852c2e898fe0107886/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d303431386563333736633134393365382e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/22b9d5369d4ec6667d4339a72f19784bbbc0fd7f825a7c852c2e898fe0107886/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d303431386563333736633134393365382e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><ul><li><h2 id="æ±‰æ˜è·ç¦»"><a href="#æ±‰æ˜è·ç¦»" class="headerlink" title="æ±‰æ˜è·ç¦»"></a>æ±‰æ˜è·ç¦»</h2></li></ul><p>æ±‰æ˜è·ç¦»ä¸ºä¸¤ä¸ªç­‰é•¿å­—ç¬¦ä¸²å¯¹åº”ä½ç½®çš„ä¸åŒå­—ç¬¦çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²å˜æ¢æˆå¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²æ‰€éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼š1011101 ä¸ 1001001 ä¹‹é—´çš„æ±‰æ˜è·ç¦»æ˜¯ 2ï¼Œâ€œtonedâ€ ä¸ â€œrosesâ€ ä¹‹é—´çš„æ±‰æ˜è·ç¦»æ˜¯ 3</p><ul><li><h2 id="å¸¦æƒé‡çš„å­—ç¬¦ä¸²è·ç¦»"><a href="#å¸¦æƒé‡çš„å­—ç¬¦ä¸²è·ç¦»" class="headerlink" title="å¸¦æƒé‡çš„å­—ç¬¦ä¸²è·ç¦»"></a>å¸¦æƒé‡çš„å­—ç¬¦ä¸²è·ç¦»</h2></li></ul><p>å¦å¤–çš„ï¼Œå¯¹äºå­—ç¬¦ä¸²è·ç¦»æ¥è¯´ï¼Œä¸åŒå­—ç¬¦æ‰€å çš„ä»½é‡æ˜¯ä¸ä¸€æ ·çš„ã€‚æ¯”å¦‚â€æˆ‘ä¹äº†â€œ ä¸ã€â€œæˆ‘æ€’äº†â€ï¼Œâ€æˆ‘ä¹äº†å•Šâ€ ã€‘çš„Levenshtein è·ç¦»éƒ½æ˜¯1ï¼Œä½†å…¶å®ä¸¤è€…å·®å¼‚è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œå› ä¸ºåƒâ€œå•Šâ€è¿™ç§è¯­æ°”è¯çš„é‡è¦æ€§æ˜æ˜¾ä¸å¦‚â€œä¹â€ï¼Œè€ƒè™‘å­—ç¬¦ï¼ˆç‰¹å¾ï¼‰æƒé‡çš„ç›¸ä¼¼åº¦æ–¹æ³•æœ‰ï¼šTF-IDFã€BM25ã€WMDç®—æ³•ã€‚<br><a href="https://camo.githubusercontent.com/2437325d98902f36565cf374ddf01cebc4488b22b6df027e4e57dbf371a239ae/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d333435343637323635633331376334642e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/2437325d98902f36565cf374ddf01cebc4488b22b6df027e4e57dbf371a239ae/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d333435343637323635633331376334642e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><h2 id="å››ã€é›†åˆè·ç¦»-Distance-of-Sets"><a href="#å››ã€é›†åˆè·ç¦»-Distance-of-Sets" class="headerlink" title="å››ã€é›†åˆè·ç¦» (Distance of Sets)"></a>å››ã€é›†åˆè·ç¦» (Distance of Sets)</h2><ul><li><h2 id="Jaccard-ç³»æ•°"><a href="#Jaccard-ç³»æ•°" class="headerlink" title="Jaccard ç³»æ•°"></a>Jaccard ç³»æ•°</h2></li></ul><p><a href="https://camo.githubusercontent.com/9afc487f7cb49790cc6d03c3f9b7b0d31f81d1d876c101d65c3cac9d0e3ec6f9/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d626237326265306463663533303236342e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/9afc487f7cb49790cc6d03c3f9b7b0d31f81d1d876c101d65c3cac9d0e3ec6f9/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d626237326265306463663533303236342e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a><br>Jaccard å–å€¼èŒƒå›´ä¸º0~1ï¼Œ0 è¡¨ç¤ºä¸¤ä¸ªé›†åˆæ²¡æœ‰é‡åˆï¼Œ1 è¡¨ç¤ºä¸¤ä¸ªé›†åˆå®Œå…¨é‡åˆã€‚</p><ul><li><h2 id="Dice-ç³»æ•°"><a href="#Dice-ç³»æ•°" class="headerlink" title="Dice ç³»æ•°"></a>Dice ç³»æ•°</h2><p><img src="https://camo.githubusercontent.com/27b14a247c29f2e7dd158d1b064eac1fbcea818144dae3487baa6fa5f49d0182/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d326636386532346337623134613833652e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></p><p>Dice ç³»æ•°å–å€¼èŒƒå›´ä¸º0~1ï¼Œä¸Jaccardç³»æ•°å¯ä»¥ç›¸äº’è½¬æ¢ã€‚</p><p><img src="https://camo.githubusercontent.com/2193c8a569ab5424af3a075c28bdbb91d95da9efe82cc79812dc14c03d11797c/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d646336376563636166343236643962652e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></p></li></ul><p>ä½†Diceä¸æ»¡è¶³è·ç¦»å‡½æ•°çš„ä¸‰è§’ä¸ç­‰å¼ï¼Œä¸æ˜¯ä¸€ä¸ªåˆé€‚çš„è·ç¦»åº¦é‡ã€‚</p><ul><li><h2 id="Tversky-ç³»æ•°"><a href="#Tversky-ç³»æ•°" class="headerlink" title="Tversky ç³»æ•°"></a>Tversky ç³»æ•°</h2><p><img src="https://camo.githubusercontent.com/d8958e5a6466bac2522b70b629f86d199070ad375f704fc00b743479e393c034/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d336361633866373239303338643233312e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></p><p>Tversky ç³»æ•°å¯ä»¥ç†è§£ä¸º Jaccard ç³»æ•°å’Œ Dice ç³»æ•°çš„ä¸€èˆ¬åŒ–ï¼Œå½“ Î±ï¼ŒÎ²ä¸º1æ—¶ä¸º Jaccard ç³»æ•°ï¼Œå½“ Î±ï¼ŒÎ²ä¸º0.5æ—¶ä¸º Dice ç³»æ•°ï¼ˆX\Yè¡¨ç¤ºé›†åˆçš„ç›¸å¯¹è¡¥é›†ï¼‰ã€‚</p></li></ul><h2 id="äº”ã€ä¿¡æ¯è®ºè·ç¦»-Information-Theory-measures"><a href="#äº”ã€ä¿¡æ¯è®ºè·ç¦»-Information-Theory-measures" class="headerlink" title="äº”ã€ä¿¡æ¯è®ºè·ç¦» (Information Theory measures)"></a>äº”ã€ä¿¡æ¯è®ºè·ç¦» (Information Theory measures)</h2><p>åŸºç¡€åœ°ä»‹ç»ä¸‹ä¿¡æ¯ç†µï¼Œç”¨æ¥è¡¡é‡ä¸€ä¸ªéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§ç¨‹åº¦ã€‚å¯¹äºä¸€ä¸ªéšæœºå˜é‡ Xï¼Œå…¶æ¦‚ç‡åˆ†å¸ƒä¸ºï¼š<br><a href="https://camo.githubusercontent.com/b07060aafe0bc455ba2392759fdefa98b1c00bb60fe731517ac717c8364faedb/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d653862663461313262623165616162392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/b07060aafe0bc455ba2392759fdefa98b1c00bb60fe731517ac717c8364faedb/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d653862663461313262623165616162392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><ul><li><h2 id="äº’ä¿¡æ¯"><a href="#äº’ä¿¡æ¯" class="headerlink" title="äº’ä¿¡æ¯"></a>äº’ä¿¡æ¯</h2></li></ul><p>äº’ä¿¡æ¯ç”¨äºè¡¡é‡ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³è”ç¨‹åº¦ï¼Œè¡¡é‡äº†çŸ¥é“è¿™ä¸¤ä¸ªå˜é‡å…¶ä¸­ä¸€ä¸ªï¼Œå¯¹å¦ä¸€ä¸ªä¸ç¡®å®šåº¦å‡å°‘çš„ç¨‹åº¦ã€‚å…¬å¼ä¸ºï¼š<br><a href="https://camo.githubusercontent.com/9ca06bb08cb141c2652da402f55a587223503025944a9aaff5df4b4915424dc9/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d626466333239663438396464356265352e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/9ca06bb08cb141c2652da402f55a587223503025944a9aaff5df4b4915424dc9/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d626466333239663438396464356265352e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a><br>å¦‚ä¸‹å›¾ï¼Œæ¡ä»¶ç†µè¡¨ç¤ºå·²çŸ¥éšæœºå˜é‡Xçš„æƒ…å†µä¸‹ï¼Œéšæœºå˜é‡Yçš„ä¿¡æ¯ç†µï¼Œå› æ­¤äº’ä¿¡æ¯å®é™…ä¸Šä¹Ÿä»£è¡¨äº†å·²çŸ¥éšæœºå˜é‡Xçš„æƒ…å†µä¸‹ï¼Œéšæœºå˜é‡Yçš„(ä¿¡æ¯ç†µ)ä¸ç¡®å®šæ€§çš„å‡å°‘ç¨‹åº¦ã€‚<br><a href="https://camo.githubusercontent.com/e40fa5dd1e7a67bd2946fbbcf7a14553570420990793dbcb2aef5638d0a3ce99/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d633038313338303931396231356430612e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/e40fa5dd1e7a67bd2946fbbcf7a14553570420990793dbcb2aef5638d0a3ce99/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d633038313338303931396231356430612e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><ul><li><p>ç›¸å¯¹ç†µ (Relative Entropy)ç›¸å¯¹ç†µåˆç§°ä¹‹ä¸º KL æ•£åº¦ (Kullback-Leibler Divergence)ï¼Œç”¨äºè¡¡é‡ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„å·®å¼‚ï¼Œå®šä¹‰ä¸ºï¼š<br><a href="https://camo.githubusercontent.com/54d0d864fbaf4e4706e35bda8b09192138cf2ebe14cb17b4bb30c852064d7c8d/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d336362353938386162646265393132392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/54d0d864fbaf4e4706e35bda8b09192138cf2ebe14cb17b4bb30c852064d7c8d/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d336362353938386162646265393132392e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p></li><li><h2 id="JS-æ•£åº¦-Jensen-Shannon-Divergence"><a href="#JS-æ•£åº¦-Jensen-Shannon-Divergence" class="headerlink" title="JS æ•£åº¦ (Jensen-Shannon Divergence)"></a>JS æ•£åº¦ (Jensen-Shannon Divergence)</h2></li></ul><p>JS æ•£åº¦è§£å†³äº† KL æ•£åº¦ä¸å¯¹ç§°çš„é—®é¢˜ï¼Œå®šä¹‰ä¸ºï¼š<br><a href="https://camo.githubusercontent.com/fccc2429956bd63d3265e7cf32152204547d661aa0b26276682c6f69aa59d17b/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d656435396431646639386366353239382e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/fccc2429956bd63d3265e7cf32152204547d661aa0b26276682c6f69aa59d17b/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d656435396431646639386366353239382e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><ul><li><h2 id="PSI"><a href="#PSI" class="headerlink" title="PSI"></a>PSI</h2></li></ul><p>ç¾¤ä½“ç¨³å®šæ€§æŒ‡æ ‡ï¼ˆPopulation Stability Indexï¼ŒPSIï¼‰ï¼Œ å¯ä»¥çœ‹åšæ˜¯è§£å†³KLæ•£åº¦éå¯¹ç§°æ€§çš„ä¸€ä¸ªå¯¹ç§°æ€§åº¦é‡æŒ‡æ ‡ï¼Œç”¨äºåº¦é‡åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚ï¼ˆå¸¸ç”¨äºé£æ§é¢†åŸŸçš„è¯„ä¼°æ¨¡å‹é¢„æµ‹çš„ç¨³å®šæ€§ï¼‰ã€‚</p><p>psiä¸JSæ•£åº¦çš„å½¢å¼æ˜¯éå¸¸ç±»ä¼¼çš„ï¼Œå¦‚ä¸‹å…¬å¼ï¼š<br><a href="https://camo.githubusercontent.com/a9d4338383f7dc41b17e3c655c5bba7292cb4dcbb650e3731b7d84d3dac52325/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d666534643334666131613233376230322e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/a9d4338383f7dc41b17e3c655c5bba7292cb4dcbb650e3731b7d84d3dac52325/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d666534643334666131613233376230322e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><p>PSIçš„å«ä¹‰ç­‰åŒPä¸Qï¼ŒQä¸Pä¹‹é—´çš„KLæ•£åº¦ä¹‹å’Œã€‚</p><ul><li><h2 id="äº¤å‰ç†µ"><a href="#äº¤å‰ç†µ" class="headerlink" title="äº¤å‰ç†µ"></a>äº¤å‰ç†µ</h2><p><img src="https://camo.githubusercontent.com/12ff93970f8c0964e989494ba9adeed40038dfb93240c85c953e99db00e32c7a/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d366331383261326539386237653864332e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></p><p>äº¤å‰ç†µå¸¸ä½œä¸ºæœºå™¨å­¦ä¹ ä¸­çš„åˆ†ç±»çš„æŸå¤±å‡½æ•°ï¼Œç”¨äºè¡¡é‡æ¨¡å‹é¢„æµ‹åˆ†å¸ƒå’Œå®é™…æ•°æ®åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚æ€§ã€‚</p></li></ul><h2 id="å…­ã€æ—¶é—´ç³»åˆ—ã€å›¾ç»“æ„çš„è·ç¦»"><a href="#å…­ã€æ—¶é—´ç³»åˆ—ã€å›¾ç»“æ„çš„è·ç¦»" class="headerlink" title="å…­ã€æ—¶é—´ç³»åˆ—ã€å›¾ç»“æ„çš„è·ç¦»"></a>å…­ã€æ—¶é—´ç³»åˆ—ã€å›¾ç»“æ„çš„è·ç¦»</h2><ul><li><h2 id="DTW-Dynamic-Time-Warping-è·ç¦»"><a href="#DTW-Dynamic-Time-Warping-è·ç¦»" class="headerlink" title="DTW (Dynamic Time Warping) è·ç¦»"></a>DTW (Dynamic Time Warping) è·ç¦»</h2></li></ul><p>DTW è·ç¦»ç”¨äºè¡¡é‡ä¸¤ä¸ªåºåˆ—ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œé€‚ç”¨äºä¸åŒé•¿åº¦ã€ä¸åŒèŠ‚å¥çš„æ—¶é—´åºåˆ—ã€‚DTWé‡‡ç”¨äº†åŠ¨æ€è§„åˆ’DPï¼ˆdynamic programmingï¼‰çš„æ–¹æ³•æ¥è¿›è¡Œæ—¶é—´è§„æ•´çš„è®¡ç®—ï¼Œé€šè¿‡è‡ªåŠ¨warpingæ‰­æ›² æ—¶é—´åºåˆ—ï¼ˆå³åœ¨æ—¶é—´è½´ä¸Šè¿›è¡Œå±€éƒ¨çš„ç¼©æ”¾ï¼‰ï¼Œä½¿å¾—ä¸¤ä¸ªåºåˆ—çš„å½¢æ€å°½å¯èƒ½çš„ä¸€è‡´ï¼Œå¾—åˆ°æœ€å¤§å¯èƒ½çš„ç›¸ä¼¼åº¦ã€‚(å…·ä½“å¯å‚è€ƒ[5])<br><a href="https://camo.githubusercontent.com/98f65619a427cace4cb8e2ab94433f0e774c3cb69216cb722339bb4b65d8805d/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d386633393262313536323433663730632e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/98f65619a427cace4cb8e2ab94433f0e774c3cb69216cb722339bb4b65d8805d/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d386633393262313536323433663730632e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><ul><li><h2 id="å›¾ç»“æ„çš„è·ç¦»"><a href="#å›¾ç»“æ„çš„è·ç¦»" class="headerlink" title="å›¾ç»“æ„çš„è·ç¦»"></a>å›¾ç»“æ„çš„è·ç¦»</h2></li></ul><p>å›¾ç»“æ„é—´çš„ç›¸ä¼¼åº¦è®¡ç®—ï¼Œæœ‰å›¾åŒæ„ã€æœ€å¤§å…±åŒå­å›¾ã€å›¾ç¼–è¾‘è·ç¦»ã€Graph Kernel ã€å›¾åµŒå…¥è®¡ç®—è·ç¦»ç­‰æ–¹æ³•ï¼ˆå…·ä½“å¯å‚è€ƒ[4][6]ï¼‰ã€‚<br><a href="https://camo.githubusercontent.com/8c171587d8e066aa11898d874ff5180639bc9de4b2163c2fc25678352d6887df/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d636632343839336261373231643834642e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/8c171587d8e066aa11898d874ff5180639bc9de4b2163c2fc25678352d6887df/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d636632343839336261373231643834642e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><h2 id="ä¸ƒã€åº¦é‡å­¦ä¹ -Metric-Learning"><a href="#ä¸ƒã€åº¦é‡å­¦ä¹ -Metric-Learning" class="headerlink" title="ä¸ƒã€åº¦é‡å­¦ä¹ (Metric Learning)"></a>ä¸ƒã€åº¦é‡å­¦ä¹ (Metric Learning)</h2><p>åº¦é‡å­¦ä¹ çš„å¯¹è±¡é€šå¸¸æ˜¯æ ·æœ¬ç‰¹å¾å‘é‡çš„è·ç¦»ï¼Œåº¦é‡å­¦ä¹ çš„å…³é”®åœ¨äºå¦‚ä½•æœ‰æ•ˆçš„åº¦é‡æ ·æœ¬é—´çš„è·ç¦»ï¼Œç›®çš„æ˜¯é€šè¿‡è®­ç»ƒå’Œå­¦ä¹ ï¼Œå‡å°æˆ–é™åˆ¶åŒç±»æ ·æœ¬ä¹‹é—´çš„è·ç¦»ï¼ŒåŒæ—¶å¢å¤§ä¸åŒç±»åˆ«æ ·æœ¬ä¹‹é—´çš„è·ç¦»ï¼Œç®€å•å½’ç±»å¦‚ä¸‹[2]ï¼š<br><a href="https://camo.githubusercontent.com/af46b27a597ce649bba5bdb12c8b6a4e84b734362b885566287cdf5eff023b2e/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d646661626366353865343161623766632e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/af46b27a597ce649bba5bdb12c8b6a4e84b734362b885566287cdf5eff023b2e/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d646661626366353865343161623766632e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><ul><li>åŸºäºé™ç»´çš„åº¦é‡å­¦ä¹ ç®—æ³•æ˜¯å­¦ä¹ ä¸€ä¸ªåˆ°ä½ç»´çš„æ˜ å°„çŸ©é˜µï¼Œä½¿å¾—æ˜ å°„åçš„æ ·æœ¬å…·æœ‰æŸäº›æ€§è´¨ã€‚åŒ…æ‹¬æ— ç›‘ç£çš„PCAã€æœ‰ç›‘ç£çš„LDAå’ŒANMMã€‚</li><li>åŸºäºCentroidsçš„åº¦é‡å­¦ä¹ ç®—æ³•ï¼Œå³é€šè¿‡ç±»ä¸­å¿ƒè¿›è¡Œåˆ†ç±»çš„ç®—æ³•ï¼Œè€Œä¸æ˜¯åŸºäºæœ€è¿‘é‚»ã€‚</li><li>åŸºäºä¿¡æ¯è®ºæ¨å¯¼çš„ä¸€äº›è·ç¦»åº¦é‡å­¦ä¹ ç®—æ³•ï¼Œæ¯”å¦‚ITMLå’ŒMCMLç­‰é€šå¸¸æ˜¯ä½¿ç”¨è·ç¦»åº¦é‡çŸ©é˜µå®šä¹‰ä¸€ä¸ªåˆ†å¸ƒï¼Œç„¶åæ¨å¯¼å‡ºæœ€å°åŒ–ä¸¤ä¸ªåˆ†å¸ƒçš„KLè·ç¦»æˆ–è€…Jefferyè·ç¦»ç­‰ç­‰ã€‚</li><li>åŸºäºæ·±åº¦åº¦é‡å­¦ä¹ ï¼šåˆ©ç”¨æ·±åº¦ç½‘ç»œå­¦ä¹ ä¸€ä¸ªè¡¨ç¤ºï¼ˆEmbeddingï¼‰ï¼Œé‡‡ç”¨å„ç§é‡‡æ ·æ–¹æ³•ï¼ˆSamplingï¼‰ï¼Œæ¯”å¦‚æˆå¯¹&#x2F;ä¸‰å…ƒç»„è®­ç»ƒæ ·æœ¬ï¼ˆTripletï¼‰ï¼Œè®¡ç®—ä¸€ä¸ªå¸¦æœ‰Margin&#x2F;æœ€è¿‘é‚»ç­‰åˆ†ç±»æˆ–èšç±»ç®—æ³•çš„æŸå¤±ã€‚</li></ul><h1 id="å¸¸ç”¨çš„åº¦é‡æ–¹æ³•æ±‡æ€»"><a href="#å¸¸ç”¨çš„åº¦é‡æ–¹æ³•æ±‡æ€»" class="headerlink" title="å¸¸ç”¨çš„åº¦é‡æ–¹æ³•æ±‡æ€»"></a>å¸¸ç”¨çš„åº¦é‡æ–¹æ³•æ±‡æ€»</h1><p>æœ€åï¼Œé™„ä¸Šå¸¸ç”¨çš„è·ç¦»å’Œç›¸ä¼¼åº¦åº¦é‡æ–¹æ³•[3]ï¼š<br><a href="https://camo.githubusercontent.com/a3e2f227676e0ea3d6f51c30a2a502f163fd4b0b6610df6a07c0bc64d206aa26/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d663934353939333837313466666531652e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/a3e2f227676e0ea3d6f51c30a2a502f163fd4b0b6610df6a07c0bc64d206aa26/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d663934353939333837313466666531652e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a><a href="https://camo.githubusercontent.com/f7a9a40869ba102730e779c8ebebe47b74d5b59eb51a1c2c73c359ce0c9ba210/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d373438623532613234393330653131352e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/f7a9a40869ba102730e779c8ebebe47b74d5b59eb51a1c2c73c359ce0c9ba210/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d373438623532613234393330653131352e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a><a href="https://camo.githubusercontent.com/e8c868e9f06634bcb19997096b1bd2c0023dd398e615f7255ff9e33bdf4b8339/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d343161366230306361343434373636362e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/e8c868e9f06634bcb19997096b1bd2c0023dd398e615f7255ff9e33bdf4b8339/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d343161366230306361343434373636362e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a><a href="https://camo.githubusercontent.com/75da575a496f7db2633dde5db151155680cbfeda513127a5389cdf7785aaac50/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d613834386531383664353130666232382e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"><img src="https://camo.githubusercontent.com/75da575a496f7db2633dde5db151155680cbfeda513127a5389cdf7785aaac50/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f31313638323237312d613834386531383664353130666232382e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" alt="img"></a></p><blockquote><p>å‚è€ƒèµ„æ–™<br>[1] <a href="https://kexue.fm/archives/7388">https://kexue.fm/archives/7388</a><br>[2] <a href="https://zhuanlan.zhihu.com/p/80656461">https://zhuanlan.zhihu.com/p/80656461</a><br>[3] <a href="https://www.pianshen.com/article/70261312162/">https://www.pianshen.com/article/70261312162/</a><br>[4] <a href="https://arxiv.org/pdf/2002.07420.pdf">https://arxiv.org/pdf/2002.07420.pdf</a><br>[5] <a href="https://zhuanlan.zhihu.com/p/32849741">https://zhuanlan.zhihu.com/p/32849741</a><br>[6] <a href="https://github.com/ysig/GraKeL">https://github.com/ysig/GraKeL</a></p><p>è½¬è½½äºï¼š<a href="https://github.com/aialgorithm/Blog/issues/36">https://github.com/aialgorithm/Blog/issues/36</a> æˆ–è®¿é—® <a href="https://mp.weixin.qq.com/s/GXASBq_lujZM8HdU23CCMAASBq_lujZM8HdU23CCMA">https://mp.weixin.qq.com/s/GXASBq_lujZM8HdU23CCMAASBq_lujZM8HdU23CCMA</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”MultiLayer Perceptron</title>
    <link href="/2022/08/01/MachineLearning/MLP/"/>
    <url>/2022/08/01/MachineLearning/MLP/</url>
    
    <content type="html"><![CDATA[<h1 id="MultiLayer-Perceptron"><a href="#MultiLayer-Perceptron" class="headerlink" title="MultiLayer Perceptron"></a>MultiLayer Perceptron</h1><p>å¤šå±‚æ„ŸçŸ¥æœºå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯å¤šä¸ªperceptronç»„æˆçš„ï¼Œæ‹¼æ¥åœ¨ä¸€èµ·ã€‚</p><p>å¤šå±‚æ„ŸçŸ¥æœºçš„æ„æˆå¾ˆç®€å•ï¼Œä¸€ä¸ªè¾“å…¥å±‚ï¼Œè‹¥å¹²ä¸ªéšè—å±‚ï¼Œä¸€ä¸ªè¾“å‡ºå±‚ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ç½‘ç»œä¸­åŠ å…¥ä¸€ä¸ªæˆ–å¤šä¸ªéšè—å±‚æ¥å…‹æœçº¿æ€§æ¨¡å‹çš„é™åˆ¶ï¼Œ ä½¿å…¶èƒ½å¤„ç†æ›´æ™®éçš„å‡½æ•°å…³ç³»ç±»å‹ã€‚ è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯å°†è®¸å¤šå…¨è¿æ¥å±‚å †å åœ¨ä¸€èµ·ã€‚ æ¯ä¸€å±‚éƒ½è¾“å‡ºåˆ°ä¸Šé¢çš„å±‚ï¼Œç›´åˆ°ç”Ÿæˆæœ€åçš„è¾“å‡ºã€‚ æˆ‘ä»¬å¯ä»¥æŠŠå‰$L_1$å±‚çœ‹ä½œè¡¨ç¤ºï¼ŒæŠŠæœ€åä¸€å±‚çœ‹ä½œçº¿æ€§é¢„æµ‹å™¨ã€‚</p><p><img src="/src/image-20220115191256116.png" alt="image-20220115191256116"></p><h2 id="é€šç”¨è¿‘ä¼¼å®šç†"><a href="#é€šç”¨è¿‘ä¼¼å®šç†" class="headerlink" title="é€šç”¨è¿‘ä¼¼å®šç†"></a>é€šç”¨è¿‘ä¼¼å®šç†</h2><p>å¤šå±‚æ„ŸçŸ¥æœºå¯ä»¥é€šè¿‡éšè—ç¥ç»å…ƒï¼Œæ•æ‰åˆ°è¾“å…¥ä¹‹é—´å¤æ‚çš„ç›¸äº’ä½œç”¨ï¼Œ è¿™äº›ç¥ç»å…ƒä¾èµ–äºæ¯ä¸ªè¾“å…¥çš„å€¼ã€‚ æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°è®¾è®¡éšè—èŠ‚ç‚¹æ¥æ‰§è¡Œä»»æ„è®¡ç®—ã€‚ ä¾‹å¦‚ï¼Œåœ¨ä¸€å¯¹è¾“å…¥ä¸Šè¿›è¡ŒåŸºæœ¬é€»è¾‘æ“ä½œï¼Œå¤šå±‚æ„ŸçŸ¥æœºæ˜¯é€šç”¨è¿‘ä¼¼å™¨ã€‚ å³ä½¿æ˜¯ç½‘ç»œåªæœ‰ä¸€ä¸ªéšè—å±‚ï¼Œç»™å®šè¶³å¤Ÿçš„ç¥ç»å…ƒå’Œæ­£ç¡®çš„æƒé‡ï¼Œ æˆ‘ä»¬å¯ä»¥å¯¹ä»»æ„å‡½æ•°å»ºæ¨¡ï¼Œå°½ç®¡å®é™…ä¸­å­¦ä¹ è¯¥å‡½æ•°æ˜¯å¾ˆå›°éš¾çš„ã€‚ ä½ å¯èƒ½è®¤ä¸ºç¥ç»ç½‘ç»œæœ‰ç‚¹åƒCè¯­è¨€ã€‚ Cè¯­è¨€å’Œä»»ä½•å…¶ä»–ç°ä»£ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œèƒ½å¤Ÿè¡¨è¾¾ä»»ä½•å¯è®¡ç®—çš„ç¨‹åºã€‚ ä½†å®é™…ä¸Šï¼Œæƒ³å‡ºä¸€ä¸ªç¬¦åˆè§„èŒƒçš„ç¨‹åºæ‰æ˜¯æœ€å›°éš¾çš„éƒ¨åˆ†ã€‚ï¿½ï¿½</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”KLæ•£åº¦</title>
    <link href="/2022/08/01/MachineLearning/KL%E6%95%A3%E5%BA%A6/"/>
    <url>/2022/08/01/MachineLearning/KL%E6%95%A3%E5%BA%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="å¦‚ä½•ç†è§£K-Læ•£åº¦ï¼ˆç›¸å¯¹ç†µï¼‰"><a href="#å¦‚ä½•ç†è§£K-Læ•£åº¦ï¼ˆç›¸å¯¹ç†µï¼‰" class="headerlink" title="å¦‚ä½•ç†è§£K-Læ•£åº¦ï¼ˆç›¸å¯¹ç†µï¼‰"></a>å¦‚ä½•ç†è§£K-Læ•£åº¦ï¼ˆç›¸å¯¹ç†µï¼‰</h1><p><code>Kullback-Leibler Divergence</code>ï¼Œå³<code>K-Læ•£åº¦</code>ï¼Œæ˜¯ä¸€ç§<strong>é‡åŒ–ä¸¤ç§æ¦‚ç‡åˆ†å¸ƒPå’ŒQä¹‹é—´å·®å¼‚</strong>çš„æ–¹å¼ï¼Œåˆå«<code>ç›¸å¯¹ç†µ</code>ã€‚åœ¨æ¦‚ç‡å­¦å’Œç»Ÿè®¡å­¦ä¸Šï¼Œæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨ä¸€ç§<code>æ›´ç®€å•çš„ã€è¿‘ä¼¼çš„åˆ†å¸ƒ</code>æ¥æ›¿ä»£<code>è§‚å¯Ÿæ•°æ®</code>æˆ–<code>å¤ªå¤æ‚çš„åˆ†å¸ƒ</code>ã€‚K-Læ•£åº¦èƒ½å¸®åŠ©æˆ‘ä»¬åº¦é‡ä½¿ç”¨ä¸€ä¸ªåˆ†å¸ƒæ¥è¿‘ä¼¼å¦ä¸€ä¸ªåˆ†å¸ƒæ—¶æ‰€æŸå¤±çš„ä¿¡æ¯é‡ã€‚</p><p>K-Læ•£åº¦å®šä¹‰è§æ–‡æœ«é™„å½•1ã€‚å¦å¤–åœ¨é™„å½•5ä¸­è§£é‡Šäº†ä¸ºä»€ä¹ˆåœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œè®­ç»ƒæ¨¡å‹æ—¶ä½¿ç”¨çš„æ˜¯<code>Cross Entropy</code> è€Œé<code>K-L Divergence</code>ã€‚</p><p>æˆ‘ä»¬ä»ä¸‹é¢è¿™ä¸ªé—®é¢˜å‡ºå‘æ€è€ƒK-Læ•£åº¦ã€‚</p><blockquote><p>å‡è®¾æˆ‘ä»¬æ˜¯ä¸€ç¾¤å¤ªç©ºç§‘å­¦å®¶ï¼Œç»è¿‡é¥è¿œçš„æ—…è¡Œï¼Œæ¥åˆ°äº†ä¸€é¢—æ–°å‘ç°çš„æ˜Ÿçƒã€‚åœ¨è¿™ä¸ªæ˜Ÿçƒä¸Šï¼Œç”Ÿå­˜ç€ä¸€ç§é•¿æœ‰ç‰™é½¿çš„è •è™«ï¼Œå¼•èµ·äº†æˆ‘ä»¬çš„ç ”ç©¶å…´è¶£ã€‚æˆ‘ä»¬å‘ç°è¿™ç§è •è™«ç”Ÿæœ‰10é¢—ç‰™é½¿ï¼Œä½†æ˜¯å› ä¸ºä¸æ³¨æ„å£è…”å«ç”Ÿï¼Œåˆå–œæ¬¢åš¼ä¸œè¥¿ï¼Œè®¸å¤šè •è™«ä¼šæ‰ç‰™ã€‚æ”¶é›†å¤§é‡æ ·æœ¬ä¹‹åï¼Œæˆ‘ä»¬å¾—åˆ°å…³äºè •è™«ç‰™é½¿æ•°é‡çš„ç»éªŒåˆ†å¸ƒï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p></blockquote><p><img src="/src/webp.webp" alt="img"></p><p>ç‰™é½¿æ•°é‡åˆ†å¸ƒ</p><p><img src="/src/webp-165590384367879.webp" alt="img"></p><p>ä¼šæ‰ç‰™çš„å¤–æ˜Ÿè •è™«</p><p>è¿™äº›æ•°æ®å¾ˆæœ‰ä»·å€¼ï¼Œä½†æ˜¯ä¹Ÿæœ‰ç‚¹é—®é¢˜ã€‚æˆ‘ä»¬è·ç¦»åœ°çƒğŸŒå¤ªè¿œäº†ï¼ŒæŠŠè¿™äº›æ¦‚ç‡åˆ†å¸ƒæ•°æ®å‘é€å›åœ°çƒè¿‡äºæ˜‚è´µã€‚è¿˜å¥½æˆ‘ä»¬æ˜¯ä¸€ç¾¤èªæ˜çš„ç§‘å­¦å®¶ï¼Œç”¨ä¸€ä¸ªåªæœ‰ä¸€ä¸¤ä¸ªå‚æ•°çš„ç®€å•æ¨¡å‹æ¥è¿‘ä¼¼åŸå§‹æ•°æ®ä¼šå‡å°æ•°æ®ä¼ é€é‡ã€‚æœ€ç®€å•çš„è¿‘ä¼¼æ¨¡å‹æ˜¯<code>å‡åˆ†å¸ƒ</code>ï¼Œå› ä¸ºè •è™«ç‰™é½¿ä¸ä¼šè¶…è¿‡10é¢—ï¼Œæ‰€ä»¥æœ‰11ä¸ªå¯èƒ½å€¼ï¼Œé‚£è •è™«çš„ç‰™é½¿æ•°é‡æ¦‚ç‡éƒ½ä¸º <code>1/11</code>ã€‚åˆ†å¸ƒå›¾å¦‚ä¸‹ï¼š</p><p><img src="/src/webp-165590384766882.webp" alt="img"></p><p>uniform distribution</p><p>æ˜¾ç„¶æˆ‘ä»¬çš„åŸå§‹æ•°æ®å¹¶éå‡åˆ†å¸ƒçš„ï¼Œä½†ä¹Ÿä¸æ˜¯æˆ‘ä»¬å·²çŸ¥çš„åˆ†å¸ƒï¼Œè‡³å°‘ä¸æ˜¯å¸¸è§çš„åˆ†å¸ƒã€‚ä½œä¸ºå¤‡é€‰ï¼Œæˆ‘ä»¬æƒ³åˆ°çš„å¦ä¸€ç§ç®€å•æ¨¡å‹æ˜¯<code>äºŒé¡¹å¼åˆ†å¸ƒbinomial distribution</code>ã€‚è •è™«å˜´é‡Œé¢å…±æœ‰<code>n=10</code>ä¸ªç‰™æ§½ï¼Œæ¯ä¸ªç‰™æ§½å‡ºç°ç‰™é½¿ä¸å¦ä¸ºç‹¬ç«‹äº‹ä»¶ï¼Œä¸”æ¦‚ç‡å‡ä¸º<code>p</code>ã€‚åˆ™è •è™«ç‰™é½¿æ•°é‡å³ä¸ºæœŸæœ›å€¼<code>E[x]=n*p</code>ï¼ŒçœŸå®æœŸæœ›å€¼å³ä¸ºè§‚å¯Ÿæ•°æ®çš„å¹³å‡å€¼ï¼Œæ¯”å¦‚è¯´<code>5.7</code>ï¼Œåˆ™<code>p=0.57</code>ï¼Œå¾—åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„äºŒé¡¹å¼åˆ†å¸ƒï¼š</p><p><img src="/src/webp-165590386927085.webp" alt="img"></p><p>binomial</p><p>å¯¹æ¯”ä¸€ä¸‹åŸå§‹æ•°æ®ï¼Œå¯ä»¥çœ‹å‡ºå‡åˆ†å¸ƒå’ŒäºŒé¡¹åˆ†å¸ƒéƒ½ä¸èƒ½å®Œå…¨æè¿°åŸå§‹åˆ†å¸ƒã€‚</p><p><img src="/src/75110-b049f7fc560bd8d8.png" alt="img"></p><p>all distributions</p><p>å¯æ˜¯ï¼Œæˆ‘ä»¬ä¸ç¦è¦é—®ï¼Œå“ªä¸€ç§åˆ†å¸ƒæ›´åŠ æ¥è¿‘åŸå§‹åˆ†å¸ƒå‘¢ï¼Ÿ<br>å·²ç»æœ‰è®¸å¤šåº¦é‡è¯¯å·®çš„æ–¹å¼å­˜åœ¨ï¼Œä½†æ˜¯æˆ‘ä»¬æ‰€è¦è€ƒè™‘çš„æ˜¯å‡å°å‘é€çš„ä¿¡æ¯é‡ã€‚ä¸Šé¢è®¨è®ºçš„å‡åˆ†å¸ƒå’ŒäºŒé¡¹å¼åˆ†å¸ƒéƒ½æŠŠé—®é¢˜è§„çº¦åˆ°åªéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç‰™é½¿æ•°é‡å’Œæ¦‚ç‡å€¼ï¼ˆå‡åˆ†å¸ƒåªéœ€è¦ç‰™é½¿æ•°é‡å³å¯ï¼‰ã€‚é‚£ä¹ˆå“ªä¸ªåˆ†å¸ƒä¿ç•™äº†æ›´å¤šçš„åŸå§‹æ•°æ®åˆ†å¸ƒçš„ä¿¡æ¯å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±éœ€è¦K-Læ•£åº¦ç™»åœºäº†ã€‚</p><h2 id="æ•°æ®çš„ç†µ"><a href="#æ•°æ®çš„ç†µ" class="headerlink" title="æ•°æ®çš„ç†µ"></a>æ•°æ®çš„ç†µ</h2><p>K-Læ•£åº¦æºäºä¿¡æ¯è®ºã€‚ä¿¡æ¯è®ºä¸»è¦ç ”ç©¶å¦‚ä½•é‡åŒ–æ•°æ®ä¸­çš„ä¿¡æ¯ã€‚æœ€é‡è¦çš„ä¿¡æ¯åº¦é‡å•ä½æ˜¯<code>ç†µ</code>Entropyï¼Œä¸€èˆ¬ç”¨<code>H</code>è¡¨ç¤ºã€‚åˆ†å¸ƒçš„ç†µçš„å…¬å¼å¦‚ä¸‹ï¼š</p><p><img src="/src/webp.webp" alt="img"></p><p>Entropy</p><p>ä¸Šé¢å¯¹æ•°æ²¡æœ‰ç¡®å®šåº•æ•°ï¼Œå¯ä»¥æ˜¯<code>2</code>ã€<code>e</code>æˆ–<code>10</code>ï¼Œç­‰ç­‰ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä»¥<code>2</code>ä¸ºåº•çš„å¯¹æ•°è®¡ç®—Hå€¼çš„è¯ï¼Œå¯ä»¥æŠŠè¿™ä¸ªå€¼çœ‹ä½œæ˜¯ç¼–ç ä¿¡æ¯æ‰€éœ€è¦çš„æœ€å°‘äºŒè¿›åˆ¶ä½ä¸ªæ•°bitsã€‚ä¸Šé¢ç©ºé—´è •è™«çš„ä¾‹å­ä¸­ï¼Œä¿¡æ¯æŒ‡çš„æ˜¯æ ¹æ®è§‚å¯Ÿæ‰€å¾—çš„ç»éªŒåˆ†å¸ƒç»™å‡ºçš„è •è™«ç‰™é½¿æ•°é‡ã€‚è®¡ç®—å¯ä»¥å¾—åˆ°åŸå§‹æ•°æ®æ¦‚ç‡åˆ†å¸ƒçš„ç†µå€¼ä¸º<code>3.12 bits</code>ã€‚è¿™ä¸ªå€¼åªæ˜¯å‘Šè¯‰æˆ‘ä»¬ç¼–ç è •è™«ç‰™é½¿æ•°é‡æ¦‚ç‡çš„ä¿¡æ¯éœ€è¦çš„äºŒè¿›åˆ¶ä½<code>bit</code>çš„ä½æ•°ã€‚</p><p>å¯æ˜¯ç†µå€¼å¹¶æ²¡æœ‰ç»™å‡ºå‹ç¼©æ•°æ®åˆ°æœ€å°ç†µå€¼çš„æ–¹æ³•ï¼Œå³å¦‚ä½•ç¼–ç æ•°æ®æ‰èƒ½è¾¾åˆ°æœ€ä¼˜ï¼ˆå­˜å‚¨ç©ºé—´æœ€ä¼˜ï¼‰ã€‚ä¼˜åŒ–ä¿¡æ¯ç¼–ç æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„ä¸»é¢˜ï¼Œä½†å¹¶ä¸æ˜¯ç†è§£K-Læ•£åº¦æ‰€å¿…é¡»çš„ã€‚ç†µçš„ä¸»è¦ä½œç”¨æ˜¯å‘Šè¯‰æˆ‘ä»¬æœ€ä¼˜ç¼–ç ä¿¡æ¯æ–¹æ¡ˆçš„ç†è®ºä¸‹ç•Œï¼ˆå­˜å‚¨ç©ºé—´ï¼‰ï¼Œä»¥åŠåº¦é‡æ•°æ®çš„ä¿¡æ¯é‡çš„ä¸€ç§æ–¹å¼ã€‚ç†è§£äº†ç†µï¼Œæˆ‘ä»¬å°±çŸ¥é“æœ‰å¤šå°‘ä¿¡æ¯è•´å«åœ¨æ•°æ®ä¹‹ä¸­ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è®¡ç®—å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªå¸¦å‚æ•°çš„æ¦‚ç‡åˆ†å¸ƒæ¥è¿‘ä¼¼æ›¿ä»£åŸå§‹æ•°æ®åˆ†å¸ƒçš„æ—¶å€™ï¼Œåˆ°åº•æŸå¤±äº†å¤šå°‘ä¿¡æ¯ã€‚è¯·ç»§ç»­çœ‹ä¸‹èŠ‚å†…å®¹ã€‚â†“â†“â†“</p><h2 id="K-Læ•£åº¦åº¦é‡ä¿¡æ¯æŸå¤±"><a href="#K-Læ•£åº¦åº¦é‡ä¿¡æ¯æŸå¤±" class="headerlink" title="K-Læ•£åº¦åº¦é‡ä¿¡æ¯æŸå¤±"></a>K-Læ•£åº¦åº¦é‡ä¿¡æ¯æŸå¤±</h2><p>åªéœ€è¦ç¨åŠ ä¿®æ”¹<code>ç†µH</code>çš„è®¡ç®—å…¬å¼å°±èƒ½å¾—åˆ°<code>K-Læ•£åº¦</code>çš„è®¡ç®—å…¬å¼ã€‚è®¾<code>p</code>ä¸ºè§‚å¯Ÿå¾—åˆ°çš„æ¦‚ç‡åˆ†å¸ƒï¼Œ<code>q</code>ä¸ºå¦ä¸€åˆ†å¸ƒæ¥è¿‘ä¼¼<code>p</code>ï¼Œåˆ™<code>p</code>ã€<code>q</code>çš„<code>K-Læ•£åº¦</code>ä¸ºï¼š</p><p><img src="/src/webp-165694178715996.webp" alt="img"></p><p>entropy-p-q</p><p>æ˜¾ç„¶ï¼Œæ ¹æ®ä¸Šé¢çš„å…¬å¼ï¼ŒK-Læ•£åº¦å…¶å®æ˜¯æ•°æ®çš„åŸå§‹åˆ†å¸ƒpå’Œè¿‘ä¼¼åˆ†å¸ƒqä¹‹é—´çš„å¯¹æ•°å·®å€¼çš„æœŸæœ›ã€‚å¦‚æœç»§ç»­ç”¨<code>2</code>ä¸ºåº•çš„å¯¹æ•°è®¡ç®—ï¼Œåˆ™<strong>K-Læ•£åº¦å€¼è¡¨ç¤ºä¿¡æ¯æŸå¤±çš„äºŒè¿›åˆ¶ä½æ•°</strong>ã€‚ä¸‹é¢å…¬å¼ä»¥æœŸæœ›è¡¨è¾¾K-Læ•£åº¦ï¼š</p><p><img src="/src/webp-165694178859698.webp" alt="img"></p><p>DKL1</p><p>ä¸€èˆ¬ï¼ŒK-Læ•£åº¦ä»¥ä¸‹é¢çš„ä¹¦å†™æ–¹å¼æ›´å¸¸è§ï¼š</p><p><img src="/src/webp-1656941790199100.webp" alt="img"></p><p>DKL2</p><p>æ³¨ï¼š<code>log a - log b = log (a/b)</code></p><p>OKï¼Œç°åœ¨æˆ‘ä»¬çŸ¥é“å½“ç”¨ä¸€ä¸ªåˆ†å¸ƒæ¥è¿‘ä¼¼å¦ä¸€ä¸ªåˆ†å¸ƒæ—¶å¦‚ä½•è®¡ç®—ä¿¡æ¯æŸå¤±é‡äº†ã€‚æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬é‡æ–°å›åˆ°æœ€å¼€å§‹çš„è •è™«ç‰™é½¿æ•°é‡æ¦‚ç‡åˆ†å¸ƒçš„é—®é¢˜ã€‚</p><h2 id="å¯¹æ¯”ä¸¤ç§åˆ†å¸ƒ"><a href="#å¯¹æ¯”ä¸¤ç§åˆ†å¸ƒ" class="headerlink" title="å¯¹æ¯”ä¸¤ç§åˆ†å¸ƒ"></a>å¯¹æ¯”ä¸¤ç§åˆ†å¸ƒ</h2><p>é¦–å…ˆæ˜¯ç”¨å‡åˆ†å¸ƒæ¥è¿‘ä¼¼åŸå§‹åˆ†å¸ƒçš„K-Læ•£åº¦ï¼š</p><p><img src="/src/75110-f682f83675fa42ee.png" alt="img"></p><p>DKL-uniform</p><p>æ¥ä¸‹æ¥è®¡ç®—ç”¨äºŒé¡¹å¼åˆ†å¸ƒè¿‘ä¼¼åŸå§‹åˆ†å¸ƒçš„K-Læ•£åº¦ï¼š</p><p><img src="/src/webp-1656941798226108.webp" alt="img"></p><p>DKL-binomial</p><p>é€šè¿‡ä¸Šé¢çš„è®¡ç®—å¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨å‡åˆ†å¸ƒè¿‘ä¼¼åŸå§‹åˆ†å¸ƒçš„ä¿¡æ¯æŸå¤±è¦æ¯”ç”¨äºŒé¡¹å¼åˆ†å¸ƒè¿‘ä¼¼å°ã€‚æ‰€ä»¥ï¼Œå¦‚æœè¦ä»å‡åˆ†å¸ƒå’ŒäºŒé¡¹å¼åˆ†å¸ƒä¸­é€‰æ‹©ä¸€ä¸ªçš„è¯ï¼Œå‡åˆ†å¸ƒæ›´å¥½äº›ã€‚</p><h2 id="æ•£åº¦å¹¶éè·ç¦»"><a href="#æ•£åº¦å¹¶éè·ç¦»" class="headerlink" title="æ•£åº¦å¹¶éè·ç¦»"></a>æ•£åº¦å¹¶éè·ç¦»</h2><p>å¾ˆè‡ªç„¶åœ°ï¼Œä¸€äº›åŒå­¦æŠŠK-Læ•£åº¦çœ‹ä½œæ˜¯ä¸åŒåˆ†å¸ƒä¹‹é—´è·ç¦»çš„åº¦é‡ã€‚è¿™æ˜¯ä¸å¯¹çš„ï¼Œå› ä¸ºä»K-Læ•£åº¦çš„è®¡ç®—å…¬å¼å°±å¯ä»¥çœ‹å‡ºå®ƒä¸ç¬¦åˆå¯¹ç§°æ€§ï¼ˆè·ç¦»åº¦é‡åº”è¯¥æ»¡è¶³å¯¹ç§°æ€§ï¼‰ã€‚å¦‚æœç”¨æˆ‘ä»¬ä¸Šé¢è§‚å¯Ÿçš„æ•°æ®åˆ†å¸ƒæ¥è¿‘ä¼¼äºŒé¡¹å¼åˆ†å¸ƒï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p><p><img src="/src/webp-1656941800646111.webp" alt="img"></p><p>DKL-notdistance</p><p>æ‰€ä»¥ï¼Œ<code>Dkl (Observed || Binomial) != Dkl (Binomial || Observed)</code>ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨<code>p</code>è¿‘ä¼¼<code>q</code>å’Œç”¨<code>q</code>è¿‘ä¼¼<code>p</code>ï¼ŒäºŒè€…æ‰€æŸå¤±çš„ä¿¡æ¯å¹¶ä¸æ˜¯ä¸€æ ·çš„ã€‚</p><h2 id="ä½¿ç”¨K-Læ•£åº¦ä¼˜åŒ–æ¨¡å‹"><a href="#ä½¿ç”¨K-Læ•£åº¦ä¼˜åŒ–æ¨¡å‹" class="headerlink" title="ä½¿ç”¨K-Læ•£åº¦ä¼˜åŒ–æ¨¡å‹"></a>ä½¿ç”¨K-Læ•£åº¦ä¼˜åŒ–æ¨¡å‹</h2><p>å‰é¢ä½¿ç”¨çš„äºŒé¡¹å¼åˆ†å¸ƒçš„å‚æ•°æ˜¯æ¦‚ç‡ <code>p=0.57</code>ï¼Œæ˜¯åŸå§‹æ•°æ®çš„å‡å€¼ã€‚<code>p</code>çš„å€¼åŸŸåœ¨ [0, 1] ä¹‹é—´ï¼Œæˆ‘ä»¬è¦é€‰æ‹©ä¸€ä¸ª<code>p</code>å€¼ï¼Œå»ºç«‹äºŒé¡¹å¼åˆ†å¸ƒï¼Œç›®çš„æ˜¯æœ€å°åŒ–è¿‘ä¼¼è¯¯å·®ï¼Œå³K-Læ•£åº¦ã€‚é‚£ä¹ˆ<code>0.57</code>æ˜¯æœ€ä¼˜çš„å—ï¼Ÿ<br>ä¸‹å›¾æ˜¯åŸå§‹æ•°æ®åˆ†å¸ƒå’ŒäºŒé¡¹å¼åˆ†å¸ƒçš„K-Læ•£åº¦å˜åŒ–éšäºŒé¡¹å¼åˆ†å¸ƒå‚æ•°<code>p</code>å˜åŒ–æƒ…å†µï¼š</p><p><img src="/img/webp-165590387792790.webp" alt="img"></p><p>äºŒé¡¹åˆ†å¸ƒK-Lå€¼å˜åŒ–æ›²çº¿</p><p>é€šè¿‡ä¸Šé¢çš„æ›²çº¿å›¾å¯ä»¥çœ‹å‡ºï¼ŒK-Læ•£åº¦å€¼åœ¨åœ†ç‚¹å¤„æœ€å°ï¼Œå³<code>p=0.57</code>ã€‚æ‰€ä»¥æˆ‘ä»¬ä¹‹å‰çš„äºŒé¡¹å¼åˆ†å¸ƒæ¨¡å‹å·²ç»æ˜¯æœ€ä¼˜çš„äºŒé¡¹å¼æ¨¡å‹äº†ã€‚æ³¨æ„ï¼Œæˆ‘å·²ç»è¯´äº†ï¼Œæ˜¯è€Œåƒæ˜¯æ¨¡å‹ï¼Œè¿™é‡Œåªé™å®šåœ¨äºŒé¡¹å¼æ¨¡å‹èŒƒå›´å†…ã€‚</p><p>å‰é¢åªè€ƒè™‘äº†å‡åˆ†å¸ƒæ¨¡å‹å’ŒäºŒé¡¹å¼åˆ†å¸ƒæ¨¡å‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è€ƒè™‘å¦å¤–ä¸€ç§æ¨¡å‹æ¥è¿‘ä¼¼åŸå§‹æ•°æ®ã€‚é¦–å…ˆæŠŠåŸå§‹æ•°æ®åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œ1ï¼‰0-5é¢—ç‰™é½¿çš„æ¦‚ç‡å’Œ 2ï¼‰6-10é¢—ç‰™é½¿çš„æ¦‚ç‡ã€‚æ¦‚ç‡å€¼å¦‚ä¸‹ï¼š</p><p><img src="/src/webp-1656941803774114.webp" alt="img"></p><p>ad hoc model</p><p>å³ï¼Œä¸€åªè •è™«çš„ç‰™é½¿æ•°é‡<code>x=i</code>çš„æ¦‚ç‡ä¸º<code>p/5</code>; <code>x=j</code>çš„æ¦‚ç‡ä¸º<code>(1-p) / 6</code>ï¼Œ<code>i=0,1,2,3,4,5</code>; <code>j=6,7,8,9,10</code>ã€‚<br>Ahaï¼Œæˆ‘ä»¬è‡ªå·±å»ºç«‹äº†ä¸€ä¸ªæ–°çš„ï¼ˆå¥‡æ€ªçš„ï¼‰æ¨¡å‹æ¥è¿‘ä¼¼åŸå§‹çš„åˆ†å¸ƒï¼Œæ¨¡å‹åªæœ‰ä¸€ä¸ªå‚æ•°<code>p</code>ï¼Œåƒå‰é¢é‚£æ ·ä¼˜åŒ–äºŒé¡¹å¼åˆ†å¸ƒçš„æ—¶å€™æ‰€åšçš„ä¸€æ ·ï¼Œè®©æˆ‘ä»¬ç”»å‡ºK-Læ•£åº¦å€¼éš<code>p</code>å˜åŒ–çš„æƒ…å†µï¼š</p><p><img src="/src/webp-165590388157393.webp" alt="img"></p><p>finding an optimal parameter value for our ad hoc model</p><p>å½“<code>p=0.47</code>æ—¶ï¼ŒK-Lå€¼å–æœ€å°å€¼<code>0.338</code>ã€‚ä¼¼æ›¾ç›¸è¯†å—ï¼Ÿå¯¹ï¼Œè¿™ä¸ªå€¼å’Œä½¿ç”¨å‡åˆ†å¸ƒçš„K-Læ•£åº¦å€¼æ˜¯ä¸€æ ·çš„ï¼ˆè¿™å¹¶ä¸èƒ½è¯´æ˜ä»€ä¹ˆï¼‰ï¼ä¸‹é¢æˆ‘ä»¬ç»§ç»­ç”»å‡ºè¿™ä¸ªå¥‡æ€ªæ¨¡å‹çš„æ¦‚ç‡åˆ†å¸ƒå›¾ï¼Œçœ‹èµ·æ¥ç¡®å®å’Œå‡åˆ†å¸ƒçš„æ¦‚ç‡åˆ†å¸ƒå›¾ç›¸ä¼¼ï¼š</p><p><img src="/src/75110-857b751b045a3aa2.png" alt="img"></p><p>ad hoc model distribution</p><p>æˆ‘ä»¬è‡ªå·±éƒ½è¯´äº†ï¼Œè¿™æ˜¯ä¸ªå¥‡æ€ªçš„æ¨¡å‹ï¼Œåœ¨K-Lå€¼ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæ›´å€¾å‘äºä½¿ç”¨æ›´å¸¸è§çš„ã€æ›´ç®€å•çš„å‡åˆ†å¸ƒæ¨¡å‹ã€‚</p><p>å›å¤´çœ‹ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸€å°èŠ‚ä¸­ä½¿ç”¨K-Læ•£åº¦ä½œä¸ºç›®æ ‡æ–¹ç¨‹ï¼Œåˆ†åˆ«æ‰¾åˆ°äº†äºŒé¡¹å¼åˆ†å¸ƒæ¨¡å‹çš„å‚æ•°<code>p=0.57</code>å’Œä¸Šé¢è¿™ä¸ªéšæ‰‹å»ºç«‹çš„æ¨¡å‹çš„å‚æ•°<code>p=0.47</code>ã€‚æ˜¯çš„ï¼Œè¿™å°±æ˜¯æœ¬èŠ‚çš„é‡ç‚¹ï¼š<strong>ä½¿ç”¨K-Læ•£åº¦ä½œä¸ºç›®æ ‡æ–¹ç¨‹æ¥ä¼˜åŒ–æ¨¡å‹</strong>ã€‚å½“ç„¶ï¼Œæœ¬èŠ‚ä¸­çš„æ¨¡å‹éƒ½åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå¯ä»¥æ‹“å±•åˆ°æœ‰æ›´å¤šå‚æ•°çš„é«˜ç»´æ¨¡å‹ä¸­ã€‚</p><h2 id="å˜åˆ†è‡ªç¼–ç å™¨VAEså’Œå˜åˆ†è´å¶æ–¯æ³•"><a href="#å˜åˆ†è‡ªç¼–ç å™¨VAEså’Œå˜åˆ†è´å¶æ–¯æ³•" class="headerlink" title="å˜åˆ†è‡ªç¼–ç å™¨VAEså’Œå˜åˆ†è´å¶æ–¯æ³•"></a>å˜åˆ†è‡ªç¼–ç å™¨VAEså’Œå˜åˆ†è´å¶æ–¯æ³•</h2><p>å¦‚æœä½ ç†Ÿæ‚‰ç¥ç»ç½‘ç»œï¼Œä½ è‚¯èƒ½å·²ç»çŒœåˆ°æˆ‘ä»¬æ¥ä¸‹æ¥è¦å­¦ä¹ çš„å†…å®¹ã€‚é™¤å»ç¥ç»ç½‘ç»œç»“æ„çš„ç»†èŠ‚ä¿¡æ¯ä¸è°ˆï¼Œæ•´ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹å…¶å®æ˜¯åœ¨æ„é€ ä¸€ä¸ªå‚æ•°æ•°é‡å·¨å¤§çš„å‡½æ•°ï¼ˆç™¾ä¸‡çº§ï¼Œç”šè‡³æ›´å¤šï¼‰ï¼Œä¸å¦¨è®°ä¸º<code>f(x)</code>ï¼Œé€šè¿‡è®¾å®šç›®æ ‡å‡½æ•°ï¼Œå¯ä»¥è®­ç»ƒç¥ç»ç½‘ç»œé€¼è¿‘éå¸¸å¤æ‚çš„çœŸå®å‡½æ•°<code>g(x)</code>ã€‚è®­ç»ƒçš„å…³é”®æ˜¯è¦è®¾å®šç›®æ ‡å‡½æ•°ï¼Œåé¦ˆç»™ç¥ç»ç½‘ç»œå½“å‰çš„è¡¨ç°å¦‚ä½•ã€‚è®­ç»ƒè¿‡ç¨‹å°±æ˜¯ä¸æ–­å‡å°ç›®æ ‡å‡½æ•°å€¼çš„è¿‡ç¨‹ã€‚</p><p>æˆ‘ä»¬å·²ç»çŸ¥é“K-Læ•£åº¦ç”¨æ¥åº¦é‡åœ¨é€¼è¿‘ä¸€ä¸ªåˆ†å¸ƒæ—¶çš„ä¿¡æ¯æŸå¤±é‡ã€‚K-Læ•£åº¦èƒ½å¤Ÿèµ‹äºˆç¥ç»ç½‘ç»œè¿‘ä¼¼è¡¨è¾¾éå¸¸å¤æ‚æ•°æ®åˆ†å¸ƒçš„èƒ½åŠ›ã€‚å˜åˆ†è‡ªç¼–ç å™¨ï¼ˆVariational Autoencodersï¼ŒVAEsï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿå­¦ä¹ æœ€ä½³è¿‘ä¼¼æ•°æ®é›†ä¸­ä¿¡æ¯çš„å¸¸ç”¨æ–¹æ³•ï¼Œ<a href="https://links.jianshu.com/go?to=https://arxiv.org/abs/1606.05908">Tutorial on Variational Autoencoders 2016</a>æ˜¯ä¸€ç¯‡å…³äºVAEsçš„éå¸¸ä¸é”™çš„æ•™ç¨‹ï¼Œé‡Œé¢è®²è¿°äº†å¦‚ä½•æ„å»ºVAEçš„ç»†èŠ‚ã€‚ <a href="https://links.jianshu.com/go?to=https://medium.com/@dmonn/what-are-variational-autoencoders-a-simple-explanation-ea7dccafb0e3">What are Variational Autoencoders? A simple explanation</a>ç®€å•ä»‹ç»äº†VAEsï¼Œ<a href="https://links.jianshu.com/go?to=https://blog.keras.io/building-autoencoders-in-keras.html">Building Autoencoders in Keras</a>ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨Kerasåº“å®ç°å‡ ç§è‡ªç¼–ç å™¨ã€‚</p><p>å˜åˆ†è´å¶æ–¯æ–¹æ³•ï¼ˆVariational Bayesian Methodsï¼‰æ˜¯ä¸€ç§æ›´å¸¸è§çš„æ–¹æ³•ã€‚<a href="https://links.jianshu.com/go?to=https://www.countbayesie.com/blog/2015/3/3/6-amazing-trick-with-monte-carlo-simulations">è¿™ç¯‡æ–‡ç« </a>ä»‹ç»äº†å¼ºå¤§çš„è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿæ–¹æ³•èƒ½å¤Ÿè§£å†³å¾ˆå¤šæ¦‚ç‡é—®é¢˜ã€‚è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿèƒ½å¤Ÿå¸®åŠ©è§£å†³è®¸å¤šè´å¶æ–¯æ¨ç†é—®é¢˜ä¸­çš„æ£˜æ‰‹ç§¯åˆ†é—®é¢˜ï¼Œå°½ç®¡è®¡ç®—å¼€é”€å¾ˆå¤§ã€‚åŒ…æ‹¬VAEåœ¨å†…çš„å˜åˆ†è´å¶æ–¯æ–¹æ³•ï¼Œéƒ½èƒ½ç”¨K-Læ•£åº¦ç”Ÿæˆä¼˜åŒ–çš„è¿‘ä¼¼åˆ†å¸ƒï¼Œè¿™ç§æ–¹æ³•å¯¹æ£˜æ‰‹ç§¯åˆ†é—®é¢˜èƒ½è¿›è¡Œæ›´é«˜æ•ˆçš„æ¨ç†ã€‚æ›´å¤šå˜åˆ†æ¨ç†ï¼ˆVariational Inferenceï¼‰çš„çŸ¥è¯†å¯ä»¥è®¿é—®<a href="https://links.jianshu.com/go?to=http://edwardlib.org/">Edward library for python</a>ã€‚</p><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><ol><li><p>K-L æ•£åº¦çš„å®šä¹‰</p><p><img src="/src/75110-5d773218b2511d9a.png" alt="img"></p><p>define K-L divergence</p></li><li><p>è®¡ç®—K-Lçš„æ³¨æ„äº‹é¡¹</p><p><img src="/src/75110-f55d663d60503fa4.png" alt="img"></p><p>notice</p></li><li><p>é‡åˆ°<code>log 0</code>æ—¶æ€ä¹ˆåŠ</p><p><img src="/src/webp-1656941818267121.webp" alt="img"></p><p>example for K-L smoothing</p></li><li><p>ä¿¡æ¯ç†µã€äº¤å‰ç†µã€ç›¸å¯¹ç†µ</p></li></ol><ul><li>ä¿¡æ¯ç†µï¼Œå³ç†µï¼Œé¦™æµ“ç†µã€‚ç¼–ç æ–¹æ¡ˆå®Œç¾æ—¶ï¼Œæœ€çŸ­å¹³å‡ç¼–ç é•¿åº¦ã€‚</li><li>äº¤å‰ç†µï¼Œcross-entropyã€‚ç¼–ç æ–¹æ¡ˆä¸ä¸€å®šå®Œç¾æ—¶ï¼ˆç”±äºå¯¹æ¦‚ç‡åˆ†å¸ƒçš„ä¼°è®¡ä¸ä¸€å®šæ­£ç¡®ï¼‰ï¼Œå¹³å‡ç¼–ç é•¿åº¦ã€‚æ˜¯ç¥ç»ç½‘ç»œå¸¸ç”¨çš„æŸå¤±å‡½æ•°ã€‚</li><li>ç›¸å¯¹ç†µï¼Œå³K-Læ•£åº¦ï¼Œrelative entropyã€‚ç¼–ç æ–¹æ¡ˆä¸ä¸€å®šå®Œç¾æ—¶ï¼Œå¹³å‡ç¼–ç é•¿åº¦ç›¸å¯¹äºæœ€å°å€¼çš„å¢åŠ å€¼ã€‚<br>æ›´è¯¦ç»†å¯¹æ¯”ï¼Œè§çŸ¥ä¹<a href="https://links.jianshu.com/go?to=https://www.zhihu.com/question/41252833">å¦‚ä½•é€šä¿—çš„è§£é‡Šäº¤å‰ç†µä¸ç›¸å¯¹ç†µ?</a></li></ul><ol><li>ä¸ºä»€ä¹ˆåœ¨ç¥ç»ç½‘ç»œä¸­ä½¿ç”¨äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œè€Œä¸æ˜¯K-Læ•£åº¦ï¼Ÿ<br>K-Læ•£åº¦&#x3D;äº¤å‰ç†µ-ç†µï¼Œå³ <code>DKL( p||q )=H(p,q)âˆ’H(p)</code>ã€‚<br>åœ¨ç¥ç»ç½‘ç»œæ‰€æ¶‰åŠåˆ°çš„èŒƒå›´å†…ï¼Œ<code>H(p)</code>ä¸å˜ï¼Œåˆ™<code>DKL( p||q )</code>ç­‰ä»·<code>H(p,q)</code>ã€‚<br>æ›´å¤šè®¨è®ºè§<a href="https://links.jianshu.com/go?to=https://stats.stackexchange.com/questions/265966/why-do-we-use-kullback-leibler-divergence-rather-than-cross-entropy-in-the-t-sne">Why do we use Kullback-Leibler divergence rather than cross entropy in the t-SNE objective function?</a>å’Œ<a href="https://links.jianshu.com/go?to=https://www.reddit.com/r/MachineLearning/comments/4mebvf/why_train_with_crossentropy_instead_of_kl/">Why train with cross-entropy instead of KL divergence in classification?</a>in_with_crossentropy_instead_of_kl%2F)</li></ol>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”æœºå™¨å­¦ä¹ å¼•è¨€</title>
    <link href="/2022/08/01/MachineLearning/introduce/"/>
    <url>/2022/08/01/MachineLearning/introduce/</url>
    
    <content type="html"><![CDATA[<h1 id="æœºå™¨å­¦ä¹ å®šä¹‰"><a href="#æœºå™¨å­¦ä¹ å®šä¹‰" class="headerlink" title="æœºå™¨å­¦ä¹ å®šä¹‰"></a>æœºå™¨å­¦ä¹ å®šä¹‰</h1><ul><li>å¼ å¿—åæ•™æˆå®šä¹‰ä¸ºï¼š A field that bridge computation and statistics with ties to information, signal process, algorithm control theory and optimization theory.</li><li>AIæ•™çˆ¶Mike Jordançš„å®šä¹‰ä¸ºï¼šMachine Learning &#x3D; Matrix + Optimization + Algorithm + Statistics </li><li>Mitchellåˆ™ç»™å‡ºäº†ä¸€ä¸ªæ›´åŠ å½¢è±¡çš„å®šä¹‰ï¼šå‡è®¾ç”¨Pæ¥è¯„ä¼°è®¡ç®—æœºç¨‹åºåœ¨æŸä»»åŠ¡ç±»Tä¸Šçš„æ€§èƒ½ï¼Œè‹¥ä¸€ä¸ªç¨‹åºé€šè¿‡åˆ©ç”¨ç»éªŒEåœ¨Tä¸­çš„ä»»åŠ¡ä¸Šè·å¾—äº†æ€§èƒ½æ”¹å–„ï¼Œåˆ™æˆ‘ä»¬å°±è¯´å…³äºTå’ŒPï¼Œæ”¹ç¨‹åºå¯¹Eè¿›è¡Œäº†å­¦ä¹ ã€‚</li></ul><p>æœºå™¨å­¦ä¹ è‡´åŠ›äºç ”ç©¶å¦‚ä½•é€šè¿‡è®¡ç®—çš„æ‰‹æ®µï¼Œåˆ©ç”¨ç»éªŒæ¥æ”¹å–„ç³»ç»Ÿè‡ªèº«çš„æ€§èƒ½ï¼Œä»è€Œåœ¨è®¡ç®—æœºä¸Šä»æ•°æ®ä¸­äº§ç”Ÿâ€œæ¨¡å‹â€ï¼Œ ç”¨äºå¯¹æ–°çš„æƒ…å†µç»™å‡ºåˆ¤æ–­ã€‚</p><pre><code class=" mermaid">graph LR;     è§‚å¯Ÿ--&gt;å­¦ä¹ --&gt; æŠ€èƒ½;     æ•°æ®--&gt;æœºå™¨å­¦ä¹ --&gt; æé«˜æŸç§æ€§èƒ½æŒ‡æ ‡</code></pre><h1 id="æœºå™¨å­¦ä¹ å‘å±•è¿‡ç¨‹"><a href="#æœºå™¨å­¦ä¹ å‘å±•è¿‡ç¨‹" class="headerlink" title="æœºå™¨å­¦ä¹ å‘å±•è¿‡ç¨‹"></a>æœºå™¨å­¦ä¹ å‘å±•è¿‡ç¨‹</h1><p>![å±å¹•æˆªå›¾ 2022-01-03 165301](&#x2F;src&#x2F;å±å¹•æˆªå›¾ 2022-01-03 165301.png)</p><h2 id="é€»è¾‘æ¨ç†é˜¶æ®µâ€”â€”äººå·¥æ™ºèƒ½å‘å±•çš„æ—©æœŸé˜¶æ®µ"><a href="#é€»è¾‘æ¨ç†é˜¶æ®µâ€”â€”äººå·¥æ™ºèƒ½å‘å±•çš„æ—©æœŸé˜¶æ®µ" class="headerlink" title="é€»è¾‘æ¨ç†é˜¶æ®µâ€”â€”äººå·¥æ™ºèƒ½å‘å±•çš„æ—©æœŸé˜¶æ®µ"></a>é€»è¾‘æ¨ç†é˜¶æ®µâ€”â€”äººå·¥æ™ºèƒ½å‘å±•çš„æ—©æœŸé˜¶æ®µ</h2><p><strong>æ€æƒ³</strong>ï¼š æ™®éè®¤ä¸ºå®ç°äººå·¥æ™ºèƒ½çš„å…³é”®æŠ€æœ¯åœ¨äºè‡ªåŠ¨é€»è¾‘æ¨ç†ï¼Œåªè¦æœºå™¨è¢«èµ‹äºˆé€»è¾‘æ¨ç†èƒ½åŠ›å°±å¯ä»¥å®ç°äººå·¥æ™ºèƒ½<br><strong>æˆæœ</strong>ï¼š ä¸»è¦é€šè¿‡è°“è¯é€»è¾‘æ¼”ç®—æ¨¡æ‹Ÿäººç±»æ™ºèƒ½ã€‚è¿™ä¸ªé˜¶æ®µçš„äººå·¥æ™ºèƒ½çš„ä¸»æµæ ¸å¿ƒæŠ€æœ¯æ˜¯ç¬¦å·é€»è¾‘è®¡ç®—ï¼Œåœ¨æ•°å­¦å®šç†è‡ªåŠ¨è¯æ˜ç­‰é¢†åŸŸè·å¾—äº†ä¸€å®šæˆåŠŸ </p><h2 id="ä¸“å®¶ç³»ç»Ÿâ€”â€”ä»¥çŸ¥è¯†å·¥ç¨‹ä¸ºæ ¸å¿ƒæŠ€æœ¯"><a href="#ä¸“å®¶ç³»ç»Ÿâ€”â€”ä»¥çŸ¥è¯†å·¥ç¨‹ä¸ºæ ¸å¿ƒæŠ€æœ¯" class="headerlink" title="ä¸“å®¶ç³»ç»Ÿâ€”â€”ä»¥çŸ¥è¯†å·¥ç¨‹ä¸ºæ ¸å¿ƒæŠ€æœ¯"></a>ä¸“å®¶ç³»ç»Ÿâ€”â€”ä»¥çŸ¥è¯†å·¥ç¨‹ä¸ºæ ¸å¿ƒæŠ€æœ¯</h2><p><strong>æå‡ºåŸå› </strong>ï¼š å¦‚æœæ²¡æœ‰ä¸€å®šæ•°é‡ä¸“ä¸šé¢†åŸŸçŸ¥è¯†æ”¯æ’‘ï¼Œåˆ™å¾ˆéš¾å®ç°å¯¹å¤æ‚å®é™…é—®é¢˜çš„é€»è¾‘æ¨ç†<br><strong>æˆæœ</strong>ï¼š ä¸“å®¶ç³»ç»Ÿä½¿ç”¨åŸºäºä¸“å®¶çŸ¥è¯†åº“çš„çŸ¥è¯†æ¨ç†å–ä»£çº¯ç²¹çš„ç¬¦å·é€»è¾‘è®¡ç®—ï¼Œåœ¨æ•…éšœè¯Šæ–­ã€æ¸¸æˆåšå¼ˆç­‰é¢†åŸŸå–å¾—äº†å·¨å¤§æˆåŠŸ<br><strong>æ–¹æ³•</strong>ï¼š ä¸“å®¶ç³»ç»Ÿéœ€è¦é’ˆå¯¹å…·ä½“é—®é¢˜çš„ä¸“ä¸šé¢†åŸŸç‰¹ç‚¹å»ºç«‹ç›¸åº”çš„ä¸“å®¶çŸ¥è¯†åº“ï¼Œåˆ©ç”¨è¿™äº›çŸ¥è¯†æ¥å®Œæˆæ¨ç†å’Œå†³ç­–<br><strong>ç¼ºé™·</strong>ï¼š å°†ä¸“å®¶çŸ¥è¯†æ€»ç»“å‡ºæ¥å¹¶ä»¥é€‚å½“çš„æ–¹å¼å‘Šè¯‰è®¡ç®—æœºç¨‹åºæœ‰æ—¶éå¸¸å›°éš¾ï¼Œé€šå¸¸éœ€è¦é’ˆå¯¹æ¯ä¸ªå…·ä½“ä»»åŠ¡æ‰‹å·¥å»ºç«‹ç›¸åº”çš„çŸ¥è¯†åº“<br><strong>æ€»ç»“</strong>ï¼š ä¸“å®¶çŸ¥è¯†çš„äººå·¥è·å–å’Œè¡¨ç¤ºæ–¹å¼ä¸¥é‡åˆ¶çº¦äº†äººå·¥æ™ºèƒ½çš„è¿›ä¸€æ­¥å‘å±•  </p><h2 id="æœºå™¨å­¦ä¹ "><a href="#æœºå™¨å­¦ä¹ " class="headerlink" title="æœºå™¨å­¦ä¹ "></a>æœºå™¨å­¦ä¹ </h2><p><strong>å‘å±•</strong>ï¼š 20ä¸–çºª90å¹´ä»£ä¸­æœŸä»¥æ¥ï¼Œæœºå™¨å­¦ä¹ å¾—åˆ°è¿…é€Ÿå‘å±•å¹¶é€æ­¥å–ä»£ä¼ ç»Ÿä¸“å®¶ç³»ç»Ÿæˆä¸ºäººå·¥æ™ºèƒ½çš„ä¸»æµæ ¸å¿ƒæŠ€æœ¯ï¼Œä½¿å¾—äººå·¥æ™ºèƒ½é€æ­¥è¿›å…¥æœºå™¨å­¦ä¹ æ—¶ä»£ã€‚ç›®å‰ï¼Œä»¥æœºå™¨å­¦ä¹ ä¸ºä¸»æµæ ¸å¿ƒæŠ€æœ¯çš„äººå·¥æ™ºèƒ½åœ¨å¤šä¸ªé¢†åŸŸå–å¾—çš„å·¨å¤§æˆåŠŸå·²ä½¿å…¶æˆä¸ºç¤¾ä¼šå„ç•Œå…³æ³¨çš„ç„¦ç‚¹å’Œå¼•é¢†ç¤¾ä¼šæœªæ¥çš„æˆ˜ç•¥æ€§æŠ€æœ¯  ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰</p><p><img src="/src/image-20220103165937826.png" alt="image-20220103165937826"></p><h3 id="æœºå™¨å­¦ä¹ æ—©æœŸå„æ—¶æœŸç››è¡Œçš„æŠ€æœ¯ã€æ–¹æ³•"><a href="#æœºå™¨å­¦ä¹ æ—©æœŸå„æ—¶æœŸç››è¡Œçš„æŠ€æœ¯ã€æ–¹æ³•" class="headerlink" title="æœºå™¨å­¦ä¹ æ—©æœŸå„æ—¶æœŸç››è¡Œçš„æŠ€æœ¯ã€æ–¹æ³•"></a>æœºå™¨å­¦ä¹ æ—©æœŸå„æ—¶æœŸç››è¡Œçš„æŠ€æœ¯ã€æ–¹æ³•</h3><p><img src="/src/image-20220103170040969.png" alt="image-20220103170040969"></p><pre><code class=" mermaid">graph LR;    1950s--&gt;åŸºäºç¥ç»ç½‘ç»œçš„è¿æ¥ä¸»ä¹‰å­¦ä¹  --&gt; æ„ŸçŸ¥æœºPerceptron    1970s--&gt;åŸºäºé€»è¾‘è¡¨ç¤ºçš„ç¬¦å·ä¸»ä¹‰å­¦ä¹  --&gt; ä»¥å†³ç­–ç†è®ºä¸ºåŸºç¡€çš„å­¦ä¹ æŠ€æœ¯    åŸºäºé€»è¾‘è¡¨ç¤ºçš„ç¬¦å·ä¸»ä¹‰å­¦ä¹  --&gt; å¼ºåŒ–å­¦ä¹ æŠ€æœ¯çš„å‘å±•    1980s--&gt; ä»æ ·æœ¬ä¸­å­¦ä¹ --&gt; ç¬¦å·ä¸»ä¹‰å­¦ä¹  --&gt; å†³ç­–æ ‘DecisionTree    ç¬¦å·ä¸»ä¹‰å­¦ä¹  --&gt; åŸºäºé€»è¾‘çš„å­¦ä¹     1990s --&gt; ç»Ÿè®¡å­¦ä¹  --&gt; æ”¯æŒå‘é‡æœºSVMå’Œæ ¸æ–¹æ³•    21stCentury --&gt; æ·±åº¦å­¦ä¹ </code></pre><h3 id="æœºå™¨å­¦ä¹ å’Œå…¶ä»–é¢†åŸŸä¹‹é—´çš„å…³ç³»ï¼š"><a href="#æœºå™¨å­¦ä¹ å’Œå…¶ä»–é¢†åŸŸä¹‹é—´çš„å…³ç³»ï¼š" class="headerlink" title="æœºå™¨å­¦ä¹ å’Œå…¶ä»–é¢†åŸŸä¹‹é—´çš„å…³ç³»ï¼š"></a>æœºå™¨å­¦ä¹ å’Œå…¶ä»–é¢†åŸŸä¹‹é—´çš„å…³ç³»ï¼š</h3><p><img src="/src/image-20220103172411863.png" alt="image-20220103172411863"></p><pre><code class=" mermaid">graph TD;    æœºå™¨å­¦ä¹  --æ•°æ®åˆ†ææŠ€æœ¯ --&gt; æ•°æ®æŒ–æ˜    æ•°æ®åº“ --æ•°æ®ç®¡ç†æŠ€æœ¯ --&gt; æ•°æ®æŒ–æ˜</code></pre><h1 id="æœºå™¨å­¦ä¹ çš„åˆ†ç±»"><a href="#æœºå™¨å­¦ä¹ çš„åˆ†ç±»" class="headerlink" title="æœºå™¨å­¦ä¹ çš„åˆ†ç±»"></a>æœºå™¨å­¦ä¹ çš„åˆ†ç±»</h1><ul><li><p>æœ‰ç›‘ç£å­¦ä¹ ï¼šåˆ©ç”¨ä¸€ç»„å¸¦æ ‡æ³¨æ ·æœ¬è°ƒæ•´æ¨¡å‹å‚æ•°ï¼Œæå‡æ¨¡å‹æ€§èƒ½çš„å­¦ä¹ æ–¹å¼ã€‚ åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡æ ‡æ³¨å€¼å‘Šè¯‰æ¨¡å‹åœ¨ç»™å®šè¾“å…¥çš„æƒ…å†µä¸‹åº”è¯¥è¾“å‡ºä»€ä¹ˆå€¼ï¼Œç”±æ­¤è·å¾—å°½å¯èƒ½æ¥è¿‘çœŸå®æ˜ å°„æ–¹å¼çš„ä¼˜åŒ–æ¨¡å‹ <img src="/src/image-20220103173117302.png" alt="image-20220103173117302"><br><strong>æœ‰æ ‡è®°ã€æœ‰åé¦ˆã€é¢„æµ‹ç»“æœ</strong></p></li><li><p>å¼±ç›‘ç£å­¦ä¹ ï¼šåˆ©ç”¨æ ‡æ³¨æ•°æ®å’Œæœªæ ‡æ³¨æ•°æ®å­¦ä¹ é¢„æµ‹ï¼Œé¢„æµ‹æ¨¡å‹çš„æœºå™¨å­¦ä¹ é—®é¢˜ã€‚é€šå¸¸æ˜¯æœ‰å°‘é‡æ ‡æ³¨æ ‡ç­¾ã€å¤§é‡æœªæ ‡æ³¨æ•°æ®ï¼Œå› ä¸ºæ ‡æ³¨æ•°æ®çš„æ„å»ºå¾€å¾€éœ€è¦äººå·¥ï¼Œæˆæœ¬è¾ƒé«˜ï¼Œæœªæ ‡æ³¨æ•°æ®çš„æ”¶é›†ä¸éœ€è¦å¤ªå¤šæˆæœ¬ã€‚</p><ol><li>ä¸å……åˆ†å­¦ä¹ ï¼šåŠç›‘ç£å­¦ä¹ ã€PUå­¦ä¹ </li><li>ä¸å‡†ç¡®å­¦ä¹ ï¼šå¤šç¤ºä¾‹å­¦ä¹ ã€åæ ‡è®°å­¦ä¹ </li><li>ä¸ç²¾ç¡®å­¦ä¹ ï¼šæ ‡ç­¾å™ªå£°å­¦ä¹ </li></ol></li><li><p>æ— ç›‘ç£å­¦ä¹ ï¼šé€šè¿‡æ¯”è¾ƒæ ·æœ¬ä¹‹é—´çš„æŸç§è”ç³»å®ç°å¯¹æ ·æœ¬çš„æ•°æ®åˆ†æã€‚ æœ€å¤§ç‰¹ç‚¹æ˜¯å­¦ä¹ ç®—æ³•çš„è¾“å…¥æ˜¯æ— æ ‡è®°æ ·æœ¬<br><strong>æ— æ ‡è®°ã€æ— åé¦ˆã€æŒ–æ˜å†…åœ¨ç»“æ„</strong></p></li><li><p>å¼ºåŒ–å­¦ä¹ ï¼šæ ¹æ®åé¦ˆä¿¡æ¯æ¥è°ƒæ•´æœºå™¨è¡Œä¸ºä»¥å®ç°è‡ªåŠ¨å†³ç­–çš„ä¸€ç§æœºå™¨å­¦ä¹ æ–¹å¼ã€‚ å¼ºåŒ–å­¦ä¹ ä¸»è¦ç”±æ™ºèƒ½ä½“å’Œç¯å¢ƒä¸¤ä¸ªéƒ¨åˆ†ç»„æˆã€‚æ™ºèƒ½ä½“æ˜¯è¡Œä¸ºçš„å®æ–½è€…ï¼Œç”±åŸºäºç¯å¢ƒä¿¡æ¯çš„è¯„ä»·å‡½æ•°å¯¹æ™ºèƒ½ä½“çš„è¡Œä¸ºåšå‡ºè¯„ä»·ï¼Œè‹¥æ™ºèƒ½ä½“çš„è¡Œä¸ºæ­£ç¡®ï¼Œåˆ™ç”±ç›¸åº”çš„å›æŠ¥å‡½æ•°ç»™äºˆæ™ºèƒ½ä½“æ­£å‘åé¦ˆä¿¡æ¯ä»¥ç¤ºå¥–åŠ±ï¼Œåä¹‹åˆ™ç»™äºˆæ™ºèƒ½ä½“è´Ÿå‘åé¦ˆä¿¡æ¯ä»¥ç¤ºæƒ©ç½š<br><img src="/src/image-20220103173205080.png" alt="image-20220103173205080"><br><strong>å†³ç­–è¿‡ç¨‹ã€å¥–åŠ±æœºåˆ¶ã€å­¦ä¹ ä¸€ç³»åˆ—åŠ¨ä½œ</strong></p></li><li><p>ä¸»åŠ¨å­¦ä¹ ï¼šæŒ‡æœºå™¨ä¸æ–­ä¸»åŠ¨ç»™å‡ºå®ä¾‹è®©äººè¿›è¡Œæ ‡æ³¨ï¼Œç„¶ååˆ©ç”¨æ ‡æ³¨æ•°æ®å­¦ä¹ é¢„æµ‹æ¨¡å‹çš„æœºå™¨å­¦ä¹ é—®é¢˜ã€‚é€šå¸¸çš„ç›‘ç£å­¦ä¹ ä½¿ç”¨ç»™å®šçš„æ ‡æ³¨æ•°æ®ï¼Œå¾€å¾€æ˜¯éšæœºå¾—åˆ°çš„ï¼Œå¯ä»¥çœ‹ä½œæ˜¯â€œè¢«åŠ¨å­¦ä¹ â€ï¼Œä¸»åŠ¨å­¦ä¹ çš„ç›®æ ‡æ˜¯æ‰¾å‡ºå¯¹å­¦ä¹ æœ€æœ‰å¸®åŠ©çš„å®ä¾‹è®©äººæ ‡æ³¨ï¼Œä»¥è¾ƒå°çš„æ ‡æ³¨ä»£ä»·ï¼Œè¾¾åˆ°è¾ƒå¥½çš„æ•ˆæœã€‚</p></li></ul><h1 id="æœºå™¨å­¦ä¹ çš„ä»»åŠ¡"><a href="#æœºå™¨å­¦ä¹ çš„ä»»åŠ¡" class="headerlink" title="æœºå™¨å­¦ä¹ çš„ä»»åŠ¡"></a>æœºå™¨å­¦ä¹ çš„ä»»åŠ¡</h1><p>ä¸€èˆ¬æ¥è¯´ï¼Œæœºå™¨å­¦ä¹ é¢å‘çš„ä»»åŠ¡æœ‰ä¸‰ç±»ï¼šå›å½’é—®é¢˜ã€åˆ†ç±»é—®é¢˜ã€èšç±»é—®é¢˜</p><p>ä»–ä»¬å¾€å¾€éƒ½æ˜¯éœ€è¦æ„å»ºä¸€ä¸ªæ¨¡å‹æ¥ç¡®å®šï¼Œåˆ©ç”¨å„ç§æœºå™¨å­¦ä¹ æ–¹æ³•æå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼ˆå³æ¨¡å‹é¢å¯¹æœªçŸ¥æ•°æ®çš„å¤„ç†èƒ½åŠ›ï¼‰</p><h1 id="æœºå™¨å­¦ä¹ çš„å½’çº³åå¥½"><a href="#æœºå™¨å­¦ä¹ çš„å½’çº³åå¥½" class="headerlink" title="æœºå™¨å­¦ä¹ çš„å½’çº³åå¥½"></a>æœºå™¨å­¦ä¹ çš„å½’çº³åå¥½</h1><p>æœºå™¨å­¦ä¹ çš„å½’çº³åå¥½ä¸€èˆ¬æœ‰ä¸¤ç§ï¼š</p><ul><li>No Free Lunch Theoremï¼šä¸€ä¸ªç®—æ³•$\xi_a$å¦‚æœåœ¨æŸäº›é—®é¢˜ä¸Šæ¯”å¦ä¸€ä¸ªç®—æ³•$\xi_b$ å¥½ï¼Œå¿…ç„¶å­˜åœ¨å¦ä¸€äº›é—®é¢˜,$\xi_b$æ¯”$\xi_a$å¥½</li><li>Ocamâ€™s razor: è‹¥å¤šä¸ªå‡è®¾ä¸è§‚å¯Ÿä¸€è‡´ï¼Œåˆ™é€‰æ‹©æœ€ç®€å•çš„é‚£ä¸ª</li></ul><p>å½’çº³åå¥½å¯¹åº”å­¦ä¹ ç®—æ³•æœ¬èº«æ‰€ä½œå‡ºçš„å…³äºâ€œä»€ä¹ˆæ ·çš„æ¨¡å‹æ›´å¥½â€çš„å‡è®¾ã€‚åœ¨å…·ä½“çš„ç°å®é—®é¢˜ä¸­ï¼Œè¿™ä¸ªå‡è®¾æ˜¯å¦æˆç«‹ï¼Œå³ç®—æ³•çš„å½’çº³åå¥½æ˜¯å¦ä¸é—®é¢˜æœ¬èº«åŒ¹é…ï¼Œå¤§å¤šæ—¶å€™ç›´æ¥å†³å®šäº†ç®—æ³•èƒ½éƒ½å–å¾—å¥½çš„æ€§èƒ½ã€‚</p><h1 id="æŸå¤±å‡½æ•°å’ŒéªŒè¯æ–¹æ³•"><a href="#æŸå¤±å‡½æ•°å’ŒéªŒè¯æ–¹æ³•" class="headerlink" title="æŸå¤±å‡½æ•°å’ŒéªŒè¯æ–¹æ³•"></a>æŸå¤±å‡½æ•°å’ŒéªŒè¯æ–¹æ³•</h1><p>å¯ä»¥å‚è€ƒå¦ä¸€ç¯‡åšå®¢</p><h1 id="ç»“æ„é£é™©æœ€å°åŒ–ä¸ç»éªŒé£é™©æœ€å°åŒ–"><a href="#ç»“æ„é£é™©æœ€å°åŒ–ä¸ç»éªŒé£é™©æœ€å°åŒ–" class="headerlink" title="ç»“æ„é£é™©æœ€å°åŒ–ä¸ç»éªŒé£é™©æœ€å°åŒ–"></a>ç»“æ„é£é™©æœ€å°åŒ–ä¸ç»éªŒé£é™©æœ€å°åŒ–</h1><p>ç»éªŒé£é™©æœ€å°åŒ–ï¼ˆEmpirical Risk Minimizationï¼‰çš„ç­–ç•¥è®¤ä¸ºï¼Œç»éªŒé£é™©æœ€å°çš„æ¨¡å‹æ˜¯æœ€ä¼˜çš„æ¨¡å‹ã€‚æ ¹æ®è¿™ä¸€ç­–ç•¥ï¼Œå®‰è£…ç»éªŒé£é™©æœ€å°åŒ–æ±‚æœ€ä¼˜æ¨¡å‹å°±æ˜¯æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜<br>$<br>\min_{f\in \mathcal{F}}\frac{1}{N}\sum_{i&#x3D;1}^NL(y_i,f(x_i)),\qquad \mathcal{F}æ˜¯å‡è®¾ç©ºé—´<br>$å½“æ ·æœ¬å®¹é‡è¶³å¤Ÿå¤§ï¼Œç»éªŒé£é™©æœ€å°åŒ–èƒ½ä¿è¯æœ‰å¾ˆå¥½çš„å­¦ä¹ æ•ˆæœã€‚ï¼ˆæœ‰è¶³å¤Ÿçš„æ•°æ®ï¼ŒåŒ…æ‹¬æ‰€æœ‰å‘ç”Ÿçš„å¯èƒ½ï¼Œå…¨éƒ¨ç»™æ¨¡å‹å­¦ä¹ ï¼Œæ¨¡å‹çš„æ€§èƒ½å°±ä¼šå¾ˆå‡†ç¡®ï¼‰ï¼Œåœ¨ç°å®ä¸­å›½è¢«å¹¿æ³›é‡‡ç”¨ã€‚ä¾‹å¦‚æå¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMaximum Likehood Estimateï¼‰</p><p>ä½†æ˜¯å½“æ ·æœ¬æ•°é‡ä¸å¤Ÿå¤§çš„æ—¶å€™ï¼Œç»éªŒé£é™©æœ€å°åŒ–çš„æ•ˆæœå°±ä¸æ˜¯å¾ˆå¥½äº†ï¼Œæ˜“äº§ç”Ÿè¿‡æ‹Ÿåˆã€‚ç»“æ„é£é™©æœ€å°åŒ–ï¼ˆStructural Risk Minimizationï¼‰æ˜¯ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆè€Œæå‡ºçš„ç­–ç•¥ã€‚ç»“æ„é£é™©æœ€å°åŒ–ç­‰ä»·äºæ­£åˆ™åŒ–ã€‚ç»“æ„é£é™©åœ¨ç»éªŒé£é™©ä¸ŠåŠ ä¸Šäº†è¡¨ç¤ºæ¨¡å‹å¤æ‚åº¦çš„æ­£åˆ™åŒ–é¡¹ï¼ˆäº¦ç§°æƒ©ç½šé¡¹ï¼‰ã€‚<br>$<br>\min_{f\in \mathcal{F}}\frac{1}{N}\sum_{i&#x3D;1}^NL(y_i,f(x_i))+\lambda\mathcal{J}(f),\qquad \mathcal{F}æ˜¯å‡è®¾ç©ºé—´,\ \mathcal{J}æ˜¯æ¨¡å‹å¤æ‚åº¦<br>$ç»“æ„é£é™©æœ€å°åŒ–çš„åº”ç”¨å³æ˜¯æœ€å¤§åéªŒæ¦‚ç‡ï¼ˆMaximum Posterior Probability Estimateï¼‰ Estimateï¼‰</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”4.MapReduceä»‹ç»</title>
    <link href="/2022/08/01/BigData&amp;Linux/4.MapReduce/"/>
    <url>/2022/08/01/BigData&amp;Linux/4.MapReduce/</url>
    
    <content type="html"><![CDATA[<h1 id="MapReduce"><a href="#MapReduce" class="headerlink" title="MapReduce"></a>MapReduce</h1><p><img src="/../src/image-20211023183642227.png" alt="image-20211023183642227"></p><p>ä¸Šå›¾æ˜¯MapReduceçš„ä»»åŠ¡å¤„ç†è¿‡ç¨‹</p><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>MapReduceæ˜¯ä¸€ç§åˆ†å¸ƒå¼è®¡ç®—æ¨¡å‹ï¼Œç”±Googleæå‡ºï¼Œä¸»è¦ç”¨äºæœç´¢é¢†åŸŸï¼Œè§£å†³æµ·é‡æ•°æ®çš„è®¡ç®—é—®é¢˜.<br>MapReduceæ˜¯åˆ†å¸ƒå¼è¿è¡Œçš„ï¼Œç”±ä¸¤ä¸ªé˜¶æ®µç»„æˆï¼šMapå’ŒReduceï¼ŒMapé˜¶æ®µæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºï¼Œæœ‰å¾ˆå¤šä¸ªèŠ‚ç‚¹åŒæ—¶è¿è¡Œï¼Œæ¯ä¸ªèŠ‚ç‚¹å¤„ç†ä¸€éƒ¨åˆ†æ•°æ®ã€‚Reduceé˜¶æ®µæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºï¼Œæœ‰å¾ˆå¤šä¸ªèŠ‚ç‚¹åŒæ—¶è¿è¡Œï¼Œæ¯ä¸ªèŠ‚ç‚¹å¤„ç†ä¸€éƒ¨åˆ†æ•°æ®ã€åœ¨è¿™å…ˆæŠŠreduceç†è§£ä¸ºä¸€ä¸ªå•ç‹¬çš„èšåˆç¨‹åºå³å¯ã€‘ã€‚<br>MapReduceæ¡†æ¶éƒ½æœ‰é»˜è®¤å®ç°ï¼Œç”¨æˆ·åªéœ€è¦è¦†ç›–map()å’Œreduce()ä¸¤ä¸ªå‡½æ•°ï¼Œå³å¯å®ç°åˆ†å¸ƒå¼è®¡ç®—ï¼Œéå¸¸ç®€å•ã€‚<br>è¿™ä¸¤ä¸ªå‡½æ•°çš„å½¢å‚å’Œè¿”å›å€¼éƒ½æ˜¯&lt;keyã€value&gt;ï¼Œä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„æ„é€ &lt;k,v&gt;ã€‚</p><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><ol><li>æ¡†æ¶ä½¿ç”¨InputFormatç±»çš„å­ç±»æŠŠè¾“å…¥æ–‡ä»¶(å¤¹)åˆ’åˆ†ä¸ºå¾ˆå¤šInputSplitï¼Œé»˜è®¤ï¼Œæ¯ä¸ªHDFSçš„blockå¯¹åº”ä¸€ä¸ªInputSplitã€‚é€šè¿‡RecordReaderç±»ï¼ŒæŠŠæ¯ä¸ªInputSplitè§£ææˆä¸€ä¸ªä¸ª&lt;k1,v1&gt;ã€‚é»˜è®¤ï¼Œæ¡†æ¶å¯¹æ¯ä¸ªInputSplitä¸­çš„æ¯ä¸€è¡Œï¼Œè§£ææˆä¸€ä¸ª&lt;k1,v1&gt;ã€‚</li><li>æ¡†æ¶è°ƒç”¨Mapperç±»ä¸­çš„map(â€¦)å‡½æ•°ï¼Œmapå‡½æ•°çš„å½¢å‚æ˜¯&lt;k1,v1&gt;å¯¹ï¼Œè¾“å‡ºæ˜¯&lt;k2,v2&gt;å¯¹ã€‚ä¸€ä¸ªInputSplitå¯¹åº”ä¸€ä¸ªmap taskã€‚ç¨‹åºå‘˜å¯ä»¥è¦†ç›–mapå‡½æ•°ï¼Œå®ç°è‡ªå·±çš„é€»è¾‘ã€‚</li><li>(å‡è®¾reduceå­˜åœ¨)æ¡†æ¶å¯¹mapè¾“å‡ºçš„&lt;k2,v2&gt;è¿›è¡Œåˆ†åŒºã€‚ä¸åŒçš„åˆ†åŒºä¸­çš„&lt;k2,v2&gt;ç”±ä¸åŒçš„reduce taskå¤„ç†ã€‚é»˜è®¤åªæœ‰1ä¸ªåˆ†åŒºã€‚<br> (å‡è®¾reduceä¸å­˜åœ¨)æ¡†æ¶å¯¹mapç»“æœç›´æ¥è¾“å‡ºåˆ°HDFSä¸­ã€‚</li><li>(å‡è®¾reduceå­˜åœ¨)æ¡†æ¶å¯¹æ¯ä¸ªåˆ†åŒºä¸­çš„æ•°æ®ï¼ŒæŒ‰ç…§k2è¿›è¡Œæ’åºã€åˆ†ç»„ã€‚åˆ†ç»„æŒ‡çš„æ˜¯ç›¸åŒk2çš„v2åˆ†æˆä¸€ä¸ªç»„ã€‚æ³¨æ„ï¼šåˆ†ç»„ä¸ä¼šå‡å°‘&lt;k2,v2&gt;æ•°é‡ã€‚</li><li>(å‡è®¾reduceå­˜åœ¨ï¼Œå¯é€‰)åœ¨mapèŠ‚ç‚¹ï¼Œæ¡†æ¶å¯ä»¥æ‰§è¡Œreduceå½’çº¦ã€‚</li><li>(å‡è®¾reduceå­˜åœ¨)æ¡†æ¶ä¼šå¯¹map taskè¾“å‡ºçš„&lt;k2,v2&gt;å†™å…¥åˆ°linux çš„ç£ç›˜æ–‡ä»¶ä¸­ã€‚</li></ol><h2 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h2><ol><li>æ¡†æ¶å¯¹å¤šä¸ªmapä»»åŠ¡çš„è¾“å‡ºï¼ŒæŒ‰ç…§ä¸åŒçš„åˆ†åŒºï¼Œé€šè¿‡ç½‘ç»œcopyåˆ°ä¸åŒçš„reduceèŠ‚ç‚¹ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä½œshuffleã€‚</li><li>æ¡†æ¶å¯¹reduceç«¯æ¥æ”¶çš„[mapä»»åŠ¡è¾“å‡ºçš„]ç›¸åŒåˆ†åŒºçš„&lt;k2,v2&gt;æ•°æ®è¿›è¡Œåˆå¹¶ã€æ’åºã€åˆ†ç»„ã€‚</li><li>æ¡†æ¶è°ƒç”¨Reducerç±»ä¸­çš„reduceæ–¹æ³•ï¼Œreduceæ–¹æ³•çš„å½¢å‚æ˜¯&lt;k2,{v2â€¦}&gt;ï¼Œè¾“å‡ºæ˜¯&lt;k3,v3&gt;ã€‚ä¸€ä¸ª&lt;k2,{v2â€¦}&gt;è°ƒç”¨ä¸€æ¬¡reduceå‡½æ•°ã€‚ç¨‹åºå‘˜å¯ä»¥è¦†ç›–reduceå‡½æ•°ï¼Œå®ç°è‡ªå·±çš„é€»è¾‘ã€‚</li><li>æ¡†æ¶æŠŠreduceçš„è¾“å‡ºä¿å­˜åˆ°HDFSä¸­ã€‚</li></ol><h2 id="Shuffle"><a href="#Shuffle" class="headerlink" title="Shuffle"></a>Shuffle</h2><ol><li>æ¯ä¸ªmapæœ‰ä¸€ä¸ªç¯å½¢å†…å­˜ç¼“å†²åŒºï¼Œç”¨äºå­˜å‚¨mapçš„è¾“å‡ºã€‚é»˜è®¤å¤§å°100MBï¼ˆio.sort.mbå±æ€§ï¼‰ï¼Œä¸€æ—¦è¾¾åˆ°é˜€å€¼0.8ï¼ˆio.sort.spill.percentï¼‰,ä¸€ä¸ªåå°çº¿ç¨‹æŠŠå†…å®¹æº¢å†™åˆ°(spill)ç£ç›˜çš„æŒ‡å®šç›®å½•ï¼ˆmapred.local.dirï¼‰ä¸‹çš„ä¸€ä¸ªæ–°å»ºæ–‡ä»¶ä¸­ã€‚</li><li>å†™ç£ç›˜å‰ï¼Œè¦partition,sortã€‚å¦‚æœæœ‰combinerï¼Œcombineæ’åºåæ•°æ®ã€‚</li><li>ç­‰æœ€åè®°å½•å†™å®Œï¼Œåˆå¹¶å…¨éƒ¨æ–‡ä»¶ä¸ºä¸€ä¸ªåˆ†åŒºä¸”æ’åºçš„æ–‡ä»¶ã€‚</li></ol><hr><ol><li>Reduceré€šè¿‡Httpæ–¹å¼å¾—åˆ°è¾“å‡ºæ–‡ä»¶çš„ç‰¹å®šåˆ†åŒºçš„æ•°æ®ã€‚</li><li>æ’åºé˜¶æ®µåˆå¹¶mapè¾“å‡ºã€‚ç„¶åèµ°Reduceé˜¶æ®µã€‚</li><li>reduceæ‰§è¡Œå®Œä¹‹åï¼Œå†™å…¥åˆ°HDFSä¸­ã€‚</li></ol><table><thead><tr><th>JavaåŸºæœ¬ç±»å‹</th><th>Writable</th><th>åºåˆ—åŒ–å¤§å°(å­—èŠ‚)</th></tr></thead><tbody><tr><td>å¸ƒå°”å‹ï¼ˆbooleanï¼‰</td><td>BooleanWritable</td><td>1</td></tr><tr><td>å­—èŠ‚å‹ï¼ˆbyteï¼‰</td><td>ByteWritable</td><td>1</td></tr><tr><td>æ•´å‹ï¼ˆintï¼‰</td><td>IntWritable</td><td>4</td></tr><tr><td></td><td>VIntWritable</td><td>1-5</td></tr><tr><td>æµ®ç‚¹å‹ï¼ˆfloatï¼‰</td><td>FloatWritable</td><td>4</td></tr><tr><td>é•¿æ•´å‹ï¼ˆlongï¼‰</td><td>LongWritable</td><td>8</td></tr><tr><td>åŒç²¾åº¦æµ®ç‚¹å‹ï¼ˆdoubleï¼‰</td><td>VLongWritable</td><td>1-9</td></tr><tr><td></td><td>DoubleWritable</td><td>8</td></tr></tbody></table><h2 id="Demo-WordCount"><a href="#Demo-WordCount" class="headerlink" title="Demo:WordCount"></a>Demo:WordCount</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WordCount</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è¯¥mainæ–¹æ³•æ˜¯è¯¥mapreduceç¨‹åºè¿è¡Œçš„å…¥å£ï¼Œå…¶ä¸­ç”¨ä¸€ä¸ªJobç±»å¯¹è±¡æ¥ç®¡ç†ç¨‹åºè¿è¡Œæ—¶æ‰€éœ€è¦çš„å¾ˆå¤šå‚æ•°ï¼š</span><br><span class="hljs-comment">     * æ¯”å¦‚ï¼ŒæŒ‡å®šç”¨å“ªä¸ªç»„ä»¶ä½œä¸ºæ•°æ®è¯»å–å™¨ã€æ•°æ®ç»“æœè¾“å‡ºå™¨ æŒ‡å®šç”¨å“ªä¸ªç±»ä½œä¸ºmapé˜¶æ®µçš„ä¸šåŠ¡é€»è¾‘ç±»ï¼Œå“ªä¸ªç±»ä½œä¸ºreduceé˜¶æ®µçš„ä¸šåŠ¡é€»è¾‘ç±»</span><br><span class="hljs-comment">     * æŒ‡å®šwordcount jobç¨‹åºçš„jaråŒ…æ‰€åœ¨è·¯å¾„ .... ä»¥åŠå…¶ä»–å„ç§éœ€è¦çš„å‚æ•°</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">// æŒ‡å®šhdfsç›¸å…³çš„å‚æ•°</span><br>        <span class="hljs-type">Configuration</span> <span class="hljs-variable">conf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>();<br><br>        <span class="hljs-comment">// æ‰‹åŠ¨è®¾ç½®ï¼Œè¯¥MapReduceç¨‹åºè¯»å–çš„æ•°æ®æ¥è‡ªäºHDFSé›†ç¾¤</span><br>        conf.set(<span class="hljs-string">&quot;fs.defaultFS&quot;</span>, <span class="hljs-string">&quot;hdfs://master:9000&quot;</span>);<br>        <span class="hljs-comment">// è®¾ç½®è¿è¡Œç¨‹åºçš„ç”¨æˆ·æ˜¯hadoopç”¨æˆ·ï¼Œå°±æ˜¯å®‰è£…hadoopé›†ç¾¤çš„ç”¨æˆ·ã€‚å¦‚æœè¯¥ç¨‹åºåœ¨Hadoopé›†ç¾¤ä¸­ä½¿ç”¨hadoopç”¨æˆ·è¿›è¡Œè¿è¡Œï¼Œåˆ™å¯ä»¥å»æ‰</span><br>        System.setProperty(<span class="hljs-string">&quot;HADOOP_USER_NAME&quot;</span>, <span class="hljs-string">&quot;root&quot;</span>);<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * ä»¥ä¸Šçš„é…ç½®ä¿¡æ¯ï¼Œäº‹å®ä¸Šï¼Œåœ¨å®é™…ä¼ä¸šç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨conf.addResourceæ–¹æ³•è¿›è¡ŒåŠ è½½ã€‚</span><br><span class="hljs-comment">         * å½“ç„¶å¦‚æœé…ç½®æ–‡ä»¶çš„åå­—æ˜¯core/hdfs/yarn/mapred-site/default.xmlçš„è¯ã€‚ é‚£ä¹ˆä¼šè‡ªåŠ¨åŠ è½½çš„ã€‚</span><br><span class="hljs-comment">         */</span><br><span class="hljs-comment">//        conf.addResource(&quot;hadoop_config/core-site.xml&quot;);</span><br><span class="hljs-comment">//        conf.addResource(&quot;hadoop_config/hdfs-site.xml&quot;);</span><br><br>        <span class="hljs-comment">// å¦‚æœæƒ³è®©MRç¨‹åºè¿è¡Œåœ¨ç‰¹å®šçš„YARNé›†ç¾¤ä¹‹ä¸Šï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸€ä¸‹ä»£ç ï¼Œç„¶åï¼Œè¿™ä¸¤ä¿¡æ¯ï¼Œåœ¨å®‰è£…é›†ç¾¤çš„é…ç½®æ–‡ä»¶ä¸­éƒ½æœ‰é…ç½®çš„</span><br>        <span class="hljs-comment">// conf.set(&quot;mapreduce.framework.name&quot;, &quot;yarn&quot;);</span><br>        <span class="hljs-comment">// conf.set(&quot;yarn.resourcemanager.hostname&quot;, &quot;node1&quot;);</span><br><br>        <span class="hljs-comment">// é€šè¿‡Configurationå¯¹è±¡è·å–Jobå¯¹è±¡ï¼Œè¯¥jobå¯¹è±¡ä¼šç»„ç»‡æ‰€æœ‰çš„è¯¥MapReduceç¨‹åºæ‰€æœ‰çš„å„ç§ç»„ä»¶</span><br>        <span class="hljs-type">Job</span> <span class="hljs-variable">job</span> <span class="hljs-operator">=</span> Job.getInstance(conf);<br><br>        <span class="hljs-comment">// è®¾ç½®jaråŒ…æ‰€åœ¨è·¯å¾„</span><br>        job.setJarByClass(WordCount.class);<br><br>        <span class="hljs-comment">// æŒ‡å®šmapperç±»å’Œreducerç±»</span><br>        job.setMapperClass(WordCountMapper.class);<br>        job.setReducerClass(WordCountReducer.class);<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * æŒ‡å®šmaptaskçš„è¾“å‡ºç±»å‹</span><br><span class="hljs-comment">         * Mapperçš„è¾“å…¥key-valueç±»å‹ï¼Œç”±MapReduceæ¡†æ¶å†³å®šï¼Œ é»˜è®¤æƒ…å†µä¸‹å°±æ˜¯ LongWritableå’ŒTextç±»å‹</span><br><span class="hljs-comment">         * </span><br><span class="hljs-comment">         * å‡å¦‚ mapTaskçš„è¾“å‡ºkey-valueç±»å‹ï¼Œè·ŸreduceTaskçš„è¾“å‡ºkey-valueç±»å‹ä¸€è‡´ï¼Œé‚£ä¹ˆï¼Œä»¥ä¸Šä¸¤å¥ä»£ç å¯ä»¥ä¸ç”¨è®¾ç½®</span><br><span class="hljs-comment">         */</span><br>        job.setMapOutputKeyClass(Text.class);<br>        job.setMapOutputValueClass(IntWritable.class);<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * æŒ‡å®šreducetaskçš„è¾“å‡ºç±»å‹</span><br><span class="hljs-comment">         * å¦‚æœreduceTaskçš„è¾“å…¥key-valueç±»å‹å°±æ˜¯ mapTaskçš„è¾“å‡ºkey-valueç±»å‹ã€‚å¯ä»¥ä¸éœ€è¦æŒ‡å®š</span><br><span class="hljs-comment">         */</span><br>        job.setOutputKeyClass(Text.class);<br>        job.setOutputValueClass(IntWritable.class);<br><br>        <span class="hljs-comment">// ä¸ºjobæŒ‡å®šè¾“å…¥æ•°æ®çš„ç»„ä»¶å’Œè¾“å‡ºæ•°æ®çš„ç»„ä»¶ï¼Œä»¥ä¸‹ä¸¤ä¸ªå‚æ•°æ˜¯é»˜è®¤çš„ï¼Œæ‰€ä»¥ä¸æŒ‡å®šä¹Ÿæ˜¯OKçš„</span><br>        job.setInputFormatClass(TextInputFormat.class);<br>        job.setOutputFormatClass(TextOutputFormat.class);<br><br>        <span class="hljs-comment">// ä¸ºè¯¥mapreduceç¨‹åºåˆ¶å®šé»˜è®¤çš„æ•°æ®åˆ†åŒºç»„ä»¶ã€‚é»˜è®¤æ˜¯ HashPartitioner.class</span><br>        job.setPartitionerClass(HashPartitioner.class);<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * æŒ‡å®šè¯¥mapreduceç¨‹åºæ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºè·¯å¾„:</span><br><span class="hljs-comment">         * inputPathç›®å½•å¯ä»¥æ˜¯æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›®å½•</span><br><span class="hljs-comment">         * outputPathè·¯å¾„å¿…é¡»æ˜¯ä¸å­˜åœ¨çš„ç›®å½•</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-type">Path</span> <span class="hljs-variable">inputPath</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(<span class="hljs-string">&quot;/bigdata/data.txt&quot;</span>);<br>        <span class="hljs-type">Path</span> <span class="hljs-variable">outputPath</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(<span class="hljs-string">&quot;/output/wc&quot;</span>);<br><br>        <span class="hljs-comment">// è®¾ç½®è¯¥MapReduceç¨‹åºçš„ReduceTaskçš„ä¸ªæ•°</span><br>        <span class="hljs-comment">// job.setNumReduceTasks(3);</span><br><br>        <span class="hljs-comment">// è¯¥æ®µä»£ç æ˜¯ç”¨æ¥åˆ¤æ–­è¾“å‡ºè·¯å¾„å­˜åœ¨ä¸å­˜åœ¨ï¼Œå­˜åœ¨å°±åˆ é™¤ï¼Œè™½ç„¶æ–¹ä¾¿æ“ä½œï¼Œä½†è¯·è°¨æ…</span><br>        <span class="hljs-type">FileSystem</span> <span class="hljs-variable">fs</span> <span class="hljs-operator">=</span> FileSystem.get(conf);<br>        <span class="hljs-keyword">if</span> (fs.exists(outputPath)) &#123;<br>            fs.delete(outputPath, <span class="hljs-literal">true</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// è®¾ç½®wordcountç¨‹åºçš„è¾“å…¥è·¯å¾„</span><br>        FileInputFormat.setInputPaths(job, inputPath);<br>        <span class="hljs-comment">// è®¾ç½®wordcountç¨‹åºçš„è¾“å‡ºè·¯å¾„</span><br>        FileOutputFormat.setOutputPath(job, outputPath);<br><br>        <span class="hljs-comment">// job.submit();</span><br>        <span class="hljs-comment">// æœ€åæäº¤ä»»åŠ¡(verboseå¸ƒå°”å€¼ å†³å®šè¦ä¸è¦å°†è¿è¡Œè¿›åº¦ä¿¡æ¯è¾“å‡ºç»™ç”¨æˆ·)</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">waitForCompletion</span> <span class="hljs-operator">=</span> job.waitForCompletion(<span class="hljs-literal">true</span>);<br>        <span class="hljs-comment">// ä¸»çº¿ç¨‹ç¨‹åºæ ¹æ®MapReduceç¨‹åºçš„è¿è¡Œç»“æœæˆåŠŸä¸å¦é€€å‡ºã€‚</span><br>        System.exit(waitForCompletion ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Mapper&lt;KEYIN, VALUEIN, KEYOUT, VALUEOUT&gt;</span><br><span class="hljs-comment">     * </span><br><span class="hljs-comment">     * KEYIN æ˜¯æŒ‡æ¡†æ¶è¯»å–åˆ°çš„æ•°æ®çš„keyçš„ç±»å‹ï¼Œåœ¨é»˜è®¤çš„InputFormatä¸‹ï¼Œè¯»åˆ°çš„keyæ˜¯ä¸€è¡Œæ–‡æœ¬çš„èµ·å§‹åç§»é‡ï¼Œæ‰€ä»¥keyçš„ç±»å‹æ˜¯Long</span><br><span class="hljs-comment">     * VALUEIN æ˜¯æŒ‡æ¡†æ¶è¯»å–åˆ°çš„æ•°æ®çš„valueçš„ç±»å‹,åœ¨é»˜è®¤çš„InputFormatä¸‹ï¼Œè¯»åˆ°çš„valueæ˜¯ä¸€è¡Œæ–‡æœ¬çš„å†…å®¹ï¼Œæ‰€ä»¥valueçš„ç±»å‹æ˜¯String</span><br><span class="hljs-comment">     * KEYOUT æ˜¯æŒ‡ç”¨æˆ·è‡ªå®šä¹‰é€»è¾‘æ–¹æ³•è¿”å›çš„æ•°æ®ä¸­keyçš„ç±»å‹ï¼Œç”±ç”¨æˆ·ä¸šåŠ¡é€»è¾‘å†³å®šï¼Œåœ¨æ­¤wordcountç¨‹åºä¸­ï¼Œæˆ‘ä»¬è¾“å‡ºçš„keyæ˜¯å•è¯ï¼Œæ‰€ä»¥æ˜¯String</span><br><span class="hljs-comment">     * VALUEOUT æ˜¯æŒ‡ç”¨æˆ·è‡ªå®šä¹‰é€»è¾‘æ–¹æ³•è¿”å›çš„æ•°æ®ä¸­valueçš„ç±»å‹ï¼Œç”±ç”¨æˆ·ä¸šåŠ¡é€»è¾‘å†³å®š,åœ¨æ­¤wordcountç¨‹åºä¸­ï¼Œæˆ‘ä»¬è¾“å‡ºçš„valueæ˜¯å•è¯çš„æ•°é‡ï¼Œæ‰€ä»¥æ˜¯Integer</span><br><span class="hljs-comment">     * </span><br><span class="hljs-comment">     * ä½†æ˜¯ï¼ŒString ï¼ŒLongç­‰jdkä¸­è‡ªå¸¦çš„æ•°æ®ç±»å‹ï¼Œåœ¨åºåˆ—åŒ–æ—¶ï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œhadoopä¸ºäº†æé«˜åºåˆ—åŒ–æ•ˆç‡ï¼Œè‡ªå®šä¹‰äº†ä¸€å¥—åºåˆ—åŒ–æ¡†æ¶</span><br><span class="hljs-comment">     * æ‰€ä»¥ï¼Œåœ¨hadoopçš„ç¨‹åºä¸­ï¼Œå¦‚æœè¯¥æ•°æ®éœ€è¦è¿›è¡Œåºåˆ—åŒ–ï¼ˆå†™ç£ç›˜ï¼Œæˆ–è€…ç½‘ç»œä¼ è¾“ï¼‰ï¼Œå°±ä¸€å®šè¦ç”¨å®ç°äº†hadoopåºåˆ—åŒ–æ¡†æ¶çš„æ•°æ®ç±»å‹</span><br><span class="hljs-comment">     * </span><br><span class="hljs-comment">     * Long ----&gt; LongWritable </span><br><span class="hljs-comment">     * String ----&gt; Text </span><br><span class="hljs-comment">     * Integer ----&gt; IntWritable </span><br><span class="hljs-comment">     * Null ----&gt; NullWritable</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WordCountMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Mapper</span>&lt;LongWritable, Text, Text, IntWritable&gt; &#123;<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * LongWritable key : è¯¥keyå°±æ˜¯valueè¯¥è¡Œæ–‡æœ¬çš„åœ¨æ–‡ä»¶å½“ä¸­çš„èµ·å§‹åç§»é‡</span><br><span class="hljs-comment">         * Text value ï¼š å°±æ˜¯MapReduceæ¡†æ¶é»˜è®¤çš„æ•°æ®è¯»å–ç»„ä»¶TextInputFormatè¯»å–æ–‡ä»¶å½“ä¸­çš„ä¸€è¡Œæ–‡æœ¬</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">map</span><span class="hljs-params">(LongWritable key, Text value, Context context)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException &#123;<br><br>            <span class="hljs-comment">// åˆ‡åˆ†å•è¯</span><br>            String[] words = value.toString().split(<span class="hljs-string">&quot;,&quot;</span>);<br>            <span class="hljs-keyword">for</span> (String word : words) &#123;<br>                <span class="hljs-comment">// æ¯ä¸ªå•è¯è®¡æ•°ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯æŠŠå•è¯ç»„ç»‡æˆ&lt;hello,1&gt;è¿™æ ·çš„key-valueå¯¹å¾€å¤–å†™å‡º</span><br>                context.write(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Text</span>(word), <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntWritable</span>(<span class="hljs-number">1</span>));<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é¦–å…ˆï¼Œå’Œå‰é¢ä¸€æ ·ï¼ŒReducerç±»ä¹Ÿæœ‰è¾“å…¥å’Œè¾“å‡ºï¼Œè¾“å…¥å°±æ˜¯Mapé˜¶æ®µçš„å¤„ç†ç»“æœï¼Œè¾“å‡ºå°±æ˜¯Reduceæœ€åçš„è¾“å‡º</span><br><span class="hljs-comment">     * reducetaskåœ¨è°ƒæˆ‘ä»¬å†™çš„reduceæ–¹æ³•,reducetaskåº”è¯¥æ”¶åˆ°äº†å‰ä¸€é˜¶æ®µï¼ˆmapé˜¶æ®µï¼‰ä¸­æ‰€æœ‰maptaskè¾“å‡ºçš„æ•°æ®ä¸­çš„ä¸€éƒ¨åˆ†</span><br><span class="hljs-comment">     * ï¼ˆæ•°æ®çš„key.hashcode%reducetaskæ•°==æœ¬reductaskå·ï¼‰ï¼Œæ‰€ä»¥reducetaksçš„è¾“å…¥ç±»å‹å¿…é¡»å’Œmaptaskçš„è¾“å‡ºç±»å‹ä¸€æ ·</span><br><span class="hljs-comment">     * </span><br><span class="hljs-comment">     * reducetaskå°†è¿™äº›æ”¶åˆ°kvæ•°æ®æ‹¿æ¥å¤„ç†æ—¶ï¼Œæ˜¯è¿™æ ·è°ƒç”¨æˆ‘ä»¬çš„reduceæ–¹æ³•çš„ï¼š å…ˆå°†è‡ªå·±æ”¶åˆ°çš„æ‰€æœ‰çš„kvå¯¹æŒ‰ç…§kåˆ†ç»„ï¼ˆæ ¹æ®kæ˜¯å¦ç›¸åŒï¼‰</span><br><span class="hljs-comment">     * å°†æŸä¸€ç»„kvä¸­çš„ç¬¬ä¸€ä¸ªkvä¸­çš„kä¼ ç»™reduceæ–¹æ³•çš„keyå˜é‡ï¼ŒæŠŠè¿™ä¸€ç»„kvä¸­æ‰€æœ‰çš„vç”¨ä¸€ä¸ªè¿­ä»£å™¨ä¼ ç»™reduceæ–¹æ³•çš„å˜é‡values</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WordCountReducer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Reducer</span>&lt;Text, IntWritable, Text, IntWritable&gt; &#123;<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * Text key : mapTaskè¾“å‡ºçš„keyå€¼</span><br><span class="hljs-comment">         * Iterable&lt;IntWritable&gt; values ï¼š keyå¯¹åº”çš„valueçš„é›†åˆï¼ˆè¯¥keyåªæ˜¯ç›¸åŒçš„ä¸€ä¸ªkeyï¼‰</span><br><span class="hljs-comment">         * </span><br><span class="hljs-comment">         * reduceæ–¹æ³•æ¥æ”¶keyå€¼ç›¸åŒçš„ä¸€ç»„key-valueè¿›è¡Œæ±‡æ€»è®¡ç®—</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">reduce</span><span class="hljs-params">(Text key, Iterable&lt;IntWritable&gt; values, Context context)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException &#123;<br><br>            <span class="hljs-comment">// ç»“æœæ±‡æ€»</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (IntWritable v : values) &#123;<br>                sum += v.get();<br>            &#125;<br>            <span class="hljs-comment">// æ±‡æ€»çš„ç»“æœå¾€å¤–è¾“å‡º</span><br>            context.write(key, <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntWritable</span>(sum));<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><p>æ‰“å®ŒjaråŒ…ä¼ åˆ°è™šæ‹Ÿæœºä»¥åï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ åœ¨ä»£ç ä¸­æ˜¯å¦‚ä½•ä¹¦å†™å…³äºè·¯å¾„é—®é¢˜çš„ï¼Œå¦‚æœæ˜¯ç›´æ¥å†™è·¯å¾„ï¼Œå¹¶ä¸”jarä¸­æŒ‡å‡ºæ¥ä¸»ç±»ï¼Œé‚£ä¹ˆè¿è¡Œjarä¸éœ€è¦ä»»ä½•å‚æ•°ã€‚</p><p>å¦‚æœè·¯å¾„çš„è®¾ç½®æ˜¯ä»¥ argsã€1ã€‘æˆ–è€…argsã€2ã€‘è¾“å…¥çš„è¯ï¼Œå°±éœ€è¦ä½ åœ¨è¿è¡Œjaræ—¶æ‰‹åŠ¨è¿½åŠ è¾“å…¥è·¯å¾„ã€‚æ­¤æ—¶è¾“å‡ºè·¯å¾„éœ€æ³¨æ„æ˜¯ä¸ªç©ºæ–‡ä»¶å¤¹æˆ–è€…æœªç”Ÿæˆï¼Œä¸ç„¶å°±ä¼šæé†’æŠ¥é”™ã€‚ï¼ˆåŒæ ·ä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­åˆ©ç”¨apiå†™åˆ é™¤è·¯å¾„ï¼‰å¦‚æœæ˜¯ideaçš„mavenæ‰“åŒ…çš„è¯ï¼Œè¿˜éœ€è¦æ³¨æ„å£°æ˜jar çš„ä¸»æ–¹æ³•ã€‚</p><p>hadoop ä»»åŠ¡ æäº¤å‘½ä»¤ï¼ˆåˆ©ç”¨å‚æ•°æäº¤ï¼‰ï¼š<br>hadoop jar WCdemo.jar &#x2F;data&#x2F;wc.txt &#x2F;out1</p>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>MapReduce</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”å®‰å…¨åŠç›‘ç£</title>
    <link href="/2022/07/31/Essay/Safe-Semi-Supervised/"/>
    <url>/2022/07/31/Essay/Safe-Semi-Supervised/</url>
    
    <content type="html"><![CDATA[<h1 id="Safe-Semi-Supervised"><a href="#Safe-Semi-Supervised" class="headerlink" title="Safe Semi-Supervised"></a>Safe Semi-Supervised</h1><p>åŠç›‘ç£å­¦ä¹ çš„å‡ºç°æ˜¯ä¸ºäº†æ”¹å–„å®é™…ä¸­æ ‡è®°å·¥ä½œæ˜‚è´µä»£ä»·é—®é¢˜ã€‚æ„å›¾ä½¿ç”¨ä¸€äº›æ ‡è®°çš„æ•°æ®å’Œå¤§é‡æœªæ ‡è®°çš„æ•°æ®æ¥å¯¹æ¨¡å‹è®­ç»ƒè¾¾åˆ°ä¸€ä¸ªå¥½çš„è¡¨ç°ã€‚åŠç›‘ç£å·¥ä½œå¯ä¸»è¦åˆ†ä¸ºè¿™å››ç±»ï¼šåŠç›‘ç£èšç±»ï¼ŒåŠç›‘ç£åˆ†ç±»ï¼ŒåŠç›‘ç£é™ç»´ï¼ŒåŠç›‘ç£å›å½’ã€‚</p><p>å®‰å…¨åŠç›‘ç£æ˜¯é’ˆå¯¹åœ¨åŠç›‘ç£å­¦ä¹ ä¸­å‡ºç°çš„æ¨¡å‹æ€§èƒ½é€€åŒ–é—®é¢˜çš„æ–°çš„ç ”ç©¶æ–¹å‘ã€‚å…¶å®ä¸ä»…åœ¨åŠç›‘ç£é¢†åŸŸï¼Œåœ¨æ•´ä¸ªå¼±ç›‘ç£é¢†åŸŸï¼Œå®‰å…¨æ€§ä¿è¯æ¨¡å‹æ€§èƒ½é—®é¢˜éƒ½æ˜¯ååˆ†å…³é”®çš„</p><h2 id="æœºå™¨å­¦ä¹ å®‰å…¨åŠç›‘ç£"><a href="#æœºå™¨å­¦ä¹ å®‰å…¨åŠç›‘ç£" class="headerlink" title="æœºå™¨å­¦ä¹ å®‰å…¨åŠç›‘ç£"></a>æœºå™¨å­¦ä¹ å®‰å…¨åŠç›‘ç£</h2><p>å—å¤§LAMDA å‘¨å¿—åè€å¸ˆå›¢é˜Ÿæå®‡å³°è€å¸ˆçš„å·¥ä½œæ–¹å‘ä¸­å°±æœ‰è¿™ä¸ª</p><blockquote><p>[1] T. Wei, L.-Z. Guo, Y.-F. Liå’ŒW. Gao, ã€ŠLearning safe multi-label prediction for weakly labeled dataã€‹, <em>Mach. Learn.</em>, 2018<br>[2] Y.-F. Liå’ŒD.-M. Liang, ã€ŠSafe semi-supervised learning: a brief introductionã€‹, <em>Frontiers Comput. Sci.</em>, 2019<br>[3] Y.-F. Li, L.-Z. Guoå’ŒZ.-H. Zhou, ã€ŠTowards Safe Weakly Supervised Learningã€‹, <em>IEEE Trans. Pattern Anal. Mach. Intell.</em>, 2021<br>[4] S4VM: Safe Semi-Supervised Support Vector Machine. CoRR abs&#x2F;1005.1545, 2010</p></blockquote><p><img src="/src/image-20220724155916151.png" alt="image-20220724155916151"></p><p>è¿™é‡Œå°å°çš„å€Ÿç”¨ä¸€ä¸‹è€å¸ˆæ–‡ç« ä¸­çš„å›¾ï¼Œå›¾ä¸­å¾ˆæ¸…æ¥šçš„æè¿°äº†åœ¨åŠç›‘ç£å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½é‡è§çš„é—®é¢˜ã€‚è€å¸ˆåŒæ—¶ä¹Ÿç»™å‡ºäº†ä¸€äº›è§£å†³çš„æ–¹å¼</p><pre><code class=" mermaid">graph LR;WeaklySupervised --&gt; InexactSupervisedWeaklySupervised --&gt; SemiSupervisedWeaklySupervised --&gt; InaccurateSupervisedSemiSupervised --&gt; GenerativeSemiSupervised --&gt; Semi-SVMsSemiSupervised --&gt; GraphSemiSupervised --&gt; Disagreement</code></pre><h3 id="åŸºäºç”Ÿæˆå¼æ¨¡å‹çš„æ–¹æ³•"><a href="#åŸºäºç”Ÿæˆå¼æ¨¡å‹çš„æ–¹æ³•" class="headerlink" title="åŸºäºç”Ÿæˆå¼æ¨¡å‹çš„æ–¹æ³•"></a>åŸºäºç”Ÿæˆå¼æ¨¡å‹çš„æ–¹æ³•</h3><h4 id="å¯†åº¦ï¼ˆæ¦‚ç‡ï¼‰ä¼°è®¡ï¼š"><a href="#å¯†åº¦ï¼ˆæ¦‚ç‡ï¼‰ä¼°è®¡ï¼š" class="headerlink" title="å¯†åº¦ï¼ˆæ¦‚ç‡ï¼‰ä¼°è®¡ï¼š"></a>å¯†åº¦ï¼ˆæ¦‚ç‡ï¼‰ä¼°è®¡ï¼š</h4><p>åœ¨ä¸äº†è§£äº‹ä»¶æ¦‚ç‡åˆ†å¸ƒçš„æƒ…å†µä¸‹ï¼Œå…ˆå‡è®¾éšæœºåˆ†å¸ƒï¼Œç„¶åé€šè¿‡æ•°æ®è§‚æµ‹æ¥ç¡®å®šçœŸæ­£çš„æ•°æ®åˆ†å¸ƒæ˜¯æ€æ ·çš„ã€‚è¿™ä¸ªå‡è®¾ä½¿å¾—æˆ‘ä»¬é€šè¿‡æ½œåœ¨åˆ†å¸ƒçš„å‚æ•°å°†æœªæ ‡è®°çš„æ•°æ®ä¸å­¦ä¹ ç›®æ ‡ç»ƒä¹ èµ·æ¥ï¼Œè€Œæœªæ ‡è®°çš„æ•°æ®çš„æ ‡è®°åˆ™å¯çœ‹ä½œåˆ†å¸ƒçš„ç¼ºå¤±å‚æ•°ï¼Œé€šå¸¸å¯åŸºäºEMç®—æ³•è¿›è¡Œæå¤§ä¼¼ç„¶ä¼°è®¡ã€‚ä¸åŒçš„åˆ†å¸ƒå‡è®¾å°†äº§ç”Ÿä¸åŒçš„æ–¹æ³•ã€‚</p><p>ä¼˜ç‚¹ï¼šæ­¤ç±»æ–¹æ³•ç®€å•æ˜“äºå®ç°ï¼Œåœ¨æœ‰æ ‡è®°æ•°æ®æå°‘çš„æƒ…å†µä¸‹å¾€å¾€æ¯”å…¶ä»–æ–¹æ³•è¡¨ç°æ›´å¥½ã€‚<br>ç¼ºç‚¹ï¼šå¿…é¡»ä¿è¯å‡è®¾æ¨¡å‹çš„å‡†ç¡®ï¼Œå¦åˆ™åˆ©ç”¨æœªæ ‡è®°æ•°æ®ä¼šé™ä½æ³›åŒ–æ€§èƒ½ã€‚åœ¨å®é™…æƒ…å†µä¸­ï¼Œæ²¡æœ‰ä¸“ä¸šçŸ¥è¯†çš„æƒ…å†µä¸‹å¾ˆéš¾é¢„å…ˆåšå‡ºå‡†ç¡®çš„å‡è®¾æ¨¡å‹ã€‚</p><h4 id="æ ·æœ¬ç”Ÿæˆï¼š"><a href="#æ ·æœ¬ç”Ÿæˆï¼š" class="headerlink" title="æ ·æœ¬ç”Ÿæˆï¼š"></a>æ ·æœ¬ç”Ÿæˆï¼š</h4><p>æœ‰å°‘é‡è®­ç»ƒæ•°æ®ï¼Œé€šè¿‡è®­ç»ƒåçš„æ¨¡å‹æ¥ç”Ÿæˆç±»ä¼¼çš„æ ·æœ¬ã€‚<br>æˆ‘ä»¬æœ‰æ—¶ä¼šé¢ä¸´æ•°æ®ç¼ºä¹æ•°æ®çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç”Ÿæˆæ¨¡å‹æ¥è¡¥è¶³ã€‚<br>åœ¨å¤§å¤šæ•°ç”Ÿæˆæ¨¡å‹ä¸­ï¼ŒGANæ˜¯ç›®å‰å”¯ä¸€ä¸€ç§ç›´æ¥ä»æ•°æ®è§‚æµ‹çš„ä¸€æ­¥åˆ°ä½çš„ç”Ÿæˆæ¨¡å‹ã€‚</p><h3 id="åŠç›‘ç£SVMæ–¹æ³•"><a href="#åŠç›‘ç£SVMæ–¹æ³•" class="headerlink" title="åŠç›‘ç£SVMæ–¹æ³•"></a>åŠç›‘ç£SVMæ–¹æ³•</h3><p>ä½¿å¾—SVMåœ¨æ‰€æœ‰è®­ç»ƒæ•°æ®ä¸Šæœ€å¤§åŒ–é—´éš”ï¼ˆç©¿è¶Šæ•°æ®çš„ä½å¯†åº¦åŒºåŸŸåˆ’åˆ†è¶…å¹³é¢ï¼‰ã€‚TSVMæ˜¯ç”¨æœ‰æ ‡ç­¾æ•°æ®é¢„è®­ç»ƒä¸€ä¸ªSVMï¼Œå†åˆ©ç”¨è¿™ä¸ªSVMç»™æ— æ ‡æ³¨æ•°æ®è¿›è¡Œæ ‡æ³¨ï¼Œå½“æ‰€æœ‰æ•°æ®æœ‰æ ‡æ³¨ååˆæˆä¸ºäº†ä¸€ä¸ªå…¸å‹çš„SVMé—®é¢˜ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½ç»™æœªæ ‡æ³¨æ•°æ®é™„ä¸Šé”™è¯¯çš„æ ‡ç­¾ï¼Œè€Œæœå¯»æ ‡è®°æŒ‡æ´¾å¯èƒ½å‡ºé”™çš„æ¯ä¸€å¯¹ä¸ºæ ‡è®°æ ·æœ¬è¿›è¡Œè°ƒæ•´ï¼Œæ˜¯ä¸€ä¸ªæ¶‰åŠå·¨å¤§è®¡ç®—å¼€é”€çš„ä¼˜åŒ–é—®é¢˜ã€‚æ ·æœ¬çš„ä¸å¹³è¡¡é—®é¢˜ä¹Ÿå¯èƒ½ä½¿SVMå—åˆ°å›°æ‰°ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯åœ¨æŸå¤±å‡½æ•°ä¸­å¯¹æœªæ ‡æ³¨æ•°æ®é¡¹çš„æ­£è´Ÿä¸¤ä¸ªç±»åˆ«èµ‹äºˆä¸åŒçš„æƒé‡ã€‚</p><h3 id="åŸºäºå›¾çš„æ–¹æ³•"><a href="#åŸºäºå›¾çš„æ–¹æ³•" class="headerlink" title="åŸºäºå›¾çš„æ–¹æ³•"></a>åŸºäºå›¾çš„æ–¹æ³•</h3><p>ä½¿ç”¨æ•°æ®ç»“æ„ä¸­çš„å›¾ç»“æ„ç»“åˆä¸åŒçš„è¾¹æƒé‡ç®—æ³•ä¼ é€’æ ‡ç­¾å°†æ•°æ®é›†å®Œæˆåˆ†ç±»ã€‚<br>å›¾åŠç›‘ç£å­¦ä¹ ä¼šè€—è´¹å¤§é‡çš„å­˜å‚¨ç©ºé—´ï¼Œè€Œä¸”å†åŠ å…¥æ–°æ ·æœ¬åï¼Œä¸æ˜“ç¡®å®šæ–°æ ·æœ¬åœ¨å›¾ä¸­çš„ä½ç½®ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–æ–¹æ³•æ¥æ›´æ–°å›¾ã€‚</p><h3 id="åŸºäºåˆ†æ­§çš„æ–¹æ³•ï¼š"><a href="#åŸºäºåˆ†æ­§çš„æ–¹æ³•ï¼š" class="headerlink" title="åŸºäºåˆ†æ­§çš„æ–¹æ³•ï¼š"></a>åŸºäºåˆ†æ­§çš„æ–¹æ³•ï¼š</h3><p>é€šè¿‡ä½¿ç”¨å¤šä¸ªå­¦ä¹ å™¨æ¥å¯¹æœªæ ‡è®°æ•°æ®è¿›è¡Œåˆ©ç”¨ï¼Œåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å°†æœªæ ‡è®°æ•°æ®ä½œä¸ºå¤šå­¦ä¹ å™¨é—´ä¿¡æ¯äº¤äº’çš„å¹³å°ã€‚æè€å¸ˆæå‡ºçš„S4VMä¹Ÿæ˜¯åŸºäºè¿™ä¸ªæ–¹æ³•çš„ã€‚</p><h2 id="æ·±åº¦å­¦ä¹ åŠç›‘ç£"><a href="#æ·±åº¦å­¦ä¹ åŠç›‘ç£" class="headerlink" title="æ·±åº¦å­¦ä¹ åŠç›‘ç£"></a>æ·±åº¦å­¦ä¹ åŠç›‘ç£</h2><p>æ·±åº¦SSLæ–¹æ³•ä¸»è¦åŒ…æ‹¬ä¸‰ç±»ï¼šä¸€è‡´æ€§æ­£åˆ™åŒ–æ–¹æ³•ã€ä¼ªæ ‡è®°æ–¹æ³•å’Œæ··åˆæ–¹æ³•ã€‚ä¸€è‡´æ€§æ­£åˆ™åŒ–æ–¹æ³•é€šè¿‡å¼ºåˆ¶åŸå§‹æœªæ ‡è®°æ•°æ®å’Œæ‰°åŠ¨æœªæ ‡è®°æ•°æ®çš„è¾“å‡ºç›¸ä¼¼æ¥åˆ©ç”¨æœªæ ‡è®°æ•°æ®ã€‚ä¼ªæ ‡è®°æ–¹æ³•åˆ©ç”¨æ¨¡å‹æœ¬èº«è·å¾—æœªæ ‡è®°æ•°æ®çš„ä¼ªæ ‡è®°ã€‚æ··åˆæ–¹æ³•åŒæ—¶ç»“åˆäº†ä¸€è‡´æ€§æ­£åˆ™åŒ–ã€ä¼ªæ ‡è®°å’Œæ•°æ®å¢å¼ºã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•çš„æˆåŠŸæ˜¯åŸºäºæ‰€æœ‰æ ‡è®°å’Œæœªæ ‡è®°æ•°æ®å‡æ¥è‡ªç›¸åŒåˆ†å¸ƒçš„å‡è®¾ã€‚ä¸€æ—¦ä¸æ»¡è¶³è¿™ä¸€å‡è®¾ï¼Œè¿™äº›SSLæ–¹æ³•çš„æ€§èƒ½å°±ä¼šä¸‹é™ï¼Œç”šè‡³ä½äºä»…ä½¿ç”¨æ ‡è®°æ•°æ®è®­ç»ƒçš„ç›‘ç£å­¦ä¹ æ–¹æ³•çš„æ€§èƒ½ã€‚</p><h2 id="æ·±åº¦å­¦ä¹ å®‰å…¨åŠç›‘ç£"><a href="#æ·±åº¦å­¦ä¹ å®‰å…¨åŠç›‘ç£" class="headerlink" title="æ·±åº¦å­¦ä¹ å®‰å…¨åŠç›‘ç£"></a>æ·±åº¦å­¦ä¹ å®‰å…¨åŠç›‘ç£</h2><p>è¿‘æœŸçœ‹åˆ°ä¸€ç¯‡è®ºæ–‡æ˜¯å…³äºæ·±åº¦å­¦ä¹ å®‰å…¨åŠç›‘ç£æ–¹é¢çš„ï¼Œæ„Ÿè§‰åšçš„å¾ˆæœ‰æ„æ€ã€‚R. He, Z. Han, Y. Yang&amp;Y. Yin,  Not All Parameters Should Be Treated Equally: Deep Safe Semi-supervised Learning under Class Distribution Mismatch, AAAI 2022</p><p>è¿™è¾¹æ–‡ç« ä¸­å¯¹äºå‘¨å¿—åè€å¸ˆæå‡ºçš„SDUé—®é¢˜(Safe Deep Semi-supervised Learning and Unseen-class Unlabeled data, ICML 2020)ï¼Œè¿›è¡Œå¦ä¸€ä¸ªæ–¹å‘çš„è§£ç­”ã€‚ä¹‹å‰çš„å·¥ä½œæ€»æ˜¯æ„å›¾åœ¨æ•°æ®å±‚é¢è¿›è¡Œæ”¹è¿›ï¼Œæ— è®ºæ˜¯å­¦ä¹ æ•°æ®åˆ†å¸ƒï¼Œè¿˜æ˜¯åˆ¤æ–­æ•°æ®å¯ä¿¡åº¦ï¼Œå¯¹æ•°æ®è¿›è¡Œåˆ é™¤æˆ–è€…èµ‹äºˆä½çš„æƒé‡ï¼Œæ„Ÿè§‰éƒ½æ˜¯æœ‰ä¸€äº›æ²»æ ‡ä¸æ²»æœ¬çš„æ„Ÿè§‰ã€‚å¯¹äºå½“ä¸‹çš„åŠ¨æ€ç¯å¢ƒï¼Œé™æ€çš„æ•°æ®åˆ†å¸ƒå¾€å¾€æ˜¯å­¦ä¹ ä¸è¿‡æ¥çš„ï¼Œæ‰€ä»¥æœ¬æ–‡æå‡ºäº†åœ¨æ¨¡å‹å‚æ•°æ–¹é¢çš„ä¿®æ­£ï¼Œæ„Ÿè§‰æ˜¯ä¸€ä¸ªå¯ä»¥æ·±ç©¶çš„é¡¹ç›®ã€‚</p><p><img src="/src/image-20220731113241884.png" alt="image-20220731113241884"></p><p>ç»™äººçš„æ„Ÿè§‰å¥½åƒå°±æ˜¯ä¸€ä¸ªæ ‘çš„ä¿®å‰ªï¼Œç„¶åæ”¾åˆ°äº†ä¸åŒçš„é¢†åŸŸã€‚å…·ä½“çš„å†…å®¹è¿˜è¯·ç§»æ­¥è®ºæ–‡é˜…è¯»ã€‚<br>ï¿½ï¿½</p>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”LOFå°è®°</title>
    <link href="/2022/07/22/Algorithms/LocalOutlierFactor/"/>
    <url>/2022/07/22/Algorithms/LocalOutlierFactor/</url>
    
    <content type="html"><![CDATA[<p>LOF is short for the Local Outlier Factor. LOF computes the degree of an object is an outlier and the degree depends on how isolated the object is with respect to its surrounding neighborhood. Note that LOF only</p><p><strong>å®šä¹‰</strong></p><p>é¦–å…ˆï¼ŒåŸºäºå¯†åº¦çš„ç¦»ç¾¤ç‚¹æ£€æµ‹æ–¹æ³•æœ‰ä¸€ä¸ªåŸºæœ¬å‡è®¾ï¼š<strong>éç¦»ç¾¤ç‚¹å¯¹è±¡å‘¨å›´çš„å¯†åº¦ä¸å…¶é‚»åŸŸå‘¨å›´çš„å¯†åº¦ç±»ä¼¼ï¼Œè€Œç¦»ç¾¤ç‚¹å¯¹è±¡å‘¨å›´çš„å¯†åº¦æ˜¾è‘—ä¸åŒäºå…¶é‚»åŸŸå‘¨å›´çš„å¯†åº¦ã€‚</strong></p><p>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿçœ‹ä¸‹é¢å›¾ç‰‡æ„Ÿå—ä¸‹ã€‚</p><p><img src="/src/640-1640416354808-16579722103081.webp" alt="å›¾ç‰‡"></p><p>é›†ç¾¤ <code>C1</code> åŒ…å«äº† 400 å¤šä¸ªç‚¹ï¼Œé›†ç¾¤ <code>C2</code> åŒ…å« 100 ä¸ªç‚¹ã€‚<code>C1</code> å’Œ <code>C2</code> éƒ½æ˜¯ä¸€ç±»é›†ç¾¤ç‚¹ï¼ŒåŒºåˆ«æ˜¯ <code>C1</code> ä½ç½®æ¯”è¾ƒé›†ä¸­ï¼Œæˆ–è€…è¯´å¯†åº¦æ¯”è¾ƒå¤§ã€‚è€Œåƒ <code>o1</code>ã€<code>o2</code>ç‚¹å‡ä¸ºå¼‚å¸¸ç‚¹ï¼Œå› ä¸ºåŸºäºæˆ‘ä»¬çš„å‡è®¾ï¼Œè¿™ä¸¤ä¸ªç‚¹å‘¨å›´çš„å¯†åº¦æ˜¾è‘—ä¸åŒäºå‘¨å›´ç‚¹çš„å¯†åº¦ã€‚</p><p>LOF å°±æ˜¯åŸºäºå¯†åº¦æ¥åˆ¤æ–­å¼‚å¸¸ç‚¹çš„ï¼Œé€šè¿‡ç»™æ¯ä¸ªæ•°æ®ç‚¹éƒ½åˆ†é…ä¸€ä¸ªä¾èµ–äºé‚»åŸŸå¯†åº¦çš„ç¦»ç¾¤å› å­ LOFï¼Œè¿›è€Œåˆ¤æ–­è¯¥æ•°æ®ç‚¹æ˜¯å¦ä¸ºç¦»ç¾¤ç‚¹ã€‚ å¦‚æœ ï¼Œåˆ™è¯¥ç‚¹ä¸ºç¦»ç¾¤ç‚¹ï¼Œå¦‚æœ ï¼Œåˆ™è¯¥ç‚¹ä¸ºæ­£å¸¸æ•°æ®ç‚¹ã€‚</p><p><strong>LOFåˆ†æ•°è®¡ç®—</strong></p><ol><li><p>Kè¿‘é‚»è·ç¦»ã€‚åœ¨è·ç¦»æ•°æ®ç‚¹Pæœ€è¿‘çš„å‡ ä¸ªç‚¹ä¸­ï¼Œç¬¬kä¸ªæœ€è¿‘çš„ç‚¹è·Ÿç‚¹Pä¹‹é—´çš„è·ç¦»ç§°ä¸ºç‚¹Pçš„ K-é‚»è¿‘è·ç¦»ï¼Œè®°ä¸º k-distance (p)ï¼Œå…¬å¼å¦‚ä¸‹ï¼š<br>$$<br>d_k(p)&#x3D;d(P,O)<br>$$</p></li><li><p>Kè¿‘é‚»é¢†åŸŸã€‚ä»¥ç‚¹Pçš„åœ†å¿ƒï¼Œä»¥Kè¿‘é‚»è·ç¦»$d_k(P)$ä¸ºåŠå¾„ç”»åœ†ï¼Œè¿™ä¸ªåœˆä»¥å†…çš„èŒƒå›´å°±æ˜¯Kè·ç¦»é¢†åŸŸ<br>$$<br>N_k(P)&#x3D;{ d(P,Oâ€™) \le d_k({P}) }<br>$$</p></li><li><p>å¯è¾¾è·ç¦»ã€‚ç‚¹Påˆ°ç‚¹Oçš„ç¬¬Kå¯è¾¾è·ç¦»<br>$$<br>reach_dist_k(O,P)&#x3D;max{d_k(O),d(O,P) }<br>$$<br><img src="/src/image-20220316145612429-165693987619524.png" alt="image-20220316145612429"><br>$p_2$è·ç¦»$o$ç‚¹è¿œï¼Œé‚£ä¹ˆå¯è¾¾è·ç¦»å°±æ˜¯ä»–ä»¬çš„å®é™…è·ç¦»ã€‚ä½†æ˜¯$p_1$ç¦»$o$ç‚¹çš„è·ç¦»è¿‘ï¼Œå°äºKè¿‘é‚»è·ç¦»ï¼Œé‚£ä¹ˆå®é™…è·ç¦»å°±ä¼šè¢«Kè¿‘é‚»è·ç¦»æ‰€ä»£æ›¿ </p></li><li><p><strong>å±€éƒ¨å¯è¾¾å¯†åº¦</strong>ã€‚æ•°æ®ç‚¹Pçš„å±€éƒ¨å¯è¾¾å¯†åº¦å°±æ˜¯åŸºäºPçš„æœ€è¿‘é‚»çš„å¹³å‡å¯è¾¾è·ç¦»çš„å€’æ•°ã€‚è·ç¦»è¶Šå¤§ï¼Œå¯†åº¦è¶Šå°ã€‚<br>$$<br>lrd_k(P)&#x3D;\frac{1}{\frac{\sum_{O \ni N_k(P)}reach_dist_k(P,O)}{|N_k(P)|}}<br>$$</p></li><li><p><strong>å±€éƒ¨å¼‚å¸¸å› å­</strong>ã€‚</p></li></ol><p><strong>å®ç°æµç¨‹</strong></p><p>äº†è§£äº† LOF çš„å®šä¹‰ä»¥åï¼Œæ•´ä¸ªç®—æ³•ä¹Ÿå°±æ˜¾è€Œæ˜“è§äº†ï¼š</p><ol><li>å¯¹äºæ¯ä¸ªæ•°æ®ç‚¹ï¼Œè®¡ç®—å®ƒä¸å…¶å®ƒæ‰€æœ‰ç‚¹çš„è·ç¦»ï¼Œå¹¶æŒ‰ä»è¿‘åˆ°è¿œæ’åºï¼›</li><li>å¯¹äºæ¯ä¸ªæ•°æ®ç‚¹ï¼Œæ‰¾åˆ°å®ƒçš„ k-nearest-neighborï¼Œè®¡ç®— LOF å¾—åˆ†;</li><li>å¦‚æœLOFå€¼è¶Šå¤§ï¼Œè¯´æ˜è¶Šå¼‚å¸¸ï¼Œåä¹‹å¦‚æœè¶Šå°ï¼Œè¯´æ˜è¶Šè¶‹äºæ­£å¸¸ã€‚</li></ol><p><img src="/src/image-20211225151420414-165693987964027.png" alt="image-20211225151420414"></p><p><strong>ä¼˜ç¼ºç‚¹</strong></p><p><strong>ä¼˜ç‚¹</strong></p><p>LOF çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯å®ƒåŒæ—¶è€ƒè™‘äº†æ•°æ®é›†çš„å±€éƒ¨å’Œå…¨å±€å±æ€§ã€‚å¼‚å¸¸å€¼ä¸æ˜¯æŒ‰ç»å¯¹å€¼ç¡®å®šçš„ï¼Œè€Œæ˜¯ç›¸å¯¹äºå®ƒä»¬çš„é‚»åŸŸç‚¹å¯†åº¦ç¡®å®šçš„ã€‚å½“æ•°æ®é›†ä¸­å­˜åœ¨ä¸åŒå¯†åº¦çš„ä¸åŒé›†ç¾¤æ—¶ï¼ŒLOFè¡¨ç°è‰¯å¥½ï¼Œæ¯”è¾ƒé€‚ç”¨äºä¸­ç­‰é«˜ç»´çš„æ•°æ®é›†ã€‚</p><p><strong>ç¼ºç‚¹</strong></p><p>LOFç®—æ³•ä¸­å…³äºå±€éƒ¨å¯è¾¾å¯†åº¦çš„å®šä¹‰å…¶å®æš—å«äº†ä¸€ä¸ªå‡è®¾ï¼Œå³ï¼š<strong>ä¸å­˜åœ¨å¤§äºç­‰äº k ä¸ªé‡å¤çš„ç‚¹ã€‚</strong></p><p>å½“è¿™æ ·çš„é‡å¤ç‚¹å­˜åœ¨çš„æ—¶å€™ï¼Œè¿™äº›ç‚¹çš„å¹³å‡å¯è¾¾è·ç¦»ä¸ºé›¶ï¼Œå±€éƒ¨å¯è¾¾å¯†åº¦å°±å˜ä¸ºæ— ç©·å¤§ï¼Œä¼šç»™è®¡ç®—å¸¦æ¥ä¸€äº›éº»çƒ¦ã€‚åœ¨å®é™…åº”ç”¨æ—¶ï¼Œä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µå‡ºç°ï¼Œå¯ä»¥æŠŠ k-distance æ”¹ä¸º k-distinct-distanceï¼Œä¸è€ƒè™‘é‡å¤çš„æƒ…å†µã€‚æˆ–è€…ï¼Œè¿˜å¯ä»¥è€ƒè™‘ç»™å¯è¾¾è·ç¦»éƒ½åŠ ä¸€ä¸ªå¾ˆå°çš„å€¼ï¼Œé¿å…å¯è¾¾è·ç¦»ç­‰äºé›¶ã€‚</p><p>å¦å¤–ï¼ŒLOF ç®—æ³•éœ€è¦è®¡ç®—æ•°æ®ç‚¹ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»ï¼Œé€ æˆæ•´ä¸ªç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º ã€‚ä¸ºäº†æé«˜ç®—æ³•æ•ˆç‡ï¼Œåç»­æœ‰ç®—æ³•å°è¯•æ”¹è¿›ã€‚FastLOF ï¼ˆGoldsteinï¼Œ2012ï¼‰å…ˆå°†æ•´ä¸ªæ•°æ®éšæœºçš„åˆ†æˆå¤šä¸ªå­é›†ï¼Œç„¶ååœ¨æ¯ä¸ªå­é›†é‡Œè®¡ç®— LOF å€¼ã€‚å¯¹äºé‚£äº› LOF å¼‚å¸¸å¾—åˆ†å°äºç­‰äº 1 çš„ï¼Œä»æ•°æ®é›†é‡Œå‰”é™¤ï¼Œå‰©ä¸‹çš„åœ¨ä¸‹ä¸€è½®å¯»æ‰¾æ›´åˆé€‚çš„ nearest-neighborï¼Œå¹¶æ›´æ–° LOF å€¼ã€‚</p><p><strong>ä»£ç å®ç°</strong></p><p>æœ‰ä¸¤ä¸ªåº“å¯ä»¥è®¡ç®—LOFï¼Œåˆ†åˆ«æ˜¯<code>PyOD</code>å’Œ<code>Sklearn</code>ï¼Œä¸‹é¢åˆ†åˆ«ä»‹ç»ã€‚</p><p>ä½¿ç”¨<code>pyod</code>è‡ªå¸¦çš„æ–¹æ³•ç”Ÿæˆ200ä¸ªè®­ç»ƒæ ·æœ¬å’Œ100ä¸ªæµ‹è¯•æ ·æœ¬çš„æ•°æ®é›†ã€‚æ­£æ€æ ·æœ¬ç”±å¤šå…ƒé«˜æ–¯åˆ†å¸ƒç”Ÿæˆï¼Œå¼‚å¸¸æ ·æœ¬æ˜¯ä½¿ç”¨å‡åŒ€åˆ†å¸ƒç”Ÿæˆçš„ã€‚</p><p>è®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†éƒ½æœ‰ 5 ä¸ªç‰¹å¾ï¼Œ10% çš„è¡Œè¢«æ ‡è®°ä¸ºå¼‚å¸¸ã€‚å¹¶ä¸”åœ¨æ•°æ®ä¸­æ·»åŠ äº†ä¸€äº›éšæœºå™ªå£°ï¼Œè®©å®Œç¾åˆ†ç¦»æ­£å¸¸ç‚¹å’Œå¼‚å¸¸ç‚¹å˜å¾—ç¨å¾®å›°éš¾ä¸€äº›ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pyod.utils.data <span class="hljs-keyword">import</span> generate_data<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>X_train, y_train, X_test, y_test = \<br>        generate_data(n_train=<span class="hljs-number">200</span>,<br>                      n_test=<span class="hljs-number">100</span>,<br>                      n_features=<span class="hljs-number">5</span>,<br>                      contamination=<span class="hljs-number">0.1</span>,<br>                      random_state=<span class="hljs-number">3</span>) <br>X_train = X_train * np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, size=X_train.shape)<br>X_test = X_test * np.random.uniform(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>, size=X_test.shape)<br></code></pre></td></tr></table></figure><p><strong>PyOD</strong></p><p>ä¸‹é¢å°†è®­ç»ƒæ•°æ®æ‹Ÿåˆäº† LOF æ¨¡å‹å¹¶å°†å…¶åº”ç”¨äºåˆæˆæµ‹è¯•æ•°æ®ã€‚</p><p>åœ¨ <code>PyOD</code> ä¸­ï¼Œæœ‰ä¸¤ä¸ªå…³é”®æ–¹æ³•ï¼š<code>decision_function</code> å’Œ <code>predict</code>ã€‚</p><ul><li>decision_functionï¼šè¿”å›æ¯ä¸€è¡Œçš„å¼‚å¸¸åˆ†æ•°</li><li>predictï¼šè¿”å›ä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„æ•°ç»„ï¼ŒæŒ‡ç¤ºæ¯ä¸€è¡Œè¢«é¢„æµ‹ä¸ºæ­£å¸¸ (0) è¿˜æ˜¯å¼‚å¸¸å€¼ (1)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pyod.models.lof <span class="hljs-keyword">import</span> LOF<br>clf_name = <span class="hljs-string">&#x27;LOF&#x27;</span><br>clf = LOF()<br>clf.fit(X_train)<br><br>test_scores = clf.decision_function(X_test)<br><br>roc = <span class="hljs-built_in">round</span>(roc_auc_score(y_test, test_scores), ndigits=<span class="hljs-number">4</span>)<br>prn = <span class="hljs-built_in">round</span>(precision_n_scores(y_test, test_scores), ndigits=<span class="hljs-number">4</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;clf_name&#125;</span> ROC:<span class="hljs-subst">&#123;roc&#125;</span>, precision @ rank n:<span class="hljs-subst">&#123;prn&#125;</span>&#x27;</span>)<br>&gt;&gt; LOF ROC:<span class="hljs-number">0.9656</span>, precision @ rank n:<span class="hljs-number">0.8</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡ LOF æ¨¡å‹æ–¹æ³•æŸ¥çœ‹ LOF åˆ†æ•°çš„åˆ†å¸ƒã€‚åœ¨ä¸‹å›¾ä¸­çœ‹åˆ°æ­£å¸¸æ•°æ®ï¼ˆè“è‰²ï¼‰çš„åˆ†æ•°èšé›†åœ¨ 1.0 å·¦å³ã€‚ç¦»ç¾¤æ•°æ®ç‚¹ï¼ˆæ©™è‰²ï¼‰çš„å¾—åˆ†å‡å¤§äº 1.0ï¼Œä¸€èˆ¬é«˜äºæ­£å¸¸æ•°æ®ã€‚</p><p><img src="/src/640-1640416819808-165693988344330.webp" alt="å›¾ç‰‡"></p><p><strong>Sklearn</strong></p><p>åœ¨<code>scikit-learn</code>ä¸­å®ç° <code>LOF</code> è¿›è¡Œå¼‚å¸¸æ£€æµ‹æ—¶ï¼Œæœ‰ä¸¤ç§æ¨¡å¼é€‰æ‹©ï¼šå¼‚å¸¸æ£€æµ‹æ¨¡å¼ <code>(novelty=False)</code> å’Œ noveltyæ£€æµ‹æ¨¡å¼ <code>(novelty=True)</code>ã€‚</p><p>åœ¨å¼‚å¸¸æ£€æµ‹æ¨¡å¼ä¸‹ï¼Œåªæœ‰<code>fit_predict</code>ç”Ÿæˆç¦»ç¾¤ç‚¹é¢„æµ‹çš„æ–¹æ³•å¯ç”¨ã€‚å¯ä»¥ä½¿ç”¨<code>negative_outlier_factor_</code>å±æ€§æ£€ç´¢è®­ç»ƒæ•°æ®çš„å¼‚å¸¸å€¼åˆ†æ•°ï¼Œä½†æ— æ³•ä¸ºæœªè§è¿‡çš„æ•°æ®ç”Ÿæˆåˆ†æ•°ã€‚æ¨¡å‹ä¼šæ ¹æ®<code>contamination</code>å‚æ•°ï¼ˆé»˜è®¤å€¼ä¸º 0.1ï¼‰è‡ªåŠ¨é€‰æ‹©å¼‚å¸¸å€¼çš„é˜ˆå€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>detector = LOF()<br>scores = detector.fit(X_train).decision_function(X_test)<br><br>sns.distplot(scores[y_test==<span class="hljs-number">0</span>], label=<span class="hljs-string">&quot;inlier scores&quot;</span>)<br>sns.distplot(scores[y_test==<span class="hljs-number">1</span>], label=<span class="hljs-string">&quot;outlier scores&quot;</span>).set_title(<span class="hljs-string">&quot;Distribution of Outlier Scores from LOF Detector&quot;</span>)<br>plt.legend()<br>plt.xlabel(<span class="hljs-string">&quot;Outlier score&quot;</span>)<br></code></pre></td></tr></table></figure><p>åœ¨noveltyæ£€æµ‹æ¨¡å¼ä¸‹ï¼Œåªæœ‰<code>decision_function</code>ç”¨äºç”Ÿæˆå¼‚å¸¸å€¼å¯ç”¨ã€‚<code>fit_predict</code>æ–¹æ³•ä¸å¯ç”¨ï¼Œä½†<code>predict</code>æ–¹æ³•å¯ç”¨äºç”Ÿæˆå¼‚å¸¸å€¼é¢„æµ‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">clf = LocalOutlierFactor(novelty=<span class="hljs-literal">True</span>)<br>clf = clf.fit(X_train)<br>test_scores = clf.decision_function(X_test)<br><br>test_scores = -<span class="hljs-number">1</span>*test_scores<br><br>roc = <span class="hljs-built_in">round</span>(roc_auc_score(y_test, test_scores), ndigits=<span class="hljs-number">4</span>)<br>prn = <span class="hljs-built_in">round</span>(precision_n_scores(y_test, test_scores), ndigits=<span class="hljs-number">4</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;clf_name&#125;</span> ROC:<span class="hljs-subst">&#123;roc&#125;</span>, precision @ rank n:<span class="hljs-subst">&#123;prn&#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure><p>è¯¥æ¨¡å¼ä¸‹æ¨¡å‹çš„å¼‚å¸¸å€¼åˆ†æ•°è¢«åè½¬ï¼Œå¼‚å¸¸å€¼çš„åˆ†æ•°ä½äºæ­£å¸¸å€¼ã€‚</p><p><img src="/src/640-1640416819835-165693988642633.webp" alt="å›¾ç‰‡">2633.webp)2633.webp)</p>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”å…ƒå­¦ä¹ å°è®°</title>
    <link href="/2022/07/22/Essay/MetaLearning/"/>
    <url>/2022/07/22/Essay/MetaLearning/</url>
    
    <content type="html"><![CDATA[<h1 id="Meta-Learing"><a href="#Meta-Learing" class="headerlink" title="Meta-Learing"></a>Meta-Learing</h1><p>å…ƒå­¦ä¹ ï¼ˆMeta-Learingï¼‰ï¼Œåˆç§°â€œå­¦ä¼šå­¦ä¹ â€œï¼ˆLearning to learnï¼‰, å³åˆ©ç”¨ä»¥å¾€çš„çŸ¥è¯†ç»éªŒæ¥æŒ‡å¯¼æ–°ä»»åŠ¡çš„å­¦ä¹ ï¼Œä½¿ç½‘ç»œå…·å¤‡å­¦ä¼šå­¦ä¹ çš„èƒ½åŠ›ï¼Œæ˜¯è§£å†³å°æ ·æœ¬é—®é¢˜ï¼ˆFew-shot Learningï¼‰å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€</p><blockquote><p>ä»¥ä¸‹ä¿¡æ¯æ‘˜è‡ªwikipedia</p><p>â€‹å…ƒå­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„ä¸€ä¸ªå­é¢†åŸŸï¼Œè‡ªåŠ¨å­¦ä¹ ç®—æ³•è¢«åº”ç”¨äºæœºå™¨å­¦ä¹ å®éªŒçš„å…ƒæ•°æ®ã€‚ä¸»è¦ç›®æ ‡æ˜¯åˆ©ç”¨è¿™ç§å…ƒæ•°æ®æ¥ç†è§£è‡ªåŠ¨å­¦ä¹ å¦‚ä½•åœ¨è§£å†³å­¦ä¹ é—®é¢˜æ—¶å˜å¾—çµæ´»ï¼Œä»è€Œæé«˜ç°æœ‰å­¦ä¹ ç®—æ³•çš„æ€§èƒ½ï¼Œæˆ–è€…å­¦ä¹ ï¼ˆè¯±å¯¼ï¼‰å­¦ä¹ ç®—æ³•æœ¬èº«ï¼Œå› æ­¤æœ‰äº†learning to learnçš„æ›¿ä»£æœ¯è¯­ã€‚<br>â€‹<strong>çµæ´»æ€§</strong>å¾ˆé‡è¦ï¼Œå› ä¸ºæ¯ä¸ªå­¦ä¹ ç®—æ³•éƒ½æ˜¯åŸºäºä¸€ç»„å…³äºæ•°æ®çš„å‡è®¾ï¼Œå³å®ƒçš„å½’çº³åå‘ã€‚è¿™æ„å‘³ç€åªæœ‰å½“åå‘ä¸å­¦ä¹ é—®é¢˜ç›¸åŒ¹é…æ—¶ï¼Œå®ƒæ‰èƒ½å­¦å¾—å¥½ã€‚ä¸€ä¸ªå­¦ä¹ ç®—æ³•å¯èƒ½åœ¨ä¸€ä¸ªé¢†åŸŸè¡¨ç°å¾—éå¸¸å¥½ï¼Œä½†åœ¨ä¸‹ä¸€ä¸ªé¢†åŸŸå°±ä¸è¡Œäº†ã€‚è¿™ç»™æœºå™¨å­¦ä¹ æˆ–æ•°æ®æŒ–æ˜æŠ€æœ¯çš„ä½¿ç”¨å¸¦æ¥äº†å¾ˆå¤§çš„é™åˆ¶ï¼Œå› ä¸ºå­¦ä¹ é—®é¢˜ï¼ˆé€šå¸¸æ˜¯æŸç§æ•°æ®åº“ï¼‰å’Œä¸åŒå­¦ä¹ ç®—æ³•çš„æœ‰æ•ˆæ€§ä¹‹é—´çš„å…³ç³»è¿˜æ²¡æœ‰è¢«ç†è§£ã€‚<br>â€‹é€šè¿‡ä½¿ç”¨ä¸åŒç±»å‹çš„å…ƒæ•°æ®ï¼Œå¦‚å­¦ä¹ é—®é¢˜çš„å±æ€§ã€ç®—æ³•å±æ€§ï¼ˆå¦‚æ€§èƒ½åº¦é‡ï¼‰æˆ–å…ˆå‰ä»æ•°æ®ä¸­æ´¾ç”Ÿçš„æ¨¡å¼ï¼Œå¯ä»¥å­¦ä¹ ã€é€‰æ‹©ã€æ›´æ”¹æˆ–ç»„åˆä¸åŒçš„å­¦ä¹ ç®—æ³•ä»¥æœ‰æ•ˆåœ°è§£å†³ç»™å®šçš„å­¦ä¹ é—®é¢˜é—®é¢˜ã€‚<a href="https://en.wikipedia.org/wiki/Metaheuristic">å…ƒå­¦ä¹ æ–¹æ³•çš„æ‰¹è¯„ä¸å…ƒå¯å‘å¼</a>çš„æ‰¹è¯„éå¸¸ç›¸ä¼¼ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯èƒ½ç›¸å…³çš„é—®é¢˜ã€‚</p></blockquote><h2 id="å…ƒå­¦ä¹ ä¸­çš„å…ƒæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"><a href="#å…ƒå­¦ä¹ ä¸­çš„å…ƒæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ" class="headerlink" title="å…ƒå­¦ä¹ ä¸­çš„å…ƒæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"></a>å…ƒå­¦ä¹ ä¸­çš„å…ƒæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h2><p>â€‹å…ƒå­¦ä¹ çš„æœ¬è´¨æ˜¯å¢åŠ å­¦ä¹ å™¨åœ¨å¤šä»»åŠ¡çš„æ³›åŒ–èƒ½åŠ›ï¼Œå…ƒå­¦ä¹ å¯¹äºä»»åŠ¡å’Œæ•°æ®éƒ½éœ€è¦é‡‡æ ·ï¼Œå› æ­¤å­¦ä¹ åˆ°çš„F(x)å¯ä»¥åœ¨æœªå‡ºç°çš„ä»»åŠ¡ä¸­è¿…é€Ÿï¼ˆä¾èµ–å¾ˆå°‘çš„æ ·æœ¬ï¼‰å»ºç«‹èµ·mappingã€‚å› æ­¤â€å…ƒâ€œä½“ç°åœ¨ç½‘ç»œå¯¹äºæ¯ä¸ªä»»åŠ¡çš„å­¦ä¹ ï¼Œé€šè¿‡ä¸æ–­çš„é€‚åº”æ¯ä¸ªå…·ä½“ä»»åŠ¡ï¼Œä½¿ç½‘ç»œå…·å¤‡äº†ä¸€ç§æŠ½è±¡çš„å­¦ä¹ èƒ½åŠ›ã€‚</p><h2 id="å…ƒå­¦ä¹ ä¸­çš„è®­ç»ƒå’Œæµ‹è¯•ï¼Ÿ"><a href="#å…ƒå­¦ä¹ ä¸­çš„è®­ç»ƒå’Œæµ‹è¯•ï¼Ÿ" class="headerlink" title="å…ƒå­¦ä¹ ä¸­çš„è®­ç»ƒå’Œæµ‹è¯•ï¼Ÿ"></a>å…ƒå­¦ä¹ ä¸­çš„è®­ç»ƒå’Œæµ‹è¯•ï¼Ÿ</h2><p>â€‹Meta-learningä¸­ä¸ºäº†åŒºåˆ«æ¦‚å¿µï¼Œå°†è®­ç»ƒè¿‡ç¨‹å®šä¹‰ä¸ºâ€Meta-trainingâ€œã€æµ‹è¯•è¿‡ç¨‹å®šä¹‰ä¸ºâ€Meta-testingâ€œ, å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><pre><code class=" mermaid">graph TD;MetaLearning --&gt; MetaTrainingMetaLearning --&gt; MetaTestingMetaTraining --&gt; SupportSet:SMetaTraining --&gt; QuerySet:QMetaTesting --&gt; SupportSet:S&#x27;MetaTesting --&gt; QuerySet:Q&#x27;</code></pre><p>â€‹å¦‚ä¸Šå›¾ï¼ŒåŒºåˆ«äºä¸€èˆ¬ç¥ç»ç½‘ç»œç«¯åˆ°ç«¯çš„è®­ç»ƒæ–¹å¼ï¼Œå…ƒå­¦ä¹ çš„è®­ç»ƒè¿‡ç¨‹å’Œæµ‹è¯•è¿‡ç¨‹å„éœ€è¦ä¸¤ç±»æ•°æ®é›†(Support&#x2F;Query set)ã€‚åˆ’åˆ†æ–¹å¼å¦‚ä¸‹ï¼š<img src="/src/v2-a4a973582683ba3f7008b69da1996c4e_720w.jpg" alt="img"></p><p>â€‹å…¶ä¸­<code>Base class</code>æ˜¯Meta Trainingé˜¶æ®µå€ŸåŠ©çš„æºåŸŸæ•°æ®ï¼›<code>Novel class</code>æ˜¯Meta Testingé˜¶æ®µè¦å­¦ä¹ çš„ç›®æ ‡åŸŸæ•°æ®ï¼Œå…¶ä¸­<code>Base Class</code>å’Œ<code>Novel Class</code>æ²¡æœ‰äº¤é›†ã€‚å¯ä»¥æ˜æ˜¾å‘ç°ï¼Œè¿™ä¸ªä»»åŠ¡æ¶‰åŠåˆ°<code>N-way k-shot</code>ã€‚</p><p>â€‹åœ¨å¹¿ä¹‰ä¸Šæ¥è®²Nä»£è¡¨ç±»åˆ«æ•°é‡ï¼ŒKä»£è¡¨æ¯ä¸€ç±»åˆ«ä¸­æ ·æœ¬æ•°é‡ï¼Œä½†æ˜¯ç±»åˆ«æ•°é‡Nå’Œæ¯ä¸€ç±»æ ·æœ¬æ•°é‡Kåˆ†åˆ«æŒ‡çš„æ˜¯<code>Base Cass</code>è¿˜æ˜¯ <code>Novel Class</code>ä¸­çš„Support Setè¿˜æ˜¯Query Setï¼Œç›®å‰è¿˜æ²¡æœ‰çœ‹åˆ°ä¸€ä¸ªæ˜ç¡®çš„è¯´æ˜ã€‚ä½†æ˜¯ç”±äºæ·±åº¦å­¦ä¹ æ˜¯æ¯”è¾ƒä¾èµ–æ•°æ®é›†çš„ï¼Œæ‰€ä»¥åœ¨<code>Novel Class</code>è¿™ä¸ªå°æ•°æ®ä¸­æ²¡æœ‰åŠæ³•ç›´æ¥å»ºæ¨¡è®­ç»ƒï¼Œå› æ­¤åªèƒ½å€ŸåŠ©<code>Base Class</code>æ¥è¿›è¡Œå­¦ä¹ ã€‚ä½†æ˜¯ä¸¤ä¸ªæ•°æ®é›†çš„ä¸åŒï¼Œå³ä½¿åœ¨<code>Base Class</code>ä¸Šè®­ç»ƒçš„å¾ˆå¥½ï¼Œåœ¨<code>Novel Class</code>ä¸Šè¿›è¡Œå¾®è°ƒçš„æ—¶å€™ï¼Œç»“æœä¹Ÿä¼šå‡ºç°åå·®ã€‚æ‰€ä»¥ä¸ªäººè®¤ä¸ºè¿™é‡Œçš„Nå’ŒKæ˜¯Meta Testingé˜¶æ®µ<code>Novel Class</code>ä¸­Support Detä¸‹æ ·æœ¬ç±»åˆ«æ•°é‡å’Œæ¯ä¸€ç±»çš„æ ·æœ¬é‡ã€‚é€šå¸¸ä¸ºäº†ä¿æŒMeta Trainingé˜¶æ®µå’ŒMeta Testingé˜¶æ®µçš„ä¸€è‡´æ€§ï¼ŒMeta Trainingé˜¶æ®µä¸­<code>Base Class</code>çš„Support Setä¹Ÿä¼šç›¸åŒçš„è®¾ç½®Nå’ŒKã€‚</p><p>â€‹åœ¨è®ºæ–‡<a href="https://arxiv.org/abs/1903.03096v4">Meta-Dataset: A Dataset of Datasets for Learning to Learn from Few Examples</a> ä¸­ç ”ç©¶äº†Nå’ŒKå¯¹å®éªŒçš„å½±å“æ•ˆæœï¼š<img src="/src/image-20220722105602314.png" alt="image-20220722105602314"></p><p>â€‹å¯ä»¥å‘ç°ï¼Œéšç€Nçš„å¢åŠ ï¼Œä¼šå¢åŠ åˆ†ç±»ä»»åŠ¡çš„éš¾åº¦ï¼Œä»è€Œä½¿é¢„æµ‹æ€§èƒ½ä¸‹é™ï¼›éšç€Kçš„å¢åŠ ï¼Œå¯¹äºåº¦é‡å­¦ä¹ æ¥è¯´ï¼Œç›¸å½“äºå‡å°äº†æœ‰åï¼Œé™ä½äº†æœŸæœ›é£é™©ã€‚å¯¹äºMAMLå’ŒReptileç­‰ä¼˜åŒ–äºŒé˜¶æ¢¯åº¦é—®é¢˜è€Œè¨€ï¼Œç›¸å½“äºé™ä½äº†æ¯ä¸ªepisodesçš„è¿‡æ‹Ÿåˆç¨‹åº¦ï¼Œéƒ½ä¼šæé«˜é¢„æµ‹çš„å‡†ç¡®ç‡ã€‚<br>â€‹ç„¶è€Œæ¯ç§æ¨¡å‹å—Kå¢åŠ çš„å½±å“æƒ…å†µä¸åŒï¼Œæ¯”å¦‚ï¼šPrototypical Networkså’Œfo-Proto-MAMLåœ¨ä½çš„Kå€¼ä¸Šè¡¨ç°å¾ˆå¥½ï¼Œä½†éšç€Kçš„å˜å¤§ï¼Œæ€§èƒ½ä½†å¾ˆå¿«å°±é¥±å’Œäº†ï¼Œè€ŒFinetune baselineï¼ŒMatching Networkså’Œfo-MAMLåˆ™ä»¥æ›´å¿«çš„é€Ÿåº¦æå‡å…¶æ•ˆæœã€‚å½“Kå€¼è¶…è¿‡20åï¼ŒFinetune baselineæˆäº†è¡¨ç°æœ€ä¼˜ç§€çš„ã€‚</p><p><strong>æ€»ç»“ï¼šå½“Kå€¼å°æ—¶ï¼Œä½¿ç”¨å…ƒå­¦ä¹ æ–¹æ³•ï¼›Kå€¼å¢å¤§ï¼ŒFinetuneçš„ç»“æœæ›´å¥½</strong>ã€‚</p><p>é¡ºä¾¿ç¬¬ä¸€å¥ï¼Œå…³äº<code>Query Set</code>è¿™æ–¹é¢è²Œä¼¼æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„è®¾ç½®ï¼Œæš‚ä¸”æ²¡å…³æ³¨åˆ°æœ‰è¿™æ–¹é¢çš„å·¥ä½œã€‚ä¸€èˆ¬æ˜¯æ ¹æ®ç›®æ ‡æ•°æ®é›†æ¥è®¾å®šçš„ï¼ŒåŸºæœ¬ä¸Šèƒ½åŒ…æ‹¬ç›®æ ‡åŸŸï¼ˆä¸ªäººè®¤ä¸ºå°±å¯ä»¥äº†ï¼‰</p><h2 id="å…ƒå­¦ä¹ å’Œè¿ç§»å­¦ä¹ çš„åŒºåˆ«å’Œè”ç³»ï¼Ÿ"><a href="#å…ƒå­¦ä¹ å’Œè¿ç§»å­¦ä¹ çš„åŒºåˆ«å’Œè”ç³»ï¼Ÿ" class="headerlink" title="å…ƒå­¦ä¹ å’Œè¿ç§»å­¦ä¹ çš„åŒºåˆ«å’Œè”ç³»ï¼Ÿ"></a>å…ƒå­¦ä¹ å’Œè¿ç§»å­¦ä¹ çš„åŒºåˆ«å’Œè”ç³»ï¼Ÿ</h2><p>â€‹ä»ç›®æ ‡ä¸Šçœ‹ï¼Œå…ƒå­¦ä¹ å’Œè¿ç§»å­¦ä¹ çš„æœ¬è´¨éƒ½æ˜¯å¢åŠ å­¦ä¹ å™¨åœ¨å¤šä»»åŠ¡çš„èŒƒåŒ–èƒ½åŠ›ï¼Œä½†å…ƒå­¦ä¹ æ›´åé‡äºä»»åŠ¡å’Œæ•°æ®çš„åŒé‡é‡‡æ ·ï¼Œå³ä»»åŠ¡å’Œæ•°æ®ä¸€æ ·æ˜¯éœ€è¦é‡‡æ ·çš„ï¼Œå…·ä½“æ¥è¯´å¯¹äºä¸€ä¸ª10åˆ†ç±»ä»»åŠ¡ï¼Œå…ƒå­¦ä¹ é€šè¿‡å¯èƒ½åªä¼šå»ºç«‹èµ·ä¸€ä¸ª5åˆ†ç±»å™¨ï¼Œæ¯ä¸ªè®­ç»ƒçš„episodeéƒ½å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå­ä»»åŠ¡ï¼Œè€Œå­¦ä¹ åˆ°çš„<img src="https://www.zhihu.com/equation?tex=F%5Cleft(+x+%5Cright)" alt="[å…¬å¼]">å¯ä»¥å¸®åŠ©åœ¨æœªè§è¿‡çš„ä»»åŠ¡é‡Œè¿…é€Ÿå»ºç«‹mappingã€‚è€Œè¿ç§»å­¦ä¹ æ›´å¤šæ˜¯æŒ‡ä»ä¸€ä¸ªä»»åŠ¡åˆ°å…¶å®ƒä»»åŠ¡çš„èƒ½åŠ›è¿ç§»ï¼Œä¸å¤ªå¼ºè°ƒä»»åŠ¡ç©ºé—´çš„æ¦‚å¿µã€‚</p><hr><blockquote><p>å‚è€ƒï¼š</p><ol><li><a href="https://en.wikipedia.org/wiki/Meta_learning_(computer_science)">https://en.wikipedia.org/wiki/Meta_learning_(computer_science)</a></li><li><a href="https://zhuanlan.zhihu.com/p/289043310">https://zhuanlan.zhihu.com/p/289043310</a></li><li><a href="https://zhuanlan.zhihu.com/p/108503451">https://zhuanlan.zhihu.com/p/108503451</a></li><li><a href="https://zhuanlan.zhihu.com/p/146804329">https://zhuanlan.zhihu.com/p/146804329</a></li><li><a href="https://zhuanlan.zhihu.com/p/151311431">https://zhuanlan.zhihu.com/p/151311431</a></li><li><a href="https://blog.csdn.net/bashendixie5/article/details/124277165">https://blog.csdn.net/bashendixie5/article/details/124277165</a></li><li><a href="https://easyai.tech/ai-definition/meta-learning/">https://easyai.tech/ai-definition/meta-learning/</a></li><li>Meta-Dataset: A Dataset of Datasets for Learning to Learn from Few Examples, ICLR 2020</li><li>Generalizing from a Few Examples: A Survey on Few-shot Learningï¼ŒComputer Science 2019</li></ol></blockquote>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”å¼‚å¸¸æ£€æµ‹å°è®°</title>
    <link href="/2022/07/21/Essay/Anomaly%20Detection/"/>
    <url>/2022/07/21/Essay/Anomaly%20Detection/</url>
    
    <content type="html"><![CDATA[<h1 id="What-is-Anomaly-Detection"><a href="#What-is-Anomaly-Detection" class="headerlink" title="What is Anomaly Detection"></a>What is Anomaly Detection</h1><p>åœ¨æ•°æ®åˆ†æä¸­ï¼Œå¼‚å¸¸æ£€æµ‹ï¼ˆä¹Ÿç§°ä¸ºå¼‚å¸¸å€¼æ£€æµ‹ï¼‰æ˜¯è¯†åˆ«ä¸å¤§å¤šæ•°æ•°æ®æ˜¾ç€ä¸åŒè€Œå¼•èµ·æ€€ç–‘çš„ç¨€æœ‰é¡¹ç›®ã€äº‹ä»¶æˆ–è§‚å¯Ÿç»“æœã€‚é€šå¸¸ï¼Œå¼‚å¸¸é¡¹ç›®ä¼šè½¬åŒ–ä¸ºæŸç§é—®é¢˜ï¼Œä¾‹å¦‚é“¶è¡Œæ¬ºè¯ˆã€ç»“æ„ç¼ºé™·ã€åŒ»ç–—é—®é¢˜æˆ–æ–‡æœ¬é”™è¯¯ã€‚å¼‚å¸¸ä¹Ÿè¢«ç§°ä¸ºå¼‚å¸¸å€¼ã€æ–°å¥‡äº‹ç‰©ã€å™ªéŸ³ã€åå·®å’Œå¼‚å¸¸ã€‚</p><p>ç‰¹åˆ«æ˜¯åœ¨æ»¥ç”¨å’Œç½‘ç»œå…¥ä¾µæ£€æµ‹çš„èƒŒæ™¯ä¸‹ï¼Œæ„Ÿå…´è¶£çš„å¯¹è±¡å¾€å¾€ä¸æ˜¯ç¨€æœ‰å¯¹è±¡ï¼Œè€Œæ˜¯çªå‘çš„æ´»åŠ¨ã€‚è¿™ç§æ¨¡å¼ä¸ç¬¦åˆä½œä¸ºç¨€æœ‰å¯¹è±¡çš„å¼‚å¸¸å€¼çš„å¸¸è§ç»Ÿè®¡å®šä¹‰ï¼Œå¹¶ä¸”è®¸å¤šå¼‚å¸¸å€¼æ£€æµ‹æ–¹æ³•ï¼ˆç‰¹åˆ«æ˜¯æ— ç›‘ç£æ–¹æ³•ï¼‰åœ¨æ­¤ç±»æ•°æ®ä¸Šå°†å¤±è´¥ï¼Œé™¤éå¯¹å…¶è¿›è¡Œäº†é€‚å½“çš„èšåˆã€‚ç›¸åï¼Œèšç±»åˆ†æç®—æ³•å¯èƒ½èƒ½å¤Ÿæ£€æµ‹ç”±è¿™äº›æ¨¡å¼å½¢æˆçš„å¾®èšç±»ã€‚</p><p>å­˜åœ¨ä¸‰å¤§ç±»å¼‚å¸¸æ£€æµ‹æŠ€æœ¯ã€‚ æ— ç›‘ç£å¼‚å¸¸æ£€æµ‹æŠ€æœ¯åœ¨å‡è®¾æ•°æ®é›†ä¸­çš„å¤§å¤šæ•°å®ä¾‹æ˜¯æ­£å¸¸çš„æƒ…å†µä¸‹é€šè¿‡å¯»æ‰¾ä¼¼ä¹æœ€ä¸é€‚åˆæ•°æ®é›†å…¶ä½™éƒ¨åˆ†çš„å®ä¾‹æ¥æ£€æµ‹æœªæ ‡è®°æµ‹è¯•æ•°æ®é›†ä¸­çš„å¼‚å¸¸ã€‚æœ‰ç›‘ç£çš„å¼‚å¸¸æ£€æµ‹æŠ€æœ¯éœ€è¦ä¸€ä¸ªè¢«æ ‡è®°ä¸ºâ€œæ­£å¸¸â€å’Œâ€œå¼‚å¸¸â€çš„æ•°æ®é›†ï¼Œå¹¶æ¶‰åŠè®­ç»ƒåˆ†ç±»å™¨ï¼ˆä¸è®¸å¤šå…¶ä»–ç»Ÿè®¡åˆ†ç±»é—®é¢˜çš„ä¸»è¦åŒºåˆ«åœ¨äºå¼‚å¸¸å€¼æ£€æµ‹çš„å›ºæœ‰ä¸å¹³è¡¡æ€§è´¨ï¼‰ã€‚åŠç›‘ç£å¼‚å¸¸æ£€æµ‹æŠ€æœ¯æ„å»ºä¸€ä¸ªæ¨¡å‹ï¼Œè¡¨ç¤ºä»ç»™å®šçš„æ­£å¸¸è¡Œä¸ºæ­£å¸¸è®­ç»ƒæ•°æ®é›†ï¼Œç„¶åæµ‹è¯•ä½¿ç”¨æ¨¡å‹ç”Ÿæˆæµ‹è¯•å®ä¾‹çš„å¯èƒ½æ€§ã€‚</p><p>å¯¹äºå¼‚å¸¸å€¼çš„è§£é‡Šï¼šæ ·æœ¬ä¸­çš„æ­£å¸¸å€¼åº”è¯¥å±äºåŒä¸€æ€»ä½“ï¼›è€Œå¼‚å¸¸å€¼æœ‰ä¸¤ç§æƒ…å†µï¼šç¬¬ä¸€ç§æƒ…å†µå¼‚å¸¸å€¼ä¸å±äºè¯¥æ€»ä½“ï¼ŒæŠ½æ ·æŠ½é”™äº†ï¼Œä»å¦å¤–ä¸€ä¸ªæ€»ä½“æŠ½å‡ºä¸€ä¸ªæ•°æ®ï¼Œå…¶å€¼ä¸æ€»ä½“å¹³å‡å€¼ç›¸å·®è¾ƒå¤§ï¼›ç¬¬äºŒç§æƒ…å†µå¼‚å¸¸å€¼è™½å±äºè¯¥æ€»ä½“ï¼Œä½†æ˜¯è‚¯å‘¢ä¸ªæ˜¯è¯¥æ€»ä½“å›ºæœ‰éšæœºå˜å¼‚æ€§çš„æç«¯è¡¨ç°ï¼Œæ¯”å¦‚è¯´è¶…è¿‡$3\sigma$çš„æ•°æ®ï¼Œå‡ºç°çš„æ¦‚ç‡å¾ˆå°ä½†æ˜¯ä¾æ—§å­˜åœ¨ã€‚é‚£ä¹ˆå¯¹äºå¼‚å¸¸å€¼æ¥è¯´ä¸€èˆ¬ä¼šå‡ºä¸€ä¸‹å‡ ç§æƒ…å†µ</p><ul><li>å°†æœ¬æ¥ä¸å±äºè¯¥æ€»ä½“çš„ã€ç¬¬ä¸€ç§æƒ…å†µçš„å¼‚å¸¸å€¼åˆ¤æ–­å‡ºæ¥èˆå»  âˆš</li><li>å°†æœ¬æ¥å±äºè¯¥æ€»ä½“çš„ã€å‡ºç°æ¦‚ç‡å°çš„ï¼Œç¬¬äºŒç§æƒ…å†µçš„å¼‚å¸¸å€¼åˆ¤æ–­å‡ºæ¥èˆå»  Ã—</li><li>ä¸å±äºè¯¥æ€»ä½“ä½†æ•°å€¼å’Œè¯¥æ€»ä½“çš„å¹³å‡å€¼æ¥è¿‘çš„æ•°æ®è¢«æŠ½æ ·æŠ½å‡ºæ¥ï¼Œè¿™æœ‰åˆ¤æ–­ä¸å‡ºæ¥æ˜¯ä¸€ä¸ªå¼‚å¸¸å€¼ã€‚  Ã—</li></ul><h1 id="Anomaly-Detectionsâ€™-Application"><a href="#Anomaly-Detectionsâ€™-Application" class="headerlink" title="Anomaly Detectionsâ€™ Application"></a>Anomaly Detectionsâ€™ Application</h1><p>æ•°æ®éœ€æ±‚</p><ul><li>æ— æ ‡ç­¾æˆ–è€…ç±»åˆ«æä¸å¹³å‡</li><li>å¼‚å¸¸æ•°æ®å’Œæ ·æœ¬å¤§å¤šæ•°æ•°æ®çš„å·®å¼‚æ€§å¾ˆå¤§</li><li>å¼‚å¸¸æ•°æ®åœ¨æ€»ä½“æ•°æ®æ ·æœ¬ä¸­æ‰€å çš„æ¯”ä¾‹å¾ˆå¤§</li></ul><p>å¦‚æœæ•°æ®å­˜åœ¨æ ‡ç­¾ï¼Œè€Œä¸”å¼‚å¸¸æ•°æ®ä¸æ­£å¸¸æ•°æ®çš„æ¯”å€¼æ˜¯å‡è¡¡çš„ï¼Œä¸”æ¯ä¸ªæ•°æ®ä¿æŒ$i.i.d$ã€‚é‚£ä¹ˆå¼‚å¸¸æ£€æµ‹å®Œå…¨å°±æ²¡æœ‰å¿…è¦ï¼Œä½¿ç”¨SVMæˆ–è€…éšæœºæ£®æ—å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚</p><p>åœºæ™¯ï¼š</p><ol><li>é‡‘èé¢†åŸŸï¼šä»é‡‘èæ•°æ®ä¸­è¯†åˆ«â€æ¬ºè¯ˆç”¨æˆ·â€œï¼Œå¦‚è¯†åˆ«ä¿¡ç”¨å¡ç”³è¯·æ¬ºè¯ˆã€ä¿¡ç”¨å¡ç›—åˆ·ã€ä¿¡è´·æ¬ºè¯ˆç­‰ï¼›</li><li>å®‰å…¨é¢†åŸŸï¼šåˆ¤æ–­æµé‡æ•°æ®æ³¢åŠ¨ä»¥åŠæ˜¯å¦å—åˆ°æ”»å‡»ç­‰ç­‰ï¼›</li><li>ç”µå•†é¢†åŸŸï¼šä»äº¤æ˜“ç­‰æ•°æ®ä¸­è¯†åˆ«â€æ¶æ„ä¹°å®¶â€œï¼Œå¦‚ç¾Šæ¯›å…šã€æ¶æ„åˆ·å±å›¢ä¼™ï¼›</li><li>ç”Ÿæ€ç¾éš¾é¢„è­¦ï¼šåŸºäºå¤©æ°”æŒ‡æ ‡æ•°æ®ï¼Œåˆ¤æ–­æœªæ¥å¯èƒ½å‡ºç°çš„æç«¯å¤©æ°”ï¼›</li><li>åŒ»ç–—ç›‘æ§ï¼šä»åŒ»ç–—è®¾å¤‡æ•°æ®ï¼Œå‘ç°å¯èƒ½ä¼šæ˜¾ç¤ºç–¾ç—…çŠ¶å†µçš„å¼‚å¸¸æ•°æ®ï¼›</li></ol><p>æŒ‘æˆ˜ï¼šå› ä¸ºå¼‚å¸¸æœ¬èº«å­˜åœ¨çš„æœªçŸ¥æ€§ï¼Œå¼‚è´¨æ€§ï¼Œç‰¹æ®Šæ€§åŠå¤šæ ·æ€§ç­‰å¤æ‚æƒ…å†µ</p><ul><li>1ï¼‰æœ€å…·æŒ‘æˆ˜æ€§çš„é—®é¢˜ä¹‹ä¸€æ˜¯éš¾ä»¥å®ç°é«˜å¼‚å¸¸æ£€æµ‹å¬å›ç‡ã€‚ç”±äºå¼‚å¸¸éå¸¸ç½•è§ä¸”å…·æœ‰å¼‚è´¨æ€§ï¼Œå› æ­¤å¾ˆéš¾è¯†åˆ«æ‰€æœ‰å¼‚å¸¸ã€‚</li><li>2ï¼‰å¼‚å¸¸æ£€æµ‹æ¨¡å‹è¦æé«˜ç²¾ç¡®åº¦ï¼ˆprecisionï¼‰å¾€å¾€è¦æ·±åº¦ç»“åˆä¸šåŠ¡ç‰¹å¾ï¼Œå¦åˆ™æ•ˆæœä¸ä½³ï¼Œä¸”å®¹æ˜“å¯¼è‡´å¯¹å°‘æ•°ç¾¤ä½“äº§ç”Ÿç®—æ³•åè§ã€‚</li><li>3ï¼‰<strong>æœªçŸ¥æ€§</strong>ï¼šå¼‚å¸¸ä¸è®¸å¤šæœªçŸ¥å› ç´ æœ‰å…³ï¼Œä¾‹å¦‚ï¼Œå…·æœ‰æœªçŸ¥çš„çªå‘è¡Œä¸ºã€æ•°æ®ç»“æ„å’Œåˆ†å¸ƒçš„å®ä¾‹ã€‚å®ƒä»¬ç›´åˆ°çœŸæ­£å‘ç”Ÿæ—¶æ‰ä¸ºäººæ‰€çŸ¥ï¼Œæ¯”å¦‚ææ€–è¢­å‡»ã€è¯ˆéª—å’Œç½‘ç»œå…¥ä¾µç­‰åº”ç”¨ï¼›</li><li>4ï¼‰å¼‚å¸¸ç±»çš„<strong>å¼‚æ„æ€§</strong>ï¼š å¼‚å¸¸æ˜¯ä¸è§„åˆ™çš„ï¼Œä¸€ç±»å¼‚å¸¸å¯èƒ½è¡¨ç°å‡ºä¸å¦ä¸€ç±»å¼‚å¸¸å®Œå…¨ä¸åŒçš„å¼‚å¸¸ç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œåœ¨è§†é¢‘ç›‘æ§ä¸­ï¼ŒæŠ¢åŠ«ã€äº¤é€šäº‹æ•…å’Œç›—çªƒç­‰å¼‚å¸¸äº‹ä»¶åœ¨è§†è§‰ä¸Šæœ‰å¾ˆå¤§å·®å¼‚ï¼›</li><li>5ï¼‰<strong>ç±»åˆ«ä¸å‡è¡¡</strong>ï¼šå¼‚å¸¸é€šå¸¸æ˜¯ç½•è§çš„æ•°æ®å®ä¾‹ï¼Œè€Œæ­£å¸¸å®ä¾‹é€šå¸¸å æ•°æ®çš„ç»å¤§éƒ¨åˆ†ã€‚å› æ­¤ï¼Œæ”¶é›†å¤§é‡æ ‡äº†æ ‡ç­¾çš„å¼‚å¸¸å®ä¾‹æ˜¯å›°éš¾çš„ï¼Œç”šè‡³æ˜¯ä¸å¯èƒ½çš„ã€‚è¿™å¯¼è‡´åœ¨å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸­æ— æ³•è·å¾—å¤§è§„æ¨¡çš„æ ‡è®°æ•°æ®ã€‚</li></ul><h1 id="Anomaly-Detection-Data-Type"><a href="#Anomaly-Detection-Data-Type" class="headerlink" title="Anomaly Detection Data Type"></a>Anomaly Detection Data Type</h1><ul><li><p>ç»Ÿè®¡æ€§æ•°æ® static data ï¼ˆæ–‡æœ¬ã€ç½‘ç»œæµï¼‰</p></li><li><p>åºåˆ—å‹æ•°æ® sequential data </p></li><li><p>ç©ºé—´æ€§æ•°æ® spatial dataï¼ˆå›¾åƒã€è§†é¢‘ï¼‰</p></li></ul><h1 id="Anomaly-Detectionsâ€™-Classification"><a href="#Anomaly-Detectionsâ€™-Classification" class="headerlink" title="Anomaly Detectionsâ€™ Classification"></a>Anomaly Detectionsâ€™ Classification</h1><p>æŒ‰ç…§è®­ç»ƒé›†æ˜¯å¦åŒ…å«å¼‚å¸¸å€¼å¯ä»¥åˆ’åˆ†ä¸ºå¼‚å¸¸å€¼æ£€æµ‹ï¼ˆoutlier detectionï¼‰åŠæ–°é¢–ç‚¹æ£€æµ‹ï¼ˆnovelty detectionï¼‰ï¼Œæ–°é¢–ç‚¹æ£€æµ‹çš„ä»£è¡¨æ–¹æ³•å¦‚One-Class SVMã€‚</p><p>æŒ‰ç…§å¼‚å¸¸ç±»åˆ«çš„ä¸åŒï¼Œå¼‚å¸¸æ£€æµ‹å¯åˆ’åˆ†ä¸ºï¼š<strong>å¼‚å¸¸ç‚¹æ£€æµ‹</strong>(å¦‚å¼‚å¸¸æ¶ˆè´¹ç”¨æˆ·)ï¼Œ<strong>ä¸Šä¸‹æ–‡å¼‚å¸¸æ£€æµ‹</strong>ï¼Œåˆç§°æ¡ä»¶å¼‚å¸¸ï¼ˆå¦‚æ—¶é—´åºåˆ—å¼‚å¸¸ï¼Œç©ºé—´åŒºåŸŸã€å›¾å½¢ã€æ—¶åºã€å®¢æˆ·æ®µç­‰éƒ½æ˜¯ä¸Šä¸‹æ–‡çš„èŒƒå›´ï¼‰ï¼Œ<strong>ç»„å¼‚å¸¸æ£€æµ‹</strong>ï¼ˆå¦‚å¼‚å¸¸å›¢ä¼™ã€‚ç›¸å…³æ•°æ®å®ä¾‹é›†åˆå¯¹äºæ•´ä¸ªæ•°æ®é›†å¼‚å¸¸ï¼Œå¹¶ä¸ä»…ä»…æ˜¯å•ä¸ªå€¼ã€‚æœ‰åºçš„ä¾‹å¦‚ï¼šå¿ƒç”µå›¾ä¸­çš„èŠ‚å¾‹ç´Šä¹±ï¼›æ— åºçš„ï¼šè´­ä¹°å¤§é‡æ˜‚è´µçš„ç‰©å“ï¼‰ã€‚</p><p>æŒ‰ç…§å­¦ä¹ æ–¹å¼çš„ä¸åŒï¼Œå¼‚å¸¸æ£€æµ‹å¯åˆ’åˆ†ä¸ºï¼š</p><ul><li><p><strong>æœ‰ç›‘ç£å¼‚å¸¸æ£€æµ‹</strong>ï¼ˆSupervised Anomaly Detectionï¼‰åœ¨è®­ç»ƒé›†ä¸­çš„æ­£å¸¸å®ä¾‹å’Œå¼‚å¸¸å®ä¾‹éƒ½æœ‰æ ‡ç­¾ï¼Œè¿™ç±»æ–¹æ³•çš„ç¼ºç‚¹åœ¨äºæ•°æ®æ ‡ç­¾éš¾ä»¥è·å¾—æˆ–æ•°æ®ä¸å‡è¡¡ï¼ˆæ­£å¸¸æ ·æœ¬æ•°é‡è¿œå¤§äºå¼‚å¸¸æ ·æœ¬æ•°é‡ï¼‰ã€‚</p></li><li><p><strong>åŠç›‘ç£å¼‚å¸¸æ£€æµ‹</strong>ï¼ˆSemi-Supervised Anomaly Detectionï¼‰åœ¨è®­ç»ƒé›†ä¸­åªæœ‰å•ä¸€ç±»åˆ«ï¼ˆæ­£å¸¸å®ä¾‹ï¼‰çš„å®ä¾‹ï¼Œæ²¡æœ‰å¼‚å¸¸å®ä¾‹å‚ä¸è®­ç»ƒï¼Œç›®å‰å¾ˆå¤šå¼‚å¸¸æ£€æµ‹ç ”ç©¶éƒ½é›†ä¸­åœ¨åŠç›‘ç£æ–¹æ³•ä¸Šã€‚</p></li><li><p><strong>æ— ç›‘ç£å¼‚å¸¸æ£€æµ‹</strong>ï¼ˆUnsupervised Anomaly Detectionï¼‰åœ¨è®­ç»ƒé›†ä¸­æ—¢æœ‰æ­£å¸¸å®ä¾‹ä¹Ÿå¯èƒ½å­˜åœ¨å¼‚å¸¸å®ä¾‹ï¼Œä½†å‡è®¾æ•°æ®çš„æ¯”ä¾‹æ˜¯æ­£å¸¸å®ä¾‹è¿œå¤§äºå¼‚å¸¸å®ä¾‹ï¼Œæ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­æ²¡æœ‰æ ‡ç­¾è¿›è¡Œæ ¡æ­£ã€‚</p></li><li><p><strong>å¼±ç›‘ç£å¼‚å¸¸æ£€æµ‹</strong>ï¼ˆWeakly Anomaly Detectionï¼‰ã€‚ä¸»è¦æ˜¯é’ˆå¯¹å¼‚å¸¸å®ä¾‹ä¸å®Œå…¨ã€ç²—ç²’åº¦æ ‡ç­¾ã€éƒ¨åˆ†å®ä¾‹æ ‡ç­¾é”™è¯¯ç­‰æƒ…å†µè¿›è¡Œç®—æ³•è®¾è®¡ã€‚</p><p>ç°å®æƒ…å†µçš„å¼‚å¸¸æ£€æµ‹é—®é¢˜ï¼Œç”±äºæ”¶é›†å¼‚å¸¸æ ‡ç­¾æ ·æœ¬çš„éš¾åº¦å¤§ï¼Œå¾€å¾€æ˜¯æ²¡æœ‰æ ‡ç­¾çš„ï¼Œæ‰€ä»¥æ— ç›‘ç£å¼‚å¸¸æ£€æµ‹åº”ç”¨æœ€ä¸ºå¹¿æ³›ã€‚</p></li></ul><p>æ ¹æ®æ•°æ®çš„ç»´åº¦æ¥åˆ’åˆ†ï¼š<strong>å•ç»´åº¦æ•°æ®é›†</strong>ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨çš„æ˜¯3-sigmaåŸç†ä»¥åŠä»–çš„ä¸€äº›å˜ç§å½¢å¼ã€‚ä¾‹å¦‚ Grubbs ç®—æ³•ï¼ŒT Test ç­‰ç­‰ã€‚åœ¨é«˜ç»´åº¦é¢†åŸŸï¼Œé€šå¸¸æ¥è¯´æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ã€‚ä¸€ç§æ˜¯é™ä½åˆ°å•ç»´åº¦ï¼Œç„¶åä½¿ç”¨ 3-sigma ä¹‹ç±»çš„ç®—æ³•åˆ¤æ–­æ–°çš„åºåˆ—æ˜¯å¦å¼‚å¸¸ï¼Œä»è€Œæ¨æ–­å‡ºåŸå§‹åºåˆ—æ˜¯å¦å¼‚å¸¸ã€‚å¦å¤–ä¸€ç§æ–¹æ³•æ˜¯åœ¨é«˜ç»´åº¦ä¸Šç›´æ¥å»ºç«‹æ¨¡å‹ï¼Œç„¶ååˆ¤æ–­ã€‚åœ¨<strong>å¤šç»´æ•°æ®æ£€æµ‹</strong>çš„è¯ï¼Œæ–¹æ³•å°±æ¯”è¾ƒå¤šå¯ä»¥å‚è€ƒå…¶ä»–éƒ¨åˆ†ã€‚</p><p><strong>3-sigmaåŸç†</strong>ï¼šå‰æï¼šæ•°æ®åªå«æœ‰éšæœºè¯¯å·®ã€‚å½“è´¨é‡ç‰¹æ€§å‘ˆç°æ­£æ€åˆ†å¸ƒçš„æ—¶å€™ï¼ˆå®é™…ä¸Šï¼Œå½“æ ·æœ¬è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œæ³Šæ¾åˆ†å¸ƒã€äºŒé¡¹åˆ†å¸ƒç­‰å‡è¶‹è¿‘äºæ­£æ€åˆ†å¸ƒçš„ï¼‰ã€‚3-sigmaæ°´å¹³ä»£è¡¨äº†99.73%çš„åˆæ ¼ç‡ã€‚</p><p><img src="/src/7af40ad162d9f2d35daa1e0aa4ec8a136227cc9f-16569395567949.png" alt="img"></p><p><strong>GrubbsåŸç†</strong>ï¼šè®¡ç®—å¯ç–‘å€¼çš„Gå€¼($G_i&#x3D;\frac{x_i-x^-}{s}$)ï¼Œå°†å…¶ä¸æ ¼æ‹‰å¸ƒæ–¯è¡¨åŒ¹é…ï¼Œåˆ¤æ–­ä¸´ç•Œå€¼çš„å¤§å°ã€‚è‹¥å¤§äºï¼Œåˆ™æ˜¯å¼‚å¸¸å€¼èˆå»ã€‚è‹¥å°äºåˆ™ä¸æ˜¯å¼‚å¸¸å€¼åº”è¯¥ä¿ç•™ã€‚</p><p><img src="/src/image-20211222150026654-165693956096012.png" alt="image-20211222150026654"></p><h2 id="é™æ€è§„åˆ™æ–¹æ³•ï¼ˆæœ€åŸºç¡€ï¼‰"><a href="#é™æ€è§„åˆ™æ–¹æ³•ï¼ˆæœ€åŸºç¡€ï¼‰" class="headerlink" title="é™æ€è§„åˆ™æ–¹æ³•ï¼ˆæœ€åŸºç¡€ï¼‰"></a>é™æ€è§„åˆ™æ–¹æ³•ï¼ˆæœ€åŸºç¡€ï¼‰</h2><p>æƒ³æ³•æ˜¯è¯†åˆ«å·²çŸ¥å¼‚å¸¸çš„åˆ—è¡¨ï¼Œç„¶åç¼–å†™è§„åˆ™æ¥æ£€æµ‹è¿™äº›å¼‚å¸¸ã€‚è§„åˆ™è¯†åˆ«æ˜¯ç”±é¢†åŸŸä¸“å®¶é€šè¿‡æ¨¡å¼æŒ–æ˜æŠ€æœ¯æˆ–è€…é€šè¿‡ä¸¤è€…çš„ç»„åˆæ¥å®Œæˆã€‚</p><p>é™æ€è§„åˆ™ç”¨äºå‡è®¾å¼‚å¸¸éµå¾ª80&#x2F;20è§„åˆ™ï¼Œå…¶ä¸­å¤§å¤šæ•°çš„å¼‚å¸¸äº‹ä»¶å±äºå°‘æ•°å¼‚å¸¸ç±»å‹ã€‚å¦‚æœå‡è®¾ä¸ºçœŸï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰¾åˆ°æè¿°è¿™äº›å¼‚å¸¸çš„å°‘æ•°è§„åˆ™æ¥æ£€æµ‹å¤§å¤šæ•°å¼‚å¸¸ã€‚</p><p>å¯ä»¥ä½¿ç”¨ä¸€ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€æ¥å®ç°è¿™äº›è§„åˆ™ï¼š</p><ul><li>å¦‚æœä»–ä»¬å¾ˆç®€å•å¹¶ä¸”ä¸éœ€è¦æ¨ç†ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„ç¼–ç¨‹è¯­è¨€å¯¹å…¶ç¼–ç </li><li>å¦‚æœå†³ç­–éœ€è¦æ¨ç†ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨åŸºäºè§„åˆ™æˆ–ä¸“å®¶ç³»ç»Ÿ</li><li>å¦‚æœå†³ç­–æœ‰æ—¶é—´çº¦æŸï¼Œå¯ä»¥ä½¿ç”¨å¤æ‚äº‹ä»¶å¤„ç†ç³»ç»Ÿ</li></ul><p>è™½ç„¶ç®€å•ï¼Œä½†æ˜¯åŸºäºé™æ€è§„åˆ™çš„ç³»ç»Ÿå¾€å¾€è„†å¼±è€Œå¤æ‚ã€‚æ­¤å¤–ï¼Œè¯†åˆ«è¿™äº›è§„åˆ™é€šå¸¸æ˜¯ä¸€é¡¹å¤æ‚ä¸”ä¸»è§‚çš„ä»»åŠ¡ã€‚<em><strong>å› æ­¤ï¼Œè‡ªåŠ¨å­¦ä¹ ä¸€èˆ¬è§„åˆ™çš„åŸºäºç»Ÿè®¡æˆ–æœºå™¨å­¦ä¹ çš„æ–¹æ³•è¦ä¼˜äºé™æ€è§„åˆ™ã€‚</strong></em></p><h2 id="æœ‰è®­ç»ƒæ•°æ®ï¼ˆæœ‰ç›‘ç£ï¼‰"><a href="#æœ‰è®­ç»ƒæ•°æ®ï¼ˆæœ‰ç›‘ç£ï¼‰" class="headerlink" title="æœ‰è®­ç»ƒæ•°æ®ï¼ˆæœ‰ç›‘ç£ï¼‰"></a>æœ‰è®­ç»ƒæ•°æ®ï¼ˆæœ‰ç›‘ç£ï¼‰</h2><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¼‚å¸¸æ£€æµ‹æ˜¯å¾ˆéš¾è·å–åˆ°è®­ç»ƒæ•°æ®çš„ã€‚å¯¹äºä¸€ä¸ªæ•°æ®é›†ä¸­ï¼Œä½ æ²¡æœ‰åŠæ³•ä¿è¯æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯æ­£å¸¸çš„ï¼Œå“ªæ€•ä»–å·²ç»è¢«æ‰“ä¸Šäº†ä¸€ä¸ªâ€œæ­£å¸¸â€çš„æ ‡ç­¾ã€‚æ‰€ä»¥å¯¹äºè¿™äº›å¯ç”¨çš„è®­ç»ƒæ•°æ®é›†ï¼Œåœ¨å‡ ç™¾ä¸‡çš„å¸¸è§„æ•°æ®ä¸­ä»æ˜¯ä¼šå­˜åœ¨å‡ ä¸ªæˆ–è€…å‡ åä¸ªå¼‚å¸¸ä¹Ÿæ˜¯ä¸ªæ­£å¸¸ç°è±¡ã€‚å³ä½¿å¦‚æ­¤ï¼Œåˆ©ç”¨SVMæˆ–è€…éšæœºæ£®æ—è¿™äº›åˆ†ç±»ç®—æ³•çš„å‡†ç¡®è·¯ä»ç„¶æ˜¯å¯ä»¥åˆ°è¾¾99.8ä»¥ä¸Šã€‚</p><p>é€šå¸¸æˆ‘ä»¬çš„æƒ³æ³•å¯ä½¿åˆ©ç”¨å¤šæ¬¡é‡é‡‡æ ·æ•°æ®æ„å»ºçš„é›†æˆæ–¹å¼æ¥è§£å†³ä¸å¹³è¡¡é—®é¢˜ã€‚è¿™ä¸ªæƒ³æ³•é¦–å…ˆé€šè¿‡è·å–æ‰€æœ‰å¼‚å¸¸çš„æ•°æ®ç‚¹å¹¶æ·»åŠ æ­£å¸¸æ•°æ®ç‚¹çš„å­é›†ï¼ˆä¾‹å¦‚ä½œä¸ºå¼‚å¸¸æ•°æ®ç‚¹çš„4å€ï¼‰æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®é›†ã€‚ç„¶ååˆ©ç”¨SVMç­‰ç®—æ³•ä¸ºæ¯ä¸€ä¸ªæ•°æ®é›†æ„å»ºä¸€ä¸ªåˆ†ç±»å™¨ï¼Œæœ€åä½¿ç”¨é›†æˆå­¦ä¹ ç»„åˆè¿™äº›åˆ†ç±»å™¨ã€‚è¿™ç§æ–¹æ³•è¿ä½œè‰¯å¥½å¹¶äº§ç”Ÿäº†éå¸¸å¥½çš„æ•ˆæœ</p><p>ä½†æ˜¯ï¼Œå¦‚æœæ•°æ®ç‚¹å½¼æ­¤å…³è”ï¼Œé‚£ä¹ˆå¤šæ¬¡é‡é‡‡æ ·å°±ä¼šå‡ºç°é—®é¢˜ï¼Œä¸¢å¤±äº†æ•°æ®ä¹‹é—´çš„è”ç³»ã€‚ç®€å•çš„åˆ†ç±»å™¨å°±æ²¡æœ‰åŠæ³•æ­£å¸¸çš„å·¥ä½œã€‚è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨æ—¶é—´åºåˆ—æŠ€æœ¯æˆ–è€…å¾ªç¯ç¥ç»ç½‘ç»œæ¥å¤„ç†</p><h2 id="æ— è®­ç»ƒæ•°æ®ï¼ˆç‚¹å¼‚å¸¸-æ— ç›‘ç£æˆ–åŠç›‘ç£ï¼‰"><a href="#æ— è®­ç»ƒæ•°æ®ï¼ˆç‚¹å¼‚å¸¸-æ— ç›‘ç£æˆ–åŠç›‘ç£ï¼‰" class="headerlink" title="æ— è®­ç»ƒæ•°æ®ï¼ˆç‚¹å¼‚å¸¸  æ— ç›‘ç£æˆ–åŠç›‘ç£ï¼‰"></a>æ— è®­ç»ƒæ•°æ®ï¼ˆç‚¹å¼‚å¸¸  æ— ç›‘ç£æˆ–åŠç›‘ç£ï¼‰</h2><p>ç‚¹å¼‚å¸¸åœ¨æ•°æ®é›†ä¸­å¾€å¾€å°±æ˜¯ä¸€ä¸ªè®°å½•ä¸­çš„æŸä¸ªå­—æ®µã€‚æ‰€ä»¥æˆ‘ä»¬é€šå¸¸å¯ä»¥ä½¿ç”¨3-sigmaåŸåˆ™è¿™æ ·çš„ç™¾åˆ†ä½æ•°æ–¹å¼æ¥æ£€æµ‹æ•°æ®å¼‚å¸¸ã€‚ç”¨ç›´æ–¹å›¾æ¥æ£€æµ‹åˆ†ç±»æ•°æ®ä¸­çš„æ£€æµ‹ç‚¹å¼‚å¸¸ã€‚æ— è®ºé‚£ç§æƒ…å†µï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ä»æ•°æ®ä¸­è·å¾—ç½•è§çš„æ•°æ®èŒƒå›´æˆ–å­—æ®µå€¼ï¼Œå¹¶åœ¨å†æ¬¡å‘ç”Ÿæ—¶å°†å…¶é¢„æµ‹ä¸ºå¼‚å¸¸ã€‚åœ¨æ„å»ºæ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå°½å¯èƒ½ä½¿ç”¨ç§»åŠ¨å¹³å‡å€¼è€Œä¸æ˜¯ç‚¹å€¼ï¼Œå› ä¸ºä»–ä»¬å¯¹å™ªå£°æ›´ç¨³å®šã€‚</p><h2 id="æ— è®­ç»ƒæ•°æ®ï¼ˆå•å˜é‡é›†ä½“å¼‚å¸¸ï¼‰"><a href="#æ— è®­ç»ƒæ•°æ®ï¼ˆå•å˜é‡é›†ä½“å¼‚å¸¸ï¼‰" class="headerlink" title="æ— è®­ç»ƒæ•°æ®ï¼ˆå•å˜é‡é›†ä½“å¼‚å¸¸ï¼‰"></a>æ— è®­ç»ƒæ•°æ®ï¼ˆå•å˜é‡é›†ä½“å¼‚å¸¸ï¼‰</h2><p>ä¾‹å¦‚æ—¶é—´åºåˆ—æ•°æ®æ˜¯å•å˜é‡æ•°æ®é›†ä¸­é›†ä½“å¼‚å¸¸å€¼çš„æœ€ä½³æ¡ˆä¾‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¼‚å¸¸å€¼çš„å‘ç”Ÿæ˜¯å› ä¸ºå€¼ä»¥æ„å¤–çš„é¡ºåºå‡ºç°ã€‚ä¾‹å¦‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="/src/heart-165693956441115.jpg" alt="å¿ƒ"></p><p>ç¬¬ä¸‰æ¬¡å¿ƒè·³å¯èƒ½æ˜¯å¼‚å¸¸çš„ï¼Œä¸æ˜¯å› ä¸ºå€¼è¶…å‡ºèŒƒå›´ï¼Œè€Œæ˜¯å› ä¸ºä»–ä»¬ä»¥é”™è¯¯çš„é¡ºåºå‘ç”Ÿã€‚</p><p>ä¸€èˆ¬å¤„ç†è¿™ç§æƒ…å†µçš„æ–¹æ³•ï¼š</p><ol><li><p>æ„å»ºä¸€ä¸ªé¢„æµ‹å™¨å¹¶ä½¿ç”¨æ®‹å·®å¯»æ‰¾å¼‚å¸¸å€¼ï¼šè¿™æ˜¯åŸºäºå¯å‘å¼çš„ï¼Œå³æ¨¡å‹æœªè§£é‡Šçš„å€¼æ˜¯å¼‚å¸¸çš„ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªæ¨¡å‹æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªå€¼ï¼Œç„¶åå¦‚å‰æ‰€è¿°å¯¹è¯¯å·®ï¼ˆé¢„æµ‹å€¼-å®é™…å€¼ï¼‰åº”ç”¨ç™¾åˆ†ä½æ•°ã€‚è¯¥æ¨¡å‹å¯ä»¥ä½¿ç”¨å›å½’ã€æ—¶é—´åºåˆ—æ¨¡å‹æˆ–è€…å¾ªç¯ç¥ç»ç½‘ç»œæ„å»º</p></li><li><p>Markov Chainæˆ–è€…Hidden Markov Chainå¯ä»¥è¡¡é‡ä¸€ç³»åˆ—äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚å½“ä¸€ç³»åˆ—äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Markov Chainæ¥è¡¡é‡è¯¥åºåˆ—å‘ç”Ÿçš„æ¦‚ç‡ï¼Œå¹¶ç”¨ä»–æ¥æ£€æµ‹ä»»ä½•ç¨€æœ‰åºåˆ—ã€‚<br><img src="/src/fraud-165693956683718.png" alt="Fraud"></p><p>ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬è€ƒè™‘ä¿¡ç”¨å¡äº¤æ˜“ã€‚æœªæ¥ä½¿ç”¨MarkovChainå¯¹æ•´ä¸ªäº‹ä»¶è¿›è¡Œå»ºæ¨¡ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå€¼æ¥è¡¨ç¤ºæ¯ä¸ªäº¤æ˜“ï¼šäº¤æ˜“ä»·å€¼$(L,H)$å’Œè‡ªä¸Šæ¬¡äº¤æ˜“ä»¥æ¥çš„æ—¶é—´$(L,H)$ã€‚ç”±äºMarkovChainçš„çŠ¶æ€å¿…é¡»æ˜¯æœ‰é™çš„ï¼Œæˆ‘ä»¬å°†é€‰æ‹©ä¸¤ä¸ªå€¼$Low(L),High(H)$æ¥è¡¨ç¤ºå˜é‡å€¼ã€‚ç„¶åMarkovChainå°†ç”¨çŠ¶æ€LLã€LHã€HLã€HHè¡¨ç¤ºã€‚æ¯ç¬”äº¤æ˜“éƒ½æ˜¯ä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„è½¬æ¢ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†å²æ•°æ®æ„å»ºMarkovChainï¼Œå¹¶ç”¨è¯¥é“¾æ¥è®¡ç®—åºåˆ—æ¦‚ç‡ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä»»ä½•æ–°åºåˆ—å‘ç”Ÿçš„æ¦‚ç‡ï¼Œç„¶åå°†ç¨€æœ‰åºåˆ—æ ‡è®°ä¸ºå¼‚å¸¸ã€‚</p></li></ol><h2 id="æ— è®­ç»ƒæ•°æ®ï¼ˆå¤šå…ƒé›†ä½“å¼‚å¸¸å€¼-æ— åºï¼‰"><a href="#æ— è®­ç»ƒæ•°æ®ï¼ˆå¤šå…ƒé›†ä½“å¼‚å¸¸å€¼-æ— åºï¼‰" class="headerlink" title="æ— è®­ç»ƒæ•°æ®ï¼ˆå¤šå…ƒé›†ä½“å¼‚å¸¸å€¼ æ— åºï¼‰"></a>æ— è®­ç»ƒæ•°æ®ï¼ˆå¤šå…ƒé›†ä½“å¼‚å¸¸å€¼ æ— åºï¼‰</h2><p>è¿™é‡Œçš„æ•°æ®ä¸€èˆ¬éƒ½æ˜¯å¤šæ¬¡è¯»å†™ï¼Œæ•°æ®æœ¬èº«æ²¡æœ‰é¡ºåºã€‚ä¾‹å¦‚ï¼Œä»è®¸å¤šäººå“ªé‡Œæ”¶é›†çš„ç”Ÿå‘½ä½“å¾å°±æ˜¯ä¸€ä¸ªå¤šå˜é‡ä½†æ˜¯æ²¡æœ‰æ’åºçš„æ•°æ®é›†ã€‚ä¾‹å¦‚ï¼Œå³ä½¿æ¸©åº¦å’Œå¿ƒè·³æœ¬èº«éƒ½åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œä½†è¾ƒé«˜çš„æ¸©åº¦å’Œç¼“æ…¢çš„å¿ƒè·³éƒ½æ˜¯å¼‚å¸¸çš„æƒ…å†µã€‚</p><p>ä¸€èˆ¬çš„å¤„ç†æ–¹æ³•æœ‰ï¼š</p><ol><li>èšç±»</li><li>æœ€ç´§é‚»æŠ€æœ¯</li></ol><h2 id="æ— è®­ç»ƒæ•°æ®ï¼ˆå¤šå…ƒé›†ä½“å¼‚å¸¸å€¼-æœ‰åºï¼‰"><a href="#æ— è®­ç»ƒæ•°æ®ï¼ˆå¤šå…ƒé›†ä½“å¼‚å¸¸å€¼-æœ‰åºï¼‰" class="headerlink" title="æ— è®­ç»ƒæ•°æ®ï¼ˆå¤šå…ƒé›†ä½“å¼‚å¸¸å€¼ æœ‰åºï¼‰"></a>æ— è®­ç»ƒæ•°æ®ï¼ˆå¤šå…ƒé›†ä½“å¼‚å¸¸å€¼ æœ‰åºï¼‰</h2><p>æ­¤ç±»æƒ…å†µåº”å½“æ˜¯æœ€å¸¸è§çš„ï¼Œéœ€è¦è€ƒè™‘æ’åºå’Œå€¼çš„ç»„åˆã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘å–è‡ªåŒä¸€æ‚£è€…çš„ä¸€ç³»åˆ—é‡è¦è¯»ä¹¦ã€‚æŸäº›è¯»æ•°å¯èƒ½åœ¨ç»„åˆä¸­æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯ç”±äºç»„åˆä»¥é”™è¯¯çš„é¡ºåºå‘ç”Ÿè€Œå¼‚å¸¸ã€‚ä¾‹å¦‚ï¼Œç»™ä¸€ä¸ªåŒ…å«è¡€å‹ã€ä½“æ¸©å’Œå¿ƒè·³é¢‘ç‡çš„è¯»ä¹¦ï¼Œæ¯ä¸ªè¯»æ•°æœ¬èº«å¯èƒ½éƒ½æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯å¦‚æœåœ¨çŸ­æ—¶é—´éœ‡è¡å¤ªå¿«ï¼Œåˆ™ä¸æ­£å¸¸äº†ã€‚</p><p>å¤„ç†è¿™ç±»çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨MarkovChainå’Œèšç±»ç»“åˆã€‚é¦–å…ˆå¯¹æ•°æ®è¿›è¡Œèšç±»æ²¡ç„¶åä½¿ç”¨ç°‡ä½œä¸ºMarkovChainä¸­çš„çŠ¶æ€å¹¶æ„å»ºMarkovChainã€‚èšç±»å°†æ•è·å¸¸è§çš„å€¼ç»„åˆï¼Œè€ŒMarkovChainå°†æ•è·ä»–çš„é¡ºåºã€‚å½“ç„¶ä¹Ÿå­˜åœ¨æ·±å±‚ç½‘ç»œçš„æ–¹æ³•ã€‚</p><h1 id="Anomaly-Detectionsâ€™-Method"><a href="#Anomaly-Detectionsâ€™-Method" class="headerlink" title="Anomaly Detectionsâ€™ Method"></a>Anomaly Detectionsâ€™ Method</h1><p>å¯¹äºä»»æ„ç°å®ä»»åŠ¡æ¥è¯´ï¼Œå¼‚å¸¸æ£€æµ‹éƒ½æ˜¯è‡³å…³é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚å®ƒå¯ä»¥ä¿éšœæ¨¡å‹è¿è¡Œçš„æ­£å¸¸ï¼Œæ¨¡å‹å¤„ç†æ›´é«˜æ•ˆã€‚å¼‚å¸¸æ£€æµ‹çš„å¹¿æ³›åº”ç”¨ï¼Œå°è¯äº†å…¶å¤šæ ·çš„æ–¹æ³•è®¾è®¡ã€‚ç›‘ç£æ–¹æ³•åˆ°æ— ç›‘ç£æ–¹æ³•ï¼Œé™æ€æ–¹æ³•åˆ°åŠ¨æ€æ–¹æ³•ï¼Œéæ·±åº¦æ–¹æ³•åˆ°æ·±åº¦æ–¹æ³•ã€‚ç”±äºå¼‚å¸¸è‡ªèº«çš„ç‰¹æ€§ï¼Œæå…¶ç¨€ç¼ºï¼Œä¸”æ— æ³•å‡†ç¡®åˆ†ç±»ã€‚æ‰€ä»¥å¼‚å¸¸æ£€æµ‹æ–¹æ³•å¤§å¤šä»¥æ— ç›‘ç£çš„æ–¹æ³•ä¸ºä¸»ã€‚</p><h2 id="Supervised-learning-method"><a href="#Supervised-learning-method" class="headerlink" title="Supervised learning method"></a>Supervised learning method</h2><p>EGADSï¼šä½¿ç”¨ AdaBoost é€‰æ‹©å¼‚å¸¸ï¼Œå…¶æ¶æ„ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªç»„ä»¶ï¼šé¢„æµ‹ã€å¼‚å¸¸æ£€æµ‹å’Œè­¦æŠ¥ã€‚ </p><p>Opprentice ï¼šé›†æˆäº† 14 ç§å¹¿æ³›ä½¿ç”¨çš„ç»Ÿè®¡ç®—æ³•æ¥æå–æ•°æ®ç‚¹çš„ç‰¹å¾ï¼Œç„¶åä½¿ç”¨éšæœºæ£®æ—è®­ç»ƒåˆ†ç±»å™¨ã€‚</p><p>è¿™ç§æ–¹æ³•éœ€è¦ä¸€ä¸ªå®Œå…¨æ ‡ç­¾çš„æ•°æ®é›†ã€‚ä½†æ˜¯ï¼Œå¯¹æ‰€æœ‰æ•°æ®è¿›è¡Œæ‰‹åŠ¨æ ‡è®°æ˜¯ä¸å¯è¡Œçš„</p><h2 id="Unsupervised-learning-method"><a href="#Unsupervised-learning-method" class="headerlink" title="Unsupervised learning method"></a>Unsupervised learning method</h2><ul><li>éæ·±åº¦å­¦ä¹ <ol><li>çŸ©é˜µåˆ†è§£ï¼ˆmatrix factorization, MFï¼‰æ–¹æ³•ï¼šRadarã€ANOMALOUSã€ITAD(å¯¹åˆ†è§£å¼ é‡è¿›è¡Œèšç±»)ã€.</li><li>åŸºäºå¯†åº¦çš„èšç±»æ–¹æ³•ï¼š<a href="/Algorithms/LocalOutlierFactor.md">Local Outlier Factor</a>ã€COF(è¿é€šæ€§ç¦»ç¾¤å€¼å› å­)ã€DAGMMã€MPPCACD(æ•´åˆé«˜æ–¯æ··åˆæ¨¡å‹ä»¥ä¼°è®¡è¡¨ç¤ºçš„å¯†åº¦)ã€<a href="/Algorithms/DBSCAN.md">DBSCAN</a>ã€<a href="/Algorithms/SVDD.md">SVDD</a>ã€Deep SVDD(æ•´åˆé«˜æ–¯æ··åˆæ¨¡å‹ä»¥ä¼°è®¡è¡¨ç¤ºçš„å¯†åº¦)ã€THOC(é€šè¿‡å±‚æ¬¡èšç±»æœºåˆ¶èåˆä¸­é—´å±‚çš„å¤šå°ºåº¦æ—¶é—´ç‰¹å¾ï¼Œå¹¶é€šè¿‡å¤šå±‚è·ç¦»æ£€æµ‹å¼‚å¸¸)ã€SCANã€Fraudarã€.</li><li>å…³ç³»å­¦ä¹ æ–¹æ³•ï¼šSPEAGLEã€.</li><li>å…¶ä»–ï¼šOC-SVMã€<a href="/Algorithms/IsoForest.md">Isolation Forest(å­¤ç«‹æ£®æ—)</a>ã€<a href="/Algorithms/GrubbsTest.md">ç»Ÿè®¡å‡è®¾æ£€éªŒ(Grubbs Test)</a>ã€[Numeric Oulierï¼ˆIQR)](&#x2F;Algorithms&#x2F;Numeric Oulierâ€“IQR.md)ã€[Winsorization Method](&#x2F;Algorithms&#x2F;Winsorization Method.md)ã€.</li></ol></li><li>æ·±åº¦å­¦ä¹ <ol><li>è‡ªç¼–ç ç»“æ„æ–¹æ³•ï¼šInterFusionã€LSTM-VAEã€OmniAbnormalyã€Donutã€Buzz ã€Bagelã€Dominantã€Anomalydaeã€GUIDEã€.</li><li>å›¾ç¥ç»ç½‘ç»œæ–¹æ³•ï¼šOCGNNã€PAMFULã€.</li><li>ç”Ÿæˆå¯¹æŠ—ç½‘ç»œæ–¹æ³•ï¼šBeatGANã€GAANã€.</li></ol></li></ul><p><a href="/Algorithms/IsoForest.md">Isolation Forest(å­¤ç«‹æ£®æ—)</a>ï¼šæ˜¯ä¸€ç§ç”¨äºå¼‚å¸¸å€¼æ£€æµ‹çš„ç»å…¸æ ‘é›†æˆæ–¹æ³•ã€‚å®ƒæ„å»ºä¸€ä¸ªåŸºæ ‘é›†åˆæ¥éš”ç¦»æ•°æ®ç‚¹ï¼Œå¹¶å°†å†³ç­–è¾¹ç•Œå®šä¹‰ä¸ºå•ä¸ªå®ä¾‹ä¸æ ‘çš„æ ¹èŠ‚ç‚¹çš„æ¥è¿‘ç¨‹åº¦ã€‚å®ƒåªä½¿ç”¨æ•°æ®çš„èŠ‚ç‚¹å±æ€§ã€‚æ¨¡å‹å‡è®¾å¼‚å¸¸å¾ˆå°‘ä¸”ä¸åŒï¼Œå¯¹äºç‚¹ï¼Œè¶Šæ¥è¿‘æ ‘çš„æ ¹ï¼Œè¶Šå¼‚å¸¸ã€‚</p><p>Donutã€Buzz  å’Œ Bagel æ˜¯åŸºäº VAE çš„æ¨¡å‹ï¼Œå®ƒä»¬ä¸“æ³¨äºå­¦ä¹ æ­£å¸¸æ•°æ®çš„æ¨¡å¼è€Œä¸æ˜¯å¼‚å¸¸å¹¶è®¡ç®—é‡å»ºæ¦‚ç‡ä»¥è¿›è¡Œæ£€æµ‹ã€‚ è™½ç„¶è¿™äº›ç®—æ³•ä¸éœ€è¦æ•°æ®æ ‡ç­¾ï¼Œä½†å®ƒä»¬å¹¶ä¸èƒ½è¾¾åˆ°ä»¤äººæ»¡æ„çš„æ•ˆæœã€‚</p><h2 id="Semi-supervised-learning-method"><a href="#Semi-supervised-learning-method" class="headerlink" title="Semi-supervised learning method"></a>Semi-supervised learning method</h2><p>ADS ä½¿ç”¨èšç±»å’Œ CPLEï¼ˆå¯¹æ¯”æ‚²è§‚ä¼¼ç„¶ä¼°è®¡ï¼‰æ¥æ£€æµ‹æ—¶é—´åºåˆ—ä¸­çš„å¼‚å¸¸ã€‚</p><p>åŠç›‘ç£å­¦ä¹ æ–¹æ³•ä½¿ç”¨æœªæ ‡è®°çš„æ•°æ®æ¥ä¿®æ”¹ä»…ä»æ ‡è®°æ•°æ®ä¸­è·å¾—çš„å‚æ•°æˆ–æ¨¡å‹ï¼Œä»¥æœ€å¤§åŒ–å­¦ä¹ æ€§èƒ½ã€‚å®ƒä»¬ç¡®å®é™ä½äº†æ‰‹åŠ¨æ ‡è®°çš„æˆæœ¬ï¼Œä½†æ˜¯ï¼Œæ“ä½œå‘˜ä»ç„¶éš¾ä»¥æ ‡è®°å’Œæ£€æŸ¥é‚£äº›æŒ‡å®šæ—¶é—´åºåˆ—æ®µä¸­çš„æ‰€æœ‰å¼‚å¸¸ã€‚</p><p>å¯¹å¤§å¤šæ•°å®é™…åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬é¢ä¸´çš„æ—¢ä¸æ˜¯å®Œå…¨æ— æ ·æœ¬æ ‡ç­¾çš„æ•°æ®ï¼Œä¹Ÿä¸æ˜¯å®Œå¤‡æ ·æœ¬æ ‡ç­¾çš„æ•°æ®ã€‚å¤§å¤šæ•°å…¬å¸ä¸€èˆ¬éƒ½æœ‰ä¸€äº›äººå·¥æ ‡è®°çš„æ ·æœ¬ï¼Œå‰©ä¸‹ä¸€å †æ— æ ‡ç­¾æ ·æœ¬ï¼Œå› æ­¤åŠç›‘ç£å­¦ä¹ æ–¹æ³•å¯èƒ½æ›´è´´è¿‘å®é™…åº”ç”¨çš„åœºæ™¯ã€‚</p><p>èš‚èšé‡‘æœåœ¨WWWå¤§ä¼šæŠ•ä¸­è¿‡ç±»ä¼¼çš„paper</p><p>è¿™ä¸ªç®—æ³•ADOAé€‚ç”¨çš„åœºæ™¯æ˜¯ï¼šä»…æœ‰éƒ¨åˆ†æ ·æœ¬æœ‰æ ‡ç­¾ï¼Œå‰©ä¸‹å¤§éƒ¨åˆ†æ ·æœ¬éƒ½æ— æ ‡ç­¾ï¼›å¼‚å¸¸æ ·æœ¬çš„ç±»å‹ä¸æ­¢ä¸€ç§ï¼Œå¾€å¾€æ˜¯å¤šç§å¼‚å¸¸æƒ…å½¢åŒæ—¶å­˜åœ¨ï¼›æœ‰æ ‡ç­¾çš„å¼‚å¸¸æ ·æœ¬å¯èƒ½å¹¶æ²¡æœ‰åŒºåˆ†å‡ºä¸åŒçš„å¼‚å¸¸ç±»å‹ï¼›</p><p>è¿™ä¸ªç®—æ³•çš„ä¸»è¦æµç¨‹åˆ†æˆä¸¤ä¸ªé˜¶æ®µã€‚åœ¨ç¬¬ä¸€é˜¶æ®µï¼Œå¯¹å·²çŸ¥å¼‚å¸¸æ ·æœ¬è¿›è¡Œèšç±»ï¼Œå¹¶ä»æœªæ ‡è®°æ ·æœ¬ä¸­æŒ–æ˜æ½œåœ¨å¼‚å¸¸æ ·æœ¬ä»¥åŠå¯é æ­£å¸¸æ ·æœ¬ï¼›ç¬¬äºŒé˜¶æ®µï¼ŒåŸºäºä»¥ä¸Šçš„æ ·æœ¬ï¼Œæ„å»ºå¸¦æƒé‡çš„å¤šåˆ†ç±»æ¨¡å‹ã€‚</p><p><img src="/src/v2-62be70e77861d1b33dcbb83e002d5b26_720w-1640143042828-165693957305421.jpg" alt="img"></p><p><strong>é—®é¢˜</strong>:è¿™ä¸ªç®—æ³•çš„å‡è®¾æƒ…å½¢å¾ˆé€‚åˆå›½å†…çš„é£æ§ä¸šåŠ¡</p><h1 id="Anomaly-Detection-SOTA-Modelï¼š"><a href="#Anomaly-Detection-SOTA-Modelï¼š" class="headerlink" title="Anomaly Detection SOTA Modelï¼š"></a>Anomaly Detection SOTA Modelï¼š</h1><ol><li>LSTM-NDT <a href="https://github.com/khundman/telemanom">https://github.com/khundman/telemanom</a></li><li>openGauss <a href="https://gitee.com/opengauss/openGauss-AI">https://gitee.com/opengauss/openGauss-AI</a></li><li>DAGMM <a href="https://github.com/tnakae/DAGMM">https://github.com/tnakae/DAGMM</a></li><li>OmniAnomaly <a href="https://github.com/NetManAIOps/OmniAnomaly">https://github.com/NetManAIOps/OmniAnomaly</a></li><li>MSCRED <a href="https://github.com/7fantasysz/MSCRED">https://github.com/7fantasysz/MSCRED</a></li><li>MAD-GAN <a href="https://github.com/LiDan456/MAD-GANs">https://github.com/LiDan456/MAD-GANs</a></li></ol><h1 id="Anomaly-Detection-Datasetsï¼š"><a href="#Anomaly-Detection-Datasetsï¼š" class="headerlink" title="Anomaly Detection Datasetsï¼š"></a>Anomaly Detection Datasetsï¼š</h1><ol><li>Numenta Aboration  Benchmarkï¼ˆ<strong>NAB</strong>ï¼‰ï¼šæ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªçœŸå®ä¸–ç•Œæ•°æ®è·Ÿè¸ªçš„æ•°æ®é›†ï¼ŒåŒ…æ‹¬æ¥è‡ªæ¸©åº¦ä¼ æ„Ÿå™¨çš„è¯»æ•°ã€äº‘æœºå™¨çš„CPUåˆ©ç”¨ç‡ã€æœåŠ¡è¯·æ±‚å»¶è¿Ÿå’Œçº½çº¦å¸‚çš„å‡ºç§Ÿè½¦éœ€æ±‚ã€‚ç„¶è€Œï¼Œå·²çŸ¥è¯¥æ•°æ®é›†çš„åºåˆ—å¸¦æœ‰ä¸æ­£ç¡®çš„å¼‚å¸¸æ ‡ç­¾ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨å®éªŒä¸­æ’é™¤çš„çº½çº¦å‡ºç§Ÿè½¦è¿½è¸ªã€‚ </li><li>HexagonMLï¼ˆ<strong>UCR</strong>ï¼‰æ•°æ®é›†ï¼šæ˜¯KDD 2021  cupä¸­ä½¿ç”¨çš„å¤šä¸ªå•å˜é‡æ—¶é—´åºåˆ—çš„æ•°æ®é›†ï¼ˆä»…ä¸ºå®Œæ•´æ€§è€ŒåŒ…æ‹¬ï¼‰ã€‚æˆ‘ä»¬åªåŒ…æ‹¬ä»è‡ªç„¶æ¥æºè·å¾—çš„æ•°æ®é›†ï¼ˆå†…å‡ºè¡€å’ŒECGæ•°æ®é›†ï¼‰ï¼Œè€Œå¿½ç•¥äº†åˆæˆåºåˆ—ã€‚ </li><li>MIT-BIHå®¤ä¸Šæ€§å¿ƒå¾‹å¤±å¸¸æ•°æ®åº“ï¼ˆMBAï¼‰ï¼šæ˜¯å››åæ‚£è€…çš„å¿ƒç”µå›¾è®°å½•çš„é›†åˆï¼ŒåŒ…å«ä¸¤ç§ä¸åŒç±»å‹å¼‚å¸¸çš„å¤šä¸ªå®ä¾‹ï¼ˆå®¤ä¸Šæ”¶ç¼©æˆ–æ—©æï¼‰ã€‚è¿™æ˜¯æ•°æ®ç®¡ç†ç¤¾åŒºä¸­æµè¡Œçš„å¤§å‹æ•°æ®é›†ã€‚ </li><li>åœŸå£¤æ°´åˆ†ä¸»åŠ¨-è¢«åŠ¨ï¼ˆ<strong>SMAP</strong>ï¼‰æ•°æ®é›†ï¼šæ˜¯ç¾å›½å®‡èˆªå±€ï¼ˆNASAï¼‰ä½¿ç”¨ç«æ˜Ÿæ¢æµ‹å™¨æ”¶é›†åœŸå£¤æ ·æœ¬å’Œé¥æµ‹ä¿¡æ¯çš„æ•°æ®é›†ã€‚ </li><li>ç«æ˜Ÿç§‘å­¦å®éªŒå®¤ï¼ˆMSLï¼‰æ•°æ®é›†ï¼šæ˜¯ä¸€ä¸ªç±»ä¼¼äºSMAPçš„æ•°æ®é›†ï¼Œä½†ä¸ç«æ˜Ÿæ¢æµ‹è½¦æœ¬èº«çš„ä¼ æ„Ÿå™¨å’Œæ‰§è¡Œå™¨æ•°æ®ç›¸å¯¹åº”ã€‚ç„¶è€Œï¼Œå·²çŸ¥è¯¥æ•°æ®é›†æœ‰è®¸å¤šçç¢çš„åºåˆ—ï¼›å› æ­¤ï¼Œæˆ‘ä»¬åªè€ƒè™‘æŒ‡å‡ºçš„ä¸‰ä¸ªéå¹³å‡¡çš„å› ç´ ï¼ˆA4ã€C2å’ŒT1ï¼‰ã€‚ </li><li>å®‰å…¨æ°´å¤„ç†ï¼ˆ<strong>SWaT</strong>ï¼‰æ•°æ®é›†ï¼šè¯¥æ•°æ®é›†æ”¶é›†è‡ªç°å®ä¸–ç•Œä¸­æ­£å¸¸è¿è¡Œ7å¤©ã€å¼‚å¸¸è¿è¡Œ4å¤©çš„æ°´å¤„ç†å‚ã€‚è¯¥æ•°æ®é›†åŒ…æ‹¬ä¼ æ„Ÿå™¨å€¼ï¼ˆæ°´ä½ã€æµé€Ÿç­‰ï¼‰å’Œæ‰§è¡Œæœºæ„æ“ä½œï¼ˆé˜€é—¨å’Œæ³µï¼‰ã€‚ </li><li>æ°´åˆ†é…ï¼ˆ<strong>WADI</strong>ï¼‰æ•°æ®é›†ï¼šè¿™æ˜¯SWaTç³»ç»Ÿçš„æ‰©å±•ï¼Œä½†ä¼ æ„Ÿå™¨å’Œæ‰§è¡Œå™¨çš„æ•°é‡æ˜¯SWaTæ¨¡å‹çš„ä¸¤å€å¤šã€‚åœ¨æ­£å¸¸å’Œæ”»å‡»æƒ…å†µä¸‹ï¼Œæ•°æ®é›†çš„æ”¶é›†æŒç»­æ—¶é—´ä¹Ÿæ›´é•¿ï¼Œåˆ†åˆ«ä¸º14å¤©å’Œ2å¤©ã€‚ </li><li>æœåŠ¡å™¨æœºå™¨æ•°æ®é›†ï¼ˆ<strong>SMD</strong>ï¼‰ï¼šè¿™æ˜¯ä¸€ä¸ªä¸ºæœŸäº”å‘¨çš„æ•°æ®é›†ï¼ŒåŒ…å«è®¡ç®—é›†ç¾¤ä¸­28å°æœºå™¨çš„èµ„æºåˆ©ç”¨ç‡çš„å åŠ è·Ÿè¸ªã€‚ä¸MSLç±»ä¼¼ï¼Œæˆ‘ä»¬åœ¨è¯¥æ•°æ®é›†ä¸­ä½¿ç”¨äº†éå¹³å‡¡åºåˆ—ï¼Œç‰¹åˆ«æ˜¯åä¸ºmachine-1-1ã€2-1ã€3-2å’Œ3-7çš„è·Ÿè¸ª</li><li>å¤šæºåˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆ<strong>MSDS</strong>ï¼‰æ•°æ®é›†ï¼šè¿™æ˜¯ä¸€ä¸ªæœ€è¿‘çš„é«˜è´¨é‡å¤šæºæ•°æ®é›†ï¼Œç”±åˆ†å¸ƒå¼è·Ÿè¸ªã€åº”ç”¨ç¨‹åºæ—¥å¿—å’Œæ¥è‡ªå¤æ‚åˆ†å¸ƒå¼ç³»ç»Ÿçš„åº¦é‡ç»„æˆã€‚è¯¥æ•°æ®é›†ä¸“é—¨ä¸ºäººå·¥æ™ºèƒ½æ“ä½œæ„å»ºï¼ŒåŒ…æ‹¬è‡ªåŠ¨å¼‚å¸¸æ£€æµ‹ã€æ ¹æœ¬åŸå› åˆ†æå’Œè¡¥æ•‘ã€‚ </li><li>æ— ç›‘ç£èŠ‚ç‚¹å¼‚å¸¸æ£€æµ‹åŸºå‡†(<strong>UNOD</strong>): å›¾ç¦»ç¾¤ç‚¹æ£€æµ‹  Benchmarking Node Outlier Detection on Graphs, NeuraIPS2022</li></ol><h1 id="Deal-With-Anomaly"><a href="#Deal-With-Anomaly" class="headerlink" title="Deal With Anomaly"></a>Deal With Anomaly</h1><p><strong>å¼‚å¸¸å€¼çš„å±å®³ï¼š</strong></p><ul><li>å¼‚å¸¸å€¼ä¸¥é‡å½±å“æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®ã€‚è¿™äº›å¯èƒ½åœ¨ç»Ÿè®¡å­¦ä¸Šç»™å‡ºé”™è¯¯çš„ç»“æœã€‚</li><li>å®ƒå¢åŠ äº†è¯¯å·®æ–¹å·®å¹¶é™ä½äº†ç»Ÿè®¡æ£€éªŒçš„åŠŸæ•ˆã€‚</li><li>å¦‚æœå¼‚å¸¸å€¼æ˜¯ééšæœºåˆ†å¸ƒçš„ï¼Œåˆ™å®ƒä»¬ä¼šé™ä½æ­£æ€æ€§ã€‚</li><li>å¤§å¤šæ•°æœºå™¨å­¦ä¹ ç®—æ³•åœ¨å­˜åœ¨å¼‚å¸¸å€¼çš„æƒ…å†µä¸‹ä¸èƒ½å¾ˆå¥½åœ°å·¥ä½œã€‚å› æ­¤ï¼Œæœ€å¥½æ£€æµ‹å¹¶åˆ é™¤å¼‚å¸¸å€¼ã€‚</li><li>å®ƒä»¬è¿˜ä¼šå½±å“å›å½’ã€æ–¹å·®åˆ†æå’Œå…¶ä»–ç»Ÿè®¡æ¨¡å‹å‡è®¾çš„åŸºæœ¬å‡è®¾ã€‚</li></ul><p>ç”±äºæ‰€æœ‰è¿™äº›åŸå› ï¼Œæˆ‘ä»¬å¿…é¡»å°å¿ƒå¼‚å¸¸å€¼ï¼Œå¹¶åœ¨æ„å»ºç»Ÿè®¡&#x2F;æœºå™¨å­¦ä¹ æ¨¡å‹ä¹‹å‰å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚æœ‰ä¸€äº›æŠ€æœ¯ç”¨äºå¤„ç†å¼‚å¸¸å€¼ã€‚</p><ol><li><p>åˆ é™¤è§‚æµ‹å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">drop_outliers</span>(<span class="hljs-params">df, field_name</span>):<br>    iqr = <span class="hljs-number">1.5</span> * (np.percentile(df[field_name], <span class="hljs-number">75</span>) - np.percentile(df[field_name], <span class="hljs-number">25</span>))<br>    df.drop(df[df[field_name] &gt; (iqr + np.percentile(df[field_name], <span class="hljs-number">75</span>))].index, inplace=<span class="hljs-literal">True</span>)<br>    df.drop(df[df[field_name] &lt; (np.percentile(df[field_name], <span class="hljs-number">25</span>) - iqr)].index, inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure></li><li><p>è½¬å˜å˜é‡ã€‚</p><ol><li>Scalling</li><li>Log transformation</li><li>Cube Root Normalization</li><li>Box-Cox transformation</li></ol><p>è¿™äº›æŠ€æœ¯å°†æ•°æ®é›†ä¸­çš„å€¼è½¬æ¢ä¸ºè¾ƒå°çš„å€¼ã€‚å¦‚æœæ•°æ®å…·æœ‰è®¸å¤šæå€¼æˆ–åæ–œï¼Œåˆ™æ­¤æ–¹æ³•æœ‰åŠ©äºä½¿æ•°æ®æ­£å¸¸ã€‚ä½†è¿™äº›æŠ€æœ¯å¹¶ä¸æ€»æ˜¯èƒ½ç»™ä½ æœ€å¥½çš„ç»“æœã€‚è¿™äº›æ–¹æ³•ä¸ä¼šä¸¢å¤±æ•°æ®ã€‚ åœ¨æ‰€æœ‰è¿™äº›æ–¹æ³•ä¸­ï¼ŒBox-Coxå˜æ¢ç»™å‡ºäº†æœ€å¥½çš„ç»“æœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#Scalling å½’ä¸€åŒ–</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> preprocessing<br>scaler = preprocessing.StandardScaler()<br>train[<span class="hljs-string">&#x27;Cost of Living Index&#x27;</span>] = scaler.fit_transform(train[<span class="hljs-string">&#x27;Cost of Living Index&#x27;</span>].values.reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))<br><br><span class="hljs-comment">#Log transformation</span><br>train[<span class="hljs-string">&#x27;Cost of Living Index&#x27;</span>] = np.log(train[<span class="hljs-string">&#x27;Cost of Living Index&#x27;</span>])<br><br><span class="hljs-comment">#Cube Root Normalization</span><br>train[<span class="hljs-string">&#x27;Age&#x27;</span>] = (train[<span class="hljs-string">&#x27;Age&#x27;</span>]**(<span class="hljs-number">1</span>/<span class="hljs-number">3</span>))<br><br><span class="hljs-comment">#Box-Cox transformation</span><br><span class="hljs-keyword">import</span> scipy<br>train[<span class="hljs-string">&#x27;Rent Index&#x27;</span>],fitted_lambda= scipy.stats.boxcox(train[<span class="hljs-string">&#x27;Rent Index&#x27;</span>] ,lmbda=<span class="hljs-literal">None</span>)<br></code></pre></td></tr></table></figure></li><li><p>å½’å› ã€‚<br>ä¸ç¼ºå¤±å€¼çš„æ’è¡¥ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ’è¡¥å¼‚å¸¸å€¼ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ­¤æ–¹æ³•ä¸­ä½¿ç”¨å‡å€¼ã€ä¸­ä½æ•°ã€é›¶å€¼ã€‚ç”±äºæˆ‘ä»¬æ’è¡¥ï¼Œå› æ­¤ä¸ä¼šä¸¢å¤±æ•°æ®ã€‚æ­¤å¤„çš„ä¸­ä½æ•°æ˜¯åˆé€‚çš„ï¼Œå› ä¸ºå®ƒä¸å—å¼‚å¸¸å€¼çš„å½±å“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">q1 = train[<span class="hljs-string">&#x27;Age&#x27;</span>].quantile(<span class="hljs-number">0.25</span>)<br>q3 = train[<span class="hljs-string">&#x27;Age&#x27;</span>].quantile(<span class="hljs-number">0.75</span>)<br>iqr = q3-q1<br>Lower_tail = q1 - <span class="hljs-number">1.5</span> * iqr<br>Upper_tail = q3 + <span class="hljs-number">1.5</span> * iqr<br>m = np.mean(train[<span class="hljs-string">&#x27;Age&#x27;</span>])<br><span class="hljs-comment">#med = np.median(train[&#x27;Age&#x27;])</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> train[<span class="hljs-string">&#x27;Age&#x27;</span>]:<br>    <span class="hljs-keyword">if</span> i &gt; Upper_tail <span class="hljs-keyword">or</span> i &lt; Lower_tail:<br>            train[<span class="hljs-string">&#x27;Age&#x27;</span>] = train[<span class="hljs-string">&#x27;Age&#x27;</span>].replace(i, m)<br>            <span class="hljs-comment">#train[&#x27;Age&#x27;] = train[&#x27;Age&#x27;].replace(i, med)</span><br>            <span class="hljs-comment">#train[&#x27;Age&#x27;] = train[&#x27;Age&#x27;].replace(i, 0)</span><br></code></pre></td></tr></table></figure></li><li><p>å•ç‹¬å¤„ç†.<br>å¦‚æœå¼‚å¸¸å€¼æ•°é‡å¾ˆå¤§ï¼Œæ•°æ®é›†å¾ˆå°ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ç»Ÿè®¡æ¨¡å‹ä¸­åˆ†åˆ«å¤„ç†å®ƒä»¬ã€‚å…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯å°†ä¸¤ä¸ªç»„è§†ä¸ºä¸¤ä¸ªä¸åŒçš„ç»„ï¼Œå¹¶ä¸ºä¸¤ä¸ªç»„æ„å»ºå•ç‹¬çš„æ¨¡å‹ï¼Œç„¶ååˆå¹¶è¾“å‡ºã€‚ä½†æ˜¯ï¼Œå½“æ•°æ®é›†å¾ˆå¤§æ—¶ï¼Œè¿™ç§æŠ€æœ¯å¾ˆç¹çã€‚</p></li></ol><h1 id="Lessons"><a href="#Lessons" class="headerlink" title="Lessons"></a>Lessons</h1><p>1.Perfect Density Models cannot Guarantee Anomly Detection</p><p>â€‹    lesson: </p><ul><li><p>The repersentational space matter</p></li><li><p>We want to apply density estimation in a meaningful space</p><ul><li>This is not the input image&#x2F;pixal space</li><li>We do not want to compute $PR[x \in V_x] &#x3D; \int_{x \in V}P(x)dx$</li></ul></li><li><p>We want to learn a good latent space Z such that images of similar contents(same objects, same label, etc) are close together</p></li><li><p>Then apply density estimation in that space</p></li></ul><p>2.å¯ä»¥ç”¨ç”»å›¾çš„æ–¹å¼ï¼Œæ˜¾æ€§çš„è¡¨ç¤ºå‡ºå¼‚å¸¸ç‚¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">Box_plots</span>(<span class="hljs-params">df</span>):<br>    plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>))<br>    plt.title(<span class="hljs-string">&quot;Box Plot&quot;</span>)<br>    sns.boxplot(df)<br>    plt.show()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hist_plots</span>(<span class="hljs-params">df</span>):<br>    plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>))<br>    plt.hist(df)<br>    plt.title(<span class="hljs-string">&quot;Histogram Plot&quot;</span>)<br>    plt.show()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">scatter_plots</span>(<span class="hljs-params">df1,df2</span>):<br>    fig, ax = plt.subplots(figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">4</span>))<br>    ax.scatter(df1,df2)<br>    ax.set_xlabel(<span class="hljs-string">&#x27;Age&#x27;</span>)<br>    ax.set_ylabel(<span class="hljs-string">&#x27;Fare&#x27;</span>)<br>    plt.title(<span class="hljs-string">&quot;Scatter Plot&quot;</span>)<br>    plt.show()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dist_plots</span>(<span class="hljs-params">df</span>):<br>    plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>))<br>    sns.distplot(df)<br>    plt.title(<span class="hljs-string">&quot;Distribution plot&quot;</span>)<br>    sns.despine()<br>    plt.show()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">qq_plots</span>(<span class="hljs-params">df</span>):<br>    plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>))<br>    qqplot(df,line=<span class="hljs-string">&#x27;s&#x27;</span>)<br>    plt.title(<span class="hljs-string">&quot;Normal QQPlot&quot;</span>)<br>    plt.show()<br></code></pre></td></tr></table></figure><ol start="3"><li></li></ol><ul><li>ä¸­ä½æ•°æ˜¯æ•°æ®å…·æœ‰å¼‚å¸¸å€¼æˆ–åæ–œæ—¶ä¸­å¿ƒè¶‹åŠ¿çš„æœ€ä½³åº¦é‡ã€‚</li><li>Winsorization æ–¹æ³•æˆ–ç™¾åˆ†ä½å°é¡¶æ˜¯æ¯”å…¶ä»–æ–¹æ³•æ›´å¥½çš„å¼‚å¸¸å€¼æ£€æµ‹æŠ€æœ¯ã€‚</li><li>ä¸­ä½æ•°æ’è¡¥å®Œå…¨æ¶ˆé™¤å¼‚å¸¸å€¼ã€‚</li></ul><blockquote><p>å‚è€ƒï¼š</p><ol><li><a href="https://github.com/XIANG64Young/anomaly-detection-resources#2-coursesseminarsvideos">https://github.com/XIANG64Young/anomaly-detection-resources#2-coursesseminarsvideos</a></li></ol></blockquote><blockquote><p>è®ºæ–‡å‚è€ƒï¼š</p><ol><li>Radarï¼šResidual analysis for anomaly detection in attributed networks.  IJCAI,  2017. </li><li>ANOMALOUSï¼š A joint modeling approach for anomaly detection on attributed networks.  IJCAI, 2018.</li><li>LOF: identifying density-based local outliers.  SIGMOD, 2000</li><li>DAGMM:  Deep Autoencoding Gaussian Mixture Model for Unsupervised Anomaly Detection. ICLR, 2018</li><li>DBSCAN: A Density-Based Algorithm for Discovering Clusters in Large Spatial Databases with Noise. KDD 1996</li><li>SVDD: Support Vector Data Description. Machine Learning, 2004</li><li>Deep SVDD: Deep Support Vector Data Description. ICML 2018</li><li>THOC: Timeseries Anomaly Detection using Temporal Hierarchical One-Class Network. NeurIPS 2020</li><li>SCAN:  Scan: a structural clustering algorithm for networks. KDD, 2007</li><li>Fraudarï¼šBounding graph fraud in the face of camouflage. KDD, 2016.</li><li>SPEAGLE: Collective Opinion Spam Detection: Bridging Review Networks and Metadata. KDD, 2015</li><li>OC-SVM: Support Vector Method for Novelty Detection.  NIPS , 1999</li><li>InterFusion: Multivariate Time Series Anomaly Detection and InterPretation using Hierarchical Inter-Metirc and Temporal Embedding. KDD, 2021</li><li>LSTM-VAE: Improved Variational Autoencoders for Text Modeling using Dilated Convolutions. Arxiv, 2017</li><li>OmniAbnormaly: Robust Anomaly Detection for Multivariate Time Series through Stochastic Recurrent Neural Network. KDD, 2019</li><li>Donut: Unsupervised Anomaly Detection via Variational Auto-Encoder for Seasonal KPIs in Web Applications. WWW, 2018</li><li>Buzz: Unsupervised Anomaly Detection for Intricate KPIs via Adversarial Training of VAE. INFOCOM, 2019</li><li>Bagel: Robust and Unsupervised KPI Anomaly Detection Based on Conditional Variational Autoencoder. IPCCC 2018</li><li>Dominant:ã€€Deep Anomaly Detection on Attributed Networks. SDM, 2019</li><li>Anomalydae: Dual autoencoder for anomaly detection on attributed networks. ICASSP, 2000</li><li>GUIDE: Higher-order Structure Based Anomaly Detection on Attributed Networks. BIG DATA, 2021</li><li>OCGNN: One-class graph neural networks for anomaly detection in attributed networks. Neural computing and applications, 2021</li><li>PAMFUL: A Synergistic Approach for Graph Anomaly Detection With Pattern Mining and Feature Learning.IEEE Transactions on Neural Networks and Learning Systems, 2021</li><li>BeatGAN: Anomalous Rhythm Detection using Adversarially Generated Time Series. IJCAI, 2019</li><li>GAAN: Generative Adversarial Attributed Network Anomaly Detection. CIKM, 2020 </li><li>ADOA: Anomaly Detection with Partially Observed Anomlies. WWW, 2018</li><li>UNODï¼š Benchmarking Node Outlier Detection on Graphs, NeurIPS, 2022 </li><li>Exathlon: A Benchmark for Explainable Anomaly Detection over Time Series, Proc. VLDB Endow. ,2020<br>Time Series, Proc. VLDB Endow. ,2020</li></ol></blockquote>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python Note</title>
    <link href="/2022/07/21/Python/PythonNote/"/>
    <url>/2022/07/21/Python/PythonNote/</url>
    
    <content type="html"><![CDATA[<h3 id="Mapä¸lambda"><a href="#Mapä¸lambda" class="headerlink" title="Mapä¸lambda"></a>Mapä¸lambda</h3><p>Python é€šè¿‡è®¸å¤šå†…ç½®åŠŸèƒ½æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹ã€‚æœ€æœ‰ç”¨çš„map()åŠŸèƒ½ä¹‹ä¸€æ˜¯å‡½æ•°â€”â€”å°¤å…¶æ˜¯ä¸lambdaå‡½æ•°ç»“åˆä½¿ç”¨æ—¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] <br>y = <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x : x + <span class="hljs-number">1</span>, x)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(y)<br>[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>map()</code>å°†ä¸€ä¸ªç®€å•çš„ <code>lambda</code> å‡½æ•°åº”ç”¨äº<code>x</code>. å®ƒè¿”å›ä¸€ä¸ªæ˜ å°„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥è½¬æ¢ä¸ºä¸€äº›å¯è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚åˆ—è¡¨æˆ–å…ƒç»„ã€‚</p><h3 id="If-else"><a href="#If-else" class="headerlink" title="If-else"></a>If-else</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">age = <span class="hljs-number">18</span><br>valid = <span class="hljs-string">&quot;You&#x27;re an adult&quot;</span><br>invalid = <span class="hljs-string">&quot;You&#x27;re NOT an adult&quot;</span><br><span class="hljs-built_in">print</span>(valid) <span class="hljs-keyword">if</span> age &gt;= <span class="hljs-number">18</span> <span class="hljs-keyword">else</span> <span class="hljs-built_in">print</span>(invalid)<br></code></pre></td></tr></table></figure><h3 id="æ ¹æ®ç°æœ‰åˆ—è¡¨åˆ›å»ºæ–°åˆ—è¡¨"><a href="#æ ¹æ®ç°æœ‰åˆ—è¡¨åˆ›å»ºæ–°åˆ—è¡¨" class="headerlink" title="æ ¹æ®ç°æœ‰åˆ—è¡¨åˆ›å»ºæ–°åˆ—è¡¨"></a><strong>æ ¹æ®ç°æœ‰åˆ—è¡¨åˆ›å»ºæ–°åˆ—è¡¨</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">words = [<span class="hljs-string">&#x27;united states&#x27;</span>, <span class="hljs-string">&#x27;brazil&#x27;</span>, <span class="hljs-string">&#x27;united kingdom&#x27;</span>]<br><br>capitalized = [word.title() <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> words]<br><span class="hljs-meta">&gt;&gt;&gt; </span>capitalized<br>[<span class="hljs-string">&#x27;United States&#x27;</span>, <span class="hljs-string">&#x27;Brazil&#x27;</span>, <span class="hljs-string">&#x27;United Kingdom&#x27;</span>]<br></code></pre></td></tr></table></figure><p>Grammarï¼š<code>[expression for item in list]</code><br>ä¸Šé¢çš„ä»£ç ç¡®å®çœ‹èµ·æ¥æ›´å¥½ï¼ä½†æ˜¯è¦è®°ä½ï¼Œæˆ‘ä»¬åº”è¯¥ä¿æŒä»£ç å¯¹ç”¨æˆ·å‹å¥½ï¼Œå› æ­¤ä¸æ¨èåœ¨ä¸€è¡Œä»£ç ä¸­ç¼–å†™å¾ˆé•¿çš„åˆ—è¡¨æ¨å¯¼å¼ã€‚</p><h3 id="å­—å…¸æ¨å¯¼"><a href="#å­—å…¸æ¨å¯¼" class="headerlink" title="å­—å…¸æ¨å¯¼"></a><strong>å­—å…¸æ¨å¯¼</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">dict_numbers = &#123;x:x*x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">6</span>) &#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>dict_numbers<br>&#123;<span class="hljs-number">1</span>: <span class="hljs-number">1</span>, <span class="hljs-number">2</span>: <span class="hljs-number">4</span>, <span class="hljs-number">3</span>: <span class="hljs-number">9</span>, <span class="hljs-number">4</span>: <span class="hljs-number">16</span>, <span class="hljs-number">5</span>:<span class="hljs-number">25</span>&#125;<br></code></pre></td></tr></table></figure><p>Grammarï¼š<code>&#123;key: value for key, value in iterable&#125;</code></p><h3 id="åˆå¹¶è¯å…¸"><a href="#åˆå¹¶è¯å…¸" class="headerlink" title="åˆå¹¶è¯å…¸"></a><strong>åˆå¹¶è¯å…¸</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">dict_1 = &#123;<span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-number">2</span>&#125;<br>dict_2 = &#123;<span class="hljs-string">&#x27;c&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;d&#x27;</span>: <span class="hljs-number">4</span>&#125;<br>merged_dict = &#123;**dict_1, **dict_2&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>merged_dict<br>&#123;<span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;c&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;d&#x27;</span>: <span class="hljs-number">4</span>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨æˆ‘ä»¬å°† <code>**</code> è¿ç®—ç¬¦åº”ç”¨äºå­—å…¸åï¼Œä¸¤è€…éƒ½å°†æ‰©å±•å…¶å†…å®¹å¹¶åˆå¹¶ä»¥åˆ›å»ºä¸€ä¸ªæ–°å­—å…¸ã€‚</p><h3 id="ä»åˆ—è¡¨ä¸­è¿‡æ»¤å€¼"><a href="#ä»åˆ—è¡¨ä¸­è¿‡æ»¤å€¼" class="headerlink" title="ä»åˆ—è¡¨ä¸­è¿‡æ»¤å€¼"></a><strong>ä»åˆ—è¡¨ä¸­è¿‡æ»¤å€¼</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">my_list = [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x%<span class="hljs-number">2</span> == <span class="hljs-number">0</span>, my_list ))<br>[<span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>]<br></code></pre></td></tr></table></figure><p>Grammarï¼š<code>filter(function, iterable)</code></p><h3 id="æŒ‰é”®ã€æŒ‰å€¼æ’åºå­—å…¸"><a href="#æŒ‰é”®ã€æŒ‰å€¼æ’åºå­—å…¸" class="headerlink" title="æŒ‰é”®ã€æŒ‰å€¼æ’åºå­—å…¸"></a><strong>æŒ‰é”®ã€æŒ‰å€¼æ’åºå­—å…¸</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">product_prices = &#123;<span class="hljs-string">&#x27;Z&#x27;</span>: <span class="hljs-number">9.99</span>, <span class="hljs-string">&#x27;Y&#x27;</span>: <span class="hljs-number">9.99</span>, <span class="hljs-string">&#x27;X&#x27;</span>: <span class="hljs-number">9.99</span>&#125;<br>population = &#123;<span class="hljs-string">&#x27;USA&#x27;</span>:<span class="hljs-number">329.5</span>, <span class="hljs-string">&#x27;Brazil&#x27;</span>: <span class="hljs-number">212.6</span>, <span class="hljs-string">&#x27;UK&#x27;</span>: <span class="hljs-number">67.2</span>&#125;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sorted</span>(population.items(), key=<span class="hljs-keyword">lambda</span> x:x[<span class="hljs-number">1</span>])  <span class="hljs-comment">#by value to list</span><br>[(<span class="hljs-string">&#x27;UK&#x27;</span>, <span class="hljs-number">67.2</span>), (<span class="hljs-string">&#x27;Brazil&#x27;</span>, <span class="hljs-number">212.6</span>), (<span class="hljs-string">&#x27;USA&#x27;</span>, <span class="hljs-number">329.5</span>)]<br>population = &#123;<span class="hljs-string">&#x27;USA&#x27;</span>:<span class="hljs-number">329.5</span>, <span class="hljs-string">&#x27;Brazil&#x27;</span>: <span class="hljs-number">212.6</span>, <span class="hljs-string">&#x27;UK&#x27;</span>: <span class="hljs-number">67.2</span>&#125;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>&#123;k:v <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(population.items(), key=<span class="hljs-keyword">lambda</span> x:x[<span class="hljs-number">1</span>])&#125; <span class="hljs-comment">#by value to dict</span><br>&#123;<span class="hljs-string">&#x27;UK&#x27;</span>: <span class="hljs-number">67.2</span>, <span class="hljs-string">&#x27;Brazil&#x27;</span>: <span class="hljs-number">212.6</span>, <span class="hljs-string">&#x27;USA&#x27;</span>: <span class="hljs-number">329.5</span>&#125;<br><br>&gt;&gt;&#123;key:product_prices[key] <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(product_prices.keys())&#125; <span class="hljs-comment"># by key</span><br>&#123;<span class="hljs-string">&#x27;X&#x27;</span>: <span class="hljs-number">9.99</span>, <span class="hljs-string">&#x27;Y&#x27;</span>: <span class="hljs-number">9.99</span>, <span class="hljs-string">&#x27;Z&#x27;</span>: <span class="hljs-number">9.99</span>&#125;<br></code></pre></td></tr></table></figure><p>Grammarï¼š<code>sorted(iterable, key=None, reverse=False)</code></p><h3 id="å¯†ç ï¼ˆè¾“å…¥ä¿¡æ¯ï¼‰ä¸å¯è§"><a href="#å¯†ç ï¼ˆè¾“å…¥ä¿¡æ¯ï¼‰ä¸å¯è§" class="headerlink" title="å¯†ç ï¼ˆè¾“å…¥ä¿¡æ¯ï¼‰ä¸å¯è§"></a><strong>å¯†ç ï¼ˆè¾“å…¥ä¿¡æ¯ï¼‰ä¸å¯è§</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> getpass<br>pwd=getpass.getpass(<span class="hljs-string">&quot;è¯·è¾“å…¥å¯†ç :&quot;</span>)<br><span class="hljs-built_in">print</span>(pwd)<br></code></pre></td></tr></table></figure><h3 id="è¿›åº¦æ¡"><a href="#è¿›åº¦æ¡" class="headerlink" title="è¿›åº¦æ¡"></a><strong>è¿›åº¦æ¡</strong></h3><p>æˆ–è€…åˆ©ç”¨printçš„ flush &#x3D; True å‚æ•°å®ç°æ›´æ–°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>    sys.stdout.write(<span class="hljs-string">&#x27;#&#x27;</span>)<br>    sys.stdout.flush()<br>    time.sleep(<span class="hljs-number">0.5</span>)<br></code></pre></td></tr></table></figure><h3 id="ä¸‰å…ƒè¿ç®—"><a href="#ä¸‰å…ƒè¿ç®—" class="headerlink" title="ä¸‰å…ƒè¿ç®—"></a><strong>ä¸‰å…ƒè¿ç®—</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">d=a <span class="hljs-keyword">if</span> a&gt;b <span class="hljs-keyword">else</span> c<br></code></pre></td></tr></table></figure><h3 id="è§£ç ä¸ç¼–ç "><a href="#è§£ç ä¸ç¼–ç " class="headerlink" title="è§£ç ä¸ç¼–ç "></a><strong>è§£ç ä¸ç¼–ç </strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">msg=<span class="hljs-string">&quot;æˆ‘çˆ±åŒ—äº¬å¤©å®‰é—¨&quot;</span><br><br><span class="hljs-built_in">print</span>(msg)<br><span class="hljs-built_in">print</span>(msg.encode(encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)) <span class="hljs-comment"># strè½¬bytes,ç¼–ç </span><br><span class="hljs-built_in">print</span>(msg.encode(encoding=<span class="hljs-string">&quot;utf-8&quot;</span>).decode(encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)) <span class="hljs-comment"># bytesè½¬str,è§£ç </span><br></code></pre></td></tr></table></figure><p>æ˜ å°„å‡½æ•° map(function, data)ç”¨ä½œå˜æ¢</p><p>è¿‡æ»¤å‡½æ•° filter(function, data)ç”¨ä½œæ•°æ®ç­›é€‰</p><p>ç”Ÿæˆå™¨ yield ç›¸å½“äºprintçš„å˜ç§ å¸¦æœ‰ yield çš„å‡½æ•°åœ¨ Python ä¸­è¢«ç§°ä¹‹ä¸º generatorï¼ˆç”Ÿæˆå™¨ï¼‰</p><h3 id="æ­£åˆ™åŒ–åŒ¹é…"><a href="#æ­£åˆ™åŒ–åŒ¹é…" class="headerlink" title="æ­£åˆ™åŒ–åŒ¹é…"></a><strong>æ­£åˆ™åŒ–åŒ¹é…</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br>email = <span class="hljs-string">&quot;john@google.com elise@python.com&quot;</span><br>pattern = <span class="hljs-string">&quot;(\w+)@\w+.com&quot;</span><br>ans = re.findall(pattern, email)<br><span class="hljs-built_in">print</span>(ans)<br></code></pre></td></tr></table></figure><h3 id="å¯ä»¥å®Œç¾æ­é…yield-å†™ä¸€äº›æ¯”è¾ƒå¥½ç©çš„ä¸œè¥¿"><a href="#å¯ä»¥å®Œç¾æ­é…yield-å†™ä¸€äº›æ¯”è¾ƒå¥½ç©çš„ä¸œè¥¿" class="headerlink" title="å¯ä»¥å®Œç¾æ­é…yield  å†™ä¸€äº›æ¯”è¾ƒå¥½ç©çš„ä¸œè¥¿"></a><strong>å¯ä»¥å®Œç¾æ­é…yield  å†™ä¸€äº›æ¯”è¾ƒå¥½ç©çš„ä¸œè¥¿</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br><span class="hljs-built_in">print</span>(*generate(n),sep=<span class="hljs-string">&#x27; &#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="å‹ç¼©å’Œè§£å‹å­—ç¬¦"><a href="#å‹ç¼©å’Œè§£å‹å­—ç¬¦" class="headerlink" title="å‹ç¼©å’Œè§£å‹å­—ç¬¦"></a><strong>å‹ç¼©å’Œè§£å‹å­—ç¬¦</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> zlib<br><br>t = zlib.compress(<span class="hljs-string">b&#x27;hello world!hello world!hello world!hello world!&#x27;</span>)<br><span class="hljs-built_in">print</span>(t)<br><span class="hljs-built_in">print</span>(zlib.decompress(t))<br></code></pre></td></tr></table></figure><h3 id="åˆ›å»ºå¹¶è¯»å†™æ–‡ä»¶"><a href="#åˆ›å»ºå¹¶è¯»å†™æ–‡ä»¶" class="headerlink" title="åˆ›å»ºå¹¶è¯»å†™æ–‡ä»¶"></a><strong>åˆ›å»ºå¹¶è¯»å†™æ–‡ä»¶</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><br>os.makedirs(os.path.join(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;data&#x27;</span>), exist_ok=<span class="hljs-literal">True</span>)<br>data_file = os.path.join(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-string">&#x27;house_tiny.csv&#x27;</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(data_file, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    f.write(<span class="hljs-string">&#x27;NumRooms,Alley,Price\n&#x27;</span>)  <span class="hljs-comment"># åˆ—å</span><br>    f.write(<span class="hljs-string">&#x27;NA,Pave,127500\n&#x27;</span>)  <span class="hljs-comment"># æ¯è¡Œè¡¨ç¤ºä¸€ä¸ªæ•°æ®æ ·æœ¬</span><br>    f.write(<span class="hljs-string">&#x27;2,NA,106000\n&#x27;</span>)<br>    f.write(<span class="hljs-string">&#x27;4,NA,178100\n&#x27;</span>)<br>    f.write(<span class="hljs-string">&#x27;NA,NA,140000\n&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a><strong>Notes</strong></h3><p>æ‰“å°listä¸­çš„å…ƒç´ å¯ä»¥ç›´æ¥ print(*list)è°ƒç”¨ æŒ‡é’ˆ ä½¿æ•°æ®å˜æˆä¸€ä¸ªå‚æ•°é›†(Cçš„è§£é‡Š)</p><p>pythonçš„è§£é‡Šæ˜¯ $*$æ˜¯å°†æ‰€ä»¥å‚æ•°ä»¥<strong>å…ƒç»„(tuple)<strong>çš„å½¢å¼å¯¼å…¥  $</strong>$å°†å‚æ•°ä»¥å­—å…¸çš„å½¢å¼å¯¼å…¥<br>ä¸€èˆ¬$*$æ˜¯å¼•å…¥éå…³é”®è¯å‚æ•°ï¼Œ$</strong>$æ˜¯å…³é”®è¯å‚æ•°</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”DBSCAN</title>
    <link href="/2022/07/01/Algorithms/DBSCAN/"/>
    <url>/2022/07/01/Algorithms/DBSCAN/</url>
    
    <content type="html"><![CDATA[<p>Density-Based Spatial Clustering of Applications with Noise</p><p>è¯¥æŠ€æœ¯åŸºäº<a href="https://link.zhihu.com/?target=https://en.wikipedia.org/wiki/DBSCAN">DBSCANèšç±»æ–¹æ³•</a>ï¼ŒDBSCANæ˜¯ä¸€ç»´æˆ–å¤šç»´ç‰¹å¾ç©ºé—´ä¸­çš„éå‚æ•°ï¼ŒåŸºäºå¯†åº¦çš„ç¦»ç¾¤å€¼æ£€æµ‹æ–¹æ³•ã€‚</p><p>åœ¨DBSCANèšç±»æŠ€æœ¯ä¸­ï¼Œæ‰€æœ‰æ•°æ®ç‚¹éƒ½è¢«å®šä¹‰ä¸ºæ ¸å¿ƒç‚¹ï¼ˆCore Pointsï¼‰ã€è¾¹ç•Œç‚¹ï¼ˆBorder Pointsï¼‰æˆ–å™ªå£°ç‚¹ï¼ˆNoise Pointsï¼‰ã€‚å®ƒå°†æ•°æ®é›†åˆ’åˆ†ä¸ºé«˜å¯†åº¦åŒºåŸŸçš„å­ç»„ï¼Œå¹¶å°†é«˜å¯†åº¦åŒºåŸŸèšç±»æ ‡è¯†ä¸ºå¼‚å¸¸å€¼ã€‚æ­¤å¤„ï¼Œèšç±» -1 è¡¨ç¤ºèšç±»åŒ…å«å¼‚å¸¸å€¼ï¼Œå…¶ä½™èšç±»æ²¡æœ‰å¼‚å¸¸å€¼ã€‚æ­¤ approch ç±»ä¼¼äº K å‡å€¼èšç±»ã€‚DBSCAN éœ€è¦ä¸¤ä¸ªå‚æ•°ã€‚DBSCAN ä¸ºå¤šå˜é‡å¼‚å¸¸å€¼æ£€æµ‹æä¾›äº†æœ€ä½³ç»“æœã€‚</p><ol><li><p>epsilonï¼šä¸€ä¸ªè·ç¦»å‚æ•°ï¼Œç”¨äºå®šä¹‰æœç´¢é™„è¿‘é‚»å±…çš„åŠå¾„ã€‚</p></li><li><p>minPts:  å½¢æˆé›†ç¾¤æ‰€éœ€çš„æœ€ä½ç‚¹æ•°ã€‚</p></li></ol><p>ä½¿ç”¨ epsilon å’Œ minPtsï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªæ•°æ®ç‚¹åˆ†ç±»ä¸ºï¼š</p><ul><li>æ ¸å¿ƒç‚¹æ˜¯åœ¨è·ç¦»â„‡å†…è‡³å°‘å…·æœ‰æœ€å°åŒ…å«ç‚¹æ•°ï¼ˆminPTsï¼‰çš„æ•°æ®ç‚¹ï¼›</li><li>è¾¹ç•Œç‚¹æ˜¯æ ¸å¿ƒç‚¹çš„è·ç¦»â„‡å†…é‚»è¿‘ç‚¹ï¼Œä½†åŒ…å«çš„ç‚¹æ•°å°äºæœ€å°åŒ…å«ç‚¹æ•°ï¼ˆminPTsï¼‰ï¼›</li><li>æ‰€æœ‰çš„å…¶ä»–æ•°æ®ç‚¹éƒ½æ˜¯å™ªå£°ç‚¹ï¼Œä¹Ÿè¢«æ ‡è¯†ä¸ºå¼‚å¸¸å€¼ï¼›</li></ul><p>ä»è€Œï¼Œå¼‚å¸¸æ£€æµ‹å–å†³äºæ‰€è¦æ±‚çš„æœ€å°åŒ…å«ç‚¹æ•°ã€è·ç¦»â„‡å’Œæ‰€é€‰æ‹©çš„è·ç¦»åº¦é‡ï¼Œæ¯”å¦‚<a href="https://www.zhihu.com/search?q=%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:644680558%7D">æ¬§å‡ é‡Œå¾—</a>æˆ–æ›¼å“ˆé¡¿è·ç¦»ã€‚è¯¥æŠ€æœ¯æ˜¯ä½¿ç”¨KNIMEå·¥ä½œæµä¸­çš„<a href="https://www.zhihu.com/search?q=DBSCAN%E8%8A%82%E7%82%B9&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:644680558%7D">DBSCANèŠ‚ç‚¹</a>å®ç°çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> DBSCAN<br>train = pd.read_csv(<span class="hljs-string">&#x27;/input/titanic/train.csv&#x27;</span>)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">DB_outliers</span>(<span class="hljs-params">df</span>):<br>    outlier_detection = DBSCAN(eps = <span class="hljs-number">2</span>, metric=<span class="hljs-string">&#x27;euclidean&#x27;</span>, min_samples = <span class="hljs-number">5</span>)<br>    clusters = outlier_detection.fit_predict(df.values.reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))<br>    data = pd.DataFrame()<br>    data[<span class="hljs-string">&#x27;cluster&#x27;</span>] = clusters<br>    <span class="hljs-built_in">print</span>(data[<span class="hljs-string">&#x27;cluster&#x27;</span>].value_counts().sort_values(ascending=<span class="hljs-literal">False</span>))<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”Drainç®—æ³•</title>
    <link href="/2022/07/01/Algorithms/Drain%E7%AE%97%E6%B3%95/"/>
    <url>/2022/07/01/Algorithms/Drain%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>è®ºæ–‡<br>ã€ŠDrain: An Online Log Parsing Approach with Fixed Depth Treeã€‹</p><h2 id="1-ç®—æ³•çš„ä½œç”¨"><a href="#1-ç®—æ³•çš„ä½œç”¨" class="headerlink" title="1 ç®—æ³•çš„ä½œç”¨"></a>1 ç®—æ³•çš„ä½œç”¨</h2><p>â€ƒâ€ƒDrainæ˜¯ä¸€ç§åŸºäºå›ºå®šæ·±åº¦æ ‘çš„åœ¨çº¿æ—¥å¿—è§£æï¼ˆæ—¥å¿—è§£æçš„ç›®æ ‡æ˜¯å°†åŸå§‹æ—¥å¿—ä¿¡æ¯è½¬æ¢ä¸ºç»“æ„åŒ–çš„æ—¥å¿—æ¶ˆæ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç»“æ„åŒ–çš„æ—¥å¿—åˆ†ä¸ºå¸¸é‡éƒ¨åˆ†ä¾‹å¦‚srcã€destå’Œå˜é‡éƒ¨åˆ†ä¾‹å¦‚blk_3587ï¼‰æ–¹æ³•ã€‚å½“æ–°çš„åŸå§‹æ—¥å¿—æ¶ˆæ¯åˆ°è¾¾æ—¶ï¼ŒDrainå°†æ ¹æ®é¢†åŸŸçŸ¥è¯†é€šè¿‡ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹å…¶è¿›è¡Œé¢„å¤„ç†ã€‚ç„¶åï¼ŒDrainæŒ‰ç…§æ ‘å†…éƒ¨èŠ‚ç‚¹ä¸­ç¼–ç çš„ç‰¹æ®Šè®¾è®¡è§„åˆ™æœç´¢æ—¥å¿—ç»„ï¼ˆå³æ ‘çš„å¶å­èŠ‚ç‚¹ï¼‰ã€‚å¦‚æœæ‰¾åˆ°åˆé€‚çš„æ—¥å¿—ç»„ï¼Œåˆ™æ—¥å¿—æ¶ˆæ¯å°†ä¸å­˜å‚¨åœ¨è¯¥æ—¥å¿—ç»„ä¸­çš„æ—¥å¿—äº‹ä»¶ç›¸åŒ¹é…ã€‚å¦åˆ™ï¼Œå°†æ ¹æ®æ—¥å¿—ä¿¡æ¯åˆ›å»ºæ–°çš„æ—¥å¿—ç»„</p><p><img src="/src/image-20220404152753608-165694028143163.png" alt="image-20220404152753608"></p><p>æœ¬è´¨ä¸Šæ¥è®²ï¼ŒDrainå°±æ˜¯å°†ä¸åŒç±»å‹çš„æ—¥å¿—åŒºåˆ†å¼€æ¥ï¼Œè¿›è¡Œä¸€ä¸ªèšç±»</p><h2 id="2-ç®—æ³•åŸç†"><a href="#2-ç®—æ³•åŸç†" class="headerlink" title="2 ç®—æ³•åŸç†"></a>2 ç®—æ³•åŸç†</h2><h3 id="0-æ ‘ç»“æ„"><a href="#0-æ ‘ç»“æ„" class="headerlink" title="0 æ ‘ç»“æ„"></a>0 æ ‘ç»“æ„</h3><p>â€ƒâ€ƒå½“åŸå§‹æ—¥å¿—æ¶ˆæ¯åˆ°è¾¾æ—¶ï¼Œåœ¨çº¿æ—¥å¿—è§£æå™¨éœ€è¦ä¸ºå®ƒæœç´¢æœ€åˆé€‚çš„æ—¥å¿—ç»„ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„æ—¥å¿—ç»„ã€‚</p><p>â€ƒâ€ƒDrainçš„è§£ææ ‘æ ¼å¼å¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="/src/image-20220404152807697-165694028378266.png" alt="image-20220404152807697"></p><p>æœ€é¡¶å±‚æ˜¯è§£ææ ‘çš„<strong>æ ¹èŠ‚ç‚¹</strong><br>å…¶ä»–å±‚æ˜¯è§£ææ ‘çš„<strong>å†…éƒ¨èŠ‚ç‚¹</strong><br>æœ€åº•å±‚æ˜¯è§£ææ ‘çš„<strong>å¶å­èŠ‚ç‚¹</strong><br>æ ¹èŠ‚ç‚¹å’Œå†…éƒ¨èŠ‚ç‚¹ç¼–ç ä¸“é—¨è®¾è®¡çš„è§„åˆ™æ¥æŒ‡å¯¼æœç´¢è¿‡ç¨‹ï¼Œå®ƒä»¬ä¸å­˜å‚¨æ—¥å¿—ç»„</p><p>â€ƒâ€ƒå¶å­èŠ‚ç‚¹å­˜å‚¨ä¸€ä¸ªæ—¥å¿—ç»„åˆ—è¡¨ï¼Œæ¯ä¸ªæ—¥å¿—ç»„ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šæ—¥å¿—äº‹ä»¶å’Œæ—¥å¿—idã€‚æ—¥å¿—äº‹ä»¶æ˜¯æœ€å¥½åœ°æè¿°è¯¥ç»„ä¸­çš„æ—¥å¿—æ¶ˆæ¯çš„æ¨¡æ¿ï¼Œè¯¥ç»„ç”±æ—¥å¿—æ¶ˆæ¯çš„å¸¸é‡éƒ¨åˆ†ç»„æˆï¼›æ—¥å¿—idè®°å½•è¯¥ç»„æ—¥å¿—æ¶ˆæ¯çš„idã€‚</p><p>â€ƒâ€ƒè§£ææ ‘çš„ä¸€ä¸ªç‰¹æ®Šè®¾è®¡æ˜¯ï¼Œæ‰€æœ‰å¶èŠ‚ç‚¹çš„æ·±åº¦éƒ½æ˜¯ç›¸åŒçš„ï¼Œå¹¶ç”±ä¸€ä¸ªé¢„å®šä¹‰çš„å‚æ•°$depth$å›ºå®šï¼Œè¯¥å‚æ•°é™åˆ¶äº†æœç´¢è¿‡ç¨‹ä¸­èŠ‚ç‚¹Drainè®¿é—®çš„æ•°é‡ï¼Œæé«˜æœç´¢æ•ˆç‡ã€‚</p><p>â€ƒâ€ƒæ­¤å¤–ï¼Œä¸ºäº†é¿å…æ ‘æçˆ†ç‚¸ï¼Œä½¿ç”¨å‚æ•°$maxChild$æ¥é™åˆ¶ä¸€ä¸ªèŠ‚ç‚¹çš„æœ€å¤§å­èŠ‚ç‚¹æ•°.</p><p>â€ƒâ€ƒDrainå°†ç¬¬$n$å±‚èŠ‚ç‚¹å®šä¹‰ä¸ºæ·±åº¦ä¸º$n$çš„èŠ‚ç‚¹ï¼Œåç»­çš„ç®—æ³•æµç¨‹ä»¥ä¸Šå›¾ä¸ºå‚ç…§ã€‚</p><h3 id="1-ç®—æ³•ç¬¬ä¸€æ­¥ï¼šé€šè¿‡ä¸“ä¸šçŸ¥è¯†å¯¹æ¶ˆæ¯è¿›è¡Œé¢„å¤„ç†"><a href="#1-ç®—æ³•ç¬¬ä¸€æ­¥ï¼šé€šè¿‡ä¸“ä¸šçŸ¥è¯†å¯¹æ¶ˆæ¯è¿›è¡Œé¢„å¤„ç†" class="headerlink" title="1 ç®—æ³•ç¬¬ä¸€æ­¥ï¼šé€šè¿‡ä¸“ä¸šçŸ¥è¯†å¯¹æ¶ˆæ¯è¿›è¡Œé¢„å¤„ç†"></a>1 ç®—æ³•ç¬¬ä¸€æ­¥ï¼šé€šè¿‡ä¸“ä¸šçŸ¥è¯†å¯¹æ¶ˆæ¯è¿›è¡Œé¢„å¤„ç†</h3><p>â€ƒâ€ƒDrainå…è®¸ç”¨æˆ·æ ¹æ®è¡¨ç¤ºå¸¸ç”¨å˜é‡ï¼ˆå¦‚IPåœ°å€å’Œå—IDï¼‰çš„ä¸“ä¸šçŸ¥è¯†æä¾›ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç„¶åDrainä¼šä»åŸå§‹æ—¥å¿—æ¶ˆæ¯ä¸­åˆ é™¤è¿™äº›æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„tokenï¼ˆä¾‹å¦‚æœ€ä¸Šé¢å›¾ä¸­çš„å—IDä¼šè¢«blk_[0-9]+ç§»é™¤ï¼‰ã€‚ä¸€ä¸ªæ•°æ®é›†é€šå¸¸åªéœ€è¦å‡ ä¸ªè¿™æ ·çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><h3 id="2-ç®—æ³•ç¬¬äºŒæ­¥ï¼šé€šè¿‡æ—¥å¿—æ¶ˆæ¯é•¿åº¦è¿›è¡Œæœç´¢"><a href="#2-ç®—æ³•ç¬¬äºŒæ­¥ï¼šé€šè¿‡æ—¥å¿—æ¶ˆæ¯é•¿åº¦è¿›è¡Œæœç´¢" class="headerlink" title="2 ç®—æ³•ç¬¬äºŒæ­¥ï¼šé€šè¿‡æ—¥å¿—æ¶ˆæ¯é•¿åº¦è¿›è¡Œæœç´¢"></a>2 ç®—æ³•ç¬¬äºŒæ­¥ï¼šé€šè¿‡æ—¥å¿—æ¶ˆæ¯é•¿åº¦è¿›è¡Œæœç´¢</h3><p>â€ƒâ€ƒDrainä»å¸¦æœ‰é¢„å¤„ç†æ—¥å¿—æ¶ˆæ¯çš„è§£ææ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ã€‚è§£ææ ‘çš„ç¬¬1å±‚èŠ‚ç‚¹ä»¥æ—¥å¿—æ¶ˆæ¯çš„é•¿åº¦ï¼ˆtokençš„æ•°é‡ï¼‰åŒºåˆ†æ—¥å¿—ç»„ï¼ŒDrainæ ¹æ®é¢„å¤„ç†æ—¥å¿—æ¶ˆæ¯çš„æ—¥å¿—æ¶ˆæ¯é•¿åº¦é€‰æ‹©åˆ°ç¬¬1å±‚èŠ‚ç‚¹çš„è·¯å¾„ã€‚ï¼ˆåŸºäºå‡è®¾ï¼šå…·æœ‰ç›¸åŒæ—¥å¿—äº‹ä»¶çš„æ—¥å¿—æ¶ˆæ¯å¯èƒ½å…·æœ‰ç›¸åŒçš„æ—¥å¿—æ¶ˆæ¯é•¿åº¦ï¼‰</p><h3 id="3-ç®—æ³•ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡å‰é¢çš„tokensè¿›è¡Œæœç´¢"><a href="#3-ç®—æ³•ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡å‰é¢çš„tokensè¿›è¡Œæœç´¢" class="headerlink" title="3 ç®—æ³•ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡å‰é¢çš„tokensè¿›è¡Œæœç´¢"></a>3 ç®—æ³•ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡å‰é¢çš„tokensè¿›è¡Œæœç´¢</h3><p>â€ƒâ€ƒDrainä»æ­¥éª¤2ä¸­æœç´¢çš„ç¬¬1å±‚èŠ‚ç‚¹éå†åˆ°å¶èŠ‚ç‚¹ã€‚ï¼ˆæ­¤æ­¥éª¤åŸºäºè¿™æ ·ä¸€ä¸ªå‡è®¾ï¼šæ—¥å¿—æ¶ˆæ¯å¼€å§‹ä½ç½®çš„tokenæ›´æœ‰å¯èƒ½æ˜¯å¸¸é‡ï¼‰ã€‚</p><p>â€ƒâ€ƒDrainé€šè¿‡æ—¥å¿—æ¶ˆæ¯å¼€å§‹ä½ç½®ä¸­çš„tokené€‰æ‹©ä¸‹ä¸€ä¸ªå†…éƒ¨èŠ‚ç‚¹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸Šå›¾ä¸­èŠ‚ç‚¹Length&#x3D;4çš„æ—¥å¿—æ¶ˆæ¯Receive, Drainä»ç¬¬1å±‚èŠ‚ç‚¹Length&#x3D;4éå†åˆ°ç¬¬2å±‚èŠ‚ç‚¹Receiveï¼Œå› ä¸ºæ—¥å¿—æ¶ˆæ¯çš„ç¬¬ä¸€ä¸ªä½ç½®çš„tokenæ˜¯Receiveã€‚åœ¨è¿™ä¸ªå®ä¾‹ä¸‹ï¼Œå†…éƒ¨èŠ‚ç‚¹çš„æ•°é‡æ˜¯$depth-2$ï¼Œå› æ­¤æœ‰$depth-2$ä¸ªå±‚å°†æ—¥å¿—æ¶ˆæ¯çš„å‰$depthâˆ’2$ä¸ªtokenå½“åšæœç´¢è§„åˆ™ã€‚</p><p>â€ƒâ€ƒåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ—¥å¿—æ¶ˆæ¯å¯èƒ½ä»¥ä¸€ä¸ªå‚æ•°å¼€å§‹ï¼Œä¾‹å¦‚ï¼Œ120 bytes receivedã€‚è¿™ç±»æ—¥å¿—æ¶ˆæ¯å¯èƒ½å¯¼è‡´è§£ææ ‘ä¸­çš„åˆ†æ”¯çˆ†ç‚¸ï¼Œå› ä¸ºæ¯ä¸ªå‚æ•°å°†è¢«ç¼–ç åœ¨ä¸€ä¸ªå†…éƒ¨èŠ‚ç‚¹ä¸­ã€‚ä¸ºäº†é¿å…åˆ†æ”¯çˆ†ç‚¸ï¼Œåœ¨è¿™ä¸€æ­¥åªè€ƒè™‘ä¸åŒ…å«æ•°å­—çš„tokenã€‚</p><p>â€ƒâ€ƒå¦‚æœä¸€ä¸ªtokenåŒ…å«æ•°å­—ï¼Œå®ƒå°†åŒ¹é…ä¸€ä¸ªç‰¹æ®Šçš„å†…éƒ¨èŠ‚ç‚¹<em>ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸Šé¢çš„æ—¥å¿—æ¶ˆæ¯â€120 bytes receivedâ€ï¼ŒDrainå°†éå†åˆ°å†…éƒ¨èŠ‚ç‚¹</em>è€Œä¸æ˜¯120ã€‚æ­¤å¤–å‚æ•°$maxChild$é™åˆ¶äº†èŠ‚ç‚¹çš„æœ€å¤§å­èŠ‚ç‚¹æ•°ã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹å·²ç»æœ‰$maxChild$å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä»»ä½•ä¸åŒ¹é…çš„æ ‡è®°éƒ½å°†åœ¨å…¶æ‰€æœ‰å­èŠ‚ç‚¹ä¸­åŒ¹é…ç‰¹æ®Šçš„å†…éƒ¨èŠ‚ç‚¹ã€‚</p><h3 id="4-ç®—æ³•ç¬¬å››æ­¥ï¼šé€šè¿‡tokenç›¸ä¼¼åº¦æœç´¢"><a href="#4-ç®—æ³•ç¬¬å››æ­¥ï¼šé€šè¿‡tokenç›¸ä¼¼åº¦æœç´¢" class="headerlink" title="4 ç®—æ³•ç¬¬å››æ­¥ï¼šé€šè¿‡tokenç›¸ä¼¼åº¦æœç´¢"></a>4 ç®—æ³•ç¬¬å››æ­¥ï¼šé€šè¿‡tokenç›¸ä¼¼åº¦æœç´¢</h3><p>â€ƒâ€ƒåœ¨æ­¤æ­¥éª¤ä¹‹å‰ï¼ŒDrainå·²ç»éå†äº†ä¸€ä¸ªå¶èŠ‚ç‚¹ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæ—¥å¿—ç»„åˆ—è¡¨ã€‚è¿™äº›æ—¥å¿—ç»„ä¸­çš„æ—¥å¿—æ¶ˆæ¯éµå¾ªè·¯å¾„å†…éƒ¨èŠ‚ç‚¹ä¸­ç¼–ç çš„è§„åˆ™ã€‚ä¾‹å¦‚ï¼Œå›¾2ä¸­çš„æ—¥å¿—ç»„ä¸­æœ‰ä¸€ä¸ªæ—¥å¿—æ¶ˆæ¯åŒ…å«4ä¸ªä»¤ç‰Œï¼Œå¹¶ä»¥ä»¤ç‰ŒReceiveå¼€å§‹ã€‚</p><p>â€ƒâ€ƒåœ¨æ­¤æ­¥éª¤ä¸­ï¼ŒDrainä»æ—¥å¿—ç»„åˆ—è¡¨ä¸­é€‰æ‹©æœ€åˆé€‚çš„æ—¥å¿—ç»„ã€‚é€šè¿‡è®¡ç®—æ—¥å¿—æ¶ˆæ¯å’Œæ¯ä¸ªæ—¥å¿—ç»„çš„æ—¥å¿—äº‹ä»¶ä¹‹é—´çš„$simSeq$ç›¸ä¼¼æ€§ï¼š<br>$$<br>sinSeq&#x3D;\frac{\sum_{i&#x3D;1}^nequ(seq_1(i),seq_2(i))}{n}<br>$$<br>å…¶ä¸­$seq_1(i),seq_2(i)$åˆ†åˆ«ä»£è¡¨æ—¥å¿—æ¶ˆæ¯å’Œæ—¥å¿—äº‹ä»¶ï¼Œ$Seq(i)$ä¸ºåºåˆ—çš„ç¬¬$i$ä¸ªtoken;$N$ä¸ºåºåˆ—çš„æ—¥å¿—æ¶ˆæ¯é•¿åº¦ï¼Œ$equ$å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š<br>$$<br>equ(t_1,t_2)&#x3D;\left{\begin{array}{ll}<br>         1 &amp; {\text { if } t_1 &#x3D;&#x3D; t_2} \<br>        0 &amp; {\text { otherwise }}<br>        \end{array}\right.<br>$$<br>åœ¨æ‰¾åˆ°$simSeq$æœ€å¤§çš„æ—¥å¿—ç»„åï¼Œå°†å…¶ä¸é¢„å®šä¹‰çš„ç›¸ä¼¼åº¦é˜ˆå€¼$st$è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœ$simSeq \ge st$ï¼Œé‚£ä¹ˆDrainå°±ä¼šè¿”å›è¯¥ç»„ä½œä¸ºæœ€ä½³åŒ¹é…ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªæ ‡å¿—ä½è¡¨ç¤ºæ²¡æœ‰åˆé€‚çš„ã€‚</p><h3 id="5-ç®—æ³•ç¬¬äº”éƒ¨ï¼šæ›´æ–°è§£ææ ‘"><a href="#5-ç®—æ³•ç¬¬äº”éƒ¨ï¼šæ›´æ–°è§£ææ ‘" class="headerlink" title="5 ç®—æ³•ç¬¬äº”éƒ¨ï¼šæ›´æ–°è§£ææ ‘"></a>5 ç®—æ³•ç¬¬äº”éƒ¨ï¼šæ›´æ–°è§£ææ ‘</h3><p>â€ƒâ€ƒå¦‚æœåœ¨æ­¥éª¤4ä¸­è¿”å›äº†åˆé€‚çš„æ—¥å¿—ç»„ï¼Œåˆ™Drainå°†å½“å‰æ—¥å¿—æ¶ˆæ¯çš„æ—¥å¿—IDæ·»åŠ åˆ°è¿”å›çš„æ—¥å¿—ç»„ä¸­çš„æ—¥å¿—IDä¸­ã€‚æ­¤å¤–ï¼Œå°†æ›´æ–°è¿”å›æ—¥å¿—ç»„ä¸­çš„æ—¥å¿—äº‹ä»¶ã€‚</p><p>â€ƒâ€ƒDrainæ‰«ææ—¥å¿—æ¶ˆæ¯å’Œæ—¥å¿—äº‹ä»¶ç›¸åŒä½ç½®çš„tokenï¼Œå¦‚æœä¸¤ä¸ªtokenç›¸åŒï¼Œåˆ™ä¸ä¿®æ”¹è¯¥tokenä½ç½®ä¸Šçš„tokenã€‚å¦åˆ™ï¼Œåœ¨æ—¥å¿—äº‹ä»¶ä¸­é€šè¿‡é€šé…ç¬¦*æ›´æ–°è¯¥tokenä½ç½®ä¸Šçš„token</p><p>â€ƒâ€ƒå¦‚æœæ— æ³•æ‰¾åˆ°åˆé€‚çš„æ—¥å¿—ç»„ï¼Œåˆ™æ ¹æ®å½“å‰æ—¥å¿—æ¶ˆæ¯åˆ›å»ºä¸€ä¸ªæ–°çš„æ—¥å¿—ç»„ï¼Œå…¶ä¸­æ—¥å¿—IDåªåŒ…å«æ—¥å¿—æ¶ˆæ¯çš„IDï¼Œæ—¥å¿—äº‹ä»¶å°±æ˜¯è¿™ä¸ªæ—¥å¿—æ¶ˆæ¯ã€‚ç„¶åï¼ŒDrainå°†ç”¨æ–°çš„æ—¥å¿—ç»„æ›´æ–°è§£ææ ‘ã€‚</p><p>â€ƒâ€ƒç›´è§‚åœ°ï¼ŒDrainä»æ ¹èŠ‚ç‚¹éå†åˆ°åº”è¯¥åŒ…å«æ–°æ—¥å¿—ç»„çš„å¶èŠ‚ç‚¹ï¼Œå¹¶ç›¸åº”åœ°æ²¿ç€è¿™æ¡è·¯å¾„æ·»åŠ ç¡®å®çš„å†…éƒ¨èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹ã€‚ä¸‹å›¾å±•ç¤ºäº†è¿™ä¸ªè¿‡ç¨‹</p><p><img src="/src/image-20220404153822780-165694028724769-165694034590372.png" alt="image-20220404153822780"></p><p>å¯ä»¥çœ‹åˆ°æ¥å—æ¶ˆæ¯ Receive 120 bytesï¼Œåœ¨è§£ææ ‘ä¸­è¢«ç¼–ç æˆäº†æœ€å³è¾¹è¿™æ¡è·¯å¾„ï¼Œç¬¬ä¸‰å±‚çš„å†…éƒ¨èŠ‚ç‚¹è¢«ç¼–ç ä¸ºäº†é€šé…ç¬¦*ï¼Œå› ä¸º120æ˜¯æ•°å­—ã€‚è¯¥æ ‘$depth&#x3D;4$<br>h&#x3D;4$<br>h&#x3D;4$</p>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”å‰å¸ƒæ–¯æ£€æµ‹</title>
    <link href="/2022/07/01/Algorithms/GrubbsTest/"/>
    <url>/2022/07/01/Algorithms/GrubbsTest/</url>
    
    <content type="html"><![CDATA[<h1 id="Grubbs-Test"><a href="#Grubbs-Test" class="headerlink" title="Grubbs Test"></a>Grubbs Test</h1><p>ç»Ÿè®¡æ£€éªŒæ˜¯æœ€ç›´è§‚ä¹Ÿæœ€å®¹æ˜“çš„ä¸€ä¸ªæ–¹æ³•ï¼Œé€šå¸¸æ¥è¯´å°±æ˜¯ï¼šå‡è®¾åŸæ•°æ®æœä»æŸä¸ªåˆ†å¸ƒï¼ˆå¦‚<a href="https://www.zhihu.com/search?q=%E9%AB%98%E6%96%AF%E5%88%86%E5%B8%83&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:417665007%7D">é«˜æ–¯åˆ†å¸ƒ</a>ï¼‰ï¼Œç„¶åè®¡ç®— $\mu$ å’Œ $\sigma $ï¼Œå†è®¡ç®—$\mu \pm 3\sigma $çš„åŒºé—´ï¼Œæœ€åè½åœ¨åŒºé—´ä¹‹å¤–çš„æ•°æ®ç‚¹å°±è¢«è®¤ä¸ºæ˜¯å¼‚å¸¸å€¼ã€‚æš—å«çš„æ€æƒ³æ˜¯ï¼Œè½åœ¨å°¾éƒ¨åˆ†å¸ƒçš„æ•°æ®æ¦‚ç‡å¾ˆå°äº†ï¼Œå‡ ä¹ä¸å¯èƒ½å‡ºç°ï¼›ä½†æ˜¯å‡ºç°äº†ï¼Œæ‰€ä»¥æ˜¯å¼‚å¸¸çš„ï¼ˆå¥½æƒ³åæ§½â€¦â€¦ï¼‰</p><p><img src="/src/v2-e330b934a6d1f401b6d537166594a8be_720w-165693999418640.jpg" alt="img"></p><p>ä¸€ç§è¿‘ä¼¼çš„ç»Ÿè®¡æ£€éªŒå«Grubbs Testã€‚å‡è®¾åŸæ•°æ®æœä»æ­£æ€åˆ†å¸ƒï¼Œç„¶åå®šä¹‰é›¶å‡è®¾ä¸å¤‡æ‹©å‡è®¾ï¼š<br>H0 :There are no outliers in the data setï¼›<br>H1 :There is at least one outlier in the data setï¼›<br>æ¥ä¸‹æ¥æ„å»ºGrubbs testç»Ÿè®¡é‡ï¼š<br>$C &#x3D; \frac{\max_t\vert x_t - \bar{x}\vert}{s}$</p><p>ç»™å®šæ˜¾è‘—æ€§æ°´å¹³ $\alpha$ä¸‹ï¼Œå½“$C&gt;\frac{N-1}{\sqrt{N}}\sqrt{\frac{(t_{\alpha&#x2F;(2N),N-2})^2}{N-2+(t_{\alpha&#x2F;(2N),N-2})^2}}$æ—¶ï¼Œæ‹’ç»åŸå‡è®¾ã€‚è¿™æ—¶å€™æ¯”$C$å¤§çš„$x_t$ä¸­æœ€å¤§çš„é‚£ä¸ªå°±æ˜¯å¼‚å¸¸å€¼ã€‚ç„¶åå‰”é™¤è¿™ä¸ªå€¼ï¼Œå†é‡å¤è®¡ç®—$C$ï¼Œç›´åˆ°æ‰¾ä¸å‡ºå¼‚å¸¸å€¼æˆ–è€…å‰©ä¸‹çš„æ•°æ®é‡&lt;&#x3D; 6æ—¶åœæ­¢ã€‚</p><p>$( G &gt; \frac{(N-1)} {\sqrt{N}} \sqrt{\frac{(t_{\alpha&#x2F;(2N),N-2})^2} {N-2+(t_{\alpha&#x2F;(2N),N-2})^2}} )<br>$<br><strong>é€‚ç”¨èŒƒå›´</strong><br>ç»Ÿè®¡æ£€éªŒæ–¹æ³•é€‚ç”¨äºä¸€ç»´æ•°æ®ï¼ˆä¸€å…ƒæ•°æ®ï¼‰ã€‚æ¯”å¦‚åœ¨åæ¬ºè¯ˆé¢†åŸŸï¼Œç”¨æˆ·æ”¯ä»˜é‡‘é¢ã€æ”¯ä»˜é¢‘æ¬¡ã€è´­ä¹°ç‰¹å®šå•†å“æ¬¡æ•°ç­‰ç­‰ï¼Œéƒ½é€‚ç”¨äºä¸Šè¿°æ–¹æ³•ã€‚å®é™…ä¸Šæˆ‘åœ¨æŸå›¢æŸè¯„å·¥ä½œæ—¶ï¼Œå°±ç”¨ä¸Šè¿°æ–¹æ³•å»è¯†åˆ«äº†æŸä¸ªç‰¹å®šæ”¯ä»˜æ¸ é“çš„æ¬ºè¯ˆäº¤æ˜“ã€‚</p><p><strong>é—®é¢˜</strong></p><ol><li>ç”¨æ—¢æœ‰æ•°æ®è®¡ç®—$\mu$å’Œ$\sigma$æ—¶ï¼Œå®é™…ä¸Šä½ æ˜¯æŠŠæ­£å¸¸æ•°æ®ä¸å¼‚å¸¸æ•°æ®æ··åˆè®¡ç®—äº†ã€‚å¯¹æ¬ºè¯ˆç‰¹å¾å¼‚å¸¸æ˜æ˜¾çš„æ•°æ®ï¼ˆå¦‚ä¸‹å›¾ï¼‰æ¥è¯´ï¼Œä¸Šè¿°æ–¹æ³•çš„ç¡®æœ‰æ•ˆï¼›ä½†å½“ä½ æ’é™¤äº†å¼‚å¸¸å€¼æˆ–è€…é£æ§ä¸Šçº¿ç­–ç•¥è§„é¿äº†è¿™äº›å¼‚å¸¸äº¤æ˜“åï¼Œå‰©ä¸‹çš„æ–°æ•°æ®é›†æ€»æ˜¯èƒ½å†è®¡ç®—å‡ºä¸€å¯¹æ–°çš„$\mu$å’Œ$\sigma$ ï¼Œæ€»æ˜¯èƒ½å†æ‰¾åˆ°å°¾éƒ¨åˆ†å¸ƒçš„æ•°å€¼ã€‚è¿™æ—¶å€™ï¼Œä½ æœ‰è¶³å¤Ÿçš„ç†ç”±è®¤ä¸ºè¿™äº›å°¾éƒ¨åˆ†å¸ƒçš„äº¤æ˜“ä¸€å®šæ˜¯å¼‚å¸¸çš„æˆ–è€…æœ‰é£é™©çš„å—ï¼Ÿ</li><li>åªé€‚ç”¨äº<a href="https://www.zhihu.com/search?q=%E4%B8%80%E7%BB%B4%E6%95%B0%E6%8D%AE&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:417665007%7D">ä¸€ç»´æ•°æ®</a>ã€‚ä½†å•çº¯ä»<strong>ä¸€ç»´æ•°æ®</strong>ä¸Šè¿›è¡Œé£é™©åˆ¤åˆ«æœ¬èº«å°±ä¸å¤ªé è°±ã€‚ç”¨æˆ·å¤§é¢æ”¯ä»˜ä¸ä¸€å®šæ˜¯é£é™©ï¼Œå¯èƒ½æ˜¯ä¹°è´µçš„å•†å“ï¼Œæ‰€ä»¥éœ€è¦ç»“åˆå…¶ä»–ç‰¹å¾è¿›è¡Œç»¼åˆåˆ¤æ–­ï¼Œç»Ÿè®¡æ–¹æ³•å°±ä¸å†é€‚ç”¨ï¼›</li><li>å¯¹äºå­˜é‡æ•°æ®ï¼Œé€šè¿‡ç»Ÿè®¡å‡è®¾æ£€éªŒå¯ä»¥ä¸€æ¬¡æ€§æ‰¾å‡ºå…¶ä¸­çš„é«˜é£é™©äº¤æ˜“ã€‚ä½†æ˜¯å¯¹äºé£æ§ä»ä¸šäººå‘˜æ¥è®²ï¼Œä¸šåŠ¡å’ŒæŒ‡æ ‡ä¸Šå¹¶ä¸å…è®¸ä½ æœ‰è¶³å¤Ÿçš„<strong>æ—¶é—´å’Œå®¹å¿åº¦</strong>ç›´åˆ°é«˜é£é™©é‡‘é¢ç´¯ç§¯åˆ°æ˜¾è‘—ä¹‹åå†è¿›è¡Œåˆ¤åˆ«ï¼Œé™¤éä½ KPIä¸æƒ³è¦äº†: )</li></ol><p><img src="/src/v2-20306ceee65981c9c31c92b8adf801b4_720w-165693999770243.jpg" alt="img"></p><center>æ¨¡æ‹Ÿäº¤æ˜“é‡‘é¢åˆ†å¸ƒ</center><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> scipy.stats <span class="hljs-keyword">as</span> stats<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">grubbs_test</span>(<span class="hljs-params">x</span>):<br>    n = <span class="hljs-built_in">len</span>(x)<br>    mean_x = np.mean(x)<br>    sd_x = np.std(x)<br>    numerator = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">abs</span>(x-mean_x))<br>    g_calculated = numerator/sd_x<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Grubbs Calculated Value:&quot;</span>,g_calculated)<br>    t_value = stats.t.ppf(<span class="hljs-number">1</span> - <span class="hljs-number">0.05</span> / (<span class="hljs-number">2</span> * n), n - <span class="hljs-number">2</span>)<br>    g_critical = ((n - <span class="hljs-number">1</span>) * np.sqrt(np.square(t_value))) / (np.sqrt(n) * np.sqrt(n - <span class="hljs-number">2</span> + np.square(t_value)))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Grubbs Critical Value:&quot;</span>,g_critical)<br>    <span class="hljs-keyword">if</span> g_critical &gt; g_calculated:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Accept null hypothesis and conclude that there is no outliers\n&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Reject null hypothesis and conclude that there is n outliers\n&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="Z-score"><a href="#Z-score" class="headerlink" title="Z-score"></a>Z-score</h1><p>Figure in the left shows area under normal curve and how much area that standard deviation covers.</p><ul><li>68% of the data points lie between + or - 1 standard deviation.</li><li>95% of the data points lie between + or - 2 standard deviation</li><li>99.7% of the data points lie between + or - 3 standard deviation</li></ul><p><img src="/%5Csrc%5Cv2-e330b934a6d1f401b6d537166594a8be_720w.jpg" alt="img"></p><p>Z-scoreæ˜¯ä¸€ç»´æˆ–ä½ç»´ç‰¹å¾ç©ºé—´ä¸­çš„å‚æ•°å¼‚å¸¸æ£€æµ‹æ–¹æ³•ã€‚è¯¥æŠ€æœ¯å‡å®šæ•°æ®æ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œå¼‚å¸¸å€¼æ˜¯åˆ†å¸ƒå°¾éƒ¨çš„æ•°æ®ç‚¹ï¼Œå› æ­¤è¿œç¦»æ•°æ®çš„å¹³å‡å€¼ã€‚è·ç¦»çš„è¿œè¿‘å–å†³äºä½¿ç”¨å…¬å¼è®¡ç®—çš„å½’ä¸€åŒ–æ•°æ®ç‚¹$Z_{score}$çš„è®¾å®šé˜ˆå€¼$Z_{thr}$ï¼š</p><p>$Z_{score}&#x3D;\frac{x_i-Mean}{StandardDeviation}$</p><p>ç„¶åç»è¿‡æ ‡å‡†åŒ–å¤„ç†åï¼Œå¼‚å¸¸å€¼ä¹Ÿè¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ï¼Œå…¶ç»å¯¹å€¼å¤§äº$Z_{thr}$ï¼š<br>$\vert Z_{score} \vert \gt Z_{thr}$</p><p>$Z_{thr}$å€¼ä¸€èˆ¬è®¾ç½®ä¸º2.5ã€3.0å’Œ3.5ã€‚è¯¥æŠ€æœ¯æ˜¯ä½¿ç”¨KNIMEå·¥ä½œæµä¸­çš„è¡Œè¿‡æ»¤å™¨èŠ‚ç‚¹å®ç°çš„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">Zscore_outlier</span>(<span class="hljs-params">df</span>):<br>    m = np.mean(df)<br>    sd = np.std(df)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> df: <br>        z = (i-m)/sd<br>        <span class="hljs-keyword">if</span> np.<span class="hljs-built_in">abs</span>(z) &gt; <span class="hljs-number">3</span>: <br>            out.append(i)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Outliers:&quot;</span>,out)<br></code></pre></td></tr></table></figure><hr><h1 id="Robust-Z-score"><a href="#Robust-Z-score" class="headerlink" title="Robust Z-score"></a>Robust Z-score</h1><p>å®ƒç±»ä¼¼äº Z è¯„åˆ†æ–¹æ³•ï¼Œä½†å‚æ•°å‘ç”Ÿäº†ä¸€äº›å˜åŒ–ã€‚ç”±äºå¹³å‡å€¼å’Œæ ‡å‡†åå·®å—å¼‚å¸¸å€¼çš„ä¸¥é‡å½±å“ï¼Œå› æ­¤æ›´æ”¹æ­¤å‚æ•°æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸­ä½æ•°å’Œä¸­ä½æ•°çš„ç»å¯¹åå·®ã€‚</p><p>$R.Z_{score}&#x3D;\frac{0.6745*(x_i-Median)}{MAD}\<br>MAD&#x3D; median(\vert X-median\vert)$</p><p>å‡è®¾ x éµå¾ªæ ‡å‡†æ­£æ€åˆ†å¸ƒã€‚MAD å°†æ”¶æ•›åˆ°åŠæ­£æ€åˆ†å¸ƒçš„ä¸­ä½æ•°ï¼Œå³æ­£æ€åˆ†å¸ƒçš„ 75% ç™¾åˆ†ä½æ•°ï¼Œä»¥åŠ Nï¼ˆ0.75ï¼‰â‰ƒ0.6745ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">ZRscore_outlier</span>(<span class="hljs-params">df</span>):<br>    med = np.median(df)<br>    ma = stats.median_absolute_deviation(df)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> df: <br>        z = (<span class="hljs-number">0.6745</span>*(i-med))/ (np.median(ma))<br>        <span class="hljs-keyword">if</span> np.<span class="hljs-built_in">abs</span>(z) &gt; <span class="hljs-number">3</span>: <br>            out.append(i)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Outliers:&quot;</span>,out)<br></code></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”ISO Forest</title>
    <link href="/2022/07/01/Algorithms/IsoForest/"/>
    <url>/2022/07/01/Algorithms/IsoForest/</url>
    
    <content type="html"><![CDATA[<h1 id="ISO-Forest"><a href="#ISO-Forest" class="headerlink" title="ISO Forest"></a>ISO Forest</h1><p>æ— ç›‘ç£ç®—æ³•ï¼Œé€šè¿‡éš”ç¦»æ•°æ®ä¸­çš„ç¦»ç¾¤å€¼è¯†åˆ«å¼‚å¸¸ã€‚</p><p>å­¤ç«‹æ£®æ—æ˜¯åŸºäºå†³ç­–æ ‘çš„ç®—æ³•ã€‚ä»ç»™å®šçš„ç‰¹å¾é›†åˆä¸­éšæœºé€‰æ‹©ç‰¹å¾ï¼Œç„¶ååœ¨ç‰¹å¾çš„æœ€å¤§å€¼å’Œæœ€å°å€¼é—´éšæœºé€‰æ‹©ä¸€ä¸ªåˆ†å‰²å€¼ï¼Œæ¥éš”ç¦»ç¦»ç¾¤å€¼ã€‚è¿™ç§ç‰¹å¾çš„éšæœºåˆ’åˆ†ä¼šä½¿å¼‚å¸¸æ•°æ®ç‚¹åœ¨æ ‘ä¸­ç”Ÿæˆçš„è·¯å¾„æ›´çŸ­ï¼Œä»è€Œå°†å®ƒä»¬å’Œå…¶ä»–æ•°æ®åˆ†å¼€ã€‚</p><p>ä¸€èˆ¬è€Œè¨€ï¼Œå¼‚å¸¸æ£€æµ‹çš„ç¬¬ä¸€æ­¥æ˜¯æ„é€ ã€Œæ­£å¸¸ã€å†…å®¹ï¼Œç„¶åæŠ¥å‘Šä»»ä½•ä¸èƒ½è§†ä¸ºæ­£å¸¸çš„å¼‚å¸¸å†…å®¹ã€‚ä½†å­¤ç«‹æ£®æ—ç®—æ³•ä¸åŒäºè¿™ä¸€åŸç†ï¼Œé¦–å…ˆå®ƒä¸ä¼šå®šä¹‰ã€Œæ­£å¸¸ã€è¡Œä¸ºï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰è®¡ç®—åŸºäºç‚¹çš„è·ç¦»ã€‚</p><p>ä¸€å¦‚å…¶åï¼Œå­¤ç«‹æ£®æ—ä¸é€šè¿‡æ˜¾å¼åœ°éš”ç¦»å¼‚å¸¸ï¼Œå®ƒéš”ç¦»äº†æ•°æ®é›†ä¸­çš„å¼‚å¸¸ç‚¹ã€‚</p><p>å­¤ç«‹æ£®æ—çš„åŸç†æ˜¯ï¼šå¼‚å¸¸å€¼æ˜¯å°‘é‡ä¸”ä¸åŒçš„è§‚æµ‹å€¼ï¼Œå› æ­¤æ›´æ˜“äºè¯†åˆ«ã€‚å­¤ç«‹æ£®æ—é›†æˆäº†å­¤ç«‹æ ‘ï¼Œåœ¨ç»™å®šçš„æ•°æ®ç‚¹ä¸­éš”ç¦»å¼‚å¸¸å€¼ã€‚</p><p>å­¤ç«‹æ£®æ—é€šè¿‡éšæœºé€‰æ‹©ç‰¹å¾ï¼Œç„¶åéšæœºé€‰æ‹©ç‰¹å¾çš„åˆ†å‰²å€¼ï¼Œé€’å½’åœ°ç”Ÿæˆæ•°æ®é›†çš„åˆ†åŒºã€‚å’Œæ•°æ®é›†ä¸­ã€Œæ­£å¸¸ã€çš„ç‚¹ç›¸æ¯”ï¼Œè¦éš”ç¦»çš„å¼‚å¸¸å€¼æ‰€éœ€çš„éšæœºåˆ†åŒºæ›´å°‘ï¼Œå› æ­¤å¼‚å¸¸å€¼æ˜¯æ ‘ä¸­è·¯å¾„æ›´çŸ­çš„ç‚¹ï¼Œè·¯å¾„é•¿åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹ç»è¿‡çš„è¾¹æ•°ã€‚</p><p>ç”¨å­¤ç«‹æ£®æ—ï¼Œä¸ä»…å¯ä»¥æ›´å¿«åœ°æ£€æµ‹å¼‚å¸¸ï¼Œè¿˜éœ€è¦æ›´å°‘çš„å†…å­˜ã€‚</p><p>å­¤ç«‹æ£®æ—ç®—æ³•æ˜¯åŸºäº Ensemble çš„å¼‚å¸¸æ£€æµ‹æ–¹æ³•ï¼Œå› æ­¤å…·æœ‰çº¿æ€§çš„æ—¶é—´å¤æ‚åº¦ã€‚ä¸”ç²¾å‡†åº¦è¾ƒé«˜ï¼Œåœ¨å¤„ç†å¤§æ•°æ®æ—¶é€Ÿåº¦å¿«ï¼Œæ‰€ä»¥ç›®å‰åœ¨å·¥ä¸šç•Œçš„åº”ç”¨èŒƒå›´æ¯”è¾ƒå¹¿ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡æ ‘æ¨¡å‹æ–¹æ³•éšæœºåœ°åˆ‡åˆ†æ ·æœ¬ç©ºé—´ï¼Œé‚£äº›å¯†åº¦å¾ˆé«˜çš„ç°‡è¦è¢«åˆ‡å¾ˆå¤šæ¬¡æ‰ä¼šåœæ­¢åˆ‡å‰²ï¼ˆå³æ¯ä¸ªç‚¹éƒ½å•ç‹¬å­˜åœ¨äºä¸€ä¸ªå­ç©ºé—´å†…ï¼‰ï¼Œä½†é‚£äº›åˆ†å¸ƒç¨€ç–çš„ç‚¹ï¼ˆå³å¼‚å¸¸ç‚¹ï¼‰ï¼Œå¤§éƒ½å¾ˆæ—©å°±åœåˆ°ä¸€ä¸ªå­ç©ºé—´å†…äº†ã€‚ç®—æ³•æ­¥éª¤ä¸ºï¼š</p><ol><li><p>ä»è®­ç»ƒæ•°æ®ä¸­éšæœºé€‰æ‹© Î¨ ä¸ªæ ·æœ¬ï¼Œä»¥æ­¤è®­ç»ƒå•æ£µæ ‘ã€‚</p></li><li><p>éšæœºæŒ‡å®šä¸€ä¸ªqç»´åº¦ï¼ˆattributeï¼‰ï¼Œåœ¨å½“å‰èŠ‚ç‚¹æ•°æ®ä¸­éšæœºäº§ç”Ÿä¸€ä¸ªåˆ‡å‰²ç‚¹pã€‚påˆ‡å‰²ç‚¹äº§ç”Ÿäºå½“å‰èŠ‚ç‚¹æ•°æ®ä¸­æŒ‡å®šqç»´åº¦çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ä¹‹é—´ã€‚</p></li><li><p>åœ¨æ­¤åˆ‡å‰²ç‚¹çš„é€‰å–ç”Ÿæˆäº†ä¸€ä¸ªè¶…å¹³é¢ï¼Œå°†å½“å‰èŠ‚ç‚¹æ•°æ®ç©ºé—´åˆ‡åˆ†ä¸º2ä¸ªå­ç©ºé—´ï¼šæŠŠå½“å‰æ‰€é€‰ç»´åº¦ä¸‹å°äº p çš„ç‚¹æ”¾åœ¨å½“å‰èŠ‚ç‚¹çš„å·¦åˆ†æ”¯ï¼ŒæŠŠå¤§äºç­‰äº p çš„ç‚¹æ”¾åœ¨å½“å‰èŠ‚ç‚¹çš„å³åˆ†æ”¯ï¼›</p></li><li><p>åœ¨èŠ‚ç‚¹çš„å·¦åˆ†æ”¯å’Œå³åˆ†æ”¯èŠ‚ç‚¹é€’å½’æ­¥éª¤ 2ã€3ï¼Œä¸æ–­æ„é€ æ–°çš„å¶å­èŠ‚ç‚¹ï¼Œç›´åˆ°å¶å­èŠ‚ç‚¹ä¸Šåªæœ‰ä¸€ä¸ªæ•°æ®ï¼ˆæ— æ³•å†ç»§ç»­åˆ‡å‰²ï¼‰ æˆ–æ ‘å·²ç»ç”Ÿé•¿åˆ°äº†æ‰€è®¾å®šçš„é«˜åº¦ ã€‚ï¼ˆè®¾ç½®å•é¢—æ ‘çš„æœ€å¤§é«˜åº¦æ˜¯å› ä¸ºå¼‚å¸¸æ•°æ®è®°å½•éƒ½æ¯”è¾ƒå°‘ï¼Œå…¶è·¯å¾„é•¿åº¦ä¹Ÿæ¯”è¾ƒä½ï¼Œè€Œæˆ‘ä»¬ä¹Ÿåªéœ€è¦æŠŠæ­£å¸¸è®°å½•å’Œå¼‚å¸¸è®°å½•åŒºåˆ†å¼€æ¥ï¼Œå› æ­¤åªéœ€è¦å…³å¿ƒä½äºå¹³å‡é«˜åº¦çš„éƒ¨åˆ†å°±å¥½ï¼Œè¿™æ ·ç®—æ³•æ•ˆç‡æ›´é«˜ã€‚ï¼‰</p></li><li><p>ç”±äºæ¯é¢—æ ‘è®­ç»ƒçš„åˆ‡å‰²ç‰¹å¾ç©ºé—´è¿‡ç¨‹æ˜¯å®Œå…¨éšæœºçš„ï¼Œæ‰€ä»¥éœ€è¦ç”¨ ensemble çš„æ–¹æ³•æ¥ä½¿ç»“æœæ”¶æ•›ï¼Œå³å¤šå»ºç«‹å‡ æ£µæ ‘ï¼Œç„¶åç»¼åˆè®¡ç®—æ¯æ£µæ ‘åˆ‡åˆ†ç»“æœçš„å¹³å‡å€¼ã€‚å¯¹äºæ¯ä¸ªæ ·æœ¬ xï¼Œé€šè¿‡ä¸‹é¢çš„å…¬å¼è®¡ç®—ç»¼åˆçš„å¼‚å¸¸å¾—åˆ†sã€‚</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-1640094926775.webp" alt="å›¾ç‰‡"></p><p>h(x) ä¸º x åœ¨æ¯æ£µæ ‘çš„é«˜åº¦ï¼Œc(Î¨) ä¸ºç»™å®šæ ·æœ¬æ•° Î¨ æ—¶è·¯å¾„é•¿åº¦çš„å¹³å‡å€¼ï¼Œç”¨æ¥å¯¹æ ·æœ¬ x çš„è·¯å¾„é•¿åº¦ h(x) è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ã€‚</p></li></ol><p>é—®é¢˜</p><ul><li>å·¥ä¸šåº”ç”¨æ—¶ï¼Œä½œä¸ºä¸€ä¸ªçº¯ç²¹çš„æ— ç›‘ç£ç®—æ³•ï¼Œå¼‚å¸¸å€¼å æ¯”å¤šå°‘ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªå¾ˆå¥½çš„è¡¡é‡æ ‡å‡†ï¼ˆæ‹è„‘è¢‹å¤§æ³•å¥½ï¼‰ã€‚å› æ­¤ï¼Œæ¨¡å‹ä¸Šçº¿åï¼Œä»ç„¶éœ€è¦æŠ•å…¥äººåŠ›è¿›è¡Œæ ·æœ¬æ ‡æ³¨ï¼Œæ‰èƒ½å¯¹æ¨¡å‹è¿›è¡Œè¿­ä»£ä¼˜åŒ–ã€‚</li><li>ç‰¹å¾è¦æ±‚é«˜ã€‚è¿™ä¸ªä¾‹å­é‡Œç‰¹å¾åªæœ‰28ä¸ªï¼Œå› æ­¤æ¨¡å‹æ€§èƒ½å¥½ï¼›ä½†å¯¹äºé«˜ç»´ç‰¹å¾ï¼Œisolation treeè¡¨ç°ä¼¼ä¹ä¸€èˆ¬ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> IsolationForest<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">Iso_outliers</span>(<span class="hljs-params">df</span>):<br>    iso = IsolationForest( behaviour = <span class="hljs-string">&#x27;new&#x27;</span>, random_state = <span class="hljs-number">1</span>, contamination= <span class="hljs-string">&#x27;auto&#x27;</span>)<br>    preds = iso.fit_predict(df.values.reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))<br>    data = pd.DataFrame()<br>    data[<span class="hljs-string">&#x27;cluster&#x27;</span>] = preds<br>    <span class="hljs-built_in">print</span>(data[<span class="hljs-string">&#x27;cluster&#x27;</span>].value_counts().sort_values(ascending=<span class="hljs-literal">False</span>))<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”IQPå°è®°</title>
    <link href="/2022/07/01/Algorithms/Numeric%20Oulier--IQR/"/>
    <url>/2022/07/01/Algorithms/Numeric%20Oulier--IQR/</url>
    
    <content type="html"><![CDATA[<p>æ•°å­—å¼‚å¸¸å€¼æ–¹æ³•æ˜¯ä¸€ç»´ç‰¹å¾ç©ºé—´ä¸­æœ€ç®€å•çš„éå‚æ•°å¼‚å¸¸å€¼æ£€æµ‹æ–¹æ³•ï¼Œå¼‚å¸¸å€¼æ˜¯é€šè¿‡IQRï¼ˆInterQuartile Rangeï¼‰è®¡ç®—å¾—çš„ã€‚</p><p>è®¡ç®—ç¬¬ä¸€å’Œç¬¬ä¸‰ å››åˆ†ä½æ•°ï¼ˆ$Q_1$ã€$Q_3$ï¼‰ï¼Œå¼‚å¸¸å€¼æ˜¯ä½äºå››åˆ†ä½æ•°èŒƒå›´ä¹‹å¤–çš„æ•°æ®ç‚¹$x_i$ï¼š<br>$x_i \gt Q_3 + k(IQR) \quad or \quad x_i \lt Q_1-k(IQR),\where \ IQR &#x3D; Q_3-Q_1 \ and \ k \ge 0$</p><p>ä½¿ç”¨å››åˆ†ä½æ•°ä¹˜æ•°å€¼k&#x3D;1.5ï¼ŒèŒƒå›´é™åˆ¶æ˜¯å…¸å‹çš„ä¸Šä¸‹æ™¶é¡»çš„ç›’å­å›¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">iqr_outliers</span>(<span class="hljs-params">df</span>):<br>    q1 = df.quantile(<span class="hljs-number">0.25</span>)<br>    q3 = df.quantile(<span class="hljs-number">0.75</span>)<br>    iqr = q3-q1<br>    Lower_tail = q1 - <span class="hljs-number">1.5</span> * iqr<br>    Upper_tail = q3 + <span class="hljs-number">1.5</span> * iqr<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> df:<br>        <span class="hljs-keyword">if</span> i &gt; Upper_tail <span class="hljs-keyword">or</span> i &lt; Lower_tail:<br>            out.append(i)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Outliers:&quot;</span>,out)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”SVDDå°è®°</title>
    <link href="/2022/07/01/Algorithms/SVDD/"/>
    <url>/2022/07/01/Algorithms/SVDD/</url>
    
    <content type="html"><![CDATA[<h1 id="Support-Vector-Data-Descriptionï¼ŒSVDD"><a href="#Support-Vector-Data-Descriptionï¼ŒSVDD" class="headerlink" title="Support Vector Data Descriptionï¼ŒSVDD"></a>Support Vector Data Descriptionï¼Œ<a href="https://github.com/iqiukp/SVDD-Python">SVDD</a></h1><p>æ”¯æŒå‘é‡æ•°æ®æè¿°ï¼Œæ˜¯ä¸€ç§å•å€¼åˆ†ç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå®ç°ç›®æ ‡æ ·æœ¬å’Œéç›®æ ‡æ ·æœ¬çš„åŒºåˆ†ï¼Œé€šå¸¸ç”¨äºå¼‚å¸¸æ£€æµ‹ä¸å…¥ä¾µæ£€æµ‹ç­‰é¢†åŸŸã€‚</p><p><img src="/src/IwtDFH.gif" alt="123456.gif"></p><p>SVDDæ˜¯One-Class Classificationçš„ä¸€ç§å¸¸ç”¨æ–¹æ³•ã€‚åœ¨One-Class Classificationä¸­ï¼Œè®­ç»ƒé›†ä¸­åªæœ‰target classçš„æ•°æ®ï¼Œè¦ä½¿ç”¨è¿™äº›æ•°æ®æ¥è®­ç»ƒä¸€ä¸ªåˆ¤å†³å™¨ï¼Œåˆ¤æ–­æ–°æ ·æœ¬æ˜¯ä¸æ˜¯å±äºtarget classã€‚SVDDè¯•å›¾æ±‚å¾—é«˜ç»´ç©ºé—´çš„ä¸€ä¸ªè¶…çƒé¢ï¼Œä»¥æœ€å°çš„åŠå¾„å°†è®­ç»ƒé›†ä¸­çš„æ•°æ®åŒ…èµ·æ¥ã€‚æ–°æ¥çš„å¾…æµ‹æ•°æ®æ˜ å°„åˆ°é«˜ç»´ç©ºé—´åï¼Œå¦‚æœè½åœ¨è¿™ä¸ªè¶…çƒé¢å†…ï¼Œåˆ™è®¤ä¸ºå®ƒå±äºtarget classï¼Œå¦åˆ™å°±è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªoutlierã€‚</p><p><img src="/src/v2-23599fa94cac6ec616ebc130d1e46d2d_720w-165692130417283.jpg" alt="img"></p><p><strong>SVDDå…¶å®é€šè¿‡ä¸€ä¸ªéçº¿æ€§å˜åŒ–ï¼ŒæŠŠåŸå§‹æ•°æ®æ˜ å°„åˆ°ç‰¹å¾ç©ºé—´ï¼Œç„¶ååœ¨ç‰¹å¾ç©ºé—´ä¸­å¯»æ‰¾ä¸€ä¸ªä½“ç§¯æœ€å°çš„è¶…çƒä½“ã€‚</strong></p><p>ç»™å®šä¸€ç»„è®­ç»ƒæ•°æ® $x_i\in \mathbb{R}^n,i&#x3D;1,\dots,l$, æ±‚è§£å¦‚ä¸‹çš„æœ€ä¼˜åŒ–é—®é¢˜ï¼š<br>$$<br>\min_{R,a,\xi} \ R^2+C\sum_{i&#x3D;1}^l\xi_{i} \<br>s.t. ||\phi(x_i)-a||^2\le R^2+\xi_i,\ \xi_i\ge 0\ ,i&#x3D;1,\dots,l,<br>$$<br>å…¶ä¸­, $\phi$æ˜¯å°†æ•°æ®æ˜ å°„åˆ°é«˜ç»´ç©ºé—´çš„å‡½æ•°ï¼Œ $C\ge 0$æ˜¯ä¸€ä¸ªæƒè¡¡è¶…çƒä½“ä½“ç§¯å’Œè¯¯åˆ†ç‡çš„æƒ©ç½šå‚æ•°ã€‚å…¬å¼æ±‚è§£åå¾—åˆ°ä¸€ä¸ªç”±ä¸­å¿ƒ$a$å’ŒåŠå¾„ $R$ å”¯ä¸€ç¡®å®šçš„è¶…çƒé¢,$\xi$æ˜¯æ¾å¼›å› å­ã€‚å¯¹äºä¸€ä¸ªæµ‹è¯•æ ·æœ¬ $x$, å¦‚æœ $||\phi(x_i)-a||^2\ge R^2$ ï¼Œé‚£ä¹ˆ $x$,å°±æ˜¯ä¸€ä¸ªoutlierã€‚</p><p>ç„¶è€Œå¼ (1) æ˜¯ä¸€ä¸ªéå‡¸é—®é¢˜ï¼Œå› ä¸º$ ||\phi(x_i)-a||^2- R^2-\xi_i$å¯¹äº$R$æ˜¯å‡¹çš„ã€‚å¯ä»¤ $\bar{R}&#x3D;R^2$ å°†å…¶è½¬åŒ–ä¸ºä¸€ä¸ªå‡¸é—®é¢˜ï¼Œ<br>$$<br>\min_{R,a,\xi} \ \bar{R}+C\sum_{i&#x3D;1}^l\xi_{i} \<br>s.t. ||\phi(x_i)-a||^2\le \bar{R}+\xi_i,\ \xi_i\ge 0\ ,i&#x3D;1,\dots,l,\bar{R}\ge0<br>$$<br>ä¸Šå¼çš„æ‹‰æ ¼æœ—æ—¥å½¢å¼ä¸º<br>$$<br>\begin{align}<br>L(a,\bar{R},\xi,\alpha, \gamma) &amp;&#x3D;\bar{R}+C\sum_{i&#x3D;1}^l \xi_i-\sum_{i&#x3D;1}^l\alpha_i(\bar{R}+\xi_i-||\phi(x_i)-a||^2 )-\sum_{i&#x3D;1}^l\gamma_i\xi_i\<br>&amp;&#x3D;\bar{R}(1-\sum_{i&#x3D;1}^l\alpha_i)+\sum_{i&#x3D;1}^l\xi_i(C-\alpha_i-\gamma_i)+\sum_{i&#x3D;1}^l\alpha_i(||\phi(x_i)-a||^2)<br>\end{align}<br>$$</p><p>$\alpha$ å’Œ $\gamma$ æ˜¯æ‹‰æ ¼æœ—æ—¥ä¹˜å­ã€‚</p><p>åˆ†åˆ«å¯¹ $\bar{R}$å’Œ $\xi$æ±‚åå¯¼ï¼Œå¹¶å¦å…¶ä¸º0ï¼Œ</p><p>$$<br>1-e^T\alpha&#x3D;0 \<br>C-\alpha_i-\gamma_i&#x3D;0, \qquad i&#x3D;1,\dots,l<br>$$<br>åˆå› ä¸º$\gamma \ge0,\forall i$ï¼ŒSVDDçš„å¯¹å¶é—®é¢˜ä¸º</p><p>$$<br>\max_{\alpha} (\inf_{\alpha}\sum_{i&#x3D;1}^l \alpha_i||\phi(x_i)-a||^2) \<br>s.t. 0\le\alpha_i\le C, i&#x3D;1,\dots,l,e^T\alpha&#x3D;1<br>$$<br>$\sum_{i&#x3D;1}^l \alpha_i||\phi(x_i)-a||^2$ å¯¹äº$ a$æ˜¯å‡¸çš„ï¼Œå…¶ä¸‹ç•Œå¹¶ä¸éš¾æ±‚ï¼Œå¯¹ $\alpha$æ±‚åå¯¼ï¼Œå¹¶ä»¤å…¶ä¸º0ï¼Œå¾—</p><p>$$<br>a\sum_{i&#x3D;1}^l \alpha_i&#x3D;\sum_{i&#x3D;1}^l \alpha_i\phi(x_i)\<br>a &#x3D; \frac{\sum_{i&#x3D;1}^l \alpha_i\phi(x_i)}{e^T\alpha}&#x3D;\sum_{i&#x3D;1}^l \alpha_i\phi(x_i)<br>$$</p><p>å°† $\alpha$ ä»£å›å¼ (2)ï¼Œé‚£ä¹ˆå¯¹å¶é—®é¢˜å°±å¯ä»¥åŒ–ä¸º</p><p>$$<br>\max_{\alpha} \sum_{i&#x3D;1}^l \alpha_iQ_{i,i}-\alpha^TQ\alpha\<br>s.t. 0\le\alpha_i\le C, i&#x3D;1,\dots,l,e^T\alpha&#x3D;1<br>$$<br>$Q$ä¸ºæ ¸çŸ©é˜µã€‚ä¸Šå¼å¯ç”¨MATLABä¸­çš„quadprogå‡½æ•°æ±‚è§£ã€‚</p><p>$$<br>||\phi(x_i)-a||^2-\bar{R}&#x3D;K(x,x)-2\sum_{i:\alpha_i\gt0}\alpha_iK(x,x_i)+\alpha^TQ\alpha-\bar{R}<br>$$<br>æ˜¯å¦å¤§äº0ï¼Œå…¶ä¸­$K(\cdot,\cdot)$ä¸ºæ ¸å‡½æ•°ã€‚ï¿½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”TF-IDFå°è®°</title>
    <link href="/2022/07/01/Algorithms/TD-IDF/"/>
    <url>/2022/07/01/Algorithms/TD-IDF/</url>
    
    <content type="html"><![CDATA[<p>TF-IDFï¼ˆterm frequencyâ€“inverse document frequencyï¼Œè¯é¢‘-é€†å‘æ–‡ä»¶é¢‘ç‡ï¼‰æ˜¯ä¸€ç§ç”¨äºä¿¡æ¯æ£€ç´¢ï¼ˆinformation retrievalï¼‰ä¸æ–‡æœ¬æŒ–æ˜ï¼ˆtext miningï¼‰çš„å¸¸ç”¨åŠ æƒæŠ€æœ¯ã€‚</p><p>TF-IDFæ˜¯ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œç”¨ä»¥è¯„ä¼°ä¸€å­—è¯å¯¹äºä¸€ä¸ªæ–‡ä»¶é›†æˆ–ä¸€ä¸ªè¯­æ–™åº“ä¸­çš„å…¶ä¸­ä¸€ä»½æ–‡ä»¶çš„é‡è¦ç¨‹åº¦ã€‚å­—è¯çš„é‡è¦æ€§éšç€å®ƒåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°æˆæ­£æ¯”å¢åŠ ï¼Œä½†åŒæ—¶ä¼šéšç€å®ƒåœ¨è¯­æ–™åº“ä¸­å‡ºç°çš„é¢‘ç‡æˆåæ¯”ä¸‹é™ã€‚</p><h2 id="è®¡ç®—"><a href="#è®¡ç®—" class="headerlink" title="è®¡ç®—"></a>è®¡ç®—</h2><p>   TF-IDFçš„ä¸»è¦æ€æƒ³æ˜¯ï¼šå¦‚æœæŸä¸ªå•è¯åœ¨ä¸€ç¯‡æ–‡ç« ä¸­å‡ºç°çš„é¢‘ç‡TFé«˜ï¼Œå¹¶ä¸”åœ¨å…¶ä»–æ–‡ç« ä¸­å¾ˆå°‘å‡ºç°ï¼Œåˆ™è®¤ä¸ºæ­¤è¯æˆ–è€…çŸ­è¯­å…·æœ‰å¾ˆå¥½çš„ç±»åˆ«åŒºåˆ†èƒ½åŠ›ï¼Œé€‚åˆç”¨æ¥åˆ†ç±»ã€‚</p><p>ï¼ˆ1ï¼‰TFæ˜¯è¯é¢‘(Term Frequency)<br>        è¯é¢‘ï¼ˆTFï¼‰è¡¨ç¤ºè¯æ¡ï¼ˆå…³é”®å­—ï¼‰åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„é¢‘ç‡ã€‚<br>        è¿™ä¸ªæ•°å­—é€šå¸¸ä¼šè¢«å½’ä¸€åŒ–(ä¸€èˆ¬æ˜¯è¯é¢‘é™¤ä»¥æ–‡ç« æ€»è¯æ•°), ä»¥é˜²æ­¢å®ƒåå‘é•¿çš„æ–‡ä»¶ã€‚<br>$$<br>tf_i &#x3D; \frac{n_{i,j}}{\sum_kn_{k,j}} \iff TF_w&#x3D;\frac{åœ¨æŸä¸€ç±»ä¸­è¯æ¡wå‡ºç°çš„æ¬¡æ•°}{è¯¥ç±»ä¸­æ‰€æœ‰çš„è¯æ¡æ•°ç›®}<br>$$<br>  å…¶ä¸­ $n_{i,j}$æ˜¯è¯¥è¯åœ¨æ–‡ä»¶$d_j$ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œåˆ†æ¯åˆ™æ˜¯æ–‡ä»¶$d_j$ä¸­æ‰€æœ‰è¯æ±‡å‡ºç°çš„æ¬¡æ•°æ€»å’Œï¼›</p><p>ï¼ˆ2ï¼‰ IDFæ˜¯é€†å‘æ–‡ä»¶é¢‘ç‡(Inverse Document Frequency)<br>        é€†å‘æ–‡ä»¶é¢‘ç‡ (IDF) ï¼šæŸä¸€ç‰¹å®šè¯è¯­çš„IDFï¼Œå¯ä»¥ç”±æ€»æ–‡ä»¶æ•°ç›®é™¤ä»¥åŒ…å«è¯¥è¯è¯­çš„æ–‡ä»¶çš„æ•°ç›®ï¼Œå†å°†å¾—åˆ°çš„å•†å–å¯¹æ•°å¾—åˆ°ã€‚å¦‚æœåŒ…å«è¯æ¡tçš„æ–‡æ¡£è¶Šå°‘, IDFè¶Šå¤§ï¼Œåˆ™è¯´æ˜è¯æ¡å…·æœ‰å¾ˆå¥½çš„ç±»åˆ«åŒºåˆ†èƒ½åŠ›ã€‚<br>$$<br>idf_i&#x3D;log\frac{|D|}{|{j:t_iâˆˆd_j}|} \iff IDF&#x3D;log(\frac{è¯­æ–™åº“çš„æ–‡æ¡£æ€»æ•°}{åŒ…å«è¯æ¡wçš„æ–‡æ¡£æ•°+1})<br>$$<br>å…¶ä¸­ï¼Œ$|D| $æ˜¯è¯­æ–™åº“ä¸­çš„æ–‡ä»¶æ€»æ•°ã€‚$ |{j:t_iâˆˆd_j}| $è¡¨ç¤ºåŒ…å«è¯è¯­$ t_i$ çš„æ–‡ä»¶æ•°ç›®ï¼ˆå³ $n_{i,j}â‰ 0$ çš„æ–‡ä»¶æ•°ç›®ï¼‰ã€‚å¦‚æœè¯¥è¯è¯­ä¸åœ¨è¯­æ–™åº“ä¸­ï¼Œå°±ä¼šå¯¼è‡´åˆ†æ¯ä¸ºé›¶ï¼Œå› æ­¤ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨$ 1+|{j:t_iâˆˆd_j}|$(Laplaceä¿®æ­£)</p><p>ï¼ˆ3ï¼‰TF-IDFå®é™…ä¸Šæ˜¯ï¼šTF * IDF<br>       æŸä¸€ç‰¹å®šæ–‡ä»¶å†…çš„é«˜è¯è¯­é¢‘ç‡ï¼Œä»¥åŠè¯¥è¯è¯­åœ¨æ•´ä¸ªæ–‡ä»¶é›†åˆä¸­çš„ä½æ–‡ä»¶é¢‘ç‡ï¼Œå¯ä»¥äº§ç”Ÿå‡ºé«˜æƒé‡çš„TF-IDFã€‚å› æ­¤ï¼ŒTF-IDFå€¾å‘äºè¿‡æ»¤æ‰å¸¸è§çš„è¯è¯­ï¼Œä¿ç•™é‡è¦çš„è¯è¯­ã€‚<br>$$<br>TF-IDF&#x3D;\ TF\ * IDF<br>$$</p><p>$$<br>W_{w,e}&#x3D;TF_{w,e}*IDF_e \qquad V_e&#x3D;\frac{1}{N_e}\sum_{w&#x3D;1}^{N_e}W_{w,e}*V_w<br>$$</p><h2 id="ä¼˜ç¼º"><a href="#ä¼˜ç¼º" class="headerlink" title="ä¼˜ç¼º"></a>ä¼˜ç¼º</h2><p>TF-IDFç®—æ³•éå¸¸å®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“å®ç°ï¼Œä½†æ˜¯å…¶ç®€å•ç»“æ„å¹¶æ²¡æœ‰è€ƒè™‘è¯è¯­çš„è¯­ä¹‰ä¿¡æ¯ï¼Œæ— æ³•å¤„ç†ä¸€è¯å¤šä¹‰ä¸ä¸€ä¹‰å¤šè¯çš„æƒ…å†µã€‚</p><p>TF-IDF é‡‡ç”¨æ–‡æœ¬é€†é¢‘ç‡ IDF å¯¹ TF å€¼åŠ æƒå–æƒå€¼å¤§çš„ä½œä¸ºå…³é”®è¯ï¼Œä½† IDF çš„ç®€å•ç»“æ„å¹¶ä¸èƒ½æœ‰æ•ˆåœ°åæ˜ å•è¯çš„é‡è¦ç¨‹åº¦å’Œç‰¹å¾è¯çš„åˆ†å¸ƒæƒ…å†µï¼Œä½¿å…¶æ— æ³•å¾ˆå¥½åœ°å®Œæˆå¯¹æƒå€¼è°ƒæ•´çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ TF-IDF ç®—æ³•çš„ç²¾åº¦å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œå°¤å…¶æ˜¯å½“æ–‡æœ¬é›†å·²ç»åˆ†ç±»çš„æƒ…å†µä¸‹ã€‚</p><p>åœ¨æœ¬è´¨ä¸Š IDF æ˜¯ä¸€ç§è¯•å›¾æŠ‘åˆ¶å™ªéŸ³çš„åŠ æƒï¼Œå¹¶ä¸”å•çº¯åœ°è®¤ä¸ºæ–‡æœ¬é¢‘ç‡å°çš„å•è¯å°±è¶Šé‡è¦ï¼Œæ–‡æœ¬é¢‘ç‡å¤§çš„å•è¯å°±è¶Šæ— ç”¨ã€‚è¿™å¯¹äºå¤§éƒ¨åˆ†æ–‡æœ¬ä¿¡æ¯ï¼Œå¹¶ä¸æ˜¯å®Œå…¨æ­£ç¡®çš„ã€‚IDF çš„ç®€å•ç»“æ„å¹¶ä¸èƒ½ä½¿æå–çš„å…³é”®è¯ï¼Œ ååˆ†æœ‰æ•ˆåœ°åæ˜ å•è¯çš„é‡è¦ç¨‹åº¦å’Œç‰¹å¾è¯çš„åˆ†å¸ƒæƒ… å†µï¼Œä½¿å…¶æ— æ³•å¾ˆå¥½åœ°å®Œæˆå¯¹æƒå€¼è°ƒæ•´çš„åŠŸèƒ½ã€‚å°¤å…¶æ˜¯åœ¨åŒç±»è¯­æ–™åº“ä¸­ï¼Œè¿™ä¸€æ–¹æ³•æœ‰å¾ˆå¤§å¼Šç«¯ï¼Œå¾€å¾€ä¸€äº›åŒç±»æ–‡æœ¬çš„å…³é”®è¯è¢«ç›–ã€‚</p><p>TF-IDFç®—æ³•å®ç°ç®€å•å¿«é€Ÿï¼Œä½†æ˜¯ä»æœ‰è®¸å¤šä¸è¶³ä¹‹å¤„ï¼š</p><p>ï¼ˆ1ï¼‰æ²¡æœ‰è€ƒè™‘ç‰¹å¾è¯çš„ä½ç½®å› ç´ å¯¹æ–‡æœ¬çš„åŒºåˆ†åº¦ï¼Œè¯æ¡å‡ºç°åœ¨æ–‡æ¡£çš„ä¸åŒä½ç½®æ—¶ï¼Œå¯¹åŒºåˆ†åº¦çš„è´¡çŒ®å¤§å°æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>ï¼ˆ2ï¼‰æŒ‰ç…§ä¼ ç»ŸTF-IDFï¼Œå¾€å¾€ä¸€äº›ç”Ÿåƒ»è¯çš„IDF(åæ–‡æ¡£é¢‘ç‡)ä¼šæ¯”è¾ƒé«˜ã€å› æ­¤è¿™äº›ç”Ÿåƒ»è¯å¸¸ä¼šè¢«è¯¯è®¤ä¸ºæ˜¯æ–‡æ¡£å…³é”®è¯ã€‚</p><p>ï¼ˆ3ï¼‰ä¼ ç»ŸTF-IDFä¸­çš„IDFéƒ¨åˆ†åªè€ƒè™‘äº†ç‰¹å¾è¯ä¸å®ƒå‡ºç°çš„æ–‡æœ¬æ•°ä¹‹é—´çš„å…³ç³»ï¼Œè€Œå¿½ç•¥äº†ç‰¹å¾é¡¹åœ¨ä¸€ä¸ªç±»åˆ«ä¸­ä¸åŒçš„ç±»åˆ«é—´çš„åˆ†å¸ƒæƒ…å†µã€‚</p><p>ï¼ˆ4ï¼‰å¯¹äºæ–‡æ¡£ä¸­å‡ºç°æ¬¡æ•°è¾ƒå°‘çš„é‡è¦äººåã€åœ°åä¿¡æ¯æå–æ•ˆæœä¸ä½³ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”Winsorizationå°è®°</title>
    <link href="/2022/07/01/Algorithms/Winsorization%20Method/"/>
    <url>/2022/07/01/Algorithms/Winsorization%20Method/</url>
    
    <content type="html"><![CDATA[<h1 id="Winsorization-Method"><a href="#Winsorization-Method" class="headerlink" title="Winsorization Method"></a>Winsorization Method</h1><p>å¦‚æœæŸä¸ªå€¼è¶…è¿‡ç¬¬ 99 ä¸ªç™¾åˆ†ä½çš„å€¼ï¼Œå¹¶ä¸”ä½äºç»™å®šå€¼çš„ç¬¬ 1 ä¸ªç™¾åˆ†ä½ï¼Œåˆ™å°†è¢«è§†ä¸ºå¼‚å¸¸å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">Winsorization_outliers</span>(<span class="hljs-params">df</span>):<br>    q1 = np.percentile(df , <span class="hljs-number">1</span>)<br>    q3 = np.percentile(df , <span class="hljs-number">99</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> df:<br>        <span class="hljs-keyword">if</span> i &gt; q3 <span class="hljs-keyword">or</span> i &lt; q1:<br>            out.append(i)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Outliers:&quot;</span>,out)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”ROCKAâ€”â€”æ—¶é—´åºåˆ—èšç±»ç®—æ³•</title>
    <link href="/2022/07/01/Algorithms/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E2%80%94%E2%80%94ROCKA/"/>
    <url>/2022/07/01/Algorithms/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E2%80%94%E2%80%94ROCKA/</url>
    
    <content type="html"><![CDATA[<h1 id="ROCKAâ€”â€”æ—¶é—´åºåˆ—èšç±»ç®—æ³•"><a href="#ROCKAâ€”â€”æ—¶é—´åºåˆ—èšç±»ç®—æ³•" class="headerlink" title="ROCKAâ€”â€”æ—¶é—´åºåˆ—èšç±»ç®—æ³•"></a>ROCKAâ€”â€”æ—¶é—´åºåˆ—èšç±»ç®—æ³•</h1><h3 id="KPIæ—¶é—´åºåˆ—èšç±»é¢ä¸´çš„æŒ‘æˆ˜"><a href="#KPIæ—¶é—´åºåˆ—èšç±»é¢ä¸´çš„æŒ‘æˆ˜" class="headerlink" title="KPIæ—¶é—´åºåˆ—èšç±»é¢ä¸´çš„æŒ‘æˆ˜"></a>KPIæ—¶é—´åºåˆ—èšç±»é¢ä¸´çš„æŒ‘æˆ˜</h3><ul><li>å™ªå£°å’Œå¼‚å¸¸ï¼šå™ªå£°æ˜¯æŒ‡æ•°æ®é‡‡é›†æ—¶å€™å¸¦æ¥çš„è¾ƒå°çš„æ³¢åŠ¨ã€‚å¼‚å¸¸æ˜¯æŒ‡ç›¸å¯¹äºåºåˆ—çš„å¹³å‡æ°´å¹³æ³¢åŠ¨å¾ˆå¤§çš„æ•°å€¼ã€‚å™ªå£°å’Œå¼‚å¸¸éƒ½ä¼šå½±å“åˆ°æ—¶é—´åºåˆ—çš„èšç±»ï¼Œæ— è®ºæ˜¯ä½¿ç”¨ç‰¹å¾å·¥ç¨‹è¿˜æ˜¯ç›¸å…³æ€§çš„æ–¹å¼åšèšç±»ã€‚</li><li>æŒ¯å¹…ï¼škpiæ•°æ®å› ä¸ºæ˜¯åœ¨ä¸åŒæœºå™¨ä¸Šé‡‡é›†çš„æ•°å€¼æœ‰å¯èƒ½å­˜åœ¨ä¸€å®šçš„å·®å¼‚ã€‚</li><li>åç§»ï¼šå„ä¸ªæ—¶é—´åºåˆ—å› ä¸ºåœ¨è°ƒç”¨é“¾ä¸Šçš„ä½ç½®ä¸åŒï¼Œæ‰€ä»¥æœ‰å¯èƒ½å­˜åœ¨å»¶è¿Ÿ</li></ul><h3 id="æå–baselineçš„ç®—æ³•æµç¨‹"><a href="#æå–baselineçš„ç®—æ³•æµç¨‹" class="headerlink" title="æå–baselineçš„ç®—æ³•æµç¨‹"></a>æå–baselineçš„ç®—æ³•æµç¨‹</h3><ol><li><p>ä¸ºäº†èƒ½è§£å†³ä¸Šé¢æåˆ°çš„æŒ¯å¹…ä¸åŒçš„é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œæ ‡å‡†åŒ–ã€‚ä¹Ÿå°±æ˜¯å‡å‡å€¼é™¤ä»¥æ ‡å‡†å·®ã€‚</p></li><li><p>æå–baseline</p></li><li><p>å¹³æ»‘æç«¯å€¼ï¼Œä¹Ÿå°±æ˜¯è§£å†³ä¸Šé¢æåˆ°çš„å¼‚å¸¸çš„é—®é¢˜ã€‚å¹³æ»‘æç«¯å€¼çš„æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯ç›´æ¥å»æ‰ç›¸å¯¹å¹³å‡å€¼æ¥è¯´åå·®æœ€å¤§çš„5%çš„æ•°æ®ï¼Œç„¶ååˆ©ç”¨çº¿æ€§æ’å€¼å¡«å……ã€‚å› ä¸ºç»è¿‡æ ‡å‡†åŒ–ä¹‹åï¼Œåºåˆ—çš„å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1ï¼Œæ‰€ä»¥ç›´æ¥å»æ‰ç»å¯¹å€¼æœ€å¤§çš„5%çš„æ•°æ®ï¼Œè¿™ä¸ªæ¯”ä¾‹å¯ä»¥æ ¹æ®æ•°æ®ä¸­å¼‚å¸¸å€¼çš„æ•°é‡è¿›è¡Œæ”¹å˜ã€‚</p></li><li><p>æå–baselineï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„ç§»åŠ¨å¹³å‡çš„æ–¹å¼è¿›è¡Œæå–ã€‚<br>T: ç»è¿‡å¹³æ»‘æç«¯å€¼åçš„åºåˆ—ï¼›W:the length of sliding windowï¼›Bï¼šBaselineï¼›R:Residual<br>$$<br>T &#x3D; (x_1, x_2,\dots,x_m)\<br>x^*<em>t&#x3D;\frac{1}{W}\sum</em>{i&#x3D;1}^Wx_{t-i+1}\<br>B&#x3D;(x^*<em>W,x^*</em>{W+1},\dots,x^*_{m})\<br>R&#x3D;(x_W-x^*<em>W,\dots,x</em>{m}-x^*_{m})<br>$$<br><img src="/src/v2-31b28e24e34085401ee76767924a06a7_720w.jpg" alt="img"></p></li></ol><p>è¿™ä¸ªæ˜¯è®ºæ–‡ä¸­baselineã€raw dataã€residualsçš„å¯è§†åŒ–ï¼Œå¯ä»¥çœ‹åˆ°baselineæ¸…æ™°äº†å¾ˆå¤šã€‚</p><h3 id="åŸºäºå¯†åº¦çš„èšç±»"><a href="#åŸºäºå¯†åº¦çš„èšç±»" class="headerlink" title="åŸºäºå¯†åº¦çš„èšç±»"></a>åŸºäºå¯†åº¦çš„èšç±»</h3><p>1.ç›¸ä¼¼åº¦çš„è®¡ç®—</p><p>è¿›è¡Œèšç±»éœ€è¦çš„ä¸€ä¸ªè·ç¦»çš„åº¦é‡ç®—æ³•ï¼Œè®ºæ–‡ä¸­ä½¿ç”¨äº†SBDï¼ˆshape-based distanceï¼‰çš„æ–¹æ³•è¿›è¡Œåº¦é‡ã€‚<br>$$<br>\vec{x}_{(s)}&#x3D;(x_1, x_2,\dots,x_m)\</p><p>\vec{y}<em>{(s)}&#x3D;<br>\left{\begin{array}{ll}<br>        {(\overbrace{0,\dots,0}^{|s|},y_1,y_2,\dots,y</em>{m-s})} &amp; {\text s \ge 0} \<br>        {(y_{1-s},\dots,y_{m-1},y_m,\underbrace{0,\dots,0}<em>{|s|})} &amp; {\text s \lt 0}<br>        \end{array}\right. \qquad s\in [-m+1,m-1]<br>$$<br>$x,y$éƒ½æ˜¯ä¸€ä¸ªæ—¶é—´åºåˆ—ï¼Œé•¿åº¦ä¸º$m$ã€‚$s$æ˜¯ä¸€ä¸ªåç§»çš„æ ¡æ­£ç³»æ•°ï¼Œç”¨äºå¤„ç†åç§»é—®é¢˜ã€‚<br>$$<br>CC_s(\vec{x},\vec{y})&#x3D;<br>\left{\begin{array}{ll}<br>        {\sum</em>{i&#x3D;1}^{m-s}x_{s+i}Â·y_i} &amp; {\text s \ge 0} \<br>        {\sum_{i&#x3D;1}^{m+s}x_{i}Â·y_{i-s}} &amp; {\text s \lt 0}<br>        \end{array}\right. \qquad s\in [-m+1,m-1]\</p><p>NCC(\vec{x},\vec{y})&#x3D; \underset{s}{\max}(\frac{CC_s(\vec{x},\vec{y})}{||\vec{x}||_2Â·||\vec{y}||_2})  \quad \in [-1,1]\<br>SBD(\vec{x},\vec{y}) &#x3D; 1- NCC(\vec{x},\vec{y})\quad \in [0, 2]<br>$$<br>$NCC&#x3D;1$ä¸¤ä¸ªåºåˆ—å®Œå…¨ç›¸åŒï¼Œ$NCC&#x3D;-1$ä¸¤ä¸ªåºåˆ—å®Œå…¨ç›¸å</p><p><img src="/src/v2-021e77545a805b925d4cd91f34a3ba2c_720w.jpg" alt="img"></p><p>å·¦è¾¹æ˜¯æ²¡ç»è¿‡baselineæå–çš„SBDå€¼å’ŒåŸå§‹å›¾ï¼Œå³è¾¹æ˜¯ç»è¿‡baselineæå–çš„SBDå€¼å’Œbaselineçš„å›¾ç‰‡ï¼Œå¯ä»¥çœ‹åˆ°SBDç›¸å·®äº†10å€ï¼Œè¯´æ˜æå–çš„æ•ˆæœè¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„ã€‚</p><p>2.åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•çš„å‚æ•°ä¼°è®¡</p><p>è®ºæ–‡ä¸­ä½¿ç”¨çš„èšç±»ç®—æ³•æ˜¯DBSCANï¼Œæ˜¯åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œéœ€è¦æŒ‡å®šä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªminPtsï¼Œä¸€ä¸ªradiusã€‚minPtsç”¨å¤„å°±æ˜¯å¦‚æœåœ¨radiusçš„èŒƒå›´å†…ï¼Œæœ‰å¤§äºæˆ–è€…ç­‰äºminPtsä¸ªçš„ç‚¹ï¼Œå°±å¯ä»¥ç®—åšçš„æ˜¯ä¸€ä¸ªæ ¸å¿ƒç‚¹ï¼ˆæ›´å¤šçš„ç»†èŠ‚å¯ä»¥æŸ¥æ‰¾DBSCANçš„ä¸€äº›èµ„æ–™ï¼‰ã€‚è®ºæ–‡ä¸­minPtsçš„å€¼ä½¿ç”¨çš„æ˜¯DBSCANè®ºæ–‡ä¸­å»ºè®®ä½¿ç”¨çš„4ã€‚radiusçš„è®¾ç½®å¾ˆå…³é”®ï¼Œè®ºæ–‡ä¸­æå‡ºäº†ä¸€ä¸ªæœç´¢çš„æ–¹æ³•ã€‚</p><p>è®ºæ–‡ä¸­é‡‡ç”¨ä¸‹é¢çš„è§„åˆ™è·å¾—ä¸­å¿ƒåºåˆ—ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸¤ä¸ªåºåˆ—çš„NCCçš„å€¼å°äº0.8çš„è¯å°±å¯ä»¥è¯´è¿™ä¸ªåœ¨å½¢æ€ä¸Šä¸ç›¸ä¼¼ã€‚<br>$$<br>centroid&#x3D;\underset{\vec{x}\in cluster_i}{\arg min}\underset{\vec{y}\in cluster_i}{\sum}SBD(\vec{x},\vec{y})^2<br>$$<br>$$<br>$$</p>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithmsâ€”â€”è½®ç›˜èµŒ</title>
    <link href="/2022/07/01/Algorithms/%E8%BD%AE%E7%9B%98%E8%B5%8C/"/>
    <url>/2022/07/01/Algorithms/%E8%BD%AE%E7%9B%98%E8%B5%8C/</url>
    
    <content type="html"><![CDATA[<p>è½®ç›˜èµŒé€‰æ‹©æ³•ï¼ˆroulette wheel selectionï¼‰æ˜¯æœ€ç®€å•ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„é€‰æ‹©æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­ï¼Œå„ä¸ªä¸ªä½“çš„é€‰æ‹©æ¦‚ç‡å’Œå…¶é€‚åº”åº¦å€¼æˆæ¯”ä¾‹ï¼Œé€‚åº”åº¦è¶Šå¤§ï¼Œé€‰ä¸­æ¦‚ç‡ä¹Ÿè¶Šå¤§ã€‚ä½†å®é™…åœ¨è¿›è¡Œè½®ç›˜èµŒé€‰æ‹©æ—¶ä¸ªä½“çš„é€‰æ‹©å¾€å¾€ä¸æ˜¯ä¾æ®ä¸ªä½“çš„é€‰æ‹©æ¦‚ç‡ï¼Œè€Œæ˜¯æ ¹æ®â€œç´¯ç§¯æ¦‚ç‡â€æ¥è¿›è¡Œé€‰æ‹©ã€‚</p><h2 id="è½®ç›˜èµŒé€‰æ‹©æ³•æ“ä½œè¿‡ç¨‹"><a href="#è½®ç›˜èµŒé€‰æ‹©æ³•æ“ä½œè¿‡ç¨‹" class="headerlink" title="è½®ç›˜èµŒé€‰æ‹©æ³•æ“ä½œè¿‡ç¨‹"></a>è½®ç›˜èµŒé€‰æ‹©æ³•æ“ä½œè¿‡ç¨‹</h2><p>ä»¥ä¸€ä¸ªå®ä¾‹æ¥è®²è¿°è½®ç›˜èµŒé€‰æ‹©æ³•çš„å…·ä½“è¿‡ç¨‹ï¼Œç°æœ‰ä¸€ä¸ªæŠ½å¥–è½®ç›˜å¦‚ä¸‹ï¼š</p><pre><code class=" mermaid">pietitle è½®ç›˜èµŒ    &quot;ä¸€ç­‰å¥–&quot; : 5    &quot;äºŒç­‰å¥–&quot; : 15    &quot;ä¸‰ç­‰å¥–&quot; : 20    &quot;å¹¸è¿å¥–&quot; :  25    &quot;è°¢è°¢å‚ä¸&quot;: 35</code></pre><p>å¯¹äºè¿™ä¸ªæ¸¸æˆæ¥è¯´ï¼Œ æ¯ä¸€ä¸ªå¥–é¡¹éƒ½æœ‰å®ƒæ¦‚ç‡ã€‚</p><table><thead><tr><th align="center">å¥–é¡¹</th><th align="center">è°¢è°¢å‚ä¸</th><th align="center">å¹¸è¿å¥–</th><th align="center">ä¸‰ç­‰å¥–</th><th align="center">äºŒç­‰å¥–</th><th align="center">ä¸€ç­‰å¥–</th></tr></thead><tbody><tr><td align="center">ç¼–å·</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">5</td></tr><tr><td align="center">é€‰ä¸­æ¦‚ç‡</td><td align="center">0.35</td><td align="center">0.25</td><td align="center">0.2</td><td align="center">0.15</td><td align="center">0.05</td></tr><tr><td align="center">ç´¯è®¡æ¦‚ç‡</td><td align="center">0.35</td><td align="center">0.6</td><td align="center">0.8</td><td align="center">0.95</td><td align="center">1</td></tr></tbody></table><p>ä½†æ˜¯å¯¹äºè½®ç›˜èµŒè¿™ä¸ªè¯´æ³•æ¥è¯´ï¼Œå¹¶æ²¡æœ‰è¿™ä¸€è¯´ï¼Œæ¦‚ç‡å¾€å¾€ç”¨é€‚åº”åº¦æ¥è¡¨ç¤ºï¼Œç±»ä¼¼äºå‘ç”Ÿæ¬¡æ•°ã€‚</p><p>$x_i$çš„é€‚åº”åº¦è®°ä¸º$f(x_i)$ã€‚å…¶è®¡ç®—å…¬å¼ä¸º$p(x_i)&#x3D;\frac{f(x_i)}{\sum_{j&#x3D;i}^Nf_j}$,å¾ˆåƒsoftmaxçš„è®¡ç®—å…¬å¼ã€‚</p><p> åŒæ ·çš„æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªç´¯è®¡æ¦‚ç‡å’Œcdfç”»ä¸¤ä¸ªå›¾å‡ºæ¥ã€‚<img src="/%5Csrc%5Cimage-20220228202304041.png" alt="image-20220228202304041"></p><p><img src="/%5Csrc%5CB859BA4DA780E441279D2F48B6AF20CF.png" alt="B859BA4DA780E441279D2F48B6AF20CF"></p><p>è¿™æ ·æˆ‘ä»¬éšæœºä»0-1åˆ†å¸ƒå†…å–æ•°ï¼Œå°±å¯ä»¥è·å¾—ä¸åŸæ•°æ®åˆ†å¸ƒç›¸åŒçš„æ•°æ® </p>]]></content>
    
    
    <categories>
      
      <category>Algorithms</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxâ€”â€”Operation</title>
    <link href="/2022/07/01/BigData&amp;Linux/Linux%20Operation/"/>
    <url>/2022/07/01/BigData&amp;Linux/Linux%20Operation/</url>
    
    <content type="html"><![CDATA[<h1 id="LinuxåŸºæœ¬ç›®å½•ç»“æ„"><a href="#LinuxåŸºæœ¬ç›®å½•ç»“æ„" class="headerlink" title="LinuxåŸºæœ¬ç›®å½•ç»“æ„"></a>LinuxåŸºæœ¬ç›®å½•ç»“æ„</h1><pre><code class=" mermaid">graph TD; / --&gt; bin     / --&gt; boot     / --&gt; dev     / --&gt; etc     / --&gt; home     / --&gt; lib     / --&gt; proc     / --&gt; usr     / --&gt; var     / --&gt; .</code></pre><p>Linux æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ª<strong>ç›®å½•æ ‘çš„ç»“æ„</strong>ï¼Œæ–‡ä»¶ç³»ç»Ÿç»“æ„ä»ä¸€ä¸ªæ ¹ç›®å½•å¼€å§‹ï¼Œæ ¹ç›®å½•ä¸‹å¯ä»¥æœ‰ä»»æ„å¤šä¸ªæ–‡ä»¶å’Œå­ç›®å½•ï¼Œå­ç›®å½•ä¸­åˆå¯ä»¥æœ‰ä»»æ„å¤šä¸ªæ–‡ä»¶å’Œå­ç›®å½•</p><ul><li><strong>bin å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶(ls,cat,mkdirç­‰)</strong></li><li>boot å­˜æ”¾ç”¨äºç³»ç»Ÿå¼•å¯¼æ—¶ä½¿ç”¨çš„å„ç§æ–‡ä»¶</li><li>dev ç”¨äºå­˜æ”¾è®¾å¤‡æ–‡ä»¶</li><li><strong>etc å­˜æ”¾ç³»ç»Ÿé…ç½®æ–‡ä»¶</strong></li><li>home å­˜æ”¾æ‰€æœ‰ç”¨æˆ·æ–‡ä»¶çš„æ ¹ç›®å½•</li><li>lib å­˜æ”¾è·Ÿæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç¨‹åºè¿è¡Œæ‰€éœ€è¦çš„å…±äº«åº“åŠå†…æ ¸æ¨¡å—</li><li>mnt ç³»ç»Ÿç®¡ç†å‘˜å®‰è£…ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿçš„å®‰è£…ç‚¹</li><li><strong>opt é¢å¤–å®‰è£…çš„å¯é€‰åº”ç”¨ç¨‹åºåŒ…æ‰€æ”¾ç½®çš„ä½ç½®</strong></li><li>proc è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œå­˜æ”¾å½“å‰å†…å­˜çš„æ˜ å°„</li><li><strong>root è¶…çº§ç”¨æˆ·ç›®å½•</strong></li><li>sbin å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªæœ‰rootæ‰èƒ½è®¿é—®</li><li>tmp ç”¨äºå­˜æ”¾å„ç§ä¸´æ—¶æ–‡ä»¶</li><li>usr ç”¨äºå­˜æ”¾ç³»ç»Ÿåº”ç”¨ç¨‹åºï¼Œæ¯”è¾ƒé‡è¦çš„ç›®å½•&#x2F;usr&#x2F;local æœ¬åœ°ç®¡ç†å‘˜è½¯ä»¶å®‰è£…ç›®å½•</li><li>var ç”¨äºå­˜æ”¾è¿è¡Œæ—¶éœ€è¦æ”¹å˜æ•°æ®çš„æ–‡ä»¶</li></ul><h1 id="å‘½ä»¤åŸºæœ¬æ ¼å¼"><a href="#å‘½ä»¤åŸºæœ¬æ ¼å¼" class="headerlink" title="å‘½ä»¤åŸºæœ¬æ ¼å¼"></a>å‘½ä»¤åŸºæœ¬æ ¼å¼</h1><p><code>cmd [options] [argument] </code>  optionsç§°ä¸ºé€‰é¡¹ï¼Œargumentsç§°ä¸ºå‚æ•°</p><p>é€‰é¡¹å’Œå‚æ•°éƒ½ä½œä¸ºShellå‘½ä»¤æ‰§è¡Œæ—¶çš„è¾“å…¥ï¼Œå®ƒä»¬<strong>ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”å¼€</strong>ã€‚è¦æ³¨æ„çš„æ˜¯ Linuxæ˜¯<strong>åŒºåˆ†å¤§å°</strong>å†™çš„</p><p>å¯¹äºå‘½ä»¤æ¥è¯´ï¼Œä½ å¯ä»¥ç†è§£ä¸º ç³»ç»Ÿçš„å„ä¸ªå‡½æ•°</p><p>cmdå‘½ä»¤å°±æ˜¯ä¸€ä¸ªå‡½æ•°æ¥å£ï¼Œoptionså°±æ˜¯ä¸€ä¸ªå‡½æ•°çš„æ¨¡å¼åˆ¤æ–­ï¼Œ argumentå°±æ˜¯è¿™ä¸ªå‡½æ•°æ¥å£æºå¸¦çš„å‚æ•°</p><p>ä¸¾ä¸ªä¾‹å­<code>ls </code> æ˜¯æ˜¾ç¤ºæ–‡ä»¶æˆ–è€…ç›®å½•ä¿¡æ¯ï¼Œ<code>ls -a</code> æ˜¯ä¼šæ˜¾ç¤ºæ–‡ä»¶ä¸‹æ‰€æœ‰æ–‡ä»¶åŒ…æ‹¬éšè—æ–‡ä»¶ï¼Œ<code>ls -l</code>åˆ™æ˜¯ä¼šæ˜¾ç¤ºæ–‡ä»¶å¤¹å†…æ–‡ä»¶çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¿™å°±æ˜¯optionsçš„æ•ˆæœã€‚<code>ls /lib</code> å°±ä¸ä¼šæ˜¾ç¤ºå½“å‰è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œè€Œæ˜¯ä¼šæ˜¾ç¤º&#x2F;libæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯å‚æ•°çš„æ•ˆæœ</p><p>å½“ç„¶è¿™ä¸ª å¯æ‰§è¡Œçš„æ–‡ä»¶å¤§è‡´æœ‰ä¸€ä¸‹å‡ ç§</p><ul><li><strong>å†…ç½®å‘½ä»¤</strong>ï¼šå‡ºäºæ•ˆç‡çš„è€ƒè™‘ï¼Œå°†ä¸€äº›å¸¸ç”¨å‘½ä»¤çš„è§£é‡Šç¨‹åº<strong>æ„é€ åœ¨Shellå†…éƒ¨</strong>ã€‚</li><li><strong>å¤–ç½®å‘½ä»¤</strong>ï¼šå­˜æ”¾åœ¨&#x2F;binã€&#x2F;sbinç›®å½•ä¸‹çš„å‘½ä»¤</li><li><strong>å®ç”¨ç¨‹åº</strong>ï¼šå­˜æ”¾åœ¨&#x2F;usr&#x2F;binã€&#x2F;usr&#x2F;sbinã€&#x2F;usr&#x2F;shareã€&#x2F;usr&#x2F;local&#x2F;binç­‰ç›®å½•ä¸‹çš„å®ç”¨ç¨‹åº</li><li><strong>ç”¨æˆ·ç¨‹åº</strong>ï¼šç”¨æˆ·ç¨‹åºç»è¿‡ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶åï¼Œå¯ä½œä¸ºShellå‘½ä»¤è¿è¡Œ</li><li><strong>Shellè„šæœ¬</strong>ï¼šç”±Shellè¯­è¨€ç¼–å†™çš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œå¯ä½œä¸ºShellå‘½ä»¤è¿è¡Œ</li></ul><p>å¿˜äº†è¯´äº†åœ¨Linuxå†…å…¶å®ä¹Ÿæœ‰é€šé…ç¬¦è¿™ä¸€è¯´ï¼Œåé¢grepä¹Ÿæœ‰æ¶‰åŠåˆ°è¿™ä¸€æ¦‚å¿µï¼Œä½†æ˜¯ä¸¤è€…è¿˜æ˜¯æœ‰äº›ä¸åŒçš„</p><ul><li><code>*</code>ï¼šåŒ¹é…ä»»ä½•å­—ç¬¦å’Œä»»ä½•æ•°ç›®çš„å­—ç¬¦</li><li><code>?</code>ï¼šåŒ¹é…å•ä¸€æ•°ç›®çš„ä»»ä½•å­—ç¬¦</li><li><code>[ ]</code>ï¼šåŒ¹é…[ ]ä¹‹å†…çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</li></ul><h1 id="å¸¸è§çš„æ–‡ä»¶ã€ç›®å½•æ“ä½œå‘½ä»¤"><a href="#å¸¸è§çš„æ–‡ä»¶ã€ç›®å½•æ“ä½œå‘½ä»¤" class="headerlink" title="å¸¸è§çš„æ–‡ä»¶ã€ç›®å½•æ“ä½œå‘½ä»¤"></a>å¸¸è§çš„æ–‡ä»¶ã€ç›®å½•æ“ä½œå‘½ä»¤</h1><ul><li><p><strong>pwd</strong><strong>:</strong>   æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„å½“å‰ç›®å½•</p></li><li><p><strong>cdï¼š</strong>    ç”¨æ¥åˆ‡æ¢ç›®å½•</p><ol><li><p>. : è¡¨ç¤ºå½“å‰ç›®å½•</p></li><li><p>: è¡¨ç¤ºå½“å‰ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•</p></li><li><p>- : è¡¨ç¤ºç”¨cdå‘½ä»¤åˆ‡æ¢ç›®å½•æ‰€åœ¨ç›®å½•</p></li><li><p>~ ï¼šè¡¨ç¤ºç”¨æˆ·ä¸»ç›®å½•çš„ç»å¯¹ç›®å½•</p></li></ol></li><li><p><strong>ls :</strong>     æ˜¾ç¤ºæ–‡ä»¶æˆ–è€…ç›®å½•ä¿¡æ¯</p></li><li><p><strong>mkdirï¼š</strong> å½“å‰ç›®å½•ä¸‹åˆ›æ–°ä¸€ä¸ªç©ºçš„ç›®å½•</p></li><li><p><strong>rmdirï¼š</strong>  è¦æ±‚ç›®å½•ä¸ºç©º</p></li><li><p><strong>touchï¼š</strong> ç”Ÿæˆä¸€ä¸ªç©ºæ–‡ä»¶æˆ–è€…æ›´æ”¹æ–‡ä»¶çš„æ—¶é—´</p></li><li><p><strong>cp:</strong>      å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•</p></li><li><p><strong>mv:</strong>     ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•ã€æ–‡ä»¶æˆ–ç›®å½•æ”¹å</p></li><li><p><strong>rm:</strong>     åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</p></li><li><p><strong>ln:</strong>      å»ºç«‹é“¾æ¥æ–‡ä»¶</p></li><li><p><strong>find:</strong>    æŸ¥æ‰¾æ–‡ä»¶</p></li><li><p><strong>file&#x2F;stat:</strong> æŸ¥çœ‹æ–‡ä»¶ç±»å‹æˆ–æ–‡ä»¶å±æ€§ä¿¡æ¯</p></li><li><p><strong>cat:</strong>     æŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶å†…å®¹</p></li><li><p><strong>more:</strong>   åˆ†é¡µæŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶å†…å®¹</p></li><li><p><strong>less:</strong>    åˆ†é¡µï¼Œæœç´¢ï¼Œå›ç¿»ç­‰æ“ä½œæŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶å†…å®¹</p></li><li><p><strong>tail -10:</strong>  æŸ¥çœ‹æ–‡ä»¶çš„å°¾éƒ¨çš„10è¡Œ</p></li><li><p><strong>tail -fï¼š</strong>  ç›‘æ§ä¸€ä¸ªæ–‡ä»¶å†…å®¹</p></li><li><p><strong>head -10:</strong> æŸ¥çœ‹æ–‡ä»¶çš„å¤´éƒ¨10è¡Œ</p></li><li><p><strong>tar -zxvf</strong>ï¼šè§£å‹å‹ç¼©åŒ…tar.gz</p></li><li><p><strong>gzip -d:</strong>  è§£å‹å‹ç¼©åŒ…gz</p></li><li><p><strong>bzip2 -d:</strong>  è§£å‹å‹ç¼©åŒ…bz2</p></li><li><p><strong>tar -cxvf</strong>ï¼šç”Ÿæˆå‹ç¼©åŒ…tar.gz</p></li><li><p><strong>gzip</strong>   : ç”Ÿæˆå‹ç¼©åŒ…gz</p></li><li><p><strong>bzip2</strong>  :  ç”Ÿæˆå‹ç¼©åŒ…bz2</p></li><li><p><strong>echo:</strong>    æŠŠå†…å®¹é‡å®šå‘åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ ï¼Œæœ‰åˆ™æ‰“å¼€ï¼Œæ— åˆ™åˆ›å»º</p></li><li><p><strong>ç®¡é“å‘½ä»¤ | ï¼š</strong>å°†å‰é¢çš„ç»“æœç»™åé¢çš„å‘½ä»¤ï¼Œä¾‹å¦‚ï¼šps aux | grep mysqlï¼Œå°†psæ˜¾ç¤ºçš„è¿›ç¨‹æŒ‰ç…§mysqlçš„åˆ†ç»„æ˜¾ç¤º</p></li><li><p><strong>é‡å®šå‘   &gt;è¦†ç›–æ¨¡å¼   &gt;&gt;è¿½åŠ æ¨¡å¼ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo &quot;l love you&quot; &gt; amazing.txt<br></code></pre></td></tr></table></figure><p>å¦‚ä¸Šå°±æ˜¯æŠŠl love youè¿™å¥è¯å†™å…¥amazing.txtå¹¶è¦†ç›–ä¹‹å‰çš„å†…å®¹</p></li></ul><hr><h1 id="Vimç¨‹åºç¼–è¾‘å™¨"><a href="#Vimç¨‹åºç¼–è¾‘å™¨" class="headerlink" title="Vimç¨‹åºç¼–è¾‘å™¨"></a>Vimç¨‹åºç¼–è¾‘å™¨</h1><p>æ‰€æœ‰çš„ Unix Like ç³»ç»Ÿéƒ½ä¼šå†…å»º vi æ–‡ä¹¦ç¼–è¾‘å™¨ã€‚</p><p>Vimæ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚è¯¦æƒ…çš„å¯ä»¥å‚è€ƒ<a href="https://www.vim.org/">vimçš„å®˜æ–¹ç½‘ç«™</a></p><p>åŸºæœ¬ä¸Švimåˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯<strong>å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰</strong>ï¼Œ<strong>è¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰</strong>å’Œ<strong>åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰</strong>ã€‚</p><h2 id="å‘½ä»¤æ¨¡å¼ï¼ˆCommand-modeï¼‰"><a href="#å‘½ä»¤æ¨¡å¼ï¼ˆCommand-modeï¼‰" class="headerlink" title="å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰"></a><strong>å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰</strong></h2><p>ç”¨æˆ·åˆšåˆšå¯åŠ¨ vi&#x2F;vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ã€‚</p><p>æ­¤çŠ¶æ€ä¸‹æ•²å‡»é”®ç›˜åŠ¨ä½œä¼šè¢«Vimè¯†åˆ«ä¸ºå‘½ä»¤ï¼Œè€Œéè¾“å…¥å­—ç¬¦ã€‚æ¯”å¦‚æˆ‘ä»¬æ­¤æ—¶æŒ‰ä¸‹iï¼Œå¹¶ä¸ä¼šè¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œiè¢«å½“ä½œäº†ä¸€ä¸ªå‘½ä»¤ã€‚</p><p>ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š</p><ul><li><code>i</code> åˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ï¼Œä»¥è¾“å…¥å­—ç¬¦ã€‚</li><li><strong><code>x</code></strong> åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ã€‚</li><li><code>: </code>åˆ‡æ¢åˆ°åº•çº¿å‘½ä»¤æ¨¡å¼ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤ã€‚</li><li><code>G</code>ç”¨äºç›´æ¥è·³è½¬åˆ°æ–‡ä»¶å°¾</li><li><code>ZZ</code>ç”¨äºå­˜ç›˜é€€å‡ºVi</li><li><code>ZQ</code>ç”¨äºä¸å­˜ç›˜é€€å‡ºVi</li><li><code>/å’Œï¼Ÿ</code>ç”¨äºæŸ¥æ‰¾å­—ç¬¦ä¸²</li><li><code>n</code>ç»§ç»­æŸ¥æ‰¾ä¸‹ä¸€ä¸ª</li><li><code>yy</code>å¤åˆ¶ä¸€è¡Œ</li><li><code>p</code>ç²˜å¸–åœ¨ä¸‹ä¸€è¡Œï¼ŒPç²˜è´´åœ¨å‰ä¸€è¡Œ</li><li><code>dd</code>åˆ é™¤ä¸€è¡Œæ–‡æœ¬</li><li><code>u</code>å–æ¶ˆä¸Šä¸€æ¬¡ç¼–è¾‘æ“ä½œï¼ˆundoï¼‰</li></ul><p>è‹¥æƒ³è¦ç¼–è¾‘æ–‡æœ¬ï¼šå¯åŠ¨Vimï¼Œè¿›å…¥äº†å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹iï¼Œåˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ã€‚</p><p>å‘½ä»¤æ¨¡å¼åªæœ‰ä¸€äº›æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå› æ­¤ä»è¦ä¾é åº•çº¿å‘½ä»¤æ¨¡å¼è¾“å…¥æ›´å¤šå‘½ä»¤ã€‚</p><h2 id="è¾“å…¥æ¨¡å¼ï¼ˆInsert-modeï¼‰"><a href="#è¾“å…¥æ¨¡å¼ï¼ˆInsert-modeï¼‰" class="headerlink" title="è¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰"></a><strong>è¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰</strong></h2><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹iå°±è¿›å…¥äº†è¾“å…¥æ¨¡å¼ã€‚</p><p>åœ¨è¾“å…¥æ¨¡å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‰é”®ï¼š</p><ul><li><strong>å­—ç¬¦æŒ‰é”®ä»¥åŠShiftç»„åˆ</strong>ï¼Œè¾“å…¥å­—ç¬¦</li><li><strong>ENTER</strong>ï¼Œå›è½¦é”®ï¼Œæ¢è¡Œ</li><li><strong>BACK SPACE</strong>ï¼Œé€€æ ¼é”®ï¼Œåˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦</li><li><strong>DEL</strong>ï¼Œåˆ é™¤é”®ï¼Œåˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦</li><li><strong>æ–¹å‘é”®</strong>ï¼Œåœ¨æ–‡æœ¬ä¸­ç§»åŠ¨å…‰æ ‡</li><li><strong>HOME</strong>&#x2F;<strong>END</strong>ï¼Œç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–&#x2F;è¡Œå°¾</li><li><strong>Page Up</strong>&#x2F;<strong>Page Down</strong>ï¼Œä¸Š&#x2F;ä¸‹ç¿»é¡µ</li><li><strong>Insert</strong>ï¼Œåˆ‡æ¢å…‰æ ‡ä¸ºè¾“å…¥&#x2F;æ›¿æ¢æ¨¡å¼ï¼Œå…‰æ ‡å°†å˜æˆç«–çº¿&#x2F;ä¸‹åˆ’çº¿</li><li><strong>ESC</strong>ï¼Œé€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼</li><li><strong>Ctrl+n</strong>ï¼Œè‡ªåŠ¨è¡¥å…¨</li></ul><h2 id="åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast-line-modeï¼‰"><a href="#åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast-line-modeï¼‰" class="headerlink" title="åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰"></a><strong>åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰</strong></h2><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹:ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</p><p>åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚</p><p>åœ¨åº•çº¿å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬çš„å‘½ä»¤æœ‰ï¼‰ï¼š</p><ul><li><code>:w</code> ä¿å­˜å½“å‰ç¼–è¾‘æ–‡ä»¶ï¼Œä½†å¹¶ä¸é€€å‡º</li><li><code>:w</code> newfile å­˜ä¸ºå¦å¤–ä¸€ä¸ªåä¸º â€œnewfileâ€ çš„æ–‡ä»¶</li><li><code>:wq</code> ç”¨äºå­˜ç›˜é€€å‡ºVi</li><li><code>:q!</code> ç”¨äºä¸å­˜ç›˜é€€å‡ºVi</li><li><code>:q</code>ç”¨äºç›´æ¥é€€å‡ºVi ï¼ˆæœªåšä¿®æ”¹ï¼‰</li></ul><p><strong>è®¾ç½®Viç¯å¢ƒ:</strong></p><ul><li>:set autoindent ç¼©è¿›,å¸¸ç”¨äºç¨‹åºçš„ç¼–å†™</li><li>:set noautoindent å–æ¶ˆç¼©è¿›</li><li>:set number åœ¨ç¼–è¾‘æ–‡ä»¶æ—¶æ˜¾ç¤ºè¡Œå·</li><li>:set nonumber ä¸æ˜¾ç¤ºè¡Œå·</li><li>:set tabstop&#x3D;value è®¾ç½®æ˜¾ç¤ºåˆ¶è¡¨ç¬¦çš„ç©ºæ ¼å­—ç¬¦ä¸ªæ•°</li><li>:set æ˜¾ç¤ºè®¾ç½®çš„æ‰€æœ‰é€‰é¡¹</li><li>:set all æ˜¾ç¤ºæ‰€æœ‰å¯ä»¥è®¾ç½®çš„é€‰é¡¹</li></ul><p>æŒ‰ESCé”®å¯éšæ—¶é€€å‡ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</p><hr><h1 id="grepåŠæ­£åˆ™è¡¨è¾¾å¼"><a href="#grepåŠæ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="grepåŠæ­£åˆ™è¡¨è¾¾å¼"></a>grepåŠæ­£åˆ™è¡¨è¾¾å¼</h1><h2 id="grepâ€”â€”å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·"><a href="#grepâ€”â€”å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·" class="headerlink" title="grepâ€”â€”å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·"></a>grepâ€”â€”<strong>å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·</strong></h2><p>grep å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹é…çš„è¡Œæ‰“å°å‡ºæ¥ã€‚</p><p>ã€€æ ¼å¼ï¼š**<code>grep [options] PATTERN [FILE.]</code>**</p><ul><li>PATTERN æ˜¯æŸ¥æ‰¾æ¡ä»¶ï¼š<strong>å¯ä»¥æ˜¯æ™®é€šå­—ç¬¦ä¸²ã€å¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼</strong>ï¼Œé€šå¸¸ç”¨å•å¼•å·å°†REæ‹¬èµ·æ¥ã€‚</li><li>FILE æ˜¯è¦æŸ¥æ‰¾çš„æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ç”¨ç©ºæ ¼é—´éš”çš„å¤šä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯æ˜¯ä½¿ç”¨Shellçš„é€šé…ç¬¦åœ¨å¤šä¸ªæ–‡ä»¶ä¸­æŸ¥æ‰¾PATTERNï¼Œçœç•¥æ—¶è¡¨ç¤ºåœ¨æ ‡å‡†è¾“å…¥ä¸­æŸ¥æ‰¾ã€‚</li><li>grepå‘½ä»¤ä¸ä¼šå¯¹è¾“å…¥æ–‡ä»¶è¿›è¡Œä»»ä½•ä¿®æ”¹æˆ–å½±å“ï¼Œå¯ä»¥ä½¿ç”¨è¾“å‡ºé‡å®šå‘å°†ç»“æœå­˜ä¸ºæ–‡ä»¶</li></ul><h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><h3 id="1ã€åŸºç¡€å†…å®¹"><a href="#1ã€åŸºç¡€å†…å®¹" class="headerlink" title="1ã€åŸºç¡€å†…å®¹"></a><strong>1ã€åŸºç¡€å†…å®¹</strong></h3><p><strong>å­—ç¬¦åŒ¹é…</strong></p><ul><li>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå¦‚æœç›´æ¥ç»™å‡ºå­—ç¬¦ï¼Œå°±æ˜¯ç²¾ç¡®åŒ¹é…ã€‚</li><li>\d åŒ¹é…ä¸€ä¸ªæ•°å­—</li><li>\D åŒ¹é…ä¸€ä¸ªéæ•°å­—</li><li>\w åŒ¹é…ä¸€ä¸ªå­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿_</li><li>\W åŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦,ç­‰ä»·äºâ€œ[^A-Za-z0-9_]â€</li><li>\s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰,ç­‰ä»·äº[ \f\n\r\t\v]</li><li>\S åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦</li><li>\n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦</li><li>\r åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦</li><li>\t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦</li></ul><p><strong>æ•°é‡åŒ¹é…</strong></p><ul><li>.åŒ¹é…é™¤â€œ\nâ€ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦</li><li>*åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡</li><li>+åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡</li><li>?åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡</li><li>{n}ï¼Œnæ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼ŒåŒ¹é…ç¡®å®šçš„næ¬¡</li><li>{n,m}ï¼Œmå’Œnå‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n&lt;&#x3D;mï¼Œæœ€å°‘åŒ¹é…næ¬¡ä¸”æœ€å¤šåŒ¹é…mæ¬¡</li><li>{n,}ï¼Œnæ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œè‡³å°‘åŒ¹é…næ¬¡</li><li>{,m} åŒ¹é…å‰é¢çš„æ­£åˆ™è¡¨è¾¾å¼æœ€å¤šmæ¬¡</li></ul><p><strong>èŒƒå›´åŒ¹é…</strong></p><ul><li>x|y åŒ¹é…xæˆ–y</li><li>[xyz] å­—ç¬¦é›†åˆ,åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</li><li>[^xyz] è´Ÿå€¼å­—ç¬¦é›†åˆ,åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦</li><li>[a-z] å­—ç¬¦èŒƒå›´,åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦</li><li>[^a-z] è´Ÿå€¼å­—ç¬¦èŒƒå›´,åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦</li></ul><p>æ¥çœ‹ä¸€ä¸ªç¨å¾®å¤æ‚çš„ä¾‹å­ï¼š\d{3,4}\s+\d{3,8}<br>æˆ‘ä»¬æ¥ä»å·¦åˆ°å³è§£è¯»ä¸€ä¸‹ï¼š</p><ol><li>\d{3,4}è¡¨ç¤ºåŒ¹é…3åˆ°4ä¸ªæ•°å­—ï¼Œä¾‹å¦‚â€™010â€™ã€â€™0755â€™ï¼›</li><li>\så¯ä»¥åŒ¹é…ä¸€ä¸ªç©ºæ ¼ï¼ˆä¹ŸåŒ…æ‹¬Tabç­‰ç©ºç™½ç¬¦ï¼‰ï¼Œæ‰€ä»¥\s+è¡¨ç¤ºè‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œä¾‹å¦‚åŒ¹é…â€™ â€˜ï¼Œâ€™ â€˜ç­‰ï¼›</li><li>\d{3,8}è¡¨ç¤º3-8ä¸ªæ•°å­—ä¾‹å¦‚â€™1234567â€™ã€‚</li></ol><p>ç»¼åˆèµ·æ¥ï¼Œä¸Šé¢çš„æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥åŒ¹é…ä»¥ä»»æ„ä¸ªç©ºæ ¼éš”å¼€çš„å¸¦åŒºå·çš„ç”µè¯å·ç ã€‚<br>å¦‚æœè¦åŒ¹é…â€™010-12345â€™ã€â€™0755-26776666â€™è¿™æ ·çš„å·ç å‘¢ï¼Ÿ<br>ç”±äºâ€™-â€˜æ˜¯ç‰¹æ®Šå­—ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œè¦ç”¨â€™&#39;è½¬ä¹‰ï¼Œæ‰€ä»¥ï¼Œä¸Šé¢çš„æ­£åˆ™æ˜¯\d{3,4}-\d{3,8}ã€‚<br>ä½†æ˜¯ï¼Œä»ç„¶æ— æ³•åŒ¹é…â€™010 - 12345â€™ï¼Œå› ä¸ºå¸¦æœ‰ç©ºæ ¼ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ›´å¤æ‚çš„åŒ¹é…æ–¹å¼ã€‚</p><h3 id="2ã€è¿›é˜¶å†…å®¹"><a href="#2ã€è¿›é˜¶å†…å®¹" class="headerlink" title="2ã€è¿›é˜¶å†…å®¹"></a><strong>2ã€è¿›é˜¶å†…å®¹</strong></h3><p>è¦åšæ›´ç²¾ç¡®åœ°åŒ¹é…ï¼Œå¯ä»¥ç”¨[]è¡¨ç¤ºèŒƒå›´ï¼Œæ¯”å¦‚ï¼š</p><ul><li>[0-9a-zA-Z_]å¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ã€å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ï¼›</li><li>[0-9a-zA-Z_]+å¯ä»¥åŒ¹é…è‡³å°‘ç”±ä¸€ä¸ªæ•°å­—ã€å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚â€™a100â€™ï¼Œâ€™0_Zâ€™ï¼Œâ€™Py3000â€™ç­‰ç­‰ï¼›</li><li>[a-zA-Z_][0-9a-zA-Z_]*å¯ä»¥åŒ¹é…ç”±å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼Œåæ¥ä»»æ„ä¸ªç”±ä¸€ä¸ªæ•°å­—ã€å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯Pythonåˆæ³•çš„å˜é‡ï¼›</li><li>[a-zA-Z_][0-9a-zA-Z_]{0, 19}æ›´ç²¾ç¡®åœ°é™åˆ¶äº†å˜é‡çš„é•¿åº¦æ˜¯1-20ä¸ªå­—ç¬¦ï¼ˆå‰é¢1ä¸ªå­—ç¬¦+åé¢æœ€å¤š19ä¸ªå­—ç¬¦ï¼‰ã€‚</li><li>A|Bå¯ä»¥åŒ¹é…Aæˆ–Bï¼Œæ‰€ä»¥(P|p)ythonå¯ä»¥åŒ¹é…â€™Pythonâ€™æˆ–è€…â€™pythonâ€™ã€‚</li><li>^è¡¨ç¤ºè¡Œçš„å¼€å¤´ï¼Œ^\dè¡¨ç¤ºå¿…é¡»ä»¥æ•°å­—å¼€å¤´ã€‚</li><li>$è¡¨ç¤ºè¡Œçš„ç»“æŸï¼Œ$\dè¡¨ç¤ºå¿…é¡»ä»¥æ•°å­—ç»“æŸã€‚</li></ul><hr><h1 id="ç³»ç»Ÿç®¡ç†å‘½ä»¤"><a href="#ç³»ç»Ÿç®¡ç†å‘½ä»¤" class="headerlink" title="ç³»ç»Ÿç®¡ç†å‘½ä»¤"></a>ç³»ç»Ÿç®¡ç†å‘½ä»¤</h1><table><thead><tr><th>stat</th><th>æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”lsæ›´è¯¦ç»†</th></tr></thead><tbody><tr><td>who</td><td>æ˜¾ç¤ºåœ¨çº¿ç™»é™†ç”¨æˆ·</td></tr><tr><td>whoami</td><td>æ˜¾ç¤ºå½“å‰æ“ä½œç”¨æˆ·</td></tr><tr><td>hostname</td><td>æ˜¾ç¤ºä¸»æœºå</td></tr><tr><td>uname</td><td>æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯</td></tr><tr><td>top</td><td>åŠ¨æ€æ˜¾ç¤ºå½“å‰è€—è´¹èµ„æºæœ€å¤šè¿›ç¨‹ä¿¡æ¯</td></tr><tr><td>ps</td><td>æ˜¾ç¤ºç¬é—´è¿›ç¨‹çŠ¶æ€</td></tr><tr><td>du</td><td>æŸ¥çœ‹ç›®å½•å¤§å° du -h &#x2F;homeå¸¦æœ‰å•ä½æ˜¾ç¤ºç›®å½•ä¿¡æ¯</td></tr><tr><td>df</td><td>æŸ¥çœ‹ç£ç›˜å¤§å° df -h å¸¦æœ‰å•ä½æ˜¾ç¤ºç£ç›˜ä¿¡æ¯</td></tr><tr><td>ifconfig</td><td>æŸ¥çœ‹ç½‘ç»œæƒ…å†µ</td></tr><tr><td>ping</td><td>æµ‹è¯•ç½‘ç»œè¿é€š</td></tr><tr><td>netstat</td><td>æ˜¾ç¤ºç½‘ç»œçŠ¶æ€ä¿¡æ¯</td></tr><tr><td>clear</td><td>æ¸…å±</td></tr><tr><td>alias</td><td>å¯¹å‘½ä»¤é‡å‘½å å¦‚ï¼šalias showmeit&#x3D;â€ps -auxâ€ ï¼Œå¦å¤–è§£é™¤ä½¿ç”¨unaliax showmeit</td></tr><tr><td>kill</td><td>æ€æ­»è¿›ç¨‹ï¼Œå¯ä»¥å…ˆç”¨ps æˆ– topå‘½ä»¤æŸ¥çœ‹è¿›ç¨‹çš„idï¼Œç„¶åå†ç”¨killå‘½ä»¤æ€æ­»è¿›ç¨‹ã€‚</td></tr></tbody></table><hr><h1 id="ç³»ç»ŸæœåŠ¡ç®¡ç†"><a href="#ç³»ç»ŸæœåŠ¡ç®¡ç†" class="headerlink" title="ç³»ç»ŸæœåŠ¡ç®¡ç†"></a>ç³»ç»ŸæœåŠ¡ç®¡ç†</h1><table><thead><tr><th>ä»»åŠ¡</th><th>æ—§æŒ‡ä»¤CentOS6</th><th>æ–°æŒ‡ä»¤CentOS7</th></tr></thead><tbody><tr><td>ä½¿æŸæœåŠ¡è‡ªåŠ¨å¯åŠ¨</td><td>chkconfig â€“level 3 httpd on</td><td>systemctl enable httpd.service</td></tr><tr><td>ä½¿æŸæœåŠ¡ä¸è‡ªåŠ¨å¯åŠ¨</td><td>chkconfig â€“level 3 httpd off</td><td>systemctl disable httpd.service</td></tr><tr><td>æ£€æŸ¥æœåŠ¡çŠ¶æ€</td><td>service httpd status</td><td>systemctl status httpd.service ï¼ˆæœåŠ¡è¯¦ç»†ä¿¡æ¯ï¼‰ systemctl is-active  httpd.service ï¼ˆä»…æ˜¾ç¤ºæ˜¯å¦  Active)</td></tr><tr><td>æ˜¾ç¤ºæ‰€æœ‰å·²å¯åŠ¨çš„æœåŠ¡</td><td>chkconfig â€“list</td><td>systemctl list-units â€“type&#x3D;service</td></tr><tr><td>å¯åŠ¨æŸæœåŠ¡</td><td>service httpd start</td><td>systemctl start httpd.service</td></tr><tr><td>åœæ­¢æŸæœåŠ¡</td><td>service httpd stop</td><td>systemctl stop httpd.service</td></tr><tr><td>é‡å¯æŸæœåŠ¡</td><td>service httpd restart</td><td>systemctl restart httpd.service</td></tr></tbody></table><p>ä¾‹å¦‚åœ¨æ­å»ºhadoopé›†æˆç¯å¢ƒçš„æ—¶å€™éœ€è¦å…³é—­é˜²ç«å¢™å’Œé˜²ç«å¢™è‡ªå¯åŠ¨ï¼šï¼ˆåœ¨rootæƒé™ä¸‹)</p><p>Centos6.5ï¼šservice iptables stop</p><p>â€‹          chkconfig iptables off</p><p>Centos 7 :  systemctl stop firewalld.service</p><p>â€‹           systemctl disable firewalld.service</p><hr><h1 id="å…¶ä»–ä¸€äº›æ‚ä¸ƒæ‚å…«çš„ä¸œè¥¿"><a href="#å…¶ä»–ä¸€äº›æ‚ä¸ƒæ‚å…«çš„ä¸œè¥¿" class="headerlink" title="å…¶ä»–ä¸€äº›æ‚ä¸ƒæ‚å…«çš„ä¸œè¥¿"></a>å…¶ä»–ä¸€äº›æ‚ä¸ƒæ‚å…«çš„ä¸œè¥¿</h1><p>æ—¶é—´è®¾ç½®ï¼šdate -s â€œ2021-09-23 11:26:35â€</p><p>ç»ˆç«¯æ˜¾ç¤ºï¼šåœ¨&#x2F;etc&#x2F;profileè¿™ä¸ªç¯å¢ƒå˜é‡é‡Œé…ç½®</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs swift"><span class="hljs-type">PS1</span><span class="hljs-operator">=</span><span class="hljs-string">&quot;\[<span class="hljs-subst">\0</span>33[1;36;40m\][\[<span class="hljs-subst">\0</span>33[0;32;40m\]\u@\h: \H \#  \d <span class="hljs-subst">\t</span> \[<span class="hljs-subst">\0</span>33[1;35;40m\]\w\[<span class="hljs-subst">\0</span>33[1;36;40m\]]\[<span class="hljs-subst">\0</span>33[1;33;40m\]<span class="hljs-subst">\\</span>$\[<span class="hljs-subst">\0</span>33[1;37;40m\]&quot;</span><br></code></pre></td></tr></table></figure><p>å†sourceä¸€ä¸‹å°±å¯ä»¥æ˜¾ç¤ºæ›´è¯¦ç»†çš„ç»ˆç«¯ä¿¡æ¯ä¿¡æ¯</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxâ€”â€”å¤šç‰ˆæœ¬CUDA</title>
    <link href="/2022/07/01/BigData&amp;Linux/Linux%E5%AE%89%E8%A3%85%E5%A4%9A%E7%89%88%E6%9C%ACCUDA/"/>
    <url>/2022/07/01/BigData&amp;Linux/Linux%E5%AE%89%E8%A3%85%E5%A4%9A%E7%89%88%E6%9C%ACCUDA/</url>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…CUDA"><a href="#å®‰è£…CUDA" class="headerlink" title="å®‰è£…CUDA"></a>å®‰è£…CUDA</h1><p>åŒæ ·çš„åœ¨è¿è¡Œä¸åŒä»£ç çš„æ—¶å€™ï¼Œéœ€è¦çš„ç¯å¢ƒä¸åŒï¼Œæ‰€ä»¥éœ€è¦ä¸åŒçš„GPUç¯å¢ƒï¼ŒCudaçš„éœ€è¦è‡ªç„¶ä¹Ÿå°±å‘ç”Ÿæ”¹å˜ ç‰¹åˆ«æ˜¯å…³äºtensorflowçš„è¿è¡Œä¸­ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨nvidiaçš„å®˜ç½‘ä¸Šæ‰¾åˆ°æˆ‘ä»¬æ‰€éœ€è¦çš„<a href="https://developer.nvidia.com/cuda-toolkit-archive">cudaç‰ˆæœ¬</a>ï¼Œæ¥ä¸‹æ¥å¯ä»¥æ ¹æ®å„è‡ªçš„å®é™…è¦æ±‚æ¥é€‰æ‹©</p><blockquote><p>å½“å‰ç¯å¢ƒé…ç½®ï¼šUbuntu20.04  gcc-5ï¼Œ gcc-8ï¼Œ gcc-9ï¼Œ cuda 11.3</p><p>éœ€æ±‚å®‰è£…cuda 9 </p></blockquote><p><img src="https://gitee.com/xiang976young/note/raw/master/img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-04-20%20103810.png" alt="å±å¹•æˆªå›¾ 2022-04-20 103810"></p><p>ç„¶åè¿è¡Œå®‰è£…è¿™ä¸ªrunfile <code>sudo sh xxx.run</code></p><p>æ³¨æ„ä¸è¦å®‰è£…è‹±ä¼Ÿè¾¾é©±åŠ¨ å› ä¸ºä¹‹å‰å·²ç»æœ‰ä¸€ä¸ªcudaç¯å¢ƒ å®‰è£…è¿‡äº†</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20220420121744526.png" alt="image-20220420121744526"></p><p>ç„¶åä¿®æ”¹cudaçš„ç¯å¢ƒå˜é‡ <code>vim ~/.bashrc</code>   ï¼ˆå¦‚æœç¯å¢ƒå˜é‡ä½¿ç”¨çš„æ˜¯cudaè½¯è¿æ¥ å°±å¯ä»¥ä¸ç”¨ä¿®æ”¹ç¯å¢ƒå˜é‡äº†ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> LD_LIBRARY_PATH=<span class="hljs-variable">$LD_LIBRARY_PATH</span>:/usr/local/cuda/lib64<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:/usr/local/cuda/bin<br><span class="hljs-built_in">export</span> CUDA_HOME=<span class="hljs-variable">$CUDA_HOME</span>:/usr/local/cuda<br></code></pre></td></tr></table></figure><p><code>source ~/.bashrc</code>ä¿å­˜ç¯å¢ƒå˜é‡ï¼Œä½¿é…ç½®ç”Ÿæ•ˆ</p><p>è¿›å…¥<code>cd /usr/local</code></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20220420121929018.png" alt="image-20220420121929018"></p><p>å‘ç°cudaå…¶å®ä¸€ä¸ªè½¯è¿æ¥ï¼Œæ‰€ä»¥ä»¥åæˆ‘ä»¬éœ€è¦åˆ‡æ¢cudaç‰ˆæœ¬çš„æ—¶å€™ï¼Œåªéœ€è¦ä¿®æ”¹è¿™ä¸ªè½¯è¿æ¥çš„æŒ‡å‘å°±å¯ä»¥äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">rm</span> -rf cuda<br>sudo <span class="hljs-built_in">ln</span> -s /usr/local/cuda-11.5 /usr/local/cuda<br></code></pre></td></tr></table></figure><p>å¯ä»¥åˆ©ç”¨<code>nvcc -V</code>æ¥æŸ¥çœ‹å½“å‰CUDAçš„ç‰ˆæœ¬</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20220421104236667.png" alt="image-20220421104236667"></p><h1 id="å®‰è£…Cudnn"><a href="#å®‰è£…Cudnn" class="headerlink" title="å®‰è£…Cudnn"></a>å®‰è£…Cudnn</h1><p>å½“ç„¶æœ‰çš„æ—¶å€™åœ¨ä½¿ç”¨CUDAçš„æ—¶å€™ï¼Œè¿˜éœ€è¦ä½¿ç”¨Cudnnï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨å¯¹åº”çš„CUDAç¯å¢ƒå†…å®‰è£…æˆ‘ä»¬éœ€è¦çš„Cudnn</p><p>Cudnnçš„<a href="https://developer.nvidia.com/rdp/cudnn-archive#a-collapse764-90">ä¸‹è½½åœ°å€</a>ï¼Œä¸‹è½½çš„æ—¶å€™éœ€è¦å…ˆç™»é™†ä¸€ä¸‹</p><p>ç„¶åæ ¹æ®è‡ªå·±ç¯å¢ƒå’ŒCUDAæ¥é€‰æ‹©ä¸‹è½½çš„ç‰ˆæœ¬ æˆ‘è¿™é‡Œé€‰æ‹©æ˜¯ä¸‹æ–¹çš„ç‰ˆæœ¬</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-04-21%20102906.png" alt="å±å¹•æˆªå›¾ 2022-04-21 102906"></p><p>å¯¾ä»¥ä¸‹æ“ä½œè¿›è¡Œä¿®æ”¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -xzvf cudnn-9.0-linux-x64-v7.6.5.32.tgz<br>sudo <span class="hljs-built_in">cp</span> cuda-9.0/include/cudnn.h  /usr/local/cuda-9.0/include<br>sudo <span class="hljs-built_in">cp</span> cuda-9.0/lib64/lib*  /usr/local/cuda-9.0/lib64<br><br><br><br>sudo <span class="hljs-built_in">rm</span> -rf libcudnn.so libcudnn.so.7<br>sudo <span class="hljs-built_in">ln</span> -s libcudnn.so.7.6.5 libcudnn.so.7<br>sudo <span class="hljs-built_in">ln</span> -s libcudnn.so.7 libcudnn.so<br>sudo <span class="hljs-built_in">chmod</span> a+r /usr/local/cuda-9.0/include/cudnn.h   /usr/local/cuda-9.0/lib64/libcudnn*<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxâ€”â€”å¤šç‰ˆæœ¬GCC</title>
    <link href="/2022/07/01/BigData&amp;Linux/Linux%E5%AE%89%E8%A3%85%E5%A4%9A%E7%89%88%E6%9C%ACgcc/"/>
    <url>/2022/07/01/BigData&amp;Linux/Linux%E5%AE%89%E8%A3%85%E5%A4%9A%E7%89%88%E6%9C%ACgcc/</url>
    
    <content type="html"><![CDATA[<p>æœ‰çš„æ—¶å€™ï¼Œä¸åŒç¯å¢ƒè¦æ±‚çš„gccç¼–è¯‘å™¨ç‰ˆæœ¬ä¸åŒï¼Œéœ€è¦å®‰è£…å¤šä¸ªgccæ¥éšæ—¶åˆ‡æ¢</p><p>æ‰€ä»¥ä¸€å¼€å§‹å®‰è£…çš„æ—¶å€™ï¼Œåˆ©ç”¨ubuntuè½¯ä»¶æºåŒ…å«ä¸€ä¸ªè½¯ä»¶åŒ…ç»„â€build-essentialâ€ï¼Œå…¶ä¸­æœ‰GNUç¼–è¾‘å™¨é›†åˆã€GNUè°ƒè¯•å™¨ã€å’Œå…¶ä»–ç¼–è¯‘è½¯ä»¶æ‰€å¿…éœ€çš„å¼€å‘åº“ä¸å·¥å…·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt update<br>sudo apt install build-essential<br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œä»¥åï¼Œå¯ä»¥åˆ©ç”¨<code>gcc --version </code>æˆ–è€…<code>gcc -v</code>æ¥æŸ¥çœ‹gccçš„ç‰ˆæœ¬æƒ…å†µ</p><p>å¦‚æœä½ éœ€è¦å®‰è£…å¤šç‰ˆæœ¬çš„gcc  é‚£ä¹ˆä½ å°±å¯ä»¥åˆ©ç”¨ä»¥ä¸‹å‘½ä»¤</p><p><code>sudo apt install gcc-8 g++-8 gcc-9 g++-9 gcc-5 g++-5</code></p><blockquote><p>æ³¨æ„è¿™é‡Œä¸åŒçš„Linux æˆ–è€… Ubuntuç‰ˆæœ¬æ‰€èƒ½å®‰è£…çš„gccç‰ˆæœ¬æœ‰é™åˆ¶ï¼Œéœ€è¦å°†ç›¸å¯¹åº”çš„è½¯ä»¶æºå†™åˆ°å½“å‰ç‰ˆæœ¬ä¸‹</p><p>åˆ©ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€ <code>sudo vim /etc/apt/sources.list</code></p><p>æ·»åŠ ä¸€ä¸‹è½¯ä»¶æº</p><p><code>deb http://dk.archive.ubuntu.com/ubuntu/ xenial main</code><br><code>deb http://dk.archive.ubuntu.com/ubuntu/ xenial universe</code></p><p>æ›´æ–°ä¸€ä¸‹apt  <code>sudo apt update</code></p></blockquote><p>ä¸ºå„ä¸ªgccé…ç½®ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¹¶è®¾ç½®ä¼˜å…ˆçº§</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 100 --slave /usr/bin/g++ g++ /usr/bin/g++-9<br>sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-8 90 --slave /usr/bin/g++ g++ /usr/bin/g++-8<br>sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-10 5 --slave /usr/bin/g++ g++ /usr/bin/g++-5<br></code></pre></td></tr></table></figure><p>ä»¥åï¼Œå¦‚æœä½ æƒ³ä¿®æ”¹é»˜è®¤çš„ç‰ˆæœ¬ï¼Œä½¿ç”¨<code>sudo update-alternatives --config gcc</code>å‘½ä»¤ï¼š<img src="https://gitee.com/xiang976young/note/raw/master/img/image-20220420094340037.png" alt="image-20220420094340037"></p><p>ä½ å°†ä¼šè¢«å±•ç¤ºä¸€ç³»åˆ—å·²ç»å®‰è£…åœ¨ä½ çš„ Ubuntu ç³»ç»Ÿä¸Šçš„ GCC ç‰ˆæœ¬ã€‚è¾“å…¥ä½ æƒ³è®¾ç½®ä¸ºé»˜è®¤çš„ GCC ç‰ˆæœ¬ï¼Œå¹¶ä¸”æŒ‰å›è½¦<code>Enter</code>ã€‚</p><p>è¿™ä¸ªå‘½ä»¤å°†ä¼šåˆ›å»ºç¬¦å·é“¾æ¥åˆ°æŒ‡å®šç‰ˆæœ¬çš„ GCC å’Œ G++ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxâ€”â€”æŸ¥çœ‹linuxç‰ˆæœ¬</title>
    <link href="/2022/07/01/BigData&amp;Linux/Linux%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC/"/>
    <url>/2022/07/01/BigData&amp;Linux/Linux%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<p> <code>cat /proc/version</code>å¯ä»¥æŸ¥çœ‹ç›®å½•ä¸‹â€&#x2F;procâ€ä¸‹versionçš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥å¾—åˆ°å½“å‰ç³»ç»Ÿçš„å†…æ ¸ç‰ˆæœ¬å·åŠç³»ç»Ÿåç§° ã€‚</p><p><img src="/src/image-20220420085717764.png" alt="image-20220420085717764"></p><p>æ˜¾ç¤ºlinux standard baseçš„åŸºç¡€é…ç½®</p><p><img src="/src/image-20220420085829154.png" alt="image-20220420085829154">png)</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxâ€”â€”æ— æ³•è§£æåŸŸå</title>
    <link href="/2022/07/01/BigData&amp;Linux/Linux%E6%9A%82%E4%B8%8D%E8%83%BD%E8%A7%A3%E6%9E%90%E5%9F%9F%E5%90%8D/"/>
    <url>/2022/07/01/BigData&amp;Linux/Linux%E6%9A%82%E4%B8%8D%E8%83%BD%E8%A7%A3%E6%9E%90%E5%9F%9F%E5%90%8D/</url>
    
    <content type="html"><![CDATA[<h1 id="apt-get-æ“ä½œè¿‡ç¨‹ä¸­æç¤ºæ— æ³•è§£æåŸŸåâ€œcn-archive-ubuntu-comâ€-çš„è§£å†³"><a href="#apt-get-æ“ä½œè¿‡ç¨‹ä¸­æç¤ºæ— æ³•è§£æåŸŸåâ€œcn-archive-ubuntu-comâ€-çš„è§£å†³" class="headerlink" title="apt-get æ“ä½œè¿‡ç¨‹ä¸­æç¤ºæ— æ³•è§£æåŸŸåâ€œcn.archive.ubuntu.comâ€ çš„è§£å†³"></a>apt-get æ“ä½œè¿‡ç¨‹ä¸­æç¤ºæ— æ³•è§£æåŸŸåâ€œcn.archive.ubuntu.comâ€ çš„è§£å†³</h1><p>å› ä¸ºDNSæœåŠ¡å™¨æ²¡æœ‰é…ç½®</p><p><code>sudo vim /etc/resolv.conf</code></p><p>æ·»åŠ nameserver 8.8.8.8 å³å¯</p><p>ä½†æ˜¯ä½¿ç”¨è¯¥æ–¹æ³•ä¼šå‘ç°é‡å¯ç”µè„‘ä¹‹åresolv.confæ–‡ä»¶å†…å®¹ä¼šè¿˜åŸ</p><p>åº”è¯¥åœ¨<code>/etc/resolvconf/resolv.conf.d/base</code> åšåŒæ ·çš„ä¿®æ”¹</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”CNNå°è®°</title>
    <link href="/2022/07/01/DeepLearning/CNN/"/>
    <url>/2022/07/01/DeepLearning/CNN/</url>
    
    <content type="html"><![CDATA[<h1 id="å±€éƒ¨è¿æ¥-æƒå€¼å…±äº«"><a href="#å±€éƒ¨è¿æ¥-æƒå€¼å…±äº«" class="headerlink" title="å±€éƒ¨è¿æ¥+æƒå€¼å…±äº«"></a><strong>å±€éƒ¨è¿æ¥+æƒå€¼å…±äº«</strong></h1><p>å…¨è¿æ¥ç¥ç»ç½‘ç»œéœ€è¦éå¸¸å¤šçš„è®¡ç®—èµ„æºæ‰èƒ½æ”¯æ’‘å®ƒæ¥åšåå‘ä¼ æ’­å’Œå‰å‘ä¼ æ’­ï¼Œæ‰€ä»¥è¯´å…¨è¿æ¥ç¥ç»ç½‘ç»œå¯ä»¥å­˜å‚¨éå¸¸å¤šçš„å‚æ•°ï¼Œå¦‚æœä½ ç»™å®ƒçš„æ ·æœ¬å¦‚æœæ²¡æœ‰è¾¾åˆ°å®ƒçš„é‡çº§çš„æ—¶å€™ï¼Œå®ƒå¯ä»¥è½»è½»æ¾æ¾æŠŠä½ ç»™ä»–çš„æ ·æœ¬å…¨éƒ¨éƒ½è®°ä¸‹æ¥ï¼Œè¿™ä¼šå‡ºç°è¿‡æ‹Ÿåˆçš„æƒ…å†µã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥æŠŠç¥ç»å…ƒå’Œç¥ç»å…ƒä¹‹é—´çš„è¿æ¥çš„æƒé‡ä¸ªæ•°é™ä¸‹æ¥ï¼Œä½†æ˜¯é™ä¸‹æ¥æˆ‘ä»¬åˆä¸èƒ½ä¿è¯å®ƒæœ‰è¾ƒå¼ºçš„å­¦ä¹ èƒ½åŠ›ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªçº ç»“çš„åœ°æ–¹ï¼Œæ‰€ä»¥æœ‰ä¸€ä¸ªæ–¹æ³•å°±æ˜¯<strong>å±€éƒ¨è¿æ¥+æƒå€¼å…±äº«</strong>ï¼Œå±€éƒ¨è¿æ¥+æƒå€¼å…±äº«ä¸ä»…æƒé‡å‚æ•°é™ä¸‹æ¥äº†ï¼Œè€Œä¸”å­¦ä¹ èƒ½åŠ›å¹¶æ²¡æœ‰å®è´¨çš„é™ä½ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰å…¶å®ƒçš„å¥½å¤„ï¼Œä¸‹æ¥çœ‹ä¸€ä¸‹ï¼Œä¸‹é¢çš„è¿™å‡ å¼ å›¾ç‰‡ï¼š</p><p><img src="/%5Csrc%5C15388119347194e0d0f4b72.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>ä¸€ä¸ªå›¾åƒçš„ä¸åŒè¡¨ç¤ºæ–¹å¼</p><p>è¿™å‡ å¼ å›¾ç‰‡æè¿°çš„éƒ½æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯æœ‰çš„å¤§æœ‰çš„å°ï¼Œæœ‰çš„é å·¦è¾¹ï¼Œæœ‰çš„é å³è¾¹ï¼Œæœ‰çš„ä½ç½®ä¸åŒï¼Œä½†æ˜¯æˆ‘ä»¬æ„å»ºçš„ç½‘ç»œè¯†åˆ«è¿™äº›ä¸œè¥¿çš„æ—¶å€™åº”è¯¥æ˜¯åŒä¸€ç»“æœã€‚ä¸ºäº†èƒ½å¤Ÿè¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬å¯ä»¥è®©å›¾ç‰‡çš„ä¸åŒä½ç½®å…·æœ‰ç›¸åŒçš„æƒé‡ï¼ˆæƒå€¼å…±äº«ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æ‰€æœ‰çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è®­ç»ƒé›†ä¸­æ”¾ä¸€å¼ ï¼Œæˆ‘ä»¬çš„ç¥ç»ç½‘ç»œå°±å¯ä»¥è¯†åˆ«å‡ºä¸Šé¢æ‰€æœ‰çš„ï¼Œè¿™ä¹Ÿæ˜¯<strong>æƒå€¼å…±äº«</strong>çš„å¥½å¤„ã€‚</p><p><strong>è€Œå·ç§¯ç¥ç»ç½‘ç»œå°±æ˜¯å±€éƒ¨è¿æ¥+æƒå€¼å…±äº«çš„ç¥ç»ç½‘ç»œã€‚</strong></p><h1 id="å·ç§¯ç¥ç»ç½‘ç»œ"><a href="#å·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œ"></a>å·ç§¯ç¥ç»ç½‘ç»œ</h1><p>ç°åœ¨æˆ‘ä»¬å¯¹å·ç§¯ç¥ç»ç½‘ç»œæœ‰ä¸€ä¸ªåˆæ­¥è®¤è¯†äº†ï¼Œä¸‹é¢å…·ä½“æ¥è®²è§£ä¸€ä¸‹å·ç§¯ç¥ç»ç½‘ç»œï¼Œå·ç§¯ç¥ç»ç½‘ç»œä¾æ—§æ˜¯å±‚çº§ç»“æ„ï¼Œä½†å±‚çš„åŠŸèƒ½å’Œå½¢å¼åšäº†æ”¹å˜ï¼Œå·ç§¯ç¥ç»ç½‘ç»œå¸¸ç”¨æ¥å¤„ç†å›¾ç‰‡æ•°æ®ï¼Œæ¯”å¦‚è¯†åˆ«ä¸€è¾†æ±½è½¦ï¼š</p><p><img src="/%5Csrc%5C1538811934930f8df8dfdce.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å·ç§¯ç¥ç»ç½‘ç»œç»“æ„</p><p>å…¶ä¸­æ•°æ®è¾“å…¥çš„æ˜¯ä¸€å¼ å›¾ç‰‡ï¼ˆ<strong>è¾“å…¥å±‚</strong>ï¼‰ï¼ŒCONVè¡¨ç¤º<strong>å·ç§¯å±‚</strong>ï¼ŒRELUè¡¨ç¤º<strong>æ¿€åŠ±å±‚</strong>ï¼ŒPOOLè¡¨ç¤º<strong>æ± åŒ–å±‚</strong>ï¼ŒFcè¡¨ç¤º<strong>å…¨è¿æ¥å±‚</strong></p><h1 id="å·ç§¯ç¥ç»ç½‘ç»œä¹‹è¾“å…¥å±‚"><a href="#å·ç§¯ç¥ç»ç½‘ç»œä¹‹è¾“å…¥å±‚" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œä¹‹è¾“å…¥å±‚"></a>å·ç§¯ç¥ç»ç½‘ç»œä¹‹è¾“å…¥å±‚</h1><p>åœ¨å›¾ç‰‡è¾“å‡ºåˆ°ç¥ç»ç½‘ç»œä¹‹å‰ï¼Œå¸¸å¸¸å…ˆè¿›è¡Œå›¾åƒå¤„ç†ï¼Œæœ‰<strong>ä¸‰ç§</strong>å¸¸è§çš„å›¾åƒçš„å¤„ç†æ–¹å¼ï¼š</p><ol><li>å‡å€¼åŒ–ï¼šæŠŠè¾“å…¥æ•°æ®å„ä¸ªç»´åº¦éƒ½ä¸­å¿ƒåŒ–åˆ°0ï¼Œæ‰€æœ‰æ ·æœ¬æ±‚å’Œæ±‚å¹³å‡ï¼Œç„¶åç”¨æ‰€æœ‰çš„æ ·æœ¬å‡å»è¿™ä¸ªå‡å€¼æ ·æœ¬å°±æ˜¯å»å‡å€¼ã€‚</li><li>å½’ä¸€åŒ–ï¼šæ•°æ®å¹…åº¦å½’ä¸€åŒ–åˆ°åŒæ ·çš„èŒƒå›´ï¼Œå¯¹äºæ¯ä¸ªç‰¹å¾è€Œè¨€ï¼ŒèŒƒå›´æœ€å¥½æ˜¯[-1,1]</li><li>PCA&#x2F;ç™½åŒ–ï¼šç”¨PCAé™ç»´ï¼Œè®©æ¯ä¸ªç»´åº¦çš„ç›¸å…³åº¦å–æ¶ˆï¼Œç‰¹å¾å’Œç‰¹å¾ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ç™½åŒ–æ˜¯å¯¹æ•°æ®æ¯ä¸ªç‰¹å¾è½´ä¸Šçš„å¹…åº¦å½’ä¸€åŒ–</li></ol><p><img src="/%5Csrc%5C1538811927998ccf5c60eaa.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å‡å€¼åŒ–å’Œå½’ä¸€åŒ–</p><p><img src="/%5Csrc%5C153881192817621655ba3c7.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å»ç›¸å…³å’Œç™½åŒ–</p><h1 id="å·ç¥ç½‘ç»œä¹‹å·ç§¯å±‚ï¼š"><a href="#å·ç¥ç½‘ç»œä¹‹å·ç§¯å±‚ï¼š" class="headerlink" title="å·ç¥ç½‘ç»œä¹‹å·ç§¯å±‚ï¼š"></a>å·ç¥ç½‘ç»œä¹‹å·ç§¯å±‚ï¼š</h1><p>å›¾ç‰‡æœ‰ä¸€ä¸ªæ€§è´¨å«åšå±€éƒ¨å…³è”æ€§è´¨ï¼Œä¸€ä¸ªå›¾ç‰‡çš„åƒç´ ç‚¹å½±å“æœ€å¤§çš„æ˜¯å®ƒå‘¨è¾¹çš„åƒç´ ç‚¹ï¼Œè€Œè·ç¦»è¿™ä¸ªåƒç´ ç‚¹æ¯”è¾ƒè¿œçš„åƒç´ ç‚¹äºŒè€…ä¹‹é—´å…³ç³»ä¸å¤§ã€‚è¿™ä¸ªæ€§è´¨æ„å‘³ç€æ¯ä¸€ä¸ªç¥ç»å…ƒæˆ‘ä»¬ä¸ç”¨å¤„ç†å…¨å±€çš„å›¾ç‰‡äº†ï¼ˆå’Œä¸Šä¸€å±‚å…¨è¿æ¥ï¼‰ï¼Œæˆ‘ä»¬çš„æ¯ä¸€ä¸ªç¥ç»å…ƒåªéœ€è¦å’Œä¸Šä¸€å±‚å±€éƒ¨è¿æ¥ï¼Œç›¸å½“äºæ¯ä¸€ä¸ªç¥ç»å…ƒæ‰«æä¸€å°åŒºåŸŸï¼Œç„¶åè®¸å¤šç¥ç»å…ƒï¼ˆè¿™äº›ç¥ç»å…ƒæƒå€¼å…±äº«ï¼‰åˆèµ·æ¥å°±ç›¸å½“äºæ‰«æäº†å…¨å±€ï¼Œè¿™æ ·å°±æ„æˆä¸€ä¸ªç‰¹å¾å›¾ï¼Œnä¸ªç‰¹å¾å›¾å°±æå–äº†è¿™ä¸ªå›¾ç‰‡çš„nç»´ç‰¹å¾ï¼Œæ¯ä¸ªç‰¹å¾å›¾æ˜¯ç”±å¾ˆå¤šç¥ç»å…ƒæ¥å®Œæˆçš„ã€‚</p><p>åœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œæˆ‘ä»¬å…ˆé€‰æ‹©ä¸€ä¸ªå±€éƒ¨åŒºåŸŸï¼ˆfilterï¼‰ï¼Œç”¨è¿™ä¸ªå±€éƒ¨åŒºåŸŸï¼ˆfilterï¼‰å»æ‰«ææ•´å¼ å›¾ç‰‡ã€‚ å±€éƒ¨åŒºåŸŸæ‰€åœˆèµ·æ¥çš„æ‰€æœ‰èŠ‚ç‚¹ä¼šè¢«è¿æ¥åˆ°ä¸‹ä¸€å±‚çš„<strong>ä¸€ä¸ªèŠ‚ç‚¹ä¸Š</strong>ã€‚æˆ‘ä»¬æ‹¿ç°åº¦å›¾ï¼ˆåªæœ‰ä¸€ç»´ï¼‰æ¥ä¸¾ä¾‹ï¼š</p><p><img src="/%5C153881192835439d6e12fa9.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å±€éƒ¨åŒºåŸŸ</p><p>å›¾ç‰‡æ˜¯çŸ©é˜µå¼çš„ï¼Œå°†è¿™äº›ä»¥çŸ©é˜µæ’åˆ—çš„èŠ‚ç‚¹å±•æˆäº†å‘é‡ã€‚å°±èƒ½æ›´å¥½çš„çœ‹å‡ºæ¥å·ç§¯å±‚å’Œè¾“å…¥å±‚ä¹‹é—´çš„è¿æ¥ï¼Œå¹¶ä¸æ˜¯å…¨è¿æ¥çš„ï¼Œæˆ‘ä»¬å°†ä¸Šå›¾ä¸­çš„çº¢è‰²æ–¹æ¡†ç§°ä¸ºfilterï¼Œå®ƒæ˜¯2*2çš„ï¼Œè¿™æ˜¯å®ƒçš„å°ºå¯¸ï¼Œè¿™ä¸æ˜¯å›ºå®šçš„ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå®ƒçš„å°ºå¯¸ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥å½“å‰filteræ˜¯2*2çš„å°çª—å£ï¼Œè¿™ä¸ªå°çª—å£ä¼šå°†å›¾ç‰‡çŸ©é˜µä»å·¦ä¸Šè§’æ»‘åˆ°å³ä¸‹è§’ï¼Œæ¯æ»‘ä¸€æ¬¡å°±ä¼šä¸€ä¸‹å­åœˆèµ·æ¥å››ä¸ªï¼Œè¿æ¥åˆ°ä¸‹ä¸€å±‚çš„ä¸€ä¸ªç¥ç»å…ƒï¼Œç„¶åäº§ç”Ÿå››ä¸ªæƒé‡ï¼Œè¿™å››ä¸ªæƒé‡(w1ã€w2ã€w3ã€w4)æ„æˆçš„çŸ©é˜µå°±å«åšå·ç§¯æ ¸ã€‚</p><p>å·ç§¯æ ¸æ˜¯ç®—æ³•è‡ªå·±å­¦ä¹ å¾—åˆ°çš„ï¼Œå®ƒä¼šå’Œä¸Šä¸€å±‚è®¡ç®—ï¼Œæ¯”å¦‚ï¼Œç¬¬äºŒå±‚çš„0èŠ‚ç‚¹çš„æ•°å€¼å°±æ˜¯å±€éƒ¨åŒºåŸŸçš„çº¿æ€§ç»„åˆï¼ˆw1<em>0+w2</em>1+w3<em>4+w4</em>5ï¼‰ï¼Œå³è¢«åœˆä¸­èŠ‚ç‚¹çš„æ•°å€¼ä¹˜ä»¥å¯¹åº”çš„æƒé‡åç›¸åŠ ã€‚</p><p><img src="/%5C153881192861205b0c14653.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å·ç§¯æ ¸è®¡ç®—</p><p><img src="/%5Csrc%5C1538812170652003d236aef.gif" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å·ç§¯æ“ä½œ</p><p>æˆ‘ä»¬å‰é¢è¯´è¿‡å›¾ç‰‡ä¸ç”¨å‘é‡è¡¨ç¤ºæ˜¯ä¸ºäº†ä¿ç•™å›¾ç‰‡å¹³é¢ç»“æ„çš„ä¿¡æ¯ã€‚ åŒæ ·çš„ï¼Œå·ç§¯åçš„è¾“å‡ºè‹¥ç”¨ä¸Šå›¾çš„å‘é‡æ’åˆ—æ–¹å¼åˆ™ä¸¢å¤±äº†å¹³é¢ç»“æ„ä¿¡æ¯ã€‚ æ‰€ä»¥æˆ‘ä»¬ä¾ç„¶ç”¨çŸ©é˜µçš„æ–¹å¼æ’åˆ—å®ƒä»¬ï¼Œå°±å¾—åˆ°äº†ä¸‹å›¾æ‰€å±•ç¤ºçš„è¿æ¥ï¼Œæ¯ä¸€ä¸ªè“è‰²ç»“ç‚¹è¿æ¥å››ä¸ªé»„è‰²çš„ç»“ç‚¹ã€‚</p><p><img src="/%5Csrc%5C1538811928873e8e0626a39.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å·ç§¯å±‚çš„è¿æ¥æ–¹å¼</p><p>å›¾ç‰‡æ˜¯ä¸€ä¸ªçŸ©é˜µç„¶åå·ç§¯ç¥ç»ç½‘ç»œçš„ä¸‹ä¸€å±‚ä¹Ÿæ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªå·ç§¯æ ¸ä»å›¾ç‰‡çŸ©é˜µå·¦ä¸Šè§’åˆ°å³ä¸‹è§’æ»‘åŠ¨ï¼Œæ¯æ»‘åŠ¨ä¸€æ¬¡ï¼Œå½“ç„¶è¢«åœˆèµ·æ¥çš„ç¥ç»å…ƒä»¬å°±ä¼šè¿æ¥ä¸‹ä¸€å±‚çš„ä¸€ä¸ªç¥ç»å…ƒï¼Œå½¢æˆå‚æ•°çŸ©é˜µè¿™ä¸ªå°±æ˜¯å·ç§¯æ ¸ï¼Œæ¯æ¬¡æ»‘åŠ¨è™½ç„¶åœˆèµ·æ¥çš„ç¥ç»å…ƒä¸åŒï¼Œè¿æ¥ä¸‹ä¸€å±‚çš„ç¥ç»å…ƒä¹Ÿä¸åŒï¼Œä½†æ˜¯äº§ç”Ÿçš„å‚æ•°çŸ©é˜µç¡®æ˜¯ä¸€æ ·çš„ï¼Œè¿™å°±æ˜¯<strong>æƒå€¼å…±äº«</strong>ã€‚</p><p>å·ç§¯æ ¸ä¼šå’Œæ‰«æçš„å›¾ç‰‡çš„é‚£ä¸ªå±€éƒ¨çŸ©é˜µä½œç”¨äº§ç”Ÿä¸€ä¸ªå€¼ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡çš„æ—¶å€™ï¼Œï¼ˆw1<em>0+w2</em>1+w3<em>4+w4</em>5ï¼‰ï¼Œæ‰€ä»¥ï¼Œfilterä»å·¦ä¸Šåˆ°å³ä¸‹çš„è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šå¾—åˆ°ä¸€ä¸ªçŸ©é˜µï¼ˆè¿™å°±æ˜¯ä¸‹ä¸€å±‚ä¹Ÿæ˜¯ä¸€ä¸ªçŸ©é˜µçš„åŸå› ï¼‰ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="/%5Csrc%5C1538812228698d0c184b223.gif" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å·ç§¯è®¡ç®—è¿‡ç¨‹</p><p>ä¸Šå›¾ä¸­å·¦è¾¹æ˜¯å›¾çŸ©é˜µï¼Œæˆ‘ä»¬ä½¿ç”¨çš„filterçš„å¤§å°æ˜¯3<em>3çš„ï¼Œç¬¬ä¸€æ¬¡æ»‘åŠ¨çš„æ—¶å€™ï¼Œå·ç§¯æ ¸å’Œå›¾ç‰‡çŸ©é˜µä½œç”¨ï¼ˆ1</em>1+1<em>0+1</em>1+0<em>0+1</em>1+1<em>0+0</em>1+0<em>0+1</em>1ï¼‰&#x3D;4ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå€¼ï¼Œè¿™ä¸ªå€¼å°±æ˜¯å³è¾¹çŸ©é˜µçš„ç¬¬ä¸€ä¸ªå€¼ï¼Œfilteræ»‘åŠ¨9æ¬¡ä¹‹åï¼Œä¼šäº§ç”Ÿ9ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸‹ä¸€å±‚æœ‰9ä¸ªç¥ç»å…ƒï¼Œè¿™9ä¸ªç¥ç»å…ƒäº§ç”Ÿçš„å€¼å°±æ„æˆäº†ä¸€ä¸ªçŸ©é˜µï¼Œè¿™çŸ©é˜µå«åšç‰¹å¾å›¾ï¼Œè¡¨ç¤ºimageçš„æŸä¸€ç»´åº¦çš„ç‰¹å¾ï¼Œå½“ç„¶å…·ä½“å“ªä¸€ç»´åº¦å¯èƒ½å¹¶ä¸çŸ¥é“ï¼Œå¯èƒ½æ˜¯è¿™ä¸ªå›¾åƒçš„é¢œè‰²ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯è¿™ä¸ªå›¾åƒçš„è½®å»“ç­‰ç­‰ã€‚</p><p><strong>å•é€šé“å›¾ç‰‡æ€»ç»“</strong>ï¼šä»¥ä¸Šå°±æ˜¯å•é€šé“çš„å›¾ç‰‡çš„å·ç§¯å¤„ç†ï¼Œå›¾ç‰‡æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œæˆ‘ä»¬ç”¨æŒ‡å®šå¤§å°çš„å·ç§¯æ ¸ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’æ¥æ»‘åŠ¨ï¼Œæ¯æ¬¡æ»‘åŠ¨æ‰€åœˆèµ·æ¥çš„ç»“ç‚¹ä¼šå’Œä¸‹ä¸€å±‚çš„ä¸€ä¸ªç»“ç‚¹ç›¸è¿ï¼Œè¿æ¥ä¹‹åå°±ä¼šå½¢æˆå±€éƒ¨è¿æ¥ï¼Œæ¯ä¸€æ¡è¿æ¥éƒ½ä¼šäº§ç”Ÿæƒé‡ï¼Œè¿™äº›æƒé‡å°±æ˜¯å·ç§¯æ ¸ï¼Œæ‰€ä»¥æ¯æ¬¡æ»‘åŠ¨éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå·ç§¯æ ¸ï¼Œå› ä¸ºæƒå€¼å…±äº«ï¼Œæ‰€ä»¥è¿™äº›å·ç§¯æ ¸éƒ½æ˜¯ä¸€æ ·çš„ã€‚å·ç§¯æ ¸ä¼šä¸æ–­å’Œå½“æ—¶å·ç§¯æ ¸æ‰€åœˆèµ·æ¥çš„å±€éƒ¨çŸ©é˜µä½œç”¨ï¼Œæ¯æ¬¡äº§ç”Ÿçš„å€¼å°±æ˜¯ä¸‹ä¸€å±‚ç»“ç‚¹çš„å€¼äº†ï¼Œè¿™æ ·å¤šæ¬¡äº§ç”Ÿçš„å€¼ç»„åˆèµ·æ¥å°±æ˜¯ä¸€ä¸ªç‰¹å¾å›¾ï¼Œè¡¨ç¤ºæŸä¸€ç»´åº¦çš„ç‰¹å¾ã€‚ä¹Ÿå°±æ˜¯ä»å·¦ä¸Šæ»‘åŠ¨åˆ°å³ä¸‹è¿™ä¸€è¿‡ç¨‹ä¸­ä¼šå½¢æˆä¸€ä¸ªç‰¹å¾å›¾çŸ©é˜µï¼ˆå…±äº«ä¸€ä¸ªå·ç§¯æ ¸ï¼‰ï¼Œå†ä»å·¦ä¸Šæ»‘åŠ¨åˆ°å³ä¸‹åˆä¼šå½¢æˆå¦ä¸€ä¸ªç‰¹å¾å›¾çŸ©é˜µï¼ˆå…±äº«å¦ä¸€ä¸ªå·ç§¯æ ¸ï¼‰ï¼Œè¿™äº›ç‰¹å¾å›¾éƒ½æ˜¯è¡¨ç¤ºç‰¹å¾çš„æŸä¸€ç»´åº¦ã€‚</p><p><strong>ä¸‰ä¸ªé€šé“çš„å›¾ç‰‡å¦‚ä½•è¿›è¡Œå·ç§¯æ“ä½œï¼Ÿ</strong></p><p>è‡³æ­¤æˆ‘ä»¬åº”è¯¥å·²ç»çŸ¥é“äº†å•é€šé“çš„ç°åº¦å›¾æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Œå®é™…ä¸Šæˆ‘ä»¬çš„å›¾ç‰‡éƒ½æ˜¯RGBçš„å›¾åƒï¼Œæœ‰ä¸‰ä¸ªé€šé“ï¼Œé‚£ä¹ˆæ­¤æ—¶å›¾åƒæ˜¯å¦‚ä½•å·ç§¯çš„å‘¢ï¼Ÿ</p><p><img src="/%5Csrc%5C1538811929377662c8664e0.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å½©è‰²å›¾åƒ</p><p>filterçª—å£æ»‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªæ˜¯ä»widthå’Œheightçš„è§’åº¦æ¥æ»‘åŠ¨çš„ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘depthï¼Œæ‰€ä»¥æ¯æ»‘åŠ¨ä¸€æ¬¡å®é™…ä¸Šæ˜¯äº§ç”Ÿä¸€ä¸ªå·ç§¯æ ¸ï¼Œå…±äº«è¿™ä¸€ä¸ªå·ç§¯æ ¸ï¼Œè€Œç°åœ¨depth&#x3D;3äº†ï¼Œæ‰€ä»¥æ¯æ»‘åŠ¨ä¸€æ¬¡å®é™…ä¸Šäº§ç”Ÿäº†å…·æœ‰ä¸‰ä¸ªé€šé“çš„å·ç§¯æ ¸ï¼ˆå®ƒä»¬åˆ†åˆ«ä½œç”¨äºè¾“å…¥å›¾ç‰‡çš„è“è‰²ã€ç»¿è‰²ã€çº¢è‰²é€šé“ï¼‰ï¼Œå·ç§¯æ ¸çš„ä¸€ä¸ªé€šé“æ ¸è“è‰²çš„çŸ©é˜µä½œç”¨äº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªå’Œç»¿è‰²çš„çŸ©é˜µä½œç”¨äº§ç”Ÿä¸€ä¸ªå€¼ï¼Œæœ€åä¸€ä¸ªå’Œçº¢è‰²çš„çŸ©é˜µä½œç”¨äº§ç”Ÿä¸€ä¸ªå€¼ï¼Œç„¶åè¿™äº›å€¼åŠ èµ·æ¥å°±æ˜¯ä¸‹ä¸€å±‚ç»“ç‚¹çš„å€¼ï¼Œç»“æœä¹Ÿæ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œä¹Ÿå°±æ˜¯ä¸€å¼ ç‰¹å¾å›¾ã€‚</p><p><img src="/%5Csrc%5C153881192952676b46cd98c.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>ä¸‰é€šé“çš„è®¡ç®—è¿‡ç¨‹</p><p>è¦æƒ³æœ‰å¤šå¼ ç‰¹å¾å›¾çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å†ç”¨æ–°çš„å·ç§¯æ ¸æ¥è¿›è¡Œå·¦ä¸Šåˆ°å³ä¸‹çš„æ»‘åŠ¨ï¼Œè¿™æ ·å°±ä¼šå½¢æˆ<strong>æ–°çš„ç‰¹å¾å›¾</strong>ã€‚</p><p><img src="/%5Csrc%5C153881225598237c4e148f2.gif" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>ä¸‰é€šé“å›¾ç‰‡çš„å·ç§¯è¿‡ç¨‹</p><p>ä¹Ÿå°±æ˜¯è¯´å¢åŠ ä¸€ä¸ªå·ç§¯æ ¸ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªç‰¹å¾å›¾ï¼Œæ€»çš„æ¥è¯´å°±æ˜¯è¾“å…¥å›¾ç‰‡æœ‰å¤šå°‘é€šé“ï¼Œæˆ‘ä»¬çš„å·ç§¯æ ¸å°±éœ€è¦å¯¹åº”å¤šå°‘é€šé“ï¼Œè€Œæœ¬å±‚ä¸­å·ç§¯æ ¸æœ‰å¤šå°‘ä¸ªï¼Œå°±ä¼šäº§ç”Ÿå¤šå°‘ä¸ªç‰¹å¾å›¾ã€‚è¿™æ ·å·ç§¯åè¾“å‡ºå¯ä»¥ä½œä¸ºæ–°çš„è¾“å…¥é€å…¥å¦ä¸€ä¸ªå·ç§¯å±‚ä¸­å¤„ç†ï¼Œæœ‰å‡ ä¸ªç‰¹å¾å›¾é‚£ä¹ˆdepthå°±æ˜¯å‡ ï¼Œé‚£ä¹ˆä¸‹ä¸€å±‚çš„æ¯ä¸€ä¸ªç‰¹å¾å›¾å°±å¾—ç”¨ç›¸åº”çš„é€šé“çš„å·ç§¯æ ¸æ¥å¯¹åº”å¤„ç†ï¼Œè¿™ä¸ªé€»è¾‘è¦æ¸…æ¥šï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹<strong>åŸºæœ¬çš„æ¦‚å¿µï¼š</strong></p><ol><li>æ·±åº¦depthï¼ˆé€šé“ï¼‰ï¼šç”±ä¸Šä¸€å±‚æ»¤æ³¢å™¨çš„ä¸ªæ•°å†³å®š</li><li>æ­¥é•¿strideï¼šæ¯æ¬¡æ»‘åŠ¨å‡ æ­¥ï¼Œæ­¥æ•°è¶Šå¤§å¾—åˆ°çš„ç‰¹å¾æ•°è¶Šå°‘ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­æ¯æ¬¡æ»‘åŠ¨1æ­¥ã€‚</li><li>å¡«å……å€¼zero-paddingï¼šæˆ‘ä»¬è®¾ç½®äº†æ­¥é•¿ä¹‹åï¼Œå¾ˆæœ‰å¯èƒ½æŸäº›ä½ç½®æ»‘ä¸åˆ°ï¼Œä¸ºäº†é¿å…äº†è¾¹ç¼˜ä¿¡æ¯è¢«ä¸€æ­¥æ­¥èˆå¼ƒçš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®å¡«å……å€¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œ4x4çš„å›¾ç‰‡è¢«2x2çš„filterå·ç§¯åå˜æˆäº†3x3çš„å›¾ç‰‡ï¼Œæ¯æ¬¡å·ç§¯åéƒ½ä¼šå°ä¸€åœˆçš„è¯ï¼Œç»è¿‡è‹¥å¹²å±‚åå²‚ä¸æ˜¯å˜çš„è¶Šæ¥è¶Šå°ï¼Ÿzero paddingå°±å¯ä»¥åœ¨è¿™æ—¶å¸®åŠ©æ§åˆ¶Feature Mapçš„è¾“å‡ºå°ºå¯¸ï¼ŒåŒæ—¶é¿å…äº†è¾¹ç¼˜ä¿¡æ¯è¢«ä¸€æ­¥æ­¥èˆå¼ƒçš„é—®é¢˜ã€‚</li></ol><p><img src="/%5Csrc%5C1538811929789ebba8dc146.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å·ç§¯è®¡ç®—çš„å…¬å¼</p><p>4x4çš„å›¾ç‰‡åœ¨è¾¹ç¼˜Zero paddingä¸€åœˆåï¼Œå†ç”¨3x3çš„filterå·ç§¯åï¼Œå¾—åˆ°çš„Feature Mapå°ºå¯¸ä¾ç„¶æ˜¯4x4ä¸å˜ã€‚</p><p><img src="/%5Csrc%5C15388119304907f29ae3d5f.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å¡«å……</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨5x5çš„filteå’Œ2çš„zero paddingå¯ä»¥ä¿æŒå›¾ç‰‡çš„åŸå§‹å°ºå¯¸ï¼Œ3x3çš„filterè€ƒè™‘åˆ°äº†åƒç´ ä¸å…¶è·ç¦»ä¸º1ä»¥å†…çš„æ‰€æœ‰å…¶ä»–åƒç´ çš„å…³ç³»ï¼Œè€Œ5x5åˆ™æ˜¯è€ƒè™‘åƒç´ ä¸å…¶è·ç¦»ä¸º2ä»¥å†…çš„æ‰€æœ‰å…¶ä»–åƒç´ çš„å…³ç³»ã€‚</p><p><strong>è§„å¾‹ï¼š</strong> Feature Mapçš„å°ºå¯¸ç­‰äº</p><p><strong>(input_size + 2 * padding_size âˆ’ filter_size)&#x2F;stride+1</strong></p><p>æˆ‘ä»¬å¯ä»¥æŠŠå·ç§¯å±‚çš„ä½œç”¨<strong>æ€»ç»“ä¸€ç‚¹ï¼š</strong>å·ç§¯å±‚å…¶å®å°±æ˜¯åœ¨æå–ç‰¹å¾ï¼Œå·ç§¯å±‚ä¸­æœ€é‡è¦çš„æ˜¯å·ç§¯æ ¸ï¼ˆè®­ç»ƒå‡ºæ¥çš„ï¼‰ï¼Œä¸åŒçš„å·ç§¯æ ¸å¯ä»¥æ¢æµ‹ç‰¹å®šçš„å½¢çŠ¶ã€é¢œè‰²ã€å¯¹æ¯”åº¦ç­‰ï¼Œç„¶åç‰¹å¾å›¾ä¿æŒäº†æŠ“å–åçš„ç©ºé—´ç»“æ„ï¼Œæ‰€ä»¥ä¸åŒå·ç§¯æ ¸å¯¹åº”çš„ç‰¹å¾å›¾è¡¨ç¤ºæŸä¸€ç»´åº¦çš„ç‰¹å¾ï¼Œå…·ä½“ä»€ä¹ˆç‰¹å¾å¯èƒ½æˆ‘ä»¬å¹¶ä¸çŸ¥é“ã€‚ç‰¹å¾å›¾ä½œä¸ºè¾“å…¥å†è¢«å·ç§¯çš„è¯ï¼Œå¯ä»¥åˆ™å¯ä»¥ç”±æ­¤æ¢æµ‹åˆ°â€æ›´å¤§â€çš„å½¢çŠ¶æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯è¯´éšç€å·ç§¯ç¥ç»ç½‘ç»œå±‚æ•°çš„å¢åŠ ï¼Œç‰¹å¾æå–çš„è¶Šæ¥è¶Šå…·ä½“åŒ–ã€‚</p><h1 id="å·ç§¯ç¥ç»ç½‘ç»œä¹‹æ¿€åŠ±å±‚"><a href="#å·ç§¯ç¥ç»ç½‘ç»œä¹‹æ¿€åŠ±å±‚" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œä¹‹æ¿€åŠ±å±‚"></a>å·ç§¯ç¥ç»ç½‘ç»œä¹‹æ¿€åŠ±å±‚</h1><p>ä¸‹é¢è®²è§£æ¿€åŠ±å±‚çš„ä½œç”¨ï¼Œæ¿€åŠ±å±‚çš„ä½œç”¨å¯ä»¥ç†è§£ä¸ºæŠŠå·ç§¯å±‚çš„ç»“æœåš<strong>éçº¿æ€§æ˜ å°„</strong>ã€‚</p><p><img src="/%5Csrc%5C15388119312787bf24b56c9.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>æ¿€åŠ±å±‚</p><p>ä¸Šå›¾ä¸­çš„fè¡¨ç¤ºæ¿€åŠ±å‡½æ•°ï¼Œå¸¸ç”¨çš„æ¿€åŠ±å‡½æ•°å‡ ä¸‹å‡ ç§ï¼š</p><p><img src="/%5Csrc%5C1538811931507ff23b8bbe8.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å¸¸ç”¨çš„æ¿€åŠ±å‡½æ•°</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æ¿€åŠ±å‡½æ•°Sigmoidå¯¼æ•°æœ€å°ä¸º0ï¼Œæœ€å¤§ä¸º1&#x2F;4ï¼Œ</p><p><img src="/%5Csrc%5C15388119316439077e6c9cc.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>æ¿€åŠ±å‡½æ•°Sigmoid</p><p>Tanhæ¿€æ´»å‡½æ•°ï¼šå’Œsigmoidç›¸ä¼¼ï¼Œå®ƒä¼šå…³äºxè½´ä¸Šä¸‹å¯¹åº”ï¼Œä¸è‡³äºæœæŸä¸€æ–¹é¢åå‘</p><p><img src="/%5Csrc%5C15388119317859629ca6f60.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>Tanhæ¿€æ´»å‡½æ•°</p><p>ReLUæ¿€æ´»å‡½æ•°ï¼ˆä¿®æ­£çº¿æ€§å•å…ƒ)ï¼šæ”¶æ•›å¿«ï¼Œæ±‚æ¢¯åº¦å¿«ï¼Œä½†è¾ƒè„†å¼±ï¼Œå·¦è¾¹çš„æ¢¯åº¦ä¸º0</p><p><img src="/%5Csrc%5C15388119319277bd0446ed5.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>ReLUæ¿€æ´»å‡½æ•°</p><p>Leaky ReLUæ¿€æ´»å‡½æ•°ï¼šä¸ä¼šé¥±å’Œæˆ–è€…æŒ‚æ‰ï¼Œè®¡ç®—ä¹Ÿå¾ˆå¿«ï¼Œä½†æ˜¯è®¡ç®—é‡æ¯”è¾ƒå¤§</p><p><img src="/%5Csrc%5C15388119322943b13cc43d7.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>Leaky ReLUæ¿€æ´»å‡½æ•°</p><p><strong>ä¸€äº›æ¿€åŠ±å‡½æ•°çš„ä½¿ç”¨æŠ€å·§</strong>ï¼šä¸€èˆ¬ä¸è¦ç”¨sigmoidï¼Œé¦–å…ˆè¯•RELUï¼Œå› ä¸ºå¿«ï¼Œä½†è¦å°å¿ƒç‚¹ï¼Œå¦‚æœRELUå¤±æ•ˆï¼Œè¯·ç”¨Leaky ReLUï¼ŒæŸäº›æƒ…å†µä¸‹tanhå€’æ˜¯æœ‰ä¸é”™çš„ç»“æœã€‚</p><p>è¿™å°±æ˜¯å·ç§¯ç¥ç»ç½‘ç»œçš„æ¿€åŠ±å±‚ï¼Œå®ƒå°±æ˜¯å°†å·ç§¯å±‚çš„çº¿æ€§è®¡ç®—çš„ç»“æœè¿›è¡Œäº†éçº¿æ€§æ˜ å°„ã€‚å¯ä»¥ä»ä¸‹é¢çš„å›¾ä¸­ç†è§£ã€‚å®ƒå±•ç¤ºçš„æ˜¯å°†éçº¿æ€§æ“ä½œåº”ç”¨åˆ°ä¸€ä¸ªç‰¹å¾å›¾ä¸­ã€‚è¿™é‡Œçš„è¾“å‡ºç‰¹å¾å›¾ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯â€ä¿®æ­£â€è¿‡çš„ç‰¹å¾å›¾ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="/%5Csrc%5C1538811932782a875fdc5c0.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>éçº¿æ€§æ“ä½œ</p><h1 id="å·ç§¯ç¥ç»ç½‘ç»œä¹‹æ± åŒ–å±‚"><a href="#å·ç§¯ç¥ç»ç½‘ç»œä¹‹æ± åŒ–å±‚" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œä¹‹æ± åŒ–å±‚"></a>å·ç§¯ç¥ç»ç½‘ç»œä¹‹æ± åŒ–å±‚</h1><p>æ± åŒ–å±‚ï¼šé™ä½äº†å„ä¸ªç‰¹å¾å›¾çš„ç»´åº¦ï¼Œä½†å¯ä»¥ä¿æŒå¤§åˆ†é‡è¦çš„ä¿¡æ¯ã€‚æ± åŒ–å±‚å¤¹åœ¨è¿ç»­çš„å·ç§¯å±‚ä¸­é—´ï¼Œå‹ç¼©æ•°æ®å’Œå‚æ•°çš„é‡ï¼Œå‡å°è¿‡æ‹Ÿåˆï¼Œæ± åŒ–å±‚å¹¶æ²¡æœ‰å‚æ•°ï¼Œå®ƒåªä¸è¿‡æ˜¯æŠŠä¸Šå±‚ç»™å®ƒçš„ç»“æœåšäº†ä¸€ä¸ªä¸‹é‡‡æ ·ï¼ˆæ•°æ®å‹ç¼©ï¼‰ã€‚ä¸‹é‡‡æ ·æœ‰<strong>ä¸¤ç§</strong>å¸¸ç”¨çš„æ–¹å¼ï¼š</p><p><strong>Max pooling</strong>ï¼šé€‰å–æœ€å¤§çš„ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç©ºé—´é‚»åŸŸï¼ˆæ¯”å¦‚ï¼Œ2x2 çš„çª—å£ï¼‰ï¼Œå¹¶ä»çª—å£å†…çš„ä¿®æ­£ç‰¹å¾å›¾ä¸­å–å‡ºæœ€å¤§çš„å…ƒç´ ï¼Œæœ€å¤§æ± åŒ–è¢«è¯æ˜æ•ˆæœæ›´å¥½ä¸€äº›ã€‚</p><p><strong>Average pooling</strong>ï¼šå¹³å‡çš„ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç©ºé—´é‚»åŸŸï¼ˆæ¯”å¦‚ï¼Œ2x2 çš„çª—å£ï¼‰ï¼Œå¹¶ä»çª—å£å†…çš„ä¿®æ­£ç‰¹å¾å›¾ç®—å‡ºå¹³å‡å€¼</p><p><img src="/%5Csrc%5C1538811933035bbde841477.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>Max pooling</p><p>æˆ‘ä»¬è¦æ³¨æ„ä¸€ç‚¹çš„æ˜¯ï¼špoolingåœ¨ä¸åŒçš„depthä¸Šæ˜¯åˆ†å¼€æ‰§è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯depth&#x3D;5çš„è¯ï¼Œpoolingè¿›è¡Œ5æ¬¡ï¼Œäº§ç”Ÿ5ä¸ªæ± åŒ–åçš„çŸ©é˜µï¼Œæ± åŒ–ä¸éœ€è¦å‚æ•°æ§åˆ¶ã€‚æ± åŒ–æ“ä½œæ˜¯åˆ†å¼€åº”ç”¨åˆ°å„ä¸ªç‰¹å¾å›¾çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä»äº”ä¸ªè¾“å…¥å›¾ä¸­å¾—åˆ°äº”ä¸ªè¾“å‡ºå›¾ã€‚</p><p><img src="/%5Csrc%5C153881193345322115914d7.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>æ± åŒ–æ“ä½œ</p><p>æ— è®ºæ˜¯max poolè¿˜æ˜¯average pooléƒ½æœ‰åˆ†ä¿¡æ¯è¢«èˆå¼ƒï¼Œé‚£ä¹ˆéƒ¨åˆ†ä¿¡æ¯è¢«èˆå¼ƒåä¼šæŸåè¯†åˆ«ç»“æœå—ï¼Ÿ</p><p>å› ä¸ºå·ç§¯åçš„Feature Mapä¸­æœ‰å¯¹äºè¯†åˆ«ç‰©ä½“ä¸å¿…è¦çš„å†—ä½™ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¸‹é‡‡æ ·å°±æ˜¯ä¸ºäº†å»æ‰è¿™äº›å†—ä½™ä¿¡æ¯ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šæŸåè¯†åˆ«ç»“æœã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å·ç§¯ä¹‹åçš„å†—ä½™ä¿¡æ¯æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“å·ç§¯æ ¸å°±æ˜¯ä¸ºäº†æ‰¾åˆ°ç‰¹å®šç»´åº¦çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´æŸä¸ªå½¢çŠ¶ï¼Œä½†æ˜¯å›¾åƒä¸­å¹¶ä¸ä¼šä»»ä½•åœ°æ–¹éƒ½å‡ºç°è¿™ä¸ªå½¢çŠ¶ï¼Œä½†å·ç§¯æ ¸åœ¨å·ç§¯è¿‡ç¨‹ä¸­æ²¡æœ‰å‡ºç°ç‰¹å®šå½¢çŠ¶çš„å›¾ç‰‡ä½ç½®å·ç§¯ä¹Ÿä¼šäº§ç”Ÿä¸€ä¸ªå€¼ï¼Œä½†æ˜¯è¿™ä¸ªå€¼çš„æ„ä¹‰å°±ä¸æ˜¯å¾ˆå¤§äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨æ± åŒ–å±‚çš„ä½œç”¨ï¼Œå°†è¿™ä¸ªå€¼å»æ‰çš„è¯ï¼Œè‡ªç„¶ä¹Ÿä¸ä¼šæŸå®³è¯†åˆ«ç»“æœäº†ã€‚</p><p>æ¯”å¦‚ä¸‹å›¾ä¸­ï¼Œå‡å¦‚å·ç§¯æ ¸æ¢æµ‹â€æ¨ªæŠ˜â€è¿™ä¸ªå½¢çŠ¶ã€‚ å·ç§¯åå¾—åˆ°3x3çš„Feature Mapä¸­ï¼ŒçœŸæ­£æœ‰ç”¨çš„å°±æ˜¯æ•°å­—ä¸º3çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä½™æ•°å€¼å¯¹äºè¿™ä¸ªä»»åŠ¡è€Œè¨€éƒ½æ˜¯æ— å…³çš„ã€‚ æ‰€ä»¥ç”¨3x3çš„Max poolingåï¼Œå¹¶æ²¡æœ‰å¯¹â€æ¨ªæŠ˜â€çš„æ¢æµ‹äº§ç”Ÿå½±å“ã€‚ è¯•æƒ³åœ¨è¿™é‡Œä¾‹å­ä¸­å¦‚æœä¸ä½¿ç”¨Max poolingï¼Œè€Œè®©ç½‘ç»œè‡ªå·±å»å­¦ä¹ ã€‚ ç½‘ç»œä¹Ÿä¼šå»å­¦ä¹ ä¸Max poolingè¿‘ä¼¼æ•ˆæœçš„æƒé‡ã€‚å› ä¸ºæ˜¯è¿‘ä¼¼æ•ˆæœï¼Œå¢åŠ äº†æ›´å¤šçš„å‚æ•°çš„ä»£ä»·ï¼Œå´è¿˜ä¸å¦‚ç›´æ¥è¿›è¡Œæœ€å¤§æ± åŒ–å¤„ç†ã€‚</p><p><img src="/%5Csrc%5C1538811933889d5d5c7e17a.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>æœ€å¤§æ± åŒ–å¤„ç†</p><h1 id="å·ç§¯ç¥ç»ç½‘ç»œä¹‹å…¨è¿æ¥å±‚"><a href="#å·ç§¯ç¥ç»ç½‘ç»œä¹‹å…¨è¿æ¥å±‚" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œä¹‹å…¨è¿æ¥å±‚"></a>å·ç§¯ç¥ç»ç½‘ç»œä¹‹å…¨è¿æ¥å±‚</h1><p>åœ¨å…¨è¿æ¥å±‚ä¸­æ‰€æœ‰ç¥ç»å…ƒéƒ½æœ‰æƒé‡è¿æ¥ï¼Œé€šå¸¸å…¨è¿æ¥å±‚åœ¨å·ç§¯ç¥ç»ç½‘ç»œå°¾éƒ¨ã€‚å½“å‰é¢å·ç§¯å±‚æŠ“å–åˆ°è¶³ä»¥ç”¨æ¥è¯†åˆ«å›¾ç‰‡çš„ç‰¹å¾åï¼Œæ¥ä¸‹æ¥çš„å°±æ˜¯å¦‚ä½•è¿›è¡Œåˆ†ç±»ã€‚ é€šå¸¸å·ç§¯ç½‘ç»œçš„æœ€åä¼šå°†æœ«ç«¯å¾—åˆ°çš„é•¿æ–¹ä½“å¹³æ‘Šæˆä¸€ä¸ªé•¿é•¿çš„å‘é‡ï¼Œå¹¶é€å…¥å…¨è¿æ¥å±‚é…åˆè¾“å‡ºå±‚è¿›è¡Œåˆ†ç±»ã€‚æ¯”å¦‚ï¼Œåœ¨ä¸‹é¢å›¾ä¸­æˆ‘ä»¬è¿›è¡Œçš„å›¾åƒåˆ†ç±»ä¸ºå››åˆ†ç±»é—®é¢˜ï¼Œæ‰€ä»¥å·ç§¯ç¥ç»ç½‘ç»œçš„è¾“å‡ºå±‚å°±ä¼šæœ‰å››ä¸ªç¥ç»å…ƒã€‚</p><p><img src="/%5Csrc%5C153881193397944bb2a1b9b.png" alt="ä»å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚åˆ°å…¨è¿æ¥å±‚æ·±åº¦è§£æå·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†"></p><p>å››åˆ†ç±»é—®é¢˜</p><p>æˆ‘ä»¬ä»å·ç§¯ç¥ç»ç½‘ç»œçš„è¾“å…¥å±‚ã€å·ç§¯å±‚ã€æ¿€æ´»å±‚ã€æ± åŒ–å±‚ä»¥åŠå…¨è¿æ¥å±‚æ¥è®²è§£å·ç§¯ç¥ç»ç½‘ç»œï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå…¨è¿æ¥å±‚ä¹‹é—´çš„åœ¨åšç‰¹å¾æå–ï¼Œè€Œå…¨è¿æ¥å±‚åœ¨åšåˆ†ç±»ï¼Œè¿™å°±æ˜¯å·ç§¯ç¥ç»ç½‘ç»œçš„æ ¸å¿ƒã€‚</p><p>ï¿½ï¿½è¿™å°±æ˜¯å·ç§¯ç¥ç»ç½‘ç»œçš„æ ¸å¿ƒã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxâ€”â€”åˆ‡æ¢Javaç‰ˆæœ¬</title>
    <link href="/2022/07/01/BigData&amp;Linux/%E5%88%87%E6%8D%A2java%E7%89%88%E6%9C%AC/"/>
    <url>/2022/07/01/BigData&amp;Linux/%E5%88%87%E6%8D%A2java%E7%89%88%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆéœ€è¦å®‰è£…ä¸€ä¸ªæ–°çš„jdk</p><p>ç„¶åä¿®æ”¹ç¯å¢ƒå˜é‡é‡Œé¢çš„JAVA_HOME</p><p>ç„¶åå¤åˆ¶æ–°çš„jdk&#x2F;biné‡Œé¢çš„java.exe&#x2F;javaw.exe&#x2F;javaws.exeåˆ°C:\Windows\System32</p><p>æ³¨æ„ä¿®æ”¹regeditä¸­çš„æ³¨å†Œè¡¨çš„ä¿¡æ¯HKEY_LOCAL_MACHINE\Software\JavaSoft\Java Runtime Environment<br>ä¿®æ”¹é»˜è®¤jdkçš„ç‰ˆæœ¬</p><p>æ³¨æ„è¦åŠæ—¶åˆ é™¤ç¯å¢ƒå˜é‡pathä¸­C:\ProgramData\Oracle\Java\javapath;<br>è¿™æ˜¯java1.8å®‰è£…çš„æ—¶å€™é»˜è®¤è‡ªå¸¦çš„ã€‚</p><p>å¯¹äºé¡¹ç›®æ¥è¯´ï¼Œç›´æ¥å³é”®jreåŒ…ï¼Œåˆ‡æ¢ç¼–è¯‘ç¯å¢ƒå°±å¥½äº†</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”12.Q&amp;A Notice1</title>
    <link href="/2022/07/01/BigData&amp;Linux/%E6%B3%A8%E6%84%8Fnotices/"/>
    <url>/2022/07/01/BigData&amp;Linux/%E6%B3%A8%E6%84%8Fnotices/</url>
    
    <content type="html"><![CDATA[<h1 id="å¤§æ•°æ®-æ³¨æ„å°ç»†èŠ‚"><a href="#å¤§æ•°æ®-æ³¨æ„å°ç»†èŠ‚" class="headerlink" title="å¤§æ•°æ® æ³¨æ„å°ç»†èŠ‚"></a>å¤§æ•°æ® æ³¨æ„å°ç»†èŠ‚</h1><h2 id="å…³äºIPçš„é…ç½®é—®é¢˜"><a href="#å…³äºIPçš„é…ç½®é—®é¢˜" class="headerlink" title="å…³äºIPçš„é…ç½®é—®é¢˜"></a>å…³äºIPçš„é…ç½®é—®é¢˜</h2><p>ç½‘ç»œé…ç½®æ–‡ä»¶ &#x2F;etc&#x2F;sysconfig&#x2F;network-scriptså†…</p><p>éœ€è¦å…ˆæŸ¥çœ‹ç½‘ç»œé…ç½®çš„æ¥å£æ˜¯å¤šå°‘å†è¡Œä¿®æ”¹</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ifconfig</span><br></code></pre></td></tr></table></figure><p>ç½‘ç»œæ¥å£å†…çš„é…ç½®</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">ONBOOT</span>=<span class="hljs-literal">yes</span><br><span class="hljs-attr">NM_CONTROLLED</span>=<span class="hljs-literal">yes</span><br><span class="hljs-attr">BOOTPROTO</span>=static<br><span class="hljs-attr">IPADDR</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">174.100</span>   &lt;çœ‹è‡ªå·±çš„NETçš„ç½‘æ®µ&gt;<br><span class="hljs-attr">NETMASK</span> = <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-attr">GATEWAY</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">174.1</span>  &lt;çœ‹NETè®¾ç½®çš„ç½‘å…³åœ°å€ ä¸€èˆ¬æ˜¯.<span class="hljs-number">1</span>æˆ–è€…æ˜¯.<span class="hljs-number">255</span>&gt;<br><span class="hljs-attr">DNS1</span>=<span class="hljs-number">114.114</span>.<span class="hljs-number">114.114</span><br></code></pre></td></tr></table></figure><p>ç½‘ç»œæœåŠ¡æ“ä½œï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">service network restart<span class="hljs-regexp">/start/</span>stop<span class="hljs-regexp">/reload/</span>status<br></code></pre></td></tr></table></figure><p>å…³é—­é˜²ç«å¢™ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">service iptables stop<br></code></pre></td></tr></table></figure><p>å…³é—­è‡ªå¯åŠ¨é˜²ç«å¢™ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">chkconfig</span> iptables <span class="hljs-literal">off</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®æ—¶é—´åŒæ­¥ </p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-built_in">date</span> -s <span class="hljs-string">&quot;2021-09-23 11:26:35&quot;</span><br></code></pre></td></tr></table></figure><p>ç¯å¢ƒå˜é‡ä¸€èˆ¬éƒ½æ”¾åœ¨</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/etc/</span>profile<br></code></pre></td></tr></table></figure><h2 id="hdfs"><a href="#hdfs" class="headerlink" title="hdfs"></a>hdfs</h2><p>hdfsç«¯å£æ˜¯50070<br>hdfsä¸­è¾“å…¥çš„è·¯å¾„éœ€è¦æ˜¯ç»å¯¹è·¯å¾„</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dos">hadoop <span class="hljs-built_in">fs</span> -xx <br>hdfs dfs -xx<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹hdfsç›®å½•ï¼šå¦‚æŸ¥çœ‹æ ¹ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hadoop fs -<span class="hljs-built_in">ls</span> /<br></code></pre></td></tr></table></figure><p>åˆ›å»ºç›®å½•å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hadoop fs -<span class="hljs-built_in">mkdir</span> /data<br></code></pre></td></tr></table></figure><p>åˆ é™¤ç›®å½•æˆ–è€…æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hadoop fs -<span class="hljs-built_in">rm</span> -r /data<br></code></pre></td></tr></table></figure><p>hdfs å°†linuxæœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°hdfs çš„è·¯å¾„ä¸‹</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-title">hadoop</span> fs -put dianxin_data.csv /<span class="hljs-class"><span class="hljs-keyword">data</span></span><br></code></pre></td></tr></table></figure><p>hdfs å°†æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">hadoop fs -get <span class="hljs-regexp">/data/</span>dianxin_data.csv <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/soft/</span><br></code></pre></td></tr></table></figure><p>hdfs ç§»åŠ¨ä¸€ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hadoop fs -<span class="hljs-built_in">mv</span> <br></code></pre></td></tr></table></figure><p>hdfs æŸ¥çœ‹æ–‡ä»¶å†…å®¹ ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">hadooop fs -cat <span class="hljs-regexp">/data/</span>dianxin_data.csv<br></code></pre></td></tr></table></figure><h2 id="Zookeeperé…ç½®"><a href="#Zookeeperé…ç½®" class="headerlink" title="Zookeeperé…ç½®"></a>Zookeeperé…ç½®</h2><p>zookeeperçš„å¯åŠ¨ æ¯å°å­æœºéƒ½è¦å¯åŠ¨ å®¢æˆ·ç«¯å°±åœ¨ä¸€å°å°±å¯ä»¥äº†<br>å·²ç»è®¾ç½®äº†zookeeperè‡ªåŠ¨å¤„ç†æ—¥å¿— é¿å…æ—¥å¿—è¿‡å¤§ åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨zkCleanup.shè„šæœ¬å¤„ç†<br>å¦‚æœå­èŠ‚ç‚¹å¼€ä¸èµ·æ¥ åˆ é™¤dataå’Œlogæ–‡ä»¶ä¸‹çš„æ—¥å¿—å’Œæ•°æ®</p><h2 id="Hbaseé…ç½®"><a href="#Hbaseé…ç½®" class="headerlink" title="Hbaseé…ç½®"></a>Hbaseé…ç½®</h2><p>å…³é—­å®‰å…¨æ¨¡å¼ </p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hadoop dfsadmin -safemode leave</span><br></code></pre></td></tr></table></figure><p>Hbaseçš„ç«¯å£æ˜¯60010</p>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”ææ²è¯¾ç¨‹å°è®°</title>
    <link href="/2022/07/01/DeepLearning/For%20%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/07/01/DeepLearning/For%20%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="For-åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ "><a href="#For-åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ " class="headerlink" title="For åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ "></a>For åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </h1><p>ç‰©ä½“æ£€æµ‹å’Œåˆ†å‰² github.com&#x2F;matterport&#x2F;Mask_RCNN</p><p>æ ·å¼è¿ç§»  github.com&#x2F;zhanghang1989&#x2F;MXNET-Gluon-Style-Transfer</p><p>æ–‡å­—ç”Ÿæˆå›¾ç‰‡ openai.com&#x2F;blog&#x2F;dall-e</p><p>ç½‘ç»œçš„è¾“å…¥ï¼š[Batch, Channels, Height, Width]</p><p><strong>æ·±åº¦å­¦ä¹ &#x3D;è¡¨ç¤ºå­¦ä¹ +æµ…å±‚å­¦ä¹ </strong></p><p><img src="/%5Csrc%5Cimage-20220303134155078.png" alt="image-20220303134155078"></p><p>rnnçš„æ•°æ®ç±»å‹æ˜¯ï¼ˆnum_steps,  batch_size, vocab_sizeï¼‰<br>è€ŒEncoderçš„æ•°æ®ç±»å‹æ˜¯ï¼ˆBatch_size, num_steps, vocab_sizeï¼‰<br>æ‰€ä»¥åœ¨Encoderä¸­è°ƒç”¨rnnçš„æ—¶å€™éœ€è¦å¯¹æ•°æ®è¿›è¡Œpermute</p><blockquote><p>åœ¨<code>nn.Sequential</code>çš„å®ä¾‹è¢«å‡½æ•°<code>torch.jit.script</code>è„šæœ¬åŒ–åï¼Œé€šè¿‡ä½¿ç”¨ç¬¦å·å¼ç¼–ç¨‹æé«˜äº†è®¡ç®—æ€§èƒ½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">net = get_net()<br><span class="hljs-keyword">with</span> Benchmark(<span class="hljs-string">&#x27;æ— torchscript&#x27;</span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>): net(x)<br><br>net = torch.jit.script(net)<br><span class="hljs-keyword">with</span> Benchmark(<span class="hljs-string">&#x27;æœ‰torchscript&#x27;</span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>): net(x)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5Cimage-20220310095053692.png" alt="image-20220310095053692"></p></blockquote><p>torch.cuda.synchronize()ç­‰å¾…å½“å‰è®¾å¤‡ä¸Šæ‰€æœ‰æµä¸­çš„æ‰€æœ‰æ ¸å¿ƒå®Œæˆã€‚ ï¼ˆé€šå¸¸ç”¨äºå¼‚æ­¥ï¼‰<br>ï¿½ï¿½</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”Geoå°è®°</title>
    <link href="/2022/07/01/DeepLearning/Geo/"/>
    <url>/2022/07/01/DeepLearning/Geo/</url>
    
    <content type="html"><![CDATA[<p>å¯¹äºå›¾ç»“æ„æ¥è¯´ï¼Œ<a href="https://pytorch-geometric.readthedocs.io/en/latest/modules/data.html#torch_geometric.data.Data">æ•°æ®æ ¼å¼</a>ä¸º</p><p><img src="/src/image-20220710084309263.png" alt="image-20220710084309263"></p><p><code>x=[34,34]</code> æŒ‡çš„æ˜¯æ ·æœ¬çš„æ•°é‡ä¸ç»´åº¦å¤§å°ï¼Œä¹Ÿå°±æ˜¯æ ·æœ¬çš„shape</p><p><code>edge_index</code>æŒ‡çš„æ˜¯ä¸€å®šæ˜¯[2, n]ã€‚ æ˜¯ä¸€ä¸ªsourceä¸targetçš„è¿æ¥ï¼ŒnæŒ‡çš„æ˜¯è¾¹çš„ä¸ªæ•°ï¼Œæ˜¯ç¨€ç–çš„è¾¹ï¼Œå¹¶ä¸æ˜¯å¯†é›†çš„</p><p><code>y</code>æ ¹æ®ä»»åŠ¡ä¸åŒ(å¯èƒ½æ˜¯å›¾çº§åˆ«ä»»åŠ¡ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯èŠ‚ç‚¹çº§ä»»åŠ¡)ï¼Œç„¶åå°±ä¼šæœ‰ä¸åŒçš„ä»»æ„å¤§å°ã€‚è¿™é‡Œæ˜¯34ï¼Œ å› ä¸ºæ˜¯node classificationï¼Œæ‰€ä»¥æ˜¯èŠ‚ç‚¹çš„æ•°é‡ã€‚ï¿½ï¿½</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”RNNå°è®°</title>
    <link href="/2022/07/01/DeepLearning/RNN/"/>
    <url>/2022/07/01/DeepLearning/RNN/</url>
    
    <content type="html"><![CDATA[<h1 id="å¾ªç¯ç¥ç»ç½‘ç»œ"><a href="#å¾ªç¯ç¥ç»ç½‘ç»œ" class="headerlink" title="å¾ªç¯ç¥ç»ç½‘ç»œ"></a>å¾ªç¯ç¥ç»ç½‘ç»œ</h1><p>æˆ‘ä»¬ä»‹ç»äº†$n$å…ƒè¯­æ³•æ¨¡å‹ï¼Œå…¶ä¸­å•è¯$x_t$åœ¨æ—¶é—´æ­¥$t$çš„æ¡ä»¶æ¦‚ç‡ä»…å–å†³äºå‰é¢$n-1$ä¸ªå•è¯ã€‚å¯¹äºæ—¶é—´æ­¥$t-(n-1)$ä¹‹å‰çš„å•è¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å°†å…¶å¯èƒ½äº§ç”Ÿçš„å½±å“åˆå¹¶åˆ°$x_t$ä¸Šï¼Œéœ€è¦å¢åŠ $n$ï¼Œç„¶è€Œæ¨¡å‹å‚æ•°çš„æ•°é‡ä¹Ÿä¼šéšä¹‹å‘ˆæŒ‡æ•°å¢é•¿ï¼Œå› ä¸ºè¯è¡¨$\mathcal{V}$éœ€è¦å­˜å‚¨$|\mathcal{V}|^n$ä¸ªæ•°å­—ï¼Œå› æ­¤ä¸å…¶å°†$P(x_t \mid x_{t-1}, \ldots, x_{t-n+1})$æ¨¡å‹åŒ–ï¼Œä¸å¦‚ä½¿ç”¨éšå˜é‡æ¨¡å‹ï¼š</p><p>$$P(x_t \mid x_{t-1}, \ldots, x_1) \approx P(x_t \mid h_{t-1}),$$</p><p>å…¶ä¸­$h_{t-1}$æ˜¯<em>éšçŠ¶æ€</em>ï¼ˆhidden stateï¼‰ï¼Œä¹Ÿç§°ä¸º<em>éšè—å˜é‡</em>ï¼ˆhidden variableï¼‰ï¼Œå®ƒå­˜å‚¨äº†åˆ°æ—¶é—´æ­¥$t-1$çš„åºåˆ—ä¿¡æ¯ã€‚<br>é€šå¸¸ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºå½“å‰è¾“å…¥$x_{t}$å’Œå…ˆå‰éšçŠ¶æ€$h_{t-1}$æ¥è®¡ç®—æ—¶é—´æ­¥$t$å¤„çš„ä»»ä½•æ—¶é—´çš„éšçŠ¶æ€ï¼š</p><p>$$h_t &#x3D; f(x_{t}, h_{t-1}).$$</p><p>å¯¹äº<code>eq_ht_xt</code>ä¸­çš„å‡½æ•°$f$ï¼Œéšå˜é‡æ¨¡å‹ä¸æ˜¯è¿‘ä¼¼å€¼ã€‚æ¯•ç«Ÿ$h_t$æ˜¯å¯ä»¥ä»…ä»…å­˜å‚¨åˆ°ç›®å‰ä¸ºæ­¢è§‚å¯Ÿåˆ°çš„æ‰€æœ‰æ•°æ®ï¼Œç„¶è€Œè¿™æ ·çš„æ“ä½œå¯èƒ½ä¼šä½¿è®¡ç®—å’Œå­˜å‚¨çš„ä»£ä»·éƒ½å˜å¾—æ˜‚è´µã€‚</p><p>å›æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨æ„ŸçŸ¥æœºä¸­è®¨è®ºè¿‡çš„å…·æœ‰éšè—å•å…ƒçš„éšè—å±‚ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œéšè—å±‚å’ŒéšçŠ¶æ€æŒ‡çš„æ˜¯ä¸¤ä¸ªæˆªç„¶ä¸åŒçš„æ¦‚å¿µã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œéšè—å±‚æ˜¯åœ¨ä»è¾“å…¥åˆ°è¾“å‡ºçš„è·¯å¾„ä¸Šï¼ˆä»¥è§‚æµ‹è§’åº¦æ¥ç†è§£ï¼‰çš„éšè—çš„å±‚ï¼Œè€ŒéšçŠ¶æ€åˆ™æ˜¯åœ¨ç»™å®šæ­¥éª¤æ‰€åšçš„ä»»ä½•äº‹æƒ…ï¼ˆä»¥æŠ€æœ¯è§’åº¦æ¥å®šä¹‰ï¼‰çš„<em>è¾“å…¥</em>ï¼Œå¹¶ä¸”è¿™äº›çŠ¶æ€åªèƒ½é€šè¿‡å…ˆå‰æ—¶é—´æ­¥çš„æ•°æ®æ¥è®¡ç®—ã€‚</p><p><em>å¾ªç¯ç¥ç»ç½‘ç»œ</em>ï¼ˆrecurrent neural networksï¼ŒRNNsï¼‰æ˜¯å…·æœ‰éšçŠ¶æ€çš„ç¥ç»ç½‘ç»œã€‚åœ¨ä»‹ç»å¾ªç¯ç¥ç»ç½‘ç»œæ¨¡å‹ä¹‹å‰ï¼Œ<br>æˆ‘ä»¬é¦–å…ˆå›é¡¾å¤šå±‚æ„ŸçŸ¥æœºæ¨¡å‹ã€‚</p><h2 id="æ— éšçŠ¶æ€çš„ç¥ç»ç½‘ç»œ"><a href="#æ— éšçŠ¶æ€çš„ç¥ç»ç½‘ç»œ" class="headerlink" title="æ— éšçŠ¶æ€çš„ç¥ç»ç½‘ç»œ"></a>æ— éšçŠ¶æ€çš„ç¥ç»ç½‘ç»œ</h2><p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹åªæœ‰å•éšè—å±‚çš„å¤šå±‚æ„ŸçŸ¥æœºã€‚è®¾éšè—å±‚çš„æ¿€æ´»å‡½æ•°ä¸º$\phi$ï¼Œç»™å®šä¸€ä¸ªå°æ‰¹é‡æ ·æœ¬$\mathbf{X} \in \mathbb{R}^{n \times d}$ï¼Œå…¶ä¸­æ‰¹é‡å¤§å°ä¸º$n$ï¼Œè¾“å…¥ç»´åº¦ä¸º$d$ï¼Œåˆ™éšè—å±‚çš„è¾“å‡º$\mathbf{H} \in \mathbb{R}^{n \times h}$é€šè¿‡ä¸‹å¼è®¡ç®—ï¼š</p><p>$$\mathbf{H} &#x3D; \phi(\mathbf{X} \mathbf{W}_{xh} + \mathbf{b}<em>h).$$<br>æˆ‘ä»¬æ‹¥æœ‰çš„éšè—å±‚æƒé‡å‚æ•°ä¸º$\mathbf{W}</em>{xh} \in \mathbb{R}^{d \times h}$ï¼Œåç½®å‚æ•°ä¸º$\mathbf{b}_h \in \mathbb{R}^{1 \times h}$ï¼Œä»¥åŠéšè—å•å…ƒçš„æ•°ç›®ä¸º$h$ã€‚<br>å› æ­¤æ±‚å’Œæ—¶å¯ä»¥åº”ç”¨å¹¿æ’­æœºåˆ¶ï¼ˆè§ :numref:<code>subsec_broadcasting</code>ï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œå°†éšè—å˜é‡$\mathbf{H}$ç”¨ä½œè¾“å‡ºå±‚çš„è¾“å…¥ã€‚<br>è¾“å‡ºå±‚ç”±ä¸‹å¼ç»™å‡ºï¼š</p><p>$$\mathbf{O} &#x3D; \mathbf{H} \mathbf{W}_{hq} + \mathbf{b}_q,$$</p><p>å…¶ä¸­ï¼Œ$\mathbf{O} \in \mathbb{R}^{n \times q}$æ˜¯è¾“å‡ºå˜é‡ï¼Œ$\mathbf{W}_{hq} \in \mathbb{R}^{h \times q}$æ˜¯æƒé‡å‚æ•°ï¼Œ$\mathbf{b}_q \in \mathbb{R}^{1 \times q}$æ˜¯è¾“å‡ºå±‚çš„åç½®å‚æ•°ã€‚å¦‚æœæ˜¯åˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨$\text{softmax}(\mathbf{O})$æ¥è®¡ç®—è¾“å‡ºç±»åˆ«çš„æ¦‚ç‡åˆ†å¸ƒã€‚</p><p>åªè¦å¯ä»¥éšæœºé€‰æ‹©â€œç‰¹å¾-æ ‡ç­¾â€å¯¹ï¼Œå¹¶ä¸”é€šè¿‡è‡ªåŠ¨å¾®åˆ†å’Œéšæœºæ¢¯åº¦ä¸‹é™èƒ½å¤Ÿå­¦ä¹ ç½‘ç»œå‚æ•°å°±å¯ä»¥äº†ã€‚</p><h2 id="æœ‰éšçŠ¶æ€çš„å¾ªç¯ç¥ç»ç½‘ç»œ"><a href="#æœ‰éšçŠ¶æ€çš„å¾ªç¯ç¥ç»ç½‘ç»œ" class="headerlink" title="æœ‰éšçŠ¶æ€çš„å¾ªç¯ç¥ç»ç½‘ç»œ"></a>æœ‰éšçŠ¶æ€çš„å¾ªç¯ç¥ç»ç½‘ç»œ</h2><p>æœ‰äº†éšçŠ¶æ€åï¼Œæƒ…å†µå°±å®Œå…¨ä¸åŒäº†ã€‚å‡è®¾æˆ‘ä»¬åœ¨æ—¶é—´æ­¥$t$æœ‰å°æ‰¹é‡è¾“å…¥$\mathbf{X}_t \in \mathbb{R}^{n \times d}$ã€‚æ¢è¨€ä¹‹ï¼Œå¯¹äº$n$ä¸ªåºåˆ—æ ·æœ¬çš„å°æ‰¹é‡ï¼Œ$\mathbf{X}<em>t$çš„æ¯ä¸€è¡Œå¯¹åº”äºæ¥è‡ªè¯¥åºåˆ—çš„æ—¶é—´æ­¥$t$å¤„çš„ä¸€ä¸ªæ ·æœ¬ã€‚æ¥ä¸‹æ¥ï¼Œç”¨$\mathbf{H}<em>t  \in \mathbb{R}^{n \times h}$è¡¨ç¤ºæ—¶é—´æ­¥$t$çš„éšè—å˜é‡ã€‚ä¸å¤šå±‚æ„ŸçŸ¥æœºä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä¿å­˜äº†å‰ä¸€ä¸ªæ—¶é—´æ­¥çš„éšè—å˜é‡$\mathbf{H}</em>{t-1}$ï¼Œå¹¶å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æƒé‡å‚æ•°$\mathbf{W}</em>{hh} \in \mathbb{R}^{h \times h}$ï¼Œæ¥æè¿°å¦‚ä½•åœ¨å½“å‰æ—¶é—´æ­¥ä¸­ä½¿ç”¨å‰ä¸€ä¸ªæ—¶é—´æ­¥çš„éšè—å˜é‡ã€‚å…·ä½“åœ°è¯´ï¼Œå½“å‰æ—¶é—´æ­¥éšè—å˜é‡ç”±å½“å‰æ—¶é—´æ­¥çš„è¾“å…¥ä¸å‰ä¸€ä¸ªæ—¶é—´æ­¥çš„éšè—å˜é‡ä¸€èµ·è®¡ç®—å¾—å‡ºï¼š</p><p>$$\mathbf{H}<em>t &#x3D; \phi(\mathbf{X}<em>t \mathbf{W}</em>{xh} + \mathbf{H}</em>{t-1} \mathbf{W}<em>{hh}  + \mathbf{b}<em>h).$$ä¸ä¸Šå¼å¤šäº†$\mathbf{H}</em>{t-1} \mathbf{W}</em>{hh}$ï¼Œ</p><p>ä»ç›¸é‚»æ—¶é—´æ­¥çš„éšè—å˜é‡$\mathbf{H}<em>t$å’Œ$\mathbf{H}</em>{t-1}$ä¹‹é—´çš„å…³ç³»å¯çŸ¥ï¼Œè¿™äº›å˜é‡æ•è·å¹¶ä¿ç•™äº†åºåˆ—ç›´åˆ°å…¶å½“å‰æ—¶é—´æ­¥çš„å†å²ä¿¡æ¯ï¼Œå°±å¦‚å½“å‰æ—¶é—´æ­¥ä¸‹ç¥ç»ç½‘ç»œçš„çŠ¶æ€æˆ–è®°å¿†ï¼Œå› æ­¤è¿™æ ·çš„éšè—å˜é‡è¢«ç§°ä¸º<em>éšçŠ¶æ€</em>ï¼ˆhidden stateï¼‰ã€‚ç”±äºåœ¨å½“å‰æ—¶é—´æ­¥ä¸­ï¼ŒéšçŠ¶æ€ä½¿ç”¨çš„å®šä¹‰ä¸å‰ä¸€ä¸ªæ—¶é—´æ­¥ä¸­ä½¿ç”¨çš„å®šä¹‰ç›¸åŒï¼Œå› æ­¤<code>rnn_h_with_state</code>çš„è®¡ç®—æ˜¯<em>å¾ªç¯çš„</em>ï¼ˆrecurrentï¼‰ã€‚<br>äºæ˜¯åŸºäºå¾ªç¯è®¡ç®—çš„éšçŠ¶æ€ç¥ç»ç½‘ç»œè¢«å‘½åä¸º<em>å¾ªç¯ç¥ç»ç½‘ç»œ</em>ï¼ˆrecurrent neural networkï¼‰ã€‚<br>åœ¨å¾ªç¯ç¥ç»ç½‘ç»œä¸­æ‰§è¡Œ<code>rnn_h_with_state</code>è®¡ç®—çš„å±‚ç§°ä¸º<em>å¾ªç¯å±‚</em>ï¼ˆrecurrent layerï¼‰ã€‚</p><p>æœ‰è®¸å¤šä¸åŒçš„æ–¹æ³•å¯ä»¥æ„å»ºå¾ªç¯ç¥ç»ç½‘ç»œï¼Œç”± <code>rnn_h_with_state</code>å®šä¹‰çš„éšçŠ¶æ€çš„å¾ªç¯ç¥ç»ç½‘ç»œæ˜¯éå¸¸å¸¸è§çš„ä¸€ç§ã€‚å¯¹äºæ—¶é—´æ­¥$t$ï¼Œè¾“å‡ºå±‚çš„è¾“å‡ºç±»ä¼¼äºå¤šå±‚æ„ŸçŸ¥æœºä¸­çš„è®¡ç®—ï¼š</p><p>$$\mathbf{O}_t &#x3D; \mathbf{H}<em>t \mathbf{W}</em>{hq} + \mathbf{b}_q.$$</p><p>å¾ªç¯ç¥ç»ç½‘ç»œçš„å‚æ•°åŒ…æ‹¬éšè—å±‚çš„æƒé‡$\mathbf{W}<em>{xh} \in \mathbb{R}^{d \times h}, \mathbf{W}</em>{hh} \in \mathbb{R}^{h \times h}$å’Œåç½®$\mathbf{b}<em>h \in \mathbb{R}^{1 \times h}$ï¼Œä»¥åŠè¾“å‡ºå±‚çš„æƒé‡$\mathbf{W}</em>{hq} \in \mathbb{R}^{h \times q}$<br>å’Œåç½®$\mathbf{b}_q \in \mathbb{R}^{1 \times q}$ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå³ä½¿åœ¨ä¸åŒçš„æ—¶é—´æ­¥ï¼Œå¾ªç¯ç¥ç»ç½‘ç»œä¹Ÿæ€»æ˜¯ä½¿ç”¨è¿™äº›æ¨¡å‹å‚æ•°ã€‚å› æ­¤ï¼Œå¾ªç¯ç¥ç»ç½‘ç»œçš„å‚æ•°å¼€é”€ä¸ä¼šéšç€æ—¶é—´æ­¥çš„å¢åŠ è€Œå¢åŠ ã€‚</p><p><code>fig_rnn</code>å±•ç¤ºäº†å¾ªç¯ç¥ç»ç½‘ç»œåœ¨ä¸‰ä¸ªç›¸é‚»æ—¶é—´æ­¥çš„è®¡ç®—é€»è¾‘ã€‚åœ¨ä»»æ„æ—¶é—´æ­¥$t$ï¼ŒéšçŠ¶æ€çš„è®¡ç®—å¯ä»¥è¢«è§†ä¸ºï¼š</p><ol><li>æ‹¼æ¥å½“å‰æ—¶é—´æ­¥$t$çš„è¾“å…¥$\mathbf{X}<em>t$å’Œå‰ä¸€æ—¶é—´æ­¥$t-1$çš„éšçŠ¶æ€$\mathbf{H}</em>{t-1}$ï¼›</li><li>å°†æ‹¼æ¥çš„ç»“æœé€å…¥å¸¦æœ‰æ¿€æ´»å‡½æ•°$\phi$çš„å…¨è¿æ¥å±‚ã€‚<br>å…¨è¿æ¥å±‚çš„è¾“å‡ºæ˜¯å½“å‰æ—¶é—´æ­¥$t$çš„éšçŠ¶æ€$\mathbf{H}_t$ã€‚</li></ol><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæ¨¡å‹å‚æ•°æ˜¯$\mathbf{W}<em>{xh}$å’Œ$\mathbf{W}</em>{hh}$çš„æ‹¼æ¥ï¼Œä»¥åŠ$\mathbf{b}_h$çš„åç½®ï¼Œæ‰€æœ‰è¿™äº›å‚æ•°éƒ½æ¥è‡ª<code>rnn_h_with_state</code>ã€‚<br>å½“å‰æ—¶é—´æ­¥$t$çš„éšçŠ¶æ€$\mathbf{H}<em>t$å°†å‚ä¸è®¡ç®—ä¸‹ä¸€æ—¶é—´æ­¥$t+1$çš„éšçŠ¶æ€$\mathbf{H}</em>{t+1}$ã€‚è€Œä¸”$\mathbf{H}_t$è¿˜å°†é€å…¥å…¨è¿æ¥è¾“å‡ºå±‚ï¼Œç”¨äºè®¡ç®—å½“å‰æ—¶é—´æ­¥$t$çš„è¾“å‡º$\mathbf{O}_t$ã€‚</p><p>æˆ‘ä»¬åˆšæ‰æåˆ°ï¼ŒéšçŠ¶æ€ä¸­$\mathbf{X}<em>t \mathbf{W}</em>{xh} + \mathbf{H}<em>{t-1} \mathbf{W}</em>{hh}$çš„è®¡ç®—ï¼Œç›¸å½“äº$\mathbf{X}<em>t$å’Œ$\mathbf{H}</em>{t-1}$çš„æ‹¼æ¥<br>ä¸$\mathbf{W}<em>{xh}$å’Œ$\mathbf{W}</em>{hh}$çš„æ‹¼æ¥çš„çŸ©é˜µä¹˜æ³•ã€‚è™½ç„¶è¿™ä¸ªæ€§è´¨å¯ä»¥é€šè¿‡æ•°å­¦è¯æ˜ï¼Œä½†åœ¨ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ä»£ç æ¥è¯´æ˜ä¸€ä¸‹ã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰çŸ©é˜µ<code>X</code>ã€<code>W_xh</code>ã€<code>H</code>å’Œ<code>W_hh</code>ï¼Œå®ƒä»¬çš„å½¢çŠ¶åˆ†åˆ«ä¸º$(3ï¼Œ1)$ã€$(1ï¼Œ4)$ã€$(3ï¼Œ4)$å’Œ$(4ï¼Œ4)$ã€‚åˆ†åˆ«å°†<code>X</code>ä¹˜ä»¥<code>W_xh</code>ï¼Œå°†<code>H</code>ä¹˜ä»¥<code>W_hh</code>ï¼Œç„¶åå°†è¿™ä¸¤ä¸ªä¹˜æ³•ç›¸åŠ ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå½¢çŠ¶ä¸º$(3ï¼Œ4)$çš„çŸ©é˜µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">from</span> d2l <span class="hljs-keyword">import</span> torch <span class="hljs-keyword">as</span> d2l<br><br>X, W_xh = torch.normal(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">1</span>)), torch.normal(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, (<span class="hljs-number">1</span>, <span class="hljs-number">4</span>))<br>H, W_hh = torch.normal(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)), torch.normal(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, (<span class="hljs-number">4</span>, <span class="hljs-number">4</span>))<br>torch.matmul(X, W_xh) + torch.matmul(H, W_hh)<br></code></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ²¿åˆ—ï¼ˆè½´1ï¼‰æ‹¼æ¥çŸ©é˜µ<code>X</code>å’Œ<code>H</code>ï¼Œæ²¿è¡Œï¼ˆè½´0ï¼‰æ‹¼æ¥çŸ©é˜µ<code>W_xh</code>å’Œ<code>W_hh</code>ã€‚è¿™ä¸¤ä¸ªæ‹¼æ¥åˆ†åˆ«äº§ç”Ÿå½¢çŠ¶$(3, 5)$å’Œå½¢çŠ¶$(5, 4)$çš„çŸ©é˜µã€‚å†å°†è¿™ä¸¤ä¸ªæ‹¼æ¥çš„çŸ©é˜µç›¸ä¹˜ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸ä¸Šé¢ç›¸åŒå½¢çŠ¶$(3, 4)$çš„è¾“å‡ºçŸ©é˜µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.matmul(torch.cat((X, H), <span class="hljs-number">1</span>), torch.cat((W_xh, W_hh), <span class="hljs-number">0</span>))<br></code></pre></td></tr></table></figure><h2 id="åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„å­—ç¬¦çº§è¯­è¨€æ¨¡å‹"><a href="#åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„å­—ç¬¦çº§è¯­è¨€æ¨¡å‹" class="headerlink" title="åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„å­—ç¬¦çº§è¯­è¨€æ¨¡å‹"></a>åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„å­—ç¬¦çº§è¯­è¨€æ¨¡å‹</h2><p>å›æƒ³ä¸€ä¸‹<code>sec_language_model</code>ä¸­çš„è¯­è¨€æ¨¡å‹ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ ¹æ®è¿‡å»çš„å’Œå½“å‰çš„è¯å…ƒé¢„æµ‹ä¸‹ä¸€ä¸ªè¯å…ƒï¼Œå› æ­¤æˆ‘ä»¬å°†åŸå§‹åºåˆ—ç§»ä½ä¸€ä¸ªè¯å…ƒä½œä¸ºæ ‡ç­¾ã€‚Bengioç­‰äººé¦–å…ˆæå‡ºä½¿ç”¨ç¥ç»ç½‘ç»œè¿›è¡Œè¯­è¨€å»ºæ¨¡<br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨å¾ªç¯ç¥ç»ç½‘ç»œæ¥æ„å»ºè¯­è¨€æ¨¡å‹ã€‚è®¾å°æ‰¹é‡å¤§å°ä¸º1ï¼Œæ‰¹é‡ä¸­çš„é‚£ä¸ªæ–‡æœ¬åºåˆ—ä¸ºâ€œmachineâ€ã€‚ä¸ºäº†ç®€åŒ–åç»­éƒ¨åˆ†çš„è®­ç»ƒï¼Œæˆ‘ä»¬è€ƒè™‘ä½¿ç”¨<em>å­—ç¬¦çº§è¯­è¨€æ¨¡å‹</em>ï¼ˆcharacter-level language modelï¼‰ï¼Œå°†æ–‡æœ¬è¯å…ƒåŒ–ä¸ºå­—ç¬¦è€Œä¸æ˜¯å•è¯ã€‚<code>fig_rnn_train</code>æ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡åŸºäºå­—ç¬¦çº§è¯­è¨€å»ºæ¨¡çš„å¾ªç¯ç¥ç»ç½‘ç»œï¼Œä½¿ç”¨å½“å‰çš„å’Œå…ˆå‰çš„å­—ç¬¦é¢„æµ‹ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚</p><p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ªæ—¶é—´æ­¥çš„è¾“å‡ºå±‚çš„è¾“å‡ºè¿›è¡Œsoftmaxæ“ä½œï¼Œç„¶ååˆ©ç”¨äº¤å‰ç†µæŸå¤±è®¡ç®—æ¨¡å‹è¾“å‡ºå’Œæ ‡ç­¾ä¹‹é—´çš„è¯¯å·®ã€‚ç”±äºéšè—å±‚ä¸­éšçŠ¶æ€çš„å¾ªç¯è®¡ç®—ï¼Œ<code>fig_rnn_train</code>ä¸­çš„ç¬¬$3$ä¸ªæ—¶é—´æ­¥çš„è¾“å‡º$\mathbf{O}_3$ç”±æ–‡æœ¬åºåˆ—â€œmâ€ã€â€œaâ€å’Œâ€œcâ€ç¡®å®šã€‚ç”±äºè®­ç»ƒæ•°æ®ä¸­è¿™ä¸ªæ–‡æœ¬åºåˆ—çš„ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯â€œhâ€ï¼Œå› æ­¤ç¬¬$3$ä¸ªæ—¶é—´æ­¥çš„æŸå¤±å°†å–å†³äºä¸‹ä¸€ä¸ªå­—ç¬¦çš„æ¦‚ç‡åˆ†å¸ƒï¼Œè€Œä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯åŸºäºç‰¹å¾åºåˆ—â€œmâ€ã€â€œaâ€ã€â€œcâ€å’Œè¿™ä¸ªæ—¶é—´æ­¥çš„æ ‡ç­¾â€œhâ€ç”Ÿæˆçš„ã€‚</p><p>åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ‰¹é‡å¤§å°ä¸º$n&gt;1$ï¼Œæ¯ä¸ªè¯å…ƒéƒ½ç”±ä¸€ä¸ª$d$ç»´å‘é‡è¡¨ç¤ºã€‚å› æ­¤ï¼Œåœ¨æ—¶é—´æ­¥$t$è¾“å…¥$\mathbf X_t$å°†æ˜¯ä¸€ä¸ª$n\times d$çŸ©é˜µï¼Œè¿™ä¸æˆ‘ä»¬åœ¨<code>subsec_rnn_w_hidden_states</code>ä¸­çš„è®¨è®ºç›¸åŒã€‚</p><h2 id="å›°æƒ‘åº¦ï¼ˆPerplexityï¼‰"><a href="#å›°æƒ‘åº¦ï¼ˆPerplexityï¼‰" class="headerlink" title="å›°æƒ‘åº¦ï¼ˆPerplexityï¼‰"></a>å›°æƒ‘åº¦ï¼ˆPerplexityï¼‰</h2><p>æœ€åï¼Œè®©æˆ‘ä»¬è®¨è®ºå¦‚ä½•åº¦é‡è¯­è¨€æ¨¡å‹çš„è´¨é‡ï¼Œ<br>è¿™å°†åœ¨åç»­éƒ¨åˆ†ä¸­ç”¨äºè¯„ä¼°åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„æ¨¡å‹ã€‚<br>ä¸€ä¸ªå¥½çš„è¯­è¨€æ¨¡å‹èƒ½å¤Ÿç”¨é«˜åº¦å‡†ç¡®çš„è¯å…ƒæ¥é¢„æµ‹æˆ‘ä»¬æ¥ä¸‹æ¥ä¼šçœ‹åˆ°ä»€ä¹ˆã€‚<br>è€ƒè™‘ä¸€ä¸‹ç”±ä¸åŒçš„è¯­è¨€æ¨¡å‹ç»™å‡ºçš„å¯¹â€œIt is raining .â€ï¼ˆâ€œ.ä¸‹é›¨äº†â€ï¼‰çš„ç»­å†™ï¼š</p><ol><li>â€œIt is raining outsideâ€ï¼ˆå¤–é¢ä¸‹é›¨äº†ï¼‰</li><li>â€œIt is raining banana treeâ€ï¼ˆé¦™è•‰æ ‘ä¸‹é›¨äº†ï¼‰</li><li>â€œIt is raining piouw;kcj pwepoiutâ€ï¼ˆpiouw;kcj pwepoiutä¸‹é›¨äº†ï¼‰</li></ol><p>å°±è´¨é‡è€Œè¨€ï¼Œä¾‹$1$æ˜¾ç„¶æ˜¯æœ€åˆä¹æƒ…ç†ã€åœ¨é€»è¾‘ä¸Šæœ€è¿è´¯çš„ã€‚è™½ç„¶è¿™ä¸ªæ¨¡å‹å¯èƒ½æ²¡æœ‰å¾ˆå‡†ç¡®åœ°åæ˜ å‡ºåç»­è¯çš„è¯­ä¹‰ï¼Œ<br>æ¯”å¦‚ï¼Œâ€œIt is raining in San Franciscoâ€ï¼ˆæ—§é‡‘å±±ä¸‹é›¨äº†ï¼‰<br>å’Œâ€œIt is raining in winterâ€ï¼ˆå†¬å¤©ä¸‹é›¨äº†ï¼‰</p><p>å¯èƒ½æ‰æ˜¯æ›´å®Œç¾çš„åˆç†æ‰©å±•ï¼Œä½†è¯¥æ¨¡å‹å·²ç»èƒ½å¤Ÿæ•æ‰åˆ°è·Ÿåœ¨åé¢çš„æ˜¯å“ªç±»å•è¯ã€‚<br>ä¾‹$2$åˆ™è¦ç³Ÿç³•å¾—å¤šï¼Œå› ä¸ºå…¶äº§ç”Ÿäº†ä¸€ä¸ªæ— æ„ä¹‰çš„ç»­å†™ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè‡³å°‘è¯¥æ¨¡å‹å·²ç»å­¦ä¼šäº†å¦‚ä½•æ‹¼å†™å•è¯ï¼Œä»¥åŠå•è¯ä¹‹é—´çš„æŸç§ç¨‹åº¦çš„ç›¸å…³æ€§ã€‚æœ€åï¼Œä¾‹$3$è¡¨æ˜äº†è®­ç»ƒä¸è¶³çš„æ¨¡å‹æ˜¯æ— æ³•æ­£ç¡®åœ°æ‹Ÿåˆæ•°æ®çš„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—åºåˆ—çš„ä¼¼ç„¶æ¦‚ç‡æ¥åº¦é‡æ¨¡å‹çš„è´¨é‡ã€‚ç„¶è€Œè¿™æ˜¯ä¸€ä¸ªéš¾ä»¥ç†è§£ã€éš¾ä»¥æ¯”è¾ƒçš„æ•°å­—ã€‚æ¯•ç«Ÿï¼Œè¾ƒçŸ­çš„åºåˆ—æ¯”è¾ƒé•¿çš„åºåˆ—æ›´æœ‰å¯èƒ½å‡ºç°ï¼Œå› æ­¤è¯„ä¼°æ¨¡å‹äº§ç”Ÿæ‰˜å°”æ–¯æ³°çš„å·¨è‘—ã€Šæˆ˜äº‰ä¸å’Œå¹³ã€‹çš„å¯èƒ½æ€§ä¸å¯é¿å…åœ°ä¼šæ¯”äº§ç”Ÿåœ£åŸƒå…‹è‹ä½©é‡Œçš„ä¸­ç¯‡å°è¯´ã€Šå°ç‹å­ã€‹å¯èƒ½æ€§è¦å°å¾—å¤šã€‚è€Œç¼ºå°‘çš„å¯èƒ½æ€§å€¼ç›¸å½“äºå¹³å‡æ•°ã€‚</p><p>åœ¨è¿™é‡Œï¼Œä¿¡æ¯è®ºå¯ä»¥æ´¾ä¸Šç”¨åœºäº†ã€‚æˆ‘ä»¬åœ¨å¼•å…¥softmaxå›å½’ã€‚å¦‚æœæƒ³è¦å‹ç¼©æ–‡æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å½“å‰è¯å…ƒé›†é¢„æµ‹çš„ä¸‹ä¸€ä¸ªè¯å…ƒã€‚ä¸€ä¸ªæ›´å¥½çš„è¯­è¨€æ¨¡å‹åº”è¯¥èƒ½è®©æˆ‘ä»¬æ›´å‡†ç¡®åœ°é¢„æµ‹ä¸‹ä¸€ä¸ªè¯å…ƒã€‚å› æ­¤ï¼Œå®ƒåº”è¯¥å…è®¸æˆ‘ä»¬åœ¨å‹ç¼©åºåˆ—æ—¶èŠ±è´¹æ›´å°‘çš„æ¯”ç‰¹ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªåºåˆ—ä¸­æ‰€æœ‰çš„$n$ä¸ªè¯å…ƒçš„äº¤å‰ç†µæŸå¤±çš„å¹³å‡å€¼æ¥è¡¡é‡ï¼š</p><p>$$\frac{1}{n} \sum_{t&#x3D;1}^n -\log P(x_t \mid x_{t-1}, \ldots, x_1),$$</p><p>å…¶ä¸­$P$ç”±è¯­è¨€æ¨¡å‹ç»™å‡ºï¼Œ$x_t$æ˜¯åœ¨æ—¶é—´æ­¥$t$ä»è¯¥åºåˆ—ä¸­è§‚å¯Ÿåˆ°çš„å®é™…è¯å…ƒã€‚è¿™ä½¿å¾—ä¸åŒé•¿åº¦çš„æ–‡æ¡£çš„æ€§èƒ½å…·æœ‰äº†å¯æ¯”æ€§ã€‚<br>ç”±äºå†å²åŸå› ï¼Œè‡ªç„¶è¯­è¨€å¤„ç†çš„ç§‘å­¦å®¶æ›´å–œæ¬¢ä½¿ç”¨ä¸€ä¸ªå«åš<em>å›°æƒ‘åº¦</em>ï¼ˆperplexityï¼‰çš„é‡ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒæ˜¯ <code>eq_avg_ce_for_lm</code>çš„æŒ‡æ•°ï¼š</p><p>$$\exp\left(-\frac{1}{n} \sum_{t&#x3D;1}^n \log P(x_t \mid x_{t-1}, \ldots, x_1)\right).$$</p><p>å›°æƒ‘åº¦çš„æœ€å¥½çš„ç†è§£æ˜¯â€œä¸‹ä¸€ä¸ªè¯å…ƒçš„å®é™…é€‰æ‹©æ•°çš„è°ƒå’Œå¹³å‡æ•°â€ã€‚<br>æˆ‘ä»¬çœ‹çœ‹ä¸€äº›æ¡ˆä¾‹ï¼š</p><ul><li>åœ¨æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œæ¨¡å‹æ€»æ˜¯å®Œç¾åœ°ä¼°è®¡æ ‡ç­¾è¯å…ƒçš„æ¦‚ç‡ä¸º1ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨¡å‹çš„å›°æƒ‘åº¦ä¸º1ã€‚</li><li>åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ¨¡å‹æ€»æ˜¯é¢„æµ‹æ ‡ç­¾è¯å…ƒçš„æ¦‚ç‡ä¸º0ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå›°æƒ‘åº¦æ˜¯æ­£æ— ç©·å¤§ã€‚</li><li>åœ¨åŸºçº¿ä¸Šï¼Œè¯¥æ¨¡å‹çš„é¢„æµ‹æ˜¯è¯è¡¨çš„æ‰€æœ‰å¯ç”¨è¯å…ƒä¸Šçš„å‡åŒ€åˆ†å¸ƒã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå›°æƒ‘åº¦ç­‰äºè¯è¡¨ä¸­å”¯ä¸€è¯å…ƒçš„æ•°é‡ã€‚<br>äº‹å®ä¸Šï¼Œå¦‚æœæˆ‘ä»¬åœ¨æ²¡æœ‰ä»»ä½•å‹ç¼©çš„æƒ…å†µä¸‹å­˜å‚¨åºåˆ—ï¼Œ<br>è¿™å°†æ˜¯æˆ‘ä»¬èƒ½åšçš„æœ€å¥½çš„ç¼–ç æ–¹å¼ã€‚<br>å› æ­¤ï¼Œè¿™ç§æ–¹å¼æä¾›äº†ä¸€ä¸ªé‡è¦çš„ä¸Šé™ï¼Œ<br>è€Œä»»ä½•å®é™…æ¨¡å‹éƒ½å¿…é¡»è¶…è¶Šè¿™ä¸ªä¸Šé™ã€‚</li></ul><p>åœ¨æ¥ä¸‹æ¥çš„å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œå®ç°å­—ç¬¦çº§è¯­è¨€æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨å›°æƒ‘åº¦æ¥è¯„ä¼°è¿™æ ·çš„æ¨¡å‹ã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul><li>å¯¹éšçŠ¶æ€ä½¿ç”¨å¾ªç¯è®¡ç®—çš„ç¥ç»ç½‘ç»œç§°ä¸ºå¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰ã€‚</li><li>å¾ªç¯ç¥ç»ç½‘ç»œçš„éšçŠ¶æ€å¯ä»¥æ•è·ç›´åˆ°å½“å‰æ—¶é—´æ­¥åºåˆ—çš„å†å²ä¿¡æ¯ã€‚</li><li>å¾ªç¯ç¥ç»ç½‘ç»œæ¨¡å‹çš„å‚æ•°æ•°é‡ä¸ä¼šéšç€æ—¶é—´æ­¥çš„å¢åŠ è€Œå¢åŠ ã€‚</li><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¾ªç¯ç¥ç»ç½‘ç»œåˆ›å»ºå­—ç¬¦çº§è¯­è¨€æ¨¡å‹ã€‚</li><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å›°æƒ‘åº¦æ¥è¯„ä»·è¯­è¨€æ¨¡å‹çš„è´¨é‡ã€‚</li></ul><p>æ¨¡å‹å‚æ•°å¤§å°è®¡ç®—ï¼š</p><p>Yçš„å¤§å° &#x3D; ã€X.shape[0] * X.shape[1],   len(vocab)ã€‘</p><p>Wçš„å¤§å° &#x3D; ã€X.shape[0],  num_hiddensã€‘</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”torchä¸­nnä¸Fçš„åŒºåˆ«</title>
    <link href="/2022/07/01/DeepLearning/module%E5%92%8Cfunctional%E7%9A%84%E8%BE%A8%E6%9E%90/"/>
    <url>/2022/07/01/DeepLearning/module%E5%92%8Cfunctional%E7%9A%84%E8%BE%A8%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h1 id="nn-ä¸-nn-functionalçš„åŒºåˆ«"><a href="#nn-ä¸-nn-functionalçš„åŒºåˆ«" class="headerlink" title="nn ä¸ nn.functionalçš„åŒºåˆ«"></a>nn ä¸ nn.functionalçš„åŒºåˆ«</h1><p>ä¸¤è€…çš„ç›¸åŒä¹‹å¤„ï¼š</p><ul><li><code>nn.Xxx</code>å’Œ<code>nn.functional.xxx</code>çš„å®é™…åŠŸèƒ½æ˜¯ç›¸åŒçš„ï¼Œå³<code>nn.Conv2d</code>å’Œ<code>nn.functional.conv2d</code> éƒ½æ˜¯è¿›è¡Œå·ç§¯ï¼Œ<code>nn.Dropout</code> å’Œ<code>nn.functional.dropout</code>éƒ½æ˜¯è¿›è¡Œdropoutï¼Œã€‚ã€‚ã€‚ã€‚ã€‚ï¼› </li><li>è¿è¡Œæ•ˆç‡ä¹Ÿæ˜¯è¿‘ä¹ç›¸åŒã€‚</li></ul><p><code>nn.functional.xxx</code>æ˜¯å‡½æ•°æ¥å£ï¼Œè€Œ<code>nn.Xxx</code>æ˜¯<code>nn.functional.xxx</code>çš„ç±»å°è£…ï¼Œå¹¶ä¸”**<code>nn.Xxx</code>éƒ½ç»§æ‰¿äºä¸€ä¸ªå…±åŒç¥–å…ˆ<code>nn.Module</code>ã€‚**è¿™ä¸€ç‚¹å¯¼è‡´<code>nn.Xxx</code>é™¤äº†å…·æœ‰<code>nn.functional.xxx</code>åŠŸèƒ½ä¹‹å¤–ï¼Œå†…éƒ¨é™„å¸¦äº†<code>nn.Module</code>ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¾‹å¦‚<code>train(), eval(),load_state_dict, state_dict </code>ç­‰ã€‚</p><p>ä¸¤è€…çš„å·®åˆ«ä¹‹å¤„ï¼š</p><ul><li><strong>ä¸¤è€…çš„è°ƒç”¨æ–¹å¼ä¸åŒã€‚</strong></li></ul><p><code>nn.Xxx</code> éœ€è¦å…ˆå®ä¾‹åŒ–å¹¶ä¼ å…¥å‚æ•°ï¼Œç„¶åä»¥å‡½æ•°è°ƒç”¨çš„æ–¹å¼è°ƒç”¨å®ä¾‹åŒ–çš„å¯¹è±¡å¹¶ä¼ å…¥è¾“å…¥æ•°æ®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">inputs = torch.rand(<span class="hljs-number">64</span>, <span class="hljs-number">3</span>, <span class="hljs-number">244</span>, <span class="hljs-number">244</span>)<br>conv = nn.Conv2d(in_channels=<span class="hljs-number">3</span>, out_channels=<span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>)<br>out = conv(inputs)<br></code></pre></td></tr></table></figure><p><code>nn.functional.xxx</code>åŒæ—¶ä¼ å…¥è¾“å…¥æ•°æ®å’Œweight, biasç­‰å…¶ä»–å‚æ•° ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">weight = torch.rand(<span class="hljs-number">64</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)<br>bias = torch.rand(<span class="hljs-number">64</span>) <br>out = nn.functional.conv2d(inputs, weight, bias, padding=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><ul><li><strong><code>nn.Xxx</code>ç»§æ‰¿äº<code>nn.Module</code>ï¼Œ èƒ½å¤Ÿå¾ˆå¥½çš„ä¸<code>nn.Sequential</code>ç»“åˆä½¿ç”¨ï¼Œ è€Œ<code>nn.functional.xxx</code>æ— æ³•ä¸<code>nn.Sequential</code>ç»“åˆä½¿ç”¨ã€‚</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">fm_layer = nn.Sequential(<br>           nn.Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>           nn.BatchNorm2d(num_features=<span class="hljs-number">64</span>),<br>           nn.ReLU(),<br>           nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>),<br>           nn.Dropout(<span class="hljs-number">0.2</span>)<br> )<br></code></pre></td></tr></table></figure><ul><li><strong><code>nn.Xxx</code>ä¸éœ€è¦ä½ è‡ªå·±å®šä¹‰å’Œç®¡ç†weightï¼›è€Œ<code>nn.functional.xxx</code>éœ€è¦ä½ è‡ªå·±å®šä¹‰weightï¼Œæ¯æ¬¡è°ƒç”¨çš„æ—¶å€™éƒ½éœ€è¦æ‰‹åŠ¨ä¼ å…¥weight, ä¸åˆ©äºä»£ç å¤ç”¨ã€‚</strong></li></ul><p>ä½¿ç”¨<code>nn.Xxx</code>å®šä¹‰ä¸€ä¸ªCNN ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CNN</span>(nn.Module):<br><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(CNN, self).__init__()<br><br>        self.cnn1 = nn.Conv2d(in_channels=<span class="hljs-number">1</span>,  out_channels=<span class="hljs-number">16</span>, kernel_size=<span class="hljs-number">5</span>,padding=<span class="hljs-number">0</span>)<br>        self.relu1 = nn.ReLU()<br>        self.maxpool1 = nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>)<br><br>        self.cnn2 = nn.Conv2d(in_channels=<span class="hljs-number">16</span>, out_channels=<span class="hljs-number">32</span>, kernel_size=<span class="hljs-number">5</span>,  padding=<span class="hljs-number">0</span>)<br>        self.relu2 = nn.ReLU()<br>        self.maxpool2 = nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>)<br><br>        self.linear1 = nn.Linear(<span class="hljs-number">4</span> * <span class="hljs-number">4</span> * <span class="hljs-number">32</span>, <span class="hljs-number">10</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = x.view(x.size(<span class="hljs-number">0</span>), -<span class="hljs-number">1</span>)<br>        out = self.maxpool1(self.relu1(self.cnn1(x)))<br>        out = self.maxpool2(self.relu2(self.cnn2(out)))<br>        out = self.linear1(out.view(x.size(<span class="hljs-number">0</span>), -<span class="hljs-number">1</span>))<br>        <span class="hljs-keyword">return</span> out<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>nn.function.xxx</code>å®šä¹‰ä¸€ä¸ªä¸ä¸Šé¢ç›¸åŒçš„CNNã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CNN</span>(nn.Module):<br><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(CNN, self).__init__()<br><br>        self.cnn1_weight = nn.Parameter(torch.rand(<span class="hljs-number">16</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>))<br>        self.bias1_weight = nn.Parameter(torch.rand(<span class="hljs-number">16</span>))<br><br>        self.cnn2_weight = nn.Parameter(torch.rand(<span class="hljs-number">32</span>, <span class="hljs-number">16</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>))<br>        self.bias2_weight = nn.Parameter(torch.rand(<span class="hljs-number">32</span>))<br><br>        self.linear1_weight = nn.Parameter(torch.rand(<span class="hljs-number">4</span> * <span class="hljs-number">4</span> * <span class="hljs-number">32</span>, <span class="hljs-number">10</span>))<br>        self.bias3_weight = nn.Parameter(torch.rand(<span class="hljs-number">10</span>))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = x.view(x.size(<span class="hljs-number">0</span>), -<span class="hljs-number">1</span>)<br>        out = F.conv2d(x, self.cnn1_weight, self.bias1_weight)<br>        out = F.relu(out)<br>        out = F.max_pool2d(out)<br><br>        out = F.conv2d(x, self.cnn2_weight, self.bias2_weight)<br>        out = F.relu(out)<br>        out = F.max_pool2d(out)<br><br>        out = F.linear(x, self.linear1_weight, self.bias3_weight)<br>        <span class="hljs-keyword">return</span> out<br></code></pre></td></tr></table></figure><p>PyTorchå®˜æ–¹æ¨èï¼šå…·æœ‰å­¦ä¹ å‚æ•°çš„ï¼ˆä¾‹å¦‚ï¼Œconv2d, linear, batch_norm)é‡‡ç”¨<code>nn.Xxx</code>æ–¹å¼ï¼Œæ²¡æœ‰å­¦ä¹ å‚æ•°çš„ï¼ˆä¾‹å¦‚ï¼Œmaxpool, loss func, activation funcï¼‰ç­‰æ ¹æ®ä¸ªäººé€‰æ‹©ä½¿ç”¨<code>nn.functional.xxx</code>æˆ–è€…<code>nn.Xxx</code>æ–¹å¼ã€‚ä½†å…³äºdropoutï¼Œä¸ªäººå¼ºçƒˆæ¨èä½¿ç”¨<code>nn.Xxx</code>æ–¹å¼ï¼Œå› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹åªæœ‰è®­ç»ƒé˜¶æ®µæ‰è¿›è¡Œdropoutï¼Œåœ¨evalé˜¶æ®µéƒ½ä¸ä¼šè¿›è¡Œdropoutã€‚ä½¿ç”¨<code>nn.Xxx</code>æ–¹å¼å®šä¹‰dropoutï¼Œåœ¨è°ƒç”¨<code>model.eval()</code>ä¹‹åï¼Œmodelä¸­æ‰€æœ‰çš„dropout layeréƒ½å…³é—­ï¼Œä½†ä»¥<code>nn.function.dropout</code>æ–¹å¼å®šä¹‰dropoutï¼Œåœ¨è°ƒç”¨<code>model.eval()</code>ä¹‹åå¹¶ä¸èƒ½å…³é—­dropoutã€‚</p><p>åœ¨<code>nn.Xxx</code>ä¸èƒ½æ»¡è¶³ä½ çš„åŠŸèƒ½éœ€æ±‚æ—¶ï¼Œ<code>nn.functional.xxx</code>æ˜¯æ›´ä½³çš„é€‰æ‹©ï¼Œå› ä¸º<code>nn.functional.xxx</code>æ›´åŠ çš„çµæ´»(æ›´åŠ æ¥è¿‘åº•å±‚ï¼‰ï¼Œä½ å¯ä»¥åœ¨å…¶åŸºç¡€ä¸Šå®šä¹‰å‡ºè‡ªå·±æƒ³è¦çš„åŠŸèƒ½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”tensoråŸºæœ¬æ¦‚å¿µ  torchç‰ˆ</title>
    <link href="/2022/07/01/DeepLearning/tensor%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95/"/>
    <url>/2022/07/01/DeepLearning/tensor%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="Tensorçš„æ¦‚å¿µ"><a href="#Tensorçš„æ¦‚å¿µ" class="headerlink" title="Tensorçš„æ¦‚å¿µ"></a>Tensorçš„æ¦‚å¿µ</h1><p>è¯´èµ·å¼ é‡ï¼ˆtensorï¼‰å°±ä¸å¾—ä¸è¯´ä»–å’Œscalarã€vertorã€matrixä¹‹é—´çš„å…³ç³»äº†ï¼Œç›´æ¥ä¸Šå›¾ï¼š</p><p><img src="/%5Csrc%5C2274220-20211212114510782-517507267.png" alt="img"></p><blockquote><p>æ ‡é‡ï¼ˆscalarï¼‰ï¼šåªæœ‰å¤§å°æ¦‚å¿µï¼Œæ²¡æœ‰æ–¹å‘çš„æ¦‚å¿µã€‚é€šè¿‡ä¸€ä¸ªå…·ä½“çš„æ•°å€¼å°±èƒ½è¡¨è¾¾å®Œæ•´ã€‚æ¯”å¦‚ï¼šé‡é‡ã€æ¸©åº¦ã€é•¿åº¦ã€æåŠã€æ—¶é—´ã€çƒ­é‡ç­‰éƒ½æ•°æ®æ ‡é‡ã€‚</p><p>å‘é‡ï¼ˆvectorï¼‰ï¼šç‰©ç†å­¦ä¸Šä¹Ÿå«çŸ¢é‡ï¼ŒæŒ‡ç”±å¤§å°å’Œæ–¹å‘å…±åŒå†³å®šçš„é‡ï¼ˆè·Ÿã€Œæ ‡é‡ã€ç›¸åŒºåˆ«ï¼‰ã€‚å‘é‡ä¸»è¦æœ‰2ä¸ªç»´åº¦ï¼šå¤§å°ã€æ–¹å‘ã€‚æ¯”å¦‚ï¼šåŠ›ã€é€Ÿåº¦ç­‰<em>ã€‚</em></p><p>çŸ©é˜µï¼ˆmatrixï¼‰ï¼šï¼ˆå­¦è¿‡çº¿æ€§ä»£æ•°çš„éƒ½çŸ¥é“ï¼Œå¯å‚è§ä¹‹å‰çš„<a href="https://www.cnblogs.com/young978/p/15669123.html#_label1">çº¿ä»£ç¬”è®°</a>ï¼‰</p><p>å¼ é‡ï¼ˆtensorï¼‰ï¼šä¸€ä¸ª<strong>å¤šç»´æ•°ç»„</strong>ï¼Œå®ƒæ˜¯æ ‡é‡ã€å‘é‡ã€çŸ©é˜µçš„é«˜ä½æ‰©å±• </p></blockquote><p>å½“ä¸‹ä¸»æµçš„æ·±åº¦ç½‘ç»œå­¦ä¹ æ¡†æ¶æ˜¯PyTorchå’ŒTensorflowã€‚</p><p>å¯¹äºè¿™ä¸¤ä¸ªæ¡†æ¶è€Œè¨€ï¼Œæˆ‘åªæƒ³ç”¨ä¸€å¥ä»£ç æ¥é˜è¿°æˆ‘å¿ƒä¸­çš„æ‚ä¹±ï¼š </p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq"><span class="hljs-keyword">Import</span> torch <span class="hljs-built_in">as</span> tf               <br></code></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œæˆ‘è¿˜æ˜¯é€‰æ‹©äº†PyTorchï¼ˆ ^<em>^ &#x2F;\ ~</em>~ ï¼‰</p><p>tensor,æ˜¯PyTorchä¸­æœ€åŸºç¡€çš„æ•°æ®ç±»å‹,ä¹Ÿæ˜¯è¿›è¡Œæ•°æ®å­˜å‚¨å’Œè¿ç®—çš„åŸºæœ¬å•å…ƒã€‚</p><p>æ•°ç»„arrayè¿™ä¸ªæ¦‚å¿µï¼Œæ•°ç»„æ˜¯ç±»ä¼¼äºåˆ—è¡¨çš„é«˜é˜¶å¯¹è±¡ï¼Œæ˜¯æœ‰åºçš„å…ƒç´ åºåˆ—ã€‚</p><p><img src="/%5Csrc%5C2274220-20211212121653659-1556888048.png" alt="img"></p><p>Tensoråœ¨PyTorchçš„åœ°ä½ç›¸å½“äºArrayåœ¨Numpyä¸­åœ°ä½ã€‚</p><p>å®è´¨ä¸ŠPytorchå°†Numpyçš„ArrayåŒ…è£…æˆTensorï¼Œä¸ºå…¶å®šä¹‰äº†å„ç§å„æ ·çš„è¿ç®—æ–¹æ³•å’Œå‡½æ•°</p><p>ä»¥è‡³äºå¤„ç†tensorçš„æ—¶å€™ï¼Œè§‰å¾—è‡ªå·±åœ¨è°ƒç”¨Numpyå’ŒPandasè¿™ä¸¤ä¸ªåŒ…å¤„ç†ã€‚</p><h1 id="Tensorçš„å±æ€§"><a href="#Tensorçš„å±æ€§" class="headerlink" title="Tensorçš„å±æ€§"></a>Tensorçš„å±æ€§</h1><p>æ¯ä¸€ä¸ªtensoréƒ½æœ‰ä¸‰ä¸ªå±æ€§ï¼š<code>torch.dtypeï¼Œ``torch.deviceï¼Œ</code>å’Œ<code>torch.layout</code>.</p><h2 id="torch-dtype"><a href="#torch-dtype" class="headerlink" title="torch.dtype"></a>torch.dtype</h2><p>Pytorchæ‹¥æœ‰12ä¸ªä¸åŒçš„æ•°æ®ç±»å‹ã€‚</p><p><img src="/%5Csrc%5C2274220-20211212124655518-1573408127.png" alt="img"></p><p> tensorç±»å‹ ç›¸å…³ä»£ç </p><blockquote><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">float_tensor = torch.ones(<span class="hljs-number">1</span>, dtype=torch.<span class="hljs-built_in">float</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">double_tensor = torch.ones(<span class="hljs-number">1</span>, dtype=torch.double)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">complex_float_tensor = torch.ones(<span class="hljs-number">1</span>, dtype=torch.complex64)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">complex_double_tensor = torch.ones(<span class="hljs-number">1</span>, dtype=torch.complex128)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">int_tensor = torch.ones(<span class="hljs-number">1</span>, dtype=torch.<span class="hljs-built_in">int</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">long_tensor = torch.ones(<span class="hljs-number">1</span>, dtype=torch.long)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">uint_tensor = torch.ones(<span class="hljs-number">1</span>, dtype=torch.uint8)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">double_tensor = torch.ones(<span class="hljs-number">1</span>, dtype=torch.double)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">bool_tensor = torch.ones(<span class="hljs-number">1</span>, dtype=torch.<span class="hljs-built_in">bool</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">long_zerodim = torch.tensor(<span class="hljs-number">1</span>, dtype=torch.long)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">int_zerodim = torch.tensor(<span class="hljs-number">1</span>, dtype=torch.<span class="hljs-built_in">int</span>)</span><br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">torch.add(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>).dtype</span><br>torch.int64<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">(int_tensor + <span class="hljs-number">5</span>).dtype</span><br>torch.int32<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">(int_tensor + long_zerodim).dtype</span><br>torch.int32<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">(long_tensor + int_tensor).dtype</span><br>torch.int64<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">(bool_tensor + long_tensor).dtype</span><br>torch.int64<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">(bool_tensor + uint_tensor).dtype</span><br>torch.uint8<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">(float_tensor + double_tensor).dtype</span><br>torch.float64<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">(complex_float_tensor + complex_double_tensor).dtype</span><br>torch.complex128<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">(bool_tensor + int_tensor).dtype</span><br>torch.int32<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">torch.add(long_tensor, float_tensor).dtype</span><br>torch.float32<br></code></pre></td></tr></table></figure></blockquote><h2 id="torch-device"><a href="#torch-device" class="headerlink" title="torch.device"></a>torch.device</h2><p> ç”±äºpytorchå¯ä»¥åœ¨Gpuä¸Šè¿è¡Œtensorçš„ç›¸å…³æ“ä½œã€‚</p><p>torch.deviceæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºæ­£åœ¨æˆ–å°†è¦åˆ†é… torch.tensorçš„è®¾å¤‡ã€‚</p><p>torch.deviceä¸€åŠå¯é€‰çš„å†…å®¹æœ‰ cpuï¼Œcudaæˆ–è€…ä¸€äº›è®¾å¤‡ç±»å‹çš„å¯é€‰è®¾å¤‡åºå·</p><blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&gt;&gt;&gt; torch.device(<span class="hljs-string">&#x27;cuda:0&#x27;</span>)<br>device(<span class="hljs-attribute">type</span>=<span class="hljs-string">&#x27;cuda&#x27;</span>, <span class="hljs-attribute">index</span>=0)<br><br>&gt;&gt;&gt; torch.device(<span class="hljs-string">&#x27;cpu&#x27;</span>)<br>device(<span class="hljs-attribute">type</span>=<span class="hljs-string">&#x27;cpu&#x27;</span>)<br><br>&gt;&gt;&gt; torch.device(<span class="hljs-string">&#x27;cuda&#x27;</span>)  # current cuda device<br>device(<span class="hljs-attribute">type</span>=<span class="hljs-string">&#x27;cuda&#x27;</span>)<br>&gt;&gt;&gt; torch.device(<span class="hljs-string">&#x27;cuda&#x27;</span>, 0)<br>device(<span class="hljs-attribute">type</span>=<span class="hljs-string">&#x27;cuda&#x27;</span>, <span class="hljs-attribute">index</span>=0)<br><br>&gt;&gt;&gt; torch.device(<span class="hljs-string">&#x27;cpu&#x27;</span>, 0)<br>device(<span class="hljs-attribute">type</span>=<span class="hljs-string">&#x27;cpu&#x27;</span>, <span class="hljs-attribute">index</span>=0)<br></code></pre></td></tr></table></figure></blockquote><h2 id="torch-layout"><a href="#torch-layout" class="headerlink" title="torch.layout"></a><strong>torch.layout</strong></h2><p>torch.layout æ˜¯è¡¨ç¤º torch.tensor çš„å†…å­˜å¸ƒå±€çš„å¯¹è±¡ã€‚ç›®å‰ï¼Œtorch.tensoræ”¯æŒtorch.stridedï¼ˆå¯†é›†å¼ é‡ï¼‰å’Œsparse_cooï¼ˆç¨€ç–çš„COOå¼ é‡ï¼‰ã€‚</p><p><img src="/%5Csrc%5C2274220-20211212211034421-51741505.png" alt="img"></p><p>stride()æ–¹æ³•å…¶å®æŒ‡çš„å°±æ˜¯ï¼Œtensoræ¯ä¸ªç»´åº¦å˜åŒ–1åœ¨å®é™…ç‰©ç†å­˜å‚¨ç©ºé—´å˜åŒ–çš„å¤§å°ã€‚<img src="/%5Csrc%5Cloading.gif" alt="img"></p><blockquote><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = torch.tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]])</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x.stride()</span><br>(5, 1)<br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x.t().stride()</span><br>(1, 5)<br></code></pre></td></tr></table></figure></blockquote><h1 id="Tensorçš„åˆ›å»ºä¸è®¿é—®"><a href="#Tensorçš„åˆ›å»ºä¸è®¿é—®" class="headerlink" title="Tensorçš„åˆ›å»ºä¸è®¿é—®"></a>Tensorçš„åˆ›å»ºä¸è®¿é—®</h1><h2 id="Tensorçš„åˆ›å»ºæ–¹å¼"><a href="#Tensorçš„åˆ›å»ºæ–¹å¼" class="headerlink" title="Tensorçš„åˆ›å»ºæ–¹å¼"></a>Tensorçš„åˆ›å»ºæ–¹å¼</h2><ul><li>å¯ä»¥æ ¹æ®æ•°æ®ã€å…ƒç»„ã€NumPyçš„ndarrayã€æ ‡é‡å’Œå…¶ä»–ç±»å‹ï¼Œæ¥æ„å»ºtensorã€‚æ–¹æ³•æœ‰ï¼štorch.tensor()ã€torch.ones()ã€torch.zeros()ã€torch.from_array().</li><li>ä¹Ÿå¯ä»¥ä»ä¸€äº›åˆ†å¸ƒä¸­é‡‡æ ·æ„å»ºæ–°çš„å¼ é‡ï¼štorch.arange()ã€torch.range()ã€torch.rand()ã€torch.randn()ã€torch.normal().</li><li>å½“ç„¶ä¹Ÿæœ‰ä¸€äº›æ¯”è¾ƒç‰¹æ®Šçš„æ­å»ºï¼štorch.eye()ç”¨äºæ„å»ºä¸€ä¸ªå¯¹è§’çŸ©é˜µ</li></ul><h2 id="Tensorçš„è®¿é—®æ–¹å¼"><a href="#Tensorçš„è®¿é—®æ–¹å¼" class="headerlink" title="Tensorçš„è®¿é—®æ–¹å¼"></a>Tensorçš„è®¿é—®æ–¹å¼</h2><ul><li>å½“tensoræ˜¯æ ‡é‡æˆ–è€…ä¸€ç»´æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨torch.item()è®¿é—®</li><li>å½“tensoræ˜¯å¤šç»´æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•çš„æ–¹å¼ï¼Œç”¨æ³•ç±»ä¼¼äºa[:,0,0]</li><li>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ©è†œçš„æ–¹å¼ï¼Œå›ºå®šçš„è®¿é—®ä¸€äº›æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚</li></ul><blockquote><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">X</span> = torch.randn((<span class="hljs-number">2</span>,<span class="hljs-number">3</span>))<br><span class="hljs-attr">mask</span> = torch.randn((<span class="hljs-number">2</span>,<span class="hljs-number">3</span>))&gt;<span class="hljs-number">0</span><br><span class="hljs-attr">X1</span> = X[mask]<br><span class="hljs-attr">X2</span> = torch.masked_select(X,mask)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5C2274220-20211212220038950-808356639.png" alt="img"></p></blockquote><ul><li>è¿˜æœ‰æ¡ä»¶é€‰æ‹©è¿™ç§ä¸é”™çš„æ–¹å¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå€¼å¾—æ¨èçš„æ–¹å¼ã€‚</li></ul><blockquote><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">x</span> = torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)<br><span class="hljs-attr">y</span> = torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)<br><span class="hljs-attr">z</span> = torch.where(x&gt;y,x,y)<br></code></pre></td></tr></table></figure><p><img src="/%5Csrc%5C2274220-20211212220334767-1100716490.png" alt="img"></p></blockquote><h1 id="Tensorçš„ç®€å•æ“ä½œ"><a href="#Tensorçš„ç®€å•æ“ä½œ" class="headerlink" title="Tensorçš„ç®€å•æ“ä½œ"></a>Tensorçš„ç®€å•æ“ä½œ</h1><h2 id="å¸¸ç”¨æ•°å­¦è¿ç®—"><a href="#å¸¸ç”¨æ•°å­¦è¿ç®—" class="headerlink" title="å¸¸ç”¨æ•°å­¦è¿ç®—"></a>å¸¸ç”¨æ•°å­¦è¿ç®—</h2><ul><li><p>torch.add()ï¼šåŠ æ³•</p></li><li><p>torch.mul()ï¼šä¹˜æ³•</p></li><li><p>torch.div()ï¼šé™¤æ³•</p></li><li><p>torch.abs()ï¼štensorå†…æ¯ä¸ªå…ƒç´ å–ç»å¯¹å€¼</p></li><li><p>torch.round()ï¼štensorå†…æ¯ä¸ªå…ƒç´ å–æ•´æ•°éƒ¨åˆ†</p></li><li><p>torch.frac()ï¼štensorå†…æ¯ä¸ªå…ƒç´ å–å°æ•°éƒ¨åˆ†</p></li><li><p>torch.log()ï¼štensorå†…æ¯ä¸ªå…ƒç´ å–å¯¹æ•°</p></li><li><p>torch.pow()ï¼štensorå†…æ¯ä¸ªå…ƒç´ å–å¹‚å‡½æ•°</p></li><li><p>torch.exp()ï¼štensorå†…æ¯ä¸ªå…ƒç´ å–æŒ‡æ•°</p></li><li><p>torch.sigmoid()ï¼štensorå†…æ¯ä¸ªå…ƒç´ å–sigmoidå‡½æ•°å€¼</p></li><li><p>torch.mean()ï¼štensoræ‰€æœ‰å…ƒç´ çš„å‡å€¼</p></li><li><p>torch.norm()ï¼štensoræ‰€æœ‰å…ƒç´ çš„èŒƒæ•°å€¼</p></li><li><p>torch.prod()ï¼štensoræ‰€æœ‰å…ƒç´ ç§¯</p></li><li><p>torch.sum()ï¼štensoræ‰€æœ‰å…ƒç´ å’Œ</p></li><li><p>torch.max()ï¼štensoræ‰€æœ‰å…ƒç´ æœ€å¤§å€¼</p></li><li><p>torch.min()ï¼štensoræ‰€æœ‰å…ƒç´ æœ€å°å€¼</p></li></ul><p>æ³¨æ„ï¼šä¾‹å¦‚add()è¿™ç±»å‡½æ•°ä¸€èˆ¬éƒ½æ˜¯ä¼šè¿”å›ä¸€ç›´tensorå€¼çš„ï¼Œä½†æ˜¯add_()è¿™ç±»åŠ äº†ä¸‹åˆ’çº¿çš„æ–¹æ³•æ˜¯åœ¨tensorçš„åŸç©ºé—´å¤„ç†çš„ï¼Œä¼šè¦†ç›–ä¹‹å‰çš„å€¼</p><p>åŒæ ·ä¹Ÿå¯ä»¥æ˜¯ç”¨ä»¥ä¸‹æ–¹å¼ç›´æ¥å¤„ç†</p><ol><li>åŠ  tensor1 + tensor2ï¼›</li><li>å‡ tensor1 - tensor2ï¼›</li><li>ä¹˜ tensor1 * tensor2ï¼›</li><li>é™¤ tensor1 &#x2F; tensor2ï¼›</li><li>å†…ç§¯ tensor1 @ tensor2ï¼›</li><li>å¹‚è¿ç®— tensor1 ** n</li></ol><h2 id="çº¿æ€§ä»£æ•°è¿ç®—"><a href="#çº¿æ€§ä»£æ•°è¿ç®—" class="headerlink" title="çº¿æ€§ä»£æ•°è¿ç®—"></a>çº¿æ€§ä»£æ•°è¿ç®—</h2><ul><li>torch.dot()ï¼šå‘é‡å†…ç§¯è¿ç®—</li><li>torch.mv()ï¼šçŸ©é˜µä¸å‘é‡çš„ä¹˜æ³•</li><li>torch.mm()ï¼šçŸ©é˜µä¹˜æ³•</li><li>torch.eig()ï¼šæ–¹é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡</li><li>torch.inverse()ï¼šæ–¹é˜µçš„é€†</li><li>torch.ger()ï¼šä¸¤ä¸ªå‘é‡çš„å¼ é‡ç§¯</li></ul><h2 id="Tensorè¿æ¥ã€åˆ†ç‰‡ã€å˜å½¢"><a href="#Tensorè¿æ¥ã€åˆ†ç‰‡ã€å˜å½¢" class="headerlink" title="Tensorè¿æ¥ã€åˆ†ç‰‡ã€å˜å½¢"></a>Tensorè¿æ¥ã€åˆ†ç‰‡ã€å˜å½¢</h2><ul><li>torch.cat()ï¼šå¤šä¸ªtensorçš„æ‹¼æ¥</li><li>torch.reshape()\torch.view()ï¼šè¿”å›ä¸€ä¸ªå¼ é‡ï¼Œå…¶æ•°æ®å’Œå…ƒç´ æ•°é‡ä¸è¾“å…¥ç›¸åŒï¼Œä½†å…·æœ‰æŒ‡å®šçš„å½¢çŠ¶  å¯¹äºæ ‡é‡æ¥è¯´x.numel()</li><li>torch.transpose()\torch.t()ï¼šæŒ‡å®štensorçš„ä¸¤ä¸ªç»´åº¦è¿›è¡Œè½¬ç½®ï¼Œtorch.t()æ–¹æ³•åªé€‚ç”¨ä¸äºŒç»´tensor</li><li>torch.squeeze()&#x2F;unsqueeze()ï¼štensorå¯¹äºå¼ é‡ä¸­å¤§å°ä¸º1çš„ç»´åº¦çš„å‹ç¼©ä¸æ‰©å¼ </li><li>torch.permute()ï¼šè¿”å›ç»´åº¦æ’åˆ—åçš„åŸå§‹å¼ é‡è¾“å…¥çš„è§†å›¾ã€‚</li></ul><p>è¯´åˆ°è®¡ç®—å°±ä¸å¾—ä¸è¯´ï¼Œtensor çš„ä¸€ç§è®¡ç®—æœºåˆ¶ï¼Œ<strong>BroadCasting</strong>ã€‚åœ¨ä¸€å®šæ¡ä»¶ä¸‹ï¼Œä»–ä¼šä½¿ç»´åº¦ä¸åŒã€ç»´åº¦å¤§å°åŒçš„tensorå®Œæˆæ•°å­¦è®¡ç®—</p><p>ä»¥A+Bä¸ºä¾‹ï¼ŒBroadcastingçš„è¿‡ç¨‹å¦‚ä¸‹ï¼š ä»A,Bçš„æœ€åä¸€ä¸ªç»´åº¦å¼€å§‹åŒ¹é…é•¿åº¦ï¼Œå¦‚æœè¯¥ç»´åº¦é•¿åº¦ä¸€è‡´ï¼Œåˆ™åŒ¹é…å‰ä¸€ä¸ªç»´åº¦ã€‚å¦‚æœæŸä¸ªç»´åº¦çš„é•¿åº¦ä¸ä¸€è‡´ï¼Œå¹¶ä¸”ä¸¤è€…é•¿åº¦éƒ½&gt;1ï¼Œé‚£ä¹ˆç»´åº¦ä¸åŒ¹é…ï¼Œæ— æ³•è¿›è¡Œè¿ç®—ï¼Œå¦‚æœæœ‰ä¸€ä¸ªé•¿åº¦ç»´1ï¼Œé‚£ä¹ˆå°±å¯¹è¯¥ç»´åº¦è¿›è¡Œæ‰©å±•ï¼ˆå¹¿æ’­ï¼‰,æ‰©å±•åçš„ä¸¤ä¸ªç»´åº¦é•¿åº¦ä¸€è‡´ã€‚ä¾æ¬¡ç±»æ¨ç›´åˆ°ç¬¬ä¸€ä¸ªç»´åº¦ã€‚å¦‚æœä¸¤ä¸ªå¼ é‡ç»´åº¦ä¸åŒï¼Œåˆ™åœ¨ç¬¬0ç»´è¿›è¡Œå‡ç»´å¹¶åšå¹¿æ’­ã€‚</p><p>ç²—ç•¥çš„æ¥è¯´ï¼Œå°±æ˜¯åˆ©ç”¨squeeze()æ–¹æ³•ä½¿ä½ç»´çš„æ•°æ®å‡åˆ°é«˜ç»´çš„æ•°æ®ï¼Œå†åˆ©ç”¨cat()æ–¹æ³•æ‹¼æ¥æˆåŒæ ·çš„å¤§å°ã€‚ï¼ˆå‰ææ˜¯ï¼Œè¯¥ç»´åº¦é•¿åº¦ä¸º1ï¼Œæˆ–è€…æ²¡æœ‰ç»´åº¦æ‰å¯ä»¥ï¼‰</p><p>ä¸‹é¢è¿™å¼ å›¾å°±å¯ä»¥å¾ˆæ¸…æ™°çš„è¡¨è¾¾BroadCastingçš„æ•ˆæœã€‚</p><p> <img src="/%5Csrc%5C2274220-20211213161318232-1359331427.png" alt="img"></p><p>èŒƒæ•°è°ƒç”¨torch.norm(input, p&#x3D;â€™froâ€™, dim&#x3D;None, keepdim&#x3D;False, out&#x3D;None, dtype&#x3D;None)<br>$$<br>p&#x3D;1 \to L_1 \ p&#x3D;2 \to L_2 \ P&#x3D;inf \to L_\infty<br>$$<br>å‘é‡èŒƒæ•° é»˜è®¤äºŒèŒƒæ•°  çŸ©é˜µèŒƒæ•° é»˜è®¤FèŒƒæ•°èŒƒæ•° é»˜è®¤FèŒƒæ•°</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”torchä½¿ç”¨å°è®°</title>
    <link href="/2022/07/01/DeepLearning/torch/"/>
    <url>/2022/07/01/DeepLearning/torch/</url>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨<code>x=x+y</code>ä¼šå¢åŠ å†…å­˜çš„å¼€é”€ï¼Œå¦‚æœä¸æ˜¯å¿…è¦çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨<code>x+=y</code>æˆ–è€…<code>x[:]=x+y</code>æ¥å‡å°‘å†…å­˜çš„æ¶ˆè€—</p><p><code>B = A.clone()</code>  # é€šè¿‡åˆ†é…æ–°å†…å­˜ï¼Œå°†Açš„ä¸€ä¸ªå‰¯æœ¬åˆ†é…ç»™</p><p>é€šè¿‡è°ƒç”¨<code>max</code> å‡½æ•°ä¸­<code>keepdims=True</code>å‚æ•°ï¼Œå¯ä»¥è®©è¾“å‡ºçš„tensorä¿æŒinputçš„shape</p><p>æ¯ä¸ªè®¡ç®—å›¾è¿›è¡Œä¸€æ¬¡backwardä¹‹åï¼Œå„ä¸ªèŠ‚ç‚¹çš„å€¼ä¼šæ¸…é™¤ï¼Œè¿™æ ·ç›´æ¥è¿›è¡Œç¬¬äºŒæ¬¡backwardä¼šæŠ¥é”™ï¼Œå¦‚æœåœ¨ç¬¬ä¸€æ¬¡backwardåŠ ä¸Šretain_graph&#x3D;&#x3D;Trueå,å¯ä»¥å†æ¥ä¸€æ¬¡backwardã€‚</p><p>å½“<code>y</code>ä¸æ˜¯æ ‡é‡æ—¶ï¼Œå‘é‡<code>y</code>å…³äºå‘é‡<code>x</code>çš„å¯¼æ•°çš„æœ€è‡ªç„¶è§£é‡Šæ˜¯ä¸€ä¸ªçŸ©é˜µã€‚å¯¹äºé«˜é˜¶å’Œé«˜ç»´çš„<code>y</code>å’Œ<code>x</code>ï¼Œæ±‚å¯¼çš„ç»“æœå¯ä»¥æ˜¯ä¸€ä¸ªé«˜é˜¶å¼ é‡ã€‚ç„¶è€Œï¼Œè™½ç„¶è¿™äº›æ›´å¥‡ç‰¹çš„å¯¹è±¡ç¡®å®å‡ºç°åœ¨é«˜çº§æœºå™¨å­¦ä¹ ä¸­ï¼ˆåŒ…æ‹¬æ·±åº¦å­¦ä¹ ä¸­ï¼‰ï¼Œä½†å½“æˆ‘ä»¬è°ƒç”¨å‘é‡çš„åå‘è®¡ç®—æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè¯•å›¾è®¡ç®—ä¸€æ‰¹è®­ç»ƒæ ·æœ¬ä¸­æ¯ä¸ªç»„æˆéƒ¨åˆ†çš„æŸå¤±å‡½æ•°çš„å¯¼æ•°ã€‚ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>y.sum().backward()</code></p><p>torch.utils.data.TensorDataset ç”¨äºå¯¹tensorè¿›è¡Œæ‰“åŒ…ï¼Œ ç±»ä¼¼äºzipä¸€æ ·çš„æ“ä½œã€‚</p><p>torch.utils.data.DataLoaderå°±æ˜¯ç”¨æ¥åŒ…è£…æ‰€ä½¿ç”¨çš„æ•°æ®ï¼Œæ¯æ¬¡æŠ›å‡ºä¸€æ‰¹æ•°æ®</p><blockquote><p><strong>num_workersé€šè¿‡å½±å“æ•°æ®åŠ è½½é€Ÿåº¦ï¼Œä»è€Œå½±å“è®­ç»ƒé€Ÿåº¦</strong></p><p>åœ¨è°ƒæ•´num_workersçš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°è®­ç»ƒé€Ÿåº¦å¹¶æ²¡æœ‰å˜åŒ–</p><p>åŸå› åœ¨äºï¼š</p><p>num_workersæ˜¯åŠ è½½æ•°æ®ï¼ˆbatchï¼‰çš„çº¿ç¨‹æ•°ç›®</p><p>å½“åŠ è½½batchçš„æ—¶é—´ &lt; æ•°æ®è®­ç»ƒçš„æ—¶é—´</p><p>ã€€ã€€GPUæ¯æ¬¡è®­ç»ƒå®Œéƒ½å¯ä»¥ç›´æ¥ä»CPUä¸­å–åˆ°next batchçš„æ•°æ®</p><p>ã€€ã€€æ— éœ€é¢å¤–çš„ç­‰å¾…ï¼Œå› æ­¤ä¹Ÿä¸éœ€è¦å¤šä½™çš„workerï¼Œå³ä½¿å¢åŠ workerä¹Ÿä¸ä¼šå½±å“è®­ç»ƒé€Ÿåº¦</p><p>å½“åŠ è½½batchçš„æ—¶é—´ &gt; æ•°æ®è®­ç»ƒçš„æ—¶é—´</p><p>ã€€ã€€GPUæ¯æ¬¡è®­ç»ƒå®Œéƒ½éœ€è¦ç­‰å¾…CPUå®Œæˆæ•°æ®çš„è½½å…¥</p><p>ã€€ã€€è‹¥å¢åŠ workerï¼Œå³ä½¿worker_1è¿˜æœªå°±ç»ªï¼ŒGPUä¹Ÿå¯ä»¥å–worker_2çš„æ•°æ®æ¥è®­ç»ƒ</p><p>ä»…é™å•çº¿ç¨‹è®­ç»ƒæƒ…å†µ</p></blockquote><p>transforms.ToTensor() ï¼ˆ1ï¼‰ transforms.ToTensor() å°†numpyçš„ndarrayæˆ–PIL.Imageè¯»çš„å›¾ç‰‡è½¬æ¢æˆå½¢çŠ¶ä¸º(C,H, W)çš„Tensoræ ¼å¼ï¼Œä¸”&#x2F;255å½’ä¸€åŒ–åˆ°[0,1.0]ä¹‹é—´ ï¼ˆ2ï¼‰é€šé“çš„å…·ä½“é¡ºåºä¸cv2è¯»çš„è¿˜æ˜¯PIL.Imageè¯»çš„å›¾ç‰‡æœ‰å…³ç³» </p><p>torch.clamp()å’Œnp.clipçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æŠŠæ•°å€¼æ”¾ç¼©åˆ°ä¸€å®šèŒƒå›´å†…</p><p>è·¨è®¾å¤‡çš„è¿ç®—ä¼šå‡ºç°é—®é¢˜ï¼Œåœ¨CPUä¸Šçš„æ•°æ®åªèƒ½ä¸CPUä¸Šçš„æ•°æ®è¿›è¡Œè¿ç®—ï¼Œ åŒç†ï¼ŒæŸGPUä¸Šçš„æ•°æ®æ˜¯èƒ½å’ŒåŒå—GPUä¸Šçš„æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œä¹Ÿä¸èƒ½åœ¨å¦ä¸€å—GPUä¸Šçš„æ•°æ®è¿›è¡Œè¿ç®—</p><p>nn.AdaptiveAvgPool2d()ç›¸è¾ƒäºnn.AvgPool2dï¼Œå¼ºè°ƒåœ¨ä¸€ä¸ªè‡ªé€‚åº”çš„ç¯èŠ‚ä¸Šï¼Œ Avgpool2déœ€è¦è‡ªå·±å»è®¡ç®—è¿™ä¸ªkernelçš„å¤§å°ï¼Œæ¥è·å–æˆ‘ä»¬éœ€è¦å¤§å°çš„output_featuremap ä½†æ˜¯AdaptiveAvgpool2dåˆ™ä¸éœ€è¦ï¼Œç›´æ¥å¼•å…¥è¾“å‡ºå¤§å°å‚æ•°ï¼Œ å³å¯ä»¥è·å¾—æƒ³è¦çš„ä¸œè¥¿ã€‚</p><p>numpyã€tensorä¸­å¯¹äºåˆ‡ç‰‡ä¸­Noneçš„ç”¨æ³•ï¼šNone çš„ä½œç”¨å°±æ˜¯åœ¨ç›¸åº”çš„ä½ç½®ä¸Šå¢åŠ äº†ä¸€ä¸ªç»´åº¦ï¼Œåœ¨è¿™ä¸ªç»´åº¦ä¸Šåªæœ‰ä¸€ä¸ªå…ƒç´ ã€‚å‡è®¾ x.shape &#x3D;&#x3D; (a, b)ï¼Œåˆ™</p><ul><li><code>(a, b)</code> &#x3D;&#x3D;&gt; <code>[None, :, :]</code> &#x3D;&#x3D;&gt; <code>(1, a, b)</code></li><li><code>(a, b)</code> &#x3D;&#x3D;&gt; <code>[:, None, :]</code> &#x3D;&#x3D;&gt; <code>(a, 1, b)</code></li><li><code>(a, b)</code> &#x3D;&#x3D;&gt; <code>[:, :, None]</code> &#x3D;&#x3D;&gt; <code>(a, b, 1)</code></li></ul><p>PyTorchä¸­çš„<a href="https://so.csdn.net/so/search?q=repeat&spm=1001.2101.3001.7020">repeat</a>()å‡½æ•°å¯ä»¥å¯¹å¼ é‡è¿›è¡Œé‡å¤æ‰©å……ã€‚å½“å‚æ•°åªæœ‰ä¸¤ä¸ªæ—¶ï¼šï¼ˆåˆ—çš„é‡å¤å€æ•°ï¼Œè¡Œçš„é‡å¤å€æ•°ï¼‰ã€‚1è¡¨ç¤ºä¸é‡å¤ã€‚å½“å‚æ•°æœ‰ä¸‰ä¸ªæ—¶ï¼šï¼ˆé€šé“æ•°çš„é‡å¤å€æ•°ï¼Œåˆ—çš„é‡å¤å€æ•°ï¼Œè¡Œçš„é‡å¤å€æ•°ï¼‰ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”torchå¸¸ç”¨æ“ä½œ</title>
    <link href="/2022/07/01/DeepLearning/torch%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"/>
    <url>/2022/07/01/DeepLearning/torch%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="1-åŸºæœ¬é…ç½®"><a href="#1-åŸºæœ¬é…ç½®" class="headerlink" title="1. åŸºæœ¬é…ç½®"></a>1. åŸºæœ¬é…ç½®</h1><h3 id="å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢"><a href="#å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢" class="headerlink" title="å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢"></a>å¯¼å…¥åŒ…å’Œç‰ˆæœ¬æŸ¥è¯¢</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import torch<br>import torch<span class="hljs-selector-class">.nn</span> as nn<br>import torchvision<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(torch.__version__)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(torch.version.cuda)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(torch.backends.cudnn.version()</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(torch.cuda.get_device_name(<span class="hljs-number">0</span>)</span></span>)<br></code></pre></td></tr></table></figure><h3 id="å¯å¤ç°æ€§"><a href="#å¯å¤ç°æ€§" class="headerlink" title="å¯å¤ç°æ€§"></a>å¯å¤ç°æ€§</h3><p>åœ¨ç¡¬ä»¶è®¾å¤‡ï¼ˆCPUã€GPUï¼‰ä¸åŒæ—¶ï¼Œå®Œå…¨çš„å¯å¤ç°æ€§æ— æ³•ä¿è¯ï¼Œå³ä½¿éšæœºç§å­ç›¸åŒã€‚ä½†æ˜¯ï¼Œåœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œåº”è¯¥ä¿è¯å¯å¤ç°æ€§ã€‚å…·ä½“åšæ³•æ˜¯ï¼Œåœ¨ç¨‹åºå¼€å§‹çš„æ—¶å€™å›ºå®štorchçš„éšæœºç§å­ï¼ŒåŒæ—¶ä¹ŸæŠŠnumpyçš„éšæœºç§å­å›ºå®šã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">np<span class="hljs-selector-class">.random</span><span class="hljs-selector-class">.seed</span>(<span class="hljs-number">0</span>)<br>torch<span class="hljs-selector-class">.manual_seed</span>(<span class="hljs-number">0</span>)<br>torch<span class="hljs-selector-class">.cuda</span><span class="hljs-selector-class">.manual_seed_all</span>(<span class="hljs-number">0</span>)<br><br>torch<span class="hljs-selector-class">.backends</span><span class="hljs-selector-class">.cudnn</span><span class="hljs-selector-class">.deterministic</span> = True<br>torch<span class="hljs-selector-class">.backends</span><span class="hljs-selector-class">.cudnn</span><span class="hljs-selector-class">.benchmark</span> = False<br></code></pre></td></tr></table></figure><h3 id="æ˜¾å¡è®¾ç½®"><a href="#æ˜¾å¡è®¾ç½®" class="headerlink" title="æ˜¾å¡è®¾ç½®"></a>æ˜¾å¡è®¾ç½®</h3><p>å¦‚æœåªéœ€è¦ä¸€å¼ æ˜¾å¡</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># Device configuration</span><br><span class="hljs-attr">device</span> = torch.device(<span class="hljs-string">&#x27;cuda&#x27;</span> if torch.cuda.is_available() else <span class="hljs-string">&#x27;cpu&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦æŒ‡å®šå¤šå¼ æ˜¾å¡ï¼Œæ¯”å¦‚0ï¼Œ1å·æ˜¾å¡ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import osos<span class="hljs-selector-class">.environ</span><span class="hljs-selector-attr">[<span class="hljs-string">&#x27;CUDA_VISIBLE_DEVICES&#x27;</span>]</span> = <span class="hljs-string">&#x27;0,1&#x27;</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œè¿è¡Œä»£ç æ—¶è®¾ç½®æ˜¾å¡ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">CUDA_VISIBLE_DEVICES</span>=<span class="hljs-number">0</span>,<span class="hljs-number">1</span> python train.py<br></code></pre></td></tr></table></figure><p>æ¸…é™¤æ˜¾å­˜</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">torch<span class="hljs-selector-class">.cuda</span><span class="hljs-selector-class">.empty_cache</span>()<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨å‘½ä»¤è¡Œé‡ç½®GPUçš„æŒ‡ä»¤</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">nvidia-smi  -gpu-reset -<span class="hljs-selector-tag">i</span> <span class="hljs-selector-attr">[gpu_id]</span><br></code></pre></td></tr></table></figure><h1 id="2-å¼ é‡-Tensor-å¤„ç†"><a href="#2-å¼ é‡-Tensor-å¤„ç†" class="headerlink" title="2. å¼ é‡(Tensor)å¤„ç†"></a>2. å¼ é‡(Tensor)å¤„ç†</h1><h3 id="å¼ é‡çš„æ•°æ®ç±»å‹"><a href="#å¼ é‡çš„æ•°æ®ç±»å‹" class="headerlink" title="å¼ é‡çš„æ•°æ®ç±»å‹"></a>å¼ é‡çš„æ•°æ®ç±»å‹</h3><p>PyTorchæœ‰9ç§CPUå¼ é‡ç±»å‹å’Œ9ç§GPUå¼ é‡ç±»å‹ã€‚</p><p><img src="F:\notes\æ·±åº¦å­¦ä¹ \src\640.jpeg" alt="å›¾ç‰‡"></p><h3 id="å¼ é‡åŸºæœ¬ä¿¡æ¯"><a href="#å¼ é‡åŸºæœ¬ä¿¡æ¯" class="headerlink" title="å¼ é‡åŸºæœ¬ä¿¡æ¯"></a>å¼ é‡åŸºæœ¬ä¿¡æ¯</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs fortran">tensor = torch.randn(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(tensor.<span class="hljs-keyword">type</span>())  # æ•°æ®ç±»å‹<br><span class="hljs-built_in">print</span>(tensor.<span class="hljs-built_in">size</span>())  # å¼ é‡çš„<span class="hljs-built_in">shape</span>ï¼Œæ˜¯ä¸ªå…ƒç»„<br><span class="hljs-built_in">print</span>(tensor.<span class="hljs-built_in">dim</span>())   # ç»´åº¦çš„æ•°é‡<br></code></pre></td></tr></table></figure><h3 id="å‘½åå¼ é‡"><a href="#å‘½åå¼ é‡" class="headerlink" title="å‘½åå¼ é‡"></a>å‘½åå¼ é‡</h3><p>å¼ é‡å‘½åæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ç»´åº¦çš„åå­—æ¥åšç´¢å¼•æˆ–å…¶ä»–æ“ä½œï¼Œå¤§å¤§æé«˜äº†å¯è¯»æ€§ã€æ˜“ç”¨æ€§ï¼Œé˜²æ­¢å‡ºé”™ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># åœ¨PyTorch 1.3ä¹‹å‰ï¼Œéœ€è¦ä½¿ç”¨æ³¨é‡Š</span><br><span class="hljs-comment"># Tensor[N, C, H, W]</span><br>images = torch.randn(32, 3, 56, 56)<br>images.sum(<span class="hljs-attribute">dim</span>=1)<br>images.select(<span class="hljs-attribute">dim</span>=1, <span class="hljs-attribute">index</span>=0)<br><span class="hljs-comment"># PyTorch 1.3ä¹‹å</span><br>NCHW = [â€˜Nâ€™, â€˜Câ€™, â€˜Hâ€™, â€˜Wâ€™]<br>images = torch.randn(32, 3, 56, 56, <span class="hljs-attribute">names</span>=NCHW)<br>images.sum(<span class="hljs-string">&#x27;C&#x27;</span>)images.select(<span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-attribute">index</span>=0)<br><span class="hljs-comment"># ä¹Ÿå¯ä»¥è¿™ä¹ˆè®¾ç½®</span><br>tensor = torch.rand(3,4,1,2,names=(<span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>))<br><span class="hljs-comment"># ä½¿ç”¨align_toå¯ä»¥å¯¹ç»´åº¦æ–¹ä¾¿åœ°æ’åº</span><br>tensor = tensor.align_to(<span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="æ•°æ®ç±»å‹è½¬æ¢"><a href="#æ•°æ®ç±»å‹è½¬æ¢" class="headerlink" title="æ•°æ®ç±»å‹è½¬æ¢"></a>æ•°æ®ç±»å‹è½¬æ¢</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># è®¾ç½®é»˜è®¤ç±»å‹ï¼Œpytorchä¸­çš„FloatTensorè¿œè¿œå¿«äºDoubleTensortorch.set_default_tensor_type(torch.FloatTensor)</span><br><span class="hljs-comment"># ç±»å‹è½¬æ¢</span><br><span class="hljs-attr">tensor</span> = tensor.cuda()<br><span class="hljs-attr">tensor</span> = tensor.cpu()<br><span class="hljs-attr">tensor</span> = tensor.float()<br><span class="hljs-attr">tensor</span> = tensor.long()<br></code></pre></td></tr></table></figure><h3 id="torch-Tensorä¸np-ndarrayè½¬æ¢"><a href="#torch-Tensorä¸np-ndarrayè½¬æ¢" class="headerlink" title="torch.Tensorä¸np.ndarrayè½¬æ¢"></a><strong>torch.Tensorä¸np.ndarrayè½¬æ¢</strong></h3><p>é™¤äº†CharTensorï¼Œå…¶ä»–æ‰€æœ‰CPUä¸Šçš„å¼ é‡éƒ½æ”¯æŒè½¬æ¢ä¸ºnumpyæ ¼å¼ç„¶åå†è½¬æ¢å›æ¥ã€‚</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">ndarray</span> = tensor.cpu().numpy()<br><span class="hljs-attr">tensor</span> = torch.from_numpy(ndarray).float()<br><span class="hljs-attr">tensor</span> = torch.from_numpy(ndarray.copy()).float() <br><span class="hljs-comment"># If ndarray has negative stride.</span><br></code></pre></td></tr></table></figure><h3 id="Torch-tensorä¸PIL-Imageè½¬æ¢"><a href="#Torch-tensorä¸PIL-Imageè½¬æ¢" class="headerlink" title="Torch.tensorä¸PIL.Imageè½¬æ¢"></a><strong>Torch.tensorä¸PIL.Imageè½¬æ¢</strong></h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"># pytorchä¸­çš„å¼ é‡é»˜è®¤é‡‡ç”¨<span class="hljs-literal">[N, C, H, W]</span>çš„é¡ºåºï¼Œå¹¶ä¸”æ•°æ®èŒƒå›´åœ¨<span class="hljs-literal">[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]</span>ï¼Œéœ€è¦è¿›è¡Œè½¬ç½®å’Œè§„èŒƒåŒ–<br># torch.Tensor  &gt; PIL.Imageimage = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">PIL</span>.</span><span class="hljs-module"><span class="hljs-identifier">Image</span>.</span></span>fromarray(torch.clamp(tensor*<span class="hljs-number">255</span>, min=<span class="hljs-number">0</span>, max=<span class="hljs-number">255</span>).byte<span class="hljs-literal">()</span>.permute(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>).cpu<span class="hljs-literal">()</span>.numpy<span class="hljs-literal">()</span>)<br>image = torchvision.transforms.functional.<span class="hljs-keyword">to</span><span class="hljs-constructor">_pil_image(<span class="hljs-params">tensor</span>)</span>  <br># Equivalently way<br><br># PIL.Image  &gt; torch.Tensorpath = r&#x27;./figure.jpg&#x27;tensor = torch.from<span class="hljs-constructor">_numpy(<span class="hljs-params">np</span>.<span class="hljs-params">asarray</span>(PIL.Image.<span class="hljs-params">open</span>(<span class="hljs-params">path</span>)</span>)).permute(<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>).<span class="hljs-built_in">float</span><span class="hljs-literal">()</span><span class="hljs-operator"> / </span><span class="hljs-number">255</span><br>tensor = torchvision.transforms.functional.<span class="hljs-keyword">to</span><span class="hljs-constructor">_tensor(PIL.Image.<span class="hljs-params">open</span>(<span class="hljs-params">path</span>)</span>) <br># Equivalently way<br></code></pre></td></tr></table></figure><h3 id="np-ndarrayä¸PIL-Imageçš„è½¬æ¢"><a href="#np-ndarrayä¸PIL-Imageçš„è½¬æ¢" class="headerlink" title="np.ndarrayä¸PIL.Imageçš„è½¬æ¢"></a><strong>np.ndarrayä¸PIL.Imageçš„è½¬æ¢</strong></h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">image = PIL<span class="hljs-selector-class">.Image</span><span class="hljs-selector-class">.fromarray</span>(ndarray<span class="hljs-selector-class">.astype</span>(np.uint8))<br>ndarray = np<span class="hljs-selector-class">.asarray</span>(PIL<span class="hljs-selector-class">.Image</span><span class="hljs-selector-class">.open</span>(path))<br></code></pre></td></tr></table></figure><h3 id="ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼"><a href="#ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼" class="headerlink" title="ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼"></a><strong>ä»åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ä¸­æå–å€¼</strong></h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">value</span> <span class="hljs-operator">=</span> torch.rand(<span class="hljs-number">1</span>).item()<br></code></pre></td></tr></table></figure><h3 id="å¼ é‡å½¢å˜"><a href="#å¼ é‡å½¢å˜" class="headerlink" title="å¼ é‡å½¢å˜"></a><strong>å¼ é‡å½¢å˜</strong></h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># åœ¨å°†å·ç§¯å±‚è¾“å…¥å…¨è¿æ¥å±‚çš„æƒ…å†µä¸‹é€šå¸¸éœ€è¦å¯¹å¼ é‡åšå½¢å˜å¤„ç†ï¼Œ</span><br><span class="hljs-comment"># ç›¸æ¯”torch.viewï¼Œtorch.reshapeå¯ä»¥è‡ªåŠ¨å¤„ç†è¾“å…¥å¼ é‡ä¸è¿ç»­çš„æƒ…å†µã€‚</span><br><span class="hljs-attr">tensor</span> = torch.rand(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)<br><span class="hljs-attr">shape</span> = (<span class="hljs-number">6</span>, <span class="hljs-number">4</span>)<br><span class="hljs-attr">tensor</span> = torch.reshape(tensor, shape)<br></code></pre></td></tr></table></figure><h3 id="æ‰“ä¹±é¡ºåº"><a href="#æ‰“ä¹±é¡ºåº" class="headerlink" title="æ‰“ä¹±é¡ºåº"></a><strong>æ‰“ä¹±é¡ºåº</strong></h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">tensor</span> = tensor[torch.randperm(tensor.size(<span class="hljs-number">0</span>))]  <span class="hljs-comment"># æ‰“ä¹±ç¬¬ä¸€ä¸ªç»´åº¦</span><br></code></pre></td></tr></table></figure><h3 id="æ°´å¹³ç¿»è½¬"><a href="#æ°´å¹³ç¿»è½¬" class="headerlink" title="æ°´å¹³ç¿»è½¬"></a><strong>æ°´å¹³ç¿»è½¬</strong></h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># pytorchä¸æ”¯æŒtensor[::-1]è¿™æ ·çš„è´Ÿæ­¥é•¿æ“ä½œï¼Œæ°´å¹³ç¿»è½¬å¯ä»¥é€šè¿‡å¼ é‡ç´¢å¼•å®ç°</span><br><span class="hljs-comment"># å‡è®¾å¼ é‡çš„ç»´åº¦ä¸º[N, D, H, W].</span><br><span class="hljs-attribute">tensor</span> = tensor[:,:,:,torch.arange(tensor.size(<span class="hljs-number">3</span>)   <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>).long()]<br></code></pre></td></tr></table></figure><h3 id="å¤åˆ¶å¼ é‡"><a href="#å¤åˆ¶å¼ é‡" class="headerlink" title="å¤åˆ¶å¼ é‡"></a><strong>å¤åˆ¶å¼ é‡</strong></h3><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq"># Operation                 |  <span class="hljs-type">New</span>/Shared memory | <span class="hljs-type">Still</span> <span class="hljs-built_in">in</span> computation graph |<span class="hljs-type">tensor</span>.clone()            # |        <span class="hljs-type">New</span>         |          <span class="hljs-type">Yes</span>               |<span class="hljs-type">tensor</span>.detach()           # |      <span class="hljs-type">Shared</span>        |          <span class="hljs-type">No</span>               |<span class="hljs-type">tensor</span>.detach.clone()()   # |        <span class="hljs-type">New</span>         |          <span class="hljs-type">No</span>                <br></code></pre></td></tr></table></figure><h3 id="å¼ é‡æ‹¼æ¥"><a href="#å¼ é‡æ‹¼æ¥" class="headerlink" title="å¼ é‡æ‹¼æ¥"></a><strong>å¼ é‡æ‹¼æ¥</strong></h3><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">&#x27;&#x27;&#x27;<br>æ³¨æ„torch.catå’Œtorch.stackçš„åŒºåˆ«åœ¨äºtorch.catæ²¿ç€ç»™å®šçš„ç»´åº¦æ‹¼æ¥ï¼Œ<br>è€Œtorch.stackä¼šæ–°å¢ä¸€ç»´ã€‚ä¾‹å¦‚å½“å‚æ•°æ˜¯3ä¸ª10x5çš„å¼ é‡ï¼Œtorch.catçš„ç»“æœæ˜¯30x5çš„å¼ é‡ï¼Œ<br>è€Œtorch.stackçš„ç»“æœæ˜¯3x10x5çš„å¼ é‡ã€‚<br>&#x27;&#x27;&#x27;<br>tensor = torch.cat(list<span class="hljs-emphasis">_of_tensors, dim=0)</span><br><span class="hljs-emphasis">tensor = torch.stack(list_of_</span>tensors, dim=0)<br></code></pre></td></tr></table></figure><h3 id="å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç "><a href="#å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç " class="headerlink" title="å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç "></a><strong>å°†æ•´æ•°æ ‡ç­¾è½¬ä¸ºone-hotç¼–ç </strong></h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># pytorchçš„æ ‡è®°é»˜è®¤ä»0å¼€å§‹</span><br><span class="hljs-attribute">tensor</span> = torch.tensor([<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>])<br><span class="hljs-attribute">N</span> = tensor.size(<span class="hljs-number">0</span>)<br><span class="hljs-attribute">num_classes</span> = <span class="hljs-number">4</span><br><span class="hljs-attribute">one_hot</span> = torch.zeros(N, num_classes).long()<br><span class="hljs-attribute">one_hot</span>.scatter_(dim=<span class="hljs-number">1</span>, index=torch.unsqueeze(tensor, dim=<span class="hljs-number">1</span>), src=torch.ones(N, num_classes).long())<br></code></pre></td></tr></table></figure><h3 id="å¾—åˆ°éé›¶å…ƒç´ "><a href="#å¾—åˆ°éé›¶å…ƒç´ " class="headerlink" title="å¾—åˆ°éé›¶å…ƒç´ "></a><strong>å¾—åˆ°éé›¶å…ƒç´ </strong></h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">torch.nonzero<span class="hljs-params">(tensor)</span>               <span class="hljs-comment"># index of non-zero elements</span><br>torch.nonzero<span class="hljs-params">(<span class="hljs-attr">tensor</span>==0)</span>            <span class="hljs-comment"># index of zero elements</span><br>torch.nonzero<span class="hljs-params">(tensor)</span><span class="hljs-string">.size</span><span class="hljs-params">(0)</span>       <span class="hljs-comment"># number of non-zero elements</span><br>torch.nonzero<span class="hljs-params">(<span class="hljs-attr">tensor</span> == 0)</span><span class="hljs-string">.size</span><span class="hljs-params">(0)</span>  <span class="hljs-comment"># number of zero elements</span><br></code></pre></td></tr></table></figure><h3 id="åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰"><a href="#åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰" class="headerlink" title="åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰"></a><strong>åˆ¤æ–­ä¸¤ä¸ªå¼ é‡ç›¸ç­‰</strong></h3><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gcode">torch.allclose<span class="hljs-comment">(tensor1, tensor2)</span>  <span class="hljs-attr"># float tensortorch.equal(tensor1</span>, te<span class="hljs-symbol">nsor2</span>)     <span class="hljs-attr"># int tensor</span><br></code></pre></td></tr></table></figure><h3 id="å¼ é‡æ‰©å±•"><a href="#å¼ é‡æ‰©å±•" class="headerlink" title="å¼ é‡æ‰©å±•"></a><strong>å¼ é‡æ‰©å±•</strong></h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># Expand tensor of shape 64*512 to shape 64*512*7*7.</span><br><span class="hljs-attribute">tensor</span> = torch.rand(<span class="hljs-number">64</span>,<span class="hljs-number">512</span>)<br><span class="hljs-attribute">torch</span>.reshape(tensor, (<span class="hljs-number">64</span>, <span class="hljs-number">512</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)).expand(<span class="hljs-number">64</span>, <span class="hljs-number">512</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>)<br></code></pre></td></tr></table></figure><h3 id="çŸ©é˜µä¹˜æ³•"><a href="#çŸ©é˜µä¹˜æ³•" class="headerlink" title="çŸ©é˜µä¹˜æ³•"></a><strong>çŸ©é˜µä¹˜æ³•</strong></h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># Matrix multiplcation: (m*n) * (n*p) *  &gt; (m*p).</span><br><span class="hljs-attr">result</span> = torch.mm(tensor1, tensor2)<br><br><span class="hljs-comment"># Batch matrix multiplication: (b*m*n) * (b*n*p)  &gt; (b*m*p)</span><br><span class="hljs-attr">result</span> = torch.bmm(tensor1, tensor2)<br><br><span class="hljs-comment"># Element-wise multiplication.</span><br><span class="hljs-attr">result</span> = tensor1 * tensor2<br></code></pre></td></tr></table></figure><h3 id="è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»"><a href="#è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»" class="headerlink" title="è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»"></a><strong>è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„ä¸¤ä¸¤æ¬§å¼è·ç¦»</strong></h3><p>åˆ©ç”¨broadcastæœºåˆ¶</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fortran">dist = torch.<span class="hljs-built_in">sqrt</span>(torch.<span class="hljs-built_in">sum</span>((X1[:,<span class="hljs-keyword">None</span>,:]   X2) ** <span class="hljs-number">2</span>, <span class="hljs-built_in">dim</span>=<span class="hljs-number">2</span>))<br></code></pre></td></tr></table></figure><h2 id="3-æ¨¡å‹å®šä¹‰å’Œæ“ä½œ"><a href="#3-æ¨¡å‹å®šä¹‰å’Œæ“ä½œ" class="headerlink" title="3. æ¨¡å‹å®šä¹‰å’Œæ“ä½œ"></a>3. æ¨¡å‹å®šä¹‰å’Œæ“ä½œ</h2><h3 id="ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹"><a href="#ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹"></a>ä¸€ä¸ªç®€å•ä¸¤å±‚å·ç§¯ç½‘ç»œçš„ç¤ºä¾‹</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># convolutional neural network (2 convolutional layers)</span><br>class ConvNet(nn.Module):    <br>def __init__(self, <span class="hljs-attribute">num_classes</span>=10):        <br>super(ConvNet, self).__init__()        <br>self.layer1 = nn.Sequential( <br>nn.Conv2d(1, 16, <span class="hljs-attribute">kernel_size</span>=5, <span class="hljs-attribute">stride</span>=1, <span class="hljs-attribute">padding</span>=2),<br>nn.BatchNorm2d(16),<br>nn.ReLU(),<br>nn.MaxPool2d(<span class="hljs-attribute">kernel_size</span>=2, <span class="hljs-attribute">stride</span>=2))  <br>        self.layer2 = nn.Sequential( <br>        nn.Conv2d(16, 32, <span class="hljs-attribute">kernel_size</span>=5, <span class="hljs-attribute">stride</span>=1, <span class="hljs-attribute">padding</span>=2),<br>        nn.BatchNorm2d(32),<br>        nn.ReLU(), <br>        nn.MaxPool2d(<span class="hljs-attribute">kernel_size</span>=2, <span class="hljs-attribute">stride</span>=2))<br>        self.fc = nn.Linear(7<span class="hljs-number">*7</span><span class="hljs-number">*32</span>, num_classes)<br>        <br>    def forward(self, x):<br>    out = self.layer1(x)<br>        out = self.layer2(out)<br>        out = out.reshape(out.size(0),  1)<br>        out = self.fc(out)<br>        return out<br><br>model = ConvNet(num_classes).<span class="hljs-keyword">to</span>(device)<br></code></pre></td></tr></table></figure><p>å·ç§¯å±‚çš„è®¡ç®—å’Œå±•ç¤ºå¯ä»¥ç”¨è¿™ä¸ªç½‘ç«™è¾…åŠ©ã€‚</p><h3 id="åŒçº¿æ€§æ±‡åˆï¼ˆbilinear-poolingï¼‰"><a href="#åŒçº¿æ€§æ±‡åˆï¼ˆbilinear-poolingï¼‰" class="headerlink" title="åŒçº¿æ€§æ±‡åˆï¼ˆbilinear poolingï¼‰"></a><strong>åŒçº¿æ€§æ±‡åˆï¼ˆbilinear poolingï¼‰</strong></h3><figure class="highlight irpf90"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs irpf90">X = torch.<span class="hljs-built_in">reshape</span>(N, D, H * W)        # Assume X has <span class="hljs-built_in">shape</span> N*D*H*W<br>X = torch.bmm(X, torch.<span class="hljs-built_in">transpose</span>(X, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)) / (H * W)  # Bilinear pooling<br><span class="hljs-keyword">assert</span>  X.<span class="hljs-built_in">size</span>() == (N, D, D)<br>X = torch.<span class="hljs-built_in">reshape</span>(X, (N, D * D))<br>X = torch.<span class="hljs-built_in">sign</span>(X) * torch.<span class="hljs-built_in">sqrt</span>(torch.<span class="hljs-built_in">abs</span>(X) + <span class="hljs-number">1e-5</span>)   # Signed-<span class="hljs-built_in">sqrt</span> normalization<br>X = torch.nn.functional.normalize(X)                  # L2 normalization<br></code></pre></td></tr></table></figure><h3 id="å¤šå¡åŒæ­¥-BNï¼ˆBatch-normalizationï¼‰"><a href="#å¤šå¡åŒæ­¥-BNï¼ˆBatch-normalizationï¼‰" class="headerlink" title="å¤šå¡åŒæ­¥ BNï¼ˆBatch normalizationï¼‰"></a><strong>å¤šå¡åŒæ­¥ BNï¼ˆBatch normalizationï¼‰</strong></h3><p>å½“ä½¿ç”¨ torch.nn.DataParallel å°†ä»£ç è¿è¡Œåœ¨å¤šå¼  GPU å¡ä¸Šæ—¶ï¼ŒPyTorch çš„ BN å±‚é»˜è®¤æ“ä½œæ˜¯å„å¡ä¸Šæ•°æ®ç‹¬ç«‹åœ°è®¡ç®—å‡å€¼å’Œæ ‡å‡†å·®ï¼ŒåŒæ­¥ BN ä½¿ç”¨æ‰€æœ‰å¡ä¸Šçš„æ•°æ®ä¸€èµ·è®¡ç®— BN å±‚çš„å‡å€¼å’Œæ ‡å‡†å·®ï¼Œç¼“è§£äº†å½“æ‰¹é‡å¤§å°ï¼ˆbatch sizeï¼‰æ¯”è¾ƒå°æ—¶å¯¹å‡å€¼å’Œæ ‡å‡†å·®ä¼°è®¡ä¸å‡†çš„æƒ…å†µï¼Œæ˜¯åœ¨ç›®æ ‡æ£€æµ‹ç­‰ä»»åŠ¡ä¸­ä¸€ä¸ªæœ‰æ•ˆçš„æå‡æ€§èƒ½çš„æŠ€å·§ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sync_bn = torch.nn.SyncBatchNorm(num_features, <span class="hljs-attribute">eps</span>=1e-05, <span class="hljs-attribute">momentum</span>=0.1, <span class="hljs-attribute">affine</span>=<span class="hljs-literal">True</span>,                                  <span class="hljs-attribute">track_running_stats</span>=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h3 id="å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚"><a href="#å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚" class="headerlink" title="å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚"></a>å°†å·²æœ‰ç½‘ç»œçš„æ‰€æœ‰BNå±‚æ”¹ä¸ºåŒæ­¥BNå±‚</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">def convert<span class="hljs-constructor">BNtoSyncBN(<span class="hljs-params">module</span>, <span class="hljs-params">process_group</span>=None)</span>:    <br>&#x27;&#x27;&#x27;Recursively replace all BN layers <span class="hljs-keyword">to</span> SyncBN layer.<br>Args:        <br><span class="hljs-keyword">module</span><span class="hljs-literal">[<span class="hljs-identifier">torch</span>.<span class="hljs-identifier">nn</span>.M<span class="hljs-identifier">odule</span>]</span>. Network    <br>&#x27;&#x27;&#x27;    <br><span class="hljs-keyword">if</span> isinstance(<span class="hljs-keyword">module</span>, torch.nn.modules.batchnorm._BatchNorm):        <br>sync_bn = torch.nn.<span class="hljs-constructor">SyncBatchNorm(<span class="hljs-params">module</span>.<span class="hljs-params">num_features</span>, <span class="hljs-params">module</span>.<span class="hljs-params">eps</span>, <span class="hljs-params">module</span>.<span class="hljs-params">momentum</span>, <span class="hljs-params">module</span>.<span class="hljs-params">affine</span>, <span class="hljs-params">module</span>.<span class="hljs-params">track_running_stats</span>, <span class="hljs-params">process_group</span>)</span>        <br>sync_bn.running_mean = <span class="hljs-keyword">module</span>.running_mean       <br>        sync_bn.running_var = <span class="hljs-keyword">module</span>.running_var        <br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">module</span>.affine:            <br>        sync_bn.weight = <span class="hljs-keyword">module</span>.weight.clone<span class="hljs-literal">()</span>.detach<span class="hljs-literal">()</span>            <br>        sync_bn.bias = <span class="hljs-keyword">module</span>.bias.clone<span class="hljs-literal">()</span>.detach<span class="hljs-literal">()</span>        <br>        return sync_bn    <br>    <span class="hljs-keyword">else</span>:        <br>    <span class="hljs-keyword">for</span> name, child_module <span class="hljs-keyword">in</span> <span class="hljs-keyword">module</span>.named<span class="hljs-constructor">_children()</span>:            <br>    setattr(<span class="hljs-keyword">module</span>, name) = convert<span class="hljs-constructor">_syncbn_model(<span class="hljs-params">child_module</span>, <span class="hljs-params">process_group</span>=<span class="hljs-params">process_group</span>)</span>)        <br>    return <span class="hljs-keyword">module</span><br></code></pre></td></tr></table></figure><h3 id="ç±»ä¼¼-BN-æ»‘åŠ¨å¹³å‡"><a href="#ç±»ä¼¼-BN-æ»‘åŠ¨å¹³å‡" class="headerlink" title="ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡"></a><strong>ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡</strong></h3><p>å¦‚æœè¦å®ç°ç±»ä¼¼ BN æ»‘åŠ¨å¹³å‡çš„æ“ä½œï¼Œåœ¨ forward å‡½æ•°ä¸­è¦ä½¿ç”¨åŸåœ°ï¼ˆinplaceï¼‰æ“ä½œç»™æ»‘åŠ¨å¹³å‡èµ‹å€¼ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">class</span> <span class="hljs-variable constant_">BN</span>(torch.nn.Module):    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):        <br>.        <br><span class="hljs-variable language_">self</span>.register_buffer(<span class="hljs-string">&#x27;running_mean&#x27;</span>, torch.zeros(num_features))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, X</span>):        <br>    .        <br>    <span class="hljs-variable language_">self</span>.running_mean += momentum * (current   <span class="hljs-variable language_">self</span>.running_mean)<br></code></pre></td></tr></table></figure><h3 id="è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡"><a href="#è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡" class="headerlink" title="è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡"></a><strong>è®¡ç®—æ¨¡å‹æ•´ä½“å‚æ•°é‡</strong></h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fortran">num_parameters = <span class="hljs-built_in">sum</span>(torch.numel(<span class="hljs-keyword">parameter</span>) for <span class="hljs-keyword">parameter</span> <span class="hljs-keyword">in</span> model.parameters())<br></code></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°"><a href="#æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°" class="headerlink" title="æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°"></a><strong>æŸ¥çœ‹ç½‘ç»œä¸­çš„å‚æ•°</strong></h3><p>å¯ä»¥é€šè¿‡model.state_dict()æˆ–è€…model.named_parameters()å‡½æ•°æŸ¥çœ‹ç°åœ¨çš„å…¨éƒ¨å¯è®­ç»ƒå‚æ•°ï¼ˆåŒ…æ‹¬é€šè¿‡ç»§æ‰¿å¾—åˆ°çš„çˆ¶ç±»ä¸­çš„å‚æ•°ï¼‰</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus">params = <span class="hljs-built_in">list</span>(model<span class="hljs-selector-class">.named_parameters</span>())<br>(name, param) = params<span class="hljs-selector-attr">[28]</span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(name)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(param.grad)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&#x27;                                                 &#x27;</span>)</span></span><br>(name2, param2) = params<span class="hljs-selector-attr">[29]</span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(name2)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(param2.grad)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&#x27;                                                 &#x27;</span>)</span></span><br>(name1, param1) = params<span class="hljs-selector-attr">[30]</span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(name1)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(param1.grad)</span></span><br></code></pre></td></tr></table></figure><h3 id="æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰"><a href="#æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰" class="headerlink" title="æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰"></a>æ¨¡å‹å¯è§†åŒ–ï¼ˆä½¿ç”¨pytorchvizï¼‰</h3><p>szagoruyko&#x2F;pytorchvizgithub.com</p><h3 id="ç±»ä¼¼-Keras-çš„-model-summary-è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼Œä½¿ç”¨pytorch-summary"><a href="#ç±»ä¼¼-Keras-çš„-model-summary-è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼Œä½¿ç”¨pytorch-summary" class="headerlink" title="ç±»ä¼¼ Keras çš„ model.summary() è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼Œä½¿ç”¨pytorch-summary"></a>ç±»ä¼¼ Keras çš„ model.summary() è¾“å‡ºæ¨¡å‹ä¿¡æ¯ï¼Œä½¿ç”¨pytorch-summary</h3><p>sksq96&#x2F;pytorch-summarygithub.com</p><p><strong>æ¨¡å‹æƒé‡åˆå§‹åŒ–</strong></p><p>æ³¨æ„ model.modules() å’Œ model.children() çš„åŒºåˆ«ï¼šmodel.modules() ä¼šè¿­ä»£åœ°éå†æ¨¡å‹çš„æ‰€æœ‰å­å±‚ï¼Œè€Œ model.children() åªä¼šéå†æ¨¡å‹ä¸‹çš„ä¸€å±‚ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"># Common practise <span class="hljs-keyword">for</span> initialization.<br><span class="hljs-keyword">for</span> layer <span class="hljs-keyword">in</span> model.modules<span class="hljs-literal">()</span>:    <br><span class="hljs-keyword">if</span> isinstance(layer, torch.nn.Conv2d): <br>torch.nn.init.kaiming<span class="hljs-constructor">_normal_(<span class="hljs-params">layer</span>.<span class="hljs-params">weight</span>, <span class="hljs-params">mode</span>=&#x27;<span class="hljs-params">fan_out</span>&#x27;,                                      <span class="hljs-params">nonlinearity</span>=&#x27;<span class="hljs-params">relu</span>&#x27;)</span>        <br><span class="hljs-keyword">if</span> layer.bias is not None:            <br>torch.nn.init.constant<span class="hljs-constructor">_(<span class="hljs-params">layer</span>.<span class="hljs-params">bias</span>, <span class="hljs-params">val</span>=0.0)</span>   <br>elif isinstance(layer, torch.nn.BatchNorm2d):      <br>torch.nn.init.constant<span class="hljs-constructor">_(<span class="hljs-params">layer</span>.<span class="hljs-params">weight</span>, <span class="hljs-params">val</span>=1.0)</span>  <br>torch.nn.init.constant<span class="hljs-constructor">_(<span class="hljs-params">layer</span>.<span class="hljs-params">bias</span>, <span class="hljs-params">val</span>=0.0)</span>  <br>    elif isinstance(layer, torch.nn.Linear): <br>    torch.nn.init.xavier<span class="hljs-constructor">_normal_(<span class="hljs-params">layer</span>.<span class="hljs-params">weight</span>)</span>        <br>    <span class="hljs-keyword">if</span> layer.bias is not None:            <br>    torch.nn.init.constant<span class="hljs-constructor">_(<span class="hljs-params">layer</span>.<span class="hljs-params">bias</span>, <span class="hljs-params">val</span>=0.0)</span><br># Initialization <span class="hljs-keyword">with</span> given tensor.layer.weight = torch.nn.<span class="hljs-constructor">Parameter(<span class="hljs-params">tensor</span>)</span><br></code></pre></td></tr></table></figure><h3 id="æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚"><a href="#æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚" class="headerlink" title="æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚"></a><strong>æå–æ¨¡å‹ä¸­çš„æŸä¸€å±‚</strong></h3><p>modules()ä¼šè¿”å›æ¨¡å‹ä¸­æ‰€æœ‰æ¨¡å—çš„è¿­ä»£å™¨ï¼Œå®ƒèƒ½å¤Ÿè®¿é—®åˆ°æœ€å†…å±‚ï¼Œæ¯”å¦‚self.layer1.conv1è¿™ä¸ªæ¨¡å—ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸å®ƒä»¬ç›¸å¯¹åº”çš„æ˜¯name_children()å±æ€§ä»¥åŠnamed_modules(),è¿™ä¸¤ä¸ªä¸ä»…ä¼šè¿”å›æ¨¡å—çš„è¿­ä»£å™¨ï¼Œè¿˜ä¼šè¿”å›ç½‘ç»œå±‚çš„åå­—ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"># å–æ¨¡å‹ä¸­çš„å‰ä¸¤å±‚<br>new_model = nn.<span class="hljs-constructor">Sequential(<span class="hljs-operator">*</span><span class="hljs-params">list</span>(<span class="hljs-params">model</span>.<span class="hljs-params">children</span>()</span>)<span class="hljs-literal">[:<span class="hljs-number">2</span>]</span> <br><br># å¦‚æœå¸Œæœ›æå–å‡ºæ¨¡å‹ä¸­çš„æ‰€æœ‰å·ç§¯å±‚ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·æ“ä½œï¼š<br><span class="hljs-keyword">for</span> layer <span class="hljs-keyword">in</span> model.named<span class="hljs-constructor">_modules()</span>:    <br><span class="hljs-keyword">if</span> isinstance(layer<span class="hljs-literal">[<span class="hljs-number">1</span>]</span>,nn.Conv2d):         <br>conv_model.add<span class="hljs-constructor">_module(<span class="hljs-params">layer</span>[0],<span class="hljs-params">layer</span>[1])</span><br></code></pre></td></tr></table></figure><h3 id="éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹"><a href="#éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹" class="headerlink" title="éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹"></a><strong>éƒ¨åˆ†å±‚ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹</strong></h3><p>æ³¨æ„å¦‚æœä¿å­˜çš„æ¨¡å‹æ˜¯ torch.nn.DataParallelï¼Œåˆ™å½“å‰çš„æ¨¡å‹ä¹Ÿéœ€è¦æ˜¯</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">model.load<span class="hljs-constructor">_state_dict(<span class="hljs-params">torch</span>.<span class="hljs-params">load</span>(&#x27;<span class="hljs-params">model</span>.<span class="hljs-params">pth</span>&#x27;)</span>, strict=False)<br></code></pre></td></tr></table></figure><h3 id="å°†åœ¨-GPU-ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ°-CPU"><a href="#å°†åœ¨-GPU-ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ°-CPU" class="headerlink" title="å°†åœ¨ GPU ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ° CPU"></a><strong>å°†åœ¨ GPU ä¿å­˜çš„æ¨¡å‹åŠ è½½åˆ° CPU</strong></h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">model.load<span class="hljs-constructor">_state_dict(<span class="hljs-params">torch</span>.<span class="hljs-params">load</span>(&#x27;<span class="hljs-params">model</span>.<span class="hljs-params">pth</span>&#x27;, <span class="hljs-params">map_location</span>=&#x27;<span class="hljs-params">cpu</span>&#x27;)</span>)<br></code></pre></td></tr></table></figure><h2 id="å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹"><a href="#å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹" class="headerlink" title="å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹"></a><strong>å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒéƒ¨åˆ†åˆ°æ–°çš„æ¨¡å‹</strong></h2><p>æ¨¡å‹å¯¼å…¥å‚æ•°æ—¶ï¼Œå¦‚æœä¸¤ä¸ªæ¨¡å‹ç»“æ„ä¸ä¸€è‡´ï¼Œåˆ™ç›´æ¥å¯¼å…¥å‚æ•°ä¼šæŠ¥é”™ã€‚ç”¨ä¸‹é¢æ–¹æ³•å¯ä»¥æŠŠå¦ä¸€ä¸ªæ¨¡å‹çš„ç›¸åŒçš„éƒ¨åˆ†å¯¼å…¥åˆ°æ–°çš„æ¨¡å‹ä¸­ã€‚</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-meta"># model_newä»£è¡¨æ–°çš„æ¨¡å‹</span><br><span class="hljs-meta"># model_savedä»£è¡¨å…¶ä»–æ¨¡å‹ï¼Œæ¯”å¦‚ç”¨torch.loadå¯¼å…¥çš„å·²ä¿å­˜çš„æ¨¡å‹</span><br>model_new<span class="hljs-type">_dict</span> = model_new<span class="hljs-type"></span>.state_dict()<br>model_common_dict = &#123;k:<span class="hljs-type">v for k</span>, v <span class="hljs-keyword">in</span> model_saved.items() <span class="hljs-keyword">if</span> k <span class="hljs-keyword">in</span> model_new<span class="hljs-type">_dict</span>.keys()&#125;<br>model_new<span class="hljs-type">_dict</span>.update(model_common_dict)<br>model_new<span class="hljs-type"></span>.load_state_dict(model_new<span class="hljs-type">_dict</span>)<br></code></pre></td></tr></table></figure><h2 id="4-æ•°æ®å¤„ç†"><a href="#4-æ•°æ®å¤„ç†" class="headerlink" title="4. æ•°æ®å¤„ç†"></a><strong>4. æ•°æ®å¤„ç†</strong></h2><h3 id="è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®"><a href="#è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®" class="headerlink" title="è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®"></a><strong>è®¡ç®—æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·®</strong></h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> os<br><span class="hljs-attribute">import</span> cv2<br><span class="hljs-attribute">import</span> numpy as np<br><span class="hljs-attribute">from</span> torch.utils.data <br><span class="hljs-attribute">import</span> Dataset<br><span class="hljs-attribute">from</span> PIL import Image<br><br><span class="hljs-attribute">def</span> compute_mean_and_std(dataset):    <br><span class="hljs-comment"># è¾“å…¥PyTorchçš„datasetï¼Œè¾“å‡ºå‡å€¼å’Œæ ‡å‡†å·®    </span><br><span class="hljs-attribute">mean_r</span> = <span class="hljs-number">0</span>    <br><span class="hljs-attribute">mean_g</span> = <span class="hljs-number">0</span>    <br><span class="hljs-attribute">mean_b</span> = <span class="hljs-number">0</span><br><br>    <span class="hljs-attribute">for</span> img, _ in dataset:        <br>    <span class="hljs-attribute">img</span> = np.asarray(img) # change PIL Image to numpy array        <br>    <span class="hljs-attribute">mean_b</span> += np.mean(img[:, :, <span class="hljs-number">0</span>])        <br>    <span class="hljs-attribute">mean_g</span> += np.mean(img[:, :, <span class="hljs-number">1</span>])        <br>    <span class="hljs-attribute">mean_r</span> += np.mean(img[:, :, <span class="hljs-number">2</span>])<br>    <br>    <span class="hljs-attribute">mean_b</span> /= len(dataset)    <br>    <span class="hljs-attribute">mean_g</span> /= len(dataset)    <br>    <span class="hljs-attribute">mean_r</span> /= len(dataset)<br>    <br>    <span class="hljs-attribute">diff_r</span> = <span class="hljs-number">0</span>    <br>    <span class="hljs-attribute">diff_g</span> = <span class="hljs-number">0</span>    <br>    <span class="hljs-attribute">diff_b</span> = <span class="hljs-number">0</span><br>    <br>    <span class="hljs-attribute">N</span> = <span class="hljs-number">0</span><br>    <span class="hljs-attribute">for</span> img, _ in dataset:        <br>    <span class="hljs-attribute">img</span> = np.asarray(img)<br>    <br>    <span class="hljs-attribute">diff_b</span> += np.sum(np.power(img[:, :, <span class="hljs-number">0</span>]   mean_b, <span class="hljs-number">2</span>))        <br>    <span class="hljs-attribute">diff_g</span> += np.sum(np.power(img[:, :, <span class="hljs-number">1</span>]   mean_g, <span class="hljs-number">2</span>))        <br>    <span class="hljs-attribute">diff_r</span> += np.sum(np.power(img[:, :, <span class="hljs-number">2</span>]   mean_r, <span class="hljs-number">2</span>))<br>        <span class="hljs-attribute">N</span> += np.prod(img[:, :, <span class="hljs-number">0</span>].shape)<br>        <br>    <span class="hljs-attribute">std_b</span> = np.sqrt(diff_b / N)    <br>    <span class="hljs-attribute">std_g</span> = np.sqrt(diff_g / N)    <br>    <span class="hljs-attribute">std_r</span> = np.sqrt(diff_r / N)<br>    <br>    <span class="hljs-attribute">mean</span> = (mean_b.item() / <span class="hljs-number">255</span>.<span class="hljs-number">0</span>, mean_g.item() / <span class="hljs-number">255</span>.<span class="hljs-number">0</span>, mean_r.item() / <span class="hljs-number">255</span>.<span class="hljs-number">0</span>)    <br>    <span class="hljs-attribute">std</span> = (std_b.item() / <span class="hljs-number">255</span>.<span class="hljs-number">0</span>, std_g.item() / <span class="hljs-number">255</span>.<span class="hljs-number">0</span>, std_r.item() / <span class="hljs-number">255</span>.<span class="hljs-number">0</span>)   <br>    <span class="hljs-attribute">return</span> mean, std<br></code></pre></td></tr></table></figure><h3 id="å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯"><a href="#å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯" class="headerlink" title="å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯"></a><strong>å¾—åˆ°è§†é¢‘æ•°æ®åŸºæœ¬ä¿¡æ¯</strong></h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> cv2<br>video = cv2.VideoCapture(mp4_path)<br>height = <span class="hljs-type">int</span>(video.<span class="hljs-keyword">get</span>(cv2.CAP_PROP_FRAME_HEIGHT))<br>width = <span class="hljs-type">int</span>(video.<span class="hljs-keyword">get</span>(cv2.CAP_PROP_FRAME_WIDTH))<br>num_frames = <span class="hljs-type">int</span>(video.<span class="hljs-keyword">get</span>(cv2.CAP_PROP_FRAME_COUNT))<br>fps = <span class="hljs-type">int</span>(video.<span class="hljs-keyword">get</span>(cv2.CAP_PROP_FPS))<br>video.<span class="hljs-keyword">release</span>()<br></code></pre></td></tr></table></figure><h3 id="TSN-æ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘"><a href="#TSN-æ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘" class="headerlink" title="TSN æ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘"></a><strong>TSN æ¯æ®µï¼ˆsegmentï¼‰é‡‡æ ·ä¸€å¸§è§†é¢‘</strong></h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">K = self.<span class="hljs-title">_num</span>_segments<br><span class="hljs-keyword">if</span> is_train:    <br><span class="hljs-keyword">if</span> num_frames &gt; K:        <br><span class="hljs-comment"># Random index for each segment.        </span><br>frame_indices = torch.randint(  high=num_frames<span class="hljs-comment"> // K, size=(K,), dtype=torch.long)</span><br>frame_indices += num_frames<span class="hljs-comment"> // K * torch.arange(K)    </span><br><span class="hljs-keyword">else</span>:<br>    frame_indices = torch.randint(high=num_frames, size=(K - num_frames,), dtype=torch.<span class="hljs-keyword">long</span>) <br>    frame_indices = torch.<span class="hljs-built_in">sort</span>(torch.cat(( torch.arange(num_frames), frame_indices)))[<span class="hljs-number">0</span>]<br><span class="hljs-keyword">else</span>:    <br><span class="hljs-keyword">if</span> num_frames &gt; K:       <br>    <span class="hljs-comment"># Middle index for each segment.        </span><br>    frame_indices = num_frames / K<span class="hljs-comment"> // 2        </span><br>    frame_indices += num_frames<span class="hljs-comment"> // K * torch.arange(K)    </span><br>    <span class="hljs-keyword">else</span>:        <br>    frame_indices = torch.<span class="hljs-built_in">sort</span>(torch.cat((torch.arange(num_frames), torch.arange(K   num_frames))))[<span class="hljs-number">0</span>]<br>assert frame_indices.size() == (K,)<br><span class="hljs-literal">return</span> [frame_indices[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(K)]<br></code></pre></td></tr></table></figure><h3 id="å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†"><a href="#å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†" class="headerlink" title="å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†"></a><strong>å¸¸ç”¨è®­ç»ƒå’ŒéªŒè¯æ•°æ®é¢„å¤„ç†</strong></h3><p>å…¶ä¸­ ToTensor æ“ä½œä¼šå°† PIL.Image æˆ–å½¢çŠ¶ä¸º HÃ—WÃ—Dï¼Œæ•°å€¼èŒƒå›´ä¸º [0, 255] çš„ np.ndarray è½¬æ¢ä¸ºå½¢çŠ¶ä¸º DÃ—HÃ—Wï¼Œæ•°å€¼èŒƒå›´ä¸º [0.0, 1.0] çš„ torch.Tensorã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">train_transform</span> = torchvision.transforms.Compose([<br><span class="hljs-attribute">torchvision</span>.transforms.RandomResizedCrop(size=<span class="hljs-number">224</span>,                                             scale=(<span class="hljs-number">0</span>.<span class="hljs-number">08</span>, <span class="hljs-number">1</span>.<span class="hljs-number">0</span>)),<br><span class="hljs-attribute">torchvision</span>.transforms.RandomHorizontalFlip(),<br><span class="hljs-attribute">torchvision</span>.transforms.ToTensor(),    <br><span class="hljs-attribute">torchvision</span>.transforms.Normalize(mean=(<span class="hljs-number">0</span>.<span class="hljs-number">485</span>, <span class="hljs-number">0</span>.<span class="hljs-number">456</span>, <span class="hljs-number">0</span>.<span class="hljs-number">406</span>),                                     std=(<span class="hljs-number">0</span>.<span class="hljs-number">229</span>, <span class="hljs-number">0</span>.<span class="hljs-number">224</span>, <span class="hljs-number">0</span>.<span class="hljs-number">225</span>)), ]) <br><span class="hljs-attribute">val_transform</span> = torchvision.transforms.Compose([ <br><span class="hljs-attribute">torchvision</span>.transforms.Resize(<span class="hljs-number">256</span>),    <br><span class="hljs-attribute">torchvision</span>.transforms.CenterCrop(<span class="hljs-number">224</span>),    <br><span class="hljs-attribute">torchvision</span>.transforms.ToTensor(),    <br><span class="hljs-attribute">torchvision</span>.transforms.Normalize(mean=(<span class="hljs-number">0</span>.<span class="hljs-number">485</span>, <span class="hljs-number">0</span>.<span class="hljs-number">456</span>, <span class="hljs-number">0</span>.<span class="hljs-number">406</span>),std=(<span class="hljs-number">0</span>.<span class="hljs-number">229</span>, <span class="hljs-number">0</span>.<span class="hljs-number">224</span>, <span class="hljs-number">0</span>.<span class="hljs-number">225</span>)),])<br></code></pre></td></tr></table></figure><h2 id="5-æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•"><a href="#5-æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•" class="headerlink" title="5. æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•"></a>5. æ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•</h2><h3 id="åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç "><a href="#åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç " class="headerlink" title="åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç "></a>åˆ†ç±»æ¨¡å‹è®­ç»ƒä»£ç </h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># Loss and optimizer</span><br>criterion = nn.CrossEntropyLoss()<br>optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)<br><br><span class="hljs-comment"># Train the model</span><br>total_step = <span class="hljs-built_in">len</span>(train_loader)<br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> range(num_epochs):    <br><span class="hljs-keyword">for</span> i ,(images, labels) <span class="hljs-keyword">in</span> enumerate(train_loader):        <br>images = images.<span class="hljs-built_in">to</span>(device)        <br>labels = labels.<span class="hljs-built_in">to</span>(device)<br>        <span class="hljs-comment"># Forward pass        </span><br>        outputs = model(images)       <br>        loss = criterion(outputs, labels)<br>        <span class="hljs-comment"># Backward and optimizer        </span><br>        optimizer.zero_grad()        <br>        loss.backward()       <br>        optimizer.step()<br>        <span class="hljs-keyword">if</span> (i+<span class="hljs-number">1</span>) % <span class="hljs-number">100</span> == <span class="hljs-number">0</span>:            <br>        print(<span class="hljs-string">&#x27;Epoch: [&#123;&#125;/&#123;&#125;], Step: [&#123;&#125;/&#123;&#125;], Loss: &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(epoch+<span class="hljs-number">1</span>, num_epochs, i+<span class="hljs-number">1</span>, total_step, loss.<span class="hljs-keyword">item</span>()))<br></code></pre></td></tr></table></figure><h3 id="åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç "><a href="#åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç " class="headerlink" title="åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç "></a>åˆ†ç±»æ¨¡å‹æµ‹è¯•ä»£ç </h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs maxima"># Test the modelmodel.<span class="hljs-built_in">eval</span>()  <br># <span class="hljs-built_in">eval</span> mode(<span class="hljs-built_in">batch</span> norm uses moving <span class="hljs-built_in">mean</span>/variance               <br>#instead of mini-<span class="hljs-built_in">batch</span> <span class="hljs-built_in">mean</span>/variance)<br>with torch.no_grad():    <br>correct = <span class="hljs-number">0</span>    <br>total = <span class="hljs-number">0</span>    <br><span class="hljs-keyword">for</span> images, <span class="hljs-built_in">labels</span> <span class="hljs-keyword">in</span> test_loader: <br>    images = images.to(device)        <br>    <span class="hljs-built_in">labels</span> = <span class="hljs-built_in">labels</span>.to(device)       <br>        outputs = model(images)        <br>        <span class="hljs-symbol">_</span>, predicted = torch.<span class="hljs-built_in">max</span>(outputs.data, <span class="hljs-number">1</span>)       <br>        total += <span class="hljs-built_in">labels</span>.size(<span class="hljs-number">0</span>)        <br>        correct += (predicted == <span class="hljs-built_in">labels</span>).<span class="hljs-built_in">sum</span>().item()<br>    <span class="hljs-built_in">print</span>(&#x27;Test accuracy of the model on the <span class="hljs-number">10000</span> test images: &#123;&#125; <span class="hljs-symbol">%</span>&#x27;.format(<span class="hljs-number">100</span> * correct / total))<br></code></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰loss"><a href="#è‡ªå®šä¹‰loss" class="headerlink" title="è‡ªå®šä¹‰loss"></a>è‡ªå®šä¹‰loss</h3><p>ç»§æ‰¿torch.nn.Moduleç±»å†™è‡ªå·±çš„lossã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLoss</span>(torch.nn.Moudle):    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):        <br><span class="hljs-variable language_">super</span>(MyLoss, <span class="hljs-variable language_">self</span>).__init__()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, x, y</span>):        <br>    loss = torch.mean((x   y) ** <span class="hljs-number">2</span>)        <br>    <span class="hljs-keyword">return</span> loss<br></code></pre></td></tr></table></figure><h3 id="æ ‡ç­¾å¹³æ»‘ï¼ˆlabel-smoothingï¼‰"><a href="#æ ‡ç­¾å¹³æ»‘ï¼ˆlabel-smoothingï¼‰" class="headerlink" title="æ ‡ç­¾å¹³æ»‘ï¼ˆlabel smoothingï¼‰"></a><strong>æ ‡ç­¾å¹³æ»‘ï¼ˆlabel smoothingï¼‰</strong></h3><p>å†™ä¸€ä¸ªlabel_smoothing.pyçš„æ–‡ä»¶ï¼Œç„¶ååœ¨è®­ç»ƒä»£ç é‡Œå¼•ç”¨ï¼Œç”¨LSRä»£æ›¿äº¤å‰ç†µæŸå¤±å³å¯ã€‚label_smoothing.pyå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LSR</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, e=<span class="hljs-number">0.1</span>, reduction=<span class="hljs-string">&#x27;mean&#x27;</span></span>):        <br>    <span class="hljs-built_in">super</span>().__init__()<br>        self.log_softmax = nn.LogSoftmax(dim=<span class="hljs-number">1</span>)        <br>        self.e = e       <br>        self.reduction = reduction<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_one_hot</span>(<span class="hljs-params">self, labels, classes, value=<span class="hljs-number">1</span></span>):        <br>    <span class="hljs-string">&quot;&quot;&quot;            </span><br><span class="hljs-string">    Convert labels to one hot vectors</span><br><span class="hljs-string">        Args:            </span><br><span class="hljs-string">        labels: torch tensor in format [label1, label2, label3, .]           </span><br><span class="hljs-string">        classes: int, number of classes            </span><br><span class="hljs-string">        value: label value in one hot vector, default to 1</span><br><span class="hljs-string">        Returns: return one hot format labels in shape [batchsize, classes]       </span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        one_hot = torch.zeros(labels.size(<span class="hljs-number">0</span>), classes)<br>        <span class="hljs-comment">#labels and value_added  size must match        </span><br>        labels = labels.view(labels.size(<span class="hljs-number">0</span>),  <span class="hljs-number">1</span>)        <br>        value_added = torch.Tensor(labels.size(<span class="hljs-number">0</span>), <span class="hljs-number">1</span>).fill_(value)<br>        value_added = value_added.to(labels.device)       <br>        one_hot = one_hot.to(labels.device)<br>        one_hot.scatter_add_(<span class="hljs-number">1</span>, labels, value_added)<br>        <span class="hljs-keyword">return</span> one_hot<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_smooth_label</span>(<span class="hljs-params">self, target, length, smooth_factor</span>):        <br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    convert targets to one-hot format, and smooth them.        </span><br><span class="hljs-string">    Args: </span><br><span class="hljs-string">    target: target in form with [label1, label2, label_batchsize]            </span><br><span class="hljs-string">    length: length of one-hot format(number of classes)           </span><br><span class="hljs-string">            smooth_factor: smooth factor for label smooth</span><br><span class="hljs-string">        Returns:  </span><br><span class="hljs-string">        smoothed labels in one hot format        </span><br><span class="hljs-string">        &quot;&quot;&quot;</span>        <br>        one_hot = self._one_hot(target, length, value=<span class="hljs-number">1</span>   smooth_factor)       <br>        one_hot += smooth_factor / (length   <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> one_hot.to(target.device)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x, target</span>):<br>        <span class="hljs-keyword">if</span> x.size(<span class="hljs-number">0</span>) != target.size(<span class="hljs-number">0</span>):           <br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&#x27;Expected input batchsize (&#123;&#125;) to match target batch_size(&#123;&#125;)&#x27;</span>                    .<span class="hljs-built_in">format</span>(x.size(<span class="hljs-number">0</span>), target.size(<span class="hljs-number">0</span>)))<br>        <span class="hljs-keyword">if</span> x.dim() &lt; <span class="hljs-number">2</span>:            <br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&#x27;Expected input tensor to have least 2 dimensions(got &#123;&#125;)&#x27;</span>                    .<span class="hljs-built_in">format</span>(x.size(<span class="hljs-number">0</span>)))<br>        <span class="hljs-keyword">if</span> x.dim() != <span class="hljs-number">2</span>:            <br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&#x27;Only 2 dimension tensor are implemented, (got &#123;&#125;)&#x27;</span>                    .<span class="hljs-built_in">format</span>(x.size()))<br><br>        smoothed_target = self._smooth_label(target, x.size(<span class="hljs-number">1</span>), self.e)        <br>        x = self.log_softmax(x)       <br>        loss = torch.<span class="hljs-built_in">sum</span>(  x * smoothed_target, dim=<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">if</span> self.reduction == <span class="hljs-string">&#x27;none&#x27;</span>:            <span class="hljs-keyword">return</span> loss<br>        <span class="hljs-keyword">elif</span> self.reduction == <span class="hljs-string">&#x27;sum&#x27;</span>:            <span class="hljs-keyword">return</span> torch.<span class="hljs-built_in">sum</span>(loss)<br>        <span class="hljs-keyword">elif</span> self.reduction == <span class="hljs-string">&#x27;mean&#x27;</span>:            <span class="hljs-keyword">return</span> torch.mean(loss)<br>        <span class="hljs-keyword">else</span>:  <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&#x27;unrecognized option, expect reduction to be one of none, mean, sum&#x27;</span>)<br></code></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥åœ¨è®­ç»ƒæ–‡ä»¶é‡Œåšlabel smoothing</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs css">for images, labels in train_loader:    <br>images, labels = images.<span class="hljs-built_in">cuda</span>(), labels.<span class="hljs-built_in">cuda</span>()    <br>N = labels.<span class="hljs-built_in">size</span>(<span class="hljs-number">0</span>)    <br># C is the number of classes.    <br>smoothed_labels = torch.<span class="hljs-built_in">full</span>(size=(N, C), fill_value=<span class="hljs-number">0.1</span> / (C   <span class="hljs-number">1</span>)).<span class="hljs-built_in">cuda</span>()<br>smoothed_labels.<span class="hljs-built_in">scatter_</span>(dim=<span class="hljs-number">1</span>, index=torch.<span class="hljs-built_in">unsqueeze</span>(labels, dim=<span class="hljs-number">1</span>), value=<span class="hljs-number">0.9</span>)<br><br>    score = <span class="hljs-built_in">model</span>(images)<br>    log_prob = torch.nn.functional.<span class="hljs-built_in">log_softmax</span>(score, dim=<span class="hljs-number">1</span>)<br>    loss = -torch.<span class="hljs-built_in">sum</span>(log_prob * smoothed_labels) / N<br>    optimizer.<span class="hljs-built_in">zero_grad</span>()<br>    loss.<span class="hljs-built_in">backward</span>()<br>    optimizer.<span class="hljs-built_in">step</span>()<br></code></pre></td></tr></table></figure><h3 id="Mixupè®­ç»ƒ"><a href="#Mixupè®­ç»ƒ" class="headerlink" title="Mixupè®­ç»ƒ"></a>Mixupè®­ç»ƒ</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">beta_distribution </span>= torch.<span class="hljs-keyword">distributions.beta.Beta(alpha, </span>alpha)<br><br>for images, labels in train_loader:    <br>images, labels = images.cuda(), labels.cuda()<br>    <span class="hljs-comment"># Mixup images and labels.    </span><br>    lambda_ = <span class="hljs-keyword">beta_distribution.sample([]).item() </span>   <br>    index = torch.randperm(images.size(<span class="hljs-number">0</span>)).cuda()    <br>    mixed_images = lambda_ * images + (<span class="hljs-number">1</span>   lambda_) * images[index, :]    <br>    label_a, label_b = labels, labels[index]<br>    <span class="hljs-comment"># Mixup loss.    </span><br>    <span class="hljs-keyword">scores </span>= model(mixed_images)    <br>    loss = (lambda_ * loss_function(<span class="hljs-keyword">scores, </span>label_a) + (<span class="hljs-number">1</span> - lambda_) * loss_function(<span class="hljs-keyword">scores, </span>label_b))    <br>    optimizer.zero_grad()    <br>    loss.<span class="hljs-keyword">backward() </span>   <br>    optimizer.step()<br></code></pre></td></tr></table></figure><h3 id="L1-æ­£åˆ™åŒ–"><a href="#L1-æ­£åˆ™åŒ–" class="headerlink" title="L1 æ­£åˆ™åŒ–"></a><strong>L1 æ­£åˆ™åŒ–</strong></h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">l1_regularization = torch.nn.L1Loss(reduction=<span class="hljs-string">&#x27;sum&#x27;</span>)<br>loss = .  <br><span class="hljs-comment"># Standard cross-entropy loss</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">param</span> <span class="hljs-keyword">in</span> model.parameters():    <br>loss += torch.<span class="hljs-built_in">sum</span>(torch.<span class="hljs-built_in">abs</span>(<span class="hljs-built_in">param</span>))<br>loss.backward()<br></code></pre></td></tr></table></figure><h3 id="ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweight-decayï¼‰"><a href="#ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweight-decayï¼‰" class="headerlink" title="ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweight decayï¼‰"></a><strong>ä¸å¯¹åç½®é¡¹è¿›è¡Œæƒé‡è¡°å‡ï¼ˆweight decayï¼‰</strong></h3><p>pytorché‡Œçš„weight decayç›¸å½“äºl2æ­£åˆ™</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">bias_list</span> = (param for name, param in model.named_parameters() if name[-<span class="hljs-number">4</span>:] == <span class="hljs-string">&#x27;bias&#x27;</span>)<br><span class="hljs-attr">others_list</span> = (param for name, param in model.named_parameters() if name[-<span class="hljs-number">4</span>:] != <span class="hljs-string">&#x27;bias&#x27;</span>)<br><span class="hljs-attr">parameters</span> = [&#123;<span class="hljs-string">&#x27;parameters&#x27;</span>: bias_list, <span class="hljs-string">&#x27;weight_decay&#x27;</span>: <span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-string">&#x27;parameters&#x27;</span>: others_list&#125;]<br><span class="hljs-attr">optimizer</span> = torch.optim.SGD(parameters, lr=<span class="hljs-number">1</span>e-<span class="hljs-number">2</span>, momentum=<span class="hljs-number">0.9</span>, weight_decay=<span class="hljs-number">1</span>e-<span class="hljs-number">4</span>)<br></code></pre></td></tr></table></figure><h3 id="æ¢¯åº¦è£å‰ªï¼ˆgradient-clippingï¼‰"><a href="#æ¢¯åº¦è£å‰ªï¼ˆgradient-clippingï¼‰" class="headerlink" title="æ¢¯åº¦è£å‰ªï¼ˆgradient clippingï¼‰"></a><strong>æ¢¯åº¦è£å‰ªï¼ˆgradient clippingï¼‰</strong></h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">torch<span class="hljs-selector-class">.nn</span><span class="hljs-selector-class">.utils</span><span class="hljs-selector-class">.clip_grad_norm_</span>(model<span class="hljs-selector-class">.parameters</span>(), max_norm=<span class="hljs-number">20</span>)<br></code></pre></td></tr></table></figure><h3 id="å¾—åˆ°å½“å‰å­¦ä¹ ç‡"><a href="#å¾—åˆ°å½“å‰å­¦ä¹ ç‡" class="headerlink" title="å¾—åˆ°å½“å‰å­¦ä¹ ç‡"></a><strong>å¾—åˆ°å½“å‰å­¦ä¹ ç‡</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># If there is one global learning rate (which is the common case).</span><br>lr = <span class="hljs-built_in">next</span>(<span class="hljs-built_in">iter</span>(optimizer.param_groups))[<span class="hljs-string">&#x27;lr&#x27;</span>]<br><span class="hljs-comment"># If there are multiple learning rates for different layers.</span><br>all_lr = []<br><span class="hljs-keyword">for</span> param_group <span class="hljs-keyword">in</span> optimizer.param_groups:    <br>all_lr.append(param_group[<span class="hljs-string">&#x27;lr&#x27;</span>])<br></code></pre></td></tr></table></figure><p>å¦ä¸€ç§æ–¹æ³•ï¼Œåœ¨ä¸€ä¸ªbatchè®­ç»ƒä»£ç é‡Œï¼Œå½“å‰çš„lræ˜¯optimizer.param_groups[0][â€˜lrâ€™]</p><h3 id="å­¦ä¹ ç‡è¡°å‡"><a href="#å­¦ä¹ ç‡è¡°å‡" class="headerlink" title="å­¦ä¹ ç‡è¡°å‡"></a><strong>å­¦ä¹ ç‡è¡°å‡</strong></h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># Reduce learning rate when validation accuarcy plateau.</span><span class="hljs-built_in"></span><br><span class="hljs-built_in">scheduler </span>= torch.optim.lr_scheduler.ReduceLROnPlateau(optimizer, <span class="hljs-attribute">mode</span>=<span class="hljs-string">&#x27;max&#x27;</span>, <span class="hljs-attribute">patience</span>=5, <span class="hljs-attribute">verbose</span>=<span class="hljs-literal">True</span>)<br><span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> range(0, 80):    <br>train(.)    <br>val(.)    <br>scheduler.<span class="hljs-keyword">step</span>(val_acc)<br><br><span class="hljs-comment"># Cosine annealing learning rate.</span><span class="hljs-built_in"></span><br><span class="hljs-built_in">scheduler </span>= torch.optim.lr_scheduler.CosineAnnealingLR(optimizer, <span class="hljs-attribute">T_max</span>=80)<br><br><span class="hljs-comment"># Reduce learning rate by 10 at given epochs.</span><span class="hljs-built_in"></span><br><span class="hljs-built_in">scheduler </span>= torch.optim.lr_scheduler.MultiStepLR(optimizer, milestones=[50, 70], <span class="hljs-attribute">gamma</span>=0.1)<br><span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> range(0, 80):    <br>scheduler.<span class="hljs-keyword">step</span>()        <br>train(.)    <br>val(.)<br><br><span class="hljs-comment"># Learning rate warmup by 10 epochs.</span><span class="hljs-built_in"></span><br><span class="hljs-built_in">scheduler </span>= torch.optim.lr_scheduler.LambdaLR(optimizer, <span class="hljs-attribute">lr_lambda</span>=lambda t: t / 10)<br><span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> range(0, 10):    <br>scheduler.<span class="hljs-keyword">step</span>()    <br>train(.)    <br>val(.)<br></code></pre></td></tr></table></figure><h3 id="ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°"><a href="#ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°" class="headerlink" title="ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°"></a>ä¼˜åŒ–å™¨é“¾å¼æ›´æ–°</h3><p>ä»1.4ç‰ˆæœ¬å¼€å§‹ï¼Œtorch.optim.lr_scheduler æ”¯æŒé“¾å¼æ›´æ–°ï¼ˆchainingï¼‰ï¼Œå³ç”¨æˆ·å¯ä»¥å®šä¹‰ä¸¤ä¸ª schedulersï¼Œå¹¶äº¤æ›¿åœ¨è®­ç»ƒä¸­ä½¿ç”¨ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros">import torch<br><span class="hljs-keyword">from</span> torch.optim import SGD<br><span class="hljs-keyword">from</span> torch.optim.lr_scheduler <br>import Exponential<br>LR, StepLRmodel = [torch.nn.Parameter(torch.randn(2, 2, <span class="hljs-attribute">requires_grad</span>=<span class="hljs-literal">True</span>))]<br>optimizer = SGD(model, 0.1)<br>scheduler1 = ExponentialLR(optimizer, <span class="hljs-attribute">gamma</span>=0.9)<br>scheduler2 = StepLR(optimizer, <span class="hljs-attribute">step_size</span>=3, <span class="hljs-attribute">gamma</span>=0.1)<br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> range(4):    <br><span class="hljs-built_in">print</span>(epoch, scheduler2.get_last_lr()[0])    <br>optimizer.<span class="hljs-keyword">step</span>()    <br>scheduler1.<span class="hljs-keyword">step</span>()    <br>scheduler2.<span class="hljs-keyword">step</span>()<br></code></pre></td></tr></table></figure><h3 id="æ¨¡å‹è®­ç»ƒå¯è§†åŒ–"><a href="#æ¨¡å‹è®­ç»ƒå¯è§†åŒ–" class="headerlink" title="æ¨¡å‹è®­ç»ƒå¯è§†åŒ–"></a>æ¨¡å‹è®­ç»ƒå¯è§†åŒ–</h3><p>PyTorchå¯ä»¥ä½¿ç”¨tensorboardæ¥å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ã€‚</p><p>å®‰è£…å’Œè¿è¡ŒTensorBoardã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">pip install tensorboard<br>tensorboard  <span class="hljs-attribute">-logdir</span>=runs<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨SummaryWriterç±»æ¥æ”¶é›†å’Œå¯è§†åŒ–ç›¸åº”çš„æ•°æ®ï¼Œæ”¾äº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚â€™Loss&#x2F;trainâ€™å’Œâ€™Loss&#x2F;testâ€™ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">from torch.utils.tensorboard <br>import SummaryWriter<br>import numpy <span class="hljs-keyword">as</span> np<br><br>writer = <span class="hljs-constructor">SummaryWriter()</span><br><span class="hljs-keyword">for</span> n_iter <span class="hljs-keyword">in</span> range(<span class="hljs-number">100</span>):   <br>writer.add<span class="hljs-constructor">_scalar(&#x27;Loss<span class="hljs-operator">/</span><span class="hljs-params">train</span>&#x27;, <span class="hljs-params">np</span>.<span class="hljs-params">random</span>.<span class="hljs-params">random</span>()</span>, n_iter)<br>writer.add<span class="hljs-constructor">_scalar(&#x27;Loss<span class="hljs-operator">/</span><span class="hljs-params">test</span>&#x27;, <span class="hljs-params">np</span>.<span class="hljs-params">random</span>.<span class="hljs-params">random</span>()</span>, n_iter)<br>writer.add<span class="hljs-constructor">_scalar(&#x27;Accuracy<span class="hljs-operator">/</span><span class="hljs-params">train</span>&#x27;, <span class="hljs-params">np</span>.<span class="hljs-params">random</span>.<span class="hljs-params">random</span>()</span>, n_iter)<br>writer.add<span class="hljs-constructor">_scalar(&#x27;Accuracy<span class="hljs-operator">/</span><span class="hljs-params">test</span>&#x27;, <span class="hljs-params">np</span>.<span class="hljs-params">random</span>.<span class="hljs-params">random</span>()</span>, n_iter)<br></code></pre></td></tr></table></figure><h3 id="ä¿å­˜ä¸åŠ è½½æ–­ç‚¹"><a href="#ä¿å­˜ä¸åŠ è½½æ–­ç‚¹" class="headerlink" title="ä¿å­˜ä¸åŠ è½½æ–­ç‚¹"></a><strong>ä¿å­˜ä¸åŠ è½½æ–­ç‚¹</strong></h3><p>æ³¨æ„ä¸ºäº†èƒ½å¤Ÿæ¢å¤è®­ç»ƒï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶ä¿å­˜æ¨¡å‹å’Œä¼˜åŒ–å™¨çš„çŠ¶æ€ï¼Œä»¥åŠå½“å‰çš„è®­ç»ƒè½®æ•°ã€‚</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs lua">start_epoch = <span class="hljs-number">0</span><br># Load checkpoint.<br><span class="hljs-keyword">if</span> <span class="hljs-built_in">resume</span>: <br># <span class="hljs-built_in">resume</span>ä¸ºå‚æ•°ï¼Œç¬¬ä¸€æ¬¡è®­ç»ƒæ—¶è®¾ä¸º<span class="hljs-number">0</span>ï¼Œä¸­æ–­å†è®­ç»ƒæ—¶è®¾ä¸º<span class="hljs-number">1</span>    <br>model_path = <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.join(<span class="hljs-string">&#x27;model&#x27;</span>, <span class="hljs-string">&#x27;best_checkpoint.pth.tar&#x27;</span>)    <br><span class="hljs-built_in">assert</span> <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.isfile(model_path)    <br>checkpoint = torch.<span class="hljs-built_in">load</span>(model_path)    <br>best_acc = checkpoint[<span class="hljs-string">&#x27;best_acc&#x27;</span>]    <br>start_epoch = checkpoint[<span class="hljs-string">&#x27;epoch&#x27;</span>]    <br>model.load_state_dict(checkpoint[<span class="hljs-string">&#x27;model&#x27;</span>])<br>optimizer.load_state_dict(checkpoint[<span class="hljs-string">&#x27;optimizer&#x27;</span>])   <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Load checkpoint at epoch &#123;&#125;.&#x27;</span>.<span class="hljs-built_in">format</span>(start_epoch))   <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Best accuracy so far &#123;&#125;.&#x27;</span>.<span class="hljs-built_in">format</span>(best_acc))<br>    <br># Train the model<br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> range(start_epoch, num_epochs):     <br>. <br>    # Test the model    <br>    .<br>    # save checkpoint    <br>    is_best = current_acc &gt; best_acc    <br>    best_acc = <span class="hljs-built_in">max</span>(current_acc, best_acc)    <br>    checkpoint = &#123;<br>    <span class="hljs-string">&#x27;best_acc&#x27;</span>: best_acc,<br>    <span class="hljs-string">&#x27;epoch&#x27;</span>: epoch + <span class="hljs-number">1</span>,<br>    <span class="hljs-string">&#x27;model&#x27;</span>: model.state_dict(),<br>    <span class="hljs-string">&#x27;optimizer&#x27;</span>: optimizer.state_dict(), &#125;    <br>    model_path = <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.join(<span class="hljs-string">&#x27;model&#x27;</span>, <span class="hljs-string">&#x27;checkpoint.pth.tar&#x27;</span>)    <br>    best_model_path = <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.join(<span class="hljs-string">&#x27;model&#x27;</span>, <span class="hljs-string">&#x27;best_checkpoint.pth.tar&#x27;</span>)<br>    torch.save(checkpoint, model_path)    <br>    <span class="hljs-keyword">if</span> is_best:<br>    shutil.copy(model_path, best_model_path)<br></code></pre></td></tr></table></figure><h3 id="æå–-ImageNet-é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾"><a href="#æå–-ImageNet-é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾" class="headerlink" title="æå– ImageNet é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾"></a><strong>æå– ImageNet é¢„è®­ç»ƒæ¨¡å‹æŸå±‚çš„å·ç§¯ç‰¹å¾</strong></h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># VGG-16 relu5-3 feature.</span><br>model = torchvision.models.vgg16(<span class="hljs-attribute">pretrained</span>=<span class="hljs-literal">True</span>).features[:-1]<br><span class="hljs-comment"># VGG-16 pool5 feature.</span><br>model = torchvision.models.vgg16(<span class="hljs-attribute">pretrained</span>=<span class="hljs-literal">True</span>).features<br><span class="hljs-comment"># VGG-16 fc7 feature.</span><br>model = torchvision.models.vgg16(<span class="hljs-attribute">pretrained</span>=<span class="hljs-literal">True</span>)<br><br>model.classifier = torch.nn.Sequential(*list(model.classifier.children())[:-3])<br><span class="hljs-comment"># ResNet GAP feature.</span><br>model = torchvision.models.resnet18(<span class="hljs-attribute">pretrained</span>=<span class="hljs-literal">True</span>)<br>model = torch.nn.Sequential(collections.OrderedDict(    list(model.named_children())[:-1]))<br><br>with torch.no_grad():    <br>model.eval()    <br>conv_representation = model(image)<br></code></pre></td></tr></table></figure><h3 id="æå–-ImageNet-é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾"><a href="#æå–-ImageNet-é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾" class="headerlink" title="æå– ImageNet é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾"></a><strong>æå– ImageNet é¢„è®­ç»ƒæ¨¡å‹å¤šå±‚çš„å·ç§¯ç‰¹å¾</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FeatureExtractor</span>(torch.nn.Module):   <br><span class="hljs-string">&quot;&quot;&quot;Helper class to extract several convolution features from the given pre-trained model.</span><br><span class="hljs-string">    Attributes:        </span><br><span class="hljs-string">    _model, torch.nn.Module.        </span><br><span class="hljs-string">    _layers_to_extract, list&lt;str&gt; or set&lt;str&gt;</span><br><span class="hljs-string">    Example:        </span><br><span class="hljs-string">    &gt;&gt;&gt; model = torchvision.models.resnet152(pretrained=True)       </span><br><span class="hljs-string">    &gt;&gt;&gt; model = torch.nn.Sequential(collections.OrderedDict(                list(model.named_children())[:-1]))        </span><br><span class="hljs-string">    &gt;&gt;&gt; conv_representation = FeatureExtractor( pretrained_model=model,                layers_to_extract=&#123;&#x27;layer1&#x27;, &#x27;layer2&#x27;, &#x27;layer3&#x27;, &#x27;layer4&#x27;&#125;)(image)    </span><br><span class="hljs-string">    &quot;&quot;&quot;</span>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, pretrained_model, layers_to_extract</span>):  <br>    torch.nn.Module.__init__(self)        <br>    self._model = pretrained_model       <br>        self._model.<span class="hljs-built_in">eval</span>()        <br>        self._layers_to_extract = <span class="hljs-built_in">set</span>(layers_to_extract)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>): <br>    <span class="hljs-keyword">with</span> torch.no_grad():           <br>        conv_representation = []            <br>        <span class="hljs-keyword">for</span> name, layer <span class="hljs-keyword">in</span> self._model.named_children():  <br>            x = layer(x)               <br>            <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> self._layers_to_extract: <br>            conv_representation.append(x)           <br>        <span class="hljs-keyword">return</span> conv_representation<br></code></pre></td></tr></table></figure><h3 id="å¾®è°ƒå…¨è¿æ¥å±‚"><a href="#å¾®è°ƒå…¨è¿æ¥å±‚" class="headerlink" title="å¾®è°ƒå…¨è¿æ¥å±‚"></a><strong>å¾®è°ƒå…¨è¿æ¥å±‚</strong></h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">model = torchvision.models.resnet18(<span class="hljs-attribute">pretrained</span>=<span class="hljs-literal">True</span>)<br><span class="hljs-keyword">for</span> param <span class="hljs-keyword">in</span> model.parameters():    <br>param.requires_grad = <span class="hljs-literal">False</span><br>model.fc = nn.Linear(512, 100)  # Replace the last fc layer<br>optimizer = torch.optim.SGD(model.fc.parameters(), <span class="hljs-attribute">lr</span>=1e-2, <span class="hljs-attribute">momentum</span>=0.9, <span class="hljs-attribute">weight_decay</span>=1e-4)<br></code></pre></td></tr></table></figure><h3 id="ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚"><a href="#ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚" class="headerlink" title="ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚"></a><strong>ä»¥è¾ƒå¤§å­¦ä¹ ç‡å¾®è°ƒå…¨è¿æ¥å±‚ï¼Œè¾ƒå°å­¦ä¹ ç‡å¾®è°ƒå·ç§¯å±‚</strong></h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus">model = torchvision<span class="hljs-selector-class">.models</span><span class="hljs-selector-class">.resnet18</span>(pretrained=True)<br>finetuned_parameters = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(id, model<span class="hljs-selector-class">.fc</span><span class="hljs-selector-class">.parameters</span>()))<br>conv_parameters = (<span class="hljs-selector-tag">p</span> <span class="hljs-keyword">for</span> <span class="hljs-selector-tag">p</span> <span class="hljs-keyword">in</span> model<span class="hljs-selector-class">.parameters</span>() <span class="hljs-keyword">if</span> <span class="hljs-built_in">id</span>(p) not <span class="hljs-keyword">in</span> finetuned_parameters)<br>parameters = <span class="hljs-selector-attr">[&#123;<span class="hljs-string">&#x27;params&#x27;</span>: conv_parameters, <span class="hljs-string">&#x27;lr&#x27;</span>: 1e-3&#125;,  &#123;<span class="hljs-string">&#x27;params&#x27;</span>: model.fc.parameters()&#125;]</span><br>optimizer = torch<span class="hljs-selector-class">.optim</span><span class="hljs-selector-class">.SGD</span>(parameters, lr=<span class="hljs-number">1</span>e-<span class="hljs-number">2</span>, momentum=<span class="hljs-number">0.9</span>, weight_decay=<span class="hljs-number">1</span>e-<span class="hljs-number">4</span>)<br></code></pre></td></tr></table></figure><h2 id="6-å…¶ä»–æ³¨æ„äº‹é¡¹"><a href="#6-å…¶ä»–æ³¨æ„äº‹é¡¹" class="headerlink" title="6. å…¶ä»–æ³¨æ„äº‹é¡¹"></a>6. å…¶ä»–æ³¨æ„äº‹é¡¹</h2><p>ä¸è¦ä½¿ç”¨å¤ªå¤§çš„çº¿æ€§å±‚ã€‚å› ä¸ºnn.Linear(m,n)ä½¿ç”¨çš„æ˜¯çš„å†…å­˜ï¼Œçº¿æ€§å±‚å¤ªå¤§å¾ˆå®¹æ˜“è¶…å‡ºç°æœ‰æ˜¾å­˜ã€‚</p><p>ä¸è¦åœ¨å¤ªé•¿çš„åºåˆ—ä¸Šä½¿ç”¨RNNã€‚å› ä¸ºRNNåå‘ä¼ æ’­ä½¿ç”¨çš„æ˜¯BPTTç®—æ³•ï¼Œå…¶éœ€è¦çš„å†…å­˜å’Œè¾“å…¥åºåˆ—çš„é•¿åº¦å‘ˆçº¿æ€§å…³ç³»ã€‚</p><p>model(x) å‰ç”¨ model.train() å’Œ model.eval() åˆ‡æ¢ç½‘ç»œçŠ¶æ€ã€‚</p><p>ä¸éœ€è¦è®¡ç®—æ¢¯åº¦çš„ä»£ç å—ç”¨ with torch.no_grad() åŒ…å«èµ·æ¥ã€‚</p><p>model.eval() å’Œ torch.no_grad() çš„åŒºåˆ«åœ¨äºï¼Œmodel.eval() æ˜¯å°†ç½‘ç»œåˆ‡æ¢ä¸ºæµ‹è¯•çŠ¶æ€ï¼Œä¾‹å¦‚ BN å’Œdropoutåœ¨è®­ç»ƒå’Œæµ‹è¯•é˜¶æ®µä½¿ç”¨ä¸åŒçš„è®¡ç®—æ–¹æ³•ã€‚torch.no_grad() æ˜¯å…³é—­ PyTorch å¼ é‡çš„è‡ªåŠ¨æ±‚å¯¼æœºåˆ¶ï¼Œä»¥å‡å°‘å­˜å‚¨ä½¿ç”¨å’ŒåŠ é€Ÿè®¡ç®—ï¼Œå¾—åˆ°çš„ç»“æœæ— æ³•è¿›è¡Œ loss.backward()ã€‚</p><p>model.zero_grad()ä¼šæŠŠæ•´ä¸ªæ¨¡å‹çš„å‚æ•°çš„æ¢¯åº¦éƒ½å½’é›¶, è€Œoptimizer.zero_grad()åªä¼šæŠŠä¼ å…¥å…¶ä¸­çš„å‚æ•°çš„æ¢¯åº¦å½’é›¶.</p><p>torch.nn.CrossEntropyLoss çš„è¾“å…¥ä¸éœ€è¦ç»è¿‡ Softmaxã€‚torch.nn.CrossEntropyLoss ç­‰ä»·äº torch.nn.functional.log_softmax + torch.nn.NLLLossã€‚</p><p>loss.backward() å‰ç”¨ optimizer.zero_grad() æ¸…é™¤ç´¯ç§¯æ¢¯åº¦ã€‚</p><p>torch.utils.data.DataLoader ä¸­å°½é‡è®¾ç½® pin_memory&#x3D;Trueï¼Œå¯¹ç‰¹åˆ«å°çš„æ•°æ®é›†å¦‚ MNIST è®¾ç½® pin_memory&#x3D;False åè€Œæ›´å¿«ä¸€äº›ã€‚num_workers çš„è®¾ç½®éœ€è¦åœ¨å®éªŒä¸­æ‰¾åˆ°æœ€å¿«çš„å–å€¼ã€‚</p><p>ç”¨ del åŠæ—¶åˆ é™¤ä¸ç”¨çš„ä¸­é—´å˜é‡ï¼ŒèŠ‚çº¦ GPU å­˜å‚¨ã€‚</p><p>ä½¿ç”¨ inplace æ“ä½œå¯èŠ‚çº¦ GPU å­˜å‚¨ï¼Œå¦‚</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">x</span> = torch.nn.functional.relu(x, inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p>å‡å°‘ CPU å’Œ GPU ä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚ä¾‹å¦‚å¦‚æœä½ æƒ³çŸ¥é“ä¸€ä¸ª epoch ä¸­æ¯ä¸ª mini-batch çš„ loss å’Œå‡†ç¡®ç‡ï¼Œå…ˆå°†å®ƒä»¬ç´¯ç§¯åœ¨ GPU ä¸­ç­‰ä¸€ä¸ª epoch ç»“æŸä¹‹åä¸€èµ·ä¼ è¾“å› CPU ä¼šæ¯”æ¯ä¸ª mini-batch éƒ½è¿›è¡Œä¸€æ¬¡ GPU åˆ° CPU çš„ä¼ è¾“æ›´å¿«ã€‚</p><p>ä½¿ç”¨åŠç²¾åº¦æµ®ç‚¹æ•° half() ä¼šæœ‰ä¸€å®šçš„é€Ÿåº¦æå‡ï¼Œå…·ä½“æ•ˆç‡ä¾èµ–äº GPU å‹å·ã€‚éœ€è¦å°å¿ƒæ•°å€¼ç²¾åº¦è¿‡ä½å¸¦æ¥çš„ç¨³å®šæ€§é—®é¢˜ã€‚</p><p>æ—¶å¸¸ä½¿ç”¨ assert tensor.size() &#x3D;&#x3D; (N, D, H, W) ä½œä¸ºè°ƒè¯•æ‰‹æ®µï¼Œç¡®ä¿å¼ é‡ç»´åº¦å’Œä½ è®¾æƒ³ä¸­ä¸€è‡´ã€‚</p><p>é™¤äº†æ ‡è®° y å¤–ï¼Œå°½é‡å°‘ä½¿ç”¨ä¸€ç»´å¼ é‡ï¼Œä½¿ç”¨ n*1 çš„äºŒç»´å¼ é‡ä»£æ›¿ï¼Œå¯ä»¥é¿å…ä¸€äº›æ„æƒ³ä¸åˆ°çš„ä¸€ç»´å¼ é‡è®¡ç®—ç»“æœã€‚</p><p>ç»Ÿè®¡ä»£ç å„éƒ¨åˆ†è€—æ—¶</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">with torch.autograd.profiler.profile(<span class="hljs-attribute">enabled</span>=<span class="hljs-literal">True</span>, <span class="hljs-attribute">use_cuda</span>=<span class="hljs-literal">False</span>) as profile:    .<span class="hljs-built_in">print</span>(profile)# æˆ–è€…åœ¨å‘½ä»¤è¡Œè¿è¡Œpython -m torch.utils.bottleneck main.py<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨TorchSnooperæ¥è°ƒè¯•PyTorchä»£ç ï¼Œç¨‹åºåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨ print å‡ºæ¥æ¯ä¸€è¡Œçš„æ‰§è¡Œç»“æœçš„ tensor çš„å½¢çŠ¶ã€æ•°æ®ç±»å‹ã€è®¾å¤‡ã€æ˜¯å¦éœ€è¦æ¢¯åº¦çš„ä¿¡æ¯ã€‚</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs clean"># pip install torchsnooperimport torchsnooper# å¯¹äºå‡½æ•°ï¼Œä½¿ç”¨ä¿®é¥°å™¨@torchsnooper.snoop()# å¦‚æœä¸æ˜¯å‡½æ•°ï¼Œä½¿ç”¨ <span class="hljs-keyword">with</span> è¯­å¥æ¥æ¿€æ´» TorchSnooperï¼ŒæŠŠè®­ç»ƒçš„é‚£ä¸ªå¾ªç¯è£…è¿› <span class="hljs-keyword">with</span> è¯­å¥ä¸­å»ã€‚<span class="hljs-keyword">with</span> torchsnooper.snoop():    åŸæœ¬çš„ä»£ç <br></code></pre></td></tr></table></figure><p><a href="https://github.com/zasdfgbnm/TorchSnoopergithub.com">https://github.com/zasdfgbnm/TorchSnoopergithub.com</a></p><p>æ¨¡å‹å¯è§£é‡Šæ€§ï¼Œä½¿ç”¨captumåº“ï¼š<a href="https://captum.ai/captum.aittps://captum.ai/captum.ai">https://captum.ai/captum.aittps://captum.ai/captum.ai</a></p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”Optimizer</title>
    <link href="/2022/07/01/DeepLearning/%E4%BC%98%E5%8C%96%E5%99%A8/"/>
    <url>/2022/07/01/DeepLearning/%E4%BC%98%E5%8C%96%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¼˜åŒ–çš„ç›®æ ‡"><a href="#ä¼˜åŒ–çš„ç›®æ ‡" class="headerlink" title="ä¼˜åŒ–çš„ç›®æ ‡"></a>ä¼˜åŒ–çš„ç›®æ ‡</h1><p>å°½ç®¡ä¼˜åŒ–æä¾›äº†ä¸€ç§æœ€å¤§é™åº¦åœ°å‡å°‘æ·±åº¦å­¦ä¹ æŸå¤±å‡½æ•°çš„æ–¹æ³•ï¼Œä½†å®è´¨ä¸Šï¼Œä¼˜åŒ–å’Œæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ˜¯æ ¹æœ¬ä¸åŒçš„ã€‚<br>å‰è€…ä¸»è¦å…³æ³¨çš„æ˜¯æœ€å°åŒ–ç›®æ ‡ï¼Œåè€…åˆ™å…³æ³¨åœ¨ç»™å®šæœ‰é™æ•°æ®é‡çš„æƒ…å†µä¸‹å¯»æ‰¾åˆé€‚çš„æ¨¡å‹ã€‚</p><h1 id="æ·±åº¦å­¦ä¹ ä¼˜åŒ–çš„æŒ‘æˆ˜"><a href="#æ·±åº¦å­¦ä¹ ä¼˜åŒ–çš„æŒ‘æˆ˜" class="headerlink" title="æ·±åº¦å­¦ä¹ ä¼˜åŒ–çš„æŒ‘æˆ˜"></a>æ·±åº¦å­¦ä¹ ä¼˜åŒ–çš„æŒ‘æˆ˜</h1><p>å…¶ä¸­ä¸€äº›æœ€ä»¤äººçƒ¦æ¼çš„æ˜¯å±€éƒ¨æœ€å°å€¼ã€éç‚¹å’Œæ¢¯åº¦æ¶ˆå¤±ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬ã€‚</p><h3 id="å±€éƒ¨æœ€å°å€¼"><a href="#å±€éƒ¨æœ€å°å€¼" class="headerlink" title="å±€éƒ¨æœ€å°å€¼"></a>å±€éƒ¨æœ€å°å€¼</h3><p>å¯¹äºä»»ä½•ç›®æ ‡å‡½æ•°$f(x)$ï¼Œå¦‚æœåœ¨$x$å¤„å¯¹åº”çš„$ğ‘“(ğ‘¥)$å€¼å°äºåœ¨$x$é™„è¿‘ä»»ä½•å…¶ä»–ç‚¹çš„$f(x)$å€¼ï¼Œé‚£ä¹ˆ$f(x)$å¯èƒ½æ˜¯å±€éƒ¨æœ€å°å€¼ã€‚å¦‚æœ$f(x)$åœ¨$x$å¤„çš„å€¼æ˜¯æ•´ä¸ªåŸŸä¸Šç›®æ ‡å‡½æ•°çš„æœ€å°å€¼ï¼Œé‚£ä¹ˆ$f(x)$æ˜¯å…¨å±€æœ€å°å€¼ã€‚</p><p><img src="/%5Csrc%5Cimage-20220309141205687.png" alt="image-20220309141205687"></p><p>æ·±åº¦å­¦ä¹ æ¨¡å‹çš„ç›®æ ‡å‡½æ•°é€šå¸¸æœ‰è®¸å¤šå±€éƒ¨æœ€ä¼˜è§£ã€‚å½“ä¼˜åŒ–é—®é¢˜çš„æ•°å€¼è§£æ¥è¿‘å±€éƒ¨æœ€ä¼˜å€¼æ—¶ï¼Œéšç€ç›®æ ‡å‡½æ•°è§£çš„æ¢¯åº¦æ¥è¿‘æˆ–å˜ä¸ºé›¶ï¼Œé€šè¿‡æœ€ç»ˆè¿­ä»£è·å¾—çš„æ•°å€¼è§£å¯èƒ½ä»…ä½¿ç›®æ ‡å‡½æ•°<em>å±€éƒ¨</em>æœ€ä¼˜ï¼Œè€Œä¸æ˜¯<em>å…¨å±€</em>æœ€ä¼˜ã€‚åªæœ‰ä¸€å®šç¨‹åº¦çš„å™ªå£°å¯èƒ½ä¼šä½¿å‚æ•°è¶…å‡ºå±€éƒ¨æœ€å°å€¼ã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™çš„æœ‰åˆ©ç‰¹æ€§ä¹‹ä¸€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°æ‰¹é‡ä¸Šæ¢¯åº¦çš„è‡ªç„¶å˜åŒ–èƒ½å¤Ÿå°†å‚æ•°ä»å±€éƒ¨æå°å€¼ä¸­ç§»å‡ºã€‚</p><h3 id="éç‚¹"><a href="#éç‚¹" class="headerlink" title="éç‚¹"></a>éç‚¹</h3><p>é™¤äº†å±€éƒ¨æœ€å°å€¼ä¹‹å¤–ï¼Œéç‚¹ä¹Ÿæ˜¯æ¢¯åº¦æ¶ˆå¤±çš„å¦ä¸€ä¸ªåŸå› ã€‚<em>éç‚¹</em>ï¼ˆsaddle pointï¼‰æ˜¯æŒ‡å‡½æ•°çš„æ‰€æœ‰æ¢¯åº¦éƒ½æ¶ˆå¤±ä½†æ—¢ä¸æ˜¯å…¨å±€æœ€å°å€¼ä¹Ÿä¸æ˜¯å±€éƒ¨æœ€å°å€¼çš„ä»»ä½•ä½ç½®ã€‚è€ƒè™‘è¿™ä¸ªå‡½æ•°$ğ‘“(ğ‘¥)&#x3D;ğ‘¥^3$ã€‚å®ƒçš„ä¸€é˜¶å’ŒäºŒé˜¶å¯¼æ•°åœ¨$ğ‘¥&#x3D;0$æ—¶æ¶ˆå¤±ã€‚è¿™æ—¶ä¼˜åŒ–å¯èƒ½ä¼šåœæ­¢ï¼Œå°½ç®¡å®ƒä¸æ˜¯æœ€å°å€¼ã€‚</p><p><img src="/%5Csrc%5Cimage-20220309141416324.png" alt="image-20220309141416324"></p><p>è¾ƒé«˜ç»´åº¦çš„éç‚¹ç”šè‡³æ›´åŠ éšè”½ã€‚è€ƒè™‘è¿™ä¸ªå‡½æ•°$ğ‘“(ğ‘¥,ğ‘¦)&#x3D;ğ‘¥^2âˆ’ğ‘¦^2$ã€‚å®ƒçš„éç‚¹ä¸º(0,0)ã€‚è¿™æ˜¯å…³äº$y$çš„æœ€å¤§å€¼ï¼Œä¹Ÿæ˜¯å…³äº$x$çš„æœ€å°å€¼ã€‚æ­¤å¤–ï¼Œå®ƒ<em>çœ‹èµ·æ¥</em>åƒé©¬éï¼Œè¿™å°±æ˜¯è¿™ä¸ªæ•°å­¦å±æ€§çš„åå­—ç”±æ¥ã€‚</p><p><img src="/%5Csrc%5Cimage-20220309141507927.png" alt="image-20220309141507927"></p><p>æˆ‘ä»¬å‡è®¾å‡½æ•°çš„è¾“å…¥æ˜¯kç»´å‘é‡ï¼Œå…¶è¾“å‡ºæ˜¯æ ‡é‡ï¼Œå› æ­¤å…¶HessiançŸ©é˜µï¼ˆä¹Ÿç§°é»‘å¡çŸ©é˜µï¼‰å°†æœ‰kç‰¹å¾å€¼å‡½æ•°çš„è§£å†³æ–¹æ¡ˆå¯ä»¥æ˜¯å±€éƒ¨æœ€å°å€¼ã€å±€éƒ¨æœ€å¤§å€¼æˆ–å‡½æ•°æ¢¯åº¦ä¸ºé›¶çš„ä½ç½®å¤„çš„éç‚¹ï¼š</p><ul><li>å½“å‡½æ•°åœ¨é›¶æ¢¯åº¦ä½ç½®å¤„çš„HessiançŸ©é˜µçš„ç‰¹å¾å€¼å…¨éƒ¨ä¸ºæ­£å€¼æ—¶ï¼Œæˆ‘ä»¬æœ‰è¯¥å‡½æ•°çš„å±€éƒ¨æœ€å°å€¼ã€‚</li><li>å½“å‡½æ•°åœ¨é›¶æ¢¯åº¦ä½ç½®å¤„çš„HessiançŸ©é˜µçš„ç‰¹å¾å€¼å…¨éƒ¨ä¸ºè´Ÿå€¼æ—¶ï¼Œæˆ‘ä»¬æœ‰è¯¥å‡½æ•°çš„å±€éƒ¨æœ€å¤§å€¼ã€‚</li><li>å½“å‡½æ•°åœ¨é›¶æ¢¯åº¦ä½ç½®å¤„çš„HessiançŸ©é˜µçš„ç‰¹å¾å€¼ä¸ºè´Ÿå€¼å’Œæ­£å€¼æ—¶ï¼Œæˆ‘ä»¬å¯¹å‡½æ•°æœ‰ä¸€ä¸ªéç‚¹ã€‚</li></ul><p>å¯¹äºé«˜ç»´åº¦é—®é¢˜ï¼Œè‡³å°‘<em>éƒ¨åˆ†</em>ç‰¹å¾å€¼ä¸ºè´Ÿçš„å¯èƒ½æ€§ç›¸å½“é«˜ã€‚è¿™ä½¿å¾—éç‚¹æ¯”å±€éƒ¨æœ€å°å€¼æ›´æœ‰å¯èƒ½ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä»‹ç»å‡¸æ€§æ—¶è®¨è®ºè¿™ç§æƒ…å†µçš„ä¸€äº›ä¾‹å¤–æƒ…å†µã€‚ç®€è€Œè¨€ä¹‹ï¼Œå‡¸å‡½æ•°æ˜¯Hessianå‡½æ•°çš„ç‰¹å¾å€¼æ°¸è¿œä¸æ˜¯è´Ÿå€¼çš„å‡½æ•°ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå¤§å¤šæ•°æ·±åº¦å­¦ä¹ é—®é¢˜å¹¶ä¸å±äºè¿™ä¸ªç±»åˆ«ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå®ƒè¿˜æ˜¯ç ”ç©¶ä¼˜åŒ–ç®—æ³•çš„ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·ã€‚</p><h3 id="æ¢¯åº¦æ¶ˆå¤±"><a href="#æ¢¯åº¦æ¶ˆå¤±" class="headerlink" title="æ¢¯åº¦æ¶ˆå¤±"></a>æ¢¯åº¦æ¶ˆå¤±</h3><p>å¯èƒ½é‡åˆ°çš„æœ€éšè”½çš„é—®é¢˜æ˜¯æ¢¯åº¦æ¶ˆå¤±ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æƒ³æœ€å°åŒ–å‡½æ•°$f(x)&#x3D;tanhâ¡(x)$ï¼Œç„¶åæˆ‘ä»¬æ°å¥½ä»$ğ‘¥&#x3D;4$å¼€å§‹ã€‚æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„é‚£æ ·ï¼Œ$ğ‘“$çš„æ¢¯åº¦æ¥è¿‘é›¶ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œ$ğ‘“â€²(ğ‘¥)&#x3D;1âˆ’tanh2(ğ‘¥)$ï¼Œå› æ­¤æ˜¯$ğ‘“â€²(4)&#x3D;0.0013$ã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬å–å¾—è¿›å±•ä¹‹å‰ï¼Œä¼˜åŒ–å°†ä¼šåœæ»å¾ˆé•¿ä¸€æ®µæ—¶é—´ã€‚äº‹å®è¯æ˜ï¼Œè¿™æ˜¯åœ¨å¼•å…¥ReLUæ¿€æ´»å‡½æ•°ä¹‹å‰è®­ç»ƒæ·±åº¦å­¦ä¹ æ¨¡å‹ç›¸å½“æ£˜æ‰‹çš„åŸå› ä¹‹ä¸€ã€‚</p><p><img src="/src%5Cimage-20220309141749050.png" alt="image-20220309141749050"></p><p>æ‰€ä»¥æ¿€æ´»å‡½æ•°ç”¨Reluæ˜¯å¥½çš„ã€‚</p><h1 id="å‡¸å‡½æ•°"><a href="#å‡¸å‡½æ•°" class="headerlink" title="å‡¸å‡½æ•°"></a>å‡¸å‡½æ•°</h1><p><em>å‡¸æ€§</em>ï¼ˆconvexityï¼‰åœ¨ä¼˜åŒ–ç®—æ³•çš„è®¾è®¡ä¸­èµ·åˆ°è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œ è¿™ä¸»è¦æ˜¯ç”±äºåœ¨è¿™ç§æƒ…å†µä¸‹å¯¹ç®—æ³•è¿›è¡Œåˆ†æå’Œæµ‹è¯•è¦å®¹æ˜“å¾—å¤šã€‚ æ¢è¨€ä¹‹ï¼Œå¦‚æœè¯¥ç®—æ³•ç”šè‡³åœ¨å‡¸æ€§æ¡ä»¶è®¾å®šä¸‹çš„æ•ˆæœå¾ˆå·®ï¼Œ é€šå¸¸æˆ‘ä»¬å¾ˆéš¾åœ¨å…¶ä»–æ¡ä»¶ä¸‹çœ‹åˆ°å¥½çš„ç»“æœã€‚ æ­¤å¤–ï¼Œå³ä½¿æ·±åº¦å­¦ä¹ ä¸­çš„ä¼˜åŒ–é—®é¢˜é€šå¸¸æ˜¯éå‡¸çš„ï¼Œ å®ƒä»¬ä¹Ÿç»å¸¸åœ¨å±€éƒ¨æå°å€¼é™„è¿‘è¡¨ç°å‡ºä¸€äº›å‡¸æ€§ã€‚</p><p><strong>å‡¸å‡½æ•°çš„ä¼˜åŒ–ç®—æ³•æˆ–è€…æŸå¤±å‡½æ•°æ˜¯ä¸€å®šå­˜åœ¨è§£æè§£çš„ã€‚</strong></p><h2 id="ä»€ä¹ˆæ˜¯å‡¸é›†ã€å‡¸å‡½æ•°"><a href="#ä»€ä¹ˆæ˜¯å‡¸é›†ã€å‡¸å‡½æ•°" class="headerlink" title="ä»€ä¹ˆæ˜¯å‡¸é›†ã€å‡¸å‡½æ•°"></a>ä»€ä¹ˆæ˜¯å‡¸é›†ã€å‡¸å‡½æ•°</h2><p><strong><em>å‡¸é›†</em>ï¼ˆconvex setï¼‰</strong>æ˜¯å‡¸æ€§çš„åŸºç¡€ã€‚ ç®€å•åœ°è¯´ï¼Œå¦‚æœå¯¹äºä»»ä½•$ğ‘ï¼Œğ‘âˆˆX$ï¼Œè¿æ¥$a$å’Œ$b$çš„çº¿æ®µä¹Ÿä½äº$X$ä¸­ï¼Œåˆ™å‘é‡ç©ºé—´ä¸­çš„ä¸€ä¸ªé›†åˆ$X$æ˜¯<em>å‡¸</em>ï¼ˆconvexï¼‰çš„ã€‚ åœ¨æ•°å­¦æœ¯è¯­ä¸Šï¼Œè¿™æ„å‘³ç€å¯¹äºæ‰€æœ‰$ğœ†âˆˆ[0,1]$â€‹ï¼Œæˆ‘ä»¬å¾—åˆ°<br>$$<br>\lambda a + (1- \lambda)b \in X, \qquad &lt;å½“a,b\in X&gt;<br>$$<br>å‡è®¾$X$å’Œ$Y$æ˜¯å‡¸é›†ï¼Œé‚£ä¹ˆ$Xâˆ©Y$ä¹Ÿæ˜¯å‡¸é›†çš„ã€‚</p><p>é€šå¸¸ï¼Œæ·±åº¦å­¦ä¹ ä¸­çš„é—®é¢˜æ˜¯åœ¨å‡¸é›†ä¸Šå®šä¹‰çš„ã€‚ ä¾‹å¦‚ï¼Œ$\mathbb{R}^d$ï¼Œå³å®æ•°çš„$d$ç»´å‘é‡çš„é›†åˆæ˜¯å‡¸é›†ï¼ˆæ¯•ç«Ÿ$\mathbb{R}^d$ä¸­ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„çº¿å­˜åœ¨$\mathbb{R}^d$ï¼‰ä¸­ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ‰ç•Œé•¿åº¦çš„å˜é‡ï¼Œä¾‹å¦‚çƒçš„åŠå¾„å®šä¹‰ä¸º${ğ±|ğ±\in \mathbb{R}^d and â€–ğ±â€–â‰¤ğ‘Ÿ}$ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æœ‰äº†<strong>å‡¸é›†</strong>ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥<strong><em>å‡¸å‡½æ•°</em>ï¼ˆconvex functionï¼‰</strong>$f$ã€‚ ç»™å®šä¸€ä¸ªå‡¸é›†$X$ï¼Œå¦‚æœå¯¹äºæ‰€æœ‰$x,xâ€²âˆˆX$å’Œæ‰€æœ‰$Î»âˆˆ[0,1]$ï¼Œä¸€ä¸ªå‡½æ•°$f:X\to R$â€‹æ˜¯å‡¸çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°<br>$$<br>\lambda f(x)+(1-\lambda)f(xâ€™)\ge f(\lambda x+(1-\lambda xâ€™))<br>$$</p><h2 id="Jensenä¸ç­‰å¼"><a href="#Jensenä¸ç­‰å¼" class="headerlink" title="Jensenä¸ç­‰å¼"></a>Jensenä¸ç­‰å¼</h2><p>è¿™æ˜¯ä¸€ç§å¯¹äºå‡¸æ€§å®šä¹‰çš„ä¸€ä¸ªæ¨å¹¿<br>$$<br>\sum _{i}\alpha_if(x_i) \ge f(\sum_i\alpha_ix_i)  \quad and \quad E_X[f(X)]\ge f(E_X[X])<br>$$<br>å…¶ä¸­$\alpha_i$æ˜¯éè´Ÿå®æ•°ï¼Œå› æ­¤$âˆ‘_i\alpha_i&#x3D;1$ä¸”$X$æ˜¯éšæœºå˜é‡ã€‚å‡¸å‡½æ•°çš„æœŸæœ›ä¸å°äºæœŸæœ›çš„å‡¸å‡½æ•°ã€‚</p><h3 id="å¸¸è§åº”ç”¨ï¼šç”¨ä¸€ä¸ªè¾ƒç®€å•çš„è¡¨è¾¾å¼çº¦æŸä¸€ä¸ªè¾ƒå¤æ‚çš„è¡¨è¾¾å¼"><a href="#å¸¸è§åº”ç”¨ï¼šç”¨ä¸€ä¸ªè¾ƒç®€å•çš„è¡¨è¾¾å¼çº¦æŸä¸€ä¸ªè¾ƒå¤æ‚çš„è¡¨è¾¾å¼" class="headerlink" title="å¸¸è§åº”ç”¨ï¼šç”¨ä¸€ä¸ªè¾ƒç®€å•çš„è¡¨è¾¾å¼çº¦æŸä¸€ä¸ªè¾ƒå¤æ‚çš„è¡¨è¾¾å¼"></a><strong>å¸¸è§åº”ç”¨ï¼šç”¨ä¸€ä¸ªè¾ƒç®€å•çš„è¡¨è¾¾å¼çº¦æŸä¸€ä¸ªè¾ƒå¤æ‚çš„è¡¨è¾¾å¼</strong></h3><p>ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥åº”ç”¨äºéƒ¨åˆ†è§‚å¯Ÿåˆ°çš„éšæœºå˜é‡çš„å¯¹æ•°ä¼¼ç„¶ã€‚ å…·ä½“åœ°è¯´ï¼Œç”±äº$\int ğ‘ƒ(ğ‘Œ)ğ‘ƒ(ğ‘‹âˆ£ğ‘Œ)ğ‘‘ğ‘Œ&#x3D;ğ‘ƒ(ğ‘‹)$ï¼Œæ‰€ä»¥<br>$$<br>ğ¸_{ğ‘Œâˆ¼ğ‘ƒ(ğ‘Œ)}[âˆ’logğ‘ƒ(ğ‘‹âˆ£ğ‘Œ)]\geâˆ’logğ‘ƒ(ğ‘‹),<br>$$</p><p>è¿™é‡Œï¼Œ$Y$æ˜¯å…¸å‹çš„æœªè§‚å¯Ÿåˆ°çš„éšæœºå˜é‡ï¼Œ$P(Y)$æ˜¯å®ƒå¯èƒ½å¦‚ä½•åˆ†å¸ƒçš„æœ€ä½³çŒœæµ‹ï¼Œ$P(X)$æ˜¯å°†$Y$ç§¯åˆ†åçš„åˆ†å¸ƒã€‚ ä¾‹å¦‚ï¼Œåœ¨èšç±»ä¸­$Y$å¯èƒ½æ˜¯ç°‡æ ‡ç­¾ï¼Œè€Œåœ¨åº”ç”¨ç°‡æ ‡ç­¾æ—¶ï¼Œ$P(Xâˆ£Y)$æ˜¯ç”Ÿæˆæ¨¡å‹ã€‚</p><h3 id="æ€§è´¨"><a href="#æ€§è´¨" class="headerlink" title="æ€§è´¨"></a>æ€§è´¨</h3><ul><li><p><strong>å±€éƒ¨æå°å€¼æ˜¯å…¨å±€æå°å€¼</strong>è¿™ä¸€æ€§è´¨æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚ è¿™æ„å‘³ç€å¦‚æœæˆ‘ä»¬æœ€å°åŒ–å‡½æ•°ï¼Œæˆ‘ä»¬å°±ä¸ä¼šâ€œå¡ä½â€ã€‚ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œè¿™å¹¶ä¸æ„å‘³ç€ä¸èƒ½æœ‰å¤šä¸ªå…¨å±€æœ€å°å€¼ï¼Œæˆ–è€…å¯èƒ½ä¸å­˜åœ¨ä¸€ä¸ªå…¨å±€æœ€å°å€¼ã€‚</p></li><li><p>$f$ä¸ºå‡¸å‡½æ•°ï¼Œå½“ä¸”ä»…å½“ä»»æ„äºŒæ¬¡å¯å¾®ä¸€ç»´å‡½æ•°$f:\mathbb{R}^n\to \mathbb{R}$æ˜¯å‡¸çš„ã€‚ å¯¹äºä»»æ„äºŒæ¬¡å¯å¾®å¤šç»´å‡½æ•°$f:\mathbb{R}^n\to \mathbb{R}$ï¼Œ å®ƒæ˜¯å‡¸çš„å½“ä¸”ä»…å½“å®ƒçš„Hessian$âˆ‡^2ğ‘“âª°0$ã€‚</p></li><li><p>å‡¸ä¼˜åŒ–çš„ä¸€ä¸ªå¾ˆå¥½çš„ç‰¹æ€§æ˜¯èƒ½å¤Ÿè®©æˆ‘ä»¬æœ‰æ•ˆåœ°å¤„ç†<em><strong>çº¦æŸ</strong></em>ï¼ˆconstraintsï¼‰ã€‚ å³å®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿè§£å†³ä»¥ä¸‹å½¢å¼çš„<em><strong>çº¦æŸä¼˜åŒ–</strong></em>ï¼ˆconstrained optimizationï¼‰é—®é¢˜</p><ul><li><p>æ‹‰æ ¼æœ—æ—¥å‡½æ•°<br>$$<br>L(\mathbb{x}, \alpha_1,\dots, \alpha_n)&#x3D;f(\mathbb{x})+\sum_{i&#x3D;1}^n\alpha_ic_i(\mathbb{x}) \qquad where \quad \alpha_i\ge 0.<br>$$<br>è¿™é‡Œçš„å˜é‡$\alpha_i(i&#x3D;1,\dots,n)$æ˜¯æ‰€è°“çš„<em>æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°</em>ï¼ˆLagrange multipliersï¼‰ï¼Œå®ƒç¡®ä¿çº¦æŸè¢«æ­£ç¡®åœ°æ‰§è¡Œã€‚ é€‰æ‹©å®ƒä»¬çš„å¤§å°è¶³ä»¥ç¡®ä¿æ‰€æœ‰$i$çš„$c_i(\mathbb{x})$ã€‚</p></li><li><p>æƒ©ç½š: ä¸€ç§è‡³å°‘è¿‘ä¼¼åœ°æ»¡è¶³çº¦æŸä¼˜åŒ–é—®é¢˜çš„æ–¹æ³•æ˜¯é‡‡ç”¨æ‹‰æ ¼æœ—æ—¥å‡½æ•°$L$ã€‚é™¤äº†æ»¡è¶³$c_i(\mathbb{x})$ä¹‹å¤–ï¼Œæˆ‘ä»¬åªéœ€å°†$\alpha_ic_i(\mathbb{x})$æ·»åŠ åˆ°ç›®æ ‡å‡½æ•°$f(x)$ã€‚ è¿™æ ·å¯ä»¥ç¡®ä¿ä¸ä¼šä¸¥é‡è¿åçº¦æŸã€‚</p><p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨ä½¿ç”¨è¿™ä¸ªæŠ€å·§ã€‚åœ¨ç›®æ ‡å‡½æ•°ä¸­åŠ å…¥$\frac{\lambda}{2}|\mathcal{<br>w}|^2$â€‹â€‹ï¼Œä»¥ç¡®ä¿$\mathcal{<br>w}$â€‹ä¸ä¼šå¢é•¿å¤ªå¤§ã€‚ ä½¿ç”¨çº¦æŸä¼˜åŒ–çš„è§‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºè‹¥å¹²åŠå¾„$r$â€‹ï¼Œè¿™å°†ç¡®ä¿$|\mathcal{<br>w}|^2 - r^2 \le 0$â€‹ã€‚ é€šè¿‡è°ƒæ•´$\lambda$â€‹çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜$\mathcal{<br>w}$çš„å¤§å°ã€‚</p><p>é€šå¸¸ï¼Œæ·»åŠ æƒ©ç½šæ˜¯ç¡®ä¿è¿‘ä¼¼æ»¡è¶³çº¦æŸçš„ä¸€ç§å¥½æ–¹æ³•ã€‚ åœ¨å®è·µä¸­ï¼Œè¿™è¢«è¯æ˜æ¯”ç²¾ç¡®çš„æ»¡æ„åº¦æ›´å¯é ã€‚ æ­¤å¤–ï¼Œå¯¹äºéå‡¸é—®é¢˜ï¼Œè®¸å¤šä½¿ç²¾ç¡®æ–¹æ³•åœ¨å‡¸æƒ…å†µä¸‹çš„æ€§è´¨ï¼ˆä¾‹å¦‚ï¼Œå¯æ±‚æœ€ä¼˜è§£ï¼‰ä¸å†æˆç«‹ã€‚</p></li><li><p>æŠ•å½±:ä¾‹å¦‚æˆ‘ä»¬åœ¨è¿›è¡Œæ¢¯åº¦å‰ªè£çš„æ—¶å€™ï¼Œå°±è¿ç”¨çš„åˆ°æŠ•å½±çš„æŠ€å·§ã€‚$g*min(1, \frac{\theta}{||g||}) \to g$</p></li></ul></li></ul><h1 id="æ¢¯åº¦ä¸‹é™Gradient-Descent"><a href="#æ¢¯åº¦ä¸‹é™Gradient-Descent" class="headerlink" title="æ¢¯åº¦ä¸‹é™Gradient Descent"></a>æ¢¯åº¦ä¸‹é™Gradient Descent</h1><p>æ¢¯åº¦ä¸‹é™å®é™…ä¸Šæ˜¯åˆ©ç”¨æ³°å‹’å…¬å¼å¯¹æŸå¤±å‡½æ•°è¿›è¡Œå±•å¼€ï¼Œè€ƒç©¶åŸå‡½æ•°ä¸ä¸€é˜¶å¯¼æ•°ä¹‹é—´çš„å…³ç³»ã€‚</p><p>å…¶ä¸­æœ€å…³é”®çš„å‚æ•°å°±æ˜¯æ­¥é•¿$\eta$ï¼Œåœ¨æœºå™¨å­¦ä¹ ä¸­åˆç§°ä¸ºå­¦ä¹ ç‡ã€‚</p><p>å­¦ä¹ ç‡å†³å®šç›®æ ‡å‡½æ•°èƒ½å¦æ”¶æ•›åˆ°å±€éƒ¨æœ€å°å€¼ï¼Œä»¥åŠä½•æ—¶èƒ½å¤Ÿæ”¶æ•›åˆ°æœ€å°å€¼</p><p>å­¦ä¹ ç‡å¤ªå¤§å®¹æ˜“å‘ç”Ÿéœ‡è¡ï¼Œ å¤ªå°éš¾ä»¥æ”¶æ•›ã€‚é‚£ä¹ˆå¦‚ä½•é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å­¦ä¹ ç‡å°±æ˜¯ä¸€ä¸ªå€¼å¾—è€ƒé‡çš„äº‹æƒ…ã€‚</p><ul><li>ç‰›é¡¿æ³•ï¼š$\nabla f(x) + H\xi \to \xi&#x3D;-H^{-1}\nabla f(x)$ ä½†æ˜¯è‹¥Hä¸ºè´Ÿæ•°ï¼Œ é‚£ä¹ˆè¿™ä¸ªæŸå¤±å‡½æ•°å°±ä¸ä¼šæ”¶æ•›ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç»å¯¹å€¼æˆ–æ˜¯é‡æ–°å®šä¹‰å­¦ä¹ ç‡æ¥è§£å†³</li><li>é¢„å¤„ç†ï¼šæ•´ä¸ªHessiançŸ©é˜µç”¨äºè®¡ç®—ä¸å­˜è´®æ˜¯ä¸€ä»¶éå¸¸æ˜‚è´µçš„äº‹æƒ…ã€‚ä¸ºäº†è§„é¿è¿™ä¸€ç‚¹ï¼Œ æˆ‘ä»¬å¯ä»¥åªè®¡ç®—å¯¹è§’çº¿ä¸Šçš„æ•°å€¼ã€‚å³$x \gets x- \eta diag(H^{-1})\nabla f(x)$</li></ul><p>ç»¼ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œ æ¢¯åº¦ä¸‹é™å¯èƒ½ä¼šé™·å…¥å±€éƒ¨æœ€å°å€¼ï¼Œè€Œå¾—ä¸åˆ°å…¨å±€æœ€å°å€¼</p><p>å¸¸ç”¨çš„ä¸‰ç§æ¢¯åº¦ä¸‹é™æ–¹æ³•ï¼Œæ¢¯åº¦ä¸‹é™æ³•ï¼Œ éšæœºæ¢¯åº¦ä¸‹é™ï¼Œ å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™ã€‚</p><p>å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™å¾€å¾€èƒ½å¤Ÿæå‡è¿ç®—é€Ÿåº¦ï¼Œ å¹³å‡æ¢¯åº¦çš„æ–¹å¼å‡å°‘äº†æ–¹å·®ï¼Œ ä½†æ˜¯åœ¨äº§ç”Ÿä¸‹é™è¿‡ç¨‹ä¸­æ˜“å‡ºç°å·¦å³æŒ¯è¡çš„ç°è±¡ã€‚è€ŒåŠ¨é‡æ¢¯åº¦ä¸‹é™æ³•é€šè¿‡å‡å°æŒ¯è¡å¯¹ç®—æ³•è¿›è¡Œä¼˜åŒ–ã€‚åŠ¨é‡æ¢¯åº¦ä¸‹é™æ³•çš„æ ¸å¿ƒä¾¿æ˜¯å¯¹ä¸€ç³»åˆ—æ¢¯åº¦è¿›è¡ŒæŒ‡æ•°åŠ æƒå¹³å‡ã€‚</p><p><img src="/%5Csrc%5Cimage-20220309160114281.png" alt="image-20220309160114281"><img src="/%5Csrc%5Cimage-20220309160122493.png" alt="image-20220309160122493"></p><p>åŠ¨é‡æ³•è®¡ç®—è®¡ç®—å…¬å¼ã€‚ä»–ä½¿ç”¨æŒ‡æ•°åŠ æƒæ³• è®©æ¢¯åº¦æ‹¥æœ‰æ‰€æœ‰ä¿¡æ¯<br>$$<br>V_t \gets \beta V_{t-1} + g_{t,t-1}\<br>X_t \gets X_{t-1} + \eta_{t}V_t<br>$$</p><ul><li><p>åœ¨ <code>sgd</code>ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ï¼šéšæœºæ¢¯åº¦ä¸‹é™åœ¨è§£å†³ä¼˜åŒ–é—®é¢˜æ—¶æ¯”æ¢¯åº¦ä¸‹é™æ›´æœ‰æ•ˆã€‚<br>$$<br>X \gets X - \eta\nabla f_i(x)<br>$$</p></li><li><p>åœ¨ <code>minibatch_sgd</code>ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ï¼šåœ¨ä¸€ä¸ªå°æ‰¹é‡ä¸­ä½¿ç”¨æ›´å¤§çš„è§‚æµ‹å€¼é›†ï¼Œå¯ä»¥é€šè¿‡å‘é‡åŒ–æä¾›é¢å¤–æ•ˆç‡ã€‚è¿™æ˜¯é«˜æ•ˆçš„å¤šæœºã€å¤šGPUå’Œæ•´ä½“å¹¶è¡Œå¤„ç†çš„å…³é”®ã€‚<br>$$<br>X \gets X - \eta\nabla_w \frac{1}{|B_t|}\sum_{i\in B_t}f(x_i,w)<br>$$</p></li><li><p>åœ¨ <code>momentum</code>ä¸­æˆ‘ä»¬æ·»åŠ äº†ä¸€ç§æœºåˆ¶ï¼Œç”¨äºæ±‡æ€»è¿‡å»æ¢¯åº¦çš„å†å²ä»¥åŠ é€Ÿæ”¶æ•›ã€‚<br>åˆ©ç”¨æ³„æ¼å¹³å‡å€¼æ›¿ä»£æ¢¯åº¦è®¡ç®—<br>$$<br>g_t &#x3D; \nabla_w \frac{1}{|B_t|}\sum_{i\in B_t}f(x_i,w)\<br>V_t &#x3D; \beta V_{t-1} + g_t  ,\quad \beta\in(0, 1)<br>$$<br>$\beta^{-1}$ä½œä¸ºæ§åˆ¶æ³„æ¼å¹³å‡å€¼èƒ½å¤Ÿè®°ä½å¤šå°‘è¿‡å»æ¢¯åº¦çš„å¹³å‡å€¼ï¼Œåˆè¢«ç§°ä¸ºåŠè¡°æœŸã€‚$V_t$è¢«ç§°ä¸ºåŠ¨é‡</p></li><li><p>åœ¨ <code>adagrad</code>ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¯ä¸ªåæ ‡ç¼©æ”¾æ¥å®ç°è®¡ç®—æ•ˆç‡çš„é¢„å¤„ç†ã€‚<br>$$<br>g_t &#x3D; \nabla_w l(y_t, f(x_w, w))\<br>S_t &#x3D; \rho S_{t-1} + (1-\rho)g_t^2\<br>w_t &#x3D; w_{t-1}-\frac{\eta}{\sqrt{S_t+\xi}}g_t<br>$$</p></li><li><p>åœ¨ <code>rmsprop</code>ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å­¦ä¹ ç‡çš„è°ƒæ•´æ¥åˆ†ç¦»æ¯ä¸ªåæ ‡çš„ç¼©æ”¾ã€‚<br>$$<br>S_t &#x3D; \rho S_{t-1} + (1-\rho)g_t^2\<br>X_t &#x3D; X_{t-1}-\frac{\eta}{\sqrt{S_t+\xi}}\odot g_t<br>$$</p></li><li><p>åœ¨<code>adadelta</code>ä¸­ï¼Œæˆ‘ä»¬å–æ¶ˆäº†å­¦ä¹ ç‡ï¼Œ åˆ©ç”¨ä¸¤ä¸ªçŠ¶æ€å˜é‡ï¼Œ$S_t$ç”¨äºå­˜å‚¨æ¢¯åº¦äºŒé˜¶å¯¼æ•°çš„æ¼å¹³å‡å€¼ï¼Œ$\Delta x_t$â€‹ç”¨äºå­˜å‚¨æ¨¡å‹æœ¬èº«ä¸­å‚æ•°å˜åŒ–äºŒé˜¶å¯¼æ•°çš„æ³„éœ²å¹³å‡å€¼ã€‚<br>$$<br>S_t &#x3D; \rho S_{t-1} + (1-\rho)g_t^2 \<br>g_tâ€™ &#x3D; \frac{\sqrt{\Delta x_{t-1}+\xi}}{\sqrt{S_t+\xi}}\odot g_t \<br> X_t &#x3D;  X_{t-1} - g_tâ€™\<br>\Delta x_t &#x3D; \rho \Delta x_{t-1} + (1-\rho){g_tâ€™}^2<br>$$</p></li><li><p>è€Œ<code>adam</code>,å…¶ç®—æ³•çš„å…³é”®ç»„æˆéƒ¨åˆ†ä¹‹ä¸€æ˜¯ï¼šå®ƒä½¿ç”¨æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡å€¼æ¥ä¼°ç®—æ¢¯åº¦çš„åŠ¨é‡å’Œç¬¬äºŒåŠ›çŸ©ï¼Œå³å®ƒä½¿ç”¨çŠ¶æ€å˜é‡<br>$$<br>V_t\gets \beta_1V_{tâˆ’1}+(1âˆ’\beta_1)g_t,\<br>S_t\gets \beta_2S_{tâˆ’1}+(1âˆ’\beta_2)g_t^2.<br>$$<br>è¿™é‡Œ$ ğ›½1 $å’Œ $ğ›½2$ æ˜¯éè´ŸåŠ æƒå‚æ•°ã€‚ ä»–ä»¬çš„å¸¸è§è®¾ç½®æ˜¯ $ğ›½1&#x3D;0.9$ å’Œ$ ğ›½2&#x3D;0.999 $â€‹ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–¹å·®çš„ä¼°è®¡æ¯”åŠ¨é‡çš„ä¼°è®¡ç§»åŠ¨å¾—è¿œè¿œæ›´æ…¢ã€‚ä¸ºäº†é¿å…åˆå§‹åŒ–çš„å¹²æ‰°ï¼Œ<br>$$<br>\hat{V_t} &#x3D; \frac{V_t}{1-\beta_1^t} \quad and \quad \hat{S_t} &#x3D; \frac{S_t}{1-\beta_2^t} \<br>g_tâ€™ &#x3D; \frac{\eta\hat{V_t}}{\sqrt{\hat{S_t}}+\xi} \<br>X_t \gets X_{t-1}-g_tâ€™<br>$$</p></li></ul><h1 id="å­¦ä¹ ç‡è°ƒåº¦å™¨"><a href="#å­¦ä¹ ç‡è°ƒåº¦å™¨" class="headerlink" title="å­¦ä¹ ç‡è°ƒåº¦å™¨"></a>å­¦ä¹ ç‡è°ƒåº¦å™¨</h1><ul><li>é¦–å…ˆï¼Œå­¦ä¹ ç‡çš„å¤§å°å¾ˆé‡è¦ã€‚å¦‚æœå®ƒå¤ªå¤§ï¼Œä¼˜åŒ–å°±ä¼šå‘æ•£ï¼›å¦‚æœå®ƒå¤ªå°ï¼Œè®­ç»ƒå°±ä¼šéœ€è¦è¿‡é•¿æ—¶é—´ï¼Œæˆ–è€…æˆ‘ä»¬æœ€ç»ˆåªèƒ½å¾—åˆ°æ¬¡ä¼˜çš„ç»“æœã€‚æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°é—®é¢˜çš„æ¡ä»¶æ•°å¾ˆé‡è¦ã€‚ç›´è§‚åœ°è¯´ï¼Œè¿™æ˜¯æœ€ä¸æ•æ„Ÿä¸æœ€æ•æ„Ÿæ–¹å‘çš„å˜åŒ–é‡çš„æ¯”ç‡ã€‚</li><li>å…¶æ¬¡ï¼Œè¡°å‡é€Ÿç‡åŒæ ·å¾ˆé‡è¦ã€‚å¦‚æœå­¦ä¹ ç‡æŒç»­è¿‡é«˜ï¼Œæˆ‘ä»¬å¯èƒ½æœ€ç»ˆä¼šåœ¨æœ€å°å€¼é™„è¿‘å¼¹è·³ï¼Œä»è€Œæ— æ³•è¾¾åˆ°æœ€ä¼˜è§£ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¸Œæœ›é€Ÿç‡è¡°å‡ï¼Œä½†è¦æ¯”$\Omega(t^{-\frac{1}{2}})$æ…¢ï¼Œè¿™æ ·èƒ½æˆä¸ºè§£å†³å‡¸é—®é¢˜çš„ä¸é”™é€‰æ‹©ã€‚</li><li>å¦ä¸€ä¸ªåŒæ ·é‡è¦çš„æ–¹é¢æ˜¯åˆå§‹åŒ–ã€‚è¿™æ—¢æ¶‰åŠå‚æ•°æœ€åˆçš„è®¾ç½®æ–¹å¼ï¼Œåˆå…³ç³»åˆ°å®ƒä»¬æœ€åˆçš„æ¼”å˜æ–¹å¼ã€‚è¿™è¢«æˆç§°ä¸º<em>é¢„çƒ­</em>ï¼ˆwarmupï¼‰ï¼Œå³æˆ‘ä»¬æœ€åˆå¼€å§‹å‘ç€è§£å†³æ–¹æ¡ˆè¿ˆè¿›çš„é€Ÿåº¦æœ‰å¤šå¿«ã€‚ä¸€å¼€å§‹çš„å¤§æ­¥å¯èƒ½æ²¡æœ‰å¥½å¤„ï¼Œç‰¹åˆ«æ˜¯å› ä¸ºæœ€åˆçš„å‚æ•°é›†æ˜¯éšæœºçš„ã€‚æœ€åˆçš„æ›´æ–°æ–¹å‘å¯èƒ½ä¹Ÿæ˜¯æ¯«æ— æ„ä¹‰çš„ã€‚</li><li>æœ€åï¼Œè¿˜æœ‰è®¸å¤šä¼˜åŒ–å˜ä½“å¯ä»¥æ‰§è¡Œå‘¨æœŸæ€§å­¦ä¹ ç‡è°ƒæ•´ã€‚</li></ul><p>å¤šé¡¹å¼è¡°å‡å’Œåˆ†æ®µå¸¸æ•°è¡¨ã€‚ æ­¤å¤–ï¼Œä½™å¼¦å­¦ä¹ ç‡è°ƒåº¦åœ¨å®è·µä¸­çš„ä¸€äº›é—®é¢˜ä¸Šè¿è¡Œæ•ˆæœå¾ˆå¥½ã€‚ åœ¨æŸäº›é—®é¢˜ä¸Šï¼Œæœ€å¥½åœ¨ä½¿ç”¨è¾ƒé«˜çš„å­¦ä¹ ç‡ä¹‹å‰é¢„çƒ­ä¼˜åŒ–å™¨ã€‚<a href="https://pytorch.org/docs/stable/optim.html">è¯¦æƒ…å‚è€ƒ</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = [Parameter(torch.randn(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, requires_grad=<span class="hljs-literal">True</span>))]<br>optimizer = SGD(model, <span class="hljs-number">0.1</span>)<br>scheduler = ExponentialLR(optimizer, gamma=<span class="hljs-number">0.9</span>)<br><br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">20</span>):<br>    <span class="hljs-keyword">for</span> <span class="hljs-built_in">input</span>, target <span class="hljs-keyword">in</span> dataset:<br>        optimizer.zero_grad()<br>        output = model(<span class="hljs-built_in">input</span>)<br>        loss = loss_fn(output, target)<br>        loss.backward()<br>        optimizer.step()<br>    scheduler.step()<br></code></pre></td></tr></table></figure><ul><li>åœ¨è®­ç»ƒæœŸé—´é€æ­¥é™ä½å­¦ä¹ ç‡å¯ä»¥æé«˜å‡†ç¡®æ€§ï¼Œå¹¶ä¸”å‡å°‘æ¨¡å‹çš„è¿‡æ‹Ÿåˆã€‚</li><li>åœ¨å®éªŒä¸­ï¼Œæ¯å½“è¿›å±•è¶‹äºç¨³å®šæ—¶å°±é™ä½å­¦ä¹ ç‡ï¼Œè¿™æ˜¯å¾ˆæœ‰æ•ˆçš„ã€‚ä»æœ¬è´¨ä¸Šè¯´ï¼Œè¿™å¯ä»¥ç¡®ä¿æˆ‘ä»¬æœ‰æ•ˆåœ°æ”¶æ•›åˆ°ä¸€ä¸ªé€‚å½“çš„è§£ï¼Œä¹Ÿåªæœ‰è¿™æ ·æ‰èƒ½é€šè¿‡é™ä½å­¦ä¹ ç‡æ¥å‡å°å‚æ•°çš„å›ºæœ‰æ–¹å·®ã€‚</li><li>ä½™å¼¦è°ƒåº¦å™¨åœ¨æŸäº›è®¡ç®—æœºè§†è§‰é—®é¢˜ä¸­å¾ˆå—æ¬¢è¿ã€‚</li><li>ä¼˜åŒ–ä¹‹å‰çš„é¢„çƒ­æœŸå¯ä»¥é˜²æ­¢å‘æ•£ã€‚</li><li>ä¼˜åŒ–åœ¨æ·±åº¦å­¦ä¹ ä¸­æœ‰å¤šç§ç”¨é€”ã€‚å¯¹äºåŒæ ·çš„è®­ç»ƒè¯¯å·®è€Œè¨€ï¼Œé€‰æ‹©ä¸åŒçš„ä¼˜åŒ–ç®—æ³•å’Œå­¦ä¹ ç‡è°ƒåº¦ï¼Œé™¤äº†æœ€å¤§é™åº¦åœ°å‡å°‘è®­ç»ƒæ—¶é—´ï¼Œå¯ä»¥å¯¼è‡´æµ‹è¯•é›†ä¸Šä¸åŒçš„æ³›åŒ–å’Œè¿‡æ‹Ÿåˆé‡ã€‚</li></ul><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul><li>æœ€å°åŒ–è®­ç»ƒè¯¯å·®å¹¶<strong>ä¸èƒ½</strong>ä¿è¯æˆ‘ä»¬æ‰¾åˆ°æœ€ä½³çš„å‚æ•°é›†æ¥æœ€å°åŒ–æ³›åŒ–è¯¯å·®ã€‚</li><li>ä¼˜åŒ–é—®é¢˜å¯èƒ½æœ‰è®¸å¤šå±€éƒ¨æœ€å°å€¼ã€‚</li><li>é—®é¢˜å¯èƒ½æœ‰æ›´å¤šçš„éç‚¹ï¼Œå› ä¸ºé€šå¸¸é—®é¢˜ä¸æ˜¯å‡¸çš„ã€‚</li><li>æ¢¯åº¦æ¶ˆå¤±å¯èƒ½ä¼šå¯¼è‡´ä¼˜åŒ–åœæ»ï¼Œé‡å‚æ•°åŒ–é€šå¸¸ä¼šæœ‰æ‰€å¸®åŠ©ã€‚å¯¹å‚æ•°è¿›è¡Œè‰¯å¥½çš„åˆå§‹åŒ–ä¹Ÿå¯èƒ½æ˜¯æœ‰ç›Šçš„ã€‚</li><li>æ ¹æ®Jensenä¸ç­‰å¼ï¼Œâ€œä¸€ä¸ªå¤šå˜é‡å‡¸å‡½æ•°çš„æ€»æœŸæœ›å€¼â€å¤§äºæˆ–ç­‰äºâ€œç”¨æ¯ä¸ªå˜é‡çš„æœŸæœ›å€¼è®¡ç®—è¿™ä¸ªå‡½æ•°çš„æ€»å€¼â€œã€‚</li><li>ä¸€ä¸ªäºŒæ¬¡å¯å¾®å‡½æ•°æ˜¯å‡¸å‡½æ•°ï¼Œå½“ä¸”ä»…å½“å…¶Hessianï¼ˆäºŒé˜¶å¯¼æ•°çŸ©é˜µï¼‰æ˜¯åŠæ­£å®šçš„ã€‚</li><li>åŠ¨é‡æ³•ç”¨è¿‡å»æ¢¯åº¦çš„å¹³å‡å€¼æ¥æ›¿æ¢æ¢¯åº¦ï¼Œè¿™å¤§å¤§åŠ å¿«äº†æ”¶æ•›é€Ÿåº¦ã€‚</li><li>å¯¹äºæ— å™ªå£°æ¢¯åº¦ä¸‹é™å’Œå˜ˆæ‚éšæœºæ¢¯åº¦ä¸‹é™ï¼ŒåŠ¨é‡æ³•éƒ½æ˜¯å¯å–çš„ã€‚</li><li>åŠ¨é‡æ³•å¯ä»¥é˜²æ­¢åœ¨éšæœºæ¢¯åº¦ä¸‹é™çš„ä¼˜åŒ–è¿‡ç¨‹åœæ»çš„é—®é¢˜ã€‚</li><li>ç”±äºå¯¹è¿‡å»çš„æ•°æ®è¿›è¡Œäº†æŒ‡æ•°é™æƒï¼Œæœ‰æ•ˆæ¢¯åº¦æ•°ä¸º11âˆ’ğ›½11âˆ’Î²ã€‚</li><li>åœ¨å‡¸äºŒæ¬¡é—®é¢˜ä¸­ï¼Œå¯ä»¥å¯¹åŠ¨é‡æ³•è¿›è¡Œæ˜ç¡®è€Œè¯¦ç»†çš„åˆ†æã€‚</li><li>åŠ¨é‡æ³•çš„å®ç°éå¸¸ç®€å•ï¼Œä½†å®ƒéœ€è¦æˆ‘ä»¬å­˜å‚¨é¢å¤–çš„çŠ¶æ€å‘é‡ï¼ˆåŠ¨é‡ğ¯ï¼‰ã€‚</li><li>AdaGradç®—æ³•ä¼šåœ¨å•ä¸ªåæ ‡å±‚é¢åŠ¨æ€é™ä½å­¦ä¹ ç‡ã€‚</li><li>AdaGradç®—æ³•åˆ©ç”¨æ¢¯åº¦çš„å¤§å°ä½œä¸ºè°ƒæ•´è¿›åº¦é€Ÿç‡çš„æ‰‹æ®µï¼šç”¨è¾ƒå°çš„å­¦ä¹ ç‡æ¥è¡¥å¿å¸¦æœ‰è¾ƒå¤§æ¢¯åº¦çš„åæ ‡ã€‚</li><li>åœ¨æ·±åº¦å­¦ä¹ é—®é¢˜ä¸­ï¼Œç”±äºå†…å­˜å’Œè®¡ç®—é™åˆ¶ï¼Œè®¡ç®—å‡†ç¡®çš„äºŒé˜¶å¯¼æ•°é€šå¸¸æ˜¯ä¸å¯è¡Œçš„ã€‚æ¢¯åº¦å¯ä»¥ä½œä¸ºä¸€ä¸ªæœ‰æ•ˆçš„ä»£ç†ã€‚</li><li>å¦‚æœä¼˜åŒ–é—®é¢˜çš„ç»“æ„ç›¸å½“ä¸å‡åŒ€ï¼ŒAdaGradç®—æ³•å¯ä»¥å¸®åŠ©ç¼“è§£æ‰­æ›²ã€‚</li><li>AdaGradç®—æ³•å¯¹äºç¨€ç–ç‰¹å¾ç‰¹åˆ«æœ‰æ•ˆï¼Œåœ¨æ­¤æƒ…å†µä¸‹ç”±äºä¸å¸¸å‡ºç°çš„é—®é¢˜ï¼Œå­¦ä¹ ç‡éœ€è¦æ›´æ…¢åœ°é™ä½ã€‚</li><li>åœ¨æ·±åº¦å­¦ä¹ é—®é¢˜ä¸Šï¼ŒAdaGradç®—æ³•æœ‰æ—¶åœ¨é™ä½å­¦ä¹ ç‡æ–¹é¢å¯èƒ½è¿‡äºå‰§çƒˆã€‚</li><li>RMSPropç®—æ³•ä¸Adagradç®—æ³•éå¸¸ç›¸ä¼¼ï¼Œå› ä¸ºä¸¤è€…éƒ½ä½¿ç”¨æ¢¯åº¦çš„å¹³æ–¹æ¥ç¼©æ”¾ç³»æ•°ã€‚</li><li>RMSPropç®—æ³•ä¸åŠ¨é‡æ³•éƒ½ä½¿ç”¨æ³„æ¼å¹³å‡å€¼ã€‚ä½†æ˜¯ï¼ŒRMSPropç®—æ³•ä½¿ç”¨è¯¥æŠ€æœ¯æ¥è°ƒæ•´æŒ‰ç³»æ•°é¡ºåºçš„é¢„å¤„ç†å™¨ã€‚</li><li>Adamç®—æ³•å°†è®¸å¤šä¼˜åŒ–ç®—æ³•çš„åŠŸèƒ½ç»“åˆåˆ°äº†ç›¸å½“å¼ºå¤§çš„æ›´æ–°è§„åˆ™ä¸­ã€‚è§„åˆ™ä¸­ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”Layerè¯´æ˜</title>
    <link href="/2022/07/01/DeepLearning/%E5%90%84%E4%B8%AA%E5%B1%82%E7%9A%84%E8%A7%A3%E9%87%8A/"/>
    <url>/2022/07/01/DeepLearning/%E5%90%84%E4%B8%AA%E5%B1%82%E7%9A%84%E8%A7%A3%E9%87%8A/</url>
    
    <content type="html"><![CDATA[<p><img src="/src/640-165691974012416.png" alt="å›¾ç‰‡"></p><h1 id="1-å·ç§¯è¿ç®—ä¸å·ç§¯å±‚"><a href="#1-å·ç§¯è¿ç®—ä¸å·ç§¯å±‚" class="headerlink" title="1.å·ç§¯è¿ç®—ä¸å·ç§¯å±‚"></a>1.å·ç§¯è¿ç®—ä¸å·ç§¯å±‚</h1><p>è¯´å·ç§¯å±‚ï¼Œæˆ‘ä»¬å¾—å…ˆä»å·ç§¯è¿ç®—å¼€å§‹ï¼Œå·ç§¯è¿ç®—å°±æ˜¯å·ç§¯æ ¸åœ¨è¾“å…¥ä¿¡å·ï¼ˆå›¾åƒï¼‰ä¸Šæ»‘åŠ¨ï¼Œ ç›¸åº”ä½ç½®ä¸Šè¿›è¡Œ<strong>ã€Œä¹˜åŠ ã€</strong>ã€‚å·ç§¯æ ¸åˆç§°ä¸ºæ»¤è¿‡å™¨ï¼Œè¿‡æ»¤å™¨ï¼Œå¯è®¤ä¸ºæ˜¯æŸç§æ¨¡å¼ï¼ŒæŸç§ç‰¹å¾ã€‚</p><p>å·ç§¯è¿‡ç¨‹ç±»ä¼¼äºç”¨ä¸€ä¸ªæ¨¡æ¿å»å›¾åƒä¸Šå¯»æ‰¾ä¸å®ƒç›¸ä¼¼çš„åŒºåŸŸï¼Œ ä¸å·ç§¯æ ¸æ¨¡å¼è¶Šç›¸ä¼¼ï¼Œ æ¿€æ´»å€¼è¶Šé«˜ï¼Œ ä»è€Œå®ç°ç‰¹å¾æå–ã€‚å¥½å§ï¼Œä¼°è®¡ä¾ç„¶æ‡µé€¼ï¼Œä¸‹é¢æˆ‘ä»¬å°±çœ‹çœ‹ 1dã€2dã€3dçš„å·ç§¯ç¤ºæ„å›¾ï¼Œé€šè¿‡åŠ¨å›¾çš„æ–¹å¼çœ‹çœ‹å·ç§¯æ“ä½œåˆ°åº•åœ¨å¹²å•¥ï¼Ÿ</p><h2 id="1-1-1d-2d-3d-å·ç§¯ç¤ºæ„"><a href="#1-1-1d-2d-3d-å·ç§¯ç¤ºæ„" class="headerlink" title="1.1 1d 2d 3d å·ç§¯ç¤ºæ„"></a>1.1 1d 2d 3d å·ç§¯ç¤ºæ„</h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå·ç§¯æ ¸åœ¨å‡ ä¸ªç»´åº¦ä¸Šæ»‘åŠ¨ï¼Œå°±æ˜¯å‡ ç»´å·ç§¯ã€‚ä¸‹é¢å†çœ‹å‡ å¼ åŠ¨å›¾æ„Ÿå—ä¸€ä¸‹ä¸åŒç»´åº¦çš„å·ç§¯æ“ä½œï¼Œæ³¨æ„ä¸‹é¢éƒ½æ˜¯ä¸€ä¸ªå·ç§¯æ ¸ï¼š</p><p>ä¸€ç»´å·ç§¯ç¤ºæ„</p><p><img src="/src/640-16464011129871-165691974235919.gif" alt="å›¾ç‰‡"></p><p>äºŒç»´å·ç§¯ç¤ºæ„</p><p><img src="/src/640-16464011129872-165691974500122.gif" alt="å›¾ç‰‡"></p><p>ä¸‰ç»´å·ç§¯ç¤ºæ„</p><p><img src="/src/640-16464011129893-165691975338925.gif" alt="å›¾ç‰‡"></p><h2 id="1-2-nn-Conv2d"><a href="#1-2-nn-Conv2d" class="headerlink" title="1.2 nn.Conv2d"></a>1.2 nn.Conv2d</h2><p><code>nn.Conv2d</code>: å¯¹å¤šä¸ªäºŒç»´ä¿¡å·è¿›è¡ŒäºŒç»´å·ç§¯</p><p><img src="/src/640-16464011129894-165691975764428.png" alt="å›¾ç‰‡"></p><p>ä¸»è¦å‚æ•°ï¼š</p><ul><li>in_channels: è¾“å…¥é€šé“æ•°</li><li>out_channels: è¾“å‡ºé€šé“æ•°ï¼Œ ç­‰ä»·äºå·ç§¯æ ¸ä¸ªæ•°</li><li>kernel_size: å·ç§¯æ ¸å°ºå¯¸ï¼Œ è¿™ä¸ªä»£è¡¨ç€å·ç§¯æ ¸çš„å¤§å°</li><li>stride: æ­¥é•¿ï¼Œ è¿™ä¸ªæŒ‡çš„å·ç§¯æ ¸æ»‘åŠ¨çš„æ—¶å€™ï¼Œæ¯ä¸€æ¬¡æ»‘åŠ¨å‡ ä¸ªåƒç´ ã€‚ä¸‹é¢çœ‹ä¸ªåŠ¨å›¾æ¥ç†è§£æ­¥é•¿çš„æ¦‚å¿µï¼šå·¦è¾¹é‚£ä¸ªçš„æ­¥é•¿æ˜¯ 1ï¼Œ æ¯ä¸€æ¬¡æ»‘åŠ¨ 1 ä¸ªåƒç´ ï¼Œè€Œå³è¾¹çš„æ­¥é•¿æ˜¯ 2ï¼Œä¼šå‘ç°æ¯ä¸€æ¬¡æ»‘åŠ¨ 2ä¸ªåƒç´ ã€‚</li></ul><p><img src="/src/640-16464011129895-165691976075031.gif" alt="å›¾ç‰‡"></p><ul><li>padding: å¡«å……ä¸ªæ•°ï¼Œé€šå¸¸ç”¨æ¥ä¿æŒè¾“å…¥å’Œè¾“å‡ºå›¾åƒçš„ä¸€ä¸ªå°ºå¯¸çš„åŒ¹é…ï¼Œä¾ç„¶æ˜¯ä¸€ä¸ªåŠ¨å›¾å±•ç¤ºï¼Œçœ‹å·¦è¾¹é‚£ä¸ªå›¾ï¼Œè¿™ä¸ªæ˜¯æ²¡æœ‰ padding çš„å·ç§¯ï¼Œè¾“å…¥å›¾åƒæ˜¯ 4 * 4ï¼Œç»è¿‡å·ç§¯ä¹‹åï¼Œè¾“å‡ºå›¾åƒå°±å˜æˆäº† 2 * 2 çš„äº†ï¼Œè¿™æ ·åˆ†è¾¨ç‡ä¼šéå˜ä½ï¼Œå¹¶ä¸”æˆ‘ä»¬ä¼šå‘ç°è¿™ç§æƒ…å†µå·ç§¯çš„æ—¶å€™è¾¹ç¼˜éƒ¨åˆ†çš„åƒç´ å‚ä¸è®¡ç®—çš„æœºä¼šæ¯”è¾ƒå°‘ã€‚æ‰€ä»¥åŠ å…¥è€ƒè™‘ padding çš„å¡«å……æ–¹å¼ï¼Œè¿™ä¸ªä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åœ¨åŸè¾“å…¥å‘¨å›´åŠ å…¥åƒç´ ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯è¾“å‡ºçš„å›¾åƒå°ºå¯¸åˆ†è¾¨ç‡å’Œè¾“å…¥çš„ä¸€æ ·ï¼Œå¹¶ä¸”è¾¹ç¼˜éƒ¨åˆ†çš„åƒç´ ä¹Ÿå—åˆ°åŒç­‰çš„å…³æ³¨äº†ã€‚</li></ul><p><img src="/src/640-16464011129896-165691976230334.gif" alt="å›¾ç‰‡"></p><ul><li><p>dilation: å­”æ´å·ç§¯å¤§å°ï¼Œä¸‹é¢ä¾ç„¶æ˜¯ä¸€ä¸ªåŠ¨å›¾ï¼š</p><p><img src="/src/640-16464011129897-165691976455037.gif" alt="å›¾ç‰‡"></p><p>å­”æ´å·ç§¯å°±å¯ä»¥ç†è§£æˆä¸€ä¸ªå¸¦å­”çš„å·ç§¯æ ¸ï¼Œå¸¸ç”¨äºå›¾åƒåˆ†å‰²ä»»åŠ¡ï¼Œä¸»è¦åŠŸèƒ½å°±æ˜¯æé«˜æ„Ÿå—é‡ã€‚ä¹Ÿå°±æ˜¯è¾“å‡ºå›¾åƒçš„ä¸€ä¸ªå‚æ•°ï¼Œèƒ½çœ‹åˆ°å‰é¢å›¾åƒæ›´å¤§çš„ä¸€ä¸ªåŒºåŸŸã€‚</p></li><li><p>groups: åˆ†ç»„å·ç§¯è®¾ç½®ï¼Œåˆ†ç»„å·ç§¯å¸¸ç”¨äºæ¨¡å‹çš„è½»é‡åŒ–ã€‚æˆ‘ä»¬ä¹‹å‰çš„ AlexNet å…¶å®å°±å¯ä»¥çœ‹åˆ°åˆ†ç»„çš„èº«å½±ï¼Œ ä¸¤ç»„å·ç§¯åˆ†åˆ«è¿›è¡Œæå–ï¼Œæœ€ååˆå¹¶ã€‚<img src="/src/640-16464011129898-165691976638840.png" alt="å›¾ç‰‡"></p></li><li><p>bias: åç½®</p></li></ul><p>ä¸‹é¢æ˜¯å°ºå¯¸è®¡ç®—çš„æ–¹å¼ï¼š</p><ol><li>æ²¡æœ‰ paddingï¼š</li><li>å¦‚æœæœ‰ padding çš„è¯ï¼š</li><li>å¦‚æœå†åŠ ä¸Šå­”æ´å·ç§¯çš„è¯ï¼š</li></ol><p>ä¸‹é¢æˆ‘ä»¬ç”¨ä»£ç çœ‹çœ‹å·ç§¯æ ¸æ˜¯æ€ä¹ˆæå–ç‰¹å¾çš„ï¼Œæ¯•ç«Ÿæœ‰å›¾æ‰æœ‰çœŸç›¸ï¼š</p><p><img src="/src/640-16464011129909-165691977038443.png" alt="å›¾ç‰‡"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ”¹å˜seedï¼Œ ä¹Ÿå°±æ˜¯ç›¸å½“äºæ¢ä¸€ç»„å·ç§¯æ ¸ï¼Œ çœ‹çœ‹æå–åˆ°ä»€ä¹ˆæ ·çš„ç‰¹å¾ï¼š</p><p><img src="/src/640-164640111299010-165691977227646.png" alt="å›¾ç‰‡"></p><p>å†æ¢ä¸€ä¸ªéšæœºç§å­ï¼š</p><p><img src="/src/640-164640111299011-165691977391849.png" alt="å›¾ç‰‡"></p><p>é€šè¿‡ä¸Šé¢ï¼Œæˆ‘ä»¬ä¼šå‘ç°ä¸åŒæƒé‡çš„å·ç§¯æ ¸ä»£è¡¨ä¸åŒçš„æ¨¡å¼ï¼Œä¼šå…³æ³¨ä¸åŒçš„ç‰¹å¾ï¼Œè¿™æ ·æˆ‘ä»¬åªè¦è®¾ç½®å¤šä¸ªå·ç§¯æ ¸åŒæ—¶å¯¹å›¾ç‰‡çš„ç‰¹å¾è¿›è¡Œæå–ï¼Œå°±å¯ä»¥æå–ä¸åŒçš„ç‰¹å¾ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹å›¾åƒå°ºå¯¸çš„å˜åŒ–ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">å·ç§¯å‰å°ºå¯¸:torch<span class="hljs-selector-class">.Size</span>(<span class="hljs-selector-attr">[1, 3, 512, 512]</span>)<br>å·ç§¯åå°ºå¯¸:torch<span class="hljs-selector-class">.Size</span>(<span class="hljs-selector-attr">[1, 1, 510, 510]</span>)<br></code></pre></td></tr></table></figure><p>å·ç§¯å‰ï¼Œå›¾åƒå°ºå¯¸æ˜¯ , å·ç§¯åï¼Œå›¾åƒå°ºå¯¸æ˜¯ ã€‚æˆ‘ä»¬è¿™é‡Œçš„å·ç§¯æ ¸è®¾ç½®ï¼Œè¾“å…¥é€šé“ 3ï¼Œå·ç§¯æ ¸ä¸ªæ•° 1ï¼Œå·ç§¯æ ¸å¤§å° 3ï¼Œæ—  paddingï¼Œæ­¥é•¿æ˜¯ 1ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ ¹æ®ä¸Šé¢çš„å…¬å¼ï¼Œè¾“å‡ºå°ºå¯¸:</p><p>ä¸‹é¢å†æ¥çœ‹ä¸€ä¸‹å·ç§¯å±‚æœ‰å“ªäº›å‚æ•°ï¼šæˆ‘ä»¬çŸ¥é“å·ç§¯å±‚ä¹Ÿæ˜¯ç»§æ‰¿äº nn.Module çš„ï¼Œæ‰€ä»¥è‚¯å®šåˆæ˜¯é‚£ 8 ä¸ªå­—å…¸å±æ€§ï¼Œ æˆ‘ä»¬ä¸»è¦çœ‹çœ‹å®ƒçš„<code>_modules</code>å‚æ•°å’Œ<code>_parameters</code>å‚æ•°å­—å…¸ã€‚</p><p><img src="F:\notes\æ·±åº¦å­¦ä¹ \src\640-164640111299012.png" alt="å›¾ç‰‡"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° Conv2d ä¸‹é¢çš„<code>_parameters</code>å­˜æ”¾ç€æƒé‡å‚æ•°ï¼Œè¿™é‡Œçš„ weight çš„å½¢çŠ¶æ˜¯ [1, 3, 3, 3]ï¼Œ è¿™ä¸ªåº”è¯¥æ€ä¹ˆç†è§£å‘¢ï¼Ÿé¦–å…ˆ 1 ä»£è¡¨ç€å·ç§¯æ ¸çš„ä¸ªæ•°ï¼Œç¬¬ 1 ä¸ª 3 è¡¨ç¤ºçš„è¾“å…¥é€šé“æ•°ï¼Œåé¢ä¸¤ä¸ª 3 æ˜¯äºŒç»´å·ç§¯æ ¸çš„å°ºå¯¸ã€‚é‚£ä¹ˆè¿™é‡Œæœ‰äººå¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œæˆ‘ä»¬è¿™é‡Œæ˜¯3ç»´çš„å·ç§¯æ ¸å•Šï¼Œæ€ä¹ˆå®ç°çš„äºŒç»´å·ç§¯å‘¢ï¼Ÿä¸‹é¢å†é€šè¿‡ä¸€ä¸ªç¤ºæ„å›¾çœ‹çœ‹ï¼š</p><p><img src="F:\notes\æ·±åº¦å­¦ä¹ \src\640-164640111299013.gif" alt="å›¾ç‰‡"></p><p>æˆ‘ä»¬çš„å›¾åƒæ˜¯ RGB 3 ä¸ªé€šé“çš„å›¾åƒï¼Œæˆ‘ä»¬åˆ›å»º 3 ä¸ªäºŒç»´çš„å·ç§¯æ ¸ï¼Œè¿™ 3 ä¸ªäºŒç»´çš„å·ç§¯æ ¸åˆ†åˆ«å¯¹åº”ä¸€ä¸ªé€šé“è¿›è¡Œå·ç§¯ï¼Œæ¯”å¦‚çº¢è‰²é€šé“ä¸Šï¼Œåªæœ‰ä¸€ä¸ªå·ç§¯æ ¸åœ¨ä¸Šé¢æ»‘åŠ¨ï¼Œæ¯ä¸€æ¬¡æ»‘åŠ¨ï¼Œå¯¹åº”å…ƒç´ ç›¸ä¹˜ç„¶åç›¸åŠ å¾—åˆ°ä¸€ä¸ªæ•°ï¼Œ è¿™ä¸‰ä¸ªå·ç§¯æ ¸æ»‘åŠ¨ä¸€æ¬¡å°±ä¼šå¾—åˆ°ä¸‰ä¸ªæ•°ï¼Œè¿™ä¸‰ä¸ªæ•°ä¹‹å’ŒåŠ ä¸Šåç½®æ‰æ˜¯æˆ‘ä»¬çš„ä¸€ä¸ªè¾“å‡ºç»“æœã€‚è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°äº†ï¼Œä¸€ä¸ªå·ç§¯æ ¸åªåœ¨ 2 ä¸ªç»´åº¦ä¸Šæ»‘åŠ¨ï¼Œæ‰€ä»¥æœ€åå¾—åˆ°çš„å°±æ˜¯ 2 ç»´å·ç§¯ã€‚è¿™ä¹Ÿèƒ½ç†è§£å¼€å§‹çš„å·ç§¯ç»´åº¦çš„æ¦‚å¿µäº†ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå·ç§¯æ ¸åœ¨å‡ ä¸ªç»´åº¦ä¸Šæ»‘åŠ¨ï¼Œå°±æ˜¯å‡ ç»´å·ç§¯ï¼‰ï¼Œä¸ºä»€ä¹ˆæœ€åä¼šå¾—åˆ°çš„ 3 ç»´çš„å¼ é‡å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä¸æ­¢è¿™ä¸€ä¸ªå·ç§¯æ ¸å•Šï¼Œæˆ‘ä»¬æœ‰å¤šä¸ªå·ç§¯æ ¸çš„æ—¶å€™ï¼Œæ¯ä¸ªå·ç§¯æ ¸éƒ½äº§ç”Ÿä¸€ä¸ªäºŒç»´çš„ç»“æœï¼Œé‚£ä¹ˆæœ€åçš„è¾“å‡ºä¸å°±æˆ 3 ç»´çš„äº†ï¼Œç¬¬ä¸‰ä¸ªç»´åº¦å°±æ˜¯å·ç§¯æ ¸çš„ä¸ªæ•°äº†ã€‚ä¸‹é¢ç”¨ä¸€ä¸ªç½‘ç«™ä¸Šçš„ç¥å›¾æ¥çœ‹ä¸€ä¸‹å¤šä¸ªå·ç§¯æ ¸çš„æå–ç‰¹å¾ï¼Œä¸‹é¢æ¯ä¸€å—æ‰«æéƒ½æ˜¯å¯¹åº”å…ƒç´ ç›¸ä¹˜å†ç›¸åŠ å¾—åˆ°æœ€åçš„çš„ç»“æœï¼š</p><p><img src="/src/640-164640111299014-165691977665652.gif" alt="å›¾ç‰‡"></p><p>ä¸Šé¢è¿™ä¸€ä¸ªæ˜¯ä¸€ä¸ªä¸‰ç»´çš„å·ç§¯ç¤ºæ„ï¼Œå¹¶ä¸”ä½¿ç”¨äº† 2 ä¸ªå·ç§¯æ ¸ã€‚æœ€åä¼šå¾—åˆ° 2 ä¸ªäºŒç»´çš„å¼ é‡ã€‚</p><p>äºŒç»´å·ç§¯å·®ä¸å¤šè¯´åˆ°è¿™é‡Œå§ï¼Œä¸æ˜ç™½æˆ‘ä¹Ÿæ²¡æ‹›äº†ï¼Œæˆ‘è¿™å·²ç»æµ‘èº«è§£æ•°äº†ï¼Œçœ‹è¿™äº›åŠ¨å›¾ä¹Ÿèƒ½çœ‹åˆ°å§ï¼Œå“ˆå“ˆã€‚æ¯•ç«Ÿè¿™é‡Œä¸»è¦è®² Pytorchï¼Œå…³äºè¿™äº›æ·±åº¦å­¦ä¹ çš„åŸºç¡€è¿™é‡Œä¸åšè¿‡å¤šçš„æè¿°ã€‚ä¸‹é¢å†ä»‹ç»ä¸€ä¸ªè½¬ç½®å·ç§¯ï¼Œçœ‹çœ‹è¿™åˆæ˜¯ä¸ªå•¥ï¼Ÿ</p><h2 id="1-3-è½¬ç½®å·ç§¯"><a href="#1-3-è½¬ç½®å·ç§¯" class="headerlink" title="1.3 è½¬ç½®å·ç§¯"></a>1.3 è½¬ç½®å·ç§¯</h2><p>è½¬ç½®å·ç§¯åˆç§°ä¸ºåå·ç§¯å’Œéƒ¨åˆ†è·¨è¶Šå·ç§¯ï¼ˆå½“ç„¶è½¬ç½®å·ç§¯è¿™ä¸ªåå­—æ¯”é€†å·ç§¯è¦å¥½ï¼ŒåŸå› åœ¨ä¸‹é¢ï¼‰ï¼Œç”¨äºå¯¹å›¾åƒè¿›è¡Œä¸Šé‡‡æ ·ã€‚åœ¨å›¾åƒåˆ†å‰²ä»»åŠ¡ä¸­ç»å¸¸è¢«ä½¿ç”¨ã€‚é¦–å…ˆä¸ºä»€ä¹ˆå®ƒå«è½¬ç½®å·ç§¯å‘¢ï¼Ÿ</p><p>åœ¨è§£é‡Šè¿™ä¸ªä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆæ¥çœ‹çœ‹æ­£å¸¸çš„å·ç§¯åœ¨ä»£ç å®ç°è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªå…·ä½“æ“ä½œï¼šå¯¹äºæ­£å¸¸çš„å·ç§¯ï¼Œæˆ‘ä»¬éœ€è¦å®ç°å¤§é‡çš„ç›¸ä¹˜ç›¸åŠ æ“ä½œï¼Œè€Œè¿™ç§ä¹˜åŠ çš„æ–¹å¼æ°å¥½æ˜¯çŸ©é˜µä¹˜æ³•æ‰€æ“…é•¿çš„ã€‚æ‰€ä»¥åœ¨ä»£ç å®ç°çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šå€ŸåŠ©çŸ©é˜µä¹˜æ³•å¿«é€Ÿçš„å®ç°å·ç§¯æ“ä½œï¼Œ é‚£ä¹ˆè¿™æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å‡è®¾å›¾åƒå°ºå¯¸ä¸º , å·ç§¯æ ¸ä¸º , padding&#x3D;0, stride&#x3D;1ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™ä¸ªå›¾ï¼š</p><p><img src="/src/640-164640111299015-165691978158855.gif" alt="å›¾ç‰‡"></p><p>é¦–å…ˆå°†å›¾åƒå°ºå¯¸çš„ æ‹‰é•¿æˆ ï¼Œ16 ä»£è¡¨æ‰€æœ‰çš„åƒç´ ï¼Œ1 ä»£è¡¨åªæœ‰ 1 å¼ å›¾ç‰‡ã€‚ç„¶å çš„å·ç§¯æ ¸ä¼šå˜æˆä¸€ä¸ª çš„ä¸€ä¸ªçŸ©é˜µï¼Œä¸€è„¸æ‡µé€¼äº†ï¼Œè¿™æ˜¯æ€ä¹ˆå˜çš„ï¼Œé¦–å…ˆè¿™ä¸ª 16ï¼Œæ˜¯å…ˆæŠŠ 9 ä¸ªæƒå€¼æ‹‰æˆä¸€åˆ—ï¼Œç„¶åä¸‹é¢è¡¥ 7 ä¸ª 0 å˜æˆ16ï¼Œ è¿™ä¸ª 4 æ˜¯æ ¹æ®æˆ‘ä»¬è¾“å‡ºçš„å°ºå¯¸è®¡ç®—çš„ï¼Œæ ¹æ®è¾“å…¥å°ºå¯¸ï¼Œå·ç§¯æ ¸å¤§å°ï¼Œpaddingï¼Œ stride ä¿¡æ¯å¯ä»¥å¾—åˆ°è¾“å‡ºå°ºå¯¸æ˜¯ ï¼Œ æ‰€ä»¥è¾“å‡ºæ˜¯ ï¼Œé‚£ä¹ˆæ‹‰æˆä¸€åˆ—å°±æ˜¯ 4ã€‚è¿™æ ·æˆ‘ä»¬çš„è¾“å‡ºï¼š</p><p>è¿™æ ·å°±å¾—åˆ°äº†æœ€åä¸€åˆ—è¾“å‡º 4 ä¸ªå…ƒç´ ï¼Œç„¶å reshape å°±å¾—åˆ°äº† çš„ä¸€ä¸ªè¾“å‡ºç‰¹å¾å›¾äº†ã€‚è¿™å°±æ˜¯ç”¨çŸ©é˜µä¹˜æ³•è¾“å‡ºä¸€ä¸ªäºŒç»´å·ç§¯çš„è¿™æ ·ä¸€ä¸ªç¤ºä¾‹ã€‚è¿™å°±æ˜¯é‚£ä¸ªè¿‡ç¨‹ï¼š</p><p><img src="/src/640-164640111299016-165691978313158.png" alt="å›¾ç‰‡"></p><p>ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹è½¬ç½®å·ç§¯æ˜¯æ€ä¹ˆæ ·çš„ï¼š</p><p>è½¬ç½®å·ç§¯æ˜¯ä¸€ä¸ªä¸Šé‡‡æ ·ï¼Œè¾“å…¥çš„å›¾åƒå°ºå¯¸æ˜¯æ¯”è¾ƒå°çš„ï¼Œç»è¿‡è½¬ç½®å·ç§¯ä¹‹åï¼Œä¼šè¾“å‡ºä¸€ä¸ªæ›´å¤§çš„å›¾åƒï¼Œçœ‹ä¸‹é¢ç¤ºæ„å›¾ï¼š</p><p><img src="/src/640-164640111299117-165691981478961.gif" alt="å›¾ç‰‡"></p><p>æˆ‘ä»¬è¿™é‡Œçš„è¾“å…¥å›¾åƒå°ºå¯¸æ˜¯ ï¼Œ å·ç§¯æ ¸ä¸º ï¼Œ padding&#x3D;0ï¼Œ stride&#x3D;1, æˆ‘ä»¬çš„è¾“å…¥å›¾åƒå°ºå¯¸æ˜¯ ï¼Œæˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªåœ¨ä»£ç ä¸­æ˜¯æ€ä¹ˆé€šè¿‡çŸ©é˜µä¹˜æ³•è¿›è¡Œå®ç°çš„ã€‚é¦–å…ˆï¼Œä¾ç„¶æ˜¯æŠŠè¾“å…¥çš„å°ºå¯¸è¿›è¡Œæ‹‰é•¿ï¼Œæˆä¸€ä¸ª çš„ä¸€ä¸ªå‘é‡ï¼Œç„¶åæˆ‘ä»¬çš„å·ç§¯æ ¸ä¼šå˜æˆ çš„ï¼Œæ³¨æ„è¿™é‡Œçš„å·ç§¯æ ¸å°ºå¯¸ï¼Œè¿™ä¸ª 4 ä¾ç„¶æ˜¯æ ¹æ®å·ç§¯æ ¸å¾—æ¥çš„ï¼Œè®°å¾—ä¸Šé¢çš„é‚£ä¸ª 16 å—ï¼Ÿæˆ‘ä»¬æ˜¯æŠŠå·ç§¯æ ¸æ‹‰é•¿ç„¶åè¡¥ 0ï¼Œ åœ¨è¿™é‡Œæˆ‘ä»¬ä¸æ˜¯è¡¥ 0 äº†ï¼Œè€Œæ˜¯é‡‡ç”¨å‰”é™¤çš„æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬æ ¹æ®ä¸Šé¢çš„å›¾åƒå¯ä»¥å‘ç°ï¼Œè™½ç„¶è¿™é‡Œçš„å·ç§¯æ ¸æœ‰ 9 ä¸ªæƒå€¼ï¼Œå¯æ˜¯èƒ½ä¸å›¾åƒç›¸ä¹˜çš„æœ€å¤šåªæœ‰å››ä¸ªï¼ˆä¹Ÿå°±æ˜¯å·ç§¯æ ¸åœ¨ä¸­é—´çš„æ—¶å€™ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œé‡‡ç”¨å‰”é™¤çš„æ–¹æ³•ï¼Œä» 9 ä¸ªæƒå€¼é‡Œé¢å‰”é™¤ 5 ä¸ªï¼Œå¾—åˆ° 4 ä¸ªæƒé‡ï¼Œ è€Œè¿™ä¸ª 16ï¼Œä¾ç„¶æ˜¯æ ¹æ®è¾“å‡ºå›¾åƒçš„å°ºå¯¸è®¡ç®—å¾—æ¥çš„ã€‚å› ä¸ºæˆ‘ä»¬è¿™é‡Œçš„è¾“å‡ºæ˜¯ ï¼Œ è¿™ä¸ªå¯ä»¥ç”¨ä¸Šé¢å°ºå¯¸è¿ç®—çš„é€†å…¬å¼ã€‚æ‰€ä»¥è¿™é‡Œçš„è¾“å‡ºï¼š</p><p>è¿™æ¬¡æ³¨æ„è¿™ä¸ªå·ç§¯æ ¸çš„å°ºå¯¸æ˜¯ ï¼Œè€Œæˆ‘ä»¬æ­£å¸¸å·ç§¯è¿ç®—çš„å·ç§¯æ ¸å°ºå¯¸ ï¼Œæ‰€ä»¥åœ¨å½¢çŠ¶ä¸Šè¿™ä¸¤ä¸ªå·ç§¯æ“ä½œå·ç§¯æ ¸æ°æ°æ˜¯è½¬ç½®çš„å…³ç³»ï¼Œè¿™ä¹Ÿå°±æ˜¯è½¬ç½®å·ç§¯çš„ç”±æ¥äº†ã€‚è¿™æ˜¯å› ä¸ºå·ç§¯æ ¸åœ¨è½¬å˜æˆçŸ©é˜µçš„æ—¶å€™ï¼Œä¸æ­£å¸¸å·ç§¯çš„å·ç§¯æ ¸å½¢çŠ¶ä¸Šæ˜¯äº’ä¸ºè½¬ç½®ï¼Œæ³¨æ„æ˜¯å½¢çŠ¶ï¼Œå…·ä½“æ•°å€¼è‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥æ­£å¸¸å·ç§¯æ ¸è½¬ç½®å·ç§¯çš„å…³ç³»å¹¶ä¸æ˜¯å¯é€†çš„ï¼Œæ•…é€†å·ç§¯è¿™ä¸ªåå­—ä¸å¥½ã€‚ä¸‹é¢å°±å…·ä½“å­¦ä¹  Pytorch æä¾›çš„è½¬ç½®å·ç§¯çš„æ–¹æ³•ï¼š</p><p><code>nn.ConvTranspose2d</code>: è½¬ç½®å·ç§¯å®ç°ä¸Šé‡‡æ ·</p><p><img src="/src/640-164640111299118-165691981878464.png" alt="å›¾ç‰‡"></p><p>è¿™ä¸ªå‚æ•°å’Œå·ç§¯è¿ç®—çš„å‚æ•°å·®ä¸å¤šï¼Œå°±ä¸å†è§£é‡Šä¸€éäº†ã€‚</p><p>ä¸‹é¢çœ‹çœ‹è½¬ç½®å·ç§¯çš„å°ºå¯¸è®¡ç®—ï¼ˆå·ç§¯è¿ç®—çš„å°ºå¯¸é€†ï¼‰ï¼š</p><ol><li>æ—  paddingï¼š</li><li>æœ‰ paddingï¼š</li><li>æœ‰ padding å’Œå­”æ´å·ç§¯ï¼š</li></ol><p>ä¸‹é¢ä»ä»£ç ä¸­çœ‹çœ‹è½¬ç½®å·ç§¯æ€ä¹ˆç”¨ï¼š</p><p><img src="/src/640-164640111299119-165691982268167.png" alt="å›¾ç‰‡"></p><p>è½¬ç½®å·ç§¯æœ‰ä¸ªé€šç—…å«åšâ€œæ£‹ç›˜æ•ˆåº”â€ï¼Œçœ‹ä¸Šé¢å›¾ï¼Œè¿™æ˜¯ç”±äºä¸å‡åŒ€é‡å å¯¼è‡´çš„ã€‚è‡³äºå¦‚ä½•è§£å†³ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚</p><p>å…³äºå°ºå¯¸å˜åŒ–ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">å·ç§¯å‰å°ºå¯¸:torch<span class="hljs-selector-class">.Size</span>(<span class="hljs-selector-attr">[1, 3, 512, 512]</span>)<br>å·ç§¯åå°ºå¯¸:torch<span class="hljs-selector-class">.Size</span>(<span class="hljs-selector-attr">[1, 1, 1025, 1025]</span>)<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°ï¼Œè¾“å…¥å›¾åƒæ˜¯ 512 çš„ï¼Œå·ç§¯æ ¸å¤§å°æ˜¯ 3ï¼Œstride&#x3D;2ï¼Œ æ‰€ä»¥è¾“å‡ºå°ºå¯¸ï¼š</p><p>ç®€å•æ¢³ç†ï¼Œå·ç§¯éƒ¨åˆ†ä¸»è¦æ˜¯å·ç§¯è¿ç®—ï¼Œå·ç§¯å°ºå¯¸çš„è®¡ç®—ï¼Œç„¶ååˆå­¦ä¹ äº†è½¬ç½®å·ç§¯ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ nn ä¸­å…¶ä»–å¸¸ç”¨çš„å±‚ã€‚</p><h1 id="2-æ± åŒ–å±‚"><a href="#2-æ± åŒ–å±‚" class="headerlink" title="2.æ± åŒ–å±‚"></a>2.æ± åŒ–å±‚</h1><p>æ± åŒ–è¿ç®—ï¼šå¯¹ä¿¡å·è¿›è¡Œâ€œ<strong>ã€Œæ”¶é›†ã€</strong>â€å¹¶â€œ<strong>ã€Œæ€»ç»“ã€</strong>â€ï¼Œ ç±»ä¼¼æ°´æ± æ”¶é›†æ°´èµ„æºï¼Œ å› è€Œç¾å…¶åæ›°æ± åŒ–å±‚ã€‚</p><ul><li>æ”¶é›†ï¼šå¤šå˜å°‘ï¼Œå›¾åƒçš„å°ºå¯¸ç”±å¤§å˜å°</li><li>æ€»ç»“ï¼šæœ€å¤§å€¼&#x2F;å¹³å‡å€¼</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæœ€å¤§æ± åŒ–çš„åŠ¨æ€å›¾çœ‹ä¸€ä¸‹ï¼ˆå¹³å‡æ± åŒ–å°±æ˜¯è¿™äº›å…ƒç´ å»å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆå€¼ï¼‰ï¼š</p><p><img src="/src/640-164640111299120-165691982723470.gif" alt="å›¾ç‰‡"></p><p>æœ€å¤§æ± åŒ–å°±æ˜¯è¿™äº›å…ƒç´ é‡Œé¢å»æœ€å¤§çš„å€¼ä½œä¸ºæœ€ç»ˆçš„ç»“æœã€‚</p><p>ä¸‹é¢çœ‹çœ‹ Pytorch æä¾›çš„æœ€å¤§æ± åŒ–å’Œå¹³å‡æ± åŒ–çš„å‡½æ•°ï¼š</p><p>nn.MaxPool2d: å¯¹äºŒç»´ä¿¡å·(å›¾åƒï¼‰è¿›è¡Œæœ€å¤§å€¼æ± åŒ–ã€‚</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299121.png" alt="å›¾ç‰‡"></p><ul><li>kernel_size: æ± åŒ–æ ¸å°ºå¯¸</li><li>stride: æ­¥é•¿</li><li>padding: å¡«å……ä¸ªæ•°</li><li>dilation: æ± åŒ–æ ¸é—´éš”å¤§å°</li><li>ceil_mode: å°ºå¯¸å‘ä¸Šå–æ•´</li><li>return_indices: è®°å½•æ± åŒ–åƒç´ ç´¢å¼•</li></ul><p>å‰å››ä¸ªå‚æ•°å’Œå·ç§¯çš„å…¶å®ç±»ä¼¼ï¼Œæœ€åä¸€ä¸ªå‚æ•°å¸¸åœ¨æœ€å¤§å€¼åæ± åŒ–çš„æ—¶å€™ä½¿ç”¨ï¼Œé‚£ä»€ä¹ˆå«æœ€å¤§å€¼åæ± åŒ–å‘¢ï¼Ÿçœ‹ä¸‹å›¾ï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299122.png" alt="å›¾ç‰‡"></p><p>åæ± åŒ–å°±æ˜¯å°†å°ºå¯¸è¾ƒå°çš„å›¾ç‰‡é€šè¿‡ä¸Šé‡‡æ ·å¾—åˆ°å°ºå¯¸è¾ƒå¤§çš„å›¾ç‰‡ï¼Œçœ‹å³è¾¹é‚£ä¸ªï¼Œé‚£æ˜¯è¿™äº›å…ƒç´ æ”¾åˆ°ä»€ä¹ˆä½ç½®å‘¢ï¼Ÿ è¿™æ—¶å€™å°±éœ€è¦å½“æ—¶æœ€å¤§å€¼æ± åŒ–è®°å½•çš„ç´¢å¼•äº†ã€‚ç”¨æ¥è®°å½•æœ€å¤§å€¼æ± åŒ–æ—¶å€™å…ƒç´ çš„ä½ç½®ï¼Œç„¶ååœ¨æœ€å¤§å€¼åæ± åŒ–çš„æ—¶å€™æŠŠå…ƒç´ æ”¾å›å»ã€‚</p><p>ä¸‹é¢çœ‹ä¸€ä¸‹æœ€å¤§æ± åŒ–çš„æ•ˆæœï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299123.png" alt="å›¾ç‰‡"></p><p>å¯ä»¥å‘ç°ï¼Œå›¾åƒåŸºæœ¬ä¸Šçœ‹ä¸å‡ºä»€ä¹ˆå·®åˆ«ï¼Œä½†æ˜¯å›¾åƒçš„å°ºå¯¸å‡å°‘äº†ä¸€åŠï¼Œ æ‰€ä»¥æ± åŒ–å±‚æ˜¯å¯ä»¥å¸®åŠ©æˆ‘ä»¬å‰”é™¤ä¸€äº›å†—ä½™åƒç´ çš„ã€‚</p><p>é™¤äº†æœ€å¤§æ± åŒ–ï¼Œè¿˜æœ‰ä¸€ä¸ªå«åšå¹³å‡æ± åŒ–ï¼š</p><p>nn.AvgPool2d: å¯¹äºŒç»´ä¿¡å·(å›¾åƒ)è¿›è¡Œå¹³å‡å€¼æ± åŒ–</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299124.png" alt="å›¾ç‰‡"></p><ul><li>count_include_pad: å¡«å……å€¼ç”¨äºè®¡ç®—</li><li>divisor_override: é™¤æ³•å› å­ï¼Œ è¿™ä¸ªæ˜¯æ±‚å¹³å‡çš„æ—¶å€™é‚£ä¸ªåˆ†æ¯ï¼Œé»˜è®¤æ˜¯æœ‰å‡ ä¸ªæ•°ç›¸åŠ å°±é™¤ä»¥å‡ ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±é€šè¿‡è¿™ä¸ªå‚æ•°è®¾å®š</li></ul><p>ä¸‹é¢ä¹Ÿæ˜¯é€šè¿‡ä»£ç çœ‹ä¸€ä¸‹ç»“æœï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299125.png" alt="å›¾ç‰‡">ä»£ç </p><p>è¿™ä¸ªå¹³å‡æ± åŒ–å’Œæœ€å¤§æ± åŒ–åœ¨è¿™ä¸Šé¢å¥½åƒçœ‹ä¸å‡ºåŒºåˆ«æ¥ï¼Œå…¶å®æœ€å¤§æ± åŒ–çš„äº®åº¦ä¼šç¨å¾®äº®ä¸€äº›ï¼Œæ¯•ç«Ÿå®ƒéƒ½æ˜¯å–çš„æœ€å¤§å€¼ï¼Œè€Œå¹³å‡æ± åŒ–æ˜¯å–å¹³å‡å€¼ã€‚</p><p>å¥½äº†ï¼Œè¿™å°±æ˜¯æ± åŒ–æ“ä½œäº†ï¼Œä¸‹é¢å†æ•´ç†ä¸€ä¸ªåæ± åŒ–æ“ä½œï¼Œå°±æ˜¯ä¸Šé¢æåˆ°çš„ nn.MaxUnpool2d: è¿™ä¸ªçš„åŠŸèƒ½æ˜¯å¯¹äºŒç»´ä¿¡å·(å›¾åƒ)è¿›è¡Œæœ€å¤§æ± åŒ–ä¸Šé‡‡æ ·</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299126.png" alt="å›¾ç‰‡"></p><p>è¿™é‡Œçš„å‚æ•°ä¸æ± åŒ–å±‚æ˜¯ç±»ä¼¼çš„ã€‚å”¯ä¸€çš„ä¸åŒå°±æ˜¯å‰å‘ä¼ æ’­çš„æ—¶å€™æˆ‘ä»¬éœ€è¦ä¼ è¿›ä¸€ä¸ª indicesï¼Œ æˆ‘ä»¬çš„ç´¢å¼•å€¼ï¼Œè¦ä¸ç„¶ä¸çŸ¥é“æŠŠè¾“å…¥çš„å…ƒç´ æ”¾åœ¨è¾“å‡ºçš„å“ªä¸ªä½ç½®ä¸Šå‘€ï¼Œå°±åƒä¸Šé¢çš„é‚£å¼ å›¾ç‰‡ï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299127.png" alt="å›¾ç‰‡"></p><p>ä¸‹é¢é€šè¿‡ä»£ç æ¥çœ‹ä¸€ä¸‹åæ± åŒ–æ“ä½œï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299228.png" alt="å›¾ç‰‡"></p><h1 id="3-çº¿æ€§å±‚"><a href="#3-çº¿æ€§å±‚" class="headerlink" title="3.çº¿æ€§å±‚"></a>3.çº¿æ€§å±‚</h1><p>çº¿æ€§å±‚åˆç§°ä¸ºå…¨è¿æ¥å±‚ï¼Œå…¶æ¯ä¸ªç¥ç»å…ƒä¸ä¸Šä¸€å±‚æ‰€æœ‰ç¥ç»å…ƒç›¸è¿å®ç°å¯¹å‰ä¸€å±‚çš„<strong>ã€Œçº¿æ€§ç»„åˆï¼Œçº¿æ€§å˜æ¢ã€</strong></p><p>çº¿æ€§å±‚çš„å…·ä½“è®¡ç®—è¿‡ç¨‹åœ¨è¿™é‡Œä¸å†èµ˜è¿°ï¼Œç›´æ¥å­¦ä¹  Pytorch çš„çº¿æ€§æ¨¡å—ã€‚</p><p><code>nn.Linear(in_features, out_features, bias=True)</code> : å¯¹ä¸€ç»´ä¿¡å·ï¼ˆå‘é‡ï¼‰è¿›è¡Œçº¿æ€§ç»„åˆ</p><ul><li>in_features: è¾“å…¥èŠ‚ç‚¹æ•°</li><li>out_features: è¾“å‡ºèŠ‚ç‚¹æ•°</li><li>bias: æ˜¯å¦éœ€è¦åç½®</li></ul><p>è®¡ç®—å…¬å¼ï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299229.png" alt="å›¾ç‰‡"></p><p>ä¸‹é¢å¯ä»¥çœ‹ä»£ç å®ç°ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus">inputs = torch<span class="hljs-selector-class">.tensor</span>(<span class="hljs-selector-attr">[[1., 2, 3]</span>])<br>linear_layer = nn<span class="hljs-selector-class">.Linear</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>linear_layer<span class="hljs-selector-class">.weight</span><span class="hljs-selector-class">.data</span> = torch<span class="hljs-selector-class">.tensor</span>(<span class="hljs-selector-attr">[[1., 1., 1.]</span>,<br>                                             <span class="hljs-selector-attr">[2., 2., 2.]</span>,<br>                                             <span class="hljs-selector-attr">[3., 3., 3.]</span>,<br>                                             <span class="hljs-selector-attr">[4., 4., 4.]</span>])<br><br>linear_layer<span class="hljs-selector-class">.bias</span><span class="hljs-selector-class">.data</span><span class="hljs-selector-class">.fill_</span>(<span class="hljs-number">0.5</span>)<br>output = <span class="hljs-built_in">linear_layer</span>(inputs)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(inputs, inputs.shape)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(linear_layer.weight.data, linear_layer.weight.data.shape)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(output, output.shape)</span></span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªå°±æ¯”è¾ƒç®€å•äº†ï¼Œä¸å¤šè¯´ã€‚</p><h1 id="4-æ¿€æ´»å‡½æ•°å±‚"><a href="#4-æ¿€æ´»å‡½æ•°å±‚" class="headerlink" title="4.æ¿€æ´»å‡½æ•°å±‚"></a>4.æ¿€æ´»å‡½æ•°å±‚</h1><p>æ¿€æ´»å‡½æ•° Udine ç‰¹å¾è¿›è¡Œéçº¿æ€§å˜æ¢ï¼Œ èµ‹äºˆå¤šå±‚ç¥ç»ç½‘ç»œå…·æœ‰<strong>ã€Œæ·±åº¦ã€</strong>çš„æ„ä¹‰ã€‚</p><p>å¦‚æœæ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„è®¡ç®—ï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299230.png" alt="å›¾ç‰‡"></p><p>æˆ‘ä»¬å¦‚æœæ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œ é‚£ä¹ˆ:</p><p>è¿™é‡Œå°±å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªä¸‰å±‚çš„å…¨è¿æ¥å±‚ï¼Œå…¶å®å’Œä¸€ä¸ªçº¿æ€§å±‚ä¸€æ ·ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬çº¿æ€§è¿ç®—çš„çŸ©é˜µä¹˜æ³•çš„ç»“åˆæ€§ï¼Œæ— è®ºå¤šå°‘ä¸ªçº¿æ€§å±‚çš„å åŠ ï¼Œå…¶å®å°±æ˜¯çŸ©é˜µçš„ä¸€ä¸ªè¿ä¹˜ï¼Œæœ€åè¿˜æ˜¯ä¸€ä¸ªçŸ©é˜µã€‚æ‰€ä»¥å¦‚æœæ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œå†æ·±çš„ç½‘ç»œä¹Ÿæ²¡æœ‰å•¥æ„ä¹‰ã€‚</p><p>ä¸‹é¢ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼š</p><ol><li>sigmoid å‡½æ•°<img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299231.png" alt="å›¾ç‰‡"></li><li>nn.tanh<img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299232.png" alt="å›¾ç‰‡"></li><li>nn.ReLU<img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299233.png" alt="å›¾ç‰‡">ReLU ç›¸å¯¹äºå‰é¢çš„ä¸¤ä¸ªï¼Œæ•ˆæœè¦å¥½ä¸€äº›ï¼Œ å› ä¸ºä¸å®¹æ˜“é€ æˆæ¢¯åº¦æ¶ˆå¤±ï¼Œä½†æ˜¯ä¾ç„¶å­˜åœ¨é—®é¢˜ï¼Œæ‰€ä»¥ä¸‹é¢å°±æ˜¯å¯¹ReLU è¿›è¡Œçš„æ”¹è¿›ã€‚<img src="https://gitee.com/xiang976young/note/raw/master/img/640-164640111299234.png" alt="å›¾ç‰‡"></li></ol><h1 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5.æ€»ç»“"></a>5.æ€»ç»“</h1><p>è¿™ç¯‡æ–‡ç« çš„å†…å®¹åˆ°è¿™é‡Œå°±å·®ä¸å¤šäº†ï¼Œè¿™æ¬¡ä»¥åŸºç¡€çš„å†…å®¹ä¸ºä¸»ï¼Œç®€å•çš„æ¢³ç†ä¸€ä¸‹ï¼Œé¦–å…ˆæˆ‘ä»¬ä¸Šæ¬¡çŸ¥é“äº†æ„å»ºç¥ç»ç½‘ç»œçš„ä¸¤ä¸ªæ­¥éª¤ï¼š<strong>æ­å»ºå­æ¨¡å—å’Œæ‹¼æ¥å­æ¨¡å—ã€‚</strong>è€Œè¿™æ¬¡å°±æ˜¯å­¦ä¹ å„ä¸ªå­æ¨¡å—çš„ä½¿ç”¨ã€‚ä»æ¯”è¾ƒé‡è¦çš„å·ç§¯å±‚å¼€å§‹ï¼Œå­¦ä¹ äº†1d 2d 3d å·ç§¯åˆ°åº•åœ¨å¹²ä»€ä¹ˆäº‹æƒ…ï¼Œé‡‡ç”¨äº†åŠ¨å›¾çš„æ–¹å¼è¿›è¡Œæ¼”ç¤ºï¼Œå·ç§¯è¿ç®—å…¶å®å°±æ˜¯é€šè¿‡ä¸åŒçš„å·ç§¯æ ¸å»æå–ä¸åŒçš„ç‰¹å¾ã€‚ç„¶åå­¦ä¹ äº† Pytorch çš„äºŒç»´å·ç§¯è¿ç®—åŠè½¬ç½®å·ç§¯è¿ç®—ï¼Œå¹¶è¿›è¡Œäº†å¯¹æ¯”å’Œåˆ†æäº†ä»£ç ä¸Šå¦‚ä½•å®ç°å·ç§¯æ“ä½œã€‚</p><p>ç¬¬äºŒå—æ˜¯æ± åŒ–è¿ç®—å’Œæ± åŒ–å±‚çš„å­¦ä¹ ï¼Œå…³äºæ± åŒ–ï¼Œä¸€èˆ¬å’Œå·ç§¯ä¸€å—ä½¿ç”¨ï¼Œç›®çš„æ˜¯æ”¶é›†å’Œåˆå¹¶å·ç§¯æå–çš„ç‰¹å¾ï¼Œå»é™¤ä¸€äº›å†—ä½™ï¼Œåˆ†ä¸ºæœ€å¤§æ± åŒ–å’Œå¹³å‡æ± åŒ–ã€‚ç„¶åå­¦ä¹ äº†å…¨è¿æ¥å±‚ï¼Œè¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œä¸ç”¨å¤šè¯´ï¼Œæœ€åæ˜¯éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„ sigmoidï¼Œtanh, reluç­‰ã€‚</p><p>ä»Šå¤©çš„å†…å®¹å°±åˆ°è¿™é‡Œï¼Œæ¨¡å‹æ¨¡å—åŸºæœ¬ä¸Šåˆ°è¿™é‡Œä¹Ÿå·®ä¸å¤šäº†ï¼Œæ ¹æ®æˆ‘ä»¬çš„é‚£ä¸ªæ­¥éª¤ï¼šæ•°æ®æ¨¡å— -&gt; æ¨¡å‹æ¨¡å— -&gt; æŸå¤±å‡½æ•° -&gt; ä¼˜åŒ–å™¨ -&gt; è¿­ä»£è®­ç»ƒã€‚æ‰€ä»¥ä¸‹ä¸€æ¬¡å¼€å§‹å­¦ä¹ æŸå¤±å‡½æ•°æ¨¡å—ï¼Œä½†æ˜¯åœ¨å­¦ä¹ æŸå¤±å‡½æ•°ä¹‹å‰ï¼Œè¿˜å¾—å…ˆçœ‹ä¸€ä¸‹å¸¸ç”¨çš„æƒé‡åˆå§‹åŒ–æ–¹æ³•ï¼Œè¿™ä¸ªå¯¹äºæ¨¡å‹æ¥è¯´ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚ï¿½ï¿½æ¨¡å‹æ¥è¯´ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”â€”å®‰è£…æ·±åº¦å­¦ä¹ ç¯å¢ƒ torchã€pyg</title>
    <link href="/2022/07/01/DeepLearning/%E5%AE%89%E8%A3%85pytorch/"/>
    <url>/2022/07/01/DeepLearning/%E5%AE%89%E8%A3%85pytorch/</url>
    
    <content type="html"><![CDATA[<h1 id="PyTorchâ€”â€”é…ç½®æ·±åº¦å­¦ä¹ ç¯å¢ƒ"><a href="#PyTorchâ€”â€”é…ç½®æ·±åº¦å­¦ä¹ ç¯å¢ƒ" class="headerlink" title="PyTorchâ€”â€”é…ç½®æ·±åº¦å­¦ä¹ ç¯å¢ƒ"></a><a href="https://www.cnblogs.com/young978/p/15686819.html">PyTorchâ€”â€”é…ç½®æ·±åº¦å­¦ä¹ ç¯å¢ƒ</a></h1><p>è¿˜åœ¨ä¸ºå„ç§åŒ…çš„ç‰ˆæœ¬åŒ¹é…å‘æ„ï¼Œè¿˜åœ¨å†¥æƒ³è¿™ä¸ªé”™è¯¯åˆ°åº•ä»ä½•è€Œæ¥ã€‚<br><strong>æ”¾å¼ƒå§ï¼Œé‡è£…æ‰æ˜¯ç‹é“ã€‚</strong></p><h2 id="å®‰è£…Cuda"><a href="#å®‰è£…Cuda" class="headerlink" title="å®‰è£…Cuda"></a>å®‰è£…Cuda</h2><p>tensoråœ¨GPUä¸Šè¿è¡Œæ˜¯å¯ä»¥æé«˜ä¸€å®šçš„å¤„ç†æ•ˆæœçš„<br>é¦–å…ˆéœ€è¦æ£€æŸ¥ä¸€ä¸‹ä½ çš„GPUï¼ŒæŸ¥çœ‹ä¸€ä¸‹ç‰ˆæœ¬<br>å¾ˆç®€å•è¿›å…¥ä»»åŠ¡ç®¡ç†å™¨ï¼Œæ‰“å¼€æ€§èƒ½ï¼Œå°±èƒ½çœ‹è§ä½ GPUçš„å‚æ•°å•¦ï¼ˆä¸€èˆ¬æ¸¸æˆç¬”è®°æœ¬æ˜¯æœ‰ä¸¤å¼ æ˜¾å¡çš„ï¼Œä¸€å¼ ç‹¬æ˜¾ï¼Œä¸€å¼ é›†æ˜¾ï¼‰</p><p><img src="/src/1339557184.png" alt="img"></p><p>å‰å¾€<a href="https://developer.nvidia.com/cuda-downloads?target_os=Windows&target_arch=x86_64&target_version=10&target_type=exe_local">Cudaå®˜ç½‘</a> ä¸‹è½½é©±åŠ¨ï¼Œå®‰è£…å³å¯</p><p><img src="/src/1206934061.png" alt="img"></p><p>ä¸‹è½½åï¼Œé»˜è®¤å®‰è£…å°±å¥½ã€‚ç„¶åæ‰“å¼€cmdï¼Œè¾“å…¥ nvidia-smi å³å¯æŸ¥çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs visual">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ <br>conda config --add channels http://mirrors.ustc.edu.cn/anaconda/pkgs/free/<br>conda config --set show_channel_urls yes<br></code></pre></td></tr></table></figure><p><img src="/src/1805709415.png" alt="img"></p><h2 id="å®‰è£…Anaconda"><a href="#å®‰è£…Anaconda" class="headerlink" title="å®‰è£…Anaconda"></a>å®‰è£…Anaconda</h2><p>ç¡¬ä»¶å¥½äº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé›†æˆç¯å¢ƒå¸®æˆ‘ä»¬ç®¡ç†åŒ…å’Œä»–ä»¬ä¹‹é—´çš„ä¾èµ– anacondaå½“ç„¶æ˜¯å¾ˆå¥½çš„é€‰æ‹©</p><p>è¿™é‡Œæ¨èä¸¤ä¸ªè·¯å¾„ï¼š<a href="https://www.anaconda.com/products/individual">Anacondaå®˜ç½‘</a>å’Œ<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">æ¸…åè½¯ä»¶é•œåƒå›­</a></p><p>åŒæ ·ä¹Ÿæ˜¯ä¸‹è½½å®‰è£…å³å¯ï¼Œæ³¨æ„å‹¾é€‰é»˜è®¤åˆ°Pathç¯å¢ƒå˜é‡å°±è¡Œã€‚</p><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„ï¼Œä¿®æ”¹ä¸€ä¸‹anacondaçš„æºï¼šæ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™å’Œä¸­å›½ç§‘æŠ€å¤§å­¦é•œåƒç«™ æ–¹ä¾¿æˆ‘ä»¬ä¸‹è½½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell">conda config --add channels http://mirrors.ustc.edu.cn/anaconda/pkgs/free/<br>conda config --add channels http://mirrors.ustc.edu.cn/anaconda/pkgs/main/<br>conda config --add channels http://mirrors.ustc.edu.cn/anaconda/cloud/menpo/<br>conda config --add channels http://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/<br>conda config --add channels http://mirrors.ustc.edu.cn/anaconda/cloud/msys2/<br>conda config --add channels http://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/<br><br>conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ <br>conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/<br>conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/ <br>conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/<br>conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/<br>conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/peterjc123/<br>conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/<br>conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/    #å®‰è£…pytorchçš„å°ä¼™ä¼´è¿™ä¸ªæºä¸€å®šä¸è¦æ¼<br><br>conda config --set show_channel_urls yes<br></code></pre></td></tr></table></figure><blockquote><p>è¡·å¿ƒæé†’ç½‘å€ä¸€å®šè¦æ˜¯<strong>http</strong> ä¸èƒ½æ˜¯<strong>https</strong>ï¼Œè¦ä¸ç„¶ä¼šè®¿é—®æŠ¥é”™ã€‚ ç½‘å€ä¹Ÿä¸éœ€è¦åŠ å¼•å·<strong>åˆ‡è®°</strong></p></blockquote><p>å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨å» Cï¼šç”¨æˆ·ä¸‹ä¿®æ”¹.condarcï¼ˆè¿™é‡Œè´´å‡ºæˆ‘çš„æ–‡ä»¶å†…å®¹ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs sh">ssl_verify: <span class="hljs-literal">true</span><br>channels:<br>  - defaults<br>show_channel_urls: <span class="hljs-literal">true</span><br>channel_alias: https://mirrors.tuna.tsinghua.edu.cn/anaconda<br>default_channels:<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/peterjc123/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/<br>  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/<br>custom_channels:<br>  conda-forge: http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud<br>  msys2: http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud<br>  bioconda: http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud<br>  menpo: http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud<br>  pytorch: http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud<br>  simpleitk: http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹condaç‰ˆæœ¬ <code>conda -version</code></p><p>å‡çº§condaå·¥å…·åŒ… <code>conda upgrade --all</code> </p><p>æŸ¥çœ‹å½“å‰condaç¯å¢ƒ <code>conda env list</code> </p><p>ç”Ÿæˆæ‰€éœ€ç¯å¢ƒçš„txtæ–‡ä»¶ <code>pip freeze &gt; requirements.txt</code></p><p>condaå®‰è£…txt  <code>conda install --yes --file requirements.txt</code></p><p>condaç¯å¢ƒï¼Œå¯¼å‡ºæ ¼å¼ä¸º.ymlæ–‡ä»¶æˆ–.txtæ–‡ä»¶ï¼š <code>conda env export &gt; requirements.yml</code></p><p><code>conda list -e &gt; requirements.txt</code></p><p>å®‰è£…ç¯å¢ƒ : <code>conda env create -f requirements.yml</code></p><p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ <code>conda create -n &lt;name&gt; python=3.8</code> è¿™æ ·anacondaå°±ä¼šå»æ‰¾pythonå¯¹åº”çš„åŒ… è€å¿ƒç­‰å¾…å°±å¥½</p><p>åˆ é™¤ç¯å¢ƒ<code>conda remove -n &lt;name&gt; --all</code></p><p>æ¿€æ´»ç¯å¢ƒ <code>conda activate py38</code> æˆ‘è¿™é‡Œçš„py38å°±æ˜¯æˆ‘æ–°å»ºçš„è™šæ‹Ÿç¯å¢ƒåç§°</p><p>condaè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ å°±æ˜¯å¯ä»¥ç‰ˆæœ¬å›æ»š æ–¹ä¾¿å›åˆ°ä¹‹é—´çš„çŠ¶æ€</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">conda list <span class="hljs-comment">--revisions</span><br></code></pre></td></tr></table></figure><p><img src="/src/1358582774.png" alt="img"></p><p> è‹¥æƒ³å›æ»šåˆ°æŸä¸ªæ—¶åˆ»ï¼Œç›´æ¥è¾“å…¥é‚£ä¸ªç‰ˆæœ¬å·å°±è¡Œäº†ï¼Œä¾‹å¦‚æˆ‘æƒ³å›æ»šåˆ°ç¬¬10ä¸ªç‰ˆæœ¬ï¼Œå³</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">conda install <span class="hljs-comment">--revision 10</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…torch"><a href="#å®‰è£…torch" class="headerlink" title="å®‰è£…torch"></a>å®‰è£…torch</h2><p>ç›´æ¥åœ¨<a href="https://pytorch.org/">å®˜ç½‘</a>å¯»æ‰¾å°±å¥½äº†ï¼Œå¯¹åº”å¥½è‡ªå·±çš„æ“ä½œå¹³å°ï¼Œå’Œcudaç‰ˆæœ¬ä¸‹è½½å³å¯</p><p><img src="/src/1001831579.png" alt="img"></p><p> ä¹‹å‰è®¾ç½®çš„æºï¼Œä¼šä¸ºæˆ‘ä»¬æ‰¾åˆ°å›½å†…çš„é•œåƒè·¯å¾„ï¼ŒåŠ å¿«ä¸‹è½½é€Ÿåº¦</p><h2 id="æµ‹è¯•torch"><a href="#æµ‹è¯•torch" class="headerlink" title="æµ‹è¯•torch"></a>æµ‹è¯•torch</h2><p>å¦‚æœåœ¨Pycharmå†…ï¼Œç›´æ¥è¿›å…¥projecté€‰æ‹©æ–°å»ºè™šæ‹Ÿç¯å¢ƒçš„python.exeå³å¯<br>å¦‚æœåœ¨Jupyter Notebookä¸­ï¼Œåˆ™éœ€è¦å¤šå®‰è£…ä¸€ä¸ªåŒ…  nb_conda<br>å®‰è£…å®Œä»¥åä½ å°±ä¼šå‘ç°ä½ çš„jupyterä¼šå¤šä¸€ä¸ªcondaæ’å¡ï¼Œå¯ä»¥æŸ¥çœ‹condaçš„è™šæ‹Ÿç¯å¢ƒ</p><p><img src="/src/842195767.png" alt="img"></p><p>è¿è¡Œçš„ç¨‹åºçš„æ—¶å€™ï¼Œæ³¨æ„é€‰æ‹©kernelæ˜¯å“ªä¸ªç¯å¢ƒçš„ ä»¥å…å‘ç”Ÿç‰ˆæœ¬é”™è¯¯<br>è¿™äº›éƒ½æ˜¯æ˜¾ç¤ºtorchä¿¡æ¯çš„ä¸€äº›å‘½ä»¤å¯ä»¥ç”¨äºæµ‹è¯•çš„å“¦</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import torch<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(torch.__version__)</span></span><br>torch<span class="hljs-selector-class">.cuda</span><span class="hljs-selector-class">.is_available</span>()<br>torch<span class="hljs-selector-class">.cuda</span><span class="hljs-selector-class">.device_count</span>()<br>torch<span class="hljs-selector-class">.cuda</span><span class="hljs-selector-class">.get_device_name</span>(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p><img src="/src/1271380634.png" alt="img"></p><h2 id="å®‰è£…PyG"><a href="#å®‰è£…PyG" class="headerlink" title="å®‰è£…PyG"></a>å®‰è£…PyG</h2><p>é¦–å…ˆå®‰è£…torch-geometricä¹‹å‰éœ€è¦å‡†å¤‡çš„æ˜¯ï¼Œè¦æŸ¥çœ‹å¥½ä½ å½“å‰çš„ç¯å¢ƒéœ€è¦é…ç½®çš„æ–‡ä»¶</p><p>ç¡¬æ€§è¦æ±‚pythonç‰ˆæœ¬åœ¨3.7-3.10ä¹‹é—´ã€Pytorchç‰ˆæœ¬æœ€ä½ä¸º1.8ã€‚</p><p>åŒæ ·ä¹Ÿæ˜¯è¦åœ¨<a href="https://pytorch-geometric.readthedocs.io/en/latest/notes/installation.html">å®˜ç½‘</a>å¯»æ‰¾ï¼Œå¯¹åº”å¥½è‡ªå·±çš„æ“ä½œå¹³å°ï¼Œå’Œtorchç‰ˆæœ¬ã€cudaç‰ˆæœ¬ã€‚è¯¦ç»†çš„ç‰ˆæœ¬å¯¹åº”åœ¨<a href="https://data.pyg.org/whl/">è¿™</a></p><p>å¯¹äºç›®å‰æ¯”è¾ƒç¨³å®šçš„torch1.12ç‰ˆæœ¬ï¼Œåœ¨condaçš„é•œåƒæºä¸­æ²¡ç›´æ¥çš„ç‰ˆæœ¬å¯¹åº”pygã€‚å³ä½¿æ¢æˆ1.11ç‰ˆæœ¬çš„ è¿è¡Œ<code>conda install pyg -c pyg</code>ä»£ç åæµ‹è¯•çš„ä»ç„¶å­˜åœ¨ä¸€ç‚¹å°é—®é¢˜</p><p>è¿™é‡Œæˆ‘ä¹‹å‰å®‰è£…çš„ç¯å¢ƒæ˜¯python3.8å’Œtorch1.11.0ï¼Œcuda11.5</p><p>æ‰€ä»¥æˆ‘è¿™é‡Œå®‰è£…çš„ä»£ç å°±æ˜¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install torch-scatter -f https://data.pyg.org/whl/torch-1.11.0+cu113.html<br>pip install torch-sparse -f https://data.pyg.org/whl/torch-1.11.0+cu113.html<br>pip install torch-geometric<br>pip install torch-cluster -f https://data.pyg.org/whl/torch-1.11.0+cu113.html<br>pip install torch-spline-conv -f https://data.pyg.org/whl/torch-1.11.0+cu113.html<br></code></pre></td></tr></table></figure><p>å½“ç„¶å¦‚æœå®‰è£…å‡ºç°é”™è¯¯ï¼Œä¸å¦¨çœ‹çœ‹pygå®˜ç½‘æœ€ä¸‹é¢æœ‰ä¸€äº›<a href="https://pytorch-geometric.readthedocs.io/en/latest/notes/installation.html#id1">Frequently Asked Questions</a>è¿˜æ˜¯ç›¸å½“ä¸é”™çš„</p><blockquote><p>åœ¨Neural Network 2022 å…³äºGTNçš„æ–‡ç« ä¸­ï¼Œæ¶‰åŠåˆ°ä¸€ä¸ªå…³äºtorch-sparse-oldçš„åŒ…</p><p>ä»ä½œè€…çš„mdä¸­å¯ä»¥çœ‹åˆ°ï¼Œä¸ºäº†è§£å†³torch.geometricåˆ é™¤äº†ç¨€ç–çŸ©é˜µçš„backward()è¿™ä¸ªbugï¼Œä»–ä»¬æŠŠè‡ªå·±çš„torch-sparseä¸Šä¼ åˆ°pipä¸Šï¼Œåå­—æ˜¯torch-sparse-oldã€‚</p><p>ä½†æ˜¯<code>pip install torch-sparse-old</code> ä¼šå‡ºç°é”™è¯¯</p><p><code>cuda/spspmm_kernel.cu(76): error: identifier &quot;cusparseXcsrgemmNnz&quot; is undefined</code><br><code>cuda/spspmm_kernel.cu(84): error: identifier &quot;cusparseScsrgemm&quot; is undefined</code><br><code>cuda/spspmm_kernel.cu(84): error: identifier &quot;cusparseDcsrgemm&quot; is undefined</code></p><p>è¿™ä¸ªé—®é¢˜æˆ‘å°è¯•äº†å¾ˆå¤šæ–¹æ³•ï¼ŒåŒ…æ‹¬ä½†ä¸ä»…é™äºä¿®æ”¹gccï¼Œä¿®æ”¹cudaç‰ˆæœ¬ï¼Œä¿®æ”¹pythonã€torchç‰ˆæœ¬ï¼Œä»¥åŠåˆ é™¤ç¯å¢ƒé‡æ–°æ¥è¿‡ã€‚åœ¨è¿™ä¸ªå…³äºpytorch_sparseçš„<a href="https://github.com/rusty1s/pytorch_sparse/issues/167">issue</a>å†…æˆ‘ä¹ŸåŒæ ·å‘ç°ä¸€ä¸ªæœ‹å‹æœ‰åŒæ ·çš„é”™è¯¯ã€‚ä½†æ˜¯å¹¶æ²¡æœ‰çœ‹åˆ°å¥½çš„è§£å†³æ–¹æ³•</p><p>æˆ‘åæ¥ç›´æ¥åœ¨ä»£ç ä¸­æŠŠ import torch_sparse_old ä¿®æ­£ä¸º import torch_sparse as  torch_sparse_old.</p><p>ç«Ÿç„¶æƒŠå¥‡çš„å‘ç°å¯ä»¥è¿è¡Œä»£ç ï¼Œ æŒ‰ç†è¯´backward()å­˜åœ¨é—®é¢˜ï¼Œmodelçš„trainæ˜¯æ— æ³•æ­£å¸¸è¿›è¡Œçš„ã€‚é‚£ä¹ˆä¸€ä¸ªåˆç†çš„è§£é‡Šå°±æ˜¯ï¼Œæ–°çš„torch-sparseã€torch-geometricå·²ç»ä¿®æ­£äº†è¿™é‡Œæ— æ³•ä¼ æ’­çš„é—®é¢˜ã€‚</p></blockquote><p>ï¿½é—®é¢˜ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”æŸå¤±å‡½æ•°å°è®°</title>
    <link href="/2022/07/01/DeepLearning/%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0/"/>
    <url>/2022/07/01/DeepLearning/%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="æŸå¤±å‡½æ•°å°è®°"><a href="#æŸå¤±å‡½æ•°å°è®°" class="headerlink" title="æŸå¤±å‡½æ•°å°è®°"></a>æŸå¤±å‡½æ•°å°è®°</h1><h2 id="1-L-1-èŒƒæ•°æŸå¤±"><a href="#1-L-1-èŒƒæ•°æŸå¤±" class="headerlink" title="1.$L_1$èŒƒæ•°æŸå¤±"></a>1.<strong>$L_1$èŒƒæ•°æŸå¤±</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.nn.L1Lossï¼ˆsize_average = <span class="hljs-literal">None</span>ï¼Œreduce = <span class="hljs-literal">None</span>ï¼Œreduction = <span class="hljs-string">&#x27;mean&#x27;</span>ï¼‰<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼š<br>        size_averageã€reduceå·²ç»å¼ƒç”¨äº†<br>        reduction-ä¸‰ä¸ªå€¼ï¼Œnone: ä¸ä½¿ç”¨å‡å°‘ï¼›mean:è¿”å›losså’Œçš„å¹³å‡å€¼ï¼›sum:è¿”å›lossçš„å’Œã€‚é»˜è®¤ï¼šmeanã€‚</p><h2 id="2-å‡æ–¹è¯¯å·®æŸå¤±-MSELoss"><a href="#2-å‡æ–¹è¯¯å·®æŸå¤±-MSELoss" class="headerlink" title="2. å‡æ–¹è¯¯å·®æŸå¤± MSELoss"></a>2. <strong>å‡æ–¹è¯¯å·®æŸå¤± MSELoss</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.nn.MSELoss(reduction=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼šreduction-ä¸‰ä¸ªå€¼ï¼Œnone: ä¸ä½¿ç”¨çº¦ç®€ï¼›mean:è¿”å›losså’Œçš„å¹³å‡å€¼ï¼›sum:è¿”å›lossçš„å’Œã€‚é»˜è®¤ï¼šmeanã€‚</p><h2 id="3-äº¤å‰ç†µæŸå¤±-CrossEntropyLoss"><a href="#3-äº¤å‰ç†µæŸå¤±-CrossEntropyLoss" class="headerlink" title="3. äº¤å‰ç†µæŸå¤± CrossEntropyLoss"></a>3. <strong>äº¤å‰ç†µæŸå¤± CrossEntropyLoss</strong></h2><p>å½“è®­ç»ƒæœ‰ C ä¸ªç±»åˆ«çš„åˆ†ç±»é—®é¢˜æ—¶å¾ˆæœ‰æ•ˆ. å¯é€‰å‚æ•° weight å¿…é¡»æ˜¯ä¸€ä¸ª1ç»´ Tensor, æƒé‡å°†è¢«åˆ†é…ç»™å„ä¸ªç±»åˆ«. å¯¹äºä¸å¹³è¡¡çš„è®­ç»ƒé›†éå¸¸æœ‰æ•ˆã€‚</p><p>åœ¨å¤šåˆ†ç±»ä»»åŠ¡ä¸­ï¼Œç»å¸¸é‡‡ç”¨ softmax æ¿€æ´»å‡½æ•°+äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œå› ä¸ºäº¤å‰ç†µæè¿°äº†ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒçš„å·®å¼‚ï¼Œç„¶è€Œç¥ç»ç½‘ç»œè¾“å‡ºçš„æ˜¯å‘é‡ï¼Œå¹¶ä¸æ˜¯æ¦‚ç‡åˆ†å¸ƒçš„å½¢å¼ã€‚æ‰€ä»¥éœ€è¦ softmaxæ¿€æ´»å‡½æ•°å°†ä¸€ä¸ªå‘é‡è¿›è¡Œâ€œå½’ä¸€åŒ–â€æˆæ¦‚ç‡åˆ†å¸ƒçš„å½¢å¼ï¼Œå†é‡‡ç”¨äº¤å‰ç†µæŸå¤±å‡½æ•°è®¡ç®— lossã€‚<br>$$<br>\operatorname{loss}(x, \text { class })&#x3D;w e i g h t[\text { class }]\left(-x[\text { class }]+\log \left(\sum_{\jmath} \exp (x[j])\right)\right)<br>$$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.nn.CrossEntropyLoss(weight=<span class="hljs-literal">None</span>, ignore_index=-<span class="hljs-number">100</span>, reduction=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼š</p><ul><li>weight (Tensor, optional) â€“ è‡ªå®šä¹‰çš„æ¯ä¸ªç±»åˆ«çš„æƒé‡. å¿…é¡»æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º C çš„ Tensor</li><li>ignore_index (int, optional) â€“ è®¾ç½®ä¸€ä¸ªç›®æ ‡å€¼, è¯¥ç›®æ ‡å€¼ä¼šè¢«å¿½ç•¥, ä»è€Œä¸ä¼šå½±å“åˆ° è¾“å…¥çš„æ¢¯åº¦ã€‚</li><li>reduction-ä¸‰ä¸ªå€¼ï¼Œnone: ä¸ä½¿ç”¨çº¦ç®€ï¼›mean:è¿”å›losså’Œçš„å¹³å‡å€¼ï¼›sum:è¿”å›lossçš„å’Œã€‚é»˜è®¤ï¼šmeanã€‚</li></ul><h2 id="4-KL-æ•£åº¦æŸå¤±-KLDivLoss"><a href="#4-KL-æ•£åº¦æŸå¤±-KLDivLoss" class="headerlink" title="4. KL æ•£åº¦æŸå¤± KLDivLoss"></a>4. <strong>KL æ•£åº¦æŸå¤± KLDivLoss</strong></h2><p>è®¡ç®— input å’Œ target ä¹‹é—´çš„ KL æ•£åº¦ã€‚KL æ•£åº¦å¯ç”¨äºè¡¡é‡ä¸åŒçš„è¿ç»­åˆ†å¸ƒä¹‹é—´çš„è·ç¦», åœ¨è¿ç»­çš„è¾“å‡ºåˆ†å¸ƒçš„ç©ºé—´ä¸Š(ç¦»æ•£é‡‡æ ·)ä¸Šè¿›è¡Œç›´æ¥å›å½’æ—¶å¾ˆæœ‰æ•ˆ.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.nn.KLDivLoss(reduction=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼šreduction-ä¸‰ä¸ªå€¼ï¼Œnone: ä¸ä½¿ç”¨çº¦ç®€ï¼›mean:è¿”å›losså’Œçš„å¹³å‡å€¼ï¼›sum:è¿”å›lossçš„å’Œã€‚é»˜è®¤ï¼šmeanã€‚</p><h2 id="5-äºŒè¿›åˆ¶äº¤å‰ç†µæŸå¤±-BCELoss"><a href="#5-äºŒè¿›åˆ¶äº¤å‰ç†µæŸå¤±-BCELoss" class="headerlink" title="5.äºŒè¿›åˆ¶äº¤å‰ç†µæŸå¤± BCELoss"></a>5.<strong>äºŒè¿›åˆ¶äº¤å‰ç†µæŸå¤± BCELoss</strong></h2><p>äºŒåˆ†ç±»ä»»åŠ¡æ—¶çš„äº¤å‰ç†µè®¡ç®—å‡½æ•°ã€‚ç”¨äºæµ‹é‡é‡æ„çš„è¯¯å·®, ä¾‹å¦‚è‡ªåŠ¨ç¼–ç æœº. æ³¨æ„ç›®æ ‡çš„å€¼ t[i] çš„èŒƒå›´ä¸º0åˆ°1ä¹‹é—´.</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.BCELoss(<span class="hljs-attribute">weight</span>=None, <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼š</p><ul><li>weight (Tensor, optional) â€“ è‡ªå®šä¹‰çš„æ¯ä¸ª batch å…ƒç´ çš„ loss çš„æƒé‡. å¿…é¡»æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º â€œnbatchâ€ çš„ çš„ Tensor</li><li>pos_weight(Tensor, optional) â€“ è‡ªå®šä¹‰çš„æ¯ä¸ªæ­£æ ·æœ¬çš„ loss çš„æƒé‡. å¿…é¡»æ˜¯ä¸€ä¸ªé•¿åº¦ ä¸º â€œclassesâ€ çš„ Tensor</li></ul><h2 id="6-BCEWithLogitsLoss"><a href="#6-BCEWithLogitsLoss" class="headerlink" title="6.** BCEWithLogitsLoss**"></a>6.** BCEWithLogitsLoss**</h2><p>BCEWithLogitsLossæŸå¤±å‡½æ•°æŠŠ Sigmoid å±‚é›†æˆåˆ°äº† BCELoss ç±»ä¸­. è¯¥ç‰ˆæ¯”ç”¨ä¸€ä¸ªç®€å•çš„ Sigmoid å±‚å’Œ BCELoss åœ¨æ•°å€¼ä¸Šæ›´ç¨³å®š, å› ä¸ºæŠŠè¿™ä¸¤ä¸ªæ“ä½œåˆå¹¶ä¸ºä¸€ä¸ªå±‚ä¹‹å, å¯ä»¥åˆ©ç”¨ log-sum-exp çš„ æŠ€å·§æ¥å®ç°æ•°å€¼ç¨³å®š.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.nn.BCEWithLogitsLoss(weight=<span class="hljs-literal">None</span>, reduction=<span class="hljs-string">&#x27;mean&#x27;</span>, pos_weight=<span class="hljs-literal">None</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼š</p><p>weight (Tensor, optional) â€“ è‡ªå®šä¹‰çš„æ¯ä¸ª batch å…ƒç´ çš„ loss çš„æƒé‡. å¿…é¡»æ˜¯ä¸€ä¸ªé•¿åº¦ ä¸º â€œnbatchâ€ çš„ Tensor</p><p>pos_weight(Tensor, optional) â€“ è‡ªå®šä¹‰çš„æ¯ä¸ªæ­£æ ·æœ¬çš„ loss çš„æƒé‡. å¿…é¡»æ˜¯ä¸€ä¸ªé•¿åº¦ ä¸º â€œclassesâ€ çš„ Tensor</p><h2 id="7-MarginRankingLoss"><a href="#7-MarginRankingLoss" class="headerlink" title="7. MarginRankingLoss"></a>7. <strong>MarginRankingLoss</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.nn.MarginRankingLoss(margin=<span class="hljs-number">0.0</span>, reduction=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å¯¹äº mini-batch(å°æ‰¹é‡) ä¸­æ¯ä¸ªå®ä¾‹çš„æŸå¤±å‡½æ•°å¦‚ä¸‹:<br>$$<br>\operatorname{loss}(x, y)&#x3D;\max (0,-y *(x 1-x 2)+\text { margin })<br>$$<br>å‚æ•°ï¼šmargin:é»˜è®¤å€¼0</p><h2 id="8-HingeEmbeddingLoss"><a href="#8-HingeEmbeddingLoss" class="headerlink" title="8. HingeEmbeddingLoss"></a>8. <strong>HingeEmbeddingLoss</strong></h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.HingeEmbeddingLoss(<span class="hljs-attribute">margin</span>=1.0,  <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å¯¹äº mini-batch(å°æ‰¹é‡) ä¸­æ¯ä¸ªå®ä¾‹çš„æŸå¤±å‡½æ•°å¦‚ä¸‹:<br>$$<br>l_{n}&#x3D;\left{\begin{array}{ll}<br>x_{n}, &amp; \text { if } y_{n}&#x3D;1 \<br>\max \left{0, \Delta-x_{n}\right}, &amp; \text { if } y_{n}&#x3D;-1<br>\end{array}\right.<br>$$<br>å‚æ•°ï¼šmargin:é»˜è®¤å€¼1</p><h2 id="9-å¤šæ ‡ç­¾åˆ†ç±»æŸå¤±-MultiLabelMarginLoss"><a href="#9-å¤šæ ‡ç­¾åˆ†ç±»æŸå¤±-MultiLabelMarginLoss" class="headerlink" title="9. å¤šæ ‡ç­¾åˆ†ç±»æŸå¤± MultiLabelMarginLoss"></a>9. <strong>å¤šæ ‡ç­¾åˆ†ç±»æŸå¤± MultiLabelMarginLoss</strong></h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">torch.nn.<span class="hljs-constructor">MultiLabelMarginLoss(<span class="hljs-params">reduction</span>=&#x27;<span class="hljs-params">mean</span>&#x27;)</span><br></code></pre></td></tr></table></figure><p>å¯¹äºmini-batch(å°æ‰¹é‡) ä¸­çš„æ¯ä¸ªæ ·æœ¬æŒ‰å¦‚ä¸‹å…¬å¼è®¡ç®—æŸå¤±:<br>$$<br>\operatorname{loss}(x, y)&#x3D;\sum_{i \jmath} \frac{\max (0,1-(x\lfloor y \mid j\rfloor|-x| i\rfloor))}{\mathrm{x} \cdot \operatorname{size}(0)}<br>$$</p><h2 id="10-å¹³æ»‘ç‰ˆL1æŸå¤±-SmoothL1Loss"><a href="#10-å¹³æ»‘ç‰ˆL1æŸå¤±-SmoothL1Loss" class="headerlink" title="10.å¹³æ»‘ç‰ˆL1æŸå¤± SmoothL1Loss"></a>10.<strong>å¹³æ»‘ç‰ˆL1æŸå¤± SmoothL1Loss</strong></h2><p>ä¹Ÿè¢«ç§°ä¸º Huber æŸå¤±å‡½æ•°ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">torch.nn.<span class="hljs-constructor">SmoothL1Loss(<span class="hljs-params">reduction</span>=&#x27;<span class="hljs-params">mean</span>&#x27;)</span><br></code></pre></td></tr></table></figure><p>$$<br>loss(x, y)&#x3D;\frac{1}{n}\sum_iz_i \<br>z_i&#x3D;\left{\begin{array}{ll}<br>0.5(x_i-y_i)^2, &amp; \text { if } |x_i-y_i| \lt 1 \<br>|x_i-y_i|-0.5, &amp;  otherwise<br>\end{array}\right.<br>$$</p><h2 id="11-2åˆ†ç±»çš„logisticæŸå¤±-SoftMarginLoss"><a href="#11-2åˆ†ç±»çš„logisticæŸå¤±-SoftMarginLoss" class="headerlink" title="11.2åˆ†ç±»çš„logisticæŸå¤± SoftMarginLoss"></a>11.<strong>2åˆ†ç±»çš„logisticæŸå¤± SoftMarginLoss</strong></h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">torch.nn.<span class="hljs-constructor">SoftMarginLoss(<span class="hljs-params">reduction</span>=&#x27;<span class="hljs-params">mean</span>&#x27;)</span><br></code></pre></td></tr></table></figure><p>$$<br>\operatorname{loss}(x, y)&#x3D;-\frac{1}{C} * \sum_{i} y[i] * \log \left((1+\exp (-x[i]))^{-1}\right)+(1-y[i]) * \log \left(\frac{\exp (-x[i])}{(1+\exp (-x[i]))}\right)<br>$$</p><h2 id="12-å¤šæ ‡ç­¾-one-versus-all-æŸå¤±-MultiLabelSoftMarginLoss"><a href="#12-å¤šæ ‡ç­¾-one-versus-all-æŸå¤±-MultiLabelSoftMarginLoss" class="headerlink" title="12.å¤šæ ‡ç­¾ one-versus-all æŸå¤± MultiLabelSoftMarginLoss"></a>12.<strong>å¤šæ ‡ç­¾ one-versus-all æŸå¤± MultiLabelSoftMarginLoss</strong></h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.MultiLabelSoftMarginLoss(<span class="hljs-attribute">weight</span>=None, <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>$$<br>\operatorname{loss}(x, y)&#x3D;-\frac{1}{C} * \sum_{i} y[i] * \log \left((1+\exp (-x[i]))^{-1}\right)+(1-y[i]) * \log \left(\frac{\exp (-x[i])}{(1+\exp (-x[i]))}\right)<br>$$</p><h2 id="13-cosine-æŸå¤±-CosineEmbeddingLoss"><a href="#13-cosine-æŸå¤±-CosineEmbeddingLoss" class="headerlink" title="13. cosine æŸå¤± CosineEmbeddingLoss"></a><strong>13. cosine æŸå¤± CosineEmbeddingLoss</strong></h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.CosineEmbeddingLoss(<span class="hljs-attribute">margin</span>=0.0, <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>$$<br>\operatorname{loss}(x, y)&#x3D;\left{\begin{array}{ll}<br>1-\cos \left(x_{1}, x_{2}\right), &amp; \text { if } y&#x3D;&#x3D;1 \<br>\max \left(0, \cos \left(x_{1}, x_{2}\right)-\operatorname{margin}\right), &amp; \text { if } y&#x3D;&#x3D;-1<br>\end{array}\right.<br>$$</p><p>å‚æ•°ï¼šmargin:é»˜è®¤å€¼0</p><h2 id="14-å¤šç±»åˆ«åˆ†ç±»çš„hingeæŸå¤±-MultiMarginLoss"><a href="#14-å¤šç±»åˆ«åˆ†ç±»çš„hingeæŸå¤±-MultiMarginLoss" class="headerlink" title="14.  å¤šç±»åˆ«åˆ†ç±»çš„hingeæŸå¤± MultiMarginLoss"></a><strong>14.  å¤šç±»åˆ«åˆ†ç±»çš„hingeæŸå¤± MultiMarginLoss</strong></h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.MultiMarginLoss(<span class="hljs-attribute">p</span>=1, <span class="hljs-attribute">margin</span>=1.0, <span class="hljs-attribute">weight</span>=None,  <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>$$<br>\operatorname{loss}(x, y)&#x3D;\frac{\left.\sum_{l} \max (0, w[y] *(\operatorname{margin}-x[y]+x[i]))^{p}\right)}{\mathrm{x} \cdot \operatorname{size}(0)}<br>$$</p><p>å‚æ•°ï¼šp&#x3D;1æˆ–è€…2 é»˜è®¤å€¼ï¼š1 margin:é»˜è®¤å€¼1</p><h2 id="15-ä¸‰å…ƒç»„æŸå¤±-TripletMarginLoss"><a href="#15-ä¸‰å…ƒç»„æŸå¤±-TripletMarginLoss" class="headerlink" title="15. ä¸‰å…ƒç»„æŸå¤± TripletMarginLoss"></a><strong>15. ä¸‰å…ƒç»„æŸå¤± TripletMarginLoss</strong></h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.TripletMarginLoss(<span class="hljs-attribute">margin</span>=1.0, <span class="hljs-attribute">p</span>=2.0, <span class="hljs-attribute">eps</span>=1e-06, <span class="hljs-attribute">swap</span>=<span class="hljs-literal">False</span>, <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>$$<br>L(a, p, n)&#x3D;\max \left{d\left(a_{\imath}, p_{\imath}\right)-d\left(a_{\imath}, n_{2}\right)+\operatorname{margin}, 0\right} \<br>d\left(a_{\imath}, p_{\imath}\right) &#x3D; ||x_i-y_i||_p<br>$$</p><h2 id="16-è¿æ¥æ—¶åºåˆ†ç±»æŸå¤±-CTCLoss"><a href="#16-è¿æ¥æ—¶åºåˆ†ç±»æŸå¤±-CTCLoss" class="headerlink" title="16 è¿æ¥æ—¶åºåˆ†ç±»æŸå¤± CTCLoss"></a><strong>16 è¿æ¥æ—¶åºåˆ†ç±»æŸå¤± CTCLoss</strong></h2><p>CTCè¿æ¥æ—¶åºåˆ†ç±»æŸå¤±ï¼Œå¯ä»¥å¯¹æ²¡æœ‰å¯¹é½çš„æ•°æ®è¿›è¡Œè‡ªåŠ¨å¯¹é½ï¼Œä¸»è¦ç”¨åœ¨æ²¡æœ‰äº‹å…ˆå¯¹é½çš„åºåˆ—åŒ–æ•°æ®è®­ç»ƒä¸Šã€‚æ¯”å¦‚è¯­éŸ³è¯†åˆ«ã€OCè¯†åˆ«ç­‰ç­‰ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.CTCLoss(<span class="hljs-attribute">blank</span>=0, <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼šreduction-ä¸‰ä¸ªå€¼ï¼Œnone: ä¸ä½¿ç”¨çº¦ç®€ï¼›mean:è¿”å›losså’Œçš„å¹³å‡å€¼ï¼›sum:è¿”å›lossçš„å’Œã€‚é»˜è®¤ï¼šmeanã€‚</p><h2 id="2-17-è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±-NLLLoss"><a href="#2-17-è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±-NLLLoss" class="headerlink" title="2-17 è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤± NLLLoss"></a><strong>2-17 è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤± NLLLoss</strong></h2><p>è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±. ç”¨äºè®­ç»ƒ C ä¸ªç±»åˆ«çš„åˆ†ç±»é—®é¢˜.</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.NLLLoss(<span class="hljs-attribute">weight</span>=None, <span class="hljs-attribute">ignore_index</span>=-100,  <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼š</p><ul><li>weight (Tensor, optional) â€“ è‡ªå®šä¹‰çš„æ¯ä¸ªç±»åˆ«çš„æƒé‡. å¿…é¡»æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º C çš„ Tensor</li><li>ignore_index (int, optional) â€“ è®¾ç½®ä¸€ä¸ªç›®æ ‡å€¼, è¯¥ç›®æ ‡å€¼ä¼šè¢«å¿½ç•¥, ä»è€Œä¸ä¼šå½±å“åˆ° è¾“å…¥çš„æ¢¯åº¦.</li></ul><h2 id="2-18-NLLLoss2d"><a href="#2-18-NLLLoss2d" class="headerlink" title="2-18 NLLLoss2d"></a><strong>2-18 NLLLoss2d</strong></h2><p>å¯¹äºå›¾ç‰‡è¾“å…¥çš„è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±. å®ƒè®¡ç®—æ¯ä¸ªåƒç´ çš„è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±.</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.NLLLoss2d(<span class="hljs-attribute">weight</span>=None, <span class="hljs-attribute">ignore_index</span>=-100, <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼š</p><ul><li>weight (Tensor, optional) â€“ è‡ªå®šä¹‰çš„æ¯ä¸ªç±»åˆ«çš„æƒé‡. å¿…é¡»æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º C çš„ Tensor</li><li>reduction-ä¸‰ä¸ªå€¼ï¼Œnone: ä¸ä½¿ç”¨çº¦ç®€ï¼›mean:è¿”å›losså’Œçš„å¹³å‡å€¼ï¼›sum:è¿”å›lossçš„å’Œã€‚é»˜è®¤ï¼šmeanã€‚</li></ul><h2 id="2-19-PoissonNLLLoss"><a href="#2-19-PoissonNLLLoss" class="headerlink" title="2-19 PoissonNLLLoss"></a><strong>2-19 PoissonNLLLoss</strong></h2><p>ç›®æ ‡å€¼ä¸ºæ³Šæ¾åˆ†å¸ƒçš„è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">torch.nn.PoissonNLLLoss(<span class="hljs-attribute">log_input</span>=<span class="hljs-literal">True</span>, <span class="hljs-attribute">full</span>=<span class="hljs-literal">False</span>,  <span class="hljs-attribute">eps</span>=1e-08,  <span class="hljs-attribute">reduction</span>=<span class="hljs-string">&#x27;mean&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°ï¼š</p><ul><li>log_input (bool, optional) â€“ å¦‚æœè®¾ç½®ä¸º True , loss å°†ä¼šæŒ‰ç…§å…¬ å¼ exp(input) - target * input æ¥è®¡ç®—, å¦‚æœè®¾ç½®ä¸º False , loss å°†ä¼šæŒ‰ç…§ input - target * log(input+eps) è®¡ç®—.</li><li>full (bool, optional) â€“ æ˜¯å¦è®¡ç®—å…¨éƒ¨çš„ loss, i. e. åŠ ä¸Š Stirling è¿‘ä¼¼é¡¹ target * log(target) - target + 0.5 * log(2 * pi * target).</li><li>eps (float, optional) â€“ é»˜è®¤å€¼: 1e-8</li></ul>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learning Foundationâ€”æœºå™¨å­¦ä¹ ä¸æ·±åº¦å­¦ä¹ çš„ä¸åŒ</title>
    <link href="/2022/07/01/DeepLearning/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E4%B8%8D%E5%90%8C/"/>
    <url>/2022/07/01/DeepLearning/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E4%B8%8D%E5%90%8C/</url>
    
    <content type="html"><![CDATA[<h2 id="1ã€æœºå™¨å­¦ä¹ çš„ç®—æ³•æµç¨‹"><a href="#1ã€æœºå™¨å­¦ä¹ çš„ç®—æ³•æµç¨‹" class="headerlink" title="1ã€æœºå™¨å­¦ä¹ çš„ç®—æ³•æµç¨‹"></a>1ã€æœºå™¨å­¦ä¹ çš„ç®—æ³•æµç¨‹</h2><p>å®é™…ä¸Šæœºå™¨å­¦ä¹ ç ”ç©¶çš„å°±æ˜¯æ•°æ®ç§‘å­¦ï¼ˆå¬ä¸Šå»æœ‰ç‚¹æ— èŠï¼‰ï¼Œä¸‹é¢æ˜¯æœºå™¨å­¦ä¹ ç®—æ³•çš„ä¸»è¦æµç¨‹ï¼š</p><ol><li>æ•°æ®é›†å‡†å¤‡</li><li>æ¢ç´¢æ€§çš„å¯¹æ•°æ®è¿›è¡Œåˆ†æ</li><li>æ•°æ®é¢„å¤„ç†</li><li>æ•°æ®åˆ†å‰²</li><li>æœºå™¨å­¦ä¹ ç®—æ³•å»ºæ¨¡</li><li>é€‰æ‹©æœºå™¨å­¦ä¹ ä»»åŠ¡</li><li>æœ€åå°±æ˜¯è¯„ä»·æœºå™¨å­¦ä¹ ç®—æ³•å¯¹å®é™…æ•°æ®çš„åº”ç”¨æƒ…å†µå¦‚ä½•</li></ol><p><img src="/%5Csrc%5C640.jpeg" alt="å›¾ç‰‡"></p><h3 id="1-1-æ•°æ®é›†"><a href="#1-1-æ•°æ®é›†" class="headerlink" title="1.1 æ•°æ®é›†"></a>1.1 æ•°æ®é›†</h3><p>é¦–å…ˆæˆ‘ä»¬è¦ç ”ç©¶çš„æ˜¯æ•°æ®çš„é—®é¢˜ï¼Œæ•°æ®é›†æ˜¯æ„å»ºæœºå™¨å­¦ä¹ æ¨¡å‹æµç¨‹çš„èµ·ç‚¹ã€‚ç®€å•æ¥è¯´ï¼Œæ•°æ®é›†æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªMÃ—NçŸ©é˜µï¼Œå…¶ä¸­Mä»£è¡¨åˆ—ï¼ˆç‰¹å¾ï¼‰ï¼ŒNä»£è¡¨è¡Œï¼ˆæ ·æœ¬ï¼‰ã€‚</p><p>åˆ—å¯ä»¥åˆ†è§£ä¸ºXå’ŒYï¼ŒXæ˜¯å¯ä»¥æŒ‡ç‰¹å¾ã€ç‹¬ç«‹å˜é‡æˆ–è€…æ˜¯è¾“å…¥å˜é‡ã€‚Yä¹Ÿæ˜¯å¯ä»¥æŒ‡ç±»åˆ«æ ‡ç­¾ã€å› å˜é‡å’Œè¾“å‡ºå˜é‡ã€‚</p><p><img src="/%5Csrc%5C640-16462864273428.jpeg" alt="å›¾ç‰‡"></p><h3 id="1-2-æ•°æ®åˆ†æ"><a href="#1-2-æ•°æ®åˆ†æ" class="headerlink" title="1.2 æ•°æ®åˆ†æ"></a>1.2 æ•°æ®åˆ†æ</h3><p>è¿›è¡Œæ¢ç´¢æ€§æ•°æ®åˆ†æï¼ˆExploratory data analysis, EDAï¼‰æ˜¯ä¸ºäº†è·å¾—å¯¹æ•°æ®çš„åˆæ­¥äº†è§£ã€‚EDAä¸»è¦çš„å·¥ä½œæ˜¯ï¼šå¯¹æ•°æ®è¿›è¡Œæ¸…æ´—ï¼Œå¯¹æ•°æ®è¿›è¡Œæè¿°ï¼ˆæè¿°ç»Ÿè®¡é‡ï¼Œå›¾è¡¨ï¼‰ï¼ŒæŸ¥çœ‹æ•°æ®çš„åˆ†å¸ƒï¼Œæ¯”è¾ƒæ•°æ®ä¹‹é—´çš„å…³ç³»ï¼ŒåŸ¹å…»å¯¹æ•°æ®çš„ç›´è§‰ï¼Œå¯¹æ•°æ®è¿›è¡Œæ€»ç»“ç­‰ã€‚</p><blockquote><p>æ¢ç´¢æ€§æ•°æ®åˆ†ææ–¹æ³•ç®€å•æ¥è¯´å°±æ˜¯å»äº†è§£æ•°æ®ï¼Œåˆ†ææ•°æ®ï¼Œææ¸…æ¥šæ•°æ®çš„åˆ†å¸ƒã€‚ä¸»è¦æ³¨é‡æ•°æ®çš„çœŸå®åˆ†å¸ƒï¼Œå¼ºè°ƒæ•°æ®çš„å¯è§†åŒ–ï¼Œä½¿åˆ†æè€…èƒ½ä¸€ç›®äº†ç„¶çœ‹å‡ºæ•°æ®ä¸­éšå«çš„è§„å¾‹ï¼Œä»è€Œå¾—åˆ°å¯å‘ï¼Œä»¥æ­¤å¸®åŠ©åˆ†æè€…æ‰¾åˆ°é€‚åˆæ•°æ®çš„æ¨¡å‹ã€‚</p></blockquote><p>åœ¨ä¸€ä¸ªå…¸å‹çš„æœºå™¨å­¦ä¹ ç®—æ³•æµç¨‹å’Œæ•°æ®ç§‘å­¦é¡¹ç›®é‡Œé¢ï¼Œæˆ‘åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯é€šè¿‡ â€œç›¯ä½æ•°æ®â€ï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£æ•°æ®ã€‚ä¸ªäººé€šå¸¸ä½¿ç”¨çš„ä¸‰å¤§EDAæ–¹æ³•åŒ…æ‹¬ï¼š</p><h4 id="æè¿°æ€§ç»Ÿè®¡"><a href="#æè¿°æ€§ç»Ÿè®¡" class="headerlink" title="æè¿°æ€§ç»Ÿè®¡"></a><strong>æè¿°æ€§ç»Ÿè®¡</strong></h4><p>å¹³å‡æ•°ã€ä¸­ä½æ•°ã€æ¨¡å¼ã€æ ‡å‡†å·®ã€‚</p><p><img src="/%5Csrc%5C640-164628645466925.jpeg" alt="å›¾ç‰‡"></p><h4 id="æ•°æ®å¯è§†åŒ–"><a href="#æ•°æ®å¯è§†åŒ–" class="headerlink" title="æ•°æ®å¯è§†åŒ–"></a><strong>æ•°æ®å¯è§†åŒ–</strong></h4><p>çƒ­åŠ›å›¾ï¼ˆè¾¨åˆ«ç‰¹å¾å†…éƒ¨ç›¸å…³æ€§ï¼‰ã€ç®±å½¢å›¾ï¼ˆå¯è§†åŒ–ç¾¤ä½“å·®å¼‚ï¼‰ã€æ•£ç‚¹å›¾ï¼ˆå¯è§†åŒ–ç‰¹å¾ä¹‹é—´çš„ç›¸å…³æ€§ï¼‰ã€ä¸»æˆåˆ†åˆ†æï¼ˆå¯è§†åŒ–æ•°æ®é›†ä¸­å‘ˆç°çš„èšç±»åˆ†å¸ƒï¼‰ç­‰ã€‚</p><p><img src="/%5Csrc%5C640-164628646837727.jpeg" alt="å›¾ç‰‡"></p><h4 id="æ•°æ®æ•´å½¢"><a href="#æ•°æ®æ•´å½¢" class="headerlink" title="æ•°æ®æ•´å½¢"></a><strong>æ•°æ®æ•´å½¢</strong></h4><p>å¯¹æ•°æ®è¿›è¡Œé€è§†ã€åˆ†ç»„ã€è¿‡æ»¤ç­‰ã€‚</p><p><img src="/%5Csrc%5C640-16462864273429.jpeg" alt="å›¾ç‰‡"></p><h3 id="1-3-æ•°æ®é¢„å¤„ç†"><a href="#1-3-æ•°æ®é¢„å¤„ç†" class="headerlink" title="1.3 æ•°æ®é¢„å¤„ç†"></a>1.3 æ•°æ®é¢„å¤„ç†</h3><p>æ•°æ®é¢„å¤„ç†ï¼Œå…¶å®å°±æ˜¯å¯¹æ•°æ®è¿›è¡Œæ¸…ç†ã€æ•°æ®æ•´ç†æˆ–æ™®é€šæ•°æ®å¤„ç†ã€‚æŒ‡å¯¹æ•°æ®è¿›è¡Œå„ç§æ£€æŸ¥å’Œæ ¡æ­£è¿‡ç¨‹ï¼Œä»¥çº æ­£ç¼ºå¤±å€¼ã€æ‹¼å†™é”™è¯¯ã€ä½¿æ•°å€¼æ­£å¸¸åŒ–&#x2F;æ ‡å‡†åŒ–ä»¥ä½¿å…¶å…·æœ‰å¯æ¯”æ€§ã€è½¬æ¢æ•°æ®(å¦‚å¯¹æ•°è½¬æ¢)ç­‰é—®é¢˜ã€‚</p><blockquote><p>ä¾‹å¦‚å¯¹å›¾åƒè¿›è¡Œresizeæˆç»Ÿä¸€çš„å¤§å°æˆ–è€…åˆ†è¾¨ç‡ã€‚</p></blockquote><p>æ•°æ®çš„è´¨é‡å°†å¯¹æœºå™¨å­¦ä¹ ç®—æ³•æ¨¡å‹çš„è´¨é‡å¥½åäº§ç”Ÿå¾ˆå¤§çš„å½±å“ã€‚å› æ­¤ï¼Œä¸ºäº†è¾¾åˆ°æœ€å¥½çš„æœºå™¨å­¦ä¹ æ¨¡å‹è´¨é‡ï¼Œä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ç®—æ³•æµç¨‹ä¸­ï¼Œå…¶å®å¾ˆå¤§ä¸€éƒ¨åˆ†å·¥ä½œå°±æ˜¯åœ¨å¯¹æ•°æ®è¿›è¡Œåˆ†æå’Œå¤„ç†ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®é¢„å¤„ç†å¯ä»¥è½»æ¾åœ°å åˆ°æœºå™¨å­¦ä¹ é¡¹ç›®æµç¨‹ä¸­80%çš„æ—¶é—´ï¼Œè€Œå®é™…çš„æ¨¡å‹å»ºç«‹é˜¶æ®µå’Œåç»­çš„æ¨¡å‹åˆ†æå¤§æ¦‚ä»…å åˆ°å‰©ä½™çš„20%ã€‚</p><h3 id="1-4-æ•°æ®åˆ†å‰²"><a href="#1-4-æ•°æ®åˆ†å‰²" class="headerlink" title="1.4 æ•°æ®åˆ†å‰²"></a>1.4 æ•°æ®åˆ†å‰²</h3><h4 id="è®­ç»ƒé›†-amp-æµ‹è¯•é›†"><a href="#è®­ç»ƒé›†-amp-æµ‹è¯•é›†" class="headerlink" title="è®­ç»ƒé›† &amp; æµ‹è¯•é›†"></a><strong>è®­ç»ƒé›† &amp; æµ‹è¯•é›†</strong></h4><p>åœ¨æœºå™¨å­¦ä¹ æ¨¡å‹çš„å¼€å‘æµç¨‹ä¸­ï¼Œå¸Œæœ›è®­ç»ƒå¥½çš„æ¨¡å‹èƒ½åœ¨æ–°çš„ã€æœªè§è¿‡çš„æ•°æ®ä¸Šè¡¨ç°è‰¯å¥½ã€‚ä¸ºäº†æ¨¡æ‹Ÿæ–°çš„ã€æœªè§è¿‡çš„æ•°æ®ï¼Œå¯¹å¯ç”¨æ•°æ®è¿›è¡Œæ•°æ®åˆ†å‰²ï¼Œä»è€Œå°†å·²ç»å¤„ç†å¥½çš„æ•°æ®é›†åˆ†å‰²æˆ2éƒ¨åˆ†ï¼šè®­ç»ƒé›†åˆæµ‹è¯•é›†ã€‚</p><p>ç¬¬ä¸€éƒ¨åˆ†æ˜¯è¾ƒå¤§çš„æ•°æ®å­é›†ï¼Œç”¨ä½œè®­ç»ƒé›†ï¼ˆå¦‚å åŸå§‹æ•°æ®çš„80%ï¼‰ï¼›ç¬¬äºŒéƒ¨åˆ†é€šå¸¸æ˜¯è¾ƒå°çš„å­é›†ï¼Œç”¨ä½œæµ‹è¯•é›†ï¼ˆå…¶ä½™20%çš„æ•°æ®ï¼‰ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œåˆ©ç”¨è®­ç»ƒé›†å»ºç«‹é¢„æµ‹æ¨¡å‹ï¼Œç„¶åå°†è¿™ç§è®­ç»ƒå¥½çš„æ¨¡å‹åº”ç”¨äºæµ‹è¯•é›†ï¼ˆå³ä½œä¸ºæ–°çš„ã€æœªè§è¿‡çš„æ•°æ®ï¼‰ä¸Šè¿›è¡Œé¢„æµ‹ã€‚æ ¹æ®æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„è¡¨ç°æ¥é€‰æ‹©æœ€ä½³æ¨¡å‹ï¼Œä¸ºäº†è·å¾—æœ€ä½³æ¨¡å‹ï¼Œè¿˜å¯ä»¥è¿›è¡Œè¶…å‚æ•°ä¼˜åŒ–ã€‚</p><h4 id=""><a href="#" class="headerlink" title=""></a><img src="/%5Csrc%5C640-164628648188729.jpeg" alt="å›¾ç‰‡"></h4><p>å¦ä¸€ç§å¸¸è§çš„æ•°æ®åˆ†å‰²æ–¹æ³•æ˜¯å°†æ•°æ®åˆ†å‰²æˆ3éƒ¨åˆ†ï¼š</p><ol><li>è®­ç»ƒé›†</li><li>éªŒè¯é›†</li><li>æµ‹è¯•é›†</li></ol><p>è®­ç»ƒé›†ç”¨äºå»ºç«‹é¢„æµ‹æ¨¡å‹ï¼ŒåŒæ—¶å¯¹éªŒè¯é›†è¿›è¡Œè¯„ä¼°ï¼Œæ®æ­¤è¿›è¡Œé¢„æµ‹ï¼Œå¯ä»¥è¿›è¡Œæ¨¡å‹è°ƒä¼˜ï¼ˆå¦‚è¶…å‚æ•°ä¼˜åŒ–ï¼‰ï¼Œå¹¶æ ¹æ®éªŒè¯é›†çš„ç»“æœé€‰æ‹©æ€§èƒ½æœ€å¥½çš„æ¨¡å‹ã€‚</p><p>éªŒè¯é›†çš„æ“ä½œæ–¹å¼è·Ÿè®­ç»ƒé›†ç±»ä¼¼ã€‚ä¸è¿‡å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæµ‹è¯•é›†ä¸å‚ä¸æœºå™¨å­¦ä¹ æ¨¡å‹çš„å»ºç«‹å’Œå‡†å¤‡ï¼Œæ˜¯æœºå™¨å­¦ä¹ æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­å•ç‹¬ç•™å‡ºçš„æ ·æœ¬é›†ï¼Œç”¨äºè°ƒæ•´æ¨¡å‹çš„è¶…å‚æ•°å’Œå¯¹æ¨¡å‹çš„èƒ½åŠ›è¿›è¡Œåˆæ­¥è¯„ä¼°ã€‚é€šå¸¸è¾¹è®­ç»ƒè¾¹éªŒè¯ï¼Œè¿™é‡Œçš„éªŒè¯å°±æ˜¯ç”¨éªŒè¯é›†æ¥æ£€éªŒæ¨¡å‹çš„åˆæ­¥æ•ˆæœã€‚</p><p><img src="/%5Csrc%5C640-164628642734210.jpeg" alt="å›¾ç‰‡"></p><h4 id="äº¤å‰éªŒè¯"><a href="#äº¤å‰éªŒè¯" class="headerlink" title="äº¤å‰éªŒè¯"></a><strong>äº¤å‰éªŒè¯</strong></h4><p>å®é™…ä¸Šæ•°æ®æ˜¯æœºå™¨å­¦ä¹ æµç¨‹ä¸­æœ€å®è´µçš„ï¼Œä¸ºäº†æ›´åŠ ç»æµåœ°åˆ©ç”¨ç°æœ‰æ•°æ®ï¼Œé€šå¸¸ä½¿ç”¨Nå€äº¤å‰éªŒè¯ï¼Œå°†æ•°æ®é›†åˆ†å‰²æˆNä¸ªã€‚åœ¨è¿™æ ·çš„Nå€æ•°æ®é›†ä¸­ï¼Œå…¶ä¸­ä¸€ä¸ªè¢«ç•™ä½œæµ‹è¯•æ•°æ®ï¼Œè€Œå…¶ä½™çš„åˆ™è¢«ç”¨ä½œå»ºç«‹æ¨¡å‹çš„è®­ç»ƒæ•°æ®ã€‚é€šè¿‡åå¤äº¤å‰è¿­ä»£çš„æ–¹å¼æ¥å¯¹æœºå™¨å­¦ä¹ æµç¨‹è¿›è¡ŒéªŒè¯ã€‚</p><blockquote><p>è¿™ç§äº¤å‰éªŒè¯çš„æ–¹æ³•åœ¨æœºå™¨å­¦ä¹ æµç¨‹ä¸­è¢«å¹¿æ³›çš„ä½¿ç”¨ï¼Œä½†æ˜¯æ·±åº¦å­¦ä¹ ä¸­ä½¿ç”¨å¾—æ¯”è¾ƒå°‘å“ˆã€‚</p></blockquote><p><img src="/%5Csrc%5C640-164628642734211.jpeg" alt="å›¾ç‰‡"></p><h3 id="1-5-æœºå™¨å­¦ä¹ ç®—æ³•å»ºæ¨¡"><a href="#1-5-æœºå™¨å­¦ä¹ ç®—æ³•å»ºæ¨¡" class="headerlink" title="1.5 æœºå™¨å­¦ä¹ ç®—æ³•å»ºæ¨¡"></a>1.5 æœºå™¨å­¦ä¹ ç®—æ³•å»ºæ¨¡</h3><p>ä¸‹é¢æ˜¯æœ€æœ‰è¶£çš„éƒ¨åˆ†å•¦ï¼Œæ•°æ®ç­›é€‰å’Œå¤„ç†è¿‡ç¨‹å…¶å®éƒ½æ˜¯å¾ˆæ¯ç‡¥ä¹å‘³çš„ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨ç²¾å¿ƒå‡†å¤‡çš„æ•°æ®æ¥å»ºæ¨¡ã€‚æ ¹æ®tagetå˜é‡ï¼ˆé€šå¸¸ç§°ä¸ºYå˜é‡ï¼‰çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥å»ºç«‹ä¸€ä¸ªåˆ†ç±»æˆ–å›å½’æ¨¡å‹ã€‚</p><h3 id="æœºå™¨å­¦ä¹ ç®—æ³•"><a href="#æœºå™¨å­¦ä¹ ç®—æ³•" class="headerlink" title="æœºå™¨å­¦ä¹ ç®—æ³•"></a>æœºå™¨å­¦ä¹ ç®—æ³•</h3><p>æœºå™¨å­¦ä¹ ç®—æ³•å¯ä»¥å¤§è‡´åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ç±»å‹ä¹‹ä¸€ï¼š</p><h4 id="ç›‘ç£å­¦ä¹ "><a href="#ç›‘ç£å­¦ä¹ " class="headerlink" title="ç›‘ç£å­¦ä¹ "></a><strong>ç›‘ç£å­¦ä¹ </strong></h4><p>æ˜¯ä¸€ç§æœºå™¨å­¦ä¹ ä»»åŠ¡ï¼Œå»ºç«‹è¾“å…¥Xå’Œè¾“å‡ºYå˜é‡ä¹‹é—´çš„æ•°å­¦ï¼ˆæ˜ å°„ï¼‰å…³ç³»ã€‚è¿™æ ·çš„(Xã€Y)å¯¹æ„æˆäº†ç”¨äºå»ºç«‹æ¨¡å‹çš„æ ‡ç­¾æ•°æ®ï¼Œä»¥ä¾¿å­¦ä¹ å¦‚ä½•ä»è¾“å…¥ä¸­é¢„æµ‹è¾“å‡ºã€‚</p><h4 id="æ— ç›‘ç£å­¦ä¹ "><a href="#æ— ç›‘ç£å­¦ä¹ " class="headerlink" title="æ— ç›‘ç£å­¦ä¹ "></a><strong>æ— ç›‘ç£å­¦ä¹ </strong></h4><p>æ˜¯ä¸€ç§åªåˆ©ç”¨è¾“å…¥Xå˜é‡çš„æœºå™¨å­¦ä¹ ä»»åŠ¡ã€‚Xå˜é‡æ˜¯æœªæ ‡è®°çš„æ•°æ®ï¼Œå­¦ä¹ ç®—æ³•åœ¨å»ºæ¨¡æ—¶ä½¿ç”¨çš„æ˜¯æ•°æ®çš„å›ºæœ‰ç»“æ„ã€‚</p><h4 id="å¼ºåŒ–å­¦ä¹ "><a href="#å¼ºåŒ–å­¦ä¹ " class="headerlink" title="å¼ºåŒ–å­¦ä¹ "></a><strong>å¼ºåŒ–å­¦ä¹ </strong></h4><p>æ˜¯ä¸€ç§å†³å®šä¸‹ä¸€æ­¥è¡ŒåŠ¨æ–¹æ¡ˆçš„æœºå™¨å­¦ä¹ ä»»åŠ¡ï¼Œå®ƒé€šè¿‡è¯•é”™å­¦ä¹ ï¼ˆtrial and error learningï¼‰æ¥å®ç°è¿™ä¸€ç›®æ ‡ï¼ŒåŠªåŠ›ä½¿rewardå›æŠ¥æœ€å¤§åŒ–ã€‚</p><h3 id="å‚æ•°è°ƒä¼˜"><a href="#å‚æ•°è°ƒä¼˜" class="headerlink" title="å‚æ•°è°ƒä¼˜"></a>å‚æ•°è°ƒä¼˜</h3><p>ä¼ è¯´ä¸­çš„è°ƒå‚ä¾ ä¸»è¦å¹²çš„å°±æ˜¯è¿™ä¸ªå·¥ä½œå•¦ã€‚è¶…å‚æ•°æœ¬è´¨ä¸Šæ˜¯æœºå™¨å­¦ä¹ ç®—æ³•çš„å‚æ•°ï¼Œç›´æ¥å½±å“å­¦ä¹ è¿‡ç¨‹å’Œé¢„æµ‹æ€§èƒ½ã€‚ç”±äºæ²¡æœ‰ä¸‡èƒ½çš„è¶…å‚æ•°è®¾ç½®ï¼Œå¯ä»¥æ™®éé€‚ç”¨äºæ‰€æœ‰æ•°æ®é›†ï¼Œå› æ­¤éœ€è¦è¿›è¡Œè¶…å‚æ•°ä¼˜åŒ–ã€‚</p><blockquote><p>ä»¥éšæœºæ£®æ—ä¸ºä¾‹ã€‚åœ¨ä½¿ç”¨randomForestæ—¶ï¼Œé€šå¸¸ä¼šå¯¹ä¸¤ä¸ªå¸¸è§çš„è¶…å‚æ•°è¿›è¡Œä¼˜åŒ–ï¼Œå…¶ä¸­åŒ…æ‹¬mtryå’Œntreeå‚æ•°ã€‚mtryï¼ˆmaxfeaturesï¼‰ä»£è¡¨åœ¨æ¯æ¬¡åˆ†è£‚æ—¶ä½œä¸ºå€™é€‰å˜é‡éšæœºé‡‡æ ·çš„å˜é‡æ•°é‡ï¼Œè€Œntreeï¼ˆnestimatorsï¼‰ä»£è¡¨è¦ç”Ÿé•¿çš„æ ‘çš„æ•°é‡ã€‚</p></blockquote><p>å¦ä¸€ç§åœ¨10å¹´å‰ä»ç„¶éå¸¸ä¸»æµçš„æœºå™¨å­¦ä¹ ç®—æ³•æ˜¯æ”¯æŒå‘é‡æœºSVMã€‚éœ€è¦ä¼˜åŒ–çš„è¶…å‚æ•°æ˜¯å¾„å‘åŸºå‡½æ•°(RBF)å†…æ ¸çš„Cå‚æ•°å’Œgammaå‚æ•°ã€‚Cå‚æ•°æ˜¯ä¸€ä¸ªé™åˆ¶è¿‡æ‹Ÿåˆçš„æƒ©ç½šé¡¹ï¼Œè€Œgammaå‚æ•°åˆ™æ§åˆ¶RBFæ ¸çš„å®½åº¦ã€‚</p><p>è°ƒä¼˜é€šå¸¸æ˜¯ä¸ºäº†å¾—å‡ºè¶…å‚æ•°çš„è¾ƒä½³å€¼é›†ï¼Œå¾ˆå¤šæ—¶å€™ä¸è¦å»è¿½æ±‚æ‰¾åˆ°è¶…å‚ä¸€ä¸ªæœ€ä¼˜å€¼ï¼Œå…¶å®è°ƒå‚ä¾ åªæ˜¯è°ƒä¾ƒè°ƒä¾ƒï¼ŒçœŸæ­£éœ€è¦ç†è§£æŒæ¡ç®—æ³•åŸç†ï¼Œæ‰¾åˆ°é€‚åˆæ•°æ®å’Œæ¨¡å‹çš„å‚æ•°å°±å¯ä»¥å•¦ã€‚</p><h3 id="ç‰¹å¾é€‰æ‹©"><a href="#ç‰¹å¾é€‰æ‹©" class="headerlink" title="ç‰¹å¾é€‰æ‹©"></a>ç‰¹å¾é€‰æ‹©</h3><p>ç‰¹å¾é€‰æ‹©ä»å­—é¢ä¸Šçœ‹å°±æ˜¯ä»æœ€åˆçš„å¤§é‡ç‰¹å¾ä¸­é€‰æ‹©ä¸€ä¸ªç‰¹å¾å­é›†çš„è¿‡ç¨‹ã€‚é™¤äº†å®ç°é«˜ç²¾åº¦çš„æ¨¡å‹å¤–ï¼Œæœºå™¨å­¦ä¹ æ¨¡å‹æ„å»ºæœ€é‡è¦çš„ä¸€ä¸ªæ–¹é¢æ˜¯è·å¾—å¯æ“ä½œçš„è§è§£ï¼Œä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œèƒ½å¤Ÿä»å¤§é‡çš„ç‰¹å¾ä¸­é€‰æ‹©å‡ºé‡è¦çš„ç‰¹å¾å­é›†éå¸¸é‡è¦ã€‚</p><p>ç‰¹å¾é€‰æ‹©çš„ä»»åŠ¡æœ¬èº«å°±å¯ä»¥æ„æˆä¸€ä¸ªå…¨æ–°çš„ç ”ç©¶é¢†åŸŸï¼Œåœ¨è¿™ä¸ªé¢†åŸŸä¸­ï¼Œå¤§é‡çš„åŠªåŠ›éƒ½æ˜¯ä¸ºäº†è®¾è®¡æ–°é¢–çš„ç®—æ³•å’Œæ–¹æ³•ã€‚ä»ä¼—å¤šå¯ç”¨çš„ç‰¹å¾é€‰æ‹©ç®—æ³•ä¸­ï¼Œä¸€äº›ç»å…¸çš„æ–¹æ³•æ˜¯åŸºäºæ¨¡æ‹Ÿé€€ç«å’Œé—ä¼ ç®—æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å¤§é‡åŸºäºè¿›åŒ–ç®—æ³•ï¼ˆå¦‚ç²’å­ç¾¤ä¼˜åŒ–ã€èšç¾¤ä¼˜åŒ–ç­‰ï¼‰å’Œéšæœºæ–¹æ³•ï¼ˆå¦‚è’™ç‰¹å¡æ´›ï¼‰çš„æ–¹æ³•ã€‚</p><p><img src="/%5Csrc%5C640-164628642734312.jpeg" alt="å›¾ç‰‡"></p><h3 id="1-6-æœºå™¨å­¦ä¹ ä»»åŠ¡"><a href="#1-6-æœºå™¨å­¦ä¹ ä»»åŠ¡" class="headerlink" title="1.6 æœºå™¨å­¦ä¹ ä»»åŠ¡"></a>1.6 æœºå™¨å­¦ä¹ ä»»åŠ¡</h3><p>åœ¨ç›‘ç£å­¦ä¹ ä¸­ï¼Œä¸¤ä¸ªå¸¸è§çš„æœºå™¨å­¦ä¹ ä»»åŠ¡åŒ…æ‹¬åˆ†ç±»å’Œå›å½’ã€‚</p><h3 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h3><p>ä¸€ä¸ªè®­ç»ƒå¥½çš„åˆ†ç±»æ¨¡å‹å°†ä¸€ç»„å˜é‡ä½œä¸ºè¾“å…¥ï¼Œå¹¶é¢„æµ‹è¾“å‡ºçš„ç±»æ ‡ç­¾ã€‚ä¸‹å›¾æ˜¯ç”±ä¸åŒé¢œè‰²å’Œæ ‡ç­¾è¡¨ç¤ºçš„ä¸‰ä¸ªç±»ã€‚æ¯ä¸€ä¸ªå°çš„å½©è‰²çƒä½“ä»£è¡¨ä¸€ä¸ªæ•°æ®æ ·æœ¬ã€‚ä¸‰ç±»æ•°æ®æ ·æœ¬åœ¨äºŒç»´ä¸­çš„æ˜¾ç¤ºï¼Œè¿™ç§å¯è§†åŒ–å›¾å¯ä»¥é€šè¿‡æ‰§è¡ŒPCAåˆ†æå¹¶æ˜¾ç¤ºå‰ä¸¤ä¸ªä¸»æˆåˆ†ï¼ˆPCï¼‰æ¥åˆ›å»ºï¼›æˆ–è€…ä¹Ÿå¯ä»¥é€‰æ‹©ä¸¤ä¸ªå˜é‡çš„ç®€å•æ•£ç‚¹å›¾å¯è§†åŒ–ã€‚</p><p><img src="/%5Csrc%5C640-164628642734313.jpeg" alt="å›¾ç‰‡"></p><h4 id="æ€§èƒ½æŒ‡æ ‡"><a href="#æ€§èƒ½æŒ‡æ ‡" class="headerlink" title="æ€§èƒ½æŒ‡æ ‡"></a><strong>æ€§èƒ½æŒ‡æ ‡</strong></h4><p>å¦‚ä½•çŸ¥é“è®­ç»ƒå‡ºæ¥çš„æœºå™¨å­¦ä¹ æ¨¡å‹è¡¨ç°å¥½æˆ–åï¼Ÿå°±æ˜¯ä½¿ç”¨æ€§èƒ½è¯„ä»·æŒ‡æ ‡ï¼ˆmetricsï¼‰ï¼Œä¸€äº›å¸¸è§çš„è¯„ä¼°åˆ†ç±»æ€§èƒ½çš„æŒ‡æ ‡åŒ…æ‹¬<strong>å‡†ç¡®ç‡ï¼ˆACï¼‰ã€çµæ•åº¦ï¼ˆSNï¼‰ã€ç‰¹å¼‚æ€§ï¼ˆSPï¼‰å’Œé©¬å¤ªç›¸å…³ç³»æ•°ï¼ˆMCCï¼‰</strong>ã€‚</p><h3 id="å›å½’"><a href="#å›å½’" class="headerlink" title="å›å½’"></a>å›å½’</h3><p>æœ€ç®€å•çš„å›å½’æ¨¡å¼ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ç®€å•ç­‰å¼å¾ˆå¥½åœ°æ€»ç»“ï¼š**Y &#x3D; f(X)**ã€‚å…¶ä¸­ï¼ŒYå¯¹åº”é‡åŒ–è¾“å‡ºå˜é‡ï¼ŒXæŒ‡è¾“å…¥å˜é‡ï¼ŒfæŒ‡è®¡ç®—è¾“å‡ºå€¼ä½œä¸ºè¾“å…¥ç‰¹å¾çš„æ˜ å°„å‡½æ•°ï¼ˆä»æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­å¾—åˆ°ï¼‰ã€‚</p><p>ä¸Šé¢çš„å›å½’ä¾‹å­å…¬å¼çš„å®è´¨æ˜¯ï¼Œå¦‚æœXå·²çŸ¥ï¼Œå°±å¯ä»¥æ¨å¯¼å‡ºYã€‚ä¸€æ—¦Yè¢«è®¡ç®—ï¼ˆé¢„æµ‹ï¼‰å‡ºæ¥ï¼Œä¸€ä¸ªæµè¡Œçš„å¯è§†åŒ–æ–¹å¼æ˜¯å°†å®é™…å€¼ä¸é¢„æµ‹å€¼åšä¸€ä¸ªç®€å•çš„æ•£ç‚¹å›¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="/%5Csrc%5C640-164628642734314.jpeg" alt="å›¾ç‰‡"></p><p>å¯¹å›å½’æ¨¡å‹çš„æ€§èƒ½è¿›è¡Œè¯„ä¼°ï¼Œä»¥è¯„ä¼°æ‹Ÿåˆæ¨¡å‹å¯ä»¥å‡†ç¡®é¢„æµ‹è¾“å…¥æ•°æ®å€¼çš„ç¨‹åº¦ã€‚è¯„ä¼°å›å½’æ¨¡å‹æ€§èƒ½çš„å¸¸ç”¨æŒ‡æ ‡æ˜¯ç¡®å®šç³»æ•°ï¼ˆRÂ²ï¼‰ã€‚æ­¤å¤–ï¼Œå‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ä»¥åŠå‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰ä¹Ÿæ˜¯è¡¡é‡æ®‹å·®æˆ–é¢„æµ‹è¯¯å·®çš„å¸¸ç”¨æŒ‡æ ‡ã€‚</p><h2 id="2ã€æ·±åº¦å­¦ä¹ ç®—æ³•æµç¨‹"><a href="#2ã€æ·±åº¦å­¦ä¹ ç®—æ³•æµç¨‹" class="headerlink" title="2ã€æ·±åº¦å­¦ä¹ ç®—æ³•æµç¨‹"></a>2ã€æ·±åº¦å­¦ä¹ ç®—æ³•æµç¨‹</h2><p>æ·±åº¦å­¦ä¹ å®é™…ä¸Šæ˜¯æœºå™¨å­¦ä¹ ä¸­çš„ä¸€ç§èŒƒå¼ï¼Œæ‰€ä»¥ä»–ä»¬çš„ä¸»è¦æµç¨‹æ˜¯å·®ä¸å¤šçš„ã€‚æ·±åº¦å­¦ä¹ åˆ™æ˜¯ä¼˜åŒ–äº†æ•°æ®åˆ†æï¼Œå»ºæ¨¡è¿‡ç¨‹çš„æµç¨‹ä¹Ÿæ˜¯ç¼©çŸ­äº†ï¼Œç”±ç¥ç»ç½‘ç»œç»Ÿä¸€äº†åŸæ¥æœºå™¨å­¦ä¹ ä¸­ç™¾èŠ±é½æ”¾çš„ç®—æ³•ã€‚</p><p>åœ¨æ·±åº¦å­¦ä¹ æ­£å¼å¤§è§„æ¨¡ä½¿ç”¨ä¹‹å‰å‘¢ï¼Œæœºå™¨å­¦ä¹ ç®—æ³•æµç¨‹ä¸­è¯èŠ±è´¹å¾ˆå¤šæ—¶é—´å»æ”¶é›†æ•°æ®ï¼Œç„¶åå¯¹æ•°æ®è¿›è¡Œç­›é€‰ï¼Œå°è¯•å„ç§ä¸åŒçš„ç‰¹å¾æå–æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæˆ–è€…ç»“åˆå¤šç§ä¸åŒçš„ç‰¹å¾å¯¹æ•°æ®è¿›è¡Œåˆ†ç±»å’Œå›å½’ã€‚</p><p><img src="/%5Csrc%5C640-164628642734315.jpeg" alt="å›¾ç‰‡"></p><p>ä¸‹é¢æ˜¯æœºå™¨å­¦ä¹ ç®—æ³•çš„ä¸»è¦æµç¨‹ï¼šä¸»è¦ä»</p><ol><li>æ•°æ®é›†å‡†å¤‡</li><li>æ•°æ®é¢„å¤„ç†</li><li>æ•°æ®åˆ†å‰²</li><li>å®šä¹‰ç¥ç»ç½‘ç»œæ¨¡å‹</li><li>è®­ç»ƒç½‘ç»œ</li></ol><p>æ·±åº¦å­¦ä¹ ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å»æå–ç‰¹å¾ï¼Œè€Œæ˜¯é€šè¿‡ç¥ç»ç½‘ç»œè‡ªåŠ¨å¯¹æ•°æ®è¿›è¡Œé«˜ç»´æŠ½è±¡å­¦ä¹ ï¼Œå‡å°‘äº†ç‰¹å¾å·¥ç¨‹çš„æ„æˆï¼Œåœ¨è¿™æ–¹é¢èŠ‚çº¦äº†å¾ˆå¤šæ—¶é—´ã€‚</p><p>ä½†æ˜¯åŒæ—¶å› ä¸ºå¼•å…¥äº†æ›´åŠ æ·±ã€æ›´å¤æ‚çš„ç½‘ç»œæ¨¡å‹ç»“æ„ï¼Œæ‰€ä»¥è°ƒå‚å·¥ä½œå˜å¾—æ›´åŠ ç¹é‡å•¦ã€‚ä¾‹å¦‚ï¼šå®šä¹‰ç¥ç»ç½‘ç»œæ¨¡å‹ç»“æ„ã€ç¡®è®¤æŸå¤±å‡½æ•°ã€ç¡®å®šä¼˜åŒ–å™¨ï¼Œæœ€åå°±æ˜¯åå¤è°ƒæ•´æ¨¡å‹å‚æ•°çš„è¿‡ç¨‹ã€‚</p><p>æ¥ä¸‹æ¥å…·ä½“è§£é‡Šä¸€ä¸‹ï¼š</p><h3 id="2-1èƒŒæ™¯"><a href="#2-1èƒŒæ™¯" class="headerlink" title="2.1èƒŒæ™¯"></a>2.1èƒŒæ™¯</h3><p>ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ¨¡å‹åœ¨å¤„ç†ç»“æ„åŒ–æ•°æ®æ–¹é¢ä¸€ç›´éå¸¸å¼ºå¤§ï¼Œå¹¶ä¸”å·²ç»è¢«ä¼ä¸šå¹¿æ³›ç”¨äºä¿¡ç”¨è¯„åˆ†ã€å®¢æˆ·æµå¤±é¢„æµ‹ã€æ¶ˆè´¹è€…å®šä½ç­‰ã€‚</p><p>è¿™äº›æ¨¡å‹çš„æˆåŠŸå¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºç‰¹å¾å·¥ç¨‹é˜¶æ®µçš„æ€§èƒ½ï¼š<strong>æˆ‘ä»¬è¶Šæ¥è¿‘ä¸šåŠ¡ï¼Œä»ç»“æ„åŒ–æ•°æ®ä¸­æå–ç›¸å…³çŸ¥è¯†è¶Šå¤šï¼Œæ¨¡å‹å°±è¶Šå¼ºå¤§ã€‚</strong></p><p>å½“æ¶‰åŠåˆ°éç»“æ„åŒ–æ•°æ®ï¼ˆå›¾åƒã€æ–‡æœ¬ã€è¯­éŸ³ã€è§†é¢‘ï¼‰æ—¶ï¼Œæ‰‹åŠ¨ç‰¹å¾å·¥ç¨‹æ˜¯è€—æ—¶çš„ã€è„†å¼±çš„ï¼Œè€Œä¸”åœ¨å®è·µä¸­æ˜¯ä¸å¯æ‰©å±•çš„ï¼Œè¿™å°±æ˜¯ç¥ç»ç½‘ç»œå› å…¶å¯ä»¥ä»åŸå§‹æ•°æ®ä¸­è‡ªåŠ¨å‘ç°ç‰¹å¾æˆ–è€…åˆ†ç±»æ‰€éœ€è¦çš„è¡¨ç¤ºè€Œè¶Šæ¥è¶Šå—æ¬¢è¿çš„åŸå› ã€‚å®ƒå–ä»£æ‰‹åŠ¨ç‰¹å¾å·¥ç¨‹ï¼Œå…è®¸ä¸€å°æœºå™¨æ—¢èƒ½å­¦ä¹ ç‰¹å¾åˆèƒ½åˆ©ç”¨è¿™äº›ç‰¹å¾æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡ã€‚</p><p>ç¡¬ä»¶ï¼ˆGPUï¼‰å’Œè½¯ä»¶ï¼ˆä¸AIç›¸å…³çš„é«˜çº§æ¨¡å‹&#x2F;ç ”ç©¶ï¼‰çš„è¿›æ­¥ä¹Ÿæå‡äº†ç¥ç»ç½‘ç»œçš„å­¦ä¹ æ•ˆæœã€‚</p><h3 id="2-2åŸºæœ¬æ¶æ„"><a href="#2-2åŸºæœ¬æ¶æ„" class="headerlink" title="2.2åŸºæœ¬æ¶æ„"></a>2.2<strong>åŸºæœ¬æ¶æ„</strong></h3><p>æ·±åº¦å­¦ä¹ çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†æ˜¯æ„ŸçŸ¥å™¨ï¼Œå®ƒæ˜¯ç¥ç»ç½‘ç»œä¸­çš„å•ä¸ªç¥ç»å…ƒã€‚</p><p>ç»™å®šä¸€ç»„æœ‰é™çš„mä¸ªè¾“å…¥ï¼ˆä¾‹å¦‚ï¼Œmä¸ªå•è¯æˆ–mä¸ªåƒç´ ï¼‰ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªè¾“å…¥ä¹˜ä»¥ä¸€ä¸ªæƒé‡$\theta_0 - \theta_m$ï¼Œç„¶åå¯¹è¾“å…¥çš„åŠ æƒç»„åˆè¿›è¡Œæ±‚å’Œï¼Œå¹¶æ·»åŠ ä¸€ä¸ªåå·®ï¼Œæœ€åå°†å®ƒä»¬è¾“å…¥éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œè¾“å‡º$\hat{y}$ã€‚</p><p><img src="/src/640-16577802216005.jpeg" alt="å›¾ç‰‡"></p><ul><li>åå·®ä¼šå‘è¾“å…¥ç©ºé—´æ·»åŠ å¦ä¸€ä¸ªç»´åº¦ã€‚å› æ­¤ï¼Œåœ¨è¾“å…¥å…¨é›¶å‘é‡çš„æƒ…å†µä¸‹ï¼Œæ¿€æ´»å‡½æ•°ä¾ç„¶æä¾›è¾“å‡ºã€‚å®ƒåœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯è¾“å‡ºçš„ä¸€éƒ¨åˆ†ï¼Œä¸è¾“å…¥æ— å…³ã€‚</li><li>æ¿€æ´»å‡½æ•°çš„ç›®çš„æ˜¯å°†éçº¿æ€§å¼•å…¥ç½‘ç»œã€‚å®é™…ä¸Šï¼Œæ— è®ºè¾“å…¥åˆ†å¸ƒå¦‚ä½•ï¼Œçº¿æ€§æ¿€æ´»å‡½æ•°éƒ½ä¼šäº§ç”Ÿçº¿æ€§å†³ç­–ã€‚éçº¿æ€§ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ›´å¥½åœ°é€¼è¿‘ä»»æ„å¤æ‚çš„å‡½æ•°ï¼Œè¿™é‡Œæœ‰ä¸€äº›å¸¸è§çš„æ¿€æ´»å‡½æ•°ç¤ºä¾‹ï¼š</li></ul><p><img src="/src/640-16577802216016.jpeg" alt="å›¾ç‰‡"></p><p>æ·±åº¦ç¥ç»ç½‘ç»œåªæ˜¯ç»„åˆå¤šä¸ªæ„ŸçŸ¥å™¨ï¼ˆéšè—å±‚ï¼‰ï¼Œä»¥äº§ç”Ÿè¾“å‡ºã€‚</p><p><img src="/src/640-16577802216017.jpeg" alt="å›¾ç‰‡"></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†æ·±åº¦ç¥ç»ç½‘ç»œçš„åŸºæœ¬æ¶æ„ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒå¦‚ä½•ç”¨äºç»™å®šçš„ä»»åŠ¡ã€‚</p><h3 id="2-3è®­ç»ƒç¥ç»ç½‘ç»œ"><a href="#2-3è®­ç»ƒç¥ç»ç½‘ç»œ" class="headerlink" title="2.3è®­ç»ƒç¥ç»ç½‘ç»œ"></a>2.3<strong>è®­ç»ƒç¥ç»ç½‘ç»œ</strong></h3><p>æ¯”æ–¹è¯´ï¼Œå¯¹äºä¸€ç»„Xå°„çº¿å›¾åƒï¼Œæˆ‘ä»¬éœ€è¦æ¨¡å‹æ¥è‡ªåŠ¨åŒºåˆ†ç—…äººä¸æ­£å¸¸äººã€‚</p><p>ä¸ºæ­¤ï¼Œæœºå™¨å­¦ä¹ æ¨¡å‹éœ€è¦åƒäººä¸€æ ·é€šè¿‡<strong>è§‚å¯Ÿ</strong>ç—…äººå’Œæ­£å¸¸äººçš„å›¾åƒæ¥å­¦ä¼šåŒºåˆ†è¿™ä¸¤ç±»å›¾åƒã€‚å› æ­¤ï¼Œå®ƒä»¬è‡ªåŠ¨ç†è§£å¯ä»¥æ›´å¥½åœ°æè¿°æ¯ç±»å›¾åƒçš„æ¨¡å¼ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„è®­ç»ƒé˜¶æ®µã€‚</p><p>å…·ä½“åœ°è¯´ï¼Œæ¨¡å¼æ˜¯ä¸€äº›è¾“å…¥ï¼ˆå›¾åƒã€éƒ¨åˆ†å›¾åƒæˆ–å…¶ä»–æ¨¡å¼ï¼‰çš„åŠ æƒç»„åˆã€‚å› æ­¤ï¼Œ<strong>è®­ç»ƒé˜¶æ®µåªä¸è¿‡æ˜¯æˆ‘ä»¬ä¼°è®¡æ¨¡å‹æƒé‡ï¼ˆä¹Ÿç§°ä¸ºå‚æ•°ï¼‰çš„é˜¶æ®µã€‚</strong></p><p>å½“è°ˆè®ºä¼°è®¡æ—¶ï¼Œè°ˆè®ºçš„æ˜¯æˆ‘ä»¬å¿…é¡»ä¼˜åŒ–çš„ç›®æ ‡å‡½æ•°ã€‚æ„å»ºè¿™ä¸ªå‡½æ•°ï¼Œåº”è¯¥æœ€å¥½åœ°åæ˜ è®­ç»ƒé˜¶æ®µçš„æ€§èƒ½ã€‚å½“æ¶‰åŠåˆ°é¢„æµ‹ä»»åŠ¡æ—¶ï¼Œè¿™ä¸ªç›®æ ‡å‡½æ•°é€šå¸¸ç§°ä¸ºæŸå¤±å‡½æ•°ï¼Œåº¦é‡ä¸æ­£ç¡®çš„é¢„æµ‹æ‰€äº§ç”Ÿçš„æˆæœ¬ã€‚å½“æ¨¡å‹é¢„æµ‹éå¸¸æ¥è¿‘çœŸå®è¾“å‡ºçš„ä¸œè¥¿æ—¶ï¼ŒæŸå¤±å‡½æ•°éå¸¸ä½ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p>åœ¨å­˜åœ¨è¾“å…¥æ•°æ®çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è®¡ç®—ç»éªŒæŸå¤±ï¼ˆåˆ†ç±»çš„äºŒå…ƒäº¤å‰ç†µæŸå¤±å’Œå›å½’çš„å‡æ–¹å·®æŸå¤±ï¼‰æ¥åº¦é‡æ•´ä¸ªæ•°æ®é›†ä¸Šçš„æ€»æŸå¤±ã€‚<br>$$<br>\boldsymbol{J}(\boldsymbol{\theta})&#x3D;\frac{1}{n} \sum_{i&#x3D;1}^{n} \mathcal{L} (\underbrace{f(x^{(i)} ; \theta)}<em>{Predicted}, \underbrace{\left.y^{(i)}\right.}</em>{Actual})<br>$$</p><p>ç”±äºæŸå¤±æ˜¯ç½‘ç»œæƒé‡çš„å‡½æ•°ï¼Œæˆ‘ä»¬çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°å®ç°æœ€ä½æŸå¤±çš„æƒé‡é›†ï¼š<br>$$<br>\boldsymbol{\theta}^{*}&#x3D;\underset{\boldsymbol{\theta}}{\operatorname{argmin}} J(\boldsymbol{\theta})<br>$$<br>å¦‚æœåªæœ‰ä¸¤ä¸ªæƒé‡$\theta_0 \ and \ \theta_1$ï¼Œæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶ä¸‹é¢çš„æŸå¤±å‡½æ•°å›¾ã€‚æˆ‘ä»¬æƒ³è¦åšçš„æ˜¯æ‰¾å‡ºè¿™ç§æŸå¤±çš„æœ€å°å€¼ï¼Œä»è€Œæ‰¾å‡ºæŸå¤±è¾¾åˆ°æœ€å°å€¼æ—¶çš„æƒé‡å€¼ã€‚</p><p><img src="/src/640-165778022160111.jpeg" alt="å›¾ç‰‡"></p><p>ä¸ºäº†æœ€å°åŒ–æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬å¯åº”ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼š</p><ul><li><p>é¦–å…ˆï¼Œæˆ‘ä»¬éšæœºé€‰æ‹©æƒé‡çš„åˆå§‹på‘é‡ï¼ˆä¾‹å¦‚ï¼Œéµå¾ªæ­£æ€åˆ†å¸ƒï¼‰ã€‚</p></li><li><p>ç„¶åï¼Œæˆ‘ä»¬è®¡ç®—åˆå§‹på‘é‡ä¸­æŸå¤±å‡½æ•°çš„æ¢¯åº¦ã€‚</p></li><li><p>æ¢¯åº¦æ–¹å‘æŒ‡ç¤ºçš„æ˜¯ä½¿æŸå¤±å‡½æ•°æœ€å¤§åŒ–çš„æ–¹å‘ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬åœ¨æ¢¯åº¦çš„åæ–¹å‘ä¸Šè¿ˆå‡ºäº†ä¸€å°æ­¥ï¼Œä½¿ç”¨æ­¤æ›´æ–°è§„åˆ™ç›¸åº”åœ°æ›´æ–°æƒé‡å€¼ï¼š<br>$$<br>\theta \leftarrow \theta-\eta \frac{\partial J(\theta)}{\partial \theta}<br>$$</p></li><li><p>æˆ‘ä»¬ä¸æ–­ç§»åŠ¨ï¼Œç›´è‡³æ”¶æ•›è¾¾åˆ°è¿™å¼ å›¾çš„æœ€ä½ç‚¹ï¼ˆå±€éƒ¨æœ€å°å€¼ï¼‰ã€‚</p></li></ul><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>åœ¨æ›´æ–°è§„åˆ™ä¸­ï¼Œ$\eta$æ˜¯<strong>å­¦ä¹ ç‡</strong>ï¼Œå†³å®šç€æˆ‘ä»¬åœ¨æ¢¯åº¦åæ–¹å‘ä¸Šç§»åŠ¨æ­¥ä¼çš„å¤§å°ã€‚å®ƒçš„é€‰æ‹©éå¸¸é‡è¦ï¼Œå› ä¸ºç°ä»£ç¥ç»ç½‘ç»œçš„æ¶æ„æ˜¯éå¸¸éå‡¸çš„ã€‚å¦‚æœå­¦ä¹ ç‡å¤ªä½ï¼Œæ¨¡å‹å¯èƒ½é™·å…¥å±€éƒ¨æœ€å°å€¼ï¼›å¦‚æœå­¦ä¹ ç‡å¤ªå¤§ï¼Œæ¨¡å‹åˆ™å¯èƒ½å‘æ•£ã€‚å¯ä»¥é‡‡ç”¨<strong>è‡ªé€‚åº”å­¦ä¹ ç‡</strong>æ¥è°ƒæ•´æ¢¯åº¦æ¯æ¬¡è¿­ä»£æ—¶çš„å­¦ä¹ ç‡ã€‚æœ‰å…³æ›´è¯¦ç»†çš„è¯´æ˜ï¼Œè¯·é˜…è¯»Sebastian Ruderå¯¹æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•çš„æ¦‚è¿°ã€‚</li><li>ä¸ºäº†è®¡ç®—ç»™å®šå‘é‡çš„æŸå¤±å‡½æ•°çš„æ¢¯åº¦ï¼Œæˆ‘ä»¬ä½¿ç”¨åå‘ä¼ æ’­ã€‚è€ƒè™‘ä¸Šé¢çš„ç®€å•ç¥ç»ç½‘è·¯ç»œï¼Œå®ƒåŒ…å«ä¸€ä¸ªéšå«å±‚å’Œä¸€ä¸ªè¾“å‡ºå±‚ã€‚æƒ³è¦è®¡ç®—ä¸æ¯ä¸ªå‚æ•°æœ‰å…³çš„æŸå¤±å‡½æ•°çš„æ¢¯åº¦$\theta_1$ï¼Œé¦–å…ˆï¼Œåº”ç”¨é“¾è§„åˆ™ï¼Œå› ä¸º$J(\theta)ä»…ä»…ä¾èµ–äº\hat{y}$ã€‚ç„¶åï¼Œå†æ¬¡åº”ç”¨é“¾è§„åˆ™æ¥å°†æ¢¯åº¦åå‘ä¼ æ’­ç»™å‰ä¸€å±‚ã€‚å‡ºäºåŒæ ·çš„åŸå› ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼Œå› ä¸º$z_1$(éšè—çŠ¶æ€ï¼‰ä»…å–å†³äºè¾“å…¥$xå’Œ\theta_1$ã€‚å› æ­¤ï¼Œåå‘ä¼ æ’­åŒ…æ‹¬<strong>ä½¿ç”¨æ¥è‡ªåé¢å±‚çš„æ¢¯åº¦å¯¹ç½‘ç»œä¸­æ¯ä¸ªæƒé‡é‡å¤è¿™æ ·çš„è¿‡ç¨‹ã€‚</strong></li></ul><p><img src="/src/640-165778022160318.png" alt="å›¾ç‰‡"></p><p><strong>ç¥ç»ç½‘ç»œå®è·µ</strong></p><ul><li>åœ¨å­˜åœ¨å¤§æ•°æ®é›†çš„æƒ…å†µä¸‹ï¼Œå…³äºæ¯ä¸ªæƒé‡çš„æ¢¯åº¦è®¡ç®—å¯èƒ½éå¸¸æ˜‚è´µï¼ˆè€ƒè™‘åå‘ä¼ æ’­ä¸­çš„é“¾è§„åˆ™ï¼‰ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—æ•°æ®å­é›†ï¼ˆå°æ‰¹é‡ï¼‰çš„æ¢¯åº¦ï¼Œå°†å…¶ä½œä¸ºçœŸå®æ¢¯åº¦çš„ä¼°è®¡å€¼ã€‚å®ƒèƒ½ç»™å‡ºæ¯”ä»…éšæœºè¿›è¡Œä¸€æ¬¡è§‚å¯Ÿçš„éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆSGDï¼‰æ›´å‡†ç¡®çš„æ¢¯åº¦ä¼°è®¡å€¼ï¼Œè€Œä¸”æ¯”ä½¿ç”¨å…¨éƒ¨æ•°æ®è¿›è¡Œæ¢¯åº¦è®¡ç®—çš„æ–¹å¼è¦å¿«ã€‚æ¯æ¬¡è¿­ä»£ä½¿ç”¨å°æ‰¹é‡æ¢¯åº¦è®¡ç®—ï¼Œå¯ä»¥å¿«é€Ÿè®­ç»ƒæ¨¡å‹ï¼Œç‰¹åˆ«æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨ä¸åŒçš„çº¿ç¨‹ï¼ˆGPUï¼‰æ—¶ã€‚æˆ‘ä»¬å¯ä»¥å¹¶è¡Œè®¡ç®—æ¯ä¸ªè¿­ä»£ï¼šæ¯ä¸ªæƒé‡å’Œæ¢¯åº¦çš„æ‰¹å¤„ç†åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­è®¡ç®—ã€‚ç„¶åï¼Œæ”¶é›†è®¡ç®—ä»¥å®Œæˆè¿­ä»£ã€‚</li><li>å’Œä»»ä½•å…¶ä»–â€œç»å…¸â€æœºå™¨å­¦ä¹ ç®—æ³•ä¸€æ ·ï¼Œç¥ç»ç½‘ç»œå¯èƒ½é¢ä¸´è¿‡åº¦æ‹Ÿåˆçš„é—®é¢˜ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›æ„å»ºè¿™æ ·çš„æ¨¡å‹ï¼šèƒ½å¤Ÿä»è®­ç»ƒæ•°æ®ä¸­å­¦ä¹ é—®é¢˜æè¿°ï¼Œè€Œä¸”ä¹Ÿèƒ½å¤Ÿå¾ˆå¥½åœ°æ¦‚æ‹¬çœ‹ä¸è§çš„æµ‹è¯•æ•°æ®ã€‚æ­£åˆ™åŒ–æ˜¯ä¸€ç§é™åˆ¶ä¼˜åŒ–é—®é¢˜ã€é¿å…äº§ç”Ÿå¤æ‚æ¨¡å‹ï¼ˆå³é¿å…è®°å¿†æ•°æ®ï¼‰çš„æ–¹æ³•ã€‚å½“è°ˆè®ºæ­£åˆ™åŒ–æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè®¨è®ºDropoutã€‚å®ƒåœ¨è®­ç»ƒé˜¶æ®µéšæœºä¸¢å¼ƒï¼ˆä¸¢å¼ƒï¼Œå³å°†ç›¸å…³æ¿€æ´»è®¾ç½®ä¸º0ï¼‰æŸäº›éšè—ç¥ç»å…ƒæˆ–è€…åœ¨æœ‰å¯èƒ½è¿‡åº¦æ‹Ÿåˆçš„æƒ…å†µä¸‹æå‰ç»“æŸè®­ç»ƒè¿‡ç¨‹ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è®¡ç®—ç›¸å¯¹äºè®­ç»ƒè¿­ä»£æ¬¡æ•°çš„è®­ç»ƒå’Œæµ‹è¯•é˜¶æ®µçš„æŸå¤±ã€‚å½“æµ‹è¯•é˜¶æ®µçš„æŸå¤±å‡½æ•°å¼€å§‹å¢åŠ æ—¶ï¼Œæˆ‘ä»¬åœæ­¢å­¦ä¹ ã€‚ï¿½å¢åŠ æ—¶ï¼Œæˆ‘ä»¬åœæ­¢å­¦ä¹ ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”ç‚¼ä¸¹ç»éªŒå°è®°</title>
    <link href="/2022/07/01/DeepLearning/%E7%82%BC%E4%B8%B9%E5%A4%A7%E6%B3%95/"/>
    <url>/2022/07/01/DeepLearning/%E7%82%BC%E4%B8%B9%E5%A4%A7%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="Â·1"><a href="#Â·1" class="headerlink" title="Â·1"></a>Â·1</h1><p><strong>å¯å¤ç°æ€§å’Œä¸€è‡´æ€§ã€</strong></p><p>æœ‰çš„åŒå­¦åœ¨æ‰“æ¯”èµ›çš„æ—¶å€™ï¼Œä»å¤´åˆ°å°¾åªç»´æŠ¤è‹¥å¹²ä»½ä»£ç ï¼Œæ¯æ¬¡è½½å…¥å‰ä¸€æ¬¡çš„è®­ç»ƒå‚æ•°ï¼Œæ”¹ä¸€ä¸‹ä»£ç å†ç‚¼ï¼Œä¿—ç§°<strong>è€ä¸¹</strong>ã€‚è¿™æ ·ä¼šæœ‰å‡ ä¸ªé—®é¢˜ï¼šæŸæ¬¡å¼•å…¥ä¸€ä¸ª bugï¼Œè¿‡äº†å¾ˆä¹…æ‰å‘ç°ï¼Œç„¶åä¸çŸ¥é“å½±å“èŒƒå›´ï¼›å¾—åˆ°ä¸€ä¸ªå¥½æ¨¡å‹ï¼Œä½†æ˜¯ä¸çŸ¥é“å®ƒæ˜¯æ€ä¹ˆæ¥çš„ï¼›å¿˜äº†è‡ªå·±çš„ baselineï¼Œä¸çŸ¥é“æ”¹åŠ¨æ˜¯æ­£é¢è¿˜æ˜¯è´Ÿé¢ã€‚</p><p>è¦å°½å¯èƒ½ç¡®ä¿æ¯ä¸€ä¸ªæ¨¡å‹æœ‰å¯å¤ç°æ€§ï¼Œå®è·µä¸Šå»ºè®®ä»£ç ä¸åº”è¯¥åœ¨è®­ç»ƒåå†æ”¹åŠ¨ï¼Œè®­ç»ƒæ–°çš„æ¨¡å‹æ—¶ï¼ŒæŠŠæ—§çš„ä»£ç å¤åˆ¶ä¸€éã€‚å¾—åˆ°çš„å®éªŒç»“æœè¦å¼€ä¸ªæ–‡æ¡£è®°ä¸‹æ¥ä»¥ä¾¿æ—¥åæ€»ç»“ï¼Œé¿å…é—å¿˜ã€‚æˆ‘ç»å¸¸é€šè¿‡é˜…è¯»è‡ªå·±å’Œåˆ«äººçš„è®°å½•æ¥å¾—åˆ°çµæ„Ÿã€‚</p><p>å®éªŒä¸€è‡´æ€§ä¸Šä¹Ÿè¦å¤šåšåŠªåŠ›ï¼Œç†æƒ³çŠ¶æ€æ˜¯æœ‰åˆç†çš„åŸºå‡†æ¥æµ‹æ¨¡å‹çš„æ€§èƒ½ï¼ŒåŒä¸€ä¸ªä»£ç ä¸åº”è¯¥ç”±äºè¶…å‚çš„å¾®å°æ”¹åŠ¨è€Œæœ‰æ˜¾è‘—ç»“æœå·®å¼‚ã€‚å‡ºç°è¿™ç§æƒ…å†µå¯èƒ½æ˜¯æ•°æ®å¤ªå°‘æˆ–åŸºå‡†è®¾ç½®ä¸å½“ã€‚</p><p><strong>ã€èµ„æºåˆ©ç”¨ã€</strong><br>å¯¹äºæ–°å…¥è¡Œçš„åŒå­¦ï¼Œä¸è¦è¯•å›¾åœ¨ç©å…·çº§åˆ«çš„æ•°æ®é›†æˆ–ä»»åŠ¡ä¸Šåšé è°±çš„ç ”ç©¶ï¼Œæ¯”å¦‚ MNISTã€‚</p><p>ä¸æ˜¯æ¯ä¸€ä¸ªå®éªŒéƒ½è¦å‡ºä¸€ä¸ªå¥½æ¨¡å‹ï¼Œ<strong>å®éªŒæ˜¯ä¸ºäº†éªŒè¯ç»“è®ºçš„</strong>ã€‚å¦‚æœæ¯ä¸ªå®éªŒéƒ½è¦ 8 å¼ å¡è·‘ä¸¤ä¸ªæ˜ŸæœŸï¼ŒäººåŠ›ç‰©åŠ›éƒ½è€—ä¸èµ·ã€‚å°½åŠ›æŠŠå®éªŒæ§åˆ¶åœ¨å•å¡ä¸€å¤©ä»¥å†…ï¼Œç†æƒ³çŠ¶æ€æ˜¯åŠå¤©å¾—ä¸€æ¬¡ç»“è®ºã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œæ°´å¤šåŠ é¢é¢å¤šåŠ æ°´ï¼ˆåŠ æ•°æ®åŠ è®¡ç®—é‡ï¼‰çš„åšæ³•æ— é™æ¶¨ç‚¹ã€‚å»ºè®®å…ˆè®¾ä¸€ä¸ªç›®æ ‡ï¼Œæ¯”å¦‚è¯´å°±æ˜¯åœ¨ä¸€å¤©çš„è®­ç»ƒæ—¶é—´ä¸‹åšå¯¹æ¯”å®éªŒã€‚</p><p>æˆ‘çš„å®è·µç»éªŒæ˜¯ï¼Œé¦–å…ˆç”¨å°å›¾å°æ¨¡å‹ï¼Œæ¯”å¦‚ 128 x 128 è¾“å…¥çš„ ResNet18ï¼›ç”¨ cProfile æ¥æ‰¾æ€§èƒ½ç“¶é¢ˆï¼Œæ¯”å¦‚æˆ‘å‘ç°æŸä¸ªæ¨¡å‹ï¼Œè®­ç»ƒçš„æ—¶å€™æœ‰ä¸€å¤§åŠæ—¶é—´è€—è´¹åœ¨ç­‰æ•°æ®ï¼Œæ•°æ®å¤„ç†ä¸­ä¸€å¤§åŠæ—¶é—´åœ¨è°ƒç”¨ numpy çš„ round å‡½æ•°ï¼Œå‰æœŸæŠŠç²¾åŠ›é›†ä¸­åœ¨æé«˜åšå®éªŒçš„æ•ˆç‡ä¸Šã€‚</p><p><strong>ã€æ¨¡å‹ä¸ workã€</strong><br>å…ˆæŠŠé”¦ä¸Šæ·»èŠ±çš„ä¸œè¥¿å»æ‰ï¼Œæ¯”å¦‚æ•°æ®å¢å¹¿ï¼Œç„å­¦å­¦ä¹ ç‡å’Œè¶…å‚ï¼Œé­”å¹»æŸå¤±å‡½æ•°ï¼Œå¼‚å½¢æ¨¡å‹ã€‚å¦‚æœä¸–ç•Œä¸Šæœ‰ä¸€ä¸ªéè¦åŠ æ—‹è½¬å¢å¹¿å’Œ 1.96e-4 å­¦ä¹ ç‡ 42 batchsizeï¼Œé…ä¸Šå››ç§æ··åˆæŸå¤±å‡½æ•°æ‰èƒ½è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œå®ƒåº”è¯¥å­˜åœ¨äº<strong>çµèƒ½æ–‡æ˜</strong>ã€‚å¯ä»¥å…ˆé€ ä¸€äº›å°½é‡ç©å…·çš„æ¨¡å‹ï¼ŒéªŒè¯ä»£ç æ­£ç¡®æ€§ã€‚</p><p><strong>ã€éœ€è¦è¿›ä¸€æ­¥æ”¹è¿›ã€</strong><br>å…ˆç¡®è®¤å½±å“æ¨¡å‹æ€§èƒ½çš„ç»„ä»¶ã€‚æ„Ÿæ€§è®¤è¯†å°±æ˜¯ï¼Œæ•°æ®æ˜¯å¦éœ€è¦å¢åŠ æˆ–å¢å¹¿ã€‚æ¨¡å‹æ˜¯å¤§äº†è¿˜æ˜¯å°äº†ï¼Œå†æ ¹æ®é€Ÿåº¦å’Œç²¾åº¦æœŸæœ›å¼€å§‹å¯»æ‰¾åˆé€‚çš„æ¨¡å‹ã€‚èƒ½ç”¨å…¨å·ç§¯çš„ä»»åŠ¡ï¼Œå°‘ç”¨å…¨è¿æ¥å±‚ï¼Œå‚æ•°é‡å°ã€‚åŸºæœ¬æ¨¡å‹ä¸Š ResNet, Unet ç»“æ„è¿˜æ˜¯ä¸»æµã€‚</p><p>å½“ä½ çš„æ¨¡å‹æœ‰ Batch Normalizationï¼Œåˆå§‹åŒ–é€šå¸¸ä¸éœ€è¦æ“å¿ƒï¼Œæ¿€æ´»å‡½æ•°é»˜è®¤ Relu å³å¯ï¼ˆæŸå¼•ç”¨æ•°ä¸‡çš„å¤§ä½¬è¯´çš„ï¼‰ã€‚ä¸€èˆ¬é¡ºåºæ˜¯ Conv - BN - Reluã€‚å¦‚æœæ²¡æœ‰ BNï¼ˆå¾ˆå¤šä»»åŠ¡ä¸Šï¼ŒBNé™ä½è®­ç»ƒéš¾åº¦ï¼Œä½†æ˜¯å¯èƒ½å½±å“æœ€ç»ˆæ€§èƒ½ ï¼‰ï¼Œè¯•ç€è¦åšä¸€äº›æ•°æ®å½’ä¸€åŒ–ã€‚</p><p>è™½ç„¶æœ‰è‡³å°‘åç§æ¿€æ´»å‡½æ•°ï¼Œä½†åœ¨ Relu å¤–åªæ¨èè¯•ä¸€ä¸‹ Swishã€‚ä¼˜åŒ–å™¨åªæ¨è Momentum å’Œ Adamã€‚åœ¨è¿™äº›æ–¹é¢åšå°è¯•æ„ä¹‰ä¸å¤§ï¼Œå¦‚æœæ€§èƒ½æå‡åå€’å¯èƒ½è¯´æ˜æ¨¡å‹ä¸æˆç†Ÿã€‚ä¸æ¨èåšäººè‚‰æ¨¡å‹è®¾è®¡ï¼Œæ¯”å¦‚æŠŠæŸå±‚å·ç§¯æ”¹å¤§ä¸€ç‚¹ï¼Œæˆ–è€…å¾®è°ƒä¸€ä¸‹é€šé“æ•°ã€‚é™¤éæœ‰ç‰¹åˆ« insightï¼Œä¸è¦è‡ªå·±ä¹±è®¾è®¡æ–°ç»„ä»¶ã€‚</p><p>è¶…å‚ä¸Šï¼Œlearning rate æœ€é‡è¦ï¼Œæ¨èäº†è§£ cosine learning rate å’Œ cyclic learning rateï¼Œå…¶æ¬¡æ˜¯ batchsize å’Œ weight decayã€‚å½“ä½ çš„æ¨¡å‹è¿˜ä¸é”™çš„æ—¶å€™ï¼Œå¯ä»¥è¯•ç€åšæ•°æ®å¢å¹¿å’Œæ”¹æŸå¤±å‡½æ•°é”¦ä¸Šæ·»èŠ±äº†ã€‚</p><h1 id="Â·2"><a href="#Â·2" class="headerlink" title="Â·2"></a>Â·2</h1><p>1ã€ä¸€ä¸Šæ¥å°±è‡ªå·±åŠ¨æ‰‹å†™æ¨¡å‹ã€‚å»ºè®®é¦–å…ˆç”¨æˆç†Ÿçš„å¼€æºé¡¹ç›®åŠå…¶é»˜è®¤é…ç½®ï¼ˆä¾‹å¦‚ Gluon å¯¹ç»å…¸æ¨¡å‹çš„å„ç§å¤ç°ã€å„ä¸ªè‘—åæ¨¡å‹ä½œè€…è‡ªå·±æ”¾å‡ºæ¥çš„ä»£ç ä»“åº“ï¼‰åœ¨è‡ªå·±çš„æ•°æ®é›†ä¸Šè·‘ä¸€éï¼Œåœ¨ç­‰ç¨‹åºè¿è¡Œç»“æŸçš„æ—¶é—´é‡Œä»”ç»†ç ”ç©¶ä¸€ä¸‹ä»£ç é‡Œçš„å„ç§ç»†èŠ‚ï¼Œæœ€åå†è‡ªå·±å†™æˆ–è€…æ”¹ä»£ç ã€‚</p><p>2ã€è®­ RNN ä¸åŠ  gradient clippingï¼Œå¯¼è‡´è®­ç»ƒä¸€æ®µæ—¶é—´ä»¥å loss çªç„¶å˜æˆ Nanã€‚</p><p>3ã€tying input &amp; output embeddingï¼ˆå°±æ˜¯è¯å‘é‡å±‚å’Œè¾“å‡º softmax å‰çš„çŸ©é˜µå…±äº«å‚æ•°ï¼Œåœ¨è¯­è¨€æ¨¡å‹æˆ–æœºå™¨ç¿»è¯‘ä¸­å¸¸ç”¨ï¼‰æ—¶å­¦ä¹ ç‡éœ€è¦è®¾ç½®å¾—éå¸¸å°ï¼Œä¸ç„¶å®¹æ˜“ Nanã€‚</p><p>4ã€åœ¨æ•°æ®é›†å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸Šæ¥å°±è·‘å…¨é‡æ•°æ®ã€‚å»ºè®®å…ˆç”¨ 1&#x2F;100ã€1&#x2F;10 çš„æ•°æ®è·‘ä¸€è·‘ï¼Œå¯¹æ¨¡å‹æ€§èƒ½å’Œè®­ç»ƒæ—¶é—´æœ‰ä¸ªåº•ï¼Œå¤–æ¨ä¸€ä¸‹å…¨é‡æ•°æ®åˆ°åº•éœ€è¦è·‘å¤šä¹…ã€‚åœ¨æ²¡æœ‰è¶³å¤Ÿçš„ä¿¡å¿ƒå‰ä¸åšå¤§è§„æ¨¡å®éªŒã€‚</p><p>5ã€åªå–œæ¬¢æ¼‚äº®çš„æ¨¡å‹ç»“æ„ï¼Œç§ä¸èµ·è°ƒå‚æ•°çš„è®ºæ–‡&#x2F;å®éªŒæŠ¥å‘Šï¼Œçœ‹è®ºæ–‡æ—¶ç»å¸¸ä¸çœ‹è¶…å‚æ•°è®¾ç½®ç­‰ç»†èŠ‚ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨è¿˜æœ‰ç›¸å½“å¤šçš„äººä¸çŸ¥é“ BERT çš„æ¿€æ´»å‡½æ•°æ˜¯ GELU è€Œä¸æ˜¯ transformer åŸè®ºæ–‡ä¸­çš„ ReLUã€‚åœ¨è‡ªå·±æ²¡æœ‰å¤ªå¤šèµ„æºå®éªŒçš„æƒ…å†µä¸‹ï¼Œå®éªŒæŠ¥å‘Šç±»æ–‡ç« ç®€ç›´æ˜¯ä¸šç•Œè‰¯å¿ƒå¥½ä¸å¥½ï¼</p><p>NLP é¢†åŸŸä¸»è¦æ¨èä»¥ä¸‹å‡ ç¯‡ï¼š</p><p>Regularizing and Optimizing LSTM Language Modelsï¼ˆLSTM çš„è®­ç»ƒæŠ€å·§ï¼‰</p><p>Massive Exploration of Neural Machine Translation Architecturesï¼ˆNMT é‡Œå„ä¸ªè¶…å‚çš„å½±å“ï¼‰</p><p>Training Tips for the Transformer Modelï¼ˆè®­ç»ƒ Transformer æ—¶ä¼šå‘ç”Ÿçš„å„ç§ç°è±¡ï¼‰</p><p>RoBERTa: A Robustly Optimized BERT Pretraining Approachï¼ˆBERT é¢„è®­ç»ƒæŠ€å·§ï¼Œè™½ç„¶è·Ÿå¤§éƒ¨åˆ†äººæ²¡å•¥å…³ç³»ï¼‰</p><p>CV æˆ‘ä¸ç®—å¤ªç†Ÿï¼Œä¸è¿‡ä¹Ÿå¯ä»¥å‹‰å¼ºæ¨èå‡ ç¯‡ï¼š</p><p>Training ImageNet in 1 Hourï¼ˆå¤§æ‰¹é‡è®­ç»ƒæŠ€å·§ï¼‰</p><p>Bag of Tricks for Image Classification with Convolutional Neural Networksï¼ˆå„ç§è®­ç»ƒæŠ€å·§é›†å¤§æˆï¼‰</p><p>EfficientNet: Rethinking Model Scaling for Convolutional Neural Networksï¼ˆå½“å‰å¯¹å‚æ•°åˆ©ç”¨æœ€æœ‰æ•ˆçš„ CNNï¼‰</p><p>6ã€åˆå§‹å­¦ä¹ ç‡ï¼š</p><p>æœ‰æ—¶å— batch sizeã€sequence length å„ç§å› ç´ çš„å½±å“ï¼Œloss å¾ˆå¤§ï¼ˆæ¯”å¦‚è¯´å¥½å‡ ä¸‡ï¼‰ï¼Œå¯¹äºè¿™ç§æ•°å­—äººæ˜¯æ²¡æœ‰æ•°æ„Ÿçš„ï¼Œå»ºè®®é¦–å…ˆè®¡ç®—ä¸€ä¸‹ per token lossï¼ˆå¦‚æœæ˜¯å¤šä»»åŠ¡ï¼Œå¯ä»¥æ¯ä¸ªä»»åŠ¡å•ç‹¬ç®—ï¼›ç±»ä¼¼åœ°ï¼ŒæŸäº› CV ä»»åŠ¡å¯ä»¥è®¡ç®— per pixel lossï¼‰ï¼Œå¿ƒé‡Œæœ‰ç‚¹æ„Ÿè§‰ã€‚è„±ç¦»æŸå¤±å‡½æ•°çš„å½¢å¼è°ˆå­¦ä¹ ç‡æ²¡æœ‰æ„ä¹‰ï¼ˆä¾‹å¦‚å•æ˜¯å¯¹ batch size æ±‚å’Œæˆ–è€…å–å¹³å‡è¿™ä¸ªå·®å¼‚å°±ä¼šä½¿æ¢¯åº¦å·®æˆç™¾ä¸Šåƒå€ï¼‰ã€‚</p><p>åœ¨ç¡®å®šåˆå§‹å­¦ä¹ ç‡çš„æ—¶å€™ï¼Œä»ä¸€ä¸ªå¾ˆå°çš„å€¼ï¼ˆä¾‹å¦‚ 1e-7ï¼‰å¼€å§‹ï¼Œç„¶åæ¯ä¸€æ­¥æŒ‡æ•°å¢å¤§å­¦ä¹ ç‡ï¼ˆä¾‹å¦‚æ‰©å¤§1.05 å€ï¼‰è¿›è¡Œè®­ç»ƒã€‚è®­ç»ƒå‡ ç™¾æ­¥åº”è¯¥èƒ½è§‚å¯Ÿåˆ°æŸå¤±å‡½æ•°éšè®­ç»ƒæ­¥æ•°å‘ˆå¯¹å‹¾å½¢ï¼Œé€‰æ‹©æŸå¤±ä¸‹é™æœ€å¿«é‚£ä¸€æ®µçš„å­¦ä¹ ç‡å³å¯ã€‚</p><p>7ã€Adam å¯ä»¥è§£å†³ä¸€å †å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼ˆæœ‰æ—¶ loss é™ä¸ä¸‹å»ï¼Œæ¢ Adam ç¬é—´å°±å¥½äº†ï¼‰ï¼Œä¹Ÿå¯ä»¥å¸¦æ¥ä¸€å †å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼ˆæ¯”å¦‚å•è¯è¯é¢‘å·®å¼‚å¾ˆå¤§ï¼Œå½“å‰ batch æ²¡æœ‰çš„å•è¯çš„è¯å‘é‡ä¹Ÿè¢«æ›´æ–°ï¼›å†æ¯”å¦‚Adamå’ŒL2æ­£åˆ™ç»“åˆäº§ç”Ÿçš„å¤æ‚æ•ˆæœï¼‰ã€‚ç”¨çš„æ—¶å€™è¦èƒ†å¤§å¿ƒç»†ï¼Œä¸‡ä¸€é‡åˆ°é—®é¢˜æ‰¾å„ç§é­”æ”¹ Adamï¼ˆæ¯”å¦‚ MaskedAdam, AdamW å•¥çš„ï¼‰æŠ¢æ•‘ã€‚</p><p>8ã€subword æ€»æ˜¯ä¼šå¾ˆç¨³å®šåœ°æ¶¨ç‚¹ï¼Œåªç®¡ç”¨å°±å¯¹äº†ã€‚</p><p><strong>9ã€è¦æœ‰è€å¿ƒ</strong>ï¼</p><p>è¿™ä¸€æ¡æ”¾åœ¨æœ€åï¼Œæ˜¯å› ä¸ºå¾ˆå¤šäººä¸æŠŠå®ƒå½“ä¸€å›äº‹å„¿ã€‚å¯èƒ½æ˜¯è§‰å¾—è¿™ä¸€æ¡ä¸éœ€è¦å†™ä»£ç æ‰€ä»¥ä¸é‡è¦ï¼Ÿæˆ‘è§è¿‡å¤ªå¤šäººå› ä¸ºè¿™æ¡æµªè´¹æ—¶é—´äº†ï¼Œæ‰€ä»¥ä¸“é—¨å¼ºè°ƒä¸€ä¸‹ã€‚</p><p>æœ‰äº›æŒ‡æ ‡æ˜¯æœ‰æ»åæ€§çš„ï¼Œéœ€è¦ç­‰è®­ç»ƒä¸€æ®µæ—¶é—´æ‰å¼€å§‹åŠ¨ã€‚å¾ˆå¤šäººè®­ç»ƒå‡ æ­¥çœ‹æ²¡ä»€ä¹ˆæ•ˆæœå°±æŠŠç¨‹åºåœæ‰å¼€å§‹ debug äº†ï¼Œä½†å…¶å®ä»£ç æ¯«æ— é—®é¢˜ã€‚å¦‚æ­¤åå¤å¥½å‡ å¤©ç”šè‡³ä¸€ä¸¤å‘¨éƒ½åœ¨åŸåœ°è¸æ­¥ï¼Œå…¶å®éœ€è¦åšçš„ä»…ä»…æ˜¯è®©ç¨‹åºè‡ªä¸ªå„¿å®‰å®‰é™é™åœ°è·‘ä¸Šå‡ ä¸ªå°æ—¶æˆ–è€…ä¸€å¤©â€¦â€¦</p><h1 id="Â·3"><a href="#Â·3" class="headerlink" title="Â·3"></a>Â·3</h1><p><strong>å‚æ•°åˆå§‹åŒ–ã€‚</strong></p><p>ä¸‹é¢å‡ ç§æ–¹å¼,éšä¾¿é€‰ä¸€ä¸ª,ç»“æœåŸºæœ¬éƒ½å·®ä¸å¤šã€‚ä½†æ˜¯ä¸€å®šè¦åšã€‚å¦åˆ™å¯èƒ½ä¼šå‡æ…¢æ”¶æ•›é€Ÿåº¦ï¼Œå½±å“æ”¶æ•›ç»“æœï¼Œç”šè‡³é€ æˆNanç­‰ä¸€ç³»åˆ—é—®é¢˜ã€‚</p><p>ä¸‹é¢çš„n_inä¸ºç½‘ç»œçš„è¾“å…¥å¤§å°ï¼Œn_outä¸ºç½‘ç»œçš„è¾“å‡ºå¤§å°ï¼Œnä¸ºn_inæˆ–(n_in+n_out)*0.5</p><p>Xavieråˆå§‹æ³•è®ºæ–‡ï¼š</p><p><a href="http://jmlr.org/proceedings/papers/v9/glorot10a/glorot10a.pdf">http://jmlr.org/proceedings/papers/v9/glorot10a/glorot10a.pdf</a></p><p>Heåˆå§‹åŒ–è®ºæ–‡ï¼š<a href="https://arxiv.org/abs/1502.01852">https://arxiv.org/abs/1502.01852</a></p><ul><li><p>uniformå‡åŒ€åˆ†å¸ƒåˆå§‹åŒ–ï¼š<br>w &#x3D; np.random.uniform(low&#x3D;-scale, high&#x3D;scale, size&#x3D;[n_in,n_out])</p></li><li><ul><li>Xavieråˆå§‹æ³•ï¼Œé€‚ç”¨äºæ™®é€šæ¿€æ´»å‡½æ•°(tanh,sigmoid)ï¼šscale &#x3D; np.sqrt(3&#x2F;n)</li><li>Heåˆå§‹åŒ–ï¼Œé€‚ç”¨äºReLUï¼šscale &#x3D; np.sqrt(6&#x2F;n)</li></ul></li><li><p>normalé«˜æ–¯åˆ†å¸ƒåˆå§‹åŒ–ï¼š<br>w &#x3D; np.random.randn(n_in,n_out) * stdev # stdevä¸ºé«˜æ–¯åˆ†å¸ƒçš„æ ‡å‡†å·®ï¼Œå‡å€¼è®¾ä¸º0</p></li><li><ul><li>Xavieråˆå§‹æ³•ï¼Œé€‚ç”¨äºæ™®é€šæ¿€æ´»å‡½æ•° (tanh,sigmoid)ï¼šstdev &#x3D; np.sqrt(n)</li><li>Heåˆå§‹åŒ–ï¼Œé€‚ç”¨äºReLUï¼šstdev &#x3D; np.sqrt(2&#x2F;n)</li></ul></li><li><p>svdåˆå§‹åŒ–ï¼šå¯¹RNNæœ‰æ¯”è¾ƒå¥½çš„æ•ˆæœã€‚å‚è€ƒè®ºæ–‡ï¼š<a href="https://arxiv.org/abs/1312.6120">https://arxiv.org/abs/1312.6120</a></p></li></ul><p><strong>æ•°æ®é¢„å¤„ç†æ–¹å¼</strong></p><ul><li>zero-center ,è¿™ä¸ªæŒºå¸¸ç”¨çš„.<br>X -&#x3D; np.mean(X, axis &#x3D; 0) # zero-center<br>X &#x2F;&#x3D; np.std(X, axis &#x3D; 0) # normalize</li><li>PCA whitening,è¿™ä¸ªç”¨çš„æ¯”è¾ƒå°‘.</li></ul><p><strong>è®­ç»ƒæŠ€å·§</strong></p><ul><li>è¦åšæ¢¯åº¦å½’ä¸€åŒ–,å³ç®—å‡ºæ¥çš„æ¢¯åº¦é™¤ä»¥minibatch size</li><li>clip c(æ¢¯åº¦è£å‰ª): é™åˆ¶æœ€å¤§æ¢¯åº¦,å…¶å®æ˜¯value &#x3D; sqrt(w1^2+w2^2â€¦.),å¦‚æœvalueè¶…è¿‡äº†é˜ˆå€¼,å°±ç®—ä¸€ä¸ªè¡°å‡ç³»ç³»æ•°,è®©valueçš„å€¼ç­‰äºé˜ˆå€¼: 5,10,15</li><li>dropoutå¯¹å°æ•°æ®é˜²æ­¢è¿‡æ‹Ÿåˆæœ‰å¾ˆå¥½çš„æ•ˆæœ,å€¼ä¸€èˆ¬è®¾ä¸º0.5,å°æ•°æ®ä¸Šdropout+sgdåœ¨æˆ‘çš„å¤§éƒ¨åˆ†å®éªŒä¸­ï¼Œæ•ˆæœæå‡éƒ½éå¸¸æ˜æ˜¾.å› æ­¤å¯èƒ½çš„è¯ï¼Œå»ºè®®ä¸€å®šè¦å°è¯•ä¸€ä¸‹ã€‚ dropoutçš„ä½ç½®æ¯”è¾ƒæœ‰è®²ç©¶, å¯¹äºRNN,å»ºè®®æ”¾åˆ°è¾“å…¥-&gt;RNNä¸RNN-&gt;è¾“å‡ºçš„ä½ç½®.å…³äºRNNå¦‚ä½•ç”¨dropout,å¯ä»¥å‚è€ƒè¿™ç¯‡è®ºæ–‡:<a href="http://arxiv.org/abs/1409.2329">http://arxiv.org/abs/1409.2329</a></li><li>adam,adadeltaç­‰,åœ¨å°æ•°æ®ä¸Š,æˆ‘è¿™é‡Œå®éªŒçš„æ•ˆæœä¸å¦‚sgd, sgdæ”¶æ•›é€Ÿåº¦ä¼šæ…¢ä¸€äº›ï¼Œä½†æ˜¯æœ€ç»ˆæ”¶æ•›åçš„ç»“æœï¼Œä¸€èˆ¬éƒ½æ¯”è¾ƒå¥½ã€‚å¦‚æœä½¿ç”¨sgdçš„è¯,å¯ä»¥é€‰æ‹©ä»1.0æˆ–è€…0.1çš„å­¦ä¹ ç‡å¼€å§‹,éš”ä¸€æ®µæ—¶é—´,åœ¨éªŒè¯é›†ä¸Šæ£€æŸ¥ä¸€ä¸‹,å¦‚æœcostæ²¡æœ‰ä¸‹é™,å°±å¯¹å­¦ä¹ ç‡å‡åŠ. æˆ‘çœ‹è¿‡å¾ˆå¤šè®ºæ–‡éƒ½è¿™ä¹ˆæ,æˆ‘è‡ªå·±å®éªŒçš„ç»“æœä¹Ÿå¾ˆå¥½. å½“ç„¶,ä¹Ÿå¯ä»¥å…ˆç”¨adaç³»åˆ—å…ˆè·‘,æœ€åå¿«æ”¶æ•›çš„æ—¶å€™,æ›´æ¢æˆsgdç»§ç»­è®­ç»ƒ.åŒæ ·ä¹Ÿä¼šæœ‰æå‡.æ®è¯´adadeltaä¸€èˆ¬åœ¨åˆ†ç±»é—®é¢˜ä¸Šæ•ˆæœæ¯”è¾ƒå¥½ï¼Œadamåœ¨ç”Ÿæˆé—®é¢˜ä¸Šæ•ˆæœæ¯”è¾ƒå¥½ã€‚</li><li>é™¤äº†gateä¹‹ç±»çš„åœ°æ–¹,éœ€è¦æŠŠè¾“å‡ºé™åˆ¶æˆ0-1ä¹‹å¤–,å°½é‡ä¸è¦ç”¨sigmoid,å¯ä»¥ç”¨tanhæˆ–è€…reluä¹‹ç±»çš„æ¿€æ´»å‡½æ•°.1. sigmoidå‡½æ•°åœ¨-4åˆ°4çš„åŒºé—´é‡Œï¼Œæ‰æœ‰è¾ƒå¤§çš„æ¢¯åº¦ã€‚ä¹‹å¤–çš„åŒºé—´ï¼Œæ¢¯åº¦æ¥è¿‘0ï¼Œå¾ˆå®¹æ˜“é€ æˆæ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚2. è¾“å…¥0å‡å€¼ï¼Œsigmoidå‡½æ•°çš„è¾“å‡ºä¸æ˜¯0å‡å€¼çš„ã€‚</li><li>rnnçš„dimå’Œembdding size,ä¸€èˆ¬ä»128ä¸Šä¸‹å¼€å§‹è°ƒæ•´. batch size,ä¸€èˆ¬ä»128å·¦å³å¼€å§‹è°ƒæ•´.batch sizeåˆé€‚æœ€é‡è¦,å¹¶ä¸æ˜¯è¶Šå¤§è¶Šå¥½.</li><li>word2vecåˆå§‹åŒ–,åœ¨å°æ•°æ®ä¸Š,ä¸ä»…å¯ä»¥æœ‰æ•ˆæé«˜æ”¶æ•›é€Ÿåº¦,ä¹Ÿå¯ä»¥å¯ä»¥æé«˜ç»“æœ.</li><li>å°½é‡å¯¹æ•°æ®åšshuffle</li><li>LSTM çš„forget gateçš„bias,ç”¨1.0æˆ–è€…æ›´å¤§çš„å€¼åšåˆå§‹åŒ–,å¯ä»¥å–å¾—æ›´å¥½çš„ç»“æœ,æ¥è‡ªè¿™ç¯‡è®ºæ–‡:<a href="http://jmlr.org/proceedings/papers/v37/jozefowicz15.pdf">http://jmlr.org/proceedings/papers/v37/jozefowicz15.pdf</a>, æˆ‘è¿™é‡Œå®éªŒè®¾æˆ1.0,å¯ä»¥æé«˜æ”¶æ•›é€Ÿåº¦.å®é™…ä½¿ç”¨ä¸­,ä¸åŒçš„ä»»åŠ¡,å¯èƒ½éœ€è¦å°è¯•ä¸åŒçš„å€¼.</li><li>Batch Normalizationæ®è¯´å¯ä»¥æå‡æ•ˆæœï¼Œä¸è¿‡æˆ‘æ²¡æœ‰å°è¯•è¿‡ï¼Œå»ºè®®ä½œä¸ºæœ€åæå‡æ¨¡å‹çš„æ‰‹æ®µï¼Œå‚è€ƒè®ºæ–‡ï¼šAccelerating Deep Network Training by Reducing Internal Covariate Shift</li><li>å¦‚æœä½ çš„æ¨¡å‹åŒ…å«å…¨è¿æ¥å±‚ï¼ˆMLPï¼‰ï¼Œå¹¶ä¸”è¾“å…¥å’Œè¾“å‡ºå¤§å°ä¸€æ ·ï¼Œå¯ä»¥è€ƒè™‘å°†MLPæ›¿æ¢æˆHighway Network,æˆ‘å°è¯•å¯¹ç»“æœæœ‰ä¸€ç‚¹æå‡ï¼Œå»ºè®®ä½œä¸ºæœ€åæå‡æ¨¡å‹çš„æ‰‹æ®µï¼ŒåŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯ç»™è¾“å‡ºåŠ äº†ä¸€ä¸ªgateæ¥æ§åˆ¶ä¿¡æ¯çš„æµåŠ¨ï¼Œè¯¦ç»†ä»‹ç»è¯·å‚è€ƒè®ºæ–‡: <a href="http://arxiv.org/abs/1505.00387">http://arxiv.org/abs/1505.00387</a></li><li>æ¥è‡ª@å¼ é¦¨å®‡çš„æŠ€å·§ï¼šä¸€è½®åŠ æ­£åˆ™ï¼Œä¸€è½®ä¸åŠ æ­£åˆ™ï¼Œåå¤è¿›è¡Œã€‚</li></ul><p><strong>Ensemble</strong></p><p>Ensembleæ˜¯è®ºæ–‡åˆ·ç»“æœçš„ç»ˆææ ¸æ­¦å™¨,æ·±åº¦å­¦ä¹ ä¸­ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼</p><ul><li>åŒæ ·çš„å‚æ•°,ä¸åŒçš„åˆå§‹åŒ–æ–¹å¼</li><li>ä¸åŒçš„å‚æ•°,é€šè¿‡cross-validation,é€‰å–æœ€å¥½çš„å‡ ç»„</li><li>åŒæ ·çš„å‚æ•°,æ¨¡å‹è®­ç»ƒçš„ä¸åŒé˜¶æ®µï¼Œå³ä¸åŒè¿­ä»£æ¬¡æ•°çš„æ¨¡å‹ã€‚</li><li>ä¸åŒçš„æ¨¡å‹,è¿›è¡Œçº¿æ€§èåˆ. ä¾‹å¦‚RNNå’Œä¼ ç»Ÿæ¨¡å‹.</li></ul><h1 id="Â·4"><a href="#Â·4" class="headerlink" title="Â·4"></a>Â·4</h1><p><strong>1.</strong> <strong>æ¿€æ´»å‡½æ•°é€‰æ‹©ï¼š</strong></p><p>å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°æœ‰reluã€leaky-reluã€sigmoidã€tanhç­‰ã€‚å¯¹äºè¾“å‡ºå±‚ï¼Œå¤šåˆ†ç±»ä»»åŠ¡é€‰ç”¨softmaxè¾“å‡ºï¼ŒäºŒåˆ†ç±»ä»»åŠ¡é€‰ç”¨sigmoidè¾“å‡ºï¼Œå›å½’ä»»åŠ¡é€‰ç”¨çº¿æ€§è¾“å‡ºã€‚è€Œå¯¹äºä¸­é—´éšå±‚ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©reluæ¿€æ´»å‡½æ•°ï¼ˆreluæ¿€æ´»å‡½æ•°å¯ä»¥æœ‰æ•ˆçš„è§£å†³sigmoidå’Œtanhå‡ºç°çš„æ¢¯åº¦å¼¥æ•£é—®é¢˜ï¼Œå¤šæ¬¡å®éªŒè¡¨æ˜å®ƒä¼šæ¯”å…¶ä»–æ¿€æ´»å‡½æ•°ä»¥æ›´å¿«çš„é€Ÿåº¦æ”¶æ•›ï¼‰ã€‚å¦å¤–ï¼Œæ„å»ºåºåˆ—ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰æ—¶è¦ä¼˜å…ˆé€‰ç”¨tanhæ¿€æ´»å‡½æ•°ã€‚</p><p><strong>2ã€å­¦ä¹ ç‡è®¾å®šï¼š</strong></p><p>ä¸€èˆ¬å­¦ä¹ ç‡ä»0.1æˆ–0.01å¼€å§‹å°è¯•ã€‚å­¦ä¹ ç‡è®¾ç½®å¤ªå¤§ä¼šå¯¼è‡´è®­ç»ƒååˆ†ä¸ç¨³å®šï¼Œç”šè‡³å‡ºç°Nanï¼Œè®¾ç½®å¤ªå°ä¼šå¯¼è‡´æŸå¤±ä¸‹é™å¤ªæ…¢ã€‚å­¦ä¹ ç‡ä¸€èˆ¬è¦éšç€è®­ç»ƒè¿›è¡Œè¡°å‡ã€‚è¡°å‡ç³»æ•°è®¾0.1ï¼Œ0.3ï¼Œ0.5å‡å¯ï¼Œè¡°å‡æ—¶æœºï¼Œå¯ä»¥æ˜¯éªŒè¯é›†å‡†ç¡®ç‡ä¸å†ä¸Šå‡æ—¶ï¼Œæˆ–å›ºå®šè®­ç»ƒå¤šå°‘ä¸ªå‘¨æœŸä»¥åè‡ªåŠ¨è¿›è¡Œè¡°å‡ã€‚</p><p><strong>3ã€é˜²æ­¢è¿‡æ‹Ÿåˆï¼š</strong></p><p>ä¸€èˆ¬å¸¸ç”¨çš„é˜²æ­¢è¿‡æ‹Ÿåˆæ–¹æ³•æœ‰ä½¿ç”¨L1æ­£åˆ™é¡¹ã€L2æ­£åˆ™é¡¹ã€dropoutã€æå‰ç»ˆæ­¢ã€æ•°æ®é›†æ‰©å……ç­‰ã€‚å¦‚æœæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°æ¯”è¾ƒå¥½ä½†åœ¨æµ‹è¯•é›†ä¸Šè¡¨ç°æ¬ ä½³å¯ä»¥é€‰æ‹©å¢å¤§L1æˆ–L2æ­£åˆ™çš„æƒ©ç½šåŠ›åº¦ï¼ˆL2æ­£åˆ™ç»éªŒä¸Šé¦–é€‰1.0ï¼Œè¶…è¿‡10å¾ˆå°‘è§ï¼‰ï¼Œæˆ–å¢å¤§dropoutçš„éšæœºå¤±æ´»æ¦‚ç‡ï¼ˆç»éªŒé¦–é€‰0.5ï¼‰ï¼›æˆ–è€…å½“éšç€è®­ç»ƒçš„æŒç»­åœ¨æµ‹è¯•é›†ä¸Šä¸å¢åé™æ—¶ï¼Œä½¿ç”¨æå‰ç»ˆæ­¢è®­ç»ƒçš„æ–¹æ³•ã€‚å½“ç„¶æœ€æœ‰æ•ˆçš„è¿˜æ˜¯å¢å¤§è®­ç»ƒé›†çš„è§„æ¨¡ï¼Œå®åœ¨éš¾ä»¥è·å¾—æ–°æ•°æ®ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°æ®é›†å¢å¼ºçš„æ–¹æ³•ï¼Œæ¯”å¦‚CVä»»åŠ¡å¯ä»¥å¯¹æ•°æ®é›†è¿›è¡Œè£å‰ªã€ç¿»è½¬ã€å¹³ç§»ç­‰æ–¹æ³•è¿›è¡Œæ•°æ®é›†å¢å¼ºï¼Œè¿™ç§æ–¹æ³•å¾€å¾€éƒ½ä¼šæé«˜æœ€åæ¨¡å‹çš„æµ‹è¯•ç²¾åº¦ã€‚</p><p><strong>4ã€ä¼˜åŒ–å™¨é€‰æ‹©ï¼š</strong></p><p>å¦‚æœæ•°æ®æ˜¯ç¨€ç–çš„ï¼Œå°±ç”¨è‡ªé€‚åº”æ–¹æ³•ï¼Œå³ Adagrad, Adadelta, RMSprop, Adamã€‚æ•´ä½“æ¥è®²ï¼ŒAdam æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚SGD è™½ç„¶èƒ½è¾¾åˆ°æå°å€¼ï¼Œä½†æ˜¯æ¯”å…¶å®ƒç®—æ³•ç”¨çš„æ—¶é—´é•¿ï¼Œè€Œä¸”å¯èƒ½ä¼šè¢«å›°åœ¨éç‚¹ã€‚å¦‚æœéœ€è¦æ›´å¿«çš„æ”¶æ•›ï¼Œæˆ–è€…æ˜¯è®­ç»ƒæ›´æ·±æ›´å¤æ‚çš„ç¥ç»ç½‘ç»œï¼Œéœ€è¦ç”¨ä¸€ç§è‡ªé€‚åº”çš„ç®—æ³•ã€‚</p><p><strong>5ã€æ®‹å·®å—ä¸BNå±‚ï¼š</strong></p><p>å¦‚æœä½ å¸Œæœ›è®­ç»ƒä¸€ä¸ªæ›´æ·±æ›´å¤æ‚çš„ç½‘ç»œï¼Œé‚£ä¹ˆæ®‹å·®å—ç»å¯¹æ˜¯ä¸€ä¸ªé‡è¦çš„ç»„ä»¶ï¼Œå®ƒå¯ä»¥è®©ä½ çš„ç½‘ç»œè®­ç»ƒçš„æ›´æ·±ã€‚</p><p>BNå±‚å…·æœ‰åŠ é€Ÿè®­ç»ƒé€Ÿåº¦ï¼Œæœ‰æ•ˆé˜²æ­¢æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸ï¼Œå…·æœ‰é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ•ˆæœï¼Œæ‰€ä»¥æ„å»ºç½‘ç»œæ—¶æœ€å¥½è¦åŠ ä¸Šè¿™ä¸ªç»„ä»¶ã€‚</p><p><strong>6.è‡ªåŠ¨è°ƒå‚æ–¹æ³•ï¼š</strong></p><p>ï¼ˆ1ï¼‰Grid Searchï¼šç½‘æ ¼æœç´¢ï¼Œåœ¨æ‰€æœ‰å€™é€‰çš„å‚æ•°é€‰æ‹©ä¸­ï¼Œé€šè¿‡å¾ªç¯éå†ï¼Œå°è¯•æ¯ä¸€ç§å¯èƒ½æ€§ï¼Œè¡¨ç°æœ€å¥½çš„å‚æ•°å°±æ˜¯æœ€ç»ˆçš„ç»“æœã€‚å…¶åŸç†å°±åƒæ˜¯åœ¨æ•°ç»„é‡Œæ‰¾æœ€å¤§å€¼ã€‚ç¼ºç‚¹æ˜¯å¤ªè´¹æ—¶é—´äº†ï¼Œç‰¹åˆ«åƒç¥ç»ç½‘ç»œï¼Œä¸€èˆ¬å°è¯•ä¸äº†å¤ªå¤šçš„å‚æ•°ç»„åˆã€‚</p><p>ï¼ˆ2ï¼‰Random Searchï¼šç»éªŒä¸Šï¼ŒRandom Searchæ¯”Gird Searchæ›´æœ‰æ•ˆã€‚å®é™…æ“ä½œçš„æ—¶å€™ï¼Œä¸€èˆ¬ä¹Ÿæ˜¯å…ˆç”¨Gird Searchçš„æ–¹æ³•ï¼Œå¾—åˆ°æ‰€æœ‰å€™é€‰å‚æ•°ï¼Œç„¶åæ¯æ¬¡ä»ä¸­éšæœºé€‰æ‹©è¿›è¡Œè®­ç»ƒã€‚å¦å¤–Random Searchå¾€å¾€ä¼šå’Œç”±ç²—åˆ°ç»†çš„è°ƒå‚ç­–ç•¥ç»“åˆä½¿ç”¨ï¼Œå³åœ¨æ•ˆæœæ¯”è¾ƒå¥½çš„å‚æ•°é™„è¿‘è¿›è¡Œæ›´åŠ ç²¾ç»†çš„æœç´¢ã€‚</p><p>ï¼ˆ3ï¼‰Bayesian Optimizationï¼šè´å¶æ–¯ä¼˜åŒ–ï¼Œè€ƒè™‘åˆ°äº†ä¸åŒå‚æ•°å¯¹åº”çš„   å®éªŒç»“æœå€¼ï¼Œå› æ­¤æ›´èŠ‚çœæ—¶é—´ï¼Œè´å¶æ–¯è°ƒå‚æ¯”Grid Searchè¿­ä»£æ¬¡æ•°å°‘ï¼Œ  é€Ÿåº¦å¿«ï¼›è€Œä¸”å…¶é’ˆå¯¹éå‡¸é—®é¢˜ä¾ç„¶ç¨³å¥ã€‚</p><p><strong>7.å‚æ•°éšæœºåˆå§‹åŒ–ä¸æ•°æ®é¢„å¤„ç†ï¼š</strong></p><p>å‚æ•°åˆå§‹åŒ–å¾ˆé‡è¦ï¼Œå®ƒå†³å®šäº†æ¨¡å‹çš„è®­ç»ƒé€Ÿåº¦ä¸æ˜¯å¦å¯ä»¥èº²å¼€å±€éƒ¨æå°ã€‚reluæ¿€æ´»å‡½æ•°åˆå§‹åŒ–æ¨èä½¿ç”¨He normalï¼Œtanhåˆå§‹åŒ–æ¨èä½¿ç”¨Glorot normalï¼Œå…¶ä¸­Glorot normalä¹Ÿç§°ä½œXavier normalåˆå§‹åŒ–ï¼›æ•°æ®é¢„å¤„ç†æ–¹æ³•ä¸€èˆ¬ä¹Ÿå°±é‡‡ç”¨æ•°æ®å½’ä¸€åŒ–å³å¯ã€‚</p><h1 id="5"><a href="#5" class="headerlink" title="5"></a>5</h1><p>å…³äºå‚æ•°:</p><ul><li>é€šå¸¸æƒ…å†µä¸‹, æ›´æ–°å‚æ•°çš„æ–¹æ³•é»˜è®¤ç”¨ <strong>Adam</strong> æ•ˆæœå°±å¾ˆå¥½</li><li>å¦‚æœå¯ä»¥è½½å…¥å…¨éƒ¨æ•°æ® (full batch updates), å¯ä»¥ä½¿ç”¨ <strong>L-BFGS</strong></li></ul><p>Model Ensembles:</p><ul><li>è®­ç»ƒå¤šä¸ªæ¨¡å‹, åœ¨æµ‹è¯•æ—¶å°†ç»“æœå¹³å‡èµ·æ¥, å¤§çº¦å¯ä»¥å¾—åˆ° <strong>2%</strong> æå‡.</li><li>è®­ç»ƒå•ä¸ªæ¨¡å‹æ—¶, å¹³å‡ä¸åŒæ—¶æœŸçš„ checkpoints çš„ç»“æœ, ä¹Ÿå¯ä»¥æœ‰æå‡.</li><li>æµ‹è¯•æ—¶å¯ä»¥å°†æµ‹è¯•çš„å‚æ•°å’Œè®­ç»ƒçš„å‚æ•°ç»„åˆèµ·æ¥:</li></ul>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”ç›®æ ‡æ£€æµ‹æ–¹æ³•å°è®°</title>
    <link href="/2022/07/01/DeepLearning/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"/>
    <url>/2022/07/01/DeepLearning/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/</url>
    
    <content type="html"><![CDATA[<p>one-stage(YOLO,YOLO9000,YOLOV3,YOLOV4, YOLOV5,SSDç­‰)</p><p>two-stage(OverFeatï¼ŒR-CNNï¼ŒFast R-CNNï¼ŒFaster R-CNN ç­‰)</p><p><img src="/src%5Cimage-20220303134112628.png" alt="image-20220303134112628">g)</p>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep Learningâ€”è®¿é—®æ·±åº¦æ¨¡å‹ç½‘ç»œå‚æ•°</title>
    <link href="/2022/07/01/DeepLearning/%E8%AE%BF%E9%97%AE%E6%A8%A1%E5%9E%8B%E5%8F%82%E6%95%B0/"/>
    <url>/2022/07/01/DeepLearning/%E8%AE%BF%E9%97%AE%E6%A8%A1%E5%9E%8B%E5%8F%82%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="å¦‚ä½•è®¿é—®ç½‘ç»œæ¨¡å‹çš„å‚æ•°"><a href="#å¦‚ä½•è®¿é—®ç½‘ç»œæ¨¡å‹çš„å‚æ•°" class="headerlink" title="å¦‚ä½•è®¿é—®ç½‘ç»œæ¨¡å‹çš„å‚æ•°"></a>å¦‚ä½•è®¿é—®ç½‘ç»œæ¨¡å‹çš„å‚æ•°</h1><ul><li><p>Way1: net[2]æŒ‡çš„æ˜¯netæ¨¡å‹ä¸­ç¬¬2å±‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">net[<span class="hljs-number">2</span>].stat_dict()<br>net[<span class="hljs-number">2</span>].bias<br>net[<span class="hljs-number">2</span>].bias.data<br>net[<span class="hljs-number">2</span>].weight.grad<br></code></pre></td></tr></table></figure></li><li><p>Way2ï¼š åˆ©ç”¨named_paramters()å‡½æ•°æŒ‡ç¤ºå‡ºæ‰€æœ‰ç½‘ç»œå‚æ•°ï¼Œ è¿›è¡Œè¿­ä»£</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">*[(name, param.shape) <span class="hljs-keyword">for</span> name, param <span class="hljs-keyword">in</span> net.named_paramters()]<br></code></pre></td></tr></table></figure></li><li><p>Way3ï¼šæ˜¯Way1çš„å˜ç§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">net.stat_dict()[<span class="hljs-string">&#x27;2.bias&#x27;</span>].data<br></code></pre></td></tr></table></figure></li></ul><h1 id="å¦‚ä½•å¯¹ç½‘ç»œæ¨¡å‹å‚æ•°åˆå§‹åŒ–"><a href="#å¦‚ä½•å¯¹ç½‘ç»œæ¨¡å‹å‚æ•°åˆå§‹åŒ–" class="headerlink" title="å¦‚ä½•å¯¹ç½‘ç»œæ¨¡å‹å‚æ•°åˆå§‹åŒ–"></a>å¦‚ä½•å¯¹ç½‘ç»œæ¨¡å‹å‚æ•°åˆå§‹åŒ–</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_param</span>(<span class="hljs-params">m</span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span>(m) == nn.Linear:<br>        nn.init.normal_(m.weight, mean=<span class="hljs-number">0</span>, std=<span class="hljs-number">0.01</span>)<br>        nn.init.zero_(m.bias)<br>        <br>net.apply(init_param)<br></code></pre></td></tr></table></figure><p>å½“ç„¶ä¸æ­¢ä½¿ç”¨æ­£æ€åˆ†å¸ƒåˆå§‹åŒ–å‚æ•°ï¼Œç½®0æ³•ã€‚è¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¿™å‡ ç§æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">nn.init.constant_(m.weight, <span class="hljs-number">1</span>)<br>nn.init.uniform_(m.weight, -<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)<br>nn.init.xvaier_normal_(m.weight)<br>nn.init.xvaier_uniform_(m.weight)<br></code></pre></td></tr></table></figure><p>xvaieræ–¹æ³•æ˜¯ä¸€ç§å‚æ•°åˆå§‹åŒ–çš„æ–¹å¼ã€‚å·²çŸ¥åªæœ‰è¾“å…¥å’Œè¾“å‡ºç»´åº¦ç›¸åŒæ—¶ï¼Œæ‰èƒ½ä¿è¯åœ¨è¯¥å±‚ä¸ä¼šå‡ºç°æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸çš„æƒ…å†µï¼Œè¿™å¯¹äºä¸€èˆ¬çš„MLPç½‘ç»œæ¥è¯´æ˜¯ä¸å¯èƒ½çš„ã€‚æ‰€ä»¥è¿™xvaieræ–¹æ³•ä½¿$\gamma_t$å‚æ•°é•¿åº¦ä¸º$n_{t-1},n_t$çš„å¹³å‡æ•°äº’ä¸ºå€’æ•°ï¼Œå³$\gamma_t&#x3D;\frac{2}{n_{t-1}+n_t}$</p><p>åˆ™<br>$$<br>Normal \sim N(0, \sqrt{\frac{2}{n_{t-1}+n_t}} )\<br>Uniform \sim U(-\sqrt{\frac{6}{n_{t-1}+n_t}},\sqrt{\frac{6}{n_{t-1}+n_t}})<br>$$</p><h1 id="ç½‘ç»œæ¨¡å‹å‚æ•°ä¿®æ”¹"><a href="#ç½‘ç»œæ¨¡å‹å‚æ•°ä¿®æ”¹" class="headerlink" title="ç½‘ç»œæ¨¡å‹å‚æ•°ä¿®æ”¹"></a>ç½‘ç»œæ¨¡å‹å‚æ•°ä¿®æ”¹</h1><p>å¾ˆç®€å•ï¼Œå…¶å®å°±æ˜¯å¯¹å‚æ•°è®¿é—®åè¿›è¡Œèµ‹å€¼æ“ä½œã€‚ä¾‹å¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">net[<span class="hljs-number">0</span>].weight.data += <span class="hljs-number">1</span><br>net[<span class="hljs-number">2</span>].weight.data[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>] = <span class="hljs-number">42</span><br></code></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ç§æ¯”è¾ƒå¥‡ç‰¹çš„ç»“æ„ï¼Œå‚æ•°å…±äº«ã€‚å…ˆå®šä¹‰ä¸€ä¸ªå±‚ï¼Œç„¶ååœ¨moduleå†…å¤šæ¬¡è°ƒç”¨è¿™ä¸ªå±‚ï¼Œè¿™äº›å±‚çš„å‚æ•°éƒ½æ˜¯ä¸€ä¸ªå®ä½“ã€‚æ‰€ä»¥è¾¾åˆ°ä¸€ä¸ªå‚æ•°å…±äº«çš„æ•ˆæœ</p><h1 id="ç½‘ç»œæ¨¡å‹å‚æ•°çš„è¯»å†™"><a href="#ç½‘ç»œæ¨¡å‹å‚æ•°çš„è¯»å†™" class="headerlink" title="ç½‘ç»œæ¨¡å‹å‚æ•°çš„è¯»å†™"></a>ç½‘ç»œæ¨¡å‹å‚æ•°çš„è¯»å†™</h1><p>ç½‘ç»œæ¨¡å‹å‚æ•°çš„ä¿å­˜å¾ˆç®€å•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.save(x, <span class="hljs-string">&#x27;x.file&#x27;</span>)<br>torch.save([x, y], <span class="hljs-string">&#x27;x.file&#x27;</span>)<br>torch.save(&#123;<span class="hljs-string">&#x27;x&#x27;</span>:x, <span class="hljs-string">&#x27;y&#x27;</span>:y&#125;, <span class="hljs-string">&#x27;x.file&#x27;</span>)<br>torch.save(net.stat_dict(), <span class="hljs-string">&#x27;mlp.params&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ç½‘ç»œæ¨¡å‹çš„è¯»å–åˆ™éœ€è¦å…ˆå­˜åœ¨è¿™ä¸ªæ¨¡å‹ï¼Œæ‰èƒ½å¾€æ¨¡å‹å†…æ”¾ç½®å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">clone = MLP()<br>Clone.load_stat_dict(torch.load(<span class="hljs-string">&#x27;mlp.params&#x27;</span>))<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”æ³¨æ„åŠ›å°è®°</title>
    <link href="/2022/07/01/Essay/Attention/"/>
    <url>/2022/07/01/Essay/Attention/</url>
    
    <content type="html"><![CDATA[<h1 id="Attention-æ³¨æ„åŠ›æœºåˆ¶"><a href="#Attention-æ³¨æ„åŠ›æœºåˆ¶" class="headerlink" title="Attention æ³¨æ„åŠ›æœºåˆ¶"></a>Attention æ³¨æ„åŠ›æœºåˆ¶</h1><blockquote><p>å¼•ç”¨ï¼š</p><p>â€‹1.<a href="https://cloud.tencent.com/developer/article/1480510">https://cloud.tencent.com/developer/article/1480510</a><br>â€‹2.<a href="https://blog.csdn.net/Leon_winter/article/details/101231034">https://blog.csdn.net/Leon_winter/article/details/101231034</a><br>â€‹3.<a href="https://zhuanlan.zhihu.com/p/350953067">https://zhuanlan.zhihu.com/p/350953067</a></p></blockquote><h2 id="ä¸€ã€æœºåˆ¶åŸç†"><a href="#ä¸€ã€æœºåˆ¶åŸç†" class="headerlink" title="ä¸€ã€æœºåˆ¶åŸç†"></a>ä¸€ã€æœºåˆ¶åŸç†</h2><p>é€šä¿—çš„æ¥è¯´ï¼Œå®é™…ä¸Šå°±æ˜¯å¯¹äºæŸä¸ªæ—¶åˆ»çš„è¾“å‡º$y$ï¼Œä»–åœ¨è¾“å…¥$x$ä¸Šå„ä¸ªéƒ¨åˆ†çš„æ³¨æ„åŠ›ï¼ˆè¿™é‡Œçš„æ³¨æ„åŠ›ä¹Ÿå¯ä»¥ç†è§£ä¸ºæƒé‡ï¼Œå³è¾“å…¥$x$çš„å„ä¸ªéƒ¨åˆ†å¯¹è¾“å‡º$y$è´¡çŒ®çš„æƒé‡ï¼‰ã€‚</p><h2 id="äºŒã€è®¡ç®—æ–¹å¼"><a href="#äºŒã€è®¡ç®—æ–¹å¼" class="headerlink" title="äºŒã€è®¡ç®—æ–¹å¼"></a>äºŒã€è®¡ç®—æ–¹å¼</h2><p><img src="/src/image-20220704211532515.png" alt="image-20220704211532515"></p><p>å¯¹ä¸Šå›¾è¿›è¡Œè§£é‡Šï¼š</p><ol><li><p><strong>Additive attention</strong>ï¼šè®ºæ–‡ï¼š<a href="https://arxiv.org/pdf/1410.5401.pdf">Neural Turing Machines</a>  å¯¹äºattentionçš„ç›¸ä¼¼åº¦åº¦é‡ä½¿ç”¨çš„æ˜¯ä½™å¼¦ç›¸ä¼¼åº¦<br>$$<br>cosine[s_t,h_i]&#x3D;\frac{s_t * h_i}{||s_t||*||h_i||}<br>$$</p></li><li><p><strong>Additive Attention</strong>: è®ºæ–‡ï¼š<a href="https://arxiv.org/pdf/1409.0473.pdf">Neural Machine Translation By Jointly Learning to Align and Translate</a></p></li><li><p><strong>Location-Base Attentionã€General attentionã€Dot-Product Attention</strong>ï¼š è®ºæ–‡ï¼š<a href="https://arxiv.org/pdf/1508.04025.pdf">Effective Approaches to Attention-based Neural Machine Translation</a></p></li><li><p><strong>ScaledDot-Product attention</strong>: è®ºæ–‡ï¼š<a href="https://arxiv.org/pdf/1706.03762.pdf">Attention is all you need</a></p></li></ol><h2 id="ä¸‰ã€Attentionå‘å±•å†ç¨‹åŠæ¼”å˜"><a href="#ä¸‰ã€Attentionå‘å±•å†ç¨‹åŠæ¼”å˜" class="headerlink" title="ä¸‰ã€Attentionå‘å±•å†ç¨‹åŠæ¼”å˜"></a>ä¸‰ã€Attentionå‘å±•å†ç¨‹åŠæ¼”å˜</h2><h3 id="3-1-seq2seqä¸­å¼•å…¥attention"><a href="#3-1-seq2seqä¸­å¼•å…¥attention" class="headerlink" title="3.1 seq2seqä¸­å¼•å…¥attention"></a>3.1 seq2seqä¸­å¼•å…¥attention</h3><p>é¦–å…ˆattentionæœºåˆ¶å¸¸ç”¨åœ¨seq2seqæ¨¡å‹ä¸­ï¼Œä¸‹å›¾ä¸€æ˜¯ä¼ ç»Ÿçš„seq2seqï¼Œè¾“å‡º$y$å¯¹è¾“å…¥åºåˆ—$x1,x2,x3.$æ²¡æœ‰åŒºåˆ†ï¼Œæ²¡æœ‰è¾¨è¯†åº¦ï¼Œä¸‹å›¾äºŒä¸­æˆ‘ä»¬å¼•å…¥äº†attentionæœºåˆ¶ï¼Œæ¯ä¸ªè¾“å‡ºçš„è¯$y$å—è¾“å…¥$X1,X2,X3.$å½±å“çš„æƒé‡ä¸åŒï¼Œè¿™ä¸ªæƒé‡ä¾¿æ˜¯ç”±Attentionè®¡ç®—ï¼Œå› æ­¤å¯ä»¥æŠŠAttentionæœºåˆ¶çœ‹æˆæ³¨æ„åŠ›åˆ†é…ç³»æ•°ï¼Œè®¡ç®—è¾“å…¥æ¯ä¸€é¡¹å¯¹è¾“å‡ºæƒé‡å½±å“å¤§å°</p><p><img src="/src/1620-16523234483093.jpeg" alt="img"></p><p><img src="/src/1620-16523234761996.jpeg" alt="img"></p><p>ç¬¬ä¸€å¼ å›¾æ˜¯æ•´ä½“çš„ä¸€ä¸ªæ¶æ„ï¼Œç¬¬äºŒå¼ å›¾æ˜¯è¾“å…¥å¯¹æŸä¸ªè¾“å‡ºçš„è®¡ç®—è¿‡ç¨‹æ¼”ç¤º</p><p>ä»‹ç»ä¸€ä¸‹ä¸Šå›¾ä¸­attentionå®ç°è¿‡ç¨‹</p><ol><li><p>é¦–å…ˆåˆ©ç”¨åŒå‘RNNç»“æ„å¾—åˆ°éšå±‚çŠ¶æ€$(h_1, h_2,\dots, h_n)$</p></li><li><p>å¦‚å½“å‰å·²ç»decoderåˆ°éšå±‚$S_{t-1}$ï¼Œæ¥ä¸‹æ¥è®¡ç®—æ¯ä¸€ä¸ªè¾“å…¥ä½ç½®$h_j$å¯¹å½“å‰ä½ç½®$i$â€‹çš„å½±å“<br>$$<br>e_{ij} &#x3D; a(s_{i-1}, h_j)<br>$$<br>è¿™é‡Œå¯¹attentionçš„è®¡ç®—æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚ç‚¹ä¹˜ã€åŠ æƒç‚¹ä¹˜ã€æ±‚å’Œç­‰</p></li><li><p>å¯¹$e_{ij}$è¿›è¡Œsoftmaxå°†å…¶normalizationå¾—åˆ°attentionæƒé‡<br>$$<br>\alpha_{ij}&#x3D;\frac{exp(e_{ij})}{\sum <em>{k&#x3D;1}^{T_x} exp(e</em>{ik})}<br>$$</p></li><li><p>åˆ©ç”¨$\alpha_{ij}$â€‹è¿›è¡ŒåŠ æƒæ±‚å’Œå¾—åˆ°ç›¸åº”çš„context vector<br>$$<br>c_i &#x3D; \sum_{j&#x3D;1}^{T_x}\alpha_{ij}h_j<br>$$</p></li><li><p>è®¡ç®—æœ€ç»ˆè¾“å‡º<br>$$<br>s_i &#x3D; f(s_{i-1},y_{i-1}, c_i)\<br>p(y_i|y_1,\dots,y_{i-1},x)&#x3D;g(y_{i-1},s_i,c_i)<br>$$</p></li></ol><h3 id="3-2-Soft-Attentionå’ŒHard-Attention"><a href="#3-2-Soft-Attentionå’ŒHard-Attention" class="headerlink" title="3.2 Soft Attentionå’ŒHard Attention"></a>3.2 Soft Attentionå’ŒHard Attention</h3><p>Soft Attentionæ˜¯å‚æ•°åŒ–çš„ï¼Œæ˜¯å¯å¯¼çš„å¯åµŒå…¥åˆ°æ¨¡å‹ä¸­ç›´æ¥è®­ç»ƒï¼Œä¸Šè¿°seq2seqä¸­çš„å³æ˜¯soft attentionï¼›Hard attentionæ˜¯ä¸€ä¸ªéšæœºçš„è¿‡ç¨‹ï¼Œä¸ºäº†å®ç°æ¢¯åº¦çš„åå‘ä¼ æ’­ï¼Œéœ€è¦é‡‡ç”¨è’™ç‰¹å¡æ´›é‡‡æ ·çš„æ–¹æ³•æ¥ä¼°è®¡æ¨¡å—çš„æ¢¯åº¦ï¼Œç›®å‰æ›´å¤šçš„ç ”ç©¶å’Œåº”ç”¨è¿˜æ˜¯æ›´å€¾å‘äºä½¿ç”¨Soft Attentionï¼Œå› ä¸ºå…¶å¯ä»¥ç›´æ¥æ±‚å¯¼ï¼Œè¿›è¡Œæ¢¯åº¦åå‘ä¼ æ’­ï¼Œå¤§è‡´äº†è§£ä¸€ä¸‹å³å¯</p><h3 id="3-3-Global-Attentionå’ŒLocal-Attention"><a href="#3-3-Global-Attentionå’ŒLocal-Attention" class="headerlink" title="3.3 Global Attentionå’ŒLocal Attention"></a>3.3 Global Attentionå’ŒLocal Attention</h3><p><img src="/src/1620-16523245340069.jpeg" alt="img"></p><p>ä»¥ä¸Šå·¦å›¾æ˜¯Global Attentionï¼Œå³å›¾æ˜¯Local Attentionã€‚<br>ï¼ˆå›¾ç‰‡æ¥æºäºè®ºæ–‡ï¼šEffective Approaches to Attention-based Neural Machine Translationï¼‰</p><p>å…¨å±€Attentionå’Œå±€éƒ¨Attentionå­˜åœ¨å…±åŒä¹‹å¤„ï¼Œä¾‹å¦‚åœ¨ç¿»è¯‘æ¨¡å‹çš„è§£ç é˜¶æ®µéƒ½æ˜¯å°†LSTMçš„é¡¶å±‚éšè—çŠ¶æ€$h_t$ä½œä¸ºè¾“å…¥ï¼Œç›®æ ‡æ˜¯æ´»å¾—ä¸€ä¸ªä¸Šä¸‹æ–‡å‘é‡$c_t$æ¥æ•è·æºä¿¡æ¯å¸®åŠ©é¢„æµ‹å½“å‰å•è¯ï¼Œä¸¤ç§æ–¹å¼ä¸åŒä¾¿åœ¨äºå¯¹ä¸Šä¸‹æ–‡å‘é‡$c_t$çš„è·å–æ–¹å¼ä¸åŒï¼Œä½†å…¶åæ­¥éª¤æ˜¯å…±äº«çš„ï¼Œå³é¦–å…ˆç”±ä¸Šä¸‹æ–‡ä¿¡æ¯å’Œéšè—å±‚ä¿¡æ¯è·å¾—æ³¨æ„åŠ›éšå±‚çŠ¶æ€,å†é€šè¿‡æ³¨æ„åŠ›éšå±‚çŠ¶æ€é€šè¿‡Softmaxè·å¾—é¢„æµ‹åˆ†å¸ƒ<br>$$<br>\hat{h_t}&#x3D;tanh(W_c[c_t;h_t])\<br>p(y_t|y_{&lt;t},x)&#x3D;softmax(W_s\hat{h_t})<br>$$</p><h4 id="3-3-1-Global-Attention"><a href="#3-3-1-Global-Attention" class="headerlink" title="3.3.1 Global Attention"></a>3.3.1 Global Attention</h4><p>å…¨å±€Attentionåœ¨è®¡ç®—ä¸Šä¸‹æ–‡å‘é‡$c_t$æ—¶è€ƒè™‘ç¼–ç å™¨æ‰€æœ‰çš„éšå±‚çŠ¶æ€ï¼Œattentionå‘é‡æ˜¯é€šè¿‡æ¯”è¾ƒå½“å‰ç›®æ ‡éšè—çŠ¶æ€$h_t$å’Œæ¯ä¸ªæºéšè—çŠ¶æ€$h_s$â€‹å¾—åˆ°ï¼š<br>$$<br>\begin{align}<br>a_t(s)&amp;&#x3D;align(h_t,\bar{h_s}) \<br>&amp;&#x3D;\frac{exp(score(h_t,\bar{h_s}))}{\sum_{sâ€™}exp(score(h_t,\bar{h_{sâ€™}}))}<br>\end{align}<br>$$<br>$h_t$â€‹å’Œ$h_s$â€‹ä¹‹é—´çš„è®¡ç®—æ–¹å¼å¯ä»¥é‡‡ç”¨å¦‚ä¸‹å‡ ç§ï¼š<br>$$<br>score(h_t, \bar{h_s})&#x3D;\left{\begin{array}{ll}<br>        {h_t}^T\bar{h_s} &amp; {dot} \<br>        {h_t}^TW_a\bar{h_s} &amp; {general} \<br>        {v_a}^Ttanh(W_a[h_t;\bar{h_s}]) &amp; {concat}<br>        \end{array}\right.<br>$$<br>å½“ç„¶ä¹Ÿæ˜¯å¯ä»¥åˆ©ç”¨åŸºäºlocationçš„æ–¹å¼è®¡ç®—attentionå¾—åˆ†ï¼š<br>$$<br>a_t &#x3D; softmax(W_ah_t)\qquad location<br>$$</p><h4 id="3-3-2-Local-Attention"><a href="#3-3-2-Local-Attention" class="headerlink" title="3.3.2 Local Attention"></a>3.3.2 Local Attention</h4><p>å…¨å±€Attentionçš„ç¼ºç‚¹åœ¨äºå¯¹æ¯ä¸ªç›®æ ‡å•è¯å¿…é¡»å…³æ³¨æºåºåˆ—ä¸­çš„æ‰€æœ‰å•è¯ï¼Œæ¶ˆè€—èµ„æºå› æ­¤å±€éƒ¨Attentionçš„æ€æƒ³æ˜¯å¯¹æ¯ä¸ªç›®æ ‡å•è¯åªé€‰æ‹©ä¸€éƒ¨åˆ†æºå•è¯è¿›è¡Œé¢„æµ‹ä¸Šä¸‹æ–‡å‘é‡$c_t$ï¼Œå…·ä½“æ¥è¯´ï¼Œåœ¨æ—¶åˆ»t æ¨¡å‹é¦–å…ˆä¸ºæ¯ä¸ªç›®æ ‡å•è¯ç”Ÿæˆä¸€ä¸ªå¯¹é½ä½ç½®$p_t$ã€‚ä¸Šä¸‹æ–‡å‘é‡$c_t$ é€šè¿‡çª—å£$[p_t -D,p_t +D] $å†…çš„æºéšè—çŠ¶æ€é›†åˆåŠ æƒå¹³å‡è®¡ç®—å¾—åˆ°ï¼›$D $æ ¹æ®ç»éªŒé€‰æ‹©ã€‚ä¸å…¨å±€æ–¹æ³•ä¸åŒï¼Œå±€éƒ¨å¯¹é½å‘é‡$a_t$æ˜¯å›ºå®šç»´åº¦çš„ï¼Œå³$a_t\in \mathbb{R}^{2D+1}$ã€‚<br>$$<br>p_t &#x3D; S\cdot sigmoid(v_p^Ttanh(W_ph_t)) \<br>a_t(s)&#x3D;align(h_t,\bar{h_s})exp(-\frac{(s-p)^2}{2\sigma^2})<br>$$</p><h3 id="3-4-Scaled-Dot-Product-Attentionå’ŒMulti-Head-Attention"><a href="#3-4-Scaled-Dot-Product-Attentionå’ŒMulti-Head-Attention" class="headerlink" title="3.4 Scaled Dot-Product Attentionå’ŒMulti-Head Attention"></a>3.4 Scaled Dot-Product Attentionå’ŒMulti-Head Attention</h3><p><img src="/src/1324.jpeg" alt="img"><br>ï¼ˆå›¾ç‰‡æ¥æºäºè®ºæ–‡ï¼šAttention is all you need)</p><p>ScaledDot-Product Attentionï¼šé€šè¿‡Q,KçŸ©é˜µè®¡ç®—çŸ©é˜µVçš„æƒé‡ç³»æ•°</p><p>Multi-HeadAttentionï¼šå¤šå¤´æ³¨æ„åŠ›æ˜¯å°†Q,K,Vé€šè¿‡ä¸€ä¸ªçº¿æ€§æ˜ å°„æˆhä¸ªQ,K,Vï¼Œç„¶åæ¯ä¸ªéƒ½è®¡ç®—Scaled Dot-Product Attentionï¼Œæœ€åå†åˆèµ·æ¥ï¼ŒMulti-HeadAttentionç›®çš„è¿˜æ˜¯å¯¹ç‰¹å¾è¿›è¡Œæ›´å…¨é¢çš„æŠ½å–</p><h2 id="å››ã€Attentionå®ä¾‹åˆ†æ"><a href="#å››ã€Attentionå®ä¾‹åˆ†æ" class="headerlink" title="å››ã€Attentionå®ä¾‹åˆ†æ"></a>å››ã€Attentionå®ä¾‹åˆ†æ</h2><p><img src="/src/1620-16523277764253.jpeg" alt="img"></p><p>æ¯ä¸ªè¾“å‡ºçš„è¯$Y$å—è¾“å…¥$X_1,X_2,X_3,X_4$å½±å“çš„æƒé‡ä¸åŒï¼Œè¿™ä¸ªæƒé‡ä¾¿æ˜¯ç”±Attentionè®¡ç®—</p><p>å› æ­¤å¯ä»¥æŠŠAttentionæœºåˆ¶çœ‹æˆæ³¨æ„åŠ›åˆ†é…ç³»æ•°ï¼Œè®¡ç®—è¾“å…¥æ¯ä¸€é¡¹å¯¹è¾“å‡ºæƒé‡å½±å“å¤§å°</p><p>ä¸‹é¢ä¸€å¼ å›¾ç»™å‡ºäº†Attentionæœºåˆ¶åœ¨æœºå™¨ç¿»è¯‘ä¸­å®é™…æƒé‡è®¡ç®—è¿‡ç¨‹</p><p><img src="/src/1620-165232815064318.jpeg" alt="img"></p><p>é¦–å…ˆç”±åŸå§‹æ•°æ®ç»è¿‡çŸ©é˜µå˜åŒ–å¾—åˆ°Qã€Kã€Vå‘é‡ï¼Œå¦‚ä¸‹å›¾</p><p><img src="/src/1620-165232815064419.jpeg" alt="img"></p><p>ä»¥å•è¯Thinkingä¸ºä¾‹ï¼Œå…ˆç”¨Thinkingçš„qå‘é‡å’Œæ‰€æœ‰è¯çš„kå‘é‡ç›¸ä¹˜ï¼Œä½¿ç”¨ä¸‹é¢å…¬å¼ï¼š<br>$$<br>softmax(\frac{QK^T}{\sqrt{d_k}})<br>$$<br>è¿™ç§å¾—åˆ°æ¯ä¸ªå•è¯å¯¹å•è¯Thinkingçš„è´¡çŒ®æƒé‡ï¼Œç„¶åå†ç”¨å¾—åˆ°çš„æƒé‡å’Œæ¯ä¸ªå•è¯çš„å‘é‡vç›¸ä¹˜ï¼Œå¾—åˆ°æœ€ç»ˆThinkingå‘é‡çš„è¾“å‡º<br>$$<br>Attention(Q,K,V)&#x3D;softmax(\frac{QK^T}{\sqrt{d_k}})V<br>$$</p><h2 id="äº”ã€Attentionæœºåˆ¶å®ç°åˆ†æ"><a href="#äº”ã€Attentionæœºåˆ¶å®ç°åˆ†æ" class="headerlink" title="äº”ã€Attentionæœºåˆ¶å®ç°åˆ†æ"></a>äº”ã€Attentionæœºåˆ¶å®ç°åˆ†æ</h2><p><img src="/src/1620-165232827795630.jpeg" alt="img"></p><p>HANç»“æ„åŒ…å«äº†Word encoderã€Word attentionã€Sentence encoderã€Sentence attentionï¼Œå…¶ä¸­æœ‰word attentionå’Œsentence attention</p><p>hæ˜¯éšå±‚GRUçš„è¾“å‡ºï¼Œè®¾ç½®$w,b,u_s$ä¸‰ä¸ªéšæœºå˜é‡ï¼Œå…ˆä¸€ä¸ªå…¨è¿æ¥å˜æ¢ç»è¿‡æ¿€æ´»å‡½æ•°tanhå¾—åˆ°$u_i$ï¼Œç„¶ååœ¨è®¡ç®—$u_s$å’Œ$u_i$ç›¸ä¹˜ï¼Œè®¡ç®—softmaxè¾“å‡º$a$ï¼Œæœ€åå¾—åˆ°æƒé‡$a$ä¹‹åå†å’Œ$h$ç›¸ä¹˜ï¼Œå¾—åˆ°æœ€ç»ˆç»è¿‡æ³¨æ„åŠ›æœºåˆ¶çš„è¾“å‡º$v$ï¼Œä¸‹å·¦å›¾æ˜¯word attentionè®¡ç®—å…¬å¼ï¼Œä¸‹å³å›¾æ˜¯sentece attentionè®¡ç®—å…¬å¼<br>$$<br>u_{it}&#x3D;tanh(W_wh_{it}+b_w) \qquad u_i &#x3D; tanh(W_sh_i+b_s)\<br>\alpha_{it}&#x3D;\frac{exp(u_{it}^Tu_w)}{\sum_texp(u_{it}^Tu_w)}\qquad<br>\alpha_{i}&#x3D;\frac{exp(u_{i}^Tu_s)}{\sum_texp(u_{i}^Tu_s)}\<br>s_i&#x3D;\sum_t\alpha_{it}h_{it} \qquad v&#x3D;\sum_i\alpha_ih_i\<br>$$<br>m_i\alpha_ih_i\<br>$$</p>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”èšç±»å°è®°</title>
    <link href="/2022/07/01/Essay/Clustering/"/>
    <url>/2022/07/01/Essay/Clustering/</url>
    
    <content type="html"><![CDATA[<h4 id="å¹¿æ³›ä½¿ç”¨çš„èšç±»ç®—æ³•å¯ä»¥å¤§è‡´åˆ†ä¸ºå‡ ç»„ï¼ŒåŒ…æ‹¬åˆ†åŒºã€åˆ†å±‚ã€åŸºäºç½‘æ ¼ã€åŸºäºæ¨¡å‹å’ŒåŸºäºå¯†åº¦çš„ç®—æ³•ã€‚"><a href="#å¹¿æ³›ä½¿ç”¨çš„èšç±»ç®—æ³•å¯ä»¥å¤§è‡´åˆ†ä¸ºå‡ ç»„ï¼ŒåŒ…æ‹¬åˆ†åŒºã€åˆ†å±‚ã€åŸºäºç½‘æ ¼ã€åŸºäºæ¨¡å‹å’ŒåŸºäºå¯†åº¦çš„ç®—æ³•ã€‚" class="headerlink" title="å¹¿æ³›ä½¿ç”¨çš„èšç±»ç®—æ³•å¯ä»¥å¤§è‡´åˆ†ä¸ºå‡ ç»„ï¼ŒåŒ…æ‹¬åˆ†åŒºã€åˆ†å±‚ã€åŸºäºç½‘æ ¼ã€åŸºäºæ¨¡å‹å’ŒåŸºäºå¯†åº¦çš„ç®—æ³•ã€‚"></a>å¹¿æ³›ä½¿ç”¨çš„èšç±»ç®—æ³•å¯ä»¥å¤§è‡´åˆ†ä¸ºå‡ ç»„ï¼ŒåŒ…æ‹¬åˆ†åŒºã€åˆ†å±‚ã€åŸºäºç½‘æ ¼ã€åŸºäºæ¨¡å‹å’ŒåŸºäºå¯†åº¦çš„ç®—æ³•ã€‚</h4><ul><li>åŸºäºå±‚æ¬¡çš„ç®—æ³•è¦æ±‚æ—¶é—´åºåˆ—å…·æœ‰ç›¸åŒçš„é•¿åº¦ï¼Œå½“æ•°æ®é•¿åº¦è¿‡é•¿æ—¶å¾ˆéš¾å¾—åˆ°æ»¡æ„çš„ç»“æœ</li><li>K-Means å’Œ K-Medoids ç­‰åˆ†åŒºç®—æ³•éœ€è¦ä¸€äº›è¶…å‚æ•°ï¼Œä¾‹å¦‚ç°‡çš„æ•°é‡ï¼Œè¿™äº›è¶…å‚æ•°å¾ˆéš¾ç¡®å®š</li><li>åŸºäºç½‘æ ¼çš„æ–¹æ³•å¾ˆå°‘ç”¨äºæ—¶é—´åºåˆ—èšç±»ï¼Œå› ä¸ºå®ƒä»¬è¦ä¹ˆè¿è¡Œé€Ÿåº¦éå¸¸æ…¢ï¼Œè¦ä¹ˆåœ¨å¤§å‹æ•°æ®é›†ä¸Šä¸å‡†ç¡®ã€‚</li><li>åŸºäºæ¨¡å‹çš„æ–¹æ³•å‡è®¾å®ƒä»¬åŒ…æ‹¬æ¯ä¸ªé›†ç¾¤çš„ç»Ÿè®¡æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼ŒCOBWEBï¼‰æˆ–ç¥ç»ç½‘ç»œæ–¹æ³•ï¼ˆä¾‹å¦‚ï¼ŒART ï¼‰ï¼Œå¹¶æ‰¾åˆ°æœ€é€‚åˆæ¨¡å‹çš„æ•°æ®ã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•é€šå¸¸éµå¾ªå¾ˆå¼ºçš„å‡è®¾ï¼ˆä¾‹å¦‚ï¼Œé«˜æ–¯æ··åˆå¯ä»¥å¯¹æ—¶é—´åºåˆ—è¿›è¡Œå»ºæ¨¡ ï¼‰ï¼Œè¿™å¾ˆéš¾åº”ç”¨äºå¤æ‚çš„æ•°æ®é›†ã€‚</li><li>æ ¹æ®æ ·æœ¬çš„å¯†åº¦åˆ†å¸ƒè¿›è¡ŒåŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼ˆä¾‹å¦‚ï¼ŒDBSCAN ï¼‰ã€‚è¿™äº›ç®—æ³•ä¸éœ€è¦æŒ‡å®šé›†ç¾¤çš„æ•°é‡.</li></ul><blockquote><p>quote from Bibliograph: Robust KPI Anomaly Detection for Large-Scale Software Services with Partial Labels</p><ul><li>K-Means: â€œEfï¬cient registration of multi-view point sets by k-means clusteringâ€</li><li>K-Medoids: â€œComparison of k-means clustering method and k-medoids on twitter dataâ€</li><li>COBWEB:â€œKnowledge acquisition via incremental conceptual clusteringâ€</li><li>ARTï¼šâ€œA massively parallel architecture for a self-organizing neural pattern recognition machineâ€</li><li>Gaussian Mixture Modelï¼šâ€œVariable selection for model-based clustering using the integrated complete-data likelihoodâ€</li><li>DBSCANï¼š â€œReal-time superpixel segmentation by dbscan clustering algorithmâ€</li></ul></blockquote><p>åŸºäºèšç±»çš„å¼‚å¸¸æ£€æµ‹æ–¹æ³•é€šå¸¸ä¾èµ–ä¸‹åˆ—å‡è®¾ï¼Œ1ï¼‰æ­£å¸¸æ•°æ®å®ä¾‹å±äºæ•°æ®ä¸­çš„ä¸€ä¸ªç°‡ï¼Œè€Œå¼‚å¸¸æ•°æ®å®ä¾‹ä¸å±äºä»»ä½•ç°‡ï¼›2ï¼‰æ­£å¸¸æ•°æ®å®ä¾‹é è¿‘å®ƒä»¬æœ€è¿‘çš„ç°‡è´¨å¿ƒï¼Œè€Œå¼‚å¸¸æ•°æ®ç¦»å®ƒä»¬æœ€è¿‘çš„ç°‡è´¨å¿ƒå¾ˆè¿œï¼›3ï¼‰æ­£å¸¸æ•°æ®å®ä¾‹å±äºå¤§è€Œå¯†é›†çš„ç°‡ï¼Œè€Œå¼‚å¸¸æ•°æ®å®ä¾‹è¦ä¹ˆå±äºå°ç°‡ï¼Œè¦ä¹ˆå±äºç¨€ç–ç°‡ï¼›é€šè¿‡å°†æ•°æ®å½’åˆ†åˆ°ä¸åŒçš„ç°‡ä¸­ï¼Œå¼‚å¸¸æ•°æ®åˆ™æ˜¯é‚£äº›å±äºå°ç°‡æˆ–è€…ä¸å±äºä»»ä½•ä¸€ç°‡æˆ–è€…è¿œç¦»ç°‡ä¸­å¿ƒçš„æ•°æ®ã€‚</p><ul><li>å°†è·ç¦»ç°‡ä¸­å¿ƒè¾ƒè¿œçš„æ•°æ®ä½œä¸ºå¼‚å¸¸ç‚¹ï¼šè¿™ç±»æ–¹æ³•æœ‰ SOMã€K-meansã€æœ€å¤§æœŸæœ›( expectation maximizationï¼ŒEM)åŠåŸºäºè¯­ä¹‰å¼‚å¸¸å› å­( semantic anomaly factor)ç®—æ³•ç­‰ï¼›</li><li>å°†èšç±»æ‰€å¾—å°ç°‡æ•°æ®ä½œä¸ºå¼‚å¸¸ç‚¹ï¼šä»£è¡¨æ–¹æ³•æœ‰K-meansèšç±»ï¼›</li><li>å°†ä¸å±äºä»»ä½•ä¸€ç°‡ä½œä¸ºå¼‚å¸¸ç‚¹ï¼šä»£è¡¨æ–¹æ³•æœ‰ DBSCANã€ROCKã€SNN èšç±»ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”æ¨¡å‹ç±»åˆ«</title>
    <link href="/2022/07/01/Essay/Discrimination&amp;Generative/"/>
    <url>/2022/07/01/Essay/Discrimination&amp;Generative/</url>
    
    <content type="html"><![CDATA[<h1 id="Discrimination-amp-Generative"><a href="#Discrimination-amp-Generative" class="headerlink" title="Discrimination&amp;Generative"></a><strong>Discrimination</strong>&amp;<strong>Generative</strong></h1><h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œå¯¹äºæœ‰ç›‘ç£å­¦ä¹ å¯ä»¥å°†å…¶åˆ†ä¸ºä¸¤ç±»æ¨¡å‹ï¼šåˆ¤åˆ«å¼æ¨¡å‹å’Œç”Ÿæˆå¼æ¨¡å‹ã€‚ç®€å•åœ°è¯´ï¼Œåˆ¤åˆ«å¼æ¨¡å‹æ˜¯é’ˆå¯¹æ¡ä»¶åˆ†å¸ƒå»ºæ¨¡ï¼Œè€Œç”Ÿæˆå¼æ¨¡å‹åˆ™é’ˆå¯¹è”åˆåˆ†å¸ƒè¿›è¡Œå»ºæ¨¡ã€‚</p><p>Firstï¼Œæ— è®ºæ˜¯ç”Ÿæˆå¼è¿˜æ˜¯åˆ¤åˆ«å¼æ¨¡å‹éƒ½æ˜¯ä¸ºäº†æ±‚å¾—æœ€å¤§çš„æ¡ä»¶æ¦‚ç‡$p(y|x)$ï¼Œæ¥ä½œä¸ºä¸€ä¸ªæ–°æ ·æœ¬$x$çš„ç±»åˆ«ã€‚åªä¸è¿‡åˆ¤åˆ«å¼æ¨¡å‹å’Œç”Ÿæˆå¼çš„åšæ³•ä¸åŒ</p><p><strong>åˆ¤åˆ«å¼</strong>ï¼šç›´æ¥æ ¹æ®è®­ç»ƒæ•°æ®å¾—åˆ°åˆ†ç±»å‡½æ•°å’Œåˆ†ç•Œé¢ï¼Œæ¯”å¦‚è¯´æ ¹æ®SVMæ¨¡å‹å¾—åˆ°ä¸€ä¸ªåˆ†ç•Œé¢ï¼Œç„¶åç›´æ¥è®¡ç®—æ¡ä»¶æ¦‚ç‡$p(y|x)$ï¼Œæˆ‘ä»¬å°†æœ€å¤§çš„$p(y|x)$ä½œä¸ºæ–°æ ·æœ¬çš„åˆ†ç±»ã€‚åˆ¤åˆ«å¼æ¨¡å‹æ˜¯å¯¹<strong>æ¡ä»¶æ¦‚ç‡</strong>å»ºæ¨¡ï¼Œå­¦ä¹ ä¸åŒç±»åˆ«ä¹‹é—´çš„<strong>æœ€ä¼˜è¾¹ç•Œ</strong>ï¼Œæ— æ³•åæ˜ è®­ç»ƒæ•°æ®æœ¬èº«çš„ç‰¹æ€§ï¼Œèƒ½åŠ›æœ‰é™ï¼Œå…¶åªèƒ½å‘Šè¯‰æˆ‘ä»¬åˆ†ç±»çš„ç±»åˆ«ã€‚</p><p><strong>ç”Ÿæˆå¼</strong>ï¼š æœ‰å¤šå°‘ç±»å°±æ„å»ºå¤šå°‘ä¸ªç±»åˆ«ï¼Œè®¡ç®—æ–°æ ·æœ¬$x$å’Œæ¯ä¸ªç±»åˆ«çš„è”åˆæ¦‚ç‡åˆ†å¸ƒ$p(x,y)$ï¼Œå†ä¾æ®Bayes Lawsï¼š$P(y|x)&#x3D;\frac{p(x,y)}{p(x)}$ï¼Œåˆ†åˆ«è®¡ç®—å‡º$p(y|x)$ï¼Œåœ¨é€‰æ‹©å…¶ä¸­æœ€å¤§çš„$p(y|x)$ä½œä¸ºæ ·æœ¬çš„ç±»åˆ«</p><p><strong>Summary</strong>ï¼šä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯ä¸ºäº†æ±‚è§£æ¡ä»¶æ¦‚ç‡$p(y|x)$ã€‚ä½†æ˜¯ç”Ÿæˆå¼æ¨¡å‹å¯ä»¥ä½“ç°æ›´å¤šæ•°æ®æœ¬èº«çš„åˆ†å¸ƒä¿¡æ¯ï¼Œå…¶æ™®é€‚æ€§æ›´å¹¿ã€‚</p><h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><p><strong>åˆ¤åˆ«å¼</strong>ï¼šç›´æ¥å­¦ä¹ $p(y|x)$ã€‚ä¸èƒ½åæ˜ è®­ç»ƒæ•°æ®æœ¬èº«çš„ç‰¹æ€§ï¼Œä½†å®ƒå¯»æ‰¾ä¸åŒç±»åˆ«ä¹‹é—´çš„æœ€ä¼˜åˆ†è£‚é¢ï¼Œåæ˜ çš„æ˜¯å¼‚ç±»æ•°æ®ä¹‹é—´çš„å·®å¼‚ï¼Œç›´æ¥é¢å¯¹é¢„æµ‹å¾€å¾€å­¦ä¹ å‡†ç¡®åº¦æ›´é«˜ã€‚å…·ä½“æ¥è¯´æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>å¯¹æ¡ä»¶æ¦‚ç‡å»ºæ¨¡ï¼Œå­¦ä¹ ä¸åŒç±»åˆ«ä¹‹é—´çš„æœ€ä¼˜è¾¹ç•Œã€‚</li><li>æ•æ‰ä¸åŒç±»åˆ«ç‰¹å¾çš„å·®å¼‚ä¿¡æ¯ï¼Œä¸å­¦ä¹ æœ¬èº«åˆ†å¸ƒä¿¡æ¯ï¼Œæ— æ³•ååº”æ•°æ®æœ¬èº«ç‰¹æ€§ã€‚</li><li>å­¦ä¹ æˆæœ¬è¾ƒä½ï¼Œéœ€è¦çš„è®¡ç®—èµ„æºè¾ƒå°‘ã€‚</li><li>éœ€è¦çš„æ ·æœ¬æ•°å¯ä»¥è¾ƒå°‘ï¼Œå°‘æ ·æœ¬ä¹Ÿèƒ½å¾ˆå¥½å­¦ä¹ ã€‚</li><li>é¢„æµ‹æ—¶æ‹¥æœ‰è¾ƒå¥½æ€§èƒ½ã€‚</li><li>æ— æ³•è½¬æ¢æˆç”Ÿæˆå¼ã€‚</li></ul><p><strong>ç”Ÿæˆå¼ï¼š</strong>å­¦ä¹ çš„æ˜¯è”åˆæ¦‚ç‡åˆ†å¸ƒ$p(x,y)$â€‹ï¼Œå¯ä»¥ä»ç»Ÿè®¡çš„è§’åº¦è¡¨ç¤ºåˆ†å¸ƒçš„æƒ…å†µï¼Œèƒ½å¤Ÿåæ˜ åŒç±»æ•°æ®æœ¬èº«çš„ç›¸ä¼¼åº¦ï¼Œå®ƒä¸å…³å¿ƒåˆ°åº•åˆ’åˆ†ä¸åŒç±»çš„è¾¹ç•Œåœ¨å“ªé‡Œã€‚ç”Ÿæˆå¼æ¨¡å‹çš„å­¦ä¹ æ”¶æ•›é€Ÿåº¦æ›´å¿«ï¼Œå½“æ ·æœ¬å®¹é‡å¢åŠ æ—¶ï¼Œå­¦ä¹ åˆ°çš„æ¨¡å‹å¯ä»¥æ›´å¿«çš„æ”¶æ•›åˆ°çœŸå®æ¨¡å‹ï¼Œå½“å­˜åœ¨éšå˜é‡æ—¶ï¼Œä¾æ—§å¯ä»¥ç”¨ç”Ÿæˆå¼æ¨¡å‹ï¼Œæ­¤æ—¶åˆ¤åˆ«å¼æ–¹æ³•å°±ä¸è¡Œäº†ã€‚å…·ä½“æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>å¯¹è”åˆæ¦‚ç‡å»ºæ¨¡ï¼Œå­¦ä¹ æ‰€æœ‰åˆ†ç±»æ•°æ®çš„åˆ†å¸ƒã€‚</li><li>å­¦ä¹ åˆ°çš„æ•°æ®æœ¬èº«ä¿¡æ¯æ›´å¤šï¼Œèƒ½ååº”æ•°æ®æœ¬èº«ç‰¹æ€§ã€‚</li><li>å­¦ä¹ æˆæœ¬è¾ƒé«˜ï¼Œéœ€è¦æ›´å¤šçš„è®¡ç®—èµ„æºã€‚</li><li>éœ€è¦çš„æ ·æœ¬æ•°æ›´å¤šï¼Œæ ·æœ¬è¾ƒå°‘æ—¶å­¦ä¹ æ•ˆæœè¾ƒå·®ã€‚</li><li>æ¨æ–­æ—¶æ€§èƒ½è¾ƒå·®ã€‚</li><li>ä¸€å®šæ¡ä»¶ä¸‹èƒ½è½¬æ¢æˆåˆ¤åˆ«å¼ã€‚</li></ul><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><p><img src="https://gitee.com/xiang976young/note/raw/master/img/v2-c052779ddaa1b9d854658e161d9d2509_720w_magic.jpg" alt="v2-c052779ddaa1b9d854658e161d9d2509_720w_magic"></p><p>ä¸Šå›¾å·¦è¾¹ä¸ºåˆ¤åˆ«å¼æ¨¡å‹è€Œå³è¾¹ä¸ºç”Ÿæˆå¼æ¨¡å‹ï¼Œå¯ä»¥å¾ˆæ¸…æ™°åœ°çœ‹åˆ°å·®åˆ«ï¼Œåˆ¤åˆ«å¼æ¨¡å‹æ˜¯åœ¨å¯»æ‰¾ä¸€ä¸ªå†³ç­–è¾¹ç•Œï¼Œé€šè¿‡è¯¥è¾¹ç•Œæ¥å°†æ ·æœ¬åˆ’åˆ†åˆ°å¯¹åº”ç±»åˆ«ã€‚è€Œç”Ÿæˆå¼æ¨¡å‹åˆ™ä¸åŒï¼Œå®ƒå­¦ä¹ äº†æ¯ä¸ªç±»åˆ«çš„è¾¹ç•Œï¼Œå®ƒåŒ…å«äº†æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆæ ·æœ¬ã€‚</p><h2 id="ä¸¤è€…å¯ç”¨çš„ç®—æ³•"><a href="#ä¸¤è€…å¯ç”¨çš„ç®—æ³•" class="headerlink" title="ä¸¤è€…å¯ç”¨çš„ç®—æ³•"></a>ä¸¤è€…å¯ç”¨çš„ç®—æ³•</h2><pre><code class=" mermaid">graph LR;    MechineLearning--&gt;Discrimination;    MechineLearning--&gt;Generative;    Discrimination--&gt; LinearRegression;    Discrimination--&gt; LogisticRegression;    Discrimination--&gt; LinearDiscriminationAnalysis;    Discrimination--&gt; SupportVertorMechine;    Discrimination--&gt; Classification&amp;RegressionTree;    Discrimination--&gt; NerualNetwork;    Discrimination--&gt; GaussianProcess;    Discrimination--&gt; ConditionalRandomField;    Generative--&gt;NaiveBayes    Generative--&gt;KNN    Generative--&gt;MixtureGaussianModel    Generative--&gt;HMM    Generative--&gt;BayesNetwork    Generative--&gt;SigmoidBeliefNetworks    Generative--&gt;MarkovRandomField    Generative--&gt;DeepBeliefNetwork    Generative--&gt;LatentDirichletAllocation        </code></pre>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”è”é‚¦å­¦ä¹ å°è®°</title>
    <link href="/2022/07/01/Essay/FederatedLearning/"/>
    <url>/2022/07/01/Essay/FederatedLearning/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯Federated-Learningï¼ˆè”é‚¦å­¦ä¹ ï¼‰"><a href="#ä»€ä¹ˆæ˜¯Federated-Learningï¼ˆè”é‚¦å­¦ä¹ ï¼‰" class="headerlink" title="ä»€ä¹ˆæ˜¯Federated Learningï¼ˆè”é‚¦å­¦ä¹ ï¼‰"></a><strong>ä»€ä¹ˆæ˜¯Federated Learningï¼ˆè”é‚¦å­¦ä¹ ï¼‰</strong></h1><p>Federated Learningæ˜¯ä¸€ç§è®­ç»ƒæ•°æ®å»ä¸­å¿ƒåŒ–çš„æœºå™¨å­¦ä¹ è§£å†³æ–¹æ¡ˆï¼Œæœ€æ—©äº2016å¹´ç”±è°·æ­Œå…¬å¸æå‡ºï¼Œç›®çš„åœ¨äºé€šè¿‡å¯¹ä¿å­˜åœ¨å¤§é‡ç»ˆç«¯çš„åˆ†å¸ƒå¼æ•°æ®å¼€å±•è®­ç»ƒå­¦ä¹ ä¸€ä¸ªé«˜è´¨é‡ä¸­å¿ƒåŒ–çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œè§£å†³æ•°æ®å­¤å²›çš„é—®é¢˜ã€‚</p><p>ï¼ˆä»€ä¹ˆæ˜¯æ•°æ®å­¤å²›ï¼šè‰¯å¥½çš„AIæ˜¯éœ€è¦å¤§é‡ä¼˜è´¨çš„æ•°æ®æ¥æ”¯æ’‘è¿ç®—çš„ã€‚ä½†æ˜¯æœºæ„ä¹‹é—´å¾€å¾€ä¸ä¼šæä¾›æ•°æ®äº¤æµï¼Œä»è€Œå½¢æˆä¸€ä¸ªä¸ªæ•°æ®å­¤å²›ï¼‰</p><p>ä¸ºäº†è§£å†³ç°åœ¨å¤§é‡å­˜åœ¨çš„æ•°æ®å­¤å²›ï¼Œä»¥åŠéšç§ä¿æŠ¤é—®é¢˜ï¼Œ<strong>è”é‚¦å­¦ä¹ </strong>åº”è¿è€Œç”Ÿã€‚</p><p>æœ¬è´¨ï¼šè”é‚¦å­¦ä¹ æœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>åˆ†å¸ƒå¼</strong>æœºå™¨å­¦ä¹ æŠ€æœ¯ï¼Œæˆ–æœºå™¨å­¦ä¹ <strong>æ¡†æ¶</strong>ã€‚</p><p>ç›®æ ‡ï¼šè”é‚¦å­¦ä¹ çš„ç›®æ ‡æ˜¯åœ¨ä¿è¯æ•°æ®éšç§å®‰å…¨åŠåˆæ³•åˆè§„çš„åŸºç¡€ä¸Šï¼Œå®ç°å…±åŒå»ºæ¨¡ï¼Œæå‡AIæ¨¡å‹çš„æ•ˆæœã€‚</p><p>å‰èº«ï¼šè”é‚¦å­¦ä¹ æœ€æ—©åœ¨ 2016 å¹´ç”±è°·æ­Œæå‡ºï¼ŒåŸæœ¬ç”¨äºè§£å†³å®‰å“æ‰‹æœºç»ˆç«¯ç”¨æˆ·åœ¨æœ¬åœ°æ›´æ–°æ¨¡å‹çš„é—®é¢˜ï¼›</p><p>Federated Learningç¤ºæ„å›¾ï¼š<img src="/src/4gatnzkcb8.png" alt="img"></p><p><strong>Federated Learningä¸æ–­å¾ªç¯ä»¥ä¸‹æ­¥éª¤ï¼Œç›´è‡³è®­ç»ƒå‡ºæœ€ç»ˆæ¨¡å‹ï¼š</strong></p><ol><li>åœ¨ç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·é›†åˆä¸­æŒ‘é€‰å‡ºéƒ¨åˆ†ç”¨æˆ·ï¼Œåˆ†åˆ«ä»<a href="https://cloud.tencent.com/product/cvm?from=10680">æœåŠ¡å™¨</a>ç«¯ä¸‹è½½å½“å‰çš„æ¨¡å‹ï¼›</li><li>è¢«é€‰æ‹©çš„ç”¨æˆ·ç”¨å„è‡ªçš„æ•°æ®è®­ç»ƒæ¨¡å‹ï¼›</li><li>å„ä¸ªç”¨æˆ·å°†è®­ç»ƒå¥½çš„æ¨¡å‹ä¼ è¾“ç»™æœåŠ¡å™¨ï¼›</li><li>æœåŠ¡å™¨å°†æ¥æ”¶åˆ°çš„å„ä¸ªç”¨æˆ·çš„æ¨¡å‹èšåˆæˆä¸€ä¸ªæœ€ç»ˆçš„æ¨¡å‹ã€‚</li></ol><p><strong>2ä¸ªå‚ä¸è§’è‰²ï¼šç”¨æˆ·ï¼ˆclientï¼‰- æœåŠ¡å™¨ï¼ˆserverï¼‰</strong></p><p><strong>ç”¨æˆ·çš„ç‰¹ç‚¹ï¼š</strong></p><ul><li><strong>æ•°æ®å­˜åœ¨ç”¨æˆ·ç«¯ï¼Œä¸åŒç”¨æˆ·ä¹‹é—´ä»¥åŠç”¨æˆ·ä¸æœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®ä¸å…±äº«ï¼ˆæœ€å¤§çš„ç‰¹ç‚¹ï¼‰</strong></li><li>æ•°é‡å¤§</li><li>ç”¨æˆ·ç½‘ç»œçŠ¶æ€å…è®¸ä¸ç¨³å®šï¼Œå¯ä»¥éšæ—¶è¢«é€‰æ‹©åŠ å…¥æˆ–é€€å‡ºè®­ç»ƒ</li><li>ç”¨æˆ·æ•°æ®çš„ä¸å¹³è¡¡æ€§ï¼Œæœ‰äº›ç”¨æˆ·è®­ç»ƒæ•°æ®é‡å¤§ï¼Œæœ‰äº›ç”¨æˆ·è®­ç»ƒæ•°æ®å°‘</li><li>å…¸å‹çš„ç”¨æˆ·ï¼šæ¯”å¦‚æ‰‹æœºç»ˆç«¯</li></ul><p><strong>æœåŠ¡å™¨çš„ç‰¹ç‚¹ï¼š</strong></p><ul><li>é€šè¿‡è¿­ä»£æ–¹å¼ä¸æ–­èšåˆæ¥è‡ªä¸åŒç”¨æˆ·è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œè®­ç»ƒå‡ºä¸€ä¸ªæœ€ç»ˆçš„æ¨¡å‹ã€‚</li></ul><h2 id="è”é‚¦å­¦ä¹ çš„åˆ†ç±»"><a href="#è”é‚¦å­¦ä¹ çš„åˆ†ç±»" class="headerlink" title="è”é‚¦å­¦ä¹ çš„åˆ†ç±»"></a>è”é‚¦å­¦ä¹ çš„åˆ†ç±»</h2><p>æˆ‘ä»¬æŠŠæ¯ä¸ªå‚ä¸å…±åŒå»ºæ¨¡çš„ä¼ä¸šç§°ä¸ºå‚ä¸æ–¹ï¼Œæ ¹æ®å¤šå‚ä¸æ–¹ä¹‹é—´æ•°æ®åˆ†å¸ƒçš„ä¸åŒï¼ŒæŠŠè”é‚¦å­¦ä¹ åˆ†ä¸ºä¸‰ç±»ï¼šæ¨ªå‘è”é‚¦å­¦ä¹ ã€çºµå‘è”é‚¦å­¦ä¹ å’Œè”é‚¦è¿ç§»å­¦ä¹ ã€‚</p><p><img src="/src/v2-2f90ef909f950e2e83e5bd9aad4f5432_720w.jpg" alt="v2-2f90ef909f950e2e83e5bd9aad4f5432_720w"></p><h3 id="æ¨ªå‘è”é‚¦å­¦ä¹ "><a href="#æ¨ªå‘è”é‚¦å­¦ä¹ " class="headerlink" title="æ¨ªå‘è”é‚¦å­¦ä¹ "></a>æ¨ªå‘è”é‚¦å­¦ä¹ </h3><p><strong>é€‚ç”¨åœºæ™¯</strong>æ¨ªå‘è”é‚¦å­¦ä¹ çš„æœ¬è´¨æ˜¯<strong>æ ·æœ¬çš„è”åˆ</strong>ï¼Œé€‚ç”¨äºå‚ä¸è€…é—´ä¸šæ€ç›¸åŒä½†è§¦è¾¾å®¢æˆ·ä¸åŒï¼Œå³ç‰¹å¾é‡å å¤šï¼Œç”¨æˆ·é‡å å°‘æ—¶çš„åœºæ™¯ï¼Œæ¯”å¦‚ä¸åŒåœ°åŒºçš„é“¶è¡Œé—´ï¼Œä»–ä»¬çš„ä¸šåŠ¡ç›¸ä¼¼ï¼ˆç‰¹å¾ç›¸ä¼¼ï¼‰ï¼Œä½†ç”¨æˆ·ä¸åŒï¼ˆæ ·æœ¬ä¸åŒï¼‰</p><p><strong>å­¦ä¹ è¿‡ç¨‹</strong><img src="/src/v2-23616816b92a6d62be206b0aa28ba393_720w.jpg" alt="v2-23616816b92a6d62be206b0aa28ba393_720w"></p><p>Step 1ï¼šå‚ä¸æ–¹å„è‡ªä»æœåŠ¡å™¨Aä¸‹è½½æœ€æ–°æ¨¡å‹ï¼›</p><p>Step 2ï¼šæ¯ä¸ªå‚ä¸æ–¹åˆ©ç”¨æœ¬åœ°æ•°æ®è®­ç»ƒæ¨¡å‹ï¼ŒåŠ å¯†æ¢¯åº¦ä¸Šä¼ ç»™æœåŠ¡å™¨Aï¼ŒæœåŠ¡å™¨Aèšåˆå„ç”¨æˆ·çš„æ¢¯åº¦æ›´æ–°æ¨¡å‹å‚æ•°ï¼›</p><p>Step 3ï¼šæœåŠ¡å™¨Aè¿”å›æ›´æ–°åçš„æ¨¡å‹ç»™å„å‚ä¸æ–¹ï¼›</p><p>Step 4ï¼šå„å‚ä¸æ–¹æ›´æ–°å„è‡ªæ¨¡å‹ã€‚</p><p><strong>æ­¥éª¤è§£è¯»ï¼š</strong>åœ¨ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ å»ºæ¨¡ä¸­ï¼Œé€šå¸¸æ˜¯æŠŠæ¨¡å‹è®­ç»ƒéœ€è¦çš„æ•°æ®é›†åˆåˆ°ä¸€ä¸ªæ•°æ®ä¸­å¿ƒç„¶åå†è®­ç»ƒæ¨¡å‹ï¼Œä¹‹åé¢„æµ‹ã€‚åœ¨æ¨ªå‘è”é‚¦å­¦ä¹ ä¸­ï¼Œå¯ä»¥çœ‹ä½œæ˜¯<strong>åŸºäºæ ·æœ¬çš„åˆ†å¸ƒå¼æ¨¡å‹è®­ç»ƒ</strong>ï¼Œåˆ†å‘å…¨éƒ¨æ•°æ®åˆ°ä¸åŒçš„æœºå™¨ï¼Œæ¯å°æœºå™¨ä»æœåŠ¡å™¨ä¸‹è½½æ¨¡å‹ï¼Œç„¶ååˆ©ç”¨æœ¬åœ°æ•°æ®è®­ç»ƒæ¨¡å‹ï¼Œä¹‹åè¿”å›ç»™æœåŠ¡å™¨éœ€è¦æ›´æ–°çš„å‚æ•°ï¼›æœåŠ¡å™¨èšåˆå„æœºå™¨ä¸Šçš„è¿”å›çš„å‚æ•°ï¼Œæ›´æ–°æ¨¡å‹ï¼Œå†æŠŠæœ€æ–°çš„æ¨¡å‹åé¦ˆåˆ°æ¯å°æœºå™¨ã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¯å°æœºå™¨ä¸‹éƒ½æ˜¯<strong>ç›¸åŒä¸”å®Œæ•´çš„æ¨¡å‹</strong>ï¼Œä¸”æœºå™¨ä¹‹é—´ä¸äº¤æµä¸ä¾èµ–ï¼Œåœ¨é¢„æµ‹æ—¶æ¯å°æœºå™¨ä¹Ÿå¯ä»¥<strong>ç‹¬ç«‹é¢„æµ‹</strong>ï¼Œå¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹çœ‹ä½œæˆåŸºäºæ ·æœ¬çš„åˆ†å¸ƒå¼æ¨¡å‹è®­ç»ƒã€‚è°·æ­Œæœ€åˆå°±æ˜¯é‡‡ç”¨æ¨ªå‘è”é‚¦çš„æ–¹å¼è§£å†³å®‰å“æ‰‹æœºç»ˆç«¯ç”¨æˆ·åœ¨æœ¬åœ°æ›´æ–°æ¨¡å‹çš„é—®é¢˜çš„ã€‚</p><h3 id="çºµå‘è”é‚¦å­¦ä¹ "><a href="#çºµå‘è”é‚¦å­¦ä¹ " class="headerlink" title="çºµå‘è”é‚¦å­¦ä¹ "></a>çºµå‘è”é‚¦å­¦ä¹ </h3><p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong>çºµå‘è”é‚¦å­¦ä¹ çš„æœ¬è´¨æ˜¯<strong>ç‰¹å¾çš„è”åˆ</strong>ï¼Œé€‚ç”¨äºç”¨æˆ·é‡å å¤šï¼Œç‰¹å¾é‡å å°‘çš„åœºæ™¯ï¼Œæ¯”å¦‚åŒä¸€åœ°åŒºçš„å•†è¶…å’Œé“¶è¡Œï¼Œä»–ä»¬è§¦è¾¾çš„ç”¨æˆ·éƒ½ä¸ºè¯¥åœ°åŒºçš„å±…æ°‘ï¼ˆæ ·æœ¬ç›¸åŒï¼‰ï¼Œä½†ä¸šåŠ¡ä¸åŒï¼ˆç‰¹å¾ä¸åŒï¼‰ã€‚</p><p><strong>å­¦ä¹ è¿‡ç¨‹ï¼š</strong><img src="/src/v2-3d3a6fbef04273a7729364789f0902fb_720w.jpg" alt="v2-3d3a6fbef04273a7729364789f0902fb_720w"></p><p>çºµå‘è”é‚¦å­¦ä¹ çš„æœ¬è´¨æ˜¯äº¤å‰ç”¨æˆ·åœ¨ä¸åŒä¸šæ€ä¸‹çš„ç‰¹å¾è”åˆï¼Œæ¯”å¦‚å•†è¶…Aå’Œé“¶è¡ŒBï¼Œåœ¨ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ å»ºæ¨¡è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å°†ä¸¤éƒ¨åˆ†æ•°æ®é›†ä¸­åˆ°ä¸€ä¸ªæ•°æ®ä¸­å¿ƒï¼Œç„¶åå†å°†æ¯ä¸ªç”¨æˆ·çš„ç‰¹å¾joinæˆä¸€æ¡æ•°æ®ç”¨æ¥è®­ç»ƒæ¨¡å‹ï¼Œæ‰€ä»¥å°±éœ€è¦åŒæ–¹æœ‰ç”¨æˆ·äº¤é›†ï¼ˆåŸºäºjoinç»“æœå»ºæ¨¡ï¼‰ï¼Œå¹¶æœ‰ä¸€æ–¹å­˜åœ¨labelã€‚å…¶å­¦ä¹ æ­¥éª¤å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåˆ†ä¸ºä¸¤å¤§æ­¥ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼šåŠ å¯†æ ·æœ¬å¯¹é½ã€‚æ˜¯åœ¨ç³»ç»Ÿçº§åšè¿™ä»¶äº‹ï¼Œå› æ­¤åœ¨ä¼ä¸šæ„ŸçŸ¥å±‚é¢ä¸ä¼šæš´éœ²éäº¤å‰ç”¨æˆ·ã€‚</p><p>ç¬¬äºŒæ­¥ï¼šå¯¹é½æ ·æœ¬è¿›è¡Œæ¨¡å‹åŠ å¯†è®­ç»ƒï¼š</p><p>step 1ï¼šç”±ç¬¬ä¸‰æ–¹Cå‘Aå’ŒBå‘é€å…¬é’¥ï¼Œç”¨æ¥åŠ å¯†éœ€è¦ä¼ è¾“çš„æ•°æ®ï¼›</p><p>step 2ï¼š Aå’ŒBåˆ†åˆ«è®¡ç®—å’Œè‡ªå·±ç›¸å…³çš„ç‰¹å¾ä¸­é—´ç»“æœï¼Œå¹¶åŠ å¯†äº¤äº’ï¼Œç”¨æ¥æ±‚å¾—å„è‡ªæ¢¯åº¦å’ŒæŸå¤±ï¼›</p><p>step 3ï¼š Aå’ŒBåˆ†åˆ«è®¡ç®—å„è‡ªåŠ å¯†åçš„æ¢¯åº¦å¹¶æ·»åŠ æ©ç å‘é€ç»™Cï¼ŒåŒæ—¶Bè®¡ç®—åŠ å¯†åçš„æŸå¤±å‘é€ç»™Cï¼›</p><p>step 4ï¼š Cè§£å¯†æ¢¯åº¦å’ŒæŸå¤±åå›ä¼ ç»™Aå’ŒBï¼ŒAã€Bå»é™¤æ©ç å¹¶æ›´æ–°æ¨¡å‹ã€‚</p><p><strong>åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­å‚ä¸æ–¹éƒ½ä¸çŸ¥é“å¦ä¸€æ–¹çš„æ•°æ®å’Œç‰¹å¾ï¼Œä¸”è®­ç»ƒç»“æŸåå‚ä¸æ–¹åªå¾—åˆ°è‡ªå·±ä¾§çš„æ¨¡å‹å‚æ•°ï¼Œå³åŠæ¨¡å‹ã€‚</strong></p><p><strong>é¢„æµ‹è¿‡ç¨‹ï¼š</strong>ç”±äºå„å‚ä¸æ–¹åªèƒ½å¾—åˆ°ä¸è‡ªå·±ç›¸å…³çš„æ¨¡å‹å‚æ•°ï¼Œé¢„æµ‹æ—¶éœ€è¦åŒæ–¹åä½œå®Œæˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="/src/v2-741e2effe86325903be656a4c2c39fb2_720w.jpg" alt="v2-741e2effe86325903be656a4c2c39fb2_720w"></p><p><strong>å…±åŒå»ºæ¨¡çš„ç»“æœï¼š</strong></p><ul><li>åŒæ–¹å‡è·å¾—æ•°æ®ä¿æŠ¤</li><li>å…±åŒæå‡æ¨¡å‹æ•ˆæœ</li><li>æ¨¡å‹æ— æŸå¤±</li></ul><h3 id="è”é‚¦è¿ç§»å­¦ä¹ "><a href="#è”é‚¦è¿ç§»å­¦ä¹ " class="headerlink" title="è”é‚¦è¿ç§»å­¦ä¹ "></a><strong>è”é‚¦è¿ç§»å­¦ä¹ </strong></h3><p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p><p>å½“å‚ä¸è€…é—´ç‰¹å¾å’Œæ ·æœ¬é‡å éƒ½å¾ˆå°‘æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨è”é‚¦è¿ç§»å­¦ä¹ ï¼Œå¦‚ä¸åŒåœ°åŒºçš„é“¶è¡Œå’Œå•†è¶…é—´çš„è”åˆã€‚ä¸»è¦é€‚ç”¨äºä»¥æ·±åº¦ç¥ç»ç½‘ç»œä¸ºåŸºæ¨¡å‹çš„åœºæ™¯ã€‚</p><p><strong>è¿ç§»å­¦ä¹ ä»‹ç»ï¼š</strong>è¿ç§»å­¦ä¹ ï¼Œæ˜¯æŒ‡åˆ©ç”¨æ•°æ®ã€ä»»åŠ¡ã€æˆ–æ¨¡å‹ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œå°†åœ¨æºé¢†åŸŸå­¦ä¹ è¿‡çš„æ¨¡å‹ï¼Œåº”ç”¨äº ç›®æ ‡é¢†åŸŸçš„ä¸€ç§å­¦ä¹ è¿‡ç¨‹ã€‚</p><p>è”é‚¦è¿ç§»å­¦ä¹ çš„æ­¥éª¤ä¸çºµå‘è”é‚¦å­¦ä¹ ç›¸ä¼¼ï¼Œåªæ˜¯ä¸­é—´ä¼ é€’ç»“æœä¸åŒï¼ˆå®é™…ä¸Šæ¯ä¸ªæ¨¡å‹çš„ä¸­é—´ä¼ é€’ç»“æœéƒ½ä¸åŒ)ã€‚è¿™é‡Œé‡ç‚¹è®²ä¸€ä¸‹è”é‚¦è¿ç§»çš„æ€æƒ³ï¼š<img src="/src/v2-ee8292d033fc88148a030765dd18918d_720w.jpg" alt="v2-ee8292d033fc88148a030765dd18918d_720w"></p><hr><h2 id="å¦‚ä½•ä¿è¯å®‰å…¨æ€§"><a href="#å¦‚ä½•ä¿è¯å®‰å…¨æ€§" class="headerlink" title="å¦‚ä½•ä¿è¯å®‰å…¨æ€§"></a>å¦‚ä½•ä¿è¯å®‰å…¨æ€§</h2><p>å„ä¸ªç”¨æˆ·å°†è®­ç»ƒå¥½çš„æ¨¡å‹åŠ å¯†åä¼ è¾“ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä»…ä»…å¯ä»¥å°†æ¥æ”¶åˆ°çš„æ¥è‡ªå¤šä¸ªç”¨æˆ·èšåˆåæ‰èƒ½æˆåŠŸè§£å¯†ï¼Œè€Œæ— æ³•å¯¹å•ä¸ªæ¨¡å‹è§£å¯†ã€‚ç”¨æˆ·ç«¯çš„åŠ å¯†ç®—æ³•é€šè¿‡æ·»åŠ é›¶å’Œæ©ç æ¥åŠ æ‰°è®­ç»ƒå¥½çš„æ¨¡å‹ç»“æœï¼ŒæœåŠ¡å™¨ç«¯èšåˆå„ä¸ªæ¨¡å‹åå™ªå£°äº’ç›¸æŠµæ¶ˆï¼Œä»è€Œæ— æ³•åæ¨å‡ºå„ä¸ªç”¨æˆ·æ¨¡å‹çš„è®­ç»ƒæ•°æ®è¾¾åˆ°å®‰å…¨æ€§ä¿æŠ¤çš„æ•ˆæœã€‚</p><h2 id="federated-learningçš„ä¼˜ç‚¹"><a href="#federated-learningçš„ä¼˜ç‚¹" class="headerlink" title="federated learningçš„ä¼˜ç‚¹"></a>federated learningçš„ä¼˜ç‚¹</h2><ul><li>ä¿æŠ¤ç”¨æˆ·çš„éšç§ï¼ŒæœåŠ¡å™¨ä¸è·å–ç”¨æˆ·çš„æ•°æ®</li><li>åˆ†å¸ƒå¼çš„æ•°æ®æ¶æ„ï¼Œå‡è½»æ•°æ®é›†ä¸­å­˜å‚¨çš„å‹åŠ›</li></ul><h2 id="Federated-Learningçš„å±€é™æ€§"><a href="#Federated-Learningçš„å±€é™æ€§" class="headerlink" title="Federated Learningçš„å±€é™æ€§"></a>Federated Learningçš„å±€é™æ€§</h2><ul><li>éœ€è¦ç”¨æˆ·å¯¹é½æˆ–ç‰¹å¾å¯¹é½æ‰èƒ½å…±åŒè®­ç»ƒæ¨¡å‹</li><li>æ¨¡å‹ä¼ è¾“ï¼ˆä¿¡æ¯ä¼ é€’ï¼‰å­˜åœ¨ä¸€å®šçš„å±€é™</li><li>ç”¨æˆ·è·å–çš„é—´æ­‡æ€§</li><li>æ•°æ®è·å–çš„é—´æ­‡æ€§</li><li>å¤§è§„æ¨¡çš„åˆ†å¸ƒå¼ç½‘ç»œç»“æ„å¸¦æ¥å‹åŠ›</li></ul><h2 id="å½“å‰å¼€æºæ¡†æ¶"><a href="#å½“å‰å¼€æºæ¡†æ¶" class="headerlink" title="å½“å‰å¼€æºæ¡†æ¶"></a>å½“å‰å¼€æºæ¡†æ¶</h2><p>ç›®å‰çš„Federated Learning å¼€æºæ¡†æ¶ä¸»è¦æœ‰ä¸¤ä¸ªï¼š</p><ul><li>è°·æ­Œçš„TensorFlow Federated (TFF)æ¡†æ¶</li><li>å¾®ä¼—é“¶è¡Œçš„Federated Learningå¼€æºæ¡†æ¶FATE</li></ul><blockquote><p>Reference</p><ol><li><a href="http://ai.googleblog.com/2017/04/federated-learning-collaborative.html">Federated Learning: Collaborative Machine Learning without Centralized Training Data, 2017.        </a><a href="https://ai.googleblog.com/2017/04/federated-learning-collaborative.html">https://ai.googleblog.com/2017/04/federated-learning-collaborative.html.</a></li><li><a href="https://federated.withgoogle.com/">Federated Learning. </a><a href="https://federated.withgoogle.com/">https://federated.withgoogle.com.</a></li><li>Federated Learning: Strategies for Improving Communication Efficiency, 2016. <a href="https://ai.google/research/pubs/pub45648">https://ai.google/research/pubs/pub45648.</a></li><li>ã€Š<a href="https://cloud.tencent.com/product/fele?from=10680">è”é‚¦å­¦ä¹ </a>ç™½çš®ä¹¦ V1.0ã€‹<a href="https://img.fedai.org.cn/fedweb/1552917119598.pdf">https://img.fedai.org.cn/fedweb/1552917119598.pdf.</a></li><li>Federated Learning: Machine Learning on Decentralized Data (Google I&#x2F;Oâ€™19).</li><li><a href="https://cloud.tencent.com/developer/article/1489037">https://cloud.tencent.com/developer/article/1489037</a></li><li><a href="https://zhuanlan.zhihu.com/p/79284686m/p/79284686">https://zhuanlan.zhihu.com/p/79284686m/p/79284686</a></li></ol></blockquote>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”GANå°è®°</title>
    <link href="/2022/07/01/Essay/GAN/"/>
    <url>/2022/07/01/Essay/GAN/</url>
    
    <content type="html"><![CDATA[<h1 id="Generative-Adversarial-Networks-ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ"><a href="#Generative-Adversarial-Networks-ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ" class="headerlink" title="Generative Adversarial Networks(ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ)"></a>Generative Adversarial Networks(ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ)</h1><p>ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGenerative Adversarial Netsï¼ŒGANï¼‰æ˜¯ä¸€ç§åŸºäºå¯¹æŠ—å­¦ä¹ çš„æ·±åº¦ç”Ÿæˆæ¨¡å‹ï¼Œæœ€æ—©ç”±Ian Goodfellowäº2014å¹´åœ¨ã€Š<a href="https://link.zhihu.com/?target=https://arxiv.org/pdf/1406.2661.pdf">Generative Adversarial Nets</a>ã€‹ä¸­æå‡ºï¼Œä¸€ç»æå‡ºä¾¿æˆä¸ºäº†å­¦æœ¯ç•Œç ”ç©¶çš„çƒ­ç‚¹ï¼Œä¹Ÿå°†ç”Ÿæˆæ¨¡å‹çš„çƒ­åº¦æ¨å‘äº†å¦ä¸€ä¸ªæ–°çš„é«˜å³°ã€‚</p><h1 id="1ã€å‰è¨€"><a href="#1ã€å‰è¨€" class="headerlink" title="1ã€å‰è¨€"></a>1ã€å‰è¨€</h1><p>æœºå™¨å­¦ä¹ æ¨¡å‹å¯ä»¥åˆ†ä¸ºâ€œåˆ¤åˆ«å¼â€å’Œâ€œç”Ÿæˆå¼â€ï¼ˆäºŒè€…çš„å…·ä½“åŒºåˆ«ï¼Œå¯å‚è€ƒDiscrimination&amp;Generativeï¼Œå‰è€…ç›´æ¥å»ºæ¨¡æ¡ä»¶åˆ†å¸ƒï¼Œåè€…å»ºæ¨¡è”åˆåˆ†å¸ƒå¹¶å€ŸåŠ©è´å¶æ–¯å®šç†æ¥è®¡ç®—æ¡ä»¶åˆ†å¸ƒã€‚</p><p>ç”Ÿæˆæ¨¡å‹ç”±äºèƒ½å¤Ÿå­¦ä¹ æ•°æ®çš„éšå«ç‰¹å¾è¡¨ç¤ºï¼Œè¿‘äº›å¹´å¾—åˆ°äº†é•¿è¶³çš„å‘å±•ï¼Œåœ¨æœºå™¨å­¦ä¹ é¢†åŸŸä¹Ÿæ„ˆæ¥æ„ˆé‡è¦ã€‚</p><p>ä¼ ç»Ÿçš„ç”Ÿæˆæ¨¡å‹å¦‚æœ´ç´ è´å¶æ–¯ã€HMMç­‰ï¼Œé‡‡ç”¨æµ…å±‚ç»“æ„ï¼Œç”±äºå…¶å»ºæ¨¡å’Œè¡¨ç¤ºèƒ½åŠ›æœ‰é™ï¼Œåœ¨é‡åˆ°ä¸€äº›å¤æ‚çš„æ¶‰åŠè‡ªç„¶ä¿¡å·ï¼ˆæ¯”å¦‚äººç±»è¯­è¨€ã€è‡ªç„¶å›¾åƒå’Œè§†è§‰åœºæ™¯ï¼‰çš„é—®é¢˜æ—¶å¾€å¾€è¡¨ç°ä¸ä½³ã€‚å½“å‰ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„æ·±åº¦ç”Ÿæˆæ¨¡å‹ï¼Œåº”ç”¨æ›´ä¸ºå¹¿æ³›ã€‚</p><p>ä¸»æµçš„æ·±åº¦ç”Ÿæˆæ¨¡å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>è‡ªå›å½’ç½‘ç»œï¼ˆAuto-Regressive Networksï¼‰</li><li>å˜åˆ†è‡ªç¼–ç å™¨ï¼ˆVariational AutoEncoderï¼ŒVAEï¼‰</li><li>ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGenerative Adversarial Netsï¼ŒGANï¼‰</li><li>æµæ¨¡å‹ï¼ˆFlow-based Modelï¼‰</li></ul><h1 id="2ã€ç»“æ„"><a href="#2ã€ç»“æ„" class="headerlink" title="2ã€ç»“æ„"></a>2ã€ç»“æ„</h1><p><img src="/src/v2-9fa7e1088a9661a1dadfc391f12bbbc4_720w.jpg" alt="img"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºGANç”±ä¸€ä¸ªåˆ¤åˆ«å™¨ï¼ˆDiscriminatorï¼‰å’Œä¸€ä¸ªç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ä¸¤ä¸ªç½‘ç»œç»„æˆã€‚</p><p>è®­ç»ƒæ—¶å…ˆè®­ç»ƒåˆ¤åˆ«å™¨ï¼šå°†è®­ç»ƒé›†æ•°æ®ï¼ˆTraining Setï¼‰æ‰“ä¸ŠçœŸæ ‡ç­¾ï¼ˆ1ï¼‰å’Œç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ç”Ÿæˆçš„å‡å›¾ç‰‡ï¼ˆFake imageï¼‰æ‰“ä¸Šå‡æ ‡ç­¾ï¼ˆ0ï¼‰ä¸€åŒç»„æˆbatché€å…¥åˆ¤åˆ«å™¨ï¼ˆDiscriminatorï¼‰ï¼Œå¯¹åˆ¤åˆ«å™¨è¿›è¡Œè®­ç»ƒã€‚è®¡ç®—lossæ—¶ä½¿åˆ¤åˆ«å™¨å¯¹çœŸæ•°æ®ï¼ˆTraining Setï¼‰è¾“å…¥çš„åˆ¤åˆ«è¶‹è¿‘äºçœŸï¼ˆ1ï¼‰ï¼Œå¯¹ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ç”Ÿæˆçš„å‡å›¾ç‰‡ï¼ˆFake imageï¼‰çš„åˆ¤åˆ«è¶‹è¿‘äºå‡ï¼ˆ0ï¼‰ã€‚æ­¤è¿‡ç¨‹ä¸­åªæ›´æ–°åˆ¤åˆ«å™¨ï¼ˆDiscriminatorï¼‰çš„å‚æ•°ï¼Œä¸æ›´æ–°ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰çš„å‚æ•°ã€‚</p><p>ç„¶åå†è®­ç»ƒç”Ÿæˆå™¨ï¼šå°†é«˜æ–¯åˆ†å¸ƒçš„å™ªå£°zï¼ˆRandom noiseï¼‰é€å…¥ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ï¼Œç„¶åå°†ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ç”Ÿæˆçš„å‡å›¾ç‰‡ï¼ˆFake imageï¼‰æ‰“ä¸ŠçœŸæ ‡ç­¾ï¼ˆ1ï¼‰é€å…¥åˆ¤åˆ«å™¨ï¼ˆDiscriminatorï¼‰ã€‚è®¡ç®—lossæ—¶ä½¿åˆ¤åˆ«å™¨å¯¹ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ç”Ÿæˆçš„å‡å›¾ç‰‡ï¼ˆFake imageï¼‰çš„åˆ¤åˆ«è¶‹è¿‘äºçœŸï¼ˆ1ï¼‰ã€‚æ­¤è¿‡ç¨‹ä¸­åªæ›´æ–°ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰çš„å‚æ•°ï¼Œä¸æ›´æ–°åˆ¤åˆ«å™¨ï¼ˆDiscriminatorï¼‰çš„å‚æ•°ã€‚</p><p>GANçš„ä¸€äº›ç¼ºç‚¹ï¼š</p><ul><li>è®­ç»ƒä¸ç¨³å®šï¼Œä¸å®¹æ˜“æ”¶æ•›</li><li>å®¹æ˜“å‡ºç°æ¨¡å‹åç¼©ï¼ˆMode Collapseï¼‰ï¼Œç”Ÿæˆå™¨æ€»æ˜¯ç”Ÿæˆç›¸åŒçš„æ ·æœ¬</li><li>ç”Ÿæˆè¿‡ç¨‹ä¸å¯æ§</li><li>ä¸å…·å¤‡å¯è§£é‡Šæ€§ï¼Œ $p_g$æ²¡æœ‰æ˜¾å¼çš„è¡¨è¾¾</li></ul><h1 id="3ã€å‘å±•"><a href="#3ã€å‘å±•" class="headerlink" title="3ã€å‘å±•"></a>3ã€å‘å±•</h1><p>å…³äºGANçš„ç ”ç©¶ï¼Œæˆªè‡³ç›®å‰å·²å¤šä¸èƒœæ•°ï¼Œåäººä¹Ÿæå‡ºäº†ä¸€ç³»åˆ—çš„å˜ç§æ¨¡å‹ï¼Œè¿™äº›æ¨¡å‹åŸºæœ¬ä¸Šåœ¨ä¸¤æ–¹é¢è¿›è¡Œæ”¹è¿›ï¼šæ¨¡å‹ç»“æ„ã€æ•°å­¦åŸç†ã€‚</p><p>å¯¹äºGANç³»åˆ—æ¨¡å‹çš„å‘å±•ï¼Œè¿™é‡Œæˆ‘ä»¬åšä¸€äº›ç®€è¦çš„ç½—åˆ—åŠä»‹ç»ï¼š</p><ul><li>DCGANï¼šåœ¨ç”Ÿæˆå™¨å’Œåˆ¤åˆ«å™¨ä¸­å¼•å…¥äº†å·ç§¯ç»“æ„ï¼ˆåŸå§‹GANé‡‡ç”¨çš„æ˜¯ç®€å•çš„MLPï¼‰</li><li>CGANï¼šåœ¨ç”Ÿæˆå™¨å’Œåˆ¤åˆ«å™¨ä¸­å¼•å…¥äº†æ¡ä»¶å˜é‡ï¼Œä½¿ç”¨é¢å¤–ä¿¡æ¯å¯¹æ¨¡å‹å¢åŠ æ¡ä»¶ï¼Œä½¿å¾—ç”Ÿæˆå™¨èƒ½å¤Ÿæœç€è§„å®šæ–¹å‘è¿›è¡Œç”Ÿæˆ</li><li>WGANï¼šä¿®æ”¹äº†åŸå§‹GANçš„ç›®æ ‡å‡½æ•°ï¼Œç”¨Wassersteinè·ç¦»æ›¿ä»£JSæ•£åº¦æ¥ä½œä¸ºä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„è·ç¦»åº¦é‡ï¼ˆå…·ä½“å¯å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/25071913">è¿™ç¯‡æ–‡ç« </a>ï¼‰ï¿½ï¿½</li></ul>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”GCNå°è®°</title>
    <link href="/2022/07/01/Essay/GCN/"/>
    <url>/2022/07/01/Essay/GCN/</url>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/qq_41683065/article/details/104547135">https://blog.csdn.net/qq_41683065/article/details/104547135</a></p><p>GCNçš„ä¼˜ç‚¹<br>æƒå€¼å…±äº«ï¼Œå‚æ•°å…±äº«ï¼Œä» A X W AXWAXW å¯ä»¥çœ‹å‡ºæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å‚æ•°çŸ©é˜µéƒ½æ˜¯ W WWï¼Œæƒå€¼å…±äº«ï¼›<br>å…·æœ‰å±€éƒ¨æ€§Local Connectivityï¼Œä¹Ÿå°±æ˜¯å±€éƒ¨è¿æ¥çš„ï¼Œå› ä¸ºæ¯æ¬¡èšåˆçš„åªæ˜¯ä¸€é˜¶é‚»å±…ï¼› ä¸Šè¿°ä¸¤ä¸ªç‰¹å¾ä¹Ÿæ˜¯CNNä¸­è¿›è¡Œå‚æ•°å‡å°‘çš„æ ¸å¿ƒæ€æƒ³<br>æ„Ÿå—é‡æ­£æ¯”äºå·ç§¯å±‚å±‚æ•°ï¼Œç¬¬ä¸€å±‚çš„èŠ‚ç‚¹åªåŒ…å«ä¸ç›´æ¥ç›¸é‚»èŠ‚ç‚¹æœ‰å…³çš„ä¿¡æ¯ï¼Œç¬¬äºŒå±‚ä»¥åï¼Œæ¯ä¸ªèŠ‚ç‚¹è¿˜åŒ…å«ç›¸é‚»èŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œè¿™æ ·çš„è¯ï¼Œå‚ä¸è¿ç®—çš„ä¿¡æ¯å°±ä¼šå˜å¤šã€‚å±‚æ•°è¶Šå¤šï¼Œæ„Ÿå—é‡è¶Šå¤§ï¼Œå‚ä¸è¿ç®—çš„ä¿¡æ¯é‡è¶Šå……åˆ†ã€‚ä¹Ÿå°±æ˜¯è¯´éšç€å·ç§¯å±‚çš„å¢åŠ ï¼Œä»è¿œå¤„é‚»å±…çš„ä¿¡æ¯ä¹Ÿä¼šé€æ¸èšé›†è¿‡æ¥ã€‚<br>å¤æ‚åº¦å¤§å¤§é™ä½ï¼Œä¸ç”¨å†è®¡ç®—æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µåŠå…¶ç‰¹å¾åˆ†è§£<br>GCNçš„ä¸è¶³<br>æ‰©å±•æ€§å·®ï¼šç”±äºè®­ç»ƒæ—¶éœ€è¦éœ€è¦çŸ¥é“å…³äºè®­ç»ƒèŠ‚ç‚¹ã€æµ‹è¯•èŠ‚ç‚¹åœ¨å†…çš„æ‰€æœ‰èŠ‚ç‚¹çš„é‚»æ¥çŸ©é˜µ A AAï¼Œå› æ­¤æ˜¯transductiveçš„ï¼Œä¸èƒ½å¤„ç†å¤§å›¾ï¼Œç„¶è€Œå·¥ç¨‹å®è·µä¸­å‡ ä¹é¢ä¸´çš„éƒ½æ˜¯å¤§å›¾é—®é¢˜ï¼Œå› æ­¤åœ¨æ‰©å±•æ€§é—®é¢˜ä¸Šå±€é™å¾ˆå¤§ï¼Œä¸ºäº†è§£å†³transductiveçš„çš„é—®é¢˜ï¼ŒGraphSAGEï¼šInductive Representation Learning on Large Graphs è¢«æå‡ºï¼›<br>å±€é™äºæµ…å±‚ï¼šGCNè®ºæ–‡ä¸­è¡¨æ˜ï¼Œç›®å‰GCNåªå±€é™äºæµ…å±‚ï¼Œå®éªŒä¸­ä½¿ç”¨2å±‚GCNæ•ˆæœæœ€å¥½ï¼Œä¸ºäº†åŠ æ·±ï¼Œéœ€è¦ä½¿ç”¨æ®‹å·®è¿æ¥ç­‰trickï¼Œä½†æ˜¯å³ä½¿ä½¿ç”¨äº†è¿™äº›trickï¼Œä¹Ÿåªèƒ½å‹‰å¼ºä¿å­˜æ€§èƒ½ä¸ä¸‹é™ï¼Œå¹¶æ²¡æœ‰æé«˜ï¼ŒDeeper Insights into Graph Convolutional Networks for Semi-Supervised Learningä¸€æ–‡ä¹Ÿé’ˆå¯¹When GCNs Fail ï¼Ÿè¿™ä¸ªé—®é¢˜è¿›è¡Œäº†åˆ†æã€‚è™½ç„¶æœ‰ä¸€ç¯‡è®ºæ–‡ï¼šDeepGCNs-Can GCNs Go as Deep as CNNs?å°±æ˜¯è§£å†³GCNå±€é™äºæµ…å±‚çš„è¿™ä¸ªé—®é¢˜çš„ï¼Œä½†ä¸ªäººè§‰å¾—å¹¶æ²¡æœ‰è§£å†³å®è´¨æ€§çš„é—®é¢˜ï¼Œè¿™æ–¹é¢è¿˜æœ‰å€¼å¾—ç ”ç©¶çš„ç©ºé—´ã€‚<br>ä¸èƒ½å¤„ç†æœ‰å‘å›¾ï¼šç†ç”±å¾ˆç®€å•ï¼Œæ¨å¯¼è¿‡ç¨‹ä¸­ç”¨åˆ°æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µçš„ç‰¹å¾åˆ†è§£éœ€è¦æ»¡è¶³æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µæ˜¯å¯¹ç§°çŸ©é˜µçš„æ¡ä»¶ã€‚</p><p>$$<br>H^{(l+1)}&#x3D;\sigma\left(\tilde{D}^{-\frac{1}{2}} \tilde{A} \tilde{D}^{-\frac{1}{2}} H^{(l)} W^{(l)}\right)<br>$$</p>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”GNNå°è®°</title>
    <link href="/2022/07/01/Essay/Graph%20Nerual%20Network/"/>
    <url>/2022/07/01/Essay/Graph%20Nerual%20Network/</url>
    
    <content type="html"><![CDATA[<h1 id="Graph-Neural-Network"><a href="#Graph-Neural-Network" class="headerlink" title="Graph Neural Network"></a>Graph Neural Network</h1><p>GNNæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒå¯¹ä¸€ç»„å¯¹è±¡ï¼ˆèŠ‚ç‚¹ï¼‰åŠå…¶å…³ç³»ï¼ˆè¾¹ï¼‰è¿›è¡Œå»ºæ¨¡ã€‚</p><p>GNNæ˜¯ä¸€ä¸ªéç»“æ„åŒ–æ•°æ®å­¦ä¹ ï¼Œæ‹¥æœ‰å¼ºå¤§çš„è¡¨è¾¾èƒ½åŠ›ã€‚ä¾§é‡äºèŠ‚ç‚¹åˆ†ç±»ï¼Œé“¾æ¥é¢„æµ‹ï¼Œå›¾åˆ†ç±»å’Œå›¾ç”Ÿæˆé—®é¢˜</p><p><a href="https://blog.csdn.net/qq_41683065/article/details/104547135">https://blog.csdn.net/qq_41683065/article/details/104547135</a></p><h2 id="å‘å±•åŠ¨æœº"><a href="#å‘å±•åŠ¨æœº" class="headerlink" title="å‘å±•åŠ¨æœº"></a>å‘å±•åŠ¨æœº</h2><p>æœ‰ä¸¤ç‚¹ï¼š</p><ol><li>æ¬§å‡ é‡Œå¾·æ•°æ®å‘éæ¬§å‡ é‡Œå¾·æ•°æ®è½¬å˜è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ç”¨åˆ°æ·±åº¦ç¥ç»ç½‘ç»œå’Œå›¾ç¥ç»ç½‘ç»œ</li><li>å›¾è¡¨ç¤ºå­¦ä¹ ï¼šå›¾çš„ä¿¡æ¯ä¼ æ’­æœºåˆ¶å¯¼è‡´èŠ‚ç‚¹å‚æ•°æ— æ³•å…±äº«ã€æ•ˆç‡ä½ä¸‹ï¼›åŒæ—¶ä¹Ÿå¯¼è‡´æ¨¡å‹æ³›åŒ–èƒ½åŠ›ä½ï¼Œæ— æ³•å¤„ç†æ–°æ¥çš„å›¾ã€‚</li></ol><pre><code class=" mermaid">graph LR;    GNN--&gt;RecurrentGraphNerualNetwork;    GNN--&gt;ConvolutionGraphNerualNetwork;    GNN--&gt;GraphAutoEncoders;    GNN--&gt;Spatial-TemporalGraphNerualNetwork;</code></pre><h2 id="å›¾çš„ä»»åŠ¡"><a href="#å›¾çš„ä»»åŠ¡" class="headerlink" title="å›¾çš„ä»»åŠ¡"></a>å›¾çš„ä»»åŠ¡</h2><p>å¯ä»¥åˆ†å¸ƒåœ¨èŠ‚ç‚¹ä¸Šã€é“¾æ¥ä¸Šã€å›¾ä¸Šã€‚ä»»åŠ¡å¯ä»¥æ˜¯ç›‘ç£ã€åŠç›‘ç£æˆ–è€…æ— ç›‘ç£çš„å½¢å¼ã€‚å¯¹äºä¸åŒçš„ä»»åŠ¡çš„å›¾æ¥è¯´ï¼Œå¯ä»¥æ˜¯</p><ul><li>Propagation Moduleï¼šèŠ‚ç‚¹ä¹‹é—´ä¼ æ’­ä¿¡æ¯ï¼Œæ­£å¸¸çš„<ol><li>è°±æ–¹æ³•ï¼šå­¦ä¹ æ»¤æ³¢å™¨ä¾èµ–äºå›¾ç»“æ„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä»…å¤„ç†åŒæ„å›¾ã€‚</li><li>ç©ºé—´æ–¹æ³•â€”â€”åŸºæœ¬æ–¹æ³•ï¼šåˆ©ç”¨ä¸åŒå¤§å°çš„kernelè¿›è¡Œå·ç§¯è¿ç®—ï¼Œå¹¶ä¿æŒCNNçš„å±€éƒ¨ä¸å˜çš„æ€§è´¨</li><li>ç©ºé—´æ–¹æ³•â€”â€”æ³¨æ„åŠ›æ–¹æ³•ï¼šå¯ä»¥å¯¹ä¸åŒç¨‹åº¦çš„èŠ‚ç‚¹åº”ç”¨ä¸åŒçš„æƒé‡ï¼Œå¯ä»¥å‡è½»å™ªéŸ³ï¼Œè·å¾—æ›´å¥½çš„ç»“æœã€‚</li><li>ç©ºé—´æ–¹æ³•â€”â€”æ¡†æ¶</li></ol></li><li>Sampling Moduleï¼šå›¾å¤ªå¤§ï¼Œéœ€è¦æŠ½å–å±€éƒ¨ä¿¡æ¯ï¼›å¦‚æœæˆ‘ä»¬è¿½æº¯åˆ°å¤šä¸ªGNNå±‚ï¼Œæ”¯æŒé‚»å±…çš„å¤§å°å°†éšç€æ·±åº¦å‘ˆæŒ‡æ•°å¢é•¿ã€‚ä¸ºäº†ç¼“è§£è¿™ç§â€œé‚»å±…çˆ†ç‚¸â€çš„é—®é¢˜ï¼Œä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•æ˜¯é‡‡æ ·ã€‚</li><li>Pooling Moduleï¼šé«˜çº§å›¾ï¼Œä»ä¸åŒèŠ‚ç‚¹ä¸­æå–ä¿¡æ¯ï¼›ä»å·ç§¯å‡ºçš„ç‰¹å¾ä¸­è·å¾—æ›´åŠ ä¸€èˆ¬çš„ç‰¹å¾ã€‚</li></ul><p><img src="/src/image-20220608151908637.png" alt="image-20220608151908637"></p><p>è®¸å¤šåº”ç”¨ç¨‹åºå±•å¼€æˆ–å †å å›¾å½¢ç¥ç»ç½‘ç»œå±‚ï¼Œç›®çš„æ˜¯è·å¾—æ›´å¥½çš„ç»“æœï¼Œå› ä¸ºæ›´å¤šå±‚ï¼ˆå³kå±‚ï¼‰ä½¿æ¯ä¸ªèŠ‚ç‚¹ä»é‚»å±…kä¸ªè·³è·ƒä¸­èšé›†æ›´å¤šä¿¡æ¯ã€‚ç„¶è€Œï¼Œåœ¨è®¸å¤šå®éªŒä¸­è§‚å¯Ÿåˆ°ï¼Œæ›´æ·±å±‚æ¬¡çš„æ¨¡å‹ä¸èƒ½æé«˜æ€§èƒ½ï¼Œæ›´æ·±å±‚æ¬¡çš„æ¨¡å‹ç”šè‡³æ€§èƒ½æ›´å·®ã€‚è¿™ä¸»è¦æ˜¯å› ä¸ºæ›´å¤šçš„å±‚ä¹Ÿå¯ä»¥ä¼ æ’­æ¥è‡ªæ•°é‡å‘ˆæŒ‡æ•°å¢é•¿çš„æ‰©å±•é‚»åŸŸæˆå‘˜çš„å™ªå£°ä¿¡æ¯ã€‚è¿™ä¹Ÿä¼šå¯¼è‡´è¿‡åº¦å¹³æ»‘é—®é¢˜ï¼Œå› ä¸ºå½“æ¨¡å‹æ·±å…¥æ—¶ï¼ŒèŠ‚ç‚¹åœ¨èšåˆæ“ä½œåå¾€å¾€å…·æœ‰ç±»ä¼¼çš„è¡¨ç¤ºã€‚å› æ­¤ï¼Œè®¸å¤šæ–¹æ³•å°è¯•æ·»åŠ â€œè·³è¿‡è¿æ¥â€ï¼Œä»¥ä½¿GNNæ¨¡å‹æ›´æ·±å…¥ã€‚</p><p><img src="/src/image-20220611222753237-165694008370946.png" alt="image-20220611222753237"></p><p>é’ˆå¯¹ä¸Šè¿°GNNä¸­ä¸åŒæ¨¡å—çš„æ”¹è¿›ï¼Œè¯¥ç»¼è¿°å¯¹å‰äººçš„å·¥ä½œåšäº†ä¸€ä¸ªè¯¦å°½çš„æè¿°å’Œåˆ†ç±»ã€‚</p><h2 id="å›¾åˆ†ç±»"><a href="#å›¾åˆ†ç±»" class="headerlink" title="å›¾åˆ†ç±»"></a>å›¾åˆ†ç±»</h2><p>å›¾å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ç±»ï¼š</p><ol><li><p>æ˜¯å¦æœ‰å‘ï¼šæœ‰å‘å›¾æ˜¯GNNæ¨¡å‹ä¸­æœ€åŸºç¡€çš„æ¨¡å‹ã€‚</p></li><li><p>æ˜¯å¦åŒæ„ï¼šHomogeneous&#x2F;Heterogeneousï¼Œè€ƒè™‘åˆ°èŠ‚ç‚¹ä¹‹é—´ã€é“¾æ¥ä¹‹é—´ä¸åŒçš„å±æ€§ã€‚å³å¤šæ¨¡æ€ã€å¤šç±»å‹</p><ol><li>å…ƒè·¯å¾„æ–¹æ³•ï¼šå…ƒè·¯å¾„æ˜¯ä¸€ç§è·¯å¾„æ–¹æ¡ˆï¼Œå®ƒç¡®å®šè·¯å¾„æ¯ä¸ªä½ç½®çš„èŠ‚ç‚¹ç±»å‹ã€‚å­¦ä¹ åˆ°çš„æ–°è¿æ¥å¯ä»¥è¿æ¥å½¼æ­¤ä¹‹é—´æœ‰å¤šä¸ªè·³è·ƒä½†å…³ç³»å¯†åˆ‡çš„èŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹èµ·åˆ°å…ƒè·¯å¾„çš„ä½œç”¨ã€‚</li><li>åŸºäºè¾¹çš„æ–¹æ³•ï¼šé€šå¸¸é’ˆå¯¹ä¸åŒç±»å‹çš„é‚»å±…å’Œè¾¹åœ¨é‡‡æ ·ã€èšåˆç­‰æ–¹é¢ä½¿ç”¨ä¸åŒçš„å‡½æ•°ã€‚å®ƒä¸ºä¸åŒçš„å…ƒå…³ç³»åˆ†é…ä¸åŒçš„æ³¨æ„æƒé‡çŸ©é˜µï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿè€ƒè™‘ç±»å‹ä¿¡æ¯ã€‚</li><li>åŸºäºå…³ç³»å›¾çš„æ–¹æ³•ï¼šä¸€äº›å›¾çš„è¾¹å¯èƒ½åŒ…å«æ¯”ç±»å‹æ›´å¤šçš„ä¿¡æ¯ï¼Œæˆ–è€…ç±»å‹çš„æ•°é‡å¯èƒ½å¤ªå¤§ï¼Œè¿™ç»™åº”ç”¨åŸºäºå…ƒè·¯å¾„æˆ–å…ƒå…³ç³»çš„æ–¹æ³•å¸¦æ¥äº†å›°éš¾ã€‚</li><li>åŸºäºå¤æ‚å›¾çš„æ–¹æ³•ï¼šåœ¨æ›´å¤æ‚çš„åœºæ™¯ä¸­ï¼Œå›¾ä¸­çš„ä¸€å¯¹èŠ‚ç‚¹å¯ä»¥ä¸ä¸åŒç±»å‹çš„å¤šæ¡è¾¹ç›¸å…³è”ã€‚é€šè¿‡åœ¨ä¸åŒç±»å‹çš„è¾¹ä¸‹æŸ¥çœ‹ï¼Œå›¾å½¢å¯ä»¥å½¢æˆå¤šä¸ªå±‚ï¼Œå…¶ä¸­æ¯ä¸ªå±‚è¡¨ç¤ºä¸€ç§ç±»å‹çš„å…³ç³»ã€‚</li></ol></li><li><p>é™æ€å›¾æˆ–åŠ¨æ€å›¾ï¼šè€ƒè™‘å›¾ä¸­çš„å±æ€§ï¼ˆè¾¹ã€èŠ‚ç‚¹ï¼‰æ˜¯å¦ä¼šéšç€æ—¶é—´çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p></li><li><p>å…¶ä»–å›¾ç±»å‹ï¼šä¾‹å¦‚ï¼šè¶…å›¾ã€æœ‰ç¬¦å·å›¾</p><p><img src="/src%5Cimage-20220612102140294.png" alt="image-20220612102140294"></p></li></ol><p>è®¾è®¡å›¾ï¼š</p><ol><li>å‘ç°å›¾ç»“æ„</li><li>æŒ‡å®šå›¾å½¢ç±»å‹ä¸æ¯”ä¾‹</li><li>è®¾è®¡æŸå¤±å‡½æ•°</li><li>ä½¿ç”¨è®¡ç®—æ¨¡å—ï¼Œæ„å»ºæ¨¡å‹</li></ol><h2 id="å›¾å·¥ä½œçš„åº”ç”¨"><a href="#å›¾å·¥ä½œçš„åº”ç”¨" class="headerlink" title="å›¾å·¥ä½œçš„åº”ç”¨"></a>å›¾å·¥ä½œçš„åº”ç”¨</h2><p>å›¾å·¥ä½œå¯ä»¥åº”ç”¨çš„åœºæ™¯å’Œé¢†åŸŸéå¸¸å¹¿æ³›ã€‚ç›‘ç£ã€åŠç›‘ç£ã€æ— ç›‘ç£ä»¥åŠå¼ºåŒ–å­¦ä¹ å¯ä»¥è¿ç”¨åˆ°å›¾ç¥ç»ç½‘ç»œä¸Šã€‚</p><ol><li>æ˜¾æ€§ç»“æ„åŒ–ï¼šå›¾åŒ¹é…ï¼Œå›¾èšç±»ï¼ŒçŸ¥è¯†å›¾ã€ç”Ÿæˆå›¾ã€äº¤é€šå›¾ã€æ¨èç³»ç»Ÿ</li><li>éšå½¢éç»“æ„åŒ–ï¼šå›¾åƒï¼ˆå°‘é‡å›¾åˆ†ç±»ï¼‰ã€è§†è§‰é—®ç­”ã€è¯­ä¹‰åˆ†å‰²ã€æ–‡æœ¬åˆ†ç±»ã€æ–‡æœ¬æ ‡ç­¾ã€å…³ç³»æå–ç­‰ç­‰ã€‚</li></ol><h2 id="å›¾ç¥ç»-ç›®å‰å­˜åœ¨çš„é—®é¢˜"><a href="#å›¾ç¥ç»-ç›®å‰å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="å›¾ç¥ç» ç›®å‰å­˜åœ¨çš„é—®é¢˜"></a>å›¾ç¥ç» ç›®å‰å­˜åœ¨çš„é—®é¢˜</h2><ol><li>é²æ£’æ€§</li><li>å¯è§£é‡Šæ€§</li><li>å›¾çš„é¢„è®­ç»ƒ</li><li>è´Ÿè´£çš„å›¾ç»“æ„</li></ol><h2 id="GNN-SOTA-Methods"><a href="#GNN-SOTA-Methods" class="headerlink" title="GNN SOTA Methods"></a>GNN SOTA Methods</h2><p>GCNï¼šæ˜¯ä¸€ç§ç®€åŒ–çš„åŸºäºé¢‘è°±çš„GNNï¼Œä¹Ÿå¯ä»¥è¢«è§†ä¸ºåŸºäºç©ºé—´çš„GNN</p><p>GATï¼šå°†æ³¨æ„åŠ›æœºåˆ¶çº³å…¥GNNä¸­ï¼ŒGNNä½¿ç”¨æ³¨æ„åŠ›åˆ†æ•°å·®å¼‚èšåˆå›¾ä¸Šé‚»å±…çš„è¡¨ç¤ºã€‚</p><p>GraphSAGEï¼šé€šè¿‡å˜é‡èšåˆæ“ä½œæ‰©å±•äº†GNNçš„æ“ä½œèŒƒå›´ï¼Œç”¨äºå½’çº³è®¾ç½®ï¼Œä¸ºçœ‹ä¸è§çš„èŠ‚ç‚¹ç”Ÿæˆè¡¨ç¤ºã€‚</p><p>JKNetsï¼ˆJumping Knowledge Networksï¼‰:é€šè¿‡é‡‡ç”¨è·³è·ƒè¿æ¥å’Œæ··åˆè·³,åˆ©ç”¨å½’ä¸€åŒ–é‚»æ¥çŸ©é˜µçš„å¹‚çš„ç»„åˆæ¥èšåˆä¸åŒè·ç¦»çš„ç‰¹å¾ï¼Œä»è€Œåˆ©ç”¨äº†çµæ´»çš„é‚»åŸŸèŒƒå›´ã€‚</p><h2 id="HGNN-SOTA-Methods"><a href="#HGNN-SOTA-Methods" class="headerlink" title="HGNN SOTA Methods"></a>HGNN SOTA Methods</h2><p>å…·æœ‰å…³ç³»ç‰¹å®šå‚æ•°çš„GNNï¼š</p><p>å…³ç³»å›¾å·ç§¯ç½‘ç»œï¼ˆR-GCNï¼‰:ä½¿ç”¨å…·æœ‰å…³ç³»ç‰¹å®šå·ç§¯ï¼ˆæˆ–æƒé‡çŸ©é˜µï¼‰çš„GCNæ¥å¤„ç†å¼‚æ„å›¾ã€‚</p><p>å¼‚æ„å›¾å˜æ¢å™¨ï¼ˆHGTï¼‰å¯å‚æ•°åŒ–æ¯ç§è¾¹ç±»å‹çš„å…ƒå…³ç³»ä¸‰å…ƒç»„ï¼Œå¹¶ä½¿ç”¨äº†ä¸€ç§åˆ©ç”¨å˜æ¢å™¨æ¶æ„çš„è‡ªæ³¨æ„åŠ›çš„ç»“æ„æ¥å­¦ä¹ ä¸åŒå…³ç³»çš„ç‰¹å®šæ¨¡å¼ã€‚</p><p>å…·æœ‰åŸºäºå…³ç³»çš„å›¾å˜æ¢çš„GNNï¼š</p><p>å¼‚æ„å›¾æ³¨æ„åŠ›ç½‘ç»œï¼ˆHANï¼‰é¦–å…ˆä½¿ç”¨æ‰‹åŠ¨é€‰æ‹©çš„å…ƒè·¯å¾„å°†å¼‚æ„å›¾è½¬æ¢ä¸ºåŒè´¨å›¾ï¼Œå¹¶åœ¨å›¾ä¸Šåº”ç”¨åŸºäºæ³¨æ„åŠ›çš„GNNã€‚HANå…·æœ‰å±€é™æ€§ï¼Œå³å®ƒæ˜¯ä¸€ç§å¤šé˜¶æ®µæ–¹æ³•ï¼Œéœ€è¦åœ¨æ¯ä¸ªæ•°æ®é›†ä¸­æ‰‹åŠ¨é€‰æ‹©å…ƒè·¯å¾„ã€‚æ­¤å¤–ï¼Œå…ƒè·¯å¾„çš„é€‰æ‹©ä¼šæ˜¾è‘—å½±å“æ€§èƒ½ã€‚<br>ï¿½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”å¤šæ¨¡æ€å°è®°</title>
    <link href="/2022/07/01/Essay/MultiModel/"/>
    <url>/2022/07/01/Essay/MultiModel/</url>
    
    <content type="html"><![CDATA[<p>å¤šæ¨¡æ€ä¸€èˆ¬æœ‰ä¸‰ç§å¸¸è§çš„ç»“æ„</p><pre><code class=" mermaid">classDiagram      MultiModel &lt;|-- Early Fusion      MultiModel &lt;|-- Late Fusion      MultiModel &lt;|-- Intermediate Fusion      class Early Fusion&#123;          +Date Level          +å¤šæºæ•°æ®æ•´ç†æˆå•ä¸ªæ•°æ®      &#125;      class Late Fusion&#123;          +Decision Level          +æ¨¡å‹é›†æˆ      &#125;      class Intermediate Fusion&#123;        +Most popular          +Inputæ˜ å°„åˆ°Networkä¸Š,          åŒæ ·å¯ä»¥æ•æ‰åˆ°å¤šæºæ•°æ®é—´éšè—å…³è”      &#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
      <tag>Algorithms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”å‰ç«¯æ€»ç»“</title>
    <link href="/2022/07/01/Essay/%E5%89%8D%E7%AB%AF/"/>
    <url>/2022/07/01/Essay/%E5%89%8D%E7%AB%AF/</url>
    
    <content type="html"><![CDATA[<h1 id="çœ‹ä¹¦ã€çœ‹è§†é¢‘æ¶¨æŠ€æœ¯æ²¡æœ‰åšé¡¹ç›®æ¥çš„å¿«-ï¼Œä½†æ˜¯é©±åŠ¨å­¦ä¹ çš„ä¸€å®šæ˜¯ä½ çš„ç›®æ ‡ï¼Œä½ çš„çŸ¥è¯†éœ€è¦"><a href="#çœ‹ä¹¦ã€çœ‹è§†é¢‘æ¶¨æŠ€æœ¯æ²¡æœ‰åšé¡¹ç›®æ¥çš„å¿«-ï¼Œä½†æ˜¯é©±åŠ¨å­¦ä¹ çš„ä¸€å®šæ˜¯ä½ çš„ç›®æ ‡ï¼Œä½ çš„çŸ¥è¯†éœ€è¦" class="headerlink" title="çœ‹ä¹¦ã€çœ‹è§†é¢‘æ¶¨æŠ€æœ¯æ²¡æœ‰åšé¡¹ç›®æ¥çš„å¿« ï¼Œä½†æ˜¯é©±åŠ¨å­¦ä¹ çš„ä¸€å®šæ˜¯ä½ çš„ç›®æ ‡ï¼Œä½ çš„çŸ¥è¯†éœ€è¦"></a>çœ‹ä¹¦ã€çœ‹è§†é¢‘æ¶¨æŠ€æœ¯æ²¡æœ‰åšé¡¹ç›®æ¥çš„å¿« ï¼Œä½†æ˜¯é©±åŠ¨å­¦ä¹ çš„ä¸€å®šæ˜¯ä½ çš„ç›®æ ‡ï¼Œä½ çš„çŸ¥è¯†éœ€è¦</h1><p><img src="/src/image-20220614093643553.png" alt="image-20220614093643553"></p><p>ç¿»åˆ°å­¦ä¹ æ–‡ä»¶ï¼Œåº”è¯¥è¿˜å¯ä»¥<a href="https://github.com/qianguyihao/Web">Githubèµ„æº</a>ï¼Œä¸»é¡µåœ°å€åœ¨<a href="https://web.qianguyihao.com/">æ–‡å­—èµ„æºéƒ½åœ¨è¿™</a></p><p>é¢è¯•åˆ·é¢˜ï¼šé«˜çº§å‰ç«¯é¢è¯•ï¼ˆvxå…¬ä¼—å·ï¼‰ã€å‰ç«¯é¢è¯•æ˜Ÿçƒï¼ˆvxå…¬ä¼—å·ï¼‰ã€<a href="https://muyiy.cn/question/">https://muyiy.cn/question/</a></p><p>åŸºç¡€ï¼š</p><ol><li>ç¯å¢ƒæ­å»º webstormï¼Œhbuilderï¼Œvscodeï¼ˆæœ€å¥½ï¼‰ï¼Œsublimeã€‚ </li><li>html<a href="https://link.zhihu.com/?target=https://developer.mozilla.org/en-US/docs/Web/HTML">MDN HTML Doc</a></li><li>css<a href="https://link.zhihu.com/?target=https://developer.mozilla.org/en-US/docs/Web/CSS">MDN CSS Doc</a></li><li>JavaScript<a href="https://link.zhihu.com/?target=https://developer.mozilla.org/en-US/docs/Web/JavaScript">MDN JavaScript DOC</a></li></ol><p>è¦å…ˆçœ‹åŸºç¡€ï¼Œbç«™ä¸Šå¥½å¤šè§†é¢‘ï¼Œé€‰æ‹©ä¸€ä¸ªå–œæ¬¢çš„è€å¸ˆæ•™å­¦è§†é¢‘è·Ÿç€çœ‹ï¼Œhtml ï¼Œcssï¼Œjsï¼Œå…ˆçœ‹åŸºç¡€çš„ï¼Œçœ‹å®Œä¹‹åï¼Œæœç´¢é«˜é˜¶jsï¼Œjsä¸€å®šè¦å¤šçœ‹ï¼Œhtmlï¼Œcsså¯ä»¥æ¢ä¸ªè€å¸ˆå†çœ‹ä¸€éï¼Œä¼šæœ‰ä¸åŒçš„æ”¶è·ï¼ˆæˆ‘æ˜¯è¿™æ ·å­¦çš„ï¼Œçœ‹å®Œä¸€ä¸ªè€å¸ˆçš„è§†é¢‘ï¼Œæœ‰ä¸æ‡‚çš„åœ°æ–¹ï¼Œæˆ‘é‡æ–°æ‰¾ä¸€ä¸ªè€å¸ˆï¼Œé€‰æ‹©æ€§çœ‹ï¼‰ ï¼ˆå¸ˆå§è¯´çš„ï¼‰</p><p>æˆ‘ä¹Ÿè®¤ä¸ºåŸºç¡€æ˜¯é‡è¦çš„ï¼Œæ¡†æ¶å¹¶æ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œä½ éœ€è¦æˆä¸ºä¸€ä¸ªåšæ¡†æ¶çš„äººï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåªä¼šç”¨æ¡†æ¶çš„äººã€‚ä¼šç”¨æ¡†æ¶è¯´æ˜ä¸äº†ä»€ä¹ˆï¼ˆä½†æ˜¯èƒ½æ‰¾åˆ°å·¥ä½œï¼‰ï¼Œæˆ‘è§‰å¾—å‰ç«¯çš„æ ¸å¿ƒä¼šäº†ï¼Œæ¡†æ¶åº”è¯¥ä¹Ÿæ˜¯æŒºé¡ºçš„ã€‚<br> å­¦å®ŒåŸºç¡€åï¼Œå¯ä»¥ä»¿ç…§ç”µå•†ç½‘ç«™ï¼ˆä¾‹å¦‚äº¬ä¸œã€å°ç±³ï¼‰åšé¦–é¡µçš„å¸ƒå±€ã€‚æˆ‘è®°å¾—å½“æ—¶å­¦æ ¡åŸ¹è®­çš„æ—¶å€™ï¼Œæˆ‘ä»¬è€å¸ˆå°±æ˜¯è¿™ä¹ˆå¹²çš„ã€‚</p><p>è¿›é˜¶ï¼š</p><ol><li>çº¯jsæ“ä½œdomã€jQueryã€Ajaxç­‰ã€‚jQueryæ²¡æœ‰è¿‡æ—¶ï¼ˆå¸ˆå§è¯´çš„ï¼‰ã€‚</li><li>æ·±å…¥å­¦ä¹ jsï¼šçŸ¥é“ä½œç”¨åŸŸå’Œé—­åŒ…ï¼Œè§£è¯»åŸå‹é“¾ï¼ŒåŸå‹æ›¿æ¢ï¼ŒthisæŒ‡å‘å’Œå¯¹è±¡åŸå‹ç­‰ï¼Œes6ï¼Œes7çš„æ–°è¯­æ³•ã€‚es6ï¼Œè¿™éƒ¨åˆ†å±äºJSæ–°å¢çš„è¯­æ³•ï¼Œé¢è¯•å¿…é—®ã€‚å…¶ä¸­ï¼Œå…³äº promiseã€async ç­‰å†…å®¹è¦å°¤å…¶å…³æ³¨ï¼Œå­¦ä¹ åœ°å€åœ¨ä¸‹æ–¹ã€‚</li><li>HTML5å’ŒCSS3ã€‚è¦ç†Ÿæ‚‰å…¶ä¸­çš„æ–°ç‰¹æ€§ã€‚ <a href="https://link.zhihu.com/?target=http://lesscss.cn/">Less ä¸­æ–‡ç½‘</a></li><li>uiæ¡†æ¶ä¹‹æ—…æ¨èä»bootstrapå¼€å§‹ï¼Œç§»åŠ¨Webå¼€å‘ã€Bootstrapç­‰ã€‚è¦æ³¨æ„ç§»åŠ¨å¼€å‘ä¸­çš„é€‚é…å’Œå…¼å®¹æ€§é—®é¢˜ã€‚</li><li>UIæ¡†æ¶ï¼š<a href="https://element.eleme.cn/#/">Element UI</a></li><li>å‰ç«¯æ¡†æ¶ï¼švueï¼Œreactï¼Œangular2é€‰ä¸€ç§ï¼Œæˆ‘å»ºè®®ä»vueå¼€å§‹ï¼Œreactçš„jsxè¯­æ³•ä¸é€‚åˆä½ å…¥é—¨å»å­¦ä¹ ï¼Œangular2çš„typescriptè¯­æ³•éš¾åº¦ä¹Ÿæ¯”è¾ƒé«˜ï¼Œvueå­¦èµ·æ¥å¹³æ»‘äº›ï¼Œç»“åˆvueï¼Œå­¦ä¸€ä¸‹vue-routerï¼Œvuexï¼Œelement,uiï¼Œaxiosï¼Œwebpackã€‚åšä¸ªé¡¹ç›®ç©ä¸€ä¸‹è¿™ä¸ªå…¨å®¶æ¡¶ã€‚</li><li>å‰ç«¯å·¥ç¨‹åŒ–</li><li>å‰ç«¯ç»¼åˆ</li></ol><p>å­¦ä¹ æ¡†æ¶ï¼Œreactæˆ–è€…vueæˆ–è€…angularï¼Œè¿™ä¸‰ä¸ªæ¡†æ¶çœ‹è‡ªå·±å…´è¶£é€‰æ‹©ä¸€ä¸ªå…ˆå­¦ï¼Œå†ä»bç«™ä¸Šæ‰¾ä¸€äº›é¡¹ç›®ï¼Œå°šç¡…è°·çš„ä¹‹ç±»çš„è·Ÿç€å­¦ï¼Œå­¦ä¹ çš„è¿™äº›éƒ½è¦è®°ç¬”è®°ï¼Œå› ä¸ºå†…å®¹å¾ˆå¤šã€‚å¦‚æœä»¥åæ‰¾å·¥ä½œçš„è¯ï¼Œè¿˜è¦åˆ·é¢˜ï¼Œå¤šçœ‹çœ‹é¢˜ç›®å°±å¥½äº†ã€‚å¦‚æœè¿˜æœ‰æ—¶é—´çš„è¯ï¼Œè¿™äº›éƒ½å­¦äº†ï¼Œå¯ä»¥å¤šå­¦å‡ ä¸ªæ¡†æ¶ï¼Œvueå’Œreactéƒ½æŒæ¡äº†æ˜¯æœ€å¥½ã€‚ï¼ˆTSçš„å†…å®¹æ¯”ESè¿˜è¦å¤šã€‚ã€‚ã€‚ï¼‰</p><p>å…¶ä»–ï¼š</p><ol><li>gitä¸nodejs <a href="https://link.zhihu.com/?target=https://nodejs.org/en/docs/guides/">Guides | Node.js</a>   gitæ˜¯åŸºæœ¬æ“ä½œï¼Œä»“åº“è¿™ä¸ªä¸œè¥¿è¿˜æ˜¯è¦ä¼šçš„ã€‚node.jsæˆ‘è®°å¾—vueé‡Œé¢å°±ç”¨åˆ°äº†ä¸€ç‚¹</li><li>canvasã€‚é¢è¯•æ—¶ï¼Œæœ‰çš„å…¬å¸ä¸ä¸€å®šä¼šé—®canvasï¼Œé è¿æ°”ã€‚å¦‚æœæ—¶é—´ä¸å¤Ÿï¼Œè¿™éƒ¨åˆ†çš„å†…å®¹å¯ä»¥å…ˆä¸å­¦ã€‚ä½†å¦‚æœä½ ä¼šï¼Œç»å¯¹å±äºåŠ åˆ†é¡¹ã€‚(æˆ‘è®°å¾—æ˜¯ç”¨æ¥åšç½‘é¡µå°æ¸¸æˆçš„å§ï¼Œæˆ‘å¥½æƒ³å†™è¿‡)  <a href="https://github.com/bxm0927/canvas-special">ä»£ç </a></li></ol><h2 id="åŸºç¡€é¡¹ç›®ï¼š"><a href="#åŸºç¡€é¡¹ç›®ï¼š" class="headerlink" title="åŸºç¡€é¡¹ç›®ï¼š"></a>åŸºç¡€é¡¹ç›®ï¼š</h2><ol><li>animate <a href="https://github.com/animate-css/animate.css">ä»£ç </a> <a href="https://animate.style/">æ•ˆæœ</a></li><li>CSS-Inspiration<a href="https://github.com/chokcoco/CSS-Inspiration">ä»£ç </a> <a href="https://chokcoco.github.io/CSS-Inspiration/#/">æ•ˆæœ</a></li><li>vanillawebprojects è¡¨å•éªŒè¯ã€éŸ³è§†é¢‘æ’­æ”¾å™¨ã€æ‰“å­—ç­‰å°åº”ç”¨ <a href="https://github.com/bradtraversy/vanillawebprojects">ä»£ç </a></li><li>Ant Design åŸºäº Ant Design è®¾è®¡ä½“ç³»çš„ React UI ç»„ä»¶åº“  <a href="https://github.com/ant-design/ant-design/">React ä»£ç </a> <a href="https://github.com/vueComponent/ant-design-vue/">Vueä»£ç </a></li><li>Echarts åŸºäº JavaScript çš„å¼€æºå¯è§†åŒ–å›¾è¡¨åº“ <a href="https://github.com/apache/echarts">ä»£ç </a></li><li>ECMAScriptæ˜¯JavaScriptçš„è¯­è¨€æ ‡å‡†ï¼Œæè¿°äº†JSçš„èƒ½åŠ›ï¼ŒAPIï¼ŒåŸºæœ¬å®ç°æ­¥éª¤ã€‚ es6<a href="https://es6.ruanyifeng.com/">åœ°å€</a></li></ol><h2 id="ä¸­çº§é¡¹ç›®ï¼š"><a href="#ä¸­çº§é¡¹ç›®ï¼š" class="headerlink" title="ä¸­çº§é¡¹ç›®ï¼š"></a>ä¸­çº§é¡¹ç›®ï¼š</h2><ol><li>particles.js   å½“æˆ‘ä»¬æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼Œä¼šçœ‹è§ä¸€äº›ç½‘ç«™çš„èƒŒæ™¯æœ‰ç²’å­æ•ˆæœï¼Œçœ‹å®Œæ˜¯ä¸æ˜¯ä¹Ÿå¾ˆå¥½å¥‡å®ƒæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿåœ¨particles.jsè¿™ä¸ªåº“é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¶é€ è®¸å¤šç²’å­æ•ˆæœï¼Œç”¨åœ¨ç½‘é¡µçš„èƒŒæ™¯å¯æ˜¯ç›¸å½“å¥½çœ‹çš„ã€‚<a href="https://codepen.io/VincentGarreau/pen/bGxvQd">æ¼”ç¤º</a> <a href="https://github.com/VincentGarreau/particles.js">ä»£ç </a></li><li>reveal.jsæ˜¯ä¸€æ¬¾ç½‘é¡µpptï¼Œç•Œé¢ä¼˜ç¾ï¼Œåˆæ”¯æŒè®¸å¤špptåŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿæœ‰è®¸å¤šæ’ä»¶æ»¡è¶³å‰ç«¯çš„éœ€æ±‚ï¼Œä¾‹å¦‚markdownã€codeç­‰ä»£ç é«˜äº®æ’ä»¶ã€‚<a href="https://revealjs.com/">æ¼”ç¤º</a> <a href="https://github.com/hakimel/reveal.js">ä»£ç </a></li><li>TS  ç°åœ¨çš„å‰ç«¯å¼€å‘ä¸­ï¼Œå¯¹äºTypeScriptçš„ä½¿ç”¨è¶Šæ¥è¶Šå¤šï¼Œå°¤å…¶æ˜¯å¤§å‹è¿­ä»£é¡¹ç›®ä¸­ï¼ŒJavaScriptä¸èƒ½æ»¡è¶³éœ€è¦ï¼Œå­¦ä¹ TypeScriptä¼šæ˜¯ä¸€ä¸ªå¿…å¤‡çš„æŠ€èƒ½ <a href="https://github.com/jkchao/typescript-book-chinese">ä¹¦</a></li><li>éŸ³ä¹å™¨  è¿˜åœ¨å› ä¸ºäº‘éŸ³ä¹å› ä¸ºç‰ˆæƒä¸‹æ¶äº†ä¸€æ‰¹ä½ è‡ªå·±å–œæ¬¢çš„æ­Œæ›²ï¼Œä½†æ˜¯åˆä¸æƒ³å•ç‹¬ä¸ºäº†å‡ é¦–æ­Œæ¢å¹³å°è€Œçƒ¦æ¼å—ï¼Œé‚£ä½ å¯ä»¥è¯•è¯•è¿™ä¸ªåº“ï¼Œå¯ä»¥ä½¿ç”¨ QQ &#x2F; è™¾ç±³ &#x2F; ç™¾åº¦ &#x2F; é…·ç‹— &#x2F; é…·æˆ‘ &#x2F; å’ªå’• &#x2F; JOOX ç­‰éŸ³æºæŠŠäº‘éŸ³ä¹ç°è‰²æ­Œæ›²è§£é”æ’­æ”¾ã€‚<a href="https://github.com/nondanee/UnblockNeteaseMusic">ä»£ç </a></li></ol><h2 id="Vue-jsé¡¹ç›®ï¼š"><a href="#Vue-jsé¡¹ç›®ï¼š" class="headerlink" title="Vue.jsé¡¹ç›®ï¼š"></a>Vue.jsé¡¹ç›®ï¼š</h2><ol><li>vue-element-admin æ˜¯ä¸€ä¸ªåå°å‰ç«¯è§£å†³æ–¹æ¡ˆï¼Œå®ƒåŸºäºå’Œ element-ui å®ç°<a href="https://panjiachen.github.io/vue-element-admin">æ•ˆæœ</a>ã€<a href="https://github.com/PanJiaChen/vue-element-admin">ä»£ç </a> ã€<a href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/">ä»‹ç»</a>ã€<a href="https://github.com/PanJiaChen/vue-admin-template">æ¨¡ç‰ˆ</a></li><li>åŸºäºVue.js + Element UI çš„åå°ç®¡ç†ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ  <a href="https://lin-xin.gitee.io/example/work/#/login">æ•ˆæœ</a>ã€<a href="https://github.com/lin-xin/vue-manage-system">ä»£ç </a></li><li><a href="https://github.com/biaochenxuying/blog-vue-typescript">Vue + TypeScript + Element-Ui æ”¯æŒ markdown æ¸²æŸ“çš„åšå®¢å‰å°å±•ç¤º</a><br> è¿™ä¸ªåšå®¢ä¸»æŒº6çš„ï¼Œvueã€reactçš„é¡¹ç›® å•¥éƒ½åšäº† ä»–ç»™çš„å…¶ä»–é¡¹ç›®è¿æ¥éƒ½åœ¨è¿™ä¸ªç½‘é¡µçš„ä¸‹é¢<img src="/src/image-20220614104848594.png" alt="image-20220614104848594"></li></ol><h2 id="React-jsé¡¹ç›®ï¼š"><a href="#React-jsé¡¹ç›®ï¼š" class="headerlink" title="React.jsé¡¹ç›®ï¼š"></a>React.jsé¡¹ç›®ï¼š</h2><ol><li>h5-dooringæ˜¯ä¸€æ¬¾å¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œåº•å±‚æ˜¯ç”¨reactå†™çš„ï¼Œä½¿ç”¨æ­¤å·¥å…·å¯ä»¥è®©æˆ‘ä»¬å¿«é€Ÿç”Ÿæˆh5é¡µé¢ã€‚åŒæ—¶é€šè¿‡è¿™ä¸ªå¹³å°ä¹Ÿèƒ½äº†è§£åˆ°ä½ä»£ç çš„ç›¸å…³çŸ¥è¯†ã€‚ <a href="https://github.com/MrXujiang/h5-Dooring/blob/master/zh.md">ä»£ç </a> <a href="http://h5.dooring.cn/doc">æ–‡æ¡£</a></li><li>ä¸€å¥—ä¼˜ç§€çš„ä¸­åå°å‰ç«¯è§£å†³æ–¹æ¡ˆ<a href="https://github.com/zuiidea/antd-admin/blob/master/README-zh_CN.md">ä»£ç </a> <a href="https://antd-admin.zuiidea.com/">æ•ˆæœ</a></li><li>ç½‘æ˜“äº‘éŸ³ä¹ç¬¬ä¸‰æ–¹<a href="https://github.com/trazyn/ieaseMusic">ä»£ç </a></li><li>é¥¿äº†ä¹ˆï¼Œè¿˜åŸåº¦ç›¸å½“é«˜ï¼Œå®ç°äº†å„ç±»åŠ¨æ•ˆ<a href="https://github.com/stoneWeb/elm-react-native">ä»£ç </a></li></ol><h2 id="Angularé¡¹ç›®ï¼š"><a href="#Angularé¡¹ç›®ï¼š" class="headerlink" title="Angularé¡¹ç›®ï¼š"></a>Angularé¡¹ç›®ï¼š</h2><ol><li><a href="https://github.com/windiest/Angular-news">æ–°é—»å®¢æˆ·ç«¯</a></li></ol><h2 id="Node-jsé¡¹ç›®ï¼š"><a href="#Node-jsé¡¹ç›®ï¼š" class="headerlink" title="Node.jsé¡¹ç›®ï¼š"></a>Node.jsé¡¹ç›®ï¼š</h2><ol><li>åŸºäº node.js + Mongodb æ„å»ºçš„åå°ç³»ç»Ÿ<a href="https://github.com/bailicangdu/node-elm">ä»£ç </a><br>æ ¹æ®é¥¿äº†ä¹ˆå®˜ç½‘æ¥å£å†™çš„ï¼Œæ‰€ä»¥åå°ç³»ç»Ÿä¹Ÿä¿æŒäº†å’Œå®˜ç½‘ä¸€è‡´çš„APIæ¥å£ã€‚</li><li><a href="https://github.com/tumobi/nideshop-mini-program">åŸºäºNode.js+MySQLå¼€å‘çš„å¼€æºå¾®ä¿¡å°ç¨‹åºå•†åŸï¼ˆå¾®ä¿¡å°ç¨‹åºï¼‰</a>ram)</li></ol>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
      <tag>summary</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”æ—¶é—´åºåˆ—é¢„æµ‹æŠ€æœ¯</title>
    <link href="/2022/07/01/Essay/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%A2%84%E6%B5%8B%E6%8A%80%E6%9C%AF/"/>
    <url>/2022/07/01/Essay/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%A2%84%E6%B5%8B%E6%8A%80%E6%9C%AF/</url>
    
    <content type="html"><![CDATA[<h1 id="Holt"><a href="#Holt" class="headerlink" title="Holt"></a>Holt</h1><p>è¶‹å‘äºè¢«ä½œä¸ºè¶‹åŠ¿åºåˆ—çš„é€šç”¨æ¨¡å‹ã€‚</p><p>éœå°”ç‰¹æŒ‡æ•°å¹³æ»‘æ³•æ˜¯ä¸€ç§é«˜çº§çš„çº¿æ€§æŒ‡æ•°å¹³æ»‘æ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯å¯ä»¥ç”¨ä¸åŒçš„å¹³æ»‘å‚æ•°å¯¹åŸåºåˆ—çš„ä¸¤ç§å› ç´ è¿›è¡Œå¹³æ»‘ï¼Œå…·æœ‰å¾ˆå¤§çš„çµæ´»æ€§ï¼Œå› æ­¤åœ¨å®è·µä¸­è¢«å¹¿æ³›åœ°åº”ç”¨ã€‚</p><p>HoltæŒ‡æ•°å¹³æ»‘æ¨¡å‹ç”±Holtäº1957å¹´æå‡ºã€‚å®ƒä¸ä¸€èˆ¬çš„æŒ‡æ•°å¹³æ»‘æ¨¡å‹ä¸åŒçš„æ˜¯å®ƒå¯¹è¶‹åŠ¿æ•°æ®ç›´æ¥è¿›è¡Œå¹³æ»‘å¹¶å¯¹åŸæ—¶é—´åºåˆ—è¿›è¡Œé¢„æµ‹ï¼Œéœ€è¦è€ƒè™‘çš„æ˜¯ä¸¤ä¸ªå¹³æ»‘å‚æ•°ä»¥åŠåˆå€¼çš„é€‰å–é—®é¢˜ï¼Œä¹Ÿè¢«æˆä¸ºHoltåŒå‚æ•°çº¿æ€§æŒ‡æ•°å¹³æ»‘æ¨¡å‹ã€‚</p><p>å®ƒçš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š<br>$$<br>L_{t+1}&#x3D;\alpha D_t+(1-\alpha)(L_t+T_t)\<br>T_{t+1}&#x3D;\beta(L_{t+1}-L_t)+(1-\beta)T_t<br>$$<br>ä»¥åŠé¢„æµ‹å…¬å¼ï¼š<br>$$<br>F_{t+1}&#x3D;L_{t+1}+T_{t+1}<br>$$<br>$\alpha,\beta$â€‹æ˜¯åˆ†åˆ«ä»£è¡¨å½±å“é¢„æµ‹å€¼çš„ä¸¤ä¸ªå¹³æ»‘å‚æ•°ï¼›$D_t$ä»£è¡¨å®é™…å€¼ï¼›$F_{t+1}$ä»£è¡¨é¢„æµ‹å€¼ï¼›<br>$L_t$ä»£è¡¨å¹³å‡éœ€æ±‚ï¼›$T_t$ä»£è¡¨å¢é•¿çš„è¶‹åŠ¿ï¼Œå‰è€…æ˜¯å¯¹æ—¶é—´åºåˆ—è¶‹åŠ¿çš„å¹³æ»‘å¼ï¼›åè€…æ˜¯å¯¹è¶‹åŠ¿å¢é‡çš„å¹³æ»‘å¼ã€‚</p><h1 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h1><p>Seasonal and Trend decomposition using Loess</p><p>è¿™æ˜¯ä»¥é²æ£’å±€éƒ¨åŠ æƒå›å½’ä½œä¸ºå¹³æ»‘æ–¹æ³•çš„æ—¶é—´åºåˆ—åˆ†è§£æ–¹æ³•ã€‚</p><p>å…¶ä¸­Loess(locally weighted scatterplot smoothing,LOWESS or LOESS)ä¸ºå±€éƒ¨å¤šé¡¹å¼å›å½’æ‹Ÿåˆï¼Œæ˜¯å¯¹ä¸¤ç»´æ•£ç‚¹å›¾è¿›è¡Œå¹³æ»‘çš„å¸¸ç”¨æ–¹æ³•ï¼Œå®ƒç»“åˆäº†ä¼ ç»Ÿçº¿æ€§å›å½’çš„ç®€æ´æ€§å’Œéçº¿æ€§å›å½’çš„çµæ´»æ€§ã€‚å½“è¦ä¼°è®¡æŸä¸ªå“åº”å˜é‡å€¼æ—¶ï¼Œå…ˆä»å…¶é¢„æµ‹å˜é‡é™„è¿‘å–ä¸€ä¸ªæ•°æ®å­é›†ï¼Œç„¶åå¯¹è¯¥å­é›†è¿›è¡Œçº¿æ€§å›å½’æˆ–äºŒæ¬¡å›å½’ï¼Œå›å½’æ—¶é‡‡ç”¨åŠ æƒæœ€å°äºŒä¹˜æ³•ï¼Œå³è¶Šé è¿‘ä¼°è®¡ç‚¹çš„å€¼å…¶æƒé‡è¶Šå¤§ï¼Œæœ€ååˆ©ç”¨å¾—åˆ°çš„å±€éƒ¨å›å½’æ¨¡å‹æ¥ä¼°è®¡å“åº”å˜é‡çš„å€¼ã€‚ç”¨è¿™ç§æ–¹æ³•è¿›è¡Œé€ç‚¹è¿ç®—å¾—åˆ°æ•´æ¡æ‹Ÿåˆæ›²çº¿ã€‚</p><p>å°†æ—¶åºåˆ†è§£ä¸ºè¶‹åŠ¿é¡¹ã€å­£èŠ‚é¡¹ï¼ˆå‘¨ã€æœˆç­‰ï¼‰ã€ä½™é¡¹ã€‚åˆ©ç”¨Lowesså±€éƒ¨åŠ æƒå›å½’æŠ€æœ¯è¿›è¡Œå¹³æ»‘ï¼›é€šè¿‡å¤–å¾ªç¯è®¾è®¡ä½“ç°é²æ£’æ€§ã€‚</p><p>åˆ†åˆ«ç”¨$Y_vï¼Œ T_vï¼ŒS_vï¼ŒR_v$åˆ†åˆ«ä»£è¡¨æ•°æ®ï¼Œè¶‹åŠ¿é¡¹ã€å­£èŠ‚é¡¹å’Œä½™é¡¹ï¼Œvçš„èŒƒå›´ä¸º$[0,N]$ï¼Œé‚£ä¹ˆ$Y_v&#x3D;T_v+S_v+R_v$ ï¼Œå…¶ä¸­$v&#x3D;1,\dots,N$ ï¼ˆåŠ æ³•æ¨¡å‹ä¸­ï¼Œå„é¡¹å…·æœ‰ç›¸åŒé‡çº²ã€STLåªèƒ½å¤„ç†åŠ æ³•æ¨¡å‹ï¼Œå¯ä»¥å…ˆå°†æ•°æ®å–å¯¹æ•°ï¼Œè¿›è¡ŒSTLåˆ†è§£åçš„å„åˆ†é‡ç»“æœå–æŒ‡æ•°å³å¯ï¼‰</p><p><img src="/src/765608-20160305160907487-76859704.png" alt="img"><br>$$<br>log(Y_t)&#x3D;log(Trend_t<em>Seasonal_t</em>Irregular_t)<br>$$<br><img src="/src/765608-20160305172536268-1238138049.png" alt="img"></p><h1 id="Holt-Winters"><a href="#Holt-Winters" class="headerlink" title="Holt-Winters"></a><a href="https://blog.csdn.net/u010665216/article/details/78051192?locationNum=11&fps=1">Holt-Winters</a></h1><p>åœ¨åšæ—¶åºé¢„æµ‹æ—¶ï¼Œä¸€ä¸ªæ˜¾ç„¶çš„æ€è·¯æ˜¯ï¼šè®¤ä¸ºç¦»ç€é¢„æµ‹ç‚¹è¶Šè¿‘çš„ç‚¹ï¼Œä½œç”¨è¶Šå¤§ã€‚å³è·ç¦»é¢„æµ‹ç‚¹è¿œçš„æ•°æ®ç‚¹ï¼Œå…¶æƒé‡æŒ‰ç…§æŒ‡æ•°çº§è¿›è¡Œè¡°å‡ã€‚è¿™å°±æ˜¯æŒ‡æ•°å¹³æ»‘æ³•çš„åŸºæœ¬æ€æƒ³ã€‚</p><p>æŒ‡æ•°å¹³æ»‘æ³•æœ‰å‡ ç§ä¸åŒå½¢å¼ï¼šä¸€æ¬¡æŒ‡æ•°å¹³æ»‘æ³•é’ˆå¯¹<strong>æ²¡æœ‰è¶‹åŠ¿å’Œå­£èŠ‚æ€§</strong>çš„åºåˆ—ï¼ŒäºŒæ¬¡æŒ‡æ•°å¹³æ»‘æ³•<strong>é’ˆå¯¹æœ‰è¶‹åŠ¿ä½†æ²¡æœ‰å­£èŠ‚æ€§</strong>çš„åºåˆ—ï¼Œä¸‰æ¬¡æŒ‡æ•°å¹³æ»‘æ³•é’ˆå¯¹<strong>æœ‰è¶‹åŠ¿ä¹Ÿæœ‰å­£èŠ‚æ€§</strong>çš„åºåˆ—ã€‚<strong>â€œHolt-Wintersâ€æœ‰æ—¶ç‰¹æŒ‡ä¸‰æ¬¡æŒ‡æ•°å¹³æ»‘æ³•ã€‚</strong></p><h2 id="ä¸€æ¬¡å¹³æ»‘"><a href="#ä¸€æ¬¡å¹³æ»‘" class="headerlink" title="ä¸€æ¬¡å¹³æ»‘"></a>ä¸€æ¬¡å¹³æ»‘</h2><p>è®¡ç®—å…¬å¼ï¼š<br>$$<br>s_i&#x3D;\alpha x_i+(1-\alpha)s_{i-1} \quad 0\le\alpha\le1<br>$$<br>$s_i$æ˜¯å¹³æ»‘åçš„å€¼ï¼Œ$x_i$æ˜¯å½“å‰çš„å®é™…æ•°æ®ï¼Œ$\alpha$æ˜¯è®°å¿†è¡°å‡å› å­ï¼Œè¶Šæ¥è¿‘1ï¼Œåªä¿ç•™å½“å‰æ•°æ®ç‚¹ï¼Œè¶Šæ¥è¿‘0ï¼Œä¿ç•™å‰é¢çš„å¹³æ»‘å€¼ï¼ˆå¯¼è‡´æ•´ä¸ªæ›²çº¿éƒ½æ˜¯å¹³çš„ï¼‰</p><p>é¢„æµ‹å…¬å¼ï¼š<br>$$<br>x_{i+h}&#x3D;s_i \ \qquad( h&#x3D;1)\quad s_i \ is \ the \ last\  element<br>$$</p><h2 id="äºŒæ¬¡å¹³æ»‘"><a href="#äºŒæ¬¡å¹³æ»‘" class="headerlink" title="äºŒæ¬¡å¹³æ»‘"></a>äºŒæ¬¡å¹³æ»‘</h2><p>è®¡ç®—å…¬å¼ï¼š<br>$$<br>\begin{align}<br>s_i&amp;&#x3D;\alpha x_i+(1-\alpha)(s_{i-1}+t_{i-1}) \quad 0\le\alpha\le1 \<br>t_i&amp;&#x3D;\beta(s_{i}-s_{i-1})+(1-\beta)t_{i-1}<br>\end{align}<br>$$<br>$s_i$æ˜¯å¹³æ»‘åçš„ä¿¡å·, $t_i$æ˜¯å¹³æ»‘åçš„è¶‹åŠ¿</p><p>é¢„æµ‹å…¬å¼ï¼š<br>$$<br>x_{i+h}&#x3D;s_i +ht_i<br>$$</p><h2 id="ä¸‰æ¬¡æŒ‡æ•°å¹³æ»‘æ³•ï¼ˆholt-wintersï¼‰"><a href="#ä¸‰æ¬¡æŒ‡æ•°å¹³æ»‘æ³•ï¼ˆholt-wintersï¼‰" class="headerlink" title="ä¸‰æ¬¡æŒ‡æ•°å¹³æ»‘æ³•ï¼ˆholt-wintersï¼‰"></a>ä¸‰æ¬¡æŒ‡æ•°å¹³æ»‘æ³•ï¼ˆholt-wintersï¼‰</h2><p>è®¡ç®—å…¬å¼ï¼š<br>$$<br>\begin{align}<br>s_i&amp;&#x3D;\alpha (x_i-p_{i-k})+(1-\alpha)(s_{i-1}+t_{i-1}) \quad 0\le\alpha\le1 \<br>t_i&amp;&#x3D;\beta(s_{i}-s_{i-1})+(1-\beta)t_{i-1} \<br>p_i&amp;&#x3D;\gamma(x_{i}-s_{i})+(1-\gamma)p_{i-k} \quad  k \ is\ the\ length\ of\ period<br>\end{align}<br>$$<br>$s_i$æ˜¯å¹³æ»‘åçš„ä¿¡å·, $t_i$æ˜¯å¹³æ»‘åçš„è¶‹åŠ¿</p><p>é¢„æµ‹å…¬å¼ï¼š<br>$$<br>x_{i+h}&#x3D;s_i +ht_i+p_{i-k+h}<br>$$<br>å‚æ•°é€‰æ‹©ï¼š$\alpha,\beta,\gamma   \in [0,1]$ï¼Œ$s,t,p$çš„åˆå§‹å€¼å¯¹ç®—æ³•æ•´ä½“å½±å“å¹¶ä¸å¤§ï¼Œä¸€èˆ¬$s_0&#x3D;x_0,t_0&#x3D;x_1-x_0$,ç´¯ä¹˜æ—¶$p&#x3D;0$,ç´¯åŠ æ—¶$p&#x3D;1$</p>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Essayâ€”â€”èåˆè§£è¯»å¤šæ ‡ç­¾æ–¹æ³•å°è®°</title>
    <link href="/2022/07/01/Essay/%E8%9E%8D%E5%90%88%E8%A7%A3%E5%86%B3%E5%A4%9A%E6%A0%87%E7%AD%BE%E9%97%AE%E9%A2%98/"/>
    <url>/2022/07/01/Essay/%E8%9E%8D%E5%90%88%E8%A7%A3%E5%86%B3%E5%A4%9A%E6%A0%87%E7%AD%BE%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œç»™äº†ä¸¤ä¸ªçš„æ–¹æ¡ˆ:</p><h1 id="SST"><a href="#SST" class="headerlink" title="SST"></a>SST</h1><p>ä¸å¤§å¤šæ•°æœºå™¨å­¦ä¹ æ¨¡å‹ä¸€æ ·,è¿™é‡Œçš„ç›®æ ‡æ˜¯æ„é€ ä¸€ä¸ªå°†è¾“å…¥æ˜ å°„åˆ°è¾“å‡ºçš„å‡½æ•°,åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å‡ºå°†æ˜¯ä¸€ç»„å‘é‡.å•ä¸€ç›®æ ‡(ST)è€ƒè™‘mä¸ªå•ä¸€æ¨¡å‹æ¥é¢„æµ‹å¤šæ ‡ç­¾ã€‚æ­¤å¤–ï¼Œè¿˜å¼•å…¥äº†stackçš„æ–¹å¼(SST)æé«˜æ•ˆæœã€‚SSTæœ‰ä¸¤ä¸ªé¢„æµ‹é˜¶æ®µã€‚åœ¨ç¬¬ä¸€é˜¶æ®µï¼Œç”¨mä¸ªæ¨¡å‹é¢„æµ‹mä¸ªç›®æ ‡ã€‚åœ¨åä¸€é˜¶æ®µï¼Œé€šè¿‡å˜æ¢è®­ç»ƒé›†Dï¼Œä¸ºæ¯ä¸ªç›®æ ‡å­¦ä¹ ä¸€ç»„mâ€™å…ƒæ¨¡å‹ã€‚åœ¨å˜æ¢åçš„è®­ç»ƒé›†ä¸­ï¼Œå®ƒä½¿ç”¨è¾“å‡ºç©ºé—´çš„ä¼°è®¡å€¼ã€‚</p><p><img src="/src%5C640-16462838142622.png" alt="å›¾ç‰‡"></p><h1 id="ERC"><a href="#ERC" class="headerlink" title="ERC"></a>ERC</h1><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯,è®­ç»ƒçš„æ—¶å€™æˆ‘ä»¬ä¾èµ–çš„æ˜¯çœŸå®æ ‡ç­¾Y1,.,Ym-1ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»æœ‰äº†çœŸå®å€¼ï¼Œä½†å¯¹äºé¢„æµ‹ï¼ŒERCå¿…é¡»ä¾èµ–äºä¼°è®¡å€¼ã€‚ä½†ä½œä¸ºMLä¸­çš„ä¸€ä¸ªå‡è®¾ï¼Œè¾“å…¥å’Œè¾“å‡ºå˜é‡åº”è¯¥æ˜¯ç‹¬ç«‹çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨è®­ç»ƒä¸­æ‹†é™¤äº†ä¸€éƒ¨åˆ†æ ·æœ¬ç”¨äºè®­ç»ƒ,å¹¶å¯¹ä¼°è®¡å€¼è¿›è¡Œäº†k-æŠ˜å äº¤å‰éªŒè¯ï¼Œå¹¶å°†å…¶ç”¨äºè®­ç»ƒéƒ¨åˆ†,ä»£ç è§å‚è€ƒèµ„æ–™ã€‚</p><p><img src="/src%5C640-16462838142623.png" alt="å›¾ç‰‡">3.png)</p>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essay</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learningâ€”â€”åˆ†ææ€ç»´æ¨¡å‹</title>
    <link href="/2022/07/01/MachineLearning/%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E6%A8%A1%E5%9E%8B/"/>
    <url>/2022/07/01/MachineLearning/%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="1-éçº¿æ€§æ€ç»´"><a href="#1-éçº¿æ€§æ€ç»´" class="headerlink" title="1.éçº¿æ€§æ€ç»´"></a>1.<strong>éçº¿æ€§æ€ç»´</strong></h1><p>ç”±äºäººç±»é•¿æœŸçš„è¿›åŒ–ç»“æœï¼Œæˆ‘ä»¬æ›´å€¾å‘äºç”¨â€œçº¿æ€§â€æ€ç»´æ–¹å¼ç†è§£ä¸–ç•Œã€‚</p><p>ç„¶è€Œï¼Œä¸–ç•Œçš„æœ¬è´¨æ˜¯éçº¿æ€§çš„ã€‚è¿™ä¸ªä¸–ç•Œä¹‹æ‰€ä»¥æœ‰äº›äººèƒ½å–å¾—å·¨å¤§æˆåŠŸï¼Œè€Œå¤§éƒ¨åˆ†äººå¹³å¹³å‡¡å‡¡ï¼Œå…³é”®äºä»–ä»¬çš„æ€ç»´æ–¹å¼æ˜¯çº¿æ€§çš„è¿˜æ˜¯éçº¿æ€§çš„ã€‚ </p><p>éçº¿æ€§æ€ç»´çš„æ ¸å¿ƒï¼š</p><p>\1. ç†è§£ä¸–ç•Œæ˜¯éçº¿æ€§ã€è·³è·ƒå‘å±•ã€ä¸å¯ç²¾ç¡®é¢„æµ‹çš„ï¼›</p><p>\2. ç†è§£å¼•èµ·è´¨å˜çš„æ ¸å¿ƒåŸå› ï¼ŒåŠ é€Ÿæˆ–è€…ç­‰å¾…ä¸´ç•Œç‚¹çš„æ¥ä¸´ï¼Œè·å–è´¨å˜æœŸçš„å·¨å¤§æ”¶ç›Šï¼›</p><p>\3. åœ¨ç§¯ç´¯æœŸå‹‡äºæ”¾å¼ƒçŸ­æœŸåˆ©ç›Šï¼Œåšèƒ½å¤Ÿå¯¹ä¿ƒè¿›ä¸Šä¸€æ¡æœ‰ç›Šçš„äº‹æƒ…ï¼ˆå¦‚åœ¨ç§¯ç´¯æœŸæŠ•å…¥æ›´å¤šæœ¬é‡‘ã€ç§¯ç´¯æ›´å¤šçš„å·¥ä½œç»éªŒç­‰ï¼‰ã€‚ </p><p><strong>éçº¿æ€§æ€ç»´æ–¹å¼å…·æœ‰ç³»ç»Ÿè¾©è¯æ€ç»´ã€å‘æ•£æ€ç»´ã€é€†å‘æ€ç»´ã€ç›´è§‰æ€ç»´å’Œçµæ„Ÿæ€ç»´äº”ç§åŸºæœ¬å½¢å¼ã€‚</strong></p><p><img src="/src/640-165778284238272.jpeg" alt="å›¾ç‰‡"></p><h1 id="2-é»„é‡‘åœˆæ€ç»´"><a href="#2-é»„é‡‘åœˆæ€ç»´" class="headerlink" title="2.é»„é‡‘åœˆæ€ç»´"></a>2.<strong>é»„é‡‘åœˆæ€ç»´</strong></h1><p>é»„é‡‘åœˆæ˜¯è®¤çŸ¥ä¸–ç•Œçš„æ–¹å¼ï¼Œæœ‰ä¸‰ä¸ªå±‚é¢ã€‚ä»whyå‡ºå‘ï¼Œæ¢ç©¶é—®é¢˜çš„æœ¬è´¨ï¼Œæ˜¯æœ€å¿«é€Ÿé€æé—®é¢˜æ ¹æºçš„ä¸€æŠŠåˆ©å™¨ã€‚</p><p>æ€è€ƒæ¨¡å¼æ˜¯å…ˆä»Whyå‡ºå‘ï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Œè¿™ä¹ˆåšçš„ç†å¿µæ˜¯ä»€ä¹ˆï¼Œä»å†…å¿ƒæ¿€å‘å‡ºæ„Ÿæ€§çš„æƒ…æ„Ÿï¼Œäº§ç”Ÿé©±åŠ¨åŠ›ï¼›</p><p>è¿‘è€Œå†æ€è€ƒHowï¼Œè®¾å®šç›®æ ‡ä¸€æ­¥æ­¥è§£å†³ï¼›æœ€ååšå‡ºæ¥çš„ç»“æœå°±æ˜¯Whatï¼Œæ›´åŠ è´´åˆæœ€åˆçš„ç†å¿µã€‚</p><p>Whyï¼šæ€è€ƒä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Œæˆ‘ä»¬çš„ç›®æ ‡ã€ç†å¿µï¼›</p><p>Howï¼šé‡‡ç”¨ä»€ä¹ˆæ–¹æ³•ã€æªæ–½ï¼›</p><p>Whatï¼šç»“æœçš„è¡¨ç°å½¢å¼ã€‚ </p><p><img src="/src/640-165778284238273.jpeg" alt="å›¾ç‰‡"></p><p>å¯¹ä¸€å®¶ä¼ä¸šã€ä¸€ä¸ªäººæ€è€ƒwhyçš„è¿‡ç¨‹åˆ™æ˜¯å¯¹åŸåˆ™ã€è¾¹ç•Œã€ä»·å€¼è§‚çš„ä¸€ä¸ªç¡®å®šï¼Œæä¾›äº†ä¸€ä¸ªè§£å†³é—®é¢˜çš„é€šç”¨æ¨¡å‹ã€‚</p><h1 id="3-10-10-10æ—è§‚æ€ç»´æ¨¡å‹"><a href="#3-10-10-10æ—è§‚æ€ç»´æ¨¡å‹" class="headerlink" title="3.10+10+10æ—è§‚æ€ç»´æ¨¡å‹"></a>3.<strong>10+10+10æ—è§‚æ€ç»´æ¨¡å‹</strong></h1><p>é¢å¯¹ä¸€ä¸ªå†³ç­–æˆ–é€‰æ‹©ï¼Œå½“ä½ çŠ¹è±«ä¸å†³æ—¶ï¼Œå¯ä»¥æƒ³ä¸€ä¸‹ï¼š</p><p>10åˆ†é’Ÿåï¼Œè‡ªå·±æ˜¯æ€ä¹ˆçœ‹å¾…è‡ªå·±ç°åœ¨çš„å†³ç­–ï¼Œä¾ç„¶ä¿æŒä¸€è‡´äº¦æˆ–ä¼šåæ‚”ï¼›</p><p>10ä¸ªæœˆåï¼Œä½ åˆä¼šå¦‚ä½•æ€è€ƒè‡ªå·±10ä¸ªæœˆä»¥å‰çš„è¿™ä¸ªå†³ç­–ï¼›</p><p>10å¹´åï¼Œè‡ªå·±å¦‚ä½•çœ‹å¾…è‡ªå·±è¿™ä¸ª10å¹´å‰çš„åˆ¤æ–­ä¸å†³ç­–ã€‚</p><p>è¿™ä¸ªæ€ç»´æ¨¡å‹ï¼Œå¯ä»¥åº”ç”¨åœ¨ï¼š<strong>ä¸´æ—¶çš„åˆ¤æ–­ï¼Œå¤§çš„å†³ç­–ï¼Œé¢„æµ‹è‡ªå·±çš„æœªæ¥ç­‰ã€‚</strong></p><p><img src="/src/640-165778284238274.jpeg" alt="å›¾ç‰‡"></p><h1 id="4-åç†µå¢æ€ç»´æ¨¡å‹"><a href="#4-åç†µå¢æ€ç»´æ¨¡å‹" class="headerlink" title="4.åç†µå¢æ€ç»´æ¨¡å‹"></a>4.<strong>åç†µå¢æ€ç»´æ¨¡å‹</strong></h1><p>ä»ä¸€ä¸ªç³»ç»Ÿã€ä¸€ä¸ªç»„ç»‡ï¼Œå†åˆ°ä¸€ä¸ªæ˜Ÿçƒï¼Œç”šè‡³æˆ‘ä»¬æ¯ä¸ªäººï¼Œéƒ½ç¬¦åˆç†µå¢å®šå¾‹ã€‚</p><p>æˆ‘ä»¬ä¼šå˜å¾—æ··ä¹±ã€æ— åºã€åƒµåŒ–ã€æ²¡æœ‰æ´»åŠ›ï¼Œç›´è‡³åœ¨è¿™ç§æ··ä¹±ä¸­èµ°å‘æ¶ˆäº¡ã€‚</p><p><strong>å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œå®‡å®™æ˜¯å¹³è¡¡çš„ï¼Œåœ¨ç†µå¢çš„å¤§å‰æä¸‹ï¼Œç»™äº†æˆ‘ä»¬ä¸€æ¡ä¸åŒçš„è·¯ï¼Œåç†µå¢ï¼Œä¹Ÿå³è‡ªç»„ç»‡ã€ç”Ÿå‘½åŒ–ã€‚</strong></p><p>äºšé©¬é€Šçš„CEOè´ä½æ–¯å¯¹äºåç†µå¢çš„ç†è§£éå¸¸æ·±åˆ»ã€‚ä»–æŠŠäºšé©¬é€Šçš„æœåŠ¡åšå¾—è¶³å¤Ÿå¼€æ”¾ï¼Œæ‰€ä»¥æ‰æœ‰äº†äºšé©¬é€Šäº‘ã€‚</p><p>å¯¹äºæ–°ç”Ÿäº‹ç‰©ï¼Œå“ªæ€•æ˜¯å–å¾—ä¸€ç‚¹ç‚¹çš„æˆç»©ï¼Œä»–éƒ½ä¼šå¤§åŠ èµèµï¼Œè¦æ±‚ä¸»ç®¡ä»¥ä¸Šçº§åˆ«å‘˜å·¥æ¯å‘¨éƒ½è¦è¯»ä¸€éã€Šåˆ›æ–°è€…çš„çª˜å¢ƒã€‹ã€‚</p><p>åç†µå¢å°±æ˜¯é‡ç°ç”Ÿå‘½ã€‚è¡Œæ˜Ÿä»æ˜Ÿäº‘ä¸­è¯ç”Ÿï¼Œè¡Œæ˜Ÿä¸Šäº§ç”Ÿäº†å²©çŸ³åœˆã€å¤§æ°”ã€æ²³æµã€å­£é£ã€æ³‰æ°´ã€çŸ¿è—ï¼Œè¿™äº›éƒ½æ˜¯ç»„ç»‡åŒ–çš„è¿‡ç¨‹ï¼Œæ˜¯å¯¹æ— åºçš„åæŠ—ã€‚</p><p>è¿™ç§æœ‰åºåŒ–ã€ç»„ç»‡åŒ–è¿›ç¨‹çš„é¡¶å³°ï¼Œä¾¿æ˜¯ç”Ÿå‘½çš„äº§ç”Ÿï¼šDNAå›¢å—ã€å•ç»†èƒç”Ÿç‰©ã€å¤šç»†èƒç”Ÿç‰©ã€æ¤ç‰©å’ŒåŠ¨ç‰©ï¼Œä¸€ç›´åˆ°æœ€ç²¾å·§çš„ç»„ç»‡åŒ–ç»“æ„â€”â€”äººç±»ã€‚</p><p>äººè€åï¼Œæœ€å¥½çš„çŠ¶æ€å°±æ˜¯å¤å½’å©´å„¿å’Œè‡ªç„¶ã€‚</p><p>ä¸€ä¸ªä¼ä¸šï¼Œè¦è®©è‡ªå·±åç†µå¢ï¼Œå°±æ˜¯è®©è‡ªå·±æ›´æœ‰æ´»åŠ›ï¼Œæ›´å¼€æ”¾ï¼Œæ›´å¤šåœ°é€‚åº”å¤–éƒ¨å˜åŒ–ï¼Œè®©å…¶åœ¨ç¯å¢ƒä¸­è‡ªæˆ‘è¿›åŒ–ã€‚</p><p>åŒæ—¶ï¼Œå¯ä»¥ä¸æ–­ç”Ÿå‡ºç‹¬ç«‹çš„æ–°çš„ä¸šåŠ¡ï¼Œæ–°çš„ä¸šåŠ¡ä¹Ÿå¯ä»¥ä¸æ–­è¿›åŒ–ã€‚</p><p><strong>ä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œå»¶ç»­çš„å‘å±•å°±æ˜¯ä¸€ä¸ªç†µå¢çš„è¿‡ç¨‹ï¼Œè€Œè¦æƒ³çªç ´éè¿ç»­æ€§ï¼Œå¿…é¡»è¦â€œç”Ÿâ€å‡ºæ–°çš„æ›²çº¿ï¼Œè¿™æ‰æ˜¯å¯¹æŠ—ç†µå¢æœ€å¥½çš„åŠæ³•ã€‚</strong></p><h1 id="5-ä¸‰å±‚è§£é‡Šæ€ç»´æ¨¡å‹"><a href="#5-ä¸‰å±‚è§£é‡Šæ€ç»´æ¨¡å‹" class="headerlink" title="5.ä¸‰å±‚è§£é‡Šæ€ç»´æ¨¡å‹"></a>5.<strong>ä¸‰å±‚è§£é‡Šæ€ç»´æ¨¡å‹</strong></h1><p>å¯¹äºä¸€ä¸ªäº‹ç‰©ï¼Œå¯ä»¥æœ‰ä¸‰å±‚è§£é‡Šï¼š<strong>ç°å®å±‚ã€æŠ€æœ¯å±‚ã€åº•å±‚ã€‚</strong></p><p>ç°å®å±‚ä¼šè§£é‡Šæµ…æ˜¾çš„ï¼Œå¤§å¤šæ•°äººèƒ½çœ‹åˆ°çš„å› æœï¼›</p><p>æŠ€æœ¯å±‚ä¼šè§£é‡Šç°å®èƒŒåçš„è§„å¾‹ï¼Œæ˜¯ç°è±¡ä¹‹ä¸‹ï¼Œæ˜¯ä¸€ç§èƒŒæ™¯å¸¦æ¥çš„è§„å¾‹ï¼Œæ˜¯ä¸€ç§çœ‹å¾—è§æŠ€èƒ½çš„è§„å¾‹ï¼›</p><p>è€Œåº•å±‚ï¼Œåˆ™æ˜¯ä¸€ç§å¯ä»¥å¹¿æ³›é€‚ç”¨çš„è§„å¾‹ï¼Œæ˜¯æ·±å±‚æ¬¡æ€ç»´æ¨¡å‹ï¼Œé€šè¾¾äººæ€§ï¼Œæ´æ‚‰æ³•åˆ™ã€‚</p><p>ä¸‰å±‚è§£é‡Šæ€ç»´æ¨¡å‹ï¼Œå¯ä»¥åº”ç”¨äºæ·±åº¦å‰–æä¸€ä¸ªäº‹ä»¶çš„åŸå› ï¼Œäº†è§£ä¸€ä¸ªå¤æ‚äº‹ç‰©çš„è§„å¾‹ã€‚</p><h1 id="6-åè„†å¼±æ€ç»´æ¨¡å‹"><a href="#6-åè„†å¼±æ€ç»´æ¨¡å‹" class="headerlink" title="6.åè„†å¼±æ€ç»´æ¨¡å‹"></a>6.<strong>åè„†å¼±æ€ç»´æ¨¡å‹</strong></h1><p>**</p><p>äº‹ç‰©å¯åˆ†ä¸ºä¸‰ç±»ï¼š<strong>è„†å¼±ã€å¼ºæ‚ã€åè„†å¼±ã€‚</strong></p><p>è„†å¼±çš„äº‹ç‰©ï¼Œåœ¨å—åˆ°å¤–ç•Œå‹åŠ›æ—¶ä¼šç ´ç¢ã€å—æŸï¼Œå°±åƒç»ç’ƒæ¯æ‰åˆ°åœ°ä¸Šä¼šç¢ï¼›å¼ºæ‚çš„äº‹ç‰©ï¼Œåœ¨é­é‡å¤–ç•Œå‹åŠ›æ—¶ï¼Œä¸ä¼šå—å…¶å½±å“ã€‚</p><p>è€Œåè„†å¼±çš„äº‹ç‰©ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ³¢åŠ¨çš„ä¸–ç•Œä¸­ï¼Œä¼´éšå‹åŠ›è€Œè¿›åŒ–ï¼Œè®©è‡ªå·±å˜å¾—æ›´å¼ºå¤§ã€‚</p><p>ä¸è¦è¢«å‹åŠ›æ‰“å®ï¼Œå®ƒæ˜¯ä½ è¿›åŒ–æœ€å¥½çš„èƒ½é‡ã€‚å¤–ç•Œçš„ç¯å¢ƒå˜åŒ–ä¼šç­›é€‰å‡ºçœŸæ­£çš„åè„†å¼±è€…ã€‚åè„†å¼±æ€ç»´æ¨¡å‹å¯ä»¥åº”ç”¨äºï¼š</p><p>1.ä»å›°å¢ƒä¸­ç†æ€§åˆ†æï¼Œæå‡è®¤çŸ¥ï¼Œè·å¾—èƒ½é‡ï¼›</p><p>2.ä»å‹åŠ›ä¸­å›å½’å†…å¿ƒï¼Œæå‡èƒ¸æ€€å’Œæ°”åº¦ï¼›</p><p>3.ä»å±€é™ä¸­é‡æ–°å®šä½ï¼Œæå‡çœ¼å…‰å’Œæ ¼å±€ã€‚</p><p>è€Œè‡ªç„¶ï¼Œä¹Ÿå…·å¤‡åè„†å¼±æ€§ã€‚åœ¨è¿™ä¸ªä¸–ç•Œä¸Šï¼Œè‡ªç„¶çš„äº‹ç‰©å¾ˆå¤šéƒ½æœ‰å¼¹æ€§ï¼Œå…·æœ‰åè„†å¼±æ€§ã€‚</p><p>è‡ªç„¶çš„ç‰¹ç‚¹æœ‰å¾ˆå¤šï¼Œåœ¨è‡ªç„¶ä¸­æœ‰æ˜¥å¤ç§‹å†¬è¿™æ ·æ™®éçš„è§„å¾‹ï¼Œé€‚åº”æ€§å¼ºçš„ç”Ÿç‰©ä»è¿™æ ·çš„æ³¢åŠ¨ä¸­è¿›åŒ–ï¼Œè€Œä½“å‹å¤§ç¬¨æ‹™çš„ç”Ÿç‰©å¦‚æé¾™å› æ­¤è€Œç­ç»ï¼›</p><p>äººçš„èº«ä½“ä¹Ÿç¬¦åˆè‡ªç„¶çš„è§„å¾‹ï¼Œä¹Ÿå…·æœ‰åè„†å¼±æ€§ï¼Œäººéª¨æŠ˜äº†ï¼Œç”Ÿå‡ºæ¥çš„éª¨å¤´ä¼šæ›´åŠ å¼ºå£®ï¼Œä¸­è¿‡æ¯’çš„äººä¹Ÿä¼šå…·æœ‰æŠ—æ¯’çš„ç‰¹æ€§ã€‚</p><p><strong>åè„†å¼±æœ¬èº«æ˜¯å¯ä»¥é¢å¯¹é£é™©ï¼Œå¯ä»¥ä»é£é™©ä¸­å—ç›Šæˆé•¿ã€‚</strong></p><p>é¢å¯¹æœªæ¥çš„ä¸ç¡®å®šæ€§ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p><p>\1. åˆ©ç”¨ä¸å¯¹ç§°æ€§ï¼Œå°æŠ•å…¥ï¼Œé«˜äº§å‡ºã€‚</p><p>\2. æˆä¸ºå¤šå…ƒåŒ–ï¼Œè®©è‡ªå·±ä¸åªä¸€ç§æŠ€èƒ½æˆ–èº«ä»½ã€‚</p><p>\3. ç›¸ä¿¡æœªæ¥çš„éçº¿æ€§ï¼Œä¼šç»™æˆ‘ä»¬æ›´å¤šçš„æœºä¼šä¸ä¹è¶£ã€‚è¿™ä¸ªä¸–ç•Œï¼Œæ­£å› ä¸ºæœ‰äº†éçº¿æ€§æ‰ä¼šæœ‰æ–°çš„ç”Ÿç‰©ä¸æ–­å‡ºç°ï¼Œæ–°çš„äº‹ç‰©ä»£æ›¿æ—§çš„äº‹ç‰©ï¼Œæˆ‘ä»¬æ‰ä¼šä¸æ–­æˆé•¿ä¸æ–­ç²¾è¿›ã€‚</p><h1 id="7-å¤åˆ©åŸç†"><a href="#7-å¤åˆ©åŸç†" class="headerlink" title="7.å¤åˆ©åŸç†"></a>7.<strong>å¤åˆ©åŸç†</strong></h1><p>çˆ±å› æ–¯å¦è¯´ï¼šå¤åˆ©æ˜¯ä¸–ç•Œçš„ç¬¬å…«å¤§å¥‡è¿¹ã€‚</p><p><img src="/src/640-165778284238275.jpeg" alt="å›¾ç‰‡"></p><p>å·´è²ç‰¹è¯´ï¼šäººç”Ÿå°±åƒæ»šé›ªçƒï¼Œå…³é”®æ˜¯è¦æ‰¾åˆ°è¶³å¤Ÿæ¹¿çš„é›ªå’Œè¶³å¤Ÿé•¿çš„å¡ã€‚</p><p>æŸ¥ç†Â·èŠ’æ ¼è¯´ï¼šåŒæ—¶ç†è§£å¤åˆ©çš„åŠ›é‡å’Œè·å¾—å®ƒçš„å›°éš¾ï¼Œæ˜¯ç†è§£è®¸å¤šäº‹æƒ…çš„æ ¸å¿ƒå’Œçµé­‚ã€‚</p><p><strong>åœ¨æœ‰é™çš„æ—¶é—´ï¼ŒæŠŠæœ‰é™çš„ç²¾åŠ›å’Œè´¢å¯Œï¼ŒæŒç»­è€Œåå¤åœ°æŠ•å…¥åˆ°æŸä¸€é¢†åŸŸï¼Œé•¿æœŸåšæŒä¸‹å»ï¼Œæœ€ç»ˆäº§ç”Ÿçš„ç§¯æå½±å“ï¼Œä¼šå¦‚é›ªçƒè¶Šæ»šè¶Šå¤§ï¼Œå®ƒå¸¦æ¥çš„å›æŠ¥ä¸€å®šè¶…è¿‡ä½ çš„æƒ³è±¡ã€‚</strong></p><p>è¿™å°±æ˜¯ç»æµå­¦ä¸­å…¸å‹çš„å¤åˆ©æ€ç»´ã€‚</p><p>å¤§å¤šæ•°äººç»ˆå…¶ä¸€ç”Ÿéƒ½ä¸ä¼šå»è¿ç”¨å¤åˆ©ï¼Œä¹Ÿä½“ä¼šä¸åˆ°å¤åˆ©çš„å¨åŠ›ã€‚</p><p>å¤åˆ©æ€ç»´éœ€è¦æˆ‘ä»¬ç”¨å‘å±•å’Œé•¿è¿œçš„çœ¼å…‰å»çœ‹å¾…äº‹ç‰©ã€‚</p><h1 id="8-å®Œå‹èåˆæ€ç»´æ¨¡å‹"><a href="#8-å®Œå‹èåˆæ€ç»´æ¨¡å‹" class="headerlink" title="8.å®Œå‹èåˆæ€ç»´æ¨¡å‹"></a>8.<strong>å®Œå‹èåˆæ€ç»´æ¨¡å‹</strong></h1><p>å®Œæˆä¸€ä»¶äº‹æƒ…ï¼Œé™¤äº†è¦æœ‰å®Œæ•´ã€æ¸…æ™°çš„é€»è¾‘æ€è·¯ï¼Œè¿˜éœ€è¦å¤šç§å…ƒç´ è¿›è¡Œèåˆï¼Œ æ¯”å¦‚ï¼š<strong>äººçš„èµ„æºã€ç‰©é’±çš„èµ„æºã€æ—¶æœºå¤§ç¯å¢ƒç­‰ã€‚</strong></p><p>è¿™å°±åƒå®Œæˆä¸€ä¸ªé™¶ç“·ä½œå“çš„åˆ›ä½œï¼š</p><p>é™¤äº†æœ‰åˆ›é€ çš„å›¾çº¸ã€é™¶ç“·è¿˜éœ€è¦æ³¥ï¼Œç›¸å½“äºæ˜¯ç‰©é’±ç›¸å…³çš„èµ„æºï¼›</p><p>è€Œæ°´å°±åƒæ˜¯äººï¼Œéœ€è¦æŠŠæ³¥ç»„åˆèµ·æ¥ï¼›é™¶ç“·çš„çƒ§åˆ¶ï¼Œè¿˜éœ€è¦åˆé€‚çš„æ¸©åº¦ï¼Œé€Ÿåº¦ï¼Œè¿™å°±åƒçœ‹ä¸è§çš„æ—¶æœºä¸èƒŒæ™¯ç¯å¢ƒï¼›</p><p>è€Œé™¶ç“·ä¸Šçš„é›•ç¢ï¼Œå°±åƒæ˜¯å¯¹äº‹æƒ…ç»†èŠ‚çš„å¤„ç†ã€‚å…ˆåšä»€ä¹ˆååšä»€ä¹ˆçš„é¡ºåºï¼Œä¹Ÿè‡³å…³é‡è¦ã€‚</p><p>æ‰€ä»¥ï¼Œä¸€ä¸ªé¡¹ç›®è¦å–å¾—æˆåŠŸï¼Œé™¤äº†è¦æœ‰å¯èƒ½å®ç°çš„è§„åˆ’ï¼Œè¿˜éœ€è¦æœ‰å……è¶³çš„äººåŠ›å‡†å¤‡ã€äº‹æƒ…åˆ†è§£åˆ†å±‚ã€æ–¹æ³•è®ºæ”¯æŒã€æµç¨‹åˆ¶åº¦æ¿€åŠ±æ”¯æŒã€ ç¨³å®šæ˜ç¡®çš„è´£æƒåˆ†è§£è¯´æ˜ï¼Œè¿˜è¦æœ‰åº”æ€¥æ–¹æ¡ˆä¸æ€è·¯ã€‚</p><p>è¿™æ ·åšèµ·äº‹æ¥ï¼Œæ‰å¯è¡Œäº‘æµæ°´ï¼Œäº‹åŠåŠŸå€ã€‚</p><p><strong>å®Œå‹èåˆæ€ç»´æ¨¡å‹å¯ä»¥åº”ç”¨åœ¨ï¼šäº‹æƒ…çš„æ‰§è¡Œã€æ€è€ƒäº‹ç‰©äº§ç”ŸåŸå› ã€é¢„æµ‹äººçš„åˆ¤æ–­ç­‰ã€‚</strong></p><p>åªæœ‰è€ƒè™‘è¶³å¤Ÿå¤šçš„å› ç´ ï¼Œä»¥åŠæ•´ä½“éœ€è¦çš„ç›¸äº’æ”¯æŒï¼Œå› ç´ ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œæ‰èƒ½æ›´å‡†ç¡®åœ°åˆ¤æ–­ä¸åˆ†æã€‚</p><h1 id="9-ç¬›å¡å°”æ€ç»´æ¨¡å‹"><a href="#9-ç¬›å¡å°”æ€ç»´æ¨¡å‹" class="headerlink" title="9.ç¬›å¡å°”æ€ç»´æ¨¡å‹"></a>9.<strong>ç¬›å¡å°”æ€ç»´æ¨¡å‹</strong></h1><p>ç¬›å¡å°”æ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„å“²å­¦å®¶ï¼Œä»–æå‡ºä¸€ä¸ªå¤§èƒ†çš„è§‚ç‚¹ï¼Œä½ æ€ä¹ˆèƒ½è¯æ˜è¿™ä¸ªä¸–ç•Œæ˜¯çœŸå®çš„ï¼Ÿè¿™ä¸ªä¸–ç•Œæœ‰ä»€ä¹ˆæ˜¯ä¸èƒ½è¢«æ€€ç–‘çš„ï¼Ÿ</p><p>ä»–æ€è€ƒå†æ€è€ƒï¼Œä¸€ç›´æ²¡æœ‰æŠ“åˆ°é‚£ä¸ªåŸºçŸ³ã€‚ç›´åˆ°æŸä¸€ç¬é—´ï¼Œå°±åƒé—ªç”µå‡»ä¸­äº†ä»–ã€‚</p><p>ä»–æ„è¯†åˆ°ï¼Œåªæœ‰ä¸€ä»¶äº‹ä¸èƒ½å†è¢«æ€€ç–‘äº†ï¼Œé‚£å°±æ˜¯ï¼š<strong>æˆ‘åœ¨æ€€ç–‘è¿™ä»¶äº‹ã€‚</strong></p><p><img src="/src/640-165778284238376.jpeg" alt="å›¾ç‰‡"></p><p>ä¹Ÿå°±æ˜¯ï¼šI think,therefore I amã€‚</p><p>è¿™ä»¶äº‹æƒ…æ˜¯ç¡®å®šçš„ï¼Œæ‰€ä»¥æˆ‘æ˜¯å­˜åœ¨çš„ï¼Œæ‰€ä»¥ä¸ç®¡å½“ä¸‹ä¸–ç•Œæ˜¯ä¸æ˜¯çœŸï¼Œä¸€å®šå­˜åœ¨ä¸€ä¸ªä¸–ç•Œã€‚</p><p>è€Œå½“ä¸‹ä¸–ç•Œï¼Œæˆ‘ä¸çŸ¥é“å®ƒæ˜¯ä¸æ˜¯çœŸçš„å­˜åœ¨ã€‚</p><p><strong>è¿™å°±æ˜¯æ‰¹åˆ¤æ€§æ€ç»´ï¼Œå¤§èƒ†è´¨ç–‘ä¸€åˆ‡ã€‚æˆ‘ä»¬ä»¥ä¸ºç§‘å­¦çš„æ¼”åŒ–æ˜¯ç»§æ‰¿ï¼Œå…¶å®æ˜¯é¢ è¦†ã€‚</strong></p><p>ä¸‹ä¸€ä»£ç§‘å­¦å®¶å‡ ä¹éƒ½é¢ è¦†ä¸Šä¸€ä»£ã€‚</p><p>å°±å¦‚ä¹”å¸ƒæ–¯è¯´ï¼šstay hungry,stay foolishï¼›è‚¡ç¥ä¼šè¯´ï¼šæˆ‘å”¯ä¸€çŸ¥é“çš„äº‹æƒ…ï¼Œå°±æ˜¯æˆ‘ä»€ä¹ˆéƒ½ä¸çŸ¥é“ã€‚</p><p><strong>åœ¨äººçš„è®¤çŸ¥ç»éªŒé‡Œï¼Œè¿‡å¾€çš„æˆåŠŸèŒƒå¼è¶Šå¤šï¼Œç»™è‡ªå·±çš„æŸç¼šä¹Ÿè¶Šå¤§ã€‚</strong></p><h1 id="10-è·å¾—æ€§åå·®æ€ç»´æ¨¡å‹"><a href="#10-è·å¾—æ€§åå·®æ€ç»´æ¨¡å‹" class="headerlink" title="10.è·å¾—æ€§åå·®æ€ç»´æ¨¡å‹"></a>10.<strong>è·å¾—æ€§åå·®æ€ç»´æ¨¡å‹</strong></h1><p>äººä»¬å¯¹ä¸€ä¸ªäº‹ç‰©åˆ¤æ–­å¤±è¯¯ï¼Œå¾€å¾€ä¸æ˜¯å› ä¸ºä»–ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼›è€Œæ˜¯å› ä¸ºæŠŠæ³¨æ„åŠ›å¤ªå¤šéƒ½æ”¾åœ¨äº†å·²çŸ¥éƒ¨åˆ†ã€‚</p><p>ä»ä¸€ä¸ªå¤§çš„å®Œå‹è§’åº¦ï¼Œä½ äº†è§£çš„ä¿¡æ¯ï¼Œå¯èƒ½ä¸è¶³5%ï¼Œæ‰€ä»¥ï¼Œè‡ªå·±å·²ç»è·å¾—çš„ä¿¡æ¯ä¹Ÿè®¸ä¸ä»…ä¸é‡è¦ï¼Œå¾ˆæœ‰å¯èƒ½è¿˜æ˜¯å±€é™çš„ï¼Œæœ‰åè§çš„ã€‚</p><p>è·å¾—æ€§åå·®ä¼šå‡ºç°åœ¨å“ªäº›ç”Ÿæ´»ä¸­çš„åœºæ™¯å‘¢ï¼Ÿæ¯”å¦‚ï¼š</p><p>\1. äººä»¬åœ¨æ‰¾æ–°å·¥ä½œæ—¶ï¼Œå¯¹è‡ªå·±æ›¾ç»åšè¿‡çš„éƒ¨åˆ†ï¼Œå¾€å¾€éš¾ä»¥æ”¾ä¸‹ã€‚</p><p>\2. å¯¹å›ºæœ‰è§‚å¿µçš„åšæŒï¼Œç”šè‡³æ˜¯å›ºæ‰§ã€‚</p><p>\3. å¯¹æ²¡ç”¨æ—§ç‰©çš„ç•™æ‹ã€‚</p><p>æˆ‘ä»¬å¾ˆå¤šäººéƒ½é‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µï¼Œå¾ˆå¤šä¸œè¥¿æ˜çŸ¥æ²¡ç”¨å´èˆä¸å¾—æ‰”ã€‚</p><p>æ®Šä¸çŸ¥ï¼Œæˆ¿é—´åœ¨ç†µå¢ï¼Œä½ çš„ç”Ÿæ´»ç¯å¢ƒå› ä¸ºä¸å¤Ÿç®€æ´ï¼Œä½ ä¹Ÿä¼šå˜å¾—æ··ä¹±ã€è¿Ÿé’ã€å¾—ä¸å¿å¤±ã€‚</p><p>æ­¤å¤–ï¼Œæ–°äº‹ç‰©ä¹Ÿå¾ˆéš¾è¿›æ¥ï¼Œä½ çš„ç”Ÿæ´»é€æ¸é™·å…¥äº†ä½æ•ˆä¸åƒµåŒ–ã€‚</p><p><strong>å¦‚ä½•å…‹æœè·å¾—æ€§åå·®å‘¢ï¼Ÿ</strong></p><p>\1. æ”¾ä½è‡ªå·±ï¼Œè°¦è™šå¿ƒæ€ï¼Œè™šæ€€è‹¥è°·ï¼›</p><p>\2. ç‹¬ç«‹æ€è€ƒï¼Œä»æœ¬è´¨å…¥æ‰‹ï¼Œæ›´å¤šç”¨æ¼”ç»æ³•è€Œä¸æ˜¯å½’çº³æ³•ï¼Œç”¨äº‹ç‰©çš„æœ¬è´¨å»æ¨ç†ï¼Œè€Œä¸æ˜¯æŒç»­çš„ç”¨ä¹‹å‰çš„ç»éªŒï¼›</p><p>\3. åˆ†ç±»æ•´ç†ã€‚æŠŠä¿¡æ¯å½’ç±»æ•´ç†ï¼ŒæŠŠä¸€åˆ‡å˜å¾—ç§©åºåŒ–ï¼›</p><p>\4. é‡æ–°åˆ†æï¼Œè¯„ä¼°ç¯å¢ƒå’Œä¿¡æ¯ï¼Œå“ªäº›æ˜¯åˆç†çš„ï¼Œå“ªäº›æ˜¯è½åçš„ï¼Œå“ªäº›æ˜¯å¯ä»¥å‡çº§çš„ï¼›</p><p>\5. æ‡‚å¾—èˆå¼ƒå’Œæ”¾ä¸‹ï¼›</p><p>\6. åŠ¨æ€å¿ƒæ€ï¼Œæ‹¥æœ‰åªæ˜¯æš‚æ—¶ï¼Œå˜åŒ–æ˜¯æ°¸æ’çš„ã€‚</p><h1 id="11-æ’åˆ—ç»„åˆæ€ç»´æ¨¡å‹"><a href="#11-æ’åˆ—ç»„åˆæ€ç»´æ¨¡å‹" class="headerlink" title="11.æ’åˆ—ç»„åˆæ€ç»´æ¨¡å‹"></a>11.<strong>æ’åˆ—ç»„åˆæ€ç»´æ¨¡å‹</strong></h1><p>å’Œå¤åˆ©æ¨¡å‹ä¸€æ ·ï¼Œæ’åˆ—ç»„åˆæ¨¡å‹ä¸ä»…æ˜¯ä¸€ç§æ•°å­¦å·¥å…·ï¼Œä¹Ÿæ˜¯ä¸€ç§å¯ä»¥æå‡æˆ‘ä»¬å†³ç­–è´¨é‡çš„æ€ç»´æ–¹å¼ã€‚</p><p><strong>å¾ˆå¤šæ—¶å€™ï¼Œå½±å“å†³ç­–çš„å› ç´ å¾ˆå¤šï¼Œé€šè¿‡åˆ†ç±»ã€åˆ†æ­¥ï¼Œå°±å¯ä»¥å½¢æˆä¸åŒçš„æ’åˆ—ç»„åˆæ–¹å¼ã€‚</strong> </p><p>ä¸‡äº‹ä¸‡ç‰©éƒ½æ˜¯ç”±å…¶æ„æˆçš„å…ƒç´ æ’åˆ—ç»„åˆæˆçš„ï¼Œæ€ç»´æ˜¯çŸ¥è¯†çš„è¿åŠ¨ï¼Œæ˜¯çŸ¥è¯†çš„æ’åˆ—ç»„åˆã€å–èˆã€‚</p><p>å‰æ‰€æœªæœ‰çš„çŸ¥è¯†æ’åˆ—ç»„åˆå°±æ˜¯åˆ›æ–°ï¼Œåˆä¹å®¢è§‚çš„æœ‰ä»·å€¼çš„æ€ç»´åˆ›æ–°çš„å¤–åŒ–å’Œç‰©åŒ–ï¼Œå°±æ˜¯ç†è®ºåˆ›æ–°ã€åˆ›é€ å‘æ˜ã€‚<br>æŸ¥ç†Â·èŠ’æ ¼çš„å¤šå…ƒæ€ç»´æ¨¡å‹ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ç§å¤šç»´ç»„åˆæ€æƒ³ï¼ŒæŠŠä¸åŒçš„è·¨å­¦ç§‘çš„çŸ¥è¯†æ±‡é›†åœ¨ä¸€èµ·ï¼Œè§£å†³ä¸€ä¸ªé—®é¢˜ã€‚</p><p>ä¸åŒé—®é¢˜å’Œå­¦ç§‘æ‰€å æƒé‡ä¸ä¸€æ ·ï¼Œç»¼åˆèµ·æ¥è€ƒè™‘é—®é¢˜å°±æ›´å…¨é¢ï¼Œæ­£ç¡®æ¦‚ç‡å°±æ›´é«˜ã€‚ </p><p>ä¸€ä¸ªå¤§é—®é¢˜ï¼Œå¯ä»¥åˆ†è§£æˆå¾ˆå¤šç›¸å…³å…ƒç´ ï¼Œè¿™æ ·æ–¹ä¾¿æˆ‘ä»¬çœ‹æ¸…æ¥šæ•´ä¸ªé—®é¢˜ï¼Œç„¶åæ‰¾åˆ°å…³é”®ç‚¹ï¼Œä»å…³é”®ç‚¹å…¥æ‰‹å¯ä»¥èµ·åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚</p><p><strong>å¾ˆå¤šå…ƒç´ ç»„åˆåœ¨ä¸€èµ·ï¼Œå¯ä»¥å¯¹ä¸€ä¸ªé—®é¢˜çœ‹å¾—æ›´å…¨é¢ï¼Œé¿å…é™·å…¥æŸ¥ç†Â·èŠ’æ ¼å£ä¸­çš„â€œé“é”¤äººâ€æ€ç»´ã€‚</strong></p><h1 id="12-è´¹é©¬å¸•æ–¯å¡ç³»ç»Ÿ"><a href="#12-è´¹é©¬å¸•æ–¯å¡ç³»ç»Ÿ" class="headerlink" title="12.è´¹é©¬å¸•æ–¯å¡ç³»ç»Ÿ"></a>12.<strong>è´¹é©¬å¸•æ–¯å¡ç³»ç»Ÿ</strong></h1><p>åœ¨çŸ¥è¯†ã€èƒ½åŠ›ã€åŠªåŠ›ã€è€å¿ƒè¿™äº›æ‰€æœ‰çš„å“è´¨ä¸­ï¼ŒæŸ¥ç†Â·èŠ’æ ¼æœ€çœ‹é‡çš„æ˜¯ç†æ€§ã€‚</p><p>æŸ¥ç†Â·èŠ’æ ¼è¯´ï¼š<strong>â€œä½ å¿…é¡»çœ‹åˆ°è¿™ä¸ªä¸–ç•ŒçœŸå®çš„æ ·å­ï¼Œè€Œä¸æ˜¯ä½ ä»¥ä¸ºçš„æ ·å­ã€æˆ–è€…ä½ å¸Œæœ›çš„æ ·å­ï¼Œåªæœ‰è¿™æ ·ä½ æ‰èƒ½åšå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚â€è´¹é©¬å¸•æ–¯å¡ç³»ç»Ÿå°±æ˜¯è®¤è¯†çœŸå®ä¸–ç•Œçš„åŸºæœ¬å·¥å…·ã€‚</strong> </p><p>è´¹é©¬å¸•æ–¯å¡ç³»ç»Ÿæ˜¯æ¦‚ç‡è®ºçš„åŸºæœ¬åŸåˆ™ã€‚</p><p>åœ¨ç”Ÿæ´»ä¸­ï¼Œå……æ»¡äº†å„ç§è¯±æƒ‘ï¼Œäººä»¬æ ¹æ®ç»éªŒå’Œå„ç§å¿ƒç†å€¾å‘åšå†³å®šï¼Œä»è€Œæ‰å…¥äº†å¾ˆå¤šçš„é™·é˜±ã€‚<br>é€šè¿‡è´¹é©¬å¸•æ–¯å¡ç³»ç»Ÿçš„å­¦ä¹ ç†è§£ï¼Œæˆ‘ä»¬è¦ä»è®¤çŸ¥ä¸Šæ˜ç™½ï¼Œäº‹æƒ…çš„å®é™…æ¦‚ç‡æ˜¯å¤šå°‘ï¼Œåœ¨æœ‰äº†æ¸…æ™°çš„è®¤è¯†ä¹‹åï¼Œå†åšå†³å®šå°†æ›´åŠ ç†æ€§ã€‚</p><p>æŠŠè¿™äº›åŸºæœ¬çš„åŸºç¡€æ•°å­¦æ¦‚ç‡æ–¹æ³•ï¼Œå˜æˆæˆ‘ä»¬ç”Ÿæ´»ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæ‰ä¸ä¼šå°†è‡ªå·±çš„ä¼˜åŠ¿æ‹±æ‰‹é€ç»™åˆ«äººã€‚</p><h1 id="13-å‰æ™¯ç†è®º"><a href="#13-å‰æ™¯ç†è®º" class="headerlink" title="13.å‰æ™¯ç†è®º"></a>13.<strong>å‰æ™¯ç†è®º</strong></h1><p>å‰æ™¯ç†è®ºï¼Œæ˜¯é£é™©å†³ç­–çš„ä¸€ä¸ªé‡è¦æ€ç»´æ¨¡å‹ï¼Œç”±è¯ºè´å°”ç»æµå­¦å¥–å¿ƒç†å­¦å®¶ä¸¹å°¼å°”Â·å¡å°¼æ›¼æå‡ºï¼Œæè¿°å’Œé¢„æµ‹äººä»¬åœ¨é¢ä¸´é£é™©å†³ç­–è¿‡ç¨‹ä¸­çš„è¡Œä¸ºç†è®ºã€‚</p><p>å‰æ™¯ç†è®ºåˆ†ææ¡†æ¶æœ‰ä¸‰ä¸ªç‰¹å¾ï¼š</p><p><strong>ä¸€æ˜¯å¤§å¤šæ•°äººåœ¨é¢ä¸´è·å¾—æ—¶ï¼Œæ˜¯é£é™©è§„é¿çš„ï¼›</strong></p><p><strong>äºŒæ˜¯å¤§å¤šæ•°äººåœ¨é¢ä¸´æŸå¤±æ—¶ï¼Œæ˜¯é£é™©åçˆ±çš„ï¼›</strong></p><p><strong>ä¸‰æ˜¯äººä»¬å¯¹æŸå¤±æ¯”è·å¾—æ›´æ•æ„Ÿã€‚</strong></p><p>å…·ä½“çœ‹ï¼š</p><p>\1. ç¡®å®šæ•ˆåº”ï¼šâ€œäºŒé¸Ÿåœ¨æ—ï¼Œä¸å¦‚ä¸€é¸Ÿåœ¨æ‰‹â€ï¼Œåœ¨ç¡®å®šçš„æ”¶ç›Šå’Œâ€œèµŒä¸€æŠŠâ€ä¹‹é—´ï¼Œå¤šæ•°äººä¼šé€‰æ‹©ç¡®å®šçš„å¥½å¤„ï¼Œè½è¢‹ä¸ºå®‰å¿ƒç†ã€‚</p><p>\2. åå°„æ•ˆåº”ï¼šåœ¨ç¡®å®šçš„æŸå¤±å’Œâ€œèµŒä¸€æŠŠâ€ä¹‹é—´ï¼Œåšä¸€ä¸ªæŠ‰æ‹©ï¼Œå¤šæ•°äººä¼šé€‰æ‹©â€œèµŒä¸€æŠŠâ€ã€‚</p><p>\3. æŸå¤±è§„é¿ï¼šç™½æ¡çš„100å…ƒæ‰€å¸¦æ¥çš„å¿«ä¹ï¼Œéš¾ä»¥æŠµæ¶ˆä¸¢å¤±100å…ƒæ‰€å¸¦æ¥çš„ç—›è‹¦ã€‚</p><h1 id="14-å¿ƒæµæ¨¡å‹"><a href="#14-å¿ƒæµæ¨¡å‹" class="headerlink" title="14.å¿ƒæµæ¨¡å‹"></a>14.<strong>å¿ƒæµæ¨¡å‹</strong></h1><p>â€œå¿ƒæµâ€æ˜¯æŒ‡æˆ‘ä»¬åœ¨åšæŸäº›äº‹æƒ…æ—¶ï¼Œé‚£ç§å…¨ç¥è´¯æ³¨ã€æŠ•å…¥å¿˜æˆ‘çš„çŠ¶æ€â€”â€”è¿™ç§çŠ¶æ€ä¸‹ï¼Œä½ ç”šè‡³æ„Ÿè§‰ä¸åˆ°æ—¶é—´çš„å­˜åœ¨ã€‚åœ¨äº‹æƒ…å®Œæˆåï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸€ç§å……æ»¡èƒ½é‡ä¸”éå¸¸æ»¡è¶³çš„æ„Ÿå—ã€‚ </p><p>è¿™æ˜¯å…³äºäººå¹¸ç¦å¿«ä¹çš„ç†è®ºï¼Œè®©äººæ²‰æµ¸åœ¨å¿ƒæµä¸­çš„æ¡ä»¶éœ€è¦ï¼š</p><p>\1. æ˜ç¡®çš„ç›®æ ‡ï¼Œåˆé€‚éš¾åº¦çš„ä»»åŠ¡â€”â€”æ—¢ä¸ä¼šç„¦è™‘ï¼Œä¹Ÿä¸ä¼šæ— è¶£ã€‚</p><p>\2. åŠæ—¶çš„åé¦ˆâ€”â€”å¯¹è¿›æ­¥çš„æ»¡è¶³æ„Ÿã€‚</p><p>â€‹ä¸ºä½•æ¸¸æˆå¦‚æ­¤å—æ¬¢è¿ï¼Œå°±æ˜¯æ¸¸æˆçš„è®¾è®¡æ»¡è¶³å¿ƒæµç†è®ºï¼Œå¦‚æœæ¸¸æˆçš„å®šä¹‰æ‰©å¤§ï¼ŒæŠŠå­¦ä¹ ã€å·¥ä½œã€è¿åŠ¨ã€æ•™è‚²åŒ…å«è¿›æ¥ï¼Œå»è¯„ä¼°è‡ªå·±åœ¨åšçš„äº‹æ˜¯å¦æ»¡è¶³å¿ƒæµä¸‰ç‚¹ï¼Œè¿™æ ·è‡ªç„¶ä¼šè¿‡å¾—å¹¸ç¦å¿«ä¹ã€‚</p><p>\3. å‘æŒ¥è‡ªå·±çš„æŸç§èƒ½åŠ›ã€‚</p><p>\4. ç²¾ç¥å®Œå…¨é›†ä¸­ï¼Œå¯¹æ‰‹ä¸Šçš„äº‹æƒ…æœ‰æ§åˆ¶åŠ› ã€‚</p><p><img src="/src/640-165778284238377.jpeg" alt="å›¾ç‰‡"></p><p>å¿ƒæµçŠ¶æ€ï¼Œæ˜¯æˆ‘ä»¬èƒ½å¤Ÿåœ¨å·¥ä½œä¸­è¾¾åˆ°çš„æœ€ç¾å¥½ã€æœ€å¹³å’Œçš„çŠ¶æ€ã€‚é€šè¿‡ä¸€ç§å¿ƒæµçŠ¶æ€åˆä¼šäº§ç”Ÿæ–°çš„å¿ƒæµçŠ¶æ€ã€‚</p><p>æˆåŠŸçš„äººï¼Œèƒ½å¤ŸæˆåŠŸåœ°å°†ä»–ä»¬çš„ä¸€ç”Ÿï¼Œå˜æˆä¸€ç§å•çº¯çš„å¿ƒæµçŠ¶æ€ã€‚ä»–ä»¬åœ¨ç”Ÿå‘½ä¸­å„ä¸ªéƒ¨åˆ†ç´§ç´§åœ°è¿æ¥åˆ°äº†ä¸€èµ·ï¼Œæ‰€æœ‰æ´»åŠ¨éƒ½æœ‰äº†æ„ä¹‰ã€‚</p><p>15.<strong>å¥¥å¡å§†å‰ƒåˆ€å®šå¾‹</strong></p><p>â€œå¥¥å¡å§†å‰ƒåˆ€å®šå¾‹â€ï¼Œåˆç§°â€œç®€çº¦æ³•åˆ™â€ï¼Œ è¿™ä¸ªåŸç†æœ€æ—©è‡³å°‘èƒ½è¿½æº¯åˆ°äºšé‡Œå£«å¤šå¾·çš„â€œè‡ªç„¶ç•Œé€‰æ‹©æœ€çŸ­çš„é“è·¯â€ã€‚</p><p>æ ¸å¿ƒå†…å®¹ä¸º â€œå¦‚æ— å¿…è¦ï¼Œå‹¿å¢å®ä½“â€ï¼Œå³ç®€å•æœ‰æ•ˆåŸç†ã€‚ </p><p>ä¾æ®æœ€å°èƒ½é‡åŸåˆ™ï¼Œæˆ‘ä»¬çš„ç”Ÿæ´»åº”å°½å¯èƒ½ç®€å•ï¼Œè€Œç®€å•çš„æœ‰æ•ˆé€”å¾„å°±æ˜¯å…»æˆå¥½çš„ä¹ æƒ¯ã€‚</p><p>è‡ªåŠ¨æŒ¡æ±½è½¦åœ¨é€æ­¥æ›¿ä»£æ‰‹åŠ¨æŒ¡æ±½è½¦ï¼Œä¹Ÿæ˜¯å› ä¸ºè‡ªåŠ¨æŒ¡å¯¹å¤§å¤šæ•°ç”¨æˆ·æ¥è¯´æ»¡è¶³â€œç®€å•æœ‰æ•ˆåŸç†â€ã€‚</p><p><img src="/src/640-165778284238378.jpeg" alt="å›¾ç‰‡"></p><p>é¢å¯¹å¤æ‚çš„æŠ•èµ„å¸‚åœºï¼Œåº”æ‹¿èµ·å¥¥å¡å§†å‰ƒåˆ€ï¼ŒæŠŠå¤æ‚äº‹æƒ…ç®€å•åŒ–ï¼Œç®€åŒ–è‡ªå·±çš„æŠ•èµ„ç­–ç•¥ï¼Œå¯¹é‚£äº›æ¶ˆè€—äº†å¤§é‡é‡‘é’±ã€æ—¶é—´ã€ç²¾åŠ›çš„äº‹æƒ…åŠ ä»¥åŒºåˆ†ï¼Œç„¶åé‡†å–æ­¥éª¤å»æ‘†è„±å®ƒä»¬ã€‚</p><p>æœ€åæˆ‘ä»¬ä»¥å¼—é‡Œå¾·é‡Œå…‹Â·è¿ˆç‰¹å…°å¾·çš„åè¨€ä½œç»“ï¼š<strong>â€œç®€å•æ˜¯é•¿æœŸåŠªåŠ›å·¥ä½œçš„ç»“æœï¼Œè€Œä¸æ˜¯èµ·ç‚¹ã€‚â€</strong>èµ·ç‚¹ã€‚â€**</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Machine Learning Foundationâ€”â€”æ¦‚ç‡è®ºå’Œæ•°ç†ç»Ÿè®¡</title>
    <link href="/2022/07/01/MachineLearning/%E6%A6%82%E7%8E%87%E8%AE%BA%E5%9F%BA%E7%A1%80/"/>
    <url>/2022/07/01/MachineLearning/%E6%A6%82%E7%8E%87%E8%AE%BA%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚ç‡è®ºå’Œæ•°ç†ç»Ÿè®¡"><a href="#æ¦‚ç‡è®ºå’Œæ•°ç†ç»Ÿè®¡" class="headerlink" title="æ¦‚ç‡è®ºå’Œæ•°ç†ç»Ÿè®¡"></a>æ¦‚ç‡è®ºå’Œæ•°ç†ç»Ÿè®¡</h1><h3 id="1-æ¦‚ç‡çš„åŸºæœ¬è¦ç´ "><a href="#1-æ¦‚ç‡çš„åŸºæœ¬è¦ç´ " class="headerlink" title="1. æ¦‚ç‡çš„åŸºæœ¬è¦ç´ "></a>1. æ¦‚ç‡çš„åŸºæœ¬è¦ç´ </h3><p>ä¸ºäº†å®šä¹‰é›†åˆä¸Šçš„æ¦‚ç‡ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›åŸºæœ¬å…ƒç´ ï¼Œ</p><ul><li><p>æ ·æœ¬ç©ºé—´$\Omega $ï¼šéšæœºå®éªŒçš„æ‰€æœ‰ç»“æœçš„é›†åˆã€‚åœ¨è¿™é‡Œï¼Œæ¯ä¸ªç»“æœ $w \in \Omega $ å¯ä»¥è¢«è®¤ä¸ºæ˜¯å®éªŒç»“æŸæ—¶ç°å®ä¸–ç•ŒçŠ¶æ€çš„å®Œæ•´æè¿°ã€‚</p></li><li><p>äº‹ä»¶é›†ï¼ˆäº‹ä»¶ç©ºé—´ï¼‰$\mathcal{F}$ï¼šå…ƒç´  $A \in \mathcal{F}$ çš„é›†åˆï¼ˆç§°ä¸ºäº‹ä»¶ï¼‰æ˜¯ $\Omega $ çš„å­é›†ï¼ˆå³æ¯ä¸ª $A \subseteq \Omega$ æ˜¯ä¸€ä¸ªå®éªŒå¯èƒ½ç»“æœçš„é›†åˆï¼‰ã€‚</p><p>å¤‡æ³¨ï¼š$\mathcal{F}$éœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š</p><p>(1) $\emptyset  \in \mathcal{F}$</p><p>(2) $A \in \mathcal{F} \Longrightarrow \Omega \backslash A \in \mathcal{F}$</p><p>(3) $A_1,A_2,\cdots A_{i} \in \mathcal{F}\Longrightarrow\cup_{i} A_{i} \in \mathcal{F}$</p></li><li><p>æ¦‚ç‡åº¦é‡$P$ï¼šå‡½æ•°$P$æ˜¯ä¸€ä¸ª$  \mathcal{F} \rightarrow \mathbb{R}$çš„æ˜ å°„ï¼Œæ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š</p><ul><li><p>å¯¹äºæ¯ä¸ª $A \in \mathcal{F}$ï¼Œ$P(A) \geq 0$, </p></li><li><p>$P(\Omega) &#x3D; 1$</p></li><li><p>å¦‚æœ$A_1 ,A_2 ,\cdots$ æ˜¯äº’ä¸ç›¸äº¤çš„äº‹ä»¶ (å³ å½“$ i \neq j$æ—¶ï¼Œ$A_{i} \cap A_{j}&#x3D;\emptyset$ ), é‚£ä¹ˆï¼š</p><p>$$<br>P\left(\cup_{i} A_{i}\right)&#x3D;\sum_{i} P\left(A_{i}\right)<br>$$</p></li></ul></li></ul><p>ä»¥ä¸Šä¸‰æ¡æ€§è´¨è¢«ç§°ä¸º<strong>æ¦‚ç‡å…¬ç†</strong>ã€‚</p><p><strong>ä¸¾ä¾‹</strong>ï¼š</p><p>è€ƒè™‘æŠ•æ·å…­é¢éª°å­çš„äº‹ä»¶ã€‚æ ·æœ¬ç©ºé—´ä¸º$\Omega&#x3D; {1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6}$ã€‚æœ€ç®€å•çš„äº‹ä»¶ç©ºé—´æ˜¯å¹³å‡¡äº‹ä»¶ç©ºé—´$\mathcal{F} &#x3D; {\emptyset,\Omega}$.å¦ä¸€ä¸ªäº‹ä»¶ç©ºé—´æ˜¯$\Omega$çš„æ‰€æœ‰å­é›†çš„é›†åˆã€‚å¯¹äºç¬¬ä¸€ä¸ªäº‹ä»¶ç©ºé—´ï¼Œæ»¡è¶³ä¸Šè¿°è¦æ±‚çš„å”¯ä¸€æ¦‚ç‡åº¦é‡ç”±$P(\emptyset) &#x3D; 0$ï¼Œ$p(\Omega)&#x3D; 1$ç»™å‡ºã€‚å¯¹äºç¬¬äºŒä¸ªäº‹ä»¶ç©ºé—´ï¼Œä¸€ä¸ªæœ‰æ•ˆçš„æ¦‚ç‡åº¦é‡æ˜¯å°†äº‹ä»¶ç©ºé—´ä¸­æ¯ä¸ªäº‹ä»¶çš„æ¦‚ç‡åˆ†é…ä¸º$i&#x2F;6$ï¼Œè¿™é‡Œ$i$ æ˜¯è¿™ä¸ªäº‹ä»¶é›†åˆä¸­å…ƒç´ çš„æ•°é‡ï¼›ä¾‹å¦‚$P({1,2,3,4}) &#x3D;4&#x2F;6$ï¼Œ$P({1,2,3}) &#x3D;3&#x2F;6$ã€‚</p><p><strong>æ€§è´¨ï¼š</strong></p><ul><li>å¦‚æœ$A \subseteq B$ï¼Œåˆ™ï¼š$ P(A) \leq P(B)$</li><li>$P(A \cap B) \leq min(P(A),P(B) )$</li><li>(å¸ƒå°”ä¸ç­‰å¼)ï¼š$P(A \cup B) \leq P(A)+P(B)$</li><li>$P(\Omega |A ) &#x3D;1-P(A)$</li><li>(å…¨æ¦‚ç‡å®šå¾‹)ï¼šå¦‚æœ$A_1ï¼Œ\cdotsï¼ŒA_k$æ˜¯ä¸€äº›äº’ä¸ç›¸äº¤çš„äº‹ä»¶å¹¶ä¸”å®ƒä»¬çš„å¹¶é›†æ˜¯$\Omega$ï¼Œé‚£ä¹ˆå®ƒä»¬çš„æ¦‚ç‡ä¹‹å’Œæ˜¯1</li></ul><h4 id="1-1-äº‹ä»¶çš„å…³ç³»ä¸è¿ç®—"><a href="#1-1-äº‹ä»¶çš„å…³ç³»ä¸è¿ç®—" class="headerlink" title="1.1 äº‹ä»¶çš„å…³ç³»ä¸è¿ç®—"></a><strong>1.1 äº‹ä»¶çš„å…³ç³»ä¸è¿ç®—</strong></h4><p>(1) å­äº‹ä»¶ï¼š$A \subset B$ï¼Œè‹¥$A$å‘ç”Ÿï¼Œåˆ™$B$å‘ç”Ÿã€‚</p><p>(2) ç›¸ç­‰äº‹ä»¶ï¼š$A &#x3D; B$ï¼Œå³$A \subset B$ï¼Œä¸”$B \subset A$ ã€‚</p><p>(3) å’Œäº‹ä»¶ï¼š$A\bigcup B$ï¼ˆæˆ–$A + B$ï¼‰ï¼Œ$A$ä¸$B$ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‘ç”Ÿã€‚</p><p>(4) å·®äº‹ä»¶ï¼š$A - B$ï¼Œ$A$å‘ç”Ÿä½†$B$ä¸å‘ç”Ÿã€‚</p><p>(5) ç§¯äº‹ä»¶ï¼š$A\bigcap B$ï¼ˆæˆ–${AB}$ï¼‰ï¼Œ$A$ä¸$B$åŒæ—¶å‘ç”Ÿã€‚</p><p>(6) äº’æ–¥äº‹ä»¶ï¼ˆäº’ä¸ç›¸å®¹ï¼‰ï¼š$A\bigcap B$&#x3D;$\varnothing$ã€‚</p><p>(7) äº’é€†äº‹ä»¶ï¼ˆå¯¹ç«‹äº‹ä»¶ï¼‰ï¼š<br>$A\bigcap B&#x3D;\varnothing ,A\bigcup B&#x3D;\Omega ,A&#x3D;\bar{B},B&#x3D;\bar{A}$</p><h4 id="1-2-è¿ç®—å¾‹"><a href="#1-2-è¿ç®—å¾‹" class="headerlink" title="1.2 è¿ç®—å¾‹"></a><strong>1.2 è¿ç®—å¾‹</strong></h4><p>(1) äº¤æ¢å¾‹ï¼š$A\bigcup B&#x3D;B\bigcup A,A\bigcap B&#x3D;B\bigcap A$<br>(2) ç»“åˆå¾‹ï¼š$(A\bigcup B)\bigcup C&#x3D;A\bigcup (B\bigcup C)$<br>(3) åˆ†é…å¾‹ï¼š$(A\bigcap B)\bigcap C&#x3D;A\bigcap (B\bigcap C)$</p><h4 id="1-3-å¾·-centerdot-æ‘©æ ¹å¾‹"><a href="#1-3-å¾·-centerdot-æ‘©æ ¹å¾‹" class="headerlink" title="1.3 å¾·$\centerdot $æ‘©æ ¹å¾‹"></a><strong>1.3 å¾·$\centerdot $æ‘©æ ¹å¾‹</strong></h4><p>$\overline{A\bigcup B}&#x3D;\bar{A}\bigcap \bar{B}$</p><p> $\overline{A\bigcap B}&#x3D;\bar{A}\bigcup \bar{B}$</p><h4 id="1-4-å®Œå…¨äº‹ä»¶ç»„"><a href="#1-4-å®Œå…¨äº‹ä»¶ç»„" class="headerlink" title="1.4 å®Œå…¨äº‹ä»¶ç»„"></a><strong>1.4 å®Œå…¨äº‹ä»¶ç»„</strong></h4><p>${ {A}<em>{1} }{ {A}</em>{2} }\cdots { {A}<em>{n} }$ä¸¤ä¸¤äº’æ–¥ï¼Œä¸”å’Œäº‹ä»¶ä¸ºå¿…ç„¶äº‹ä»¶ï¼Œå³${ {A}</em>{i} }\bigcap { {A}<em>{j} }&#x3D;\varnothing, i\ne j ,U</em>{i&#x3D;1}^n &#x3D; \Omega$</p><h4 id="1-5-æ¦‚ç‡çš„åŸºæœ¬å…¬å¼"><a href="#1-5-æ¦‚ç‡çš„åŸºæœ¬å…¬å¼" class="headerlink" title="1.5 æ¦‚ç‡çš„åŸºæœ¬å…¬å¼"></a><strong>1.5 æ¦‚ç‡çš„åŸºæœ¬å…¬å¼</strong></h4><p><strong>(1)æ¡ä»¶æ¦‚ç‡:</strong><br>$P(A | B) \triangleq \frac{P(A \cap B)}{P(B)}$,è¡¨ç¤º$A$å‘ç”Ÿçš„æ¡ä»¶ä¸‹ï¼Œ$B$å‘ç”Ÿçš„æ¦‚ç‡ã€‚</p><p><strong>(2)å…¨æ¦‚ç‡å…¬å¼ï¼š</strong><br>$P(A)&#x3D;\sum\limits_{i&#x3D;1}^{n}{P(A|{ {B}<em>{i} })P({ {B}</em>{i} }),{ {B}<em>{i} }{ {B}</em>{j} } }&#x3D;\varnothing ,i\ne j,\underset{i&#x3D;1}{\overset{n}{\mathop{\bigcup } } },{ {B}_{i} }&#x3D;\Omega$</p><p><strong>(3) Bayes å…¬å¼ï¼š</strong><br>$$<br>P({ {B}<em>{j} }|A)&#x3D;\frac{P(A|{ {B}</em>{j} })P({ {B}<em>{j} })}{\sum\limits</em>{i&#x3D;1}^{n}{P(A|{ {B}<em>{i} })P({ {B}</em>{i} })} },j&#x3D;1,2,\cdots ,n<br>$$</p><p>æ³¨ï¼šä¸Šè¿°å…¬å¼ä¸­äº‹ä»¶${ {B}_{i} }$çš„ä¸ªæ•°å¯ä¸ºå¯åˆ—ä¸ªã€‚</p><p><strong>(4)ä¹˜æ³•å…¬å¼ï¼š</strong><br>$P({ {A}<em>{1} }{ {A}</em>{2} })&#x3D;P({ {A}<em>{1} })P({ {A}</em>{2} }|{ {A}<em>{1} })&#x3D;P({ {A}</em>{2} })P({ {A}<em>{1} }|{ {A}</em>{2} })$<br>$P({ {A}<em>{1} }{ {A}</em>{2} }\cdots { {A}<em>{n} })&#x3D;P({ {A}</em>{1} })P({ {A}<em>{2} }|{ {A}</em>{1} })P({ {A}<em>{3} }|{ {A}</em>{1} }{ {A}<em>{2} })\cdots P({ {A}</em>{n} }|{ {A}<em>{1} }{ {A}</em>{2} }\cdots { {A}_{n-1} })$</p><h4 id="1-6-äº‹ä»¶çš„ç‹¬ç«‹æ€§"><a href="#1-6-äº‹ä»¶çš„ç‹¬ç«‹æ€§" class="headerlink" title="1.6.äº‹ä»¶çš„ç‹¬ç«‹æ€§"></a><strong>1.6.äº‹ä»¶çš„ç‹¬ç«‹æ€§</strong></h4><p>(1)$A$ä¸$B$ç›¸äº’ç‹¬ç«‹</p><p>$\Leftrightarrow P(AB)&#x3D;P(A)P(B)$</p><p>(2)$A$ï¼Œ$B$ï¼Œ$C$ä¸¤ä¸¤ç‹¬ç«‹<br>$\Leftrightarrow P(AB)&#x3D;P(A)P(B)$;$P(BC)&#x3D;P(B)P(C)$ ;$P(AC)&#x3D;P(A)P(C)$;</p><p>(3)$A$ï¼Œ$B$ï¼Œ$C$ç›¸äº’ç‹¬ç«‹<br>$\Leftrightarrow P(AB)&#x3D;P(A)P(B)$; $P(BC)&#x3D;P(B)P(C)$ ;<br>$P(AC)&#x3D;P(A)P(C)$ ; $P(ABC)&#x3D;P(A)P(B)P(C)$</p><h4 id="1-7-ç‹¬ç«‹é‡å¤è¯•éªŒ"><a href="#1-7-ç‹¬ç«‹é‡å¤è¯•éªŒ" class="headerlink" title="1.7 ç‹¬ç«‹é‡å¤è¯•éªŒ"></a><strong>1.7 ç‹¬ç«‹é‡å¤è¯•éªŒ</strong></h4><p>å°†æŸè¯•éªŒç‹¬ç«‹é‡å¤$n$æ¬¡ï¼Œè‹¥æ¯æ¬¡å®éªŒä¸­äº‹ä»¶ A å‘ç”Ÿçš„æ¦‚ç‡ä¸º$p$ï¼Œåˆ™$n$æ¬¡è¯•éªŒä¸­$A$å‘ç”Ÿ$k$æ¬¡çš„æ¦‚ç‡ä¸ºï¼š<br>$P(X&#x3D;k)&#x3D;C_{n}^{k}{ {p}^{k} }{ {(1-p)}^{n-k} }$</p><h4 id="1-8-é‡è¦å…¬å¼ä¸ç»“è®º"><a href="#1-8-é‡è¦å…¬å¼ä¸ç»“è®º" class="headerlink" title="1.8 é‡è¦å…¬å¼ä¸ç»“è®º"></a><strong>1.8 é‡è¦å…¬å¼ä¸ç»“è®º</strong></h4><p>$(1)P(\bar{A})&#x3D;1-P(A)$</p><p>$(2)P(A\bigcup B)&#x3D;P(A)+P(B)-P(AB)$<br>$P(A\bigcup B\bigcup C)&#x3D;P(A)+P(B)+P(C)-P(AB)-P(BC)-P(AC)+P(ABC)$</p><p>$(3)P(A-B)&#x3D;P(A)-P(AB)$</p><p>$(4)P(A\bar{B})&#x3D;P(A)-P(AB),P(A)&#x3D;P(AB)+P(A\bar{B}),$<br>$P(A\bigcup B)&#x3D;P(A)+P(\bar{A}B)&#x3D;P(AB)+P(A\bar{B})+P(\bar{A}B)$</p><p>(5)æ¡ä»¶æ¦‚ç‡$P(\centerdot |B)$æ»¡è¶³æ¦‚ç‡çš„æ‰€æœ‰æ€§è´¨ï¼Œ<br>ä¾‹å¦‚ï¼š. $P({ {\bar{A} }<em>{1} }|B)&#x3D;1-P({ {A}</em>{1} }|B)$<br>$P({ {A}<em>{1} }\bigcup { {A}</em>{2} }|B)&#x3D;P({ {A}<em>{1} }|B)+P({ {A}</em>{2} }|B)-P({ {A}<em>{1} }{ {A}</em>{2} }|B)$<br>$P({ {A}<em>{1} }{ {A}</em>{2} }|B)&#x3D;P({ {A}<em>{1} }|B)P({ {A}</em>{2} }|{ {A}_{1} }B)$</p><p>(6)è‹¥${ {A}<em>{1} },{ {A}</em>{2} },\cdots ,{ {A}<em>{n} }$ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™$P(\bigcap\limits</em>{i&#x3D;1}^{n}{ { {A}<em>{i} }})&#x3D;\prod\limits</em>{i&#x3D;1}^{n}{P({ {A}<em>{i} })},$<br>$P(\bigcup\limits</em>{i&#x3D;1}^{n}{ { {A}<em>{i} }})&#x3D;\prod\limits</em>{i&#x3D;1}^{n}{(1-P({ {A}_{i} }))}$</p><p>(7)äº’æ–¥ã€äº’é€†ä¸ç‹¬ç«‹æ€§ä¹‹é—´çš„å…³ç³»ï¼š<br>$A$ä¸$B$äº’é€†$\Rightarrow$ $A$ä¸$B$äº’æ–¥ï¼Œä½†åä¹‹ä¸æˆç«‹ï¼Œ$A$ä¸$B$äº’æ–¥ï¼ˆæˆ–äº’é€†ï¼‰ä¸”å‡éé›¶æ¦‚ç‡äº‹ä»¶$\Rightarrow $$A$ä¸$B$ä¸ç‹¬ç«‹.</p><p>(8)è‹¥${ {A}<em>{1} },{ {A}</em>{2} },\cdots ,{ {A}<em>{m} },{ {B}</em>{1} },{ {B}<em>{2} },\cdots ,{ {B}</em>{n} }$ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™$f({ {A}<em>{1} },{ {A}</em>{2} },\cdots ,{ {A}<em>{m} })$ä¸$g({ {B}</em>{1} },{ {B}<em>{2} },\cdots ,{ {B}</em>{n} })$ä¹Ÿç›¸äº’ç‹¬ç«‹ï¼Œå…¶ä¸­$f(\centerdot ),g(\centerdot )$åˆ†åˆ«è¡¨ç¤ºå¯¹ç›¸åº”äº‹ä»¶åšä»»æ„äº‹ä»¶è¿ç®—åæ‰€å¾—çš„äº‹ä»¶ï¼Œå¦å¤–ï¼Œæ¦‚ç‡ä¸º 1ï¼ˆæˆ– 0ï¼‰çš„äº‹ä»¶ä¸ä»»ä½•äº‹ä»¶ç›¸äº’ç‹¬ç«‹.</p><h3 id="2-éšæœºå˜é‡"><a href="#2-éšæœºå˜é‡" class="headerlink" title="2. éšæœºå˜é‡"></a>2. éšæœºå˜é‡</h3><p>è€ƒè™‘ä¸€ä¸ªå®éªŒï¼Œæˆ‘ä»¬ç¿»è½¬10æšç¡¬å¸ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“æ­£é¢ç¡¬å¸çš„æ•°é‡ã€‚è¿™é‡Œï¼Œæ ·æœ¬ç©ºé—´$\Omega$çš„å…ƒç´ æ˜¯é•¿åº¦ä¸º10çš„åºåˆ—ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½æœ‰$w_0 &#x3D; {Hï¼ŒHï¼ŒTï¼ŒHï¼ŒTï¼ŒHï¼ŒHï¼ŒTï¼ŒTï¼ŒT}\in\Omega$ã€‚ç„¶è€Œï¼Œåœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¸å…³å¿ƒè·å¾—ä»»ä½•ç‰¹å®šæ­£ååºåˆ—çš„æ¦‚ç‡ã€‚ç›¸åï¼Œæˆ‘ä»¬é€šå¸¸å…³å¿ƒç»“æœçš„å®å€¼å‡½æ•°ï¼Œæ¯”å¦‚æˆ‘ä»¬10æ¬¡æŠ•æ·ä¸­å‡ºç°çš„æ­£é¢æ•°ï¼Œæˆ–è€…æœ€é•¿çš„èƒŒé¢é•¿åº¦ã€‚åœ¨æŸäº›æŠ€æœ¯æ¡ä»¶ä¸‹ï¼Œè¿™äº›å‡½æ•°è¢«ç§°ä¸º<strong>éšæœºå˜é‡</strong>ã€‚</p><p>æ›´æ­£å¼åœ°è¯´ï¼Œéšæœºå˜é‡$X$æ˜¯ä¸€ä¸ªçš„$\Omega \longrightarrow \mathbb{R}$å‡½æ•°ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å¤§å†™å­—æ¯$X(\omega)$æˆ–æ›´ç®€å•çš„$X$(å…¶ä¸­éšå«å¯¹éšæœºç»“æœ$\omega$çš„ä¾èµ–)æ¥è¡¨ç¤ºéšæœºå˜é‡ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å°å†™å­—æ¯$x$æ¥è¡¨ç¤ºéšæœºå˜é‡çš„å€¼ã€‚</p><p><strong>ä¸¾ä¾‹ï¼š</strong><br>åœ¨æˆ‘ä»¬ä¸Šé¢çš„å®éªŒä¸­ï¼Œå‡è®¾$X(\omega)$æ˜¯åœ¨æŠ•æ·åºåˆ—$\omega$ä¸­å‡ºç°çš„æ­£é¢çš„æ•°é‡ã€‚å‡è®¾æŠ•æ·çš„ç¡¬å¸åªæœ‰10æšï¼Œé‚£ä¹ˆ$X(\omega)$åªèƒ½å–æœ‰é™æ•°é‡çš„å€¼ï¼Œå› æ­¤å®ƒè¢«ç§°ä¸º<strong>ç¦»æ•£éšæœºå˜é‡</strong>ã€‚è¿™é‡Œï¼Œä¸éšæœºå˜é‡$X$ç›¸å…³è”çš„é›†åˆå–æŸä¸ªç‰¹å®šå€¼$k$çš„æ¦‚ç‡ä¸ºï¼š<br>$$<br>P(X&#x3D;k) :&#x3D;P({\omega : X(\omega) &#x3D;k})<br>$$<br><strong>ä¸¾ä¾‹ï¼š</strong><br>å‡è®¾$X(\omega)$æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œè¡¨ç¤ºæ”¾å°„æ€§ç²’å­è¡°å˜æ‰€éœ€çš„æ—¶é—´ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ$X(\omega)$å…·æœ‰æ— é™å¤šçš„å¯èƒ½å€¼ï¼Œå› æ­¤å®ƒè¢«ç§°ä¸º<strong>è¿ç»­éšæœºå˜é‡</strong>ã€‚æˆ‘ä»¬å°†$X$åœ¨ä¸¤ä¸ªå®å¸¸æ•°$a$å’Œ$b$ä¹‹é—´å–å€¼çš„æ¦‚ç‡(å…¶ä¸­$a &lt; b$)è¡¨ç¤ºä¸ºï¼š<br>$$<br>P(a \leq X \leq b) :&#x3D;P({\omega : a \leq X(\omega) \leq b})<br>$$</p><h4 id="2-1-ç´¯ç§¯åˆ†å¸ƒå‡½æ•°"><a href="#2-1-ç´¯ç§¯åˆ†å¸ƒå‡½æ•°" class="headerlink" title="2.1 ç´¯ç§¯åˆ†å¸ƒå‡½æ•°"></a>2.1 ç´¯ç§¯åˆ†å¸ƒå‡½æ•°</h4><p>ä¸ºäº†æŒ‡å®šå¤„ç†éšæœºå˜é‡æ—¶ä½¿ç”¨çš„æ¦‚ç‡åº¦é‡ï¼Œé€šå¸¸å¯ä»¥æ–¹ä¾¿åœ°æŒ‡å®šæ›¿ä»£å‡½æ•°(<strong>CDF</strong>ã€<strong>PDF</strong>å’Œ<strong>PMF</strong>)ï¼Œåœ¨æœ¬èŠ‚å’Œæ¥ä¸‹æ¥çš„ä¸¤èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¾æ¬¡æè¿°è¿™äº›ç±»å‹çš„å‡½æ•°ã€‚</p><p><strong>ç´¯ç§¯åˆ†å¸ƒå‡½æ•°(CDF)<strong>ï¼ˆç®€ç§°åˆ†å¸ƒå‡½æ•°ï¼‰æ˜¯å‡½æ•°$F_{X} : \mathbb{R} \rightarrow[0,1]$ï¼Œå®ƒå°†æ¦‚ç‡åº¦é‡æŒ‡å®šä¸ºï¼š<br>$$<br>F_{X}(x) \triangleq P(X \leq x)<br>$$<br>é€šè¿‡ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—ä»»æ„äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚å›¾1æ˜¾ç¤ºäº†ä¸€ä¸ªæ ·æœ¬</strong>CDF</strong>å‡½æ•°ã€‚</p><p><img src="/src/c89fd93c5d6dccce89762d57fcd66dac.png"></p><center>å›¾1ï¼šä¸€ä¸ªç´¯è®¡åˆ†å¸ƒå‡½æ•°(CDF)</center><p><strong>æ€§è´¨ï¼š</strong></p><ul><li>$0 \leq F_{X}(x)\leq 1$</li><li>$\lim <em>{x \rightarrow-\infty} F</em>{X}(x)&#x3D;0$</li><li>$\lim <em>{x \rightarrow\infty} F</em>{X}(x)&#x3D;1$</li><li>$x \leq y \Longrightarrow  F_{X}(x)\leq F_{X}(y)$</li></ul><h4 id="2-2-æ¦‚ç‡è´¨é‡å‡½æ•°"><a href="#2-2-æ¦‚ç‡è´¨é‡å‡½æ•°" class="headerlink" title="2.2 æ¦‚ç‡è´¨é‡å‡½æ•°"></a>2.2 æ¦‚ç‡è´¨é‡å‡½æ•°</h4><p>å½“éšæœºå˜é‡$X$å–æœ‰é™ç§å¯èƒ½å€¼(å³ï¼Œ$X$æ˜¯ç¦»æ•£éšæœºå˜é‡)æ—¶ï¼Œè¡¨ç¤ºä¸éšæœºå˜é‡ç›¸å…³è”çš„æ¦‚ç‡åº¦é‡çš„æ›´ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥æŒ‡å®šéšæœºå˜é‡å¯ä»¥å‡è®¾çš„æ¯ä¸ªå€¼çš„æ¦‚ç‡ã€‚ç‰¹åˆ«åœ°ï¼Œæ¦‚ç‡è´¨é‡å‡½æ•°(<strong>PMF</strong>)æ˜¯å‡½æ•° $p_{X} : \Omega \rightarrow \mathbb{R}$ï¼Œè¿™æ ·ï¼š<br>$$<br>p_{X}(x) \triangleq P(X&#x3D;x)<br>$$</p><p>åœ¨ç¦»æ•£éšæœºå˜é‡çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¬¦å·$Val(X)$è¡¨ç¤ºéšæœºå˜é‡$X$å¯èƒ½å‡è®¾çš„ä¸€ç»„å¯èƒ½å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ$X(\omega)$æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œè¡¨ç¤ºåæ¬¡æŠ•æ·ç¡¬å¸ä¸­çš„æ­£é¢æ•°ï¼Œé‚£ä¹ˆ$Val(X) &#x3D;{0ï¼Œ1ï¼Œ2ï¼Œ.ï¼Œ10}$ã€‚</p><p><strong>æ€§è´¨ï¼š</strong></p><ul><li>$0 \leq p_{X}(x)\leq 1$</li><li>$\sum_{x \in V \text { al }(X)} p_{X}(x)&#x3D;1$</li><li>$\sum_{x \in A} p_{X}(x)&#x3D;P(X \in A)$</li></ul><h4 id="2-3-æ¦‚ç‡å¯†åº¦å‡½æ•°"><a href="#2-3-æ¦‚ç‡å¯†åº¦å‡½æ•°" class="headerlink" title="2.3 æ¦‚ç‡å¯†åº¦å‡½æ•°"></a>2.3 æ¦‚ç‡å¯†åº¦å‡½æ•°</h4><p>å¯¹äºä¸€äº›è¿ç»­éšæœºå˜é‡ï¼Œç´¯ç§¯åˆ†å¸ƒå‡½æ•°$F_X (x)$å¤„å¯å¾®ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†**æ¦‚ç‡å¯†åº¦å‡½æ•°(PDF)**å®šä¹‰ä¸ºç´¯ç§¯åˆ†å¸ƒå‡½æ•°çš„å¯¼æ•°ï¼Œå³ï¼š<br>$$<br>f_{X}(x) \triangleq \frac{d F_{X}(x)}{d x}<br>$$</p><p>è¯·æ³¨æ„ï¼Œè¿ç»­éšæœºå˜é‡çš„æ¦‚ç‡å¯†åº¦å‡½æ•°å¯èƒ½å¹¶ä¸æ€»æ˜¯å­˜åœ¨çš„(å³ï¼Œå¦‚æœå®ƒä¸æ˜¯å¤„å¤„å¯å¾®)ã€‚ </p><p>æ ¹æ®å¾®åˆ†çš„æ€§è´¨ï¼Œå¯¹äºå¾ˆå°çš„$\Delta x$ï¼Œ<br>$$<br>P(x \leq X \leq x+\Delta x) \approx f_{X}(x) \Delta x<br>$$<br><strong>CDF</strong>å’Œ**PDF(<strong>å½“å®ƒä»¬å­˜åœ¨æ—¶ï¼)éƒ½å¯ç”¨äºè®¡ç®—ä¸åŒäº‹ä»¶çš„æ¦‚ç‡ã€‚ä½†æ˜¯åº”è¯¥å¼ºè°ƒçš„æ˜¯ï¼Œä»»æ„ç»™å®šç‚¹çš„</strong>æ¦‚ç‡å¯†åº¦å‡½æ•°(PDF)**çš„å€¼ä¸æ˜¯è¯¥äº‹ä»¶çš„æ¦‚ç‡ï¼Œå³$f _X (x) \not &#x3D; P(X &#x3D; x)$ã€‚ä¾‹å¦‚ï¼Œ$f _X (x)$å¯ä»¥å–å¤§äº1çš„å€¼(ä½†æ˜¯$f _X (x)$åœ¨$\mathbb{R}$çš„ä»»ä½•å­é›†ä¸Šçš„ç§¯åˆ†æœ€å¤šä¸º1)ã€‚</p><p><strong>æ€§è´¨ï¼š</strong></p><ul><li>$f_X(x)\geq 0$</li><li>$\int_{-\infty}^{\infty} f_{X}(x)&#x3D;1$</li><li>$\int_{x \in A} f_{X}(x) d x&#x3D;P(X \in A)$</li></ul><h4 id="2-4-æœŸæœ›"><a href="#2-4-æœŸæœ›" class="headerlink" title="2.4 æœŸæœ›"></a>2.4 æœŸæœ›</h4><p>å‡è®¾$X$æ˜¯ä¸€ä¸ªç¦»æ•£éšæœºå˜é‡ï¼Œå…¶<strong>PMF</strong>ä¸º $p_X (x)$ï¼Œ$g : \mathbb{R} \longrightarrow \mathbb{R}$æ˜¯ä¸€ä¸ªä»»æ„å‡½æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ$g(X)$å¯ä»¥è¢«è§†ä¸ºéšæœºå˜é‡ï¼Œæˆ‘ä»¬å°†$g(X)$çš„æœŸæœ›å€¼å®šä¹‰ä¸ºï¼š<br>$$<br>E[g(X)] \triangleq \sum_{x \in V a l(X)} g(x) p_{X}(x)<br>$$<br>å¦‚æœ$X$æ˜¯ä¸€ä¸ªè¿ç»­çš„éšæœºå˜é‡ï¼Œå…¶<strong>PDF</strong> ä¸º$f <em>X (x)$ï¼Œé‚£ä¹ˆ$g(X)$çš„æœŸæœ›å€¼è¢«å®šä¹‰ä¸ºï¼š<br>$$<br>E[g(X)] \triangleq \int</em>{-\infty}^{\infty} g(x) f_{X}(x) d x<br>$$</p><p>ç›´è§‰ä¸Šï¼Œ$g(X)$çš„æœŸæœ›å€¼å¯ä»¥è¢«è®¤ä¸ºæ˜¯$g(x)$å¯¹äºä¸åŒçš„$x$å€¼å¯ä»¥å–çš„å€¼çš„â€œåŠ æƒå¹³å‡å€¼â€ï¼Œå…¶ä¸­æƒé‡ç”±$p_X(x)$æˆ–$f_X(x)$ç»™å‡ºã€‚ä½œä¸ºä¸Šè¿°æƒ…å†µçš„ç‰¹ä¾‹ï¼Œè¯·æ³¨æ„ï¼Œéšæœºå˜é‡æœ¬èº«çš„æœŸæœ›å€¼ï¼Œæ˜¯é€šè¿‡ä»¤$g(x) &#x3D; x$å¾—åˆ°çš„ï¼Œè¿™ä¹Ÿè¢«ç§°ä¸ºéšæœºå˜é‡çš„å¹³å‡å€¼ã€‚</p><p><strong>æ€§è´¨ï¼š</strong></p><ul><li>å¯¹äºä»»æ„å¸¸æ•° $a \in \mathbb{R}$ï¼Œ$E[a]&#x3D;a$</li><li>å¯¹äºä»»æ„å¸¸æ•° $a \in \mathbb{R}$ï¼Œ$E[af(X)]&#x3D;aE[f(X)]$</li><li>(çº¿æ€§æœŸæœ›)ï¼š$E[f(X)+g(X)]&#x3D;E[f(X)]+E[g(X)]$</li><li>å¯¹äºä¸€ä¸ªç¦»æ•£éšæœºå˜é‡$X$ï¼Œ$E[1{X&#x3D;k}]&#x3D;P(X&#x3D;k)$</li></ul><h4 id="2-5-æ–¹å·®"><a href="#2-5-æ–¹å·®" class="headerlink" title="2.5 æ–¹å·®"></a>2.5 æ–¹å·®</h4><p>éšæœºå˜é‡$X$çš„<strong>æ–¹å·®</strong>æ˜¯éšæœºå˜é‡$X$çš„åˆ†å¸ƒå›´ç»•å…¶å¹³å‡å€¼é›†ä¸­ç¨‹åº¦çš„åº¦é‡ã€‚å½¢å¼ä¸Šï¼Œéšæœºå˜é‡$X$çš„æ–¹å·®å®šä¹‰ä¸ºï¼š<br>$\operatorname{Var}[X] \triangleq E\left[(X-E(X))^{2}\right]$<br>ä½¿ç”¨ä¸Šä¸€èŠ‚ä¸­çš„æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥å¯¼å‡ºæ–¹å·®çš„æ›¿ä»£è¡¨è¾¾å¼:<br>$\begin{aligned} E\left[(X-E[X])^{2}\right] &amp;&#x3D;E\left[X^{2}-2 E[X] X+E[X]^{2}\right] \ &amp;&#x3D;E\left[X^{2}\right]-2 E[X] E[X]+E[X]^{2} \ &amp;&#x3D;E\left[X^{2}\right]-E[X]^{2} \end{aligned}$</p><p>å…¶ä¸­ç¬¬äºŒä¸ªç­‰å¼æ¥è‡ªæœŸæœ›çš„çº¿æ€§ï¼Œä»¥åŠ$E[X]$ç›¸å¯¹äºå¤–å±‚æœŸæœ›å®é™…ä¸Šæ˜¯å¸¸æ•°çš„äº‹å®ã€‚</p><p><strong>æ€§è´¨ï¼š</strong></p><ul><li>å¯¹äºä»»æ„å¸¸æ•° $a \in \mathbb{R}$ï¼Œ$Val[a]&#x3D;0$</li><li>å¯¹äºä»»æ„å¸¸æ•° $a \in \mathbb{R}$ï¼Œ$Var[af(X)]&#x3D;a^2Var[f(X)]$</li></ul><p><strong>ä¸¾ä¾‹ï¼š</strong></p><p>è®¡ç®—å‡åŒ€éšæœºå˜é‡$X$çš„å¹³å‡å€¼å’Œæ–¹å·®ï¼Œä»»æ„$x \in [0ï¼Œ1]$ï¼Œå…¶<strong>PDF</strong>ä¸º $p_X(x)&#x3D; 1$ï¼Œå…¶ä»–åœ°æ–¹ä¸º0ã€‚</p><p>$$<br>E[X]&#x3D;\int_{-\infty}^{\infty} x f_{X}(x) d x&#x3D;\int_{0}^{1} x d x&#x3D;\frac{1}{2}<br>$$</p><p>$$<br>E\left[X^{2}\right]&#x3D;\int_{-\infty}^{\infty} x^{2} f_{X}(x) d x&#x3D;\int_{0}^{1} x^{2} d x&#x3D;\frac{1}{3}<br>$$</p><p>$$<br>Var[X]&#x3D;E[X^2]-E[X]^2&#x3D;\frac{1}{3}-\frac{1}{4}&#x3D;\frac{1}{12}<br>$$</p><p><strong>ä¸¾ä¾‹ï¼š</strong></p><p>å‡è®¾å¯¹äºä¸€äº›å­é›†$A \subseteq \Omega$ï¼Œæœ‰$g(x) &#x3D; 1{x \in A}$ï¼Œè®¡ç®—$E[g(X)]$?</p><p><strong>ç¦»æ•£æƒ…å†µï¼š</strong><br>$<br>E[g(X)]&#x3D;\sum_{x \in V a l(X)} 1{x \in A} P_{X}(x) d x&#x3D;\sum_{x \in A} P_{X}(x) d x&#x3D;P(x \in A)<br>$</p><p><strong>è¿ç»­æƒ…å†µï¼š</strong><br>$<br>E[g(X)]&#x3D;\int_{-\infty}^{\infty} 1{x \in A} f_{X}(x) d x&#x3D;\int_{x \in A} f_{X}(x) d x&#x3D;P(x \in A)<br>$</p><h4 id="2-6-ä¸€äº›å¸¸è§çš„éšæœºå˜é‡"><a href="#2-6-ä¸€äº›å¸¸è§çš„éšæœºå˜é‡" class="headerlink" title="2.6 ä¸€äº›å¸¸è§çš„éšæœºå˜é‡"></a>2.6 ä¸€äº›å¸¸è§çš„éšæœºå˜é‡</h4><p><strong>ç¦»æ•£éšæœºå˜é‡</strong></p><ul><li><p>ä¼¯åŠªåˆ©åˆ†å¸ƒï¼šç¡¬å¸æ·å‡ºæ­£é¢çš„æ¦‚ç‡ä¸º$p$ï¼ˆå…¶ä¸­ï¼š$0 \leq p \leq 1$ï¼‰ï¼Œå¦‚æœæ­£é¢å‘ç”Ÿï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚</p><p>$$<br>p(x)&#x3D;\left{\begin{array}{ll}{p} &amp; {\text { if } p&#x3D;1} \ {1-p} &amp; {\text { if } p&#x3D;0}\end{array}\right.<br>$$</p></li><li><p>äºŒé¡¹å¼åˆ†å¸ƒï¼šæ·å‡ºæ­£é¢æ¦‚ç‡ä¸º$p$ï¼ˆå…¶ä¸­ï¼š$0 \leq p \leq 1$ï¼‰çš„ç¡¬å¸$n$æ¬¡ç‹¬ç«‹æŠ•æ·ä¸­æ­£é¢çš„æ•°é‡ã€‚</p><p>$$<br>p(x)&#x3D;\left(\begin{array}{l}{n} \ {x}\end{array}\right) p^{x}(1-p)^{n-x}<br>$$</p></li><li><p>æ³Šæ¾åˆ†å¸ƒï¼šç”¨äºæ¨¡æ‹Ÿç½•è§äº‹ä»¶é¢‘ç‡çš„éè´Ÿæ•´æ•°çš„æ¦‚ç‡åˆ†å¸ƒï¼ˆå…¶ä¸­ï¼š$\lambda &gt;0$ï¼‰ã€‚</p><p>$$<br>p(x)&#x3D;e^{-\lambda} \frac{\lambda^{x} }{x !}<br>$$</p></li><li><p>å‡ ä½•åˆ†å¸ƒï¼šæ·å‡ºæ­£é¢æ¦‚ç‡ä¸º$p$ï¼ˆå…¶ä¸­ï¼š$p &gt;0$ï¼‰çš„ç¡¬å¸ç¬¬ä¸€æ¬¡æ·å‡ºæ­£é¢æ‰€éœ€è¦çš„æ¬¡æ•°ã€‚</p><p>$$<br>G(p):P(X &#x3D; k) &#x3D; {(1 - p)}^{k - 1}p,0 &lt; p &lt; 1,k &#x3D; 1,2,\cdots.<br>$$</p></li><li><p>è¶…å‡ ä½•åˆ†å¸ƒï¼š$H(N,M,n):P(X &#x3D; k) &#x3D; \frac{C_{M}^{k}C_{N - M}^{n -k} }{C_{N}^{n} },k &#x3D;0,1,\cdots,min(n,M)$</p></li></ul><p><strong>è¿ç»­éšæœºå˜é‡</strong></p><ul><li><p>å‡åŒ€åˆ†å¸ƒï¼šåœ¨$a$å’Œ$b$ä¹‹é—´æ¯ä¸ªç‚¹æ¦‚ç‡å¯†åº¦ç›¸ç­‰çš„åˆ†å¸ƒï¼ˆå…¶ä¸­ï¼š$a&lt;b$ï¼‰ã€‚</p><p>$$<br>f(x)&#x3D;\left{\begin{array}{ll}{\frac{1}{b-a} } &amp; {\text { if } a \leq x \leq b} \ {0} &amp; {\text { otherwise } }\end{array}\right.<br>$$</p></li><li><p>æŒ‡æ•°åˆ†å¸ƒï¼šåœ¨éè´Ÿå®æ•°ä¸Šæœ‰è¡°å‡çš„æ¦‚ç‡å¯†åº¦ï¼ˆå…¶ä¸­ï¼š$\lambda &gt;0$ï¼‰ã€‚</p><p>$$<br>f(x)&#x3D;\left{\begin{array}{ll}{\lambda e^{-\lambda x} } &amp; {\text { if } x \geq 0} \ {0} &amp; {\text { otherwise } }\end{array}\right.<br>$$</p></li><li><p>æ­£æ€åˆ†å¸ƒï¼šåˆè¢«ç§°ä¸ºé«˜æ–¯åˆ†å¸ƒã€‚</p><p>$$<br>f(x)&#x3D;\frac{1}{\sqrt{2 \pi} \sigma} e^{-\frac{1}{2 \sigma^{2} }(x-\mu)^{2} }<br>$$</p></li></ul><p>ä¸€äº›éšæœºå˜é‡çš„æ¦‚ç‡å¯†åº¦å‡½æ•°å’Œç´¯ç§¯åˆ†å¸ƒå‡½æ•°çš„å½¢çŠ¶å¦‚å›¾2æ‰€ç¤ºã€‚</p><p><img src="/src/b958c16cfdce9e6bd2b810b10d71416e.png"></p><center>å›¾2ï¼šä¸€äº›éšæœºå˜é‡çš„æ¦‚ç‡å¯†åº¦å‡½æ•°(PDF)å’Œç´¯ç§¯åˆ†å¸ƒå‡½æ•°(CDF)</center><p>ä¸‹è¡¨æ€»ç»“äº†è¿™äº›åˆ†å¸ƒçš„ä¸€äº›ç‰¹æ€§ï¼š</p><table><thead><tr><th align="center">åˆ†å¸ƒ</th><th align="center">æ¦‚ç‡å¯†åº¦å‡½æ•°(PDF)æˆ–è€…æ¦‚ç‡è´¨é‡å‡½æ•°(<strong>PMF</strong>)</th><th align="center">å‡å€¼</th><th align="center">æ–¹å·®</th></tr></thead><tbody><tr><td align="center">$Bernoulli(p)$(ä¼¯åŠªåˆ©åˆ†å¸ƒ)</td><td align="center">$\left{\begin{array}{ll}{p} &amp; {\text { if } x&#x3D;1} \ {1-p} &amp; {\text { if } x&#x3D;0}\end{array}\right.$</td><td align="center">$p$</td><td align="center">$p(1-p)$</td></tr><tr><td align="center">$Binomial(n,p)$(äºŒé¡¹å¼åˆ†å¸ƒ)</td><td align="center">$\left(\begin{array}{l}{n} \ {k}\end{array}\right) p^{k}(1-p)^{n-k}$  å…¶ä¸­ï¼š$0 \leq k \leq n$</td><td align="center">$np$</td><td align="center">$npq$</td></tr><tr><td align="center">$Geometric(p)$(å‡ ä½•åˆ†å¸ƒ)</td><td align="center">$p(1-p)^{k-1}$  å…¶ä¸­ï¼š$k&#x3D;1,2,\cdots$</td><td align="center">$\frac{1}{p}$</td><td align="center">$\frac {1-p}{p^2}$</td></tr><tr><td align="center">$Poisson(\lambda)$(æ³Šæ¾åˆ†å¸ƒ)</td><td align="center">$e^{-\lambda} \lambda^{x} &#x2F; x !$  å…¶ä¸­ï¼š$k&#x3D;1,2,\cdots$</td><td align="center">$\lambda$</td><td align="center">$\lambda$</td></tr><tr><td align="center">$Uniform(a,b)$(å‡åŒ€åˆ†å¸ƒ)</td><td align="center">$\frac{1}{b-a}$ å­˜åœ¨$x \in (a,b)$</td><td align="center">$\frac{a+b}{2}$</td><td align="center">$\frac{(b-a)^2}{12}$</td></tr><tr><td align="center">$Gaussian(\mu,\sigma^2)$(é«˜æ–¯åˆ†å¸ƒ)</td><td align="center">$\frac{1}{\sqrt{2 \pi} \sigma} e^{-\frac{1}{2 \sigma^{2} }(x-\mu)^{2} }$</td><td align="center">$\mu$</td><td align="center">$\sigma^2$</td></tr><tr><td align="center">$Exponential(\lambda)$(æŒ‡æ•°åˆ†å¸ƒ)</td><td align="center">$\lambda e^{-\lambda x}$   $x\geq0,\lambda&gt;0$</td><td align="center">$\frac{1}{\lambda}$</td><td align="center">$\frac{1}{\lambda^2}$</td></tr></tbody></table><h4 id="2-7-é‡è¦å…¬å¼ä¸ç»“è®º"><a href="#2-7-é‡è¦å…¬å¼ä¸ç»“è®º" class="headerlink" title="2.7 é‡è¦å…¬å¼ä¸ç»“è®º"></a>2.7 é‡è¦å…¬å¼ä¸ç»“è®º</h4><p>(1) $X\sim N(0,1) \Rightarrow \varphi(0) &#x3D; \frac{1}{\sqrt{2\pi} },\Phi(0) &#x3D;\frac{1}{2},$ $\Phi( - a) &#x3D; P(X \leq - a) &#x3D; 1 - \Phi(a)$</p><p>(2) $X\sim N\left( \mu,\sigma^{2} \right) \Rightarrow \frac{X -\mu}{\sigma}\sim N\left( 0,1 \right),P(X \leq a) &#x3D; \Phi(\frac{a -\mu}{\sigma})$</p><p>(3) $X\sim E(\lambda) \Rightarrow P(X &gt; s + t|X &gt; s) &#x3D; P(X &gt; t)$</p><p>(4) $X\sim G(p) \Rightarrow P(X &#x3D; m + k|X &gt; m) &#x3D; P(X &#x3D; k)$</p><p>(5) ç¦»æ•£å‹éšæœºå˜é‡çš„åˆ†å¸ƒå‡½æ•°ä¸ºé˜¶æ¢¯é—´æ–­å‡½æ•°ï¼›è¿ç»­å‹éšæœºå˜é‡çš„åˆ†å¸ƒå‡½æ•°ä¸ºè¿ç»­å‡½æ•°ï¼Œä½†ä¸ä¸€å®šä¸ºå¤„å¤„å¯å¯¼å‡½æ•°ã€‚</p><p>(6) å­˜åœ¨æ—¢éç¦»æ•£ä¹Ÿéè¿ç»­å‹éšæœºå˜é‡ã€‚</p><h3 id="3-ä¸¤ä¸ªéšæœºå˜é‡"><a href="#3-ä¸¤ä¸ªéšæœºå˜é‡" class="headerlink" title="3. ä¸¤ä¸ªéšæœºå˜é‡"></a>3. ä¸¤ä¸ªéšæœºå˜é‡</h3><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»è€ƒè™‘äº†å•ä¸ªéšæœºå˜é‡ã€‚ç„¶è€Œï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œåœ¨éšæœºå®éªŒä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æœ‰ä¸æ­¢ä¸€ä¸ªæ„Ÿå…´è¶£çš„é‡ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæˆ‘ä»¬æ·ç¡¬å¸åæ¬¡çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æ—¢å…³å¿ƒ$X(\omega) &#x3D;$å‡ºç°çš„æ­£é¢æ•°é‡ï¼Œä¹Ÿå…³å¿ƒ$Y (\omega) &#x3D;$è¿ç»­æœ€é•¿å‡ºç°æ­£é¢çš„é•¿åº¦ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸¤ä¸ªéšæœºå˜é‡çš„è®¾ç½®ã€‚</p><h4 id="3-1-è”åˆåˆ†å¸ƒå’Œè¾¹ç¼˜åˆ†å¸ƒ"><a href="#3-1-è”åˆåˆ†å¸ƒå’Œè¾¹ç¼˜åˆ†å¸ƒ" class="headerlink" title="3.1 è”åˆåˆ†å¸ƒå’Œè¾¹ç¼˜åˆ†å¸ƒ"></a>3.1 è”åˆåˆ†å¸ƒå’Œè¾¹ç¼˜åˆ†å¸ƒ</h4><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªéšæœºå˜é‡ï¼Œä¸€ä¸ªæ–¹æ³•æ˜¯åˆ†åˆ«è€ƒè™‘å®ƒä»¬ã€‚å¦‚æœæˆ‘ä»¬è¿™æ ·åšï¼Œæˆ‘ä»¬åªéœ€è¦$F_X (x)$å’Œ$F_Y (y)$ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“åœ¨éšæœºå®éªŒçš„ç»“æœä¸­ï¼Œ$X$å’Œ$Y$åŒæ—¶å‡è®¾çš„å€¼ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¤æ‚çš„ç»“æ„ï¼Œç§°ä¸º$X$å’Œ$Y$çš„<strong>è”åˆç´¯ç§¯åˆ†å¸ƒå‡½æ•°</strong>ï¼Œå®šä¹‰å¦‚ä¸‹:<br>$$<br>F_{XY}(x,y)&#x3D;P(X \leq x,Y \leq y)<br>$$</p><p>å¯ä»¥è¯æ˜ï¼Œé€šè¿‡äº†è§£è”åˆç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼Œå¯ä»¥è®¡ç®—å‡ºä»»ä½•æ¶‰åŠåˆ°$X$å’Œ$Y$çš„äº‹ä»¶çš„æ¦‚ç‡ã€‚</p><p>è”åˆ<strong>CDF</strong>: $F_{XY }(x,y)$å’Œæ¯ä¸ªå˜é‡çš„è”åˆåˆ†å¸ƒå‡½æ•°$F_X(x)$å’Œ$F_Y (y)$åˆ†åˆ«ç”±ä¸‹å¼å…³è”:<br>$$<br>F_{X}(x)&#x3D;\lim <em>{y \rightarrow \infty} F</em>{X Y}(x, y) d y<br>$$</p><p>$$<br>F_{Y}(y)&#x3D;\lim <em>{y \rightarrow \infty} F</em>{X Y}(x, y) dx<br>$$</p><p>è¿™é‡Œæˆ‘ä»¬ç§°$F_X(x)$å’Œ$F_Y (y)$ä¸º $F_{XY }(x,y)$çš„<strong>è¾¹ç¼˜ç´¯ç§¯æ¦‚ç‡åˆ†å¸ƒå‡½æ•°</strong>ã€‚</p><p><strong>æ€§è´¨ï¼š</strong></p><ul><li>$0 \leq F_{XY }(x,y) \leq 1$</li><li>$\lim <em>{x, y \rightarrow \infty} F</em>{X Y}(x, y)&#x3D;1$</li><li>$\lim <em>{x, y \rightarrow -\infty} F</em>{X Y}(x, y)&#x3D;0$</li><li>$F_{X}(x)&#x3D;\lim <em>{y \rightarrow \infty} F</em>{X Y}(x, y)$</li></ul><h4 id="3-2-è”åˆæ¦‚ç‡å’Œè¾¹ç¼˜æ¦‚ç‡è´¨é‡å‡½æ•°"><a href="#3-2-è”åˆæ¦‚ç‡å’Œè¾¹ç¼˜æ¦‚ç‡è´¨é‡å‡½æ•°" class="headerlink" title="3.2 è”åˆæ¦‚ç‡å’Œè¾¹ç¼˜æ¦‚ç‡è´¨é‡å‡½æ•°"></a>3.2 è”åˆæ¦‚ç‡å’Œè¾¹ç¼˜æ¦‚ç‡è´¨é‡å‡½æ•°</h4><p>å¦‚æœ$X$å’Œ$Y$æ˜¯ç¦»æ•£éšæœºå˜é‡ï¼Œé‚£ä¹ˆ<strong>è”åˆæ¦‚ç‡è´¨é‡å‡½æ•°</strong>  $p_{X Y} : \mathbb{R} \times \mathbb{R} \rightarrow [0,1]$ç”±ä¸‹å¼å®šä¹‰ï¼š</p><p>$$<br>p_{X Y}(x,y)&#x3D;P(X&#x3D;x,Y&#x3D;y)<br>$$</p><p>è¿™é‡Œ, å¯¹äºä»»æ„$x$ï¼Œ$y$ï¼Œ$0 \leq P_{XY} (x,y) \leq 1$, å¹¶ä¸” $\sum_{x \in V a l(X)} \sum_{y \in V a l(Y)} P_{X Y}(x, y)&#x3D;1$</p><p>ä¸¤ä¸ªå˜é‡ä¸Šçš„<strong>è”åˆPMF</strong>åˆ†åˆ«ä¸æ¯ä¸ªå˜é‡çš„æ¦‚ç‡è´¨é‡å‡½æ•°æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿäº‹å®ä¸Šï¼š<br>$$<br>p_{X}(x)&#x3D;\sum_{y} p_{X Y}(x, y)<br>$$</p><p>å¯¹äº$p_Y (y)$ç±»ä¼¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç§°$p_X(x)$ä¸º$X$çš„è¾¹é™…æ¦‚ç‡è´¨é‡å‡½æ•°ã€‚åœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œå°†ä¸€ä¸ªå˜é‡ç›¸åŠ å½¢æˆå¦ä¸€ä¸ªå˜é‡çš„è¾¹ç¼˜åˆ†å¸ƒçš„è¿‡ç¨‹é€šå¸¸ç§°ä¸ºâ€œè¾¹ç¼˜åŒ–â€ã€‚</p><h4 id="3-3-è”åˆæ¦‚ç‡å’Œè¾¹ç¼˜æ¦‚ç‡å¯†åº¦å‡½æ•°"><a href="#3-3-è”åˆæ¦‚ç‡å’Œè¾¹ç¼˜æ¦‚ç‡å¯†åº¦å‡½æ•°" class="headerlink" title="3.3 è”åˆæ¦‚ç‡å’Œè¾¹ç¼˜æ¦‚ç‡å¯†åº¦å‡½æ•°"></a>3.3 è”åˆæ¦‚ç‡å’Œè¾¹ç¼˜æ¦‚ç‡å¯†åº¦å‡½æ•°</h4><p>å‡è®¾$X$å’Œ$Y$æ˜¯ä¸¤ä¸ªè¿ç»­çš„éšæœºå˜é‡ï¼Œå…·æœ‰è”åˆåˆ†å¸ƒå‡½æ•°$F_{XY}$ã€‚åœ¨$F_{XY}(x,y)$åœ¨$x$å’Œ$y$ä¸­å¤„å¤„å¯å¾®çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰<strong>è”åˆæ¦‚ç‡å¯†åº¦å‡½æ•°</strong>ï¼š<br>$$<br>f_{X Y}(x, y)&#x3D;\frac{\partial^{2} F_{X Y}(x, y)}{\partial x \partial y}<br>$$<br>å¦‚åŒåœ¨ä¸€ç»´æƒ…å†µä¸‹ï¼Œ$f_{XY}(x,y)\not&#x3D; P(X &#x3D; x,Y &#x3D; y)$ï¼Œè€Œæ˜¯ï¼š<br>$$<br>\iint_{x \in A} f_{X Y}(x, y) d x d y&#x3D;P((X, Y) \in A)<br>$$</p><p>è¯·æ³¨æ„ï¼Œæ¦‚ç‡å¯†åº¦å‡½æ•°$f_{XY}(x,y)$çš„å€¼æ€»æ˜¯éè´Ÿçš„ï¼Œä½†å®ƒä»¬å¯èƒ½å¤§äº1ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¯ä»¥è‚¯å®šçš„æ˜¯ $\int_{-\infty}^{\infty} \int_{-\infty}^{\infty} f_{X Y}(x, y)&#x3D;1$</p><p>ä¸ç¦»æ•£æƒ…å†µç›¸ä¼¼ï¼Œæˆ‘ä»¬å®šä¹‰:<br>$$<br>f_{X}(x)&#x3D;\int_{-\infty}^{\infty} f_{X Y}(x, y) d y<br>$$<br>ä½œä¸º$X$çš„<strong>è¾¹é™…æ¦‚ç‡å¯†åº¦å‡½æ•°</strong>(æˆ–<strong>è¾¹é™…å¯†åº¦</strong>)ï¼Œå¯¹äº$f_Y (y)$ä¹Ÿç±»ä¼¼ã€‚</p><h4 id="3-4-æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ"><a href="#3-4-æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ" class="headerlink" title="3.4 æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ"></a>3.4 æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ</h4><p>æ¡ä»¶åˆ†å¸ƒè¯•å›¾å›ç­”è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘ä»¬çŸ¥é“$X$å¿…é¡»å–æŸä¸ªå€¼$x$æ—¶ï¼Œ$Y$ä¸Šçš„æ¦‚ç‡åˆ†å¸ƒæ˜¯ä»€ä¹ˆï¼Ÿåœ¨ç¦»æ•£æƒ…å†µä¸‹ï¼Œç»™å®š$Y$çš„æ¡ä»¶æ¦‚ç‡è´¨é‡å‡½æ•°æ˜¯ç®€å•çš„ï¼š<br>$$<br>p_{Y | X}(y | x)&#x3D;\frac{p_{X Y}(x, y)}{p_{X}(x)}<br>$$<br>å‡è®¾åˆ†æ¯ä¸ç­‰äº0ã€‚</p><p>åœ¨è¿ç»­çš„æƒ…å†µä¸‹ï¼Œåœ¨æŠ€æœ¯ä¸Šè¦å¤æ‚ä¸€ç‚¹ï¼Œå› ä¸ºè¿ç»­éšæœºå˜é‡çš„æ¦‚ç‡ç­‰äºé›¶ã€‚å¿½ç•¥è¿™ä¸€æŠ€æœ¯ç‚¹ï¼Œæˆ‘ä»¬é€šè¿‡ç±»æ¯”ç¦»æ•£æƒ…å†µï¼Œç®€å•åœ°å®šä¹‰ç»™å®š$X &#x3D; x$çš„æ¡ä»¶æ¦‚ç‡å¯†åº¦ä¸ºï¼š<br>$$<br>f_{Y | X}(y | x)&#x3D;\frac{f_{X Y}(x, y)}{f_{X}(x)}<br>$$<br>å‡è®¾åˆ†æ¯ä¸ç­‰äº0ã€‚</p><h4 id="3-5-è´å¶æ–¯å®šç†"><a href="#3-5-è´å¶æ–¯å®šç†" class="headerlink" title="3.5 è´å¶æ–¯å®šç†"></a>3.5 è´å¶æ–¯å®šç†</h4><p>å½“è¯•å›¾æ¨å¯¼ä¸€ä¸ªå˜é‡ç»™å®šå¦ä¸€ä¸ªå˜é‡çš„æ¡ä»¶æ¦‚ç‡è¡¨è¾¾å¼æ—¶ï¼Œç»å¸¸å‡ºç°çš„ä¸€ä¸ªæœ‰ç”¨å…¬å¼æ˜¯<strong>è´å¶æ–¯å®šç†</strong>ã€‚</p><p>å¯¹äºç¦»æ•£éšæœºå˜é‡$X$å’Œ$Y$ï¼š<br>$$<br>P_{Y | X}(y | x)&#x3D;\frac{ {P_{XY} }(x, y)}{P_{X}(x)}&#x3D;\frac{P_{X | Y}(x | y) P_{Y}(y)}{\sum_{y^{\prime} \in V a l(Y)} P_{X | Y}\left(x | y^{\prime}\right) P_{Y}\left(y^{\prime}\right)}<br>$$</p><p>å¯¹äºè¿ç»­éšæœºå˜é‡$X$å’Œ$Y$ï¼š</p><p>$$<br>f_{Y | X}(y | x)&#x3D;\frac{f_{X Y}(x, y)}{f_{X}(x)}&#x3D;\frac{f_{X | Y}(x | y) f_{Y}(y)}{\int_{-\infty}^{\infty} f_{X | Y}\left(x | y^{\prime}\right) f_{Y}\left(y^{\prime}\right) d y^{\prime} }<br>$$</p><h4 id="3-6-ç‹¬ç«‹æ€§"><a href="#3-6-ç‹¬ç«‹æ€§" class="headerlink" title="3.6 ç‹¬ç«‹æ€§"></a>3.6 ç‹¬ç«‹æ€§</h4><p>å¦‚æœå¯¹äº$X$å’Œ$Y$çš„æ‰€æœ‰å€¼ï¼Œ$F_{XY}(x,y) &#x3D; F_X(x)F_Y(y)$ï¼Œåˆ™ä¸¤ä¸ªéšæœºå˜é‡$X$å’Œ$Y$æ˜¯ç‹¬ç«‹çš„ã€‚ç­‰ä»·åœ°ï¼Œ</p><ul><li>å¯¹äºç¦»æ•£éšæœºå˜é‡, å¯¹äºä»»æ„$x \in Val(X)$, $y \in Val(Y)$ ï¼Œ$p_{XY}(x,y) &#x3D; p_X (x)p_Y (y)$ã€‚</li><li>å¯¹äºç¦»æ•£éšæœºå˜é‡, $p_Y |X (y|x) &#x3D; p_Y (y)$å½“å¯¹äºä»»æ„$y \in Val(Y)$ä¸”$p_X (x) \not&#x3D; 0$ã€‚</li><li>å¯¹äºè¿ç»­éšæœºå˜é‡, $f_{XY}(x,y) &#x3D; f_X (x)f_Y(y)$ å¯¹äºä»»æ„ $x,y \in \mathbb{R}$ã€‚</li><li>å¯¹äºè¿ç»­éšæœºå˜é‡, $f_{Y |X} (y|x) &#x3D; f_Y (y)$ ï¼Œå½“$f_X (x)\not &#x3D; 0$å¯¹äºä»»æ„$y \in \mathbb{R}$ã€‚</li></ul><p>éæ­£å¼åœ°è¯´ï¼Œå¦‚æœâ€œçŸ¥é“â€ä¸€ä¸ªå˜é‡çš„å€¼æ°¸è¿œä¸ä¼šå¯¹å¦ä¸€ä¸ªå˜é‡çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒæœ‰ä»»ä½•å½±å“ï¼Œé‚£ä¹ˆä¸¤ä¸ªéšæœºå˜é‡$X$å’Œ$Y$æ˜¯ç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ åªè¦çŸ¥é“$f(x)$å’Œ$f(y)$å°±çŸ¥é“å…³äºè¿™å¯¹å˜é‡$(Xï¼ŒY)$çš„æ‰€æœ‰ä¿¡æ¯ã€‚ä»¥ä¸‹å¼•ç†å°†è¿™ä¸€è§‚å¯Ÿå½¢å¼åŒ–:</p><p><strong>å¼•ç†3.1</strong> </p><p>å¦‚æœ$X$å’Œ$Y$æ˜¯ç‹¬ç«‹çš„ï¼Œé‚£ä¹ˆå¯¹äºä»»ä½•$Aï¼ŒBâŠ† \mathbb{R}$ï¼Œæˆ‘ä»¬æœ‰ï¼š<br>$$<br>P(X \in A, Y \in B)&#x3D;P(X \in A) P(Y \in B)<br>$$<br>åˆ©ç”¨ä¸Šè¿°å¼•ç†ï¼Œæˆ‘ä»¬å¯ä»¥è¯æ˜å¦‚æœ$X$ä¸$Y$æ— å…³ï¼Œé‚£ä¹ˆ$X$çš„ä»»ä½•å‡½æ•°éƒ½ä¸$Y$çš„ä»»ä½•å‡½æ•°æ— å…³ã€‚</p><h4 id="3-7-æœŸæœ›å’Œåæ–¹å·®"><a href="#3-7-æœŸæœ›å’Œåæ–¹å·®" class="headerlink" title="3.7 æœŸæœ›å’Œåæ–¹å·®"></a>3.7 æœŸæœ›å’Œåæ–¹å·®</h4><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªç¦»æ•£çš„éšæœºå˜é‡$X$ï¼Œ$Y$å¹¶ä¸”$g : \mathbf{R}^{2} \longrightarrow \mathbf{R}$æ˜¯è¿™ä¸¤ä¸ªéšæœºå˜é‡çš„å‡½æ•°ã€‚é‚£ä¹ˆ$g$çš„æœŸæœ›å€¼ä»¥å¦‚ä¸‹æ–¹å¼å®šä¹‰ï¼š<br>$$<br>E[g(X, Y)] \triangleq \sum_{x \in V a l(X)} \sum_{y \in V a l(Y)} g(x, y) p_{X Y}(x, y)<br>$$<br>å¯¹äºè¿ç»­éšæœºå˜é‡$X$ï¼Œ$Y$ï¼Œç±»ä¼¼çš„è¡¨è¾¾å¼æ˜¯ï¼š<br>$$<br>E[g(X, Y)]&#x3D;\int_{-\infty}^{\infty} \int_{-\infty}^{\infty} g(x, y) f_{X Y}(x, y) d x d y<br>$$<br>æˆ‘ä»¬å¯ä»¥ç”¨æœŸæœ›çš„æ¦‚å¿µæ¥ç ”ç©¶ä¸¤ä¸ªéšæœºå˜é‡ä¹‹é—´çš„å…³ç³»ã€‚ç‰¹åˆ«åœ°ï¼Œä¸¤ä¸ªéšæœºå˜é‡çš„<strong>åæ–¹å·®</strong>å®šä¹‰ä¸ºï¼š<br>$$<br>{Cov}[X, Y] \triangleq E[(X-E[X])(Y-E[Y])]<br>$$<br>ä½¿ç”¨ç±»ä¼¼äºæ–¹å·®çš„æ¨å¯¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒé‡å†™ä¸ºï¼š<br>$$<br>\begin{aligned} {Cov}[X, Y] &amp;&#x3D;E[(X-E[X])(Y-E[Y])] \ &amp;&#x3D;E[X Y-X E[Y]-Y E[X]+E[X] E[Y]] \ &amp;&#x3D;E[X Y]-E[X] E[Y]-E[Y] E[X]+E[X] E[Y]] \ &amp;&#x3D;E[X Y]-E[X] E[Y] \end{aligned}<br>$$</p><p>åœ¨è¿™é‡Œï¼Œè¯´æ˜ä¸¤ç§åæ–¹å·®å½¢å¼ç›¸ç­‰çš„å…³é”®æ­¥éª¤æ˜¯ç¬¬ä¸‰ä¸ªç­‰å·ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³$E[X]$å’Œ$E[Y]$å®é™…ä¸Šæ˜¯å¸¸æ•°ï¼Œå¯ä»¥è¢«æå‡ºæ¥ã€‚å½“$cov[Xï¼ŒY] &#x3D; 0$æ—¶ï¼Œæˆ‘ä»¬è¯´$X$å’Œ$Y$ä¸ç›¸å…³ã€‚</p><p><strong>æ€§è´¨ï¼š</strong></p><ul><li>(æœŸæœ›çº¿æ€§) $E[f(X,Y ) + g(X,Y)] &#x3D; E[f(X,Y )] + E[g(X,Y)]$</li><li>$V ar[X + Y ] &#x3D; V ar[X] + V ar[Y ] + 2Cov[X,Y]$</li><li>å¦‚æœ$X$å’Œ$Y$ç›¸äº’ç‹¬ç«‹, é‚£ä¹ˆ $Cov[X,Y ] &#x3D; 0$</li><li>å¦‚æœ$X$å’Œ$Y$ç›¸äº’ç‹¬ç«‹, é‚£ä¹ˆ $E[f(X)g(Y )] &#x3D; E[f(X)]E[g(Y)]$.</li></ul><h4 id="3-8-å¸¸è§çš„äºŒç»´éšæœºå˜é‡"><a href="#3-8-å¸¸è§çš„äºŒç»´éšæœºå˜é‡" class="headerlink" title="3.8 å¸¸è§çš„äºŒç»´éšæœºå˜é‡"></a>3.8 å¸¸è§çš„äºŒç»´éšæœºå˜é‡</h4><p>(1) äºŒç»´å‡åŒ€åˆ†å¸ƒï¼š$(x,y) \sim U(D)$ ,$f(x,y) &#x3D; \begin{cases} \frac{1}{S(D)},(x,y) \in D \   0,å…¶ä»–  \end{cases}$</p><p>(2) äºŒç»´æ­£æ€åˆ†å¸ƒï¼š$(X,Y)\sim N(\mu_{1},\mu_{2},\sigma_{1}^{2},\sigma_{2}^{2},\rho)$,$(X,Y)\sim N(\mu_{1},\mu_{2},\sigma_{1}^{2},\sigma_{2}^{2},\rho)$</p><p>$f(x,y) &#x3D; \frac{1}{2\pi\sigma_{1}\sigma_{2}\sqrt{1 - \rho^{2} }}.\exp\left{ \frac{- 1}{2(1 - \rho^{2})}\lbrack\frac{ {(x - \mu_{1})}^{2} }{\sigma_{1}^{2} } - 2\rho\frac{(x - \mu_{1})(y - \mu_{2})}{\sigma_{1}\sigma_{2} } + \frac{ {(y - \mu_{2})}^{2} }{\sigma_{2}^{2} }\rbrack \right}$</p><h4 id="3-9-é‡è¦å…¬å¼ä¸ç»“è®º"><a href="#3-9-é‡è¦å…¬å¼ä¸ç»“è®º" class="headerlink" title="3.9 é‡è¦å…¬å¼ä¸ç»“è®º"></a>3.9 é‡è¦å…¬å¼ä¸ç»“è®º</h4><p>(1) è¾¹ç¼˜å¯†åº¦å…¬å¼ï¼š $f_{X}(x) &#x3D; \int_{- \infty}^{+ \infty}{f(x,y)dy,}$<br>$f_{Y}(y) &#x3D; \int_{- \infty}^{+ \infty}{f(x,y)dx}$</p><p>(2) $P\left{ \left( X,Y \right) \in D \right} &#x3D; \iint_{D}^{}{f\left( x,y \right){dxdy} }$</p><p>(3) è‹¥$(X,Y)$æœä»äºŒç»´æ­£æ€åˆ†å¸ƒ$N(\mu_{1},\mu_{2},\sigma_{1}^{2},\sigma_{2}^{2},\rho)$<br>åˆ™æœ‰ï¼š</p><ol><li><p>$X\sim N\left( \mu_{1},\sigma_{1}^{2} \right),Y\sim N(\mu_{2},\sigma_{2}^{2}).$</p></li><li><p>$X$ä¸$Y$ç›¸äº’ç‹¬ç«‹$\Leftrightarrow \rho &#x3D; 0$ï¼Œå³$X$ä¸$Y$ä¸ç›¸å…³ã€‚</p></li><li><p>$C_{1}X + C_{2}Y\sim N(C_{1}\mu_{1} + C_{2}\mu_{2},C_{1}^{2}\sigma_{1}^{2} + C_{2}^{2}\sigma_{2}^{2} + 2C_{1}C_{2}\sigma_{1}\sigma_{2}\rho)$</p></li><li><p>${\ X}$å…³äº$Y&#x3D;y$çš„æ¡ä»¶åˆ†å¸ƒä¸ºï¼š $N(\mu_{1} + \rho\frac{\sigma_{1} }{\sigma_{2} }(y - \mu_{2}),\sigma_{1}^{2}(1 - \rho^{2}))$</p></li><li><p>$Y$å…³äº$X &#x3D; x$çš„æ¡ä»¶åˆ†å¸ƒä¸ºï¼š $N(\mu_{2} + \rho\frac{\sigma_{2} }{\sigma_{1} }(x - \mu_{1}),\sigma_{2}^{2}(1 - \rho^{2}))$</p></li></ol><p>(4) è‹¥$X$ä¸$Y$ç‹¬ç«‹ï¼Œä¸”åˆ†åˆ«æœä»$N(\mu_{1},\sigma_{1}^{2}),N(\mu_{1},\sigma_{2}^{2}),$<br>åˆ™ï¼š$\left( X,Y \right)\sim N(\mu_{1},\mu_{2},\sigma_{1}^{2},\sigma_{2}^{2},0),$</p><p>$C_{1}X + C_{2}Y\tilde{\ }N(C_{1}\mu_{1} + C_{2}\mu_{2},C_{1}^{2}\sigma_{1}^{2} C_{2}^{2}\sigma_{2}^{2}).$</p><p>(5) è‹¥$X$ä¸$Y$ç›¸äº’ç‹¬ç«‹ï¼Œ$f\left( x \right)$å’Œ$g\left( x \right)$ä¸ºè¿ç»­å‡½æ•°ï¼Œ åˆ™$f\left( X \right)$å’Œ$g(Y)$ä¹Ÿç›¸äº’ç‹¬ç«‹ã€‚</p><h3 id="4-å¤šä¸ªéšæœºå˜é‡"><a href="#4-å¤šä¸ªéšæœºå˜é‡" class="headerlink" title="4. å¤šä¸ªéšæœºå˜é‡"></a>4. å¤šä¸ªéšæœºå˜é‡</h3><p>ä¸Šä¸€èŠ‚ä»‹ç»çš„æ¦‚å¿µå’Œæƒ³æ³•å¯ä»¥æ¨å¹¿åˆ°ä¸¤ä¸ªä»¥ä¸Šçš„éšæœºå˜é‡ã€‚ç‰¹åˆ«æ˜¯ï¼Œå‡è®¾æˆ‘ä»¬æœ‰$n$ä¸ªè¿ç»­éšæœºå˜é‡ï¼Œ$X _1 (\omega),X_2 (\omega),\cdots X_n (\omega)$ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œä¸ºäº†è¡¨ç¤ºç®€å•ï¼Œæˆ‘ä»¬åªå…³æ³¨è¿ç»­çš„æƒ…å†µï¼Œå¯¹ç¦»æ•£éšæœºå˜é‡çš„æ¨å¹¿å·¥ä½œç±»ä¼¼ã€‚</p><h4 id="4-1-åŸºæœ¬æ€§è´¨"><a href="#4-1-åŸºæœ¬æ€§è´¨" class="headerlink" title="4.1 åŸºæœ¬æ€§è´¨"></a>4.1 åŸºæœ¬æ€§è´¨</h4><p>æˆ‘ä»¬å¯ä»¥å®šä¹‰$X_1,X_2,\cdots,X_n$çš„<strong>è”åˆç´¯ç§¯åˆ†å¸ƒå‡½æ•°</strong>ã€<strong>è”åˆæ¦‚ç‡å¯†åº¦å‡½æ•°</strong>ï¼Œä»¥åŠç»™å®š$X_2,\cdots,X_n$æ—¶$X_1$çš„<strong>è¾¹ç¼˜æ¦‚ç‡å¯†åº¦å‡½æ•°</strong>ä¸ºï¼š<br>$$<br>F_{X_{1}, X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \ldots x_{n}\right)&#x3D;P\left(X_{1} \leq x_{1}, X_{2} \leq x_{2}, \ldots, X_{n} \leq x_{n}\right)<br>$$</p><p>$$<br>f_{X_{1}, X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \ldots x_{n}\right)&#x3D;\frac{\partial^{n} F_{X_{1}, X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \ldots x_{n}\right)}{\partial x_{1} \ldots \partial x_{n} }<br>$$</p><p>$$<br>f_{X_{1} }\left(X_{1}\right)&#x3D;\int_{-\infty}^{\infty} \cdots \int_{-\infty}^{\infty} f_{X_{1}, X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \ldots x_{n}\right) d x_{2} \ldots d x_{n}<br>$$</p><p>$$<br>f_{X_{1} | X_{2}, \ldots, X_{n} }\left(x_{1} | x_{2}, \dots x_{n}\right)&#x3D;\frac{f_{X_{1}, X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \dots x_{n}\right)}{f_{X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \ldots x_{n}\right)}<br>$$</p><p>ä¸ºäº†è®¡ç®—äº‹ä»¶$A \subseteq \mathbb{R}^{n}$çš„æ¦‚ç‡ï¼Œæˆ‘ä»¬æœ‰ï¼š<br>$$<br>P\left(\left(x_{1}, x_{2}, \ldots x_{n}\right) \in A\right)&#x3D;\int_{\left(x_{1}, x_{2}, \ldots x_{n}\right) \in A} f_{X_{1}, X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \ldots x_{n}\right) d x_{1} d x_{2} \ldots d x_{n}<br>$$<br><strong>é“¾å¼æ³•åˆ™ï¼š</strong></p><p>ä»å¤šä¸ªéšæœºå˜é‡çš„æ¡ä»¶æ¦‚ç‡çš„å®šä¹‰ä¸­ï¼Œå¯ä»¥çœ‹å‡ºï¼š<br>$$<br>\begin{aligned} f\left(x_{1}, x_{2}, \ldots, x_{n}\right) &amp;&#x3D;f\left(x_{n} | x_{1}, x_{2} \ldots, x_{n-1}\right) f\left(x_{1}, x_{2} \ldots, x_{n-1}\right) \ &amp;&#x3D;f\left(x_{n} | x_{1}, x_{2} \ldots, x_{n-1}\right) f\left(x_{n-1} | x_{1}, x_{2} \ldots, x_{n-2}\right) f\left(x_{1}, x_{2} \ldots, x_{n-2}\right) \ &amp;&#x3D;\cdots&#x3D;f\left(x_{1}\right) \prod_{i&#x3D;2}^{n} f\left(x_{i} | x_{1}, \ldots, x_{i-1}\right) \end{aligned}<br>$$</p><p>ç‹¬ç«‹æ€§:å¯¹äºå¤šä¸ªäº‹ä»¶ï¼Œ$A_1,\cdots ,A_k$,æˆ‘ä»¬è¯´$A_1,\cdots ,A_k$ æ˜¯ç›¸äº’ç‹¬ç«‹çš„,å½“å¯¹äºä»»ä½•å­é›†$S \subseteq {1ï¼Œ2,\cdots,k}$ï¼Œæˆ‘ä»¬æœ‰ï¼š<br>$$<br>P\left(\cap_{i \in S} A_{i}\right)&#x3D;\prod_{i \in S} P\left(A_{i}\right)<br>$$</p><p>åŒæ ·ï¼Œæˆ‘ä»¬è¯´éšæœºå˜é‡$X_1,X_2,\cdots,X_n$æ˜¯ç‹¬ç«‹çš„ï¼Œå¦‚æœï¼š</p><p>$$<br>f(x_1,\cdots,x_n)&#x3D;f(x_1)f(x_2)\cdots f(x_n)<br>$$</p><p>è¿™é‡Œï¼Œç›¸äº’ç‹¬ç«‹æ€§çš„å®šä¹‰åªæ˜¯ä¸¤ä¸ªéšæœºå˜é‡ç‹¬ç«‹æ€§åˆ°å¤šä¸ªéšæœºå˜é‡çš„è‡ªç„¶æ¨å¹¿ã€‚ </p><p>ç‹¬ç«‹éšæœºå˜é‡ç»å¸¸å‡ºç°åœ¨æœºå™¨å­¦ä¹ ç®—æ³•ä¸­ï¼Œå…¶ä¸­æˆ‘ä»¬å‡è®¾å±äºè®­ç»ƒé›†çš„è®­ç»ƒæ ·æœ¬ä»£è¡¨æ¥è‡ªæŸä¸ªæœªçŸ¥æ¦‚ç‡åˆ†å¸ƒçš„ç‹¬ç«‹æ ·æœ¬ã€‚ä¸ºäº†æ˜ç¡®ç‹¬ç«‹æ€§çš„é‡è¦æ€§ï¼Œè€ƒè™‘ä¸€ä¸ªâ€œåçš„â€è®­ç»ƒé›†ï¼Œæˆ‘ä»¬é¦–å…ˆä»æŸä¸ªæœªçŸ¥åˆ†å¸ƒä¸­æŠ½å–ä¸€ä¸ªè®­ç»ƒæ ·æœ¬$(x^{ (1)},y^{(1)})$ï¼Œç„¶åå°†å®Œå…¨ç›¸åŒçš„è®­ç»ƒæ ·æœ¬çš„$m-1$ä¸ªå‰¯æœ¬æ·»åŠ åˆ°è®­ç»ƒé›†ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æœ‰ï¼š<br>$$<br>P\left(\left(x^{(1)}, y^{(1)}\right), \ldots .\left(x^{(m)}, y^{(m)}\right)\right) \neq \prod_{i&#x3D;1}^{m} P\left(x^{(i)}, y^{(i)}\right)<br>$$</p><p>å°½ç®¡è®­ç»ƒé›†çš„å¤§å°ä¸º$m$ï¼Œä½†è¿™äº›ä¾‹å­å¹¶ä¸ç‹¬ç«‹ï¼è™½ç„¶è¿™é‡Œæè¿°çš„è¿‡ç¨‹æ˜¾ç„¶ä¸æ˜¯ä¸ºæœºå™¨å­¦ä¹ ç®—æ³•å»ºç«‹è®­ç»ƒé›†çš„æ˜æ™ºæ–¹æ³•ï¼Œä½†æ˜¯äº‹å®è¯æ˜ï¼Œåœ¨å®è·µä¸­ï¼Œæ ·æœ¬çš„ä¸ç‹¬ç«‹æ€§ç¡®å®ç»å¸¸å‡ºç°ï¼Œå¹¶ä¸”å®ƒå…·æœ‰å‡å°è®­ç»ƒé›†çš„â€œæœ‰æ•ˆå¤§å°â€çš„æ•ˆæœã€‚</p><h4 id="4-2-éšæœºå‘é‡"><a href="#4-2-éšæœºå‘é‡" class="headerlink" title="4.2 éšæœºå‘é‡"></a>4.2 éšæœºå‘é‡</h4><p>å‡è®¾æˆ‘ä»¬æœ‰nä¸ªéšæœºå˜é‡ã€‚å½“æŠŠæ‰€æœ‰è¿™äº›éšæœºå˜é‡æ”¾åœ¨ä¸€èµ·å·¥ä½œæ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå‘ç°æŠŠå®ƒä»¬æ”¾åœ¨ä¸€ä¸ªå‘é‡ä¸­æ˜¯å¾ˆæ–¹ä¾¿çš„.æˆ‘ä»¬ç§°ç»“æœå‘é‡ä¸ºéšæœºå‘é‡(æ›´æ­£å¼åœ°è¯´ï¼Œéšæœºå‘é‡æ˜¯ä»$\Omega$åˆ°$\mathbb{R}^n$çš„æ˜ å°„)ã€‚åº”è¯¥æ¸…æ¥šçš„æ˜¯ï¼Œéšæœºå‘é‡åªæ˜¯å¤„ç†$n$ä¸ªéšæœºå˜é‡çš„ä¸€ç§æ›¿ä»£ç¬¦å·ï¼Œå› æ­¤è”åˆæ¦‚ç‡å¯†åº¦å‡½æ•°å’Œç»¼åˆå¯†åº¦å‡½æ•°çš„æ¦‚å¿µä¹Ÿå°†é€‚ç”¨äºéšæœºå‘é‡ã€‚</p><p><strong>æœŸæœ›:</strong></p><p>è€ƒè™‘$g : \mathbb{R}^n \rightarrow \mathbb{R}$ä¸­çš„ä»»æ„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„æœŸæœ›å€¼ è¢«å®šä¹‰ä¸º<br>$$<br>E[g(X)]&#x3D;\int_{\mathbb{R}^{n} } g\left(x_{1}, x_{2}, \ldots, x_{n}\right) f_{X_{1}, X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \ldots x_{n}\right) d x_{1} d x_{2} \ldots d x_{n}E[g(X)]\&#x3D;\int_{\mathbb{R}^{n} } g\left(x_{1}, x_{2}, \ldots, x_{n}\right) f_{X_{1}, X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \ldots x_{n}\right) d x_{1} d x_{2} \ldots d x_{n}<br>$$<br>å…¶ä¸­ï¼Œ$\int_{\mathbb{R}^{n} }$æ˜¯ä»$-\infty$åˆ°$\infty$çš„$n$ä¸ªè¿ç»­ç§¯åˆ†ã€‚å¦‚æœ$g$æ˜¯ä»$\mathbb{R}^n$åˆ°$\mathbb{R}^m$çš„å‡½æ•°ï¼Œé‚£ä¹ˆ$g$çš„æœŸæœ›å€¼æ˜¯è¾“å‡ºå‘é‡çš„å…ƒç´ æœŸæœ›å€¼ï¼Œå³ï¼Œå¦‚æœ$g$æ˜¯ï¼š</p><p>$$<br>g(x)&#x3D;\left[\begin{array}{c}{g_{1}(x)} \ {g_{2}(x)} \ {\vdots} \ {g_{m}(x)}\end{array}\right]<br>$$</p><p>é‚£ä¹ˆï¼Œ<br>$$<br>E[g(X)]&#x3D;\left[\begin{array}{c}{E\left[g_{1}(X)\right]} \ {E\left[g_{2}(X)\right]} \ {\vdots} \ {E\left[g_{m}(X)\right]}\end{array}\right]<br>$$</p><p>åæ–¹å·®çŸ©é˜µï¼šå¯¹äºç»™å®šçš„éšæœºå‘é‡$X:\Omega\rightarrow \mathbb{R}^n$ï¼Œå…¶åæ–¹å·®çŸ©é˜µ$\Sigma$æ˜¯$n \times n$å¹³æ–¹çŸ©é˜µï¼Œå…¶è¾“å…¥ç”±$\Sigma_{i j}&#x3D;{Cov}\left[X_{i}, X_{j}\right]$ç»™å‡ºã€‚ä»åæ–¹å·®çš„å®šä¹‰æ¥çœ‹ï¼Œæˆ‘ä»¬æœ‰ï¼š<br>$$<br>\begin{aligned}<br>\begin{equation}<br>\Sigma&#x3D;\left[\begin{array}{ccc}{ {Cov}\left[X_{1}, X_{1}\right]} &amp; {\cdots} &amp; { {Cov}\left[X_{1}, X_{n}\right]} \ {\vdots} &amp; {\ddots} &amp; {\vdots} \ { {Cov}\left[X_{n}, X_{1}\right]} &amp; {\cdots} &amp; { {Cov}\left[X_{n}, X_{n}\right]}\end{array}\right]\</p><p>&#x3D;\left[\begin{array}{ccc}{E\left[X_{1}^{2}\right]-E\left[X_{1}\right] E\left[X_{1}\right]} &amp; {\cdots} &amp; {E\left[X_{1} X_{n}\right]-E\left[X_{1}\right] E\left[X_{n}\right]} \ {\vdots} &amp; {\ddots} &amp; {\vdots} \ {E\left[X_{n} X_{1}\right]-E\left[X_{n}\right] E\left[X_{1}\right]} &amp; {\cdots} &amp; {E\left[X_{n}^{2}\right]-E\left[X_{n}\right] E\left[X_{n}\right]}\end{array}\right]\</p><p>&#x3D;\left[\begin{array}{ccc}{E\left[X_{1}^{2}\right]} &amp; {\cdots} &amp; {E\left[X_{1} X_{n}\right]} \ {\vdots} &amp; {\ddots} &amp; {\vdots} \ {E\left[X_{n} X_{1}\right]} &amp; {\cdots} &amp; {E\left[X_{n}^{2}\right]}\end{array}\right]-\left[\begin{array}{ccc}{E\left[X_{1}\right] E\left[X_{1}\right]} &amp; {\cdots} &amp; {E\left[X_{1}\right] E\left[X_{n}\right]} \ {\vdots} &amp; {\ddots} &amp; {\vdots} \ {E\left[X_{n}\right] E\left[X_{1}\right]} &amp; {\cdots} &amp; {E\left[X_{n}\right] E\left[X_{n}\right]}\end{array}\right]\<br>&#x3D;E\left[X X^{T}\right]-E[X] E[X]^{T}&#x3D;\ldots&#x3D;E\left[(X-E[X])(X-E[X])^{T}\right]</p><p>\end{equation}<br>\end{aligned}<br>$$<br>å…¶ä¸­çŸ©é˜µæœŸæœ›ä»¥æ˜æ˜¾çš„æ–¹å¼å®šä¹‰ã€‚<br>åæ–¹å·®çŸ©é˜µæœ‰è®¸å¤šæœ‰ç”¨çš„å±æ€§:</p><ul><li>$\Sigma \succeq 0$ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œ$\Sigma$æ˜¯æ­£åŠå®šçš„ã€‚ </li><li>$\Sigma&#x3D;\Sigma^T$ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œ$\Sigma$æ˜¯å¯¹ç§°çš„ã€‚</li></ul><h4 id="4-3-å¤šå…ƒé«˜æ–¯åˆ†å¸ƒ"><a href="#4-3-å¤šå…ƒé«˜æ–¯åˆ†å¸ƒ" class="headerlink" title="4.3 å¤šå…ƒé«˜æ–¯åˆ†å¸ƒ"></a>4.3 å¤šå…ƒé«˜æ–¯åˆ†å¸ƒ</h4><p>éšæœºå‘é‡ä¸Šæ¦‚ç‡åˆ†å¸ƒçš„ä¸€ä¸ªç‰¹åˆ«é‡è¦çš„ä¾‹å­å«åšå¤šå…ƒé«˜æ–¯æˆ–å¤šå…ƒæ­£æ€åˆ†å¸ƒã€‚éšæœºå‘é‡$X\in \mathbb{R}^n$è¢«è®¤ä¸ºå…·æœ‰å¤šå…ƒæ­£æ€(æˆ–é«˜æ–¯)åˆ†å¸ƒï¼Œå½“å…¶å…·æœ‰å‡å€¼$\mu \in \mathbb{R}^n$å’Œåæ–¹å·®çŸ©é˜µ$\Sigma \in \mathbb{S}<em>{++}^{n}$(å…¶ä¸­$ \mathbb{S}</em>{++}^{n}$æŒ‡å¯¹ç§°æ­£å®š$n \times n$çŸ©é˜µçš„ç©ºé—´)</p><p>$f_{X_{1}, X_{2}, \ldots, X_{n} }\left(x_{1}, x_{2}, \ldots, x_{n} ; \mu, \Sigma\right)&#x3D;\frac{1}{(2 \pi)^{n &#x2F; 2}|\Sigma|^{1 &#x2F; 2} } \exp \left(-\frac{1}{2}(x-\mu)^{T} \Sigma^{-1}(x-\mu)\right)$</p><p>æˆ‘ä»¬æŠŠå®ƒå†™æˆ$X \sim \mathcal{N}(\mu, \Sigma)$ã€‚è¯·æ³¨æ„ï¼Œåœ¨$n &#x3D; 1$çš„æƒ…å†µä¸‹ï¼Œå®ƒé™ç»´æˆæ™®é€šæ­£æ€åˆ†å¸ƒï¼Œå…¶ä¸­å‡å€¼å‚æ•°ä¸º$\mu_1$ï¼Œæ–¹å·®ä¸º$\Sigma_{11}$ã€‚ </p><p>ä¸€èˆ¬æ¥è¯´ï¼Œé«˜æ–¯éšæœºå˜é‡åœ¨æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡ä¸­éå¸¸æœ‰ç”¨ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ï¼š</p><p>é¦–å…ˆï¼Œåœ¨ç»Ÿè®¡ç®—æ³•ä¸­å¯¹â€œå™ªå£°â€å»ºæ¨¡æ—¶ï¼Œå®ƒä»¬éå¸¸å¸¸è§ã€‚é€šå¸¸ï¼Œå™ªå£°å¯ä»¥è¢«è®¤ä¸ºæ˜¯å½±å“æµ‹é‡è¿‡ç¨‹çš„å¤§é‡å°çš„ç‹¬ç«‹éšæœºæ‰°åŠ¨çš„ç´¯ç§¯ï¼›æ ¹æ®ä¸­å¿ƒæé™å®šç†ï¼Œç‹¬ç«‹éšæœºå˜é‡çš„æ€»å’Œå°†è¶‹å‘äºâ€œçœ‹èµ·æ¥åƒé«˜æ–¯â€ã€‚</p><p>å…¶æ¬¡ï¼Œé«˜æ–¯éšæœºå˜é‡ä¾¿äºè®¸å¤šåˆ†ææ“ä½œï¼Œå› ä¸ºå®é™…ä¸­å‡ºç°çš„è®¸å¤šæ¶‰åŠé«˜æ–¯åˆ†å¸ƒçš„ç§¯åˆ†éƒ½æœ‰ç®€å•çš„å°é—­å½¢å¼è§£ã€‚æˆ‘ä»¬å°†åœ¨æœ¬è¯¾ç¨‹ç¨åé‡åˆ°è¿™ç§æƒ…å†µã€‚</p><h3 id="5-éšæœºå˜é‡çš„æ•°å­—ç‰¹å¾"><a href="#5-éšæœºå˜é‡çš„æ•°å­—ç‰¹å¾" class="headerlink" title="5. éšæœºå˜é‡çš„æ•°å­—ç‰¹å¾"></a>5. éšæœºå˜é‡çš„æ•°å­—ç‰¹å¾</h3><p>ä¸€äº›å…·ä½“çš„æ¨å¯¼å‰æ–‡æœ‰è¿‡è¯¦ç»†çš„é˜è¿°ï¼Œè¿™é‡Œä¸åŠ ç¼€è¿°ï¼Œæ­¤å¤„ä»…ä½œæ€»ç»“ç”¨</p><h4 id="5-1-æ•°å­¦æœŸæœ›"><a href="#5-1-æ•°å­¦æœŸæœ›" class="headerlink" title="5.1 æ•°å­¦æœŸæœ›"></a><strong>5.1 æ•°å­¦æœŸæœ›</strong></h4><p>ç¦»æ•£å‹ï¼š$P\left{ X &#x3D; x_{i} \right} &#x3D; p_{i},E(X) &#x3D; \sum_{i}^{}{x_{i}p_{i} }$ï¼›</p><p>è¿ç»­å‹ï¼š $X\sim f(x),E(X) &#x3D; \int_{- \infty}^{+ \infty}{xf(x)dx}$</p><p>æ€§è´¨ï¼š</p><p>(1) $E(C) &#x3D; C,E\lbrack E(X)\rbrack &#x3D; E(X)$</p><p>(2) $E(C_{1}X + C_{2}Y) &#x3D; C_{1}E(X) + C_{2}E(Y)$</p><p>(3) è‹¥$X$å’Œ$Y$ç‹¬ç«‹ï¼Œåˆ™$E(XY) &#x3D; E(X)E(Y)$</p><p>(4)$\left\lbrack E(XY) \right\rbrack^{2} \leq E(X^{2})E(Y^{2})$</p><h4 id="5-2-æ–¹å·®ï¼š"><a href="#5-2-æ–¹å·®ï¼š" class="headerlink" title="5.2 æ–¹å·®ï¼š"></a><strong>5.2 æ–¹å·®</strong>ï¼š</h4><p>$D(X) &#x3D; E\left\lbrack X - E(X) \right\rbrack^{2} &#x3D; E(X^{2}) - \left\lbrack E(X) \right\rbrack^{2}$</p><h4 id="5-3-æ ‡å‡†å·®ï¼š"><a href="#5-3-æ ‡å‡†å·®ï¼š" class="headerlink" title="5.3 æ ‡å‡†å·®ï¼š"></a><strong>5.3 æ ‡å‡†å·®</strong>ï¼š</h4><ul><li><strong>ç¦»æ•£å‹ï¼š</strong>$D(X) &#x3D; \sum_{i}^{}{\left\lbrack x_{i} - E(X) \right\rbrack^{2}p_{i} }$</li><li><strong>è¿ç»­å‹ï¼š</strong>$D(X) &#x3D; {\int_{- \infty}^{+ \infty}\left\lbrack x - E(X) \right\rbrack}^{2}f(x)dx$</li></ul><p>æ€§è´¨ï¼š</p><p>(1)$\ D(C) &#x3D; 0,D\lbrack E(X)\rbrack &#x3D; 0,D\lbrack D(X)\rbrack &#x3D; 0$</p><p>(2) $X$ä¸$Y$ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™$D(X \pm Y) &#x3D; D(X) + D(Y)$</p><p>(3)$\ D\left( C_{1}X + C_{2} \right) &#x3D; C_{1}^{2}D\left( X \right)$</p><p>(4) ä¸€èˆ¬æœ‰ $D(X \pm Y) &#x3D; D(X) + D(Y) \pm 2Cov(X,Y) &#x3D; D(X) + D(Y) \pm<br>2\rho\sqrt{D(X)}\sqrt{D(Y)}$</p><p>(5)$\ D\left( X \right) &lt; E\left( X - C \right)^{2},C \neq E\left( X \right)$</p><p>(6)$\ D(X) &#x3D; 0 \Leftrightarrow P\left{ X &#x3D; C \right} &#x3D; 1$</p><h4 id="5-4-éšæœºå˜é‡å‡½æ•°çš„æ•°å­¦æœŸæœ›"><a href="#5-4-éšæœºå˜é‡å‡½æ•°çš„æ•°å­¦æœŸæœ›" class="headerlink" title="5.4 éšæœºå˜é‡å‡½æ•°çš„æ•°å­¦æœŸæœ›"></a><strong>5.4 éšæœºå˜é‡å‡½æ•°çš„æ•°å­¦æœŸæœ›</strong></h4><p>(1) å¯¹äºå‡½æ•°$Y &#x3D; g(x)$</p><p>$X$ä¸ºç¦»æ•£å‹ï¼š$P{ X &#x3D; x_{i}} &#x3D; p_{i},E(Y) &#x3D; \sum_{i}^{}{g(x_{i})p_{i} }$ï¼›</p><p>$X$ä¸ºè¿ç»­å‹ï¼š$X\sim f(x),E(Y) &#x3D; \int_{- \infty}^{+ \infty}{g(x)f(x)dx}$</p><p>(2) $Z &#x3D; g(X,Y)$;$\left( X,Y \right)\sim P{ X &#x3D; x_{i},Y &#x3D; y_{j}} &#x3D; p_{ {ij} }$; $E(Z) &#x3D; \sum_{i}^{}{\sum_{j}^{}{g(x_{i},y_{j})p_{ {ij} }} }$ $\left( X,Y \right)\sim f(x,y)$;$E(Z) &#x3D; \int_{- \infty}^{+ \infty}{\int_{- \infty}^{+ \infty}{g(x,y)f(x,y)dxdy} }$</p><h4 id="5-5-åæ–¹å·®"><a href="#5-5-åæ–¹å·®" class="headerlink" title="5.5 åæ–¹å·®"></a><strong>5.5 åæ–¹å·®</strong></h4><p>$Cov(X,Y) &#x3D; E\left\lbrack (X - E(X)(Y - E(Y)) \right\rbrack$</p><h4 id="5-6-ç›¸å…³ç³»æ•°"><a href="#5-6-ç›¸å…³ç³»æ•°" class="headerlink" title="5.6 ç›¸å…³ç³»æ•°"></a><strong>5.6 ç›¸å…³ç³»æ•°</strong></h4><p>$\rho_{ {XY} } &#x3D; \frac{Cov(X,Y)}{\sqrt{D(X)}\sqrt{D(Y)} }$,$k$é˜¶åŸç‚¹çŸ© $E(X^{k})$;<br>$k$é˜¶ä¸­å¿ƒçŸ© $E\left{ {\lbrack X - E(X)\rbrack}^{k} \right}$</p><p>æ€§è´¨ï¼š</p><p>(1)$\ Cov(X,Y) &#x3D; Cov(Y,X)$</p><p>(2)$\ Cov(aX,bY) &#x3D; abCov(Y,X)$</p><p>(3)$\ Cov(X_{1} + X_{2},Y) &#x3D; Cov(X_{1},Y) + Cov(X_{2},Y)$</p><p>(4)$\ \left| \rho\left( X,Y \right) \right| \leq 1$</p><p>(5) $\ \rho\left( X,Y \right) &#x3D; 1 \Leftrightarrow P\left( Y &#x3D; aX + b \right) &#x3D; 1$ ï¼Œå…¶ä¸­$a &gt; 0$</p><p>$\rho\left( X,Y \right) &#x3D; - 1 \Leftrightarrow P\left( Y &#x3D; aX + b \right) &#x3D; 1$<br>ï¼Œå…¶ä¸­$a &lt; 0$</p><h4 id="5-7-é‡è¦å…¬å¼ä¸ç»“è®º"><a href="#5-7-é‡è¦å…¬å¼ä¸ç»“è®º" class="headerlink" title="5.7 é‡è¦å…¬å¼ä¸ç»“è®º"></a><strong>5.7 é‡è¦å…¬å¼ä¸ç»“è®º</strong></h4><p>(1)$\ D(X) &#x3D; E(X^{2}) - E^{2}(X)$</p><p>(2)$\ Cov(X,Y) &#x3D; E(XY) - E(X)E(Y)$</p><p>(3) $\left| \rho\left( X,Y \right) \right| \leq 1,$ä¸” $\rho\left( X,Y \right) &#x3D; 1 \Leftrightarrow P\left( Y &#x3D; aX + b \right) &#x3D; 1$ï¼Œå…¶ä¸­$a &gt; 0$</p><p>$\rho\left( X,Y \right) &#x3D; - 1 \Leftrightarrow P\left( Y &#x3D; aX + b \right) &#x3D; 1$ï¼Œå…¶ä¸­$a &lt; 0$</p><p>(4) ä¸‹é¢ 5 ä¸ªæ¡ä»¶äº’ä¸ºå……è¦æ¡ä»¶ï¼š</p><p>$\rho(X,Y) &#x3D; 0$ $\Leftrightarrow Cov(X,Y) &#x3D; 0$ $\Leftrightarrow E(X,Y) &#x3D; E(X)E(Y)$ $\Leftrightarrow D(X + Y) &#x3D; D(X) + D(Y)$ $\Leftrightarrow  D(X - Y) &#x3D; D(X) + D(Y)$</p><p>æ³¨ï¼š$X$ä¸$Y$ç‹¬ç«‹ä¸ºä¸Šè¿° 5 ä¸ªæ¡ä»¶ä¸­ä»»ä½•ä¸€ä¸ªæˆç«‹çš„å……åˆ†æ¡ä»¶ï¼Œä½†éå¿…è¦æ¡ä»¶ã€‚</p><h3 id="6-æ•°ç†ç»Ÿè®¡çš„åŸºæœ¬æ¦‚å¿µ"><a href="#6-æ•°ç†ç»Ÿè®¡çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="6. æ•°ç†ç»Ÿè®¡çš„åŸºæœ¬æ¦‚å¿µ"></a>6. æ•°ç†ç»Ÿè®¡çš„åŸºæœ¬æ¦‚å¿µ</h3><h4 id="6-1-åŸºæœ¬æ¦‚å¿µ"><a href="#6-1-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="6.1 åŸºæœ¬æ¦‚å¿µ"></a><strong>6.1 åŸºæœ¬æ¦‚å¿µ</strong></h4><p>æ€»ä½“ï¼šç ”ç©¶å¯¹è±¡çš„å…¨ä½“ï¼Œå®ƒæ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œç”¨$X$è¡¨ç¤ºã€‚</p><p>ä¸ªä½“ï¼šç»„æˆæ€»ä½“çš„æ¯ä¸ªåŸºæœ¬å…ƒç´ ã€‚</p><p>ç®€å•éšæœºæ ·æœ¬ï¼šæ¥è‡ªæ€»ä½“$X$çš„$n$ä¸ªç›¸äº’ç‹¬ç«‹ä¸”ä¸æ€»ä½“åŒåˆ†å¸ƒçš„éšæœºå˜é‡$X_{1},X_{2}\cdots,X_{n}$ï¼Œç§°ä¸ºå®¹é‡ä¸º$n$çš„ç®€å•éšæœºæ ·æœ¬ï¼Œç®€ç§°æ ·æœ¬ã€‚</p><p>ç»Ÿè®¡é‡ï¼šè®¾$X_{1},X_{2}\cdots,X_{n},$æ˜¯æ¥è‡ªæ€»ä½“$X$çš„ä¸€ä¸ªæ ·æœ¬ï¼Œ$g(X_{1},X_{2}\cdots,X_{n})$ï¼‰æ˜¯æ ·æœ¬çš„è¿ç»­å‡½æ•°ï¼Œä¸”$g()$ä¸­ä¸å«ä»»ä½•æœªçŸ¥å‚æ•°ï¼Œåˆ™ç§°$g(X_{1},X_{2}\cdots,X_{n})$ä¸ºç»Ÿè®¡é‡ã€‚</p><p>æ ·æœ¬å‡å€¼ï¼š$\overline{X} &#x3D; \frac{1}{n}\sum_{i &#x3D; 1}^{n}X_{i}$</p><p>æ ·æœ¬æ–¹å·®ï¼š$S^{2} &#x3D; \frac{1}{n - 1}\sum_{i &#x3D; 1}^{n}{(X_{i} - \overline{X})}^{2}$</p><p>æ ·æœ¬çŸ©ï¼šæ ·æœ¬$k$é˜¶åŸç‚¹çŸ©ï¼š$A_{k} &#x3D; \frac{1}{n}\sum_{i &#x3D; 1}^{n}X_{i}^{k},k &#x3D; 1,2,\cdots$</p><p>æ ·æœ¬$k$é˜¶ä¸­å¿ƒçŸ©ï¼š$B_{k} &#x3D; \frac{1}{n}\sum_{i &#x3D; 1}^{n}{(X_{i} - \overline{X})}^{k},k &#x3D; 1,2,\cdots$</p><h4 id="6-2-å¸¸ç”¨åˆ†å¸ƒ"><a href="#6-2-å¸¸ç”¨åˆ†å¸ƒ" class="headerlink" title="6.2 å¸¸ç”¨åˆ†å¸ƒ"></a><strong>6.2 å¸¸ç”¨åˆ†å¸ƒ</strong></h4><p>$\chi^{2}$åˆ†å¸ƒï¼š$\chi^{2} &#x3D; X_{1}^{2} + X_{2}^{2} + \cdots + X_{n}^{2}\sim\chi^{2}(n)$ï¼Œå…¶ä¸­$X_{1},X_{2}\cdots,X_{n},$ç›¸äº’ç‹¬ç«‹ï¼Œä¸”åŒæœä»$N(0,1)$</p><p>$t$åˆ†å¸ƒï¼š$T &#x3D; \frac{X}{\sqrt{Y&#x2F;n} }\sim t(n)$ ï¼Œå…¶ä¸­$X\sim N\left( 0,1 \right),Y\sim\chi^{2}(n),$ä¸”$X$ï¼Œ$Y$ ç›¸äº’ç‹¬ç«‹ã€‚</p><p>$F$åˆ†å¸ƒï¼š$F &#x3D; \frac{X&#x2F;n_{1} }{Y&#x2F;n_{2} }\sim F(n_{1},n_{2})$ï¼Œå…¶ä¸­$X\sim\chi^{2}\left( n_{1} \right),Y\sim\chi^{2}(n_{2}),$ä¸”$X$ï¼Œ$Y$ç›¸äº’ç‹¬ç«‹ã€‚</p><p>åˆ†ä½æ•°ï¼šè‹¥$P(X \leq x_{\alpha}) &#x3D; \alpha,$åˆ™ç§°$x_{\alpha}$ä¸º$X$çš„$\alpha$åˆ†ä½æ•°</p><h4 id="6-3-æ­£æ€æ€»ä½“çš„å¸¸ç”¨æ ·æœ¬åˆ†å¸ƒ"><a href="#6-3-æ­£æ€æ€»ä½“çš„å¸¸ç”¨æ ·æœ¬åˆ†å¸ƒ" class="headerlink" title="6.3 æ­£æ€æ€»ä½“çš„å¸¸ç”¨æ ·æœ¬åˆ†å¸ƒ"></a><strong>6.3 æ­£æ€æ€»ä½“çš„å¸¸ç”¨æ ·æœ¬åˆ†å¸ƒ</strong></h4><p>(1) è®¾$X_{1},X_{2}\cdots,X_{n}$ä¸ºæ¥è‡ªæ­£æ€æ€»ä½“$N(\mu,\sigma^{2})$çš„æ ·æœ¬ï¼Œ</p><p>$\overline{X} &#x3D; \frac{1}{n}\sum_{i &#x3D; 1}^{n}X_{i},S^{2} &#x3D; \frac{1}{n - 1}\sum_{i &#x3D; 1}^{n}{ {(X_{i} - \overline{X})}^{2},}$åˆ™ï¼š</p><ol><li><p>$\overline{X}\sim N\left( \mu,\frac{\sigma^{2} }{n} \right){\ \ }$æˆ–è€…$\frac{\overline{X} - \mu}{\frac{\sigma}{\sqrt{n} }}\sim N(0,1)$</p></li><li><p>$\frac{(n - 1)S^{2} }{\sigma^{2} } &#x3D; \frac{1}{\sigma^{2} }\sum_{i &#x3D; 1}^{n}{ {(X_{i} - \overline{X})}^{2}\sim\chi^{2}(n - 1)}$</p></li><li><p>$\frac{1}{\sigma^{2} }\sum_{i &#x3D; 1}^{n}{ {(X_{i} - \mu)}^{2}\sim\chi^{2}(n)}$</p></li></ol><p>4)${\ \ }\frac{\overline{X} - \mu}{S&#x2F;\sqrt{n} }\sim t(n - 1)$</p><h4 id="6-4-é‡è¦å…¬å¼ä¸ç»“è®º"><a href="#6-4-é‡è¦å…¬å¼ä¸ç»“è®º" class="headerlink" title="6.4 é‡è¦å…¬å¼ä¸ç»“è®º"></a><strong>6.4 é‡è¦å…¬å¼ä¸ç»“è®º</strong></h4><p>(1) å¯¹äº$\chi^{2}\sim\chi^{2}(n)$ï¼Œæœ‰$E(\chi^{2}(n)) &#x3D; n,D(\chi^{2}(n)) &#x3D; 2n;$</p><p>(2) å¯¹äº$T\sim t(n)$ï¼Œæœ‰$E(T) &#x3D; 0,D(T) &#x3D; \frac{n}{n - 2}(n &gt; 2)$ï¼›</p><p>(3) å¯¹äº$F\tilde{\ }F(m,n)$ï¼Œæœ‰ $\frac{1}{F}\sim F(n,m),F_{a&#x2F;2}(m,n) &#x3D; \frac{1}{F_{1 - a&#x2F;2}(n,m)};$</p><p>(4) å¯¹äºä»»æ„æ€»ä½“$X$ï¼Œæœ‰ $E(\overline{X}) &#x3D; E(X),E(S^{2}) &#x3D; D(X),D(\overline{X}) &#x3D; \frac{D(X)}{n}$(X)}{n}$</p>]]></content>
    
    
    <categories>
      
      <category>Machine Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Machine Learning</tag>
      
      <tag>Mathematics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”15.PySparkæ¡ˆä¾‹</title>
    <link href="/2022/02/01/BigData&amp;Linux/PySpark%E6%A1%88%E4%BE%8B/"/>
    <url>/2022/02/01/BigData&amp;Linux/PySpark%E6%A1%88%E4%BE%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ï¼é€‰é¢˜"><a href="#ä¸€ï¼é€‰é¢˜" class="headerlink" title="ä¸€ï¼é€‰é¢˜"></a>ä¸€ï¼é€‰é¢˜</h1><h2 id="1-1-èƒŒæ™¯"><a href="#1-1-èƒŒæ™¯" class="headerlink" title="1.1 èƒŒæ™¯"></a>1.1 èƒŒæ™¯</h2><p>ä» 1934 å¹´åˆ° 1963 å¹´ï¼Œæ—§é‡‘å±±å› å°†ä¸€äº›ä¸–ç•Œä¸Šæœ€è‡­åæ˜­è‘—çš„ç½ªçŠ¯å…³æŠ¼åœ¨æ— æ³•é€ƒè„±çš„å²›è€Œè‡­åæ˜­è‘—æ¶é­” ã€‚</p><p>ä»Šå¤©ï¼Œè¿™åº§åŸå¸‚ä»¥å…¶ç§‘æŠ€åœºæ™¯è€Œé—»åï¼Œè€Œä¸æ˜¯å®ƒçš„çŠ¯ç½ªå†å²ã€‚ä½†æ˜¯ï¼Œéšç€è´¢å¯Œä¸å¹³ç­‰çš„åŠ å‰§ã€ä½æˆ¿çŸ­ç¼ºä»¥åŠä¹˜å BART ä¸Šç­çš„æ˜‚è´µæ•°å­—ç©å…·çš„æ¿€å¢ï¼Œæµ·æ¹¾è¾¹çš„åŸå¸‚å¹¶ä¸ç¼ºä¹çŠ¯ç½ªã€‚</p><p>ä» Sunset åˆ° SOMAï¼Œä» Marina åˆ° Excelsiorï¼Œæœ¬æ¬¡æ¯”èµ›çš„æ•°æ®é›†æä¾›äº†æ—§é‡‘å±±æ‰€æœ‰ç¤¾åŒºè¿‘ 12 å¹´çš„çŠ¯ç½ªæŠ¥å‘Šã€‚ç»™å®šæ—¶é—´ã€åœ°ç‚¹å’Œä¸€å®šçš„æè¿°ï¼Œæ‚¨å¿…é¡»é¢„æµ‹å‘ç”Ÿçš„çŠ¯ç½ªç±»åˆ«ã€‚</p><h2 id="1-2-ä¸»è¦å·¥ä½œ"><a href="#1-2-ä¸»è¦å·¥ä½œ" class="headerlink" title="1.2 ä¸»è¦å·¥ä½œ"></a>1.2 ä¸»è¦å·¥ä½œ</h2><p>ä¸ºäº†è§£å†³ä¸Šè¿°æå‡ºçš„é—®é¢˜ï¼Œæˆ‘ä»¬ä»kaggleç½‘ç«™ä¸ŠSan Francisco Crime Classificationæ¯”èµ›ä¸­ä¸‹è½½äº†ç›¸å…³æ•°æ®é›†ã€‚ä»æ•°æ®é›†ä»‹ç»ã€å¯¼å…¥ï¼Œè¿›è¡Œæ•°æ®æ¢ç´¢æ€§åˆ†æå’Œæ•°æ®å¯è§†åŒ–ï¼Œæ•°æ®é¢„å¤„ç†ï¼Œåˆ°æ„å»ºå¤šç§åˆ†ç±»é¢„æµ‹æ¨¡å‹ï¼Œåœ¨æµ‹è¯•é›†ä¸Šå…¨æ–¹ä½è¯„ä¼°æ¨¡å‹åˆ†ç±»æ€§èƒ½ã€‚å¯¹æœºå™¨å­¦ä¹ æ¨¡å‹è¿›è¡Œå¯è§£é‡Šæ€§åˆ†æï¼Œä»å„ä¸ªè§’åº¦æ‰“ç ´æ¨¡å‹é»‘ç®±å­ï¼Œè§£é‡Šç‰¹å¾é‡è¦åº¦ï¼Œè§£é‡Šæ ·æœ¬å“ªäº›ç‰¹å¾å¯¼è‡´å¯¹æ¨¡å‹é¢„æµ‹ç»“æœé€ æˆå½±å“ï¼Œä»æµ·é‡æ•°æ®ä¸­æŒ–æ˜ç›¸ä¼¼æ€§ï¼Œè®©æˆ‘ä»¬å¯¹æ¨¡å‹å……åˆ†äº†è§£ã€ä¿¡ä»»ã€‚</p><h1 id="äºŒ-å‡†å¤‡æ•°æ®"><a href="#äºŒ-å‡†å¤‡æ•°æ®" class="headerlink" title="äºŒ. å‡†å¤‡æ•°æ®"></a>äºŒ. å‡†å¤‡æ•°æ®</h1><h2 id="2-1æ•°æ®é›†æ•´ä½“ä»‹ç»"><a href="#2-1æ•°æ®é›†æ•´ä½“ä»‹ç»" class="headerlink" title="2.1æ•°æ®é›†æ•´ä½“ä»‹ç»"></a>2.1æ•°æ®é›†æ•´ä½“ä»‹ç»</h2><p>è¯¥æ•°æ®é›†åŒ…å«æºè‡ª SFPD çŠ¯ç½ªäº‹ä»¶æŠ¥å‘Šç³»ç»Ÿçš„äº‹ä»¶ã€‚ æ•°æ®èŒƒå›´ä» 1&#x2F;1&#x2F;2003 åˆ° 5&#x2F;13&#x2F;2015ã€‚ è®­ç»ƒé›†å’Œæµ‹è¯•é›†æ¯å‘¨è½®æ¢ä¸€æ¬¡ï¼Œå³ç¬¬ 1ã€3ã€5ã€7.å‘¨å±äºæµ‹è¯•é›†ï¼Œç¬¬ 2ã€4ã€6ã€8 å‘¨å±äºè®­ç»ƒé›†ã€‚æ•°æ®é›†æ•´ä½“ä»‹ç»å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th><strong>æ•°æ®é›†</strong></th><th><strong>æ•°æ®ç±»å‹</strong></th><th><strong>å±æ€§æ•°</strong></th><th><strong>å®ä¾‹æ•°</strong></th><th><strong>å€¼ç¼ºå¤±</strong></th><th><strong>ç›¸å…³ä»»åŠ¡</strong></th></tr></thead><tbody><tr><td><strong>SFPD</strong></td><td>å­—ç¬¦ç±»å‹</td><td>9</td><td>878049</td><td>å¦</td><td>åˆ†ç±»é¢„æµ‹</td></tr></tbody></table><p>æ•°æ®é›†æ¥æºï¼š<a href="https://www.kaggle.com/c/sf-crime/data">https://www.kaggle.com/c/sf-crime/data</a></p><h2 id="2-2æ•°æ®é›†å±æ€§ä»‹ç»"><a href="#2-2æ•°æ®é›†å±æ€§ä»‹ç»" class="headerlink" title="2.2æ•°æ®é›†å±æ€§ä»‹ç»"></a>2.2æ•°æ®é›†å±æ€§ä»‹ç»</h2><p>å¦‚ä¸Šè¡¨æ‰€ç¤ºï¼Œè¯¥æ•°æ®é›†æ€»å…±æœ‰878049æ¡è®°å½•æ•°æ®ï¼Œ9ä¸ªå±æ€§åˆ—ï¼Œæ¯ä¸ªå±æ€§åˆ—å‡æ— ç¼ºå¤±å€¼ï¼Œæ•°æ®é›†ä¸­çš„æ•°æ®ç±»å‹å‡ä¸ºå­—ç¬¦ç±»å‹ï¼Œæœ¬å®éªŒä¸»è¦ç”¨è¿™ä¸ªæ•°æ®é›†è¿›è¡Œæ•°æ®åˆ†æå’Œå¯è§†åŒ–ï¼Œä¸»è¦ç”¨åˆ°çš„æœºå™¨å­¦ä¹ ä¸­çš„åˆ†ç±»ç®—æ³•ã€‚</p><p>æœ¬æ•°æ®é›†ä¸­å…±æœ‰9ä¸ªå±æ€§åˆ—ï¼Œå…¶ä¸­æœ‰8ä¸ªç‰¹å¾åˆ—å’Œ1ä¸ªæ ‡ç­¾åˆ—ï¼Œå…³äºå„å±æ€§åˆ—çš„è¯¦ç»†ä»‹ç»å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th><strong>Attribute</strong></th><th><strong>Explain</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><strong>Dates</strong></td><td><strong>æ—¥æœŸ</strong></td><td><strong>å­—ç¬¦å‹</strong></td></tr><tr><td><strong>Category</strong></td><td><strong>ç±»åˆ«</strong></td><td><strong>å­—ç¬¦å‹</strong></td></tr><tr><td><strong>Descript</strong></td><td><strong>æè¿°</strong></td><td><strong>å­—ç¬¦å‹</strong></td></tr><tr><td><strong>DayOfWeek</strong></td><td><strong>æ˜ŸæœŸå‡ </strong></td><td><strong>å­—ç¬¦å‹</strong></td></tr><tr><td><strong>PdDistrict</strong></td><td><strong>è¾–åŒºè­¦å¯Ÿå±€</strong></td><td><strong>å­—ç¬¦å‹</strong></td></tr><tr><td><strong>Resolution</strong></td><td><strong>è§£å†³æ–¹æ¡ˆ</strong></td><td><strong>å­—ç¬¦å‹</strong></td></tr><tr><td><strong>Address</strong></td><td><strong>å‘ç”Ÿåœ°ç‚¹</strong></td><td><strong>å­—ç¬¦å‹</strong></td></tr><tr><td><strong>X</strong></td><td><strong>ç»åº¦</strong></td><td><strong>å­—ç¬¦å‹</strong></td></tr><tr><td><strong>Y</strong></td><td><strong>ç»´åº¦</strong></td><td><strong>å­—ç¬¦å‹</strong></td></tr></tbody></table><h1 id="ä¸‰ï¼ä¸Šä¼ æ•°æ®"><a href="#ä¸‰ï¼ä¸Šä¼ æ•°æ®" class="headerlink" title="ä¸‰ï¼ä¸Šä¼ æ•°æ®"></a>ä¸‰ï¼ä¸Šä¼ æ•°æ®</h1><p>   Step1ï¼šåœ¨ç½‘ç«™ä¸ŠæŠŠæ•°æ®ä¸‹è½½åˆ°æœ¬åœ°ã€‚</p><p>   Step2ï¼šåˆ©ç”¨XftpæŠŠæœ¬åœ°æ•°æ®é›†æ”¾åˆ°é›†ç¾¤çš„masterèŠ‚ç‚¹ä¸Šï¼Œç›®å½•ä¸º&#x2F;bigdata&#x2F;pyspark&#x2F;data</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image008-1640092387227.png" alt="img"></p><p>   Step3ï¼šåœ¨hdfsæ–‡ä»¶ä¸­åˆ›å»ºæ–‡ä»¶å¤¹&#x2F;pyspark</p><table><thead><tr><th><strong># hadoop fs  -mkdir &#x2F;pyspark</strong></th></tr></thead><tbody><tr><td><strong># hadoop fs -ls  &#x2F;</strong></td></tr></tbody></table><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image010-16400923872271.png" alt="img"></p><p>Step4ï¼šä¸Šä¼ æ•°æ®åˆ°æŒ‡å®šhdfsæ–‡ä»¶å¤¹</p><table><thead><tr><th><strong># hadoop fs -put &#x2F;bigdata&#x2F;pyspark&#x2F;data&#x2F;train.csv  &#x2F;pyspark</strong></th></tr></thead><tbody><tr><td><strong># hadoop fs -ls &#x2F;pyspark</strong></td></tr></tbody></table><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image012-16400923872271.png" alt="img"></p><h1 id="å››ï¼æ•°æ®é¢„å¤„ç†å’Œç¯å¢ƒå‡†å¤‡"><a href="#å››ï¼æ•°æ®é¢„å¤„ç†å’Œç¯å¢ƒå‡†å¤‡" class="headerlink" title="å››ï¼æ•°æ®é¢„å¤„ç†å’Œç¯å¢ƒå‡†å¤‡"></a>å››ï¼æ•°æ®é¢„å¤„ç†å’Œç¯å¢ƒå‡†å¤‡</h1><p>é›†ç¾¤é…ç½®ç®€ä»‹ï¼š</p><p>ä¸‰å°è™šæ‹ŸæœºCentOS6.5 </p><p>Master 192.168.174.101</p><p>Node1 192.168.174.102</p><p>Node2 192.168.174.103</p><p>JDK ç‰ˆæœ¬ 1.8.0 å®‰è£…è·¯å¾„ &#x2F;bigdata&#x2F;jdk1.8.0</p><p>Hadoop ç‰ˆæœ¬2.6.0 å®‰è£…è·¯å¾„ &#x2F;bigdata&#x2F;hadoop-2.6.0</p><p>Zookeeper ç‰ˆæœ¬ 3.4.6 å®‰è£…è·¯å¾„ &#x2F;bigdata&#x2F;zookeeper-3.4.6</p><p>Hbase ç‰ˆæœ¬ 1.0.1.1 å®‰è£…è·¯å¾„ &#x2F;bigdata&#x2F;hbase-1.0.1.1</p><p>MySQL ç‰ˆæœ¬ 5.1.73 å®‰è£…è·¯å¾„ &#x2F;usr&#x2F;bin&#x2F;mysql</p><p>Hive ç‰ˆæœ¬ 1.2.1 å®‰è£…è·¯å¾„ &#x2F;bigdata&#x2F;hive-1.2.1</p><p>Spark ç‰ˆæœ¬ 2.4.8 å®‰è£…è·¯å¾„ &#x2F;bigdata&#x2F;spark-2.4.8</p><p>Scala ç‰ˆæœ¬ 2.11.8 å®‰è£…è·¯å¾„ &#x2F;bigdata&#x2F;scala-2.11.8</p><p>Anaconda3 ç‰ˆæœ¬5.0.0 å®‰è£…è·¯å¾„ &#x2F;root&#x2F;anaconda3</p><p>Python ç‰ˆæœ¬3.6.2 Anacondaè‡ªå¸¦</p><p>Sqoop ç‰ˆæœ¬ 1.4.7 å®‰è£…è·¯å¾„ &#x2F;bigdata&#x2F;sqoop-1.4.7</p><p>æˆ‘ä»¬éœ€è¦æŸ¥çœ‹æ•°æ®ä¿¡æ¯ï¼Œå¹¶å¯¹æ•°æ®ç»è¡Œæ¸…æ´—ã€‚ä¸ºæˆ‘ä»¬æ¥ä¸‹æ¥çš„å¯è§†åŒ–åˆ†æå’Œæ•°æ®å»ºæ¨¡æä¾›è‰¯å¥½çš„æ•°æ®æºï¼Œæ–¹ä¾¿å¤„ç†ã€‚</p><p>Step1ï¼šåŠ è½½æ•°æ®å¹¶æŸ¥çœ‹æ•°æ®å±æ€§ <img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image014-16400923872271.png" alt="img"></p><p>Step2: æŸ¥çœ‹éƒ¨åˆ†æ•°æ®</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image016-16400923872271.png" alt="img"></p><p>Step3ï¼šæŸ¥çœ‹æ˜¯å¦å­˜åœ¨ç©ºç½®æˆ–å¼‚å¸¸å€¼</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image018-16400923872281.png" alt="img"></p><p>å‘ç°æ²¡æœ‰æ˜æ˜¾å¼‚å¸¸æ•°æ®å’Œç©ºå€¼ã€‚</p><p> <a href="https://gitee.com/xiang976young/note/raw/master/img/">https://gitee.com/xiang976young/note/raw/master/img/</a></p><h1 id="äº”ï¼æ•°æ®å¯¼å…¥"><a href="#äº”ï¼æ•°æ®å¯¼å…¥" class="headerlink" title="äº”ï¼æ•°æ®å¯¼å…¥"></a>äº”ï¼æ•°æ®å¯¼å…¥</h1><h2 id="5-1-åˆ›å»ºHiveæ•°æ®åº“å’Œæ•°æ®è¡¨"><a href="#5-1-åˆ›å»ºHiveæ•°æ®åº“å’Œæ•°æ®è¡¨" class="headerlink" title="5.1 åˆ›å»ºHiveæ•°æ®åº“å’Œæ•°æ®è¡¨"></a>5.1 åˆ›å»ºHiveæ•°æ®åº“å’Œæ•°æ®è¡¨</h2><p>è¿›å…¥hive shellç¯å¢ƒï¼Œåˆ›å»ºcrimeæ•°æ®åº“å’Œlogå¤–éƒ¨è¡¨ï¼ˆå¤–éƒ¨è¡¨å¯ä»¥åœ¨ä¿®æ”¹è¡¨æ•°æ®çš„åŒæ—¶ä¸ä¼¤å®³æœ¬èº«åŸå§‹æ•°æ®ï¼Œä¸ºæ•°æ®åšä¿æŠ¤ï¼‰ï¼Œå¹¶è½½å…¥hdfsä¸­çš„æ•°æ®ã€‚</p><table><thead><tr><th><strong>hive&gt; create database crime;</strong></th></tr></thead><tbody><tr><td><strong>hive&gt; use crime;</strong></td></tr><tr><td><strong>hive&gt; create external table log( Dates string,  Category string, Descript String, PdDistrict string, Resolution string,  Address String, X string, Y string</strong>  <strong>)row format delimited fields  terminate by â€˜,â€™</strong>  <strong>stored as  textfile location â€˜&#x2F;sparkâ€™;</strong></td></tr><tr><td><strong>hive&gt; select * from log limit 10;</strong></td></tr></tbody></table><p>(æ•°æ®ä¸€å¼€å§‹æ”¾åœ¨&#x2F;sparkæ–‡ä»¶å¤¹ä¸‹ï¼Œåæ¥æœ‰åˆ›å»ºäº†æ–°çš„&#x2F;pyspark  æ•°æ®ä¸€è‡´)</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image020.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image022.png" alt="img"></p><p>ä¸ºå¤–éƒ¨è¡¨logåˆ›å»ºå†…éƒ¨è¡¨inner_log</p><table><thead><tr><th><strong>hive&gt; create table inner_log( Dates string,  Category string, Descript String, DayOfWeek string ,PdDistrict string,  Resolution string, Address String, X string, Y string)</strong>   <strong>comment  â€˜Welcome to XMU dblab! Now create inner table inner_log â€˜</strong>   <strong>row format delimited fields  terminate by â€˜,â€™</strong>  <strong>stored as  textfile;</strong></th></tr></thead><tbody><tr><td><strong>hive&gt; select * from log limit 10;</strong></td></tr></tbody></table><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image024.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image026.png" alt="img"></p><h2 id="5-2-åˆ›å»ºMySQLæ•°æ®åº“å’Œæ•°æ®è¡¨"><a href="#5-2-åˆ›å»ºMySQLæ•°æ®åº“å’Œæ•°æ®è¡¨" class="headerlink" title="5.2 åˆ›å»ºMySQLæ•°æ®åº“å’Œæ•°æ®è¡¨"></a>5.2 åˆ›å»ºMySQLæ•°æ®åº“å’Œæ•°æ®è¡¨</h2><p>å› ä¸ºsqoopåœ¨æŠ“å–æ•°æ®çš„æ—¶å€™ï¼Œä¼šæŠŠæ‰€æœ‰çš„æ•°æ®éƒ½æŠ“æˆstringç±»å‹ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œè¦æ³¨æ„å±æ€§çš„ç±»å‹ã€‚åŒæ—¶ä¹Ÿè¦æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸‹æ˜¯å¦æ”¯æŒutf-8ç¼–ç ã€‚ä»¥å…å‡ºç°ä¸­æ–‡ä¹±ç çš„æƒ…å†µã€‚</p><table><thead><tr><th><strong>mysql&gt; create database crime;</strong></th></tr></thead><tbody><tr><td><strong>mysql &gt; use crime;</strong></td></tr><tr><td><strong>mysql &gt; show variables like â€œchar%â€;</strong></td></tr><tr><td><strong>mysql  &gt;  CREATE TABLE <code>crime</code>.<code>log</code> (<code>Dates </code> varchar(255),<code> Category</code> varchar(255),<code>Descript</code> varchar(255),<code>DayOfWeek</code> varchar(20),<code> PdDistrict</code> varchar(255), <code>Resolution</code> varchar(255),<code>Address</code> varchar(255),<code>X</code>  varchar(255),<code>Y</code> varchar(255)) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</strong></td></tr><tr><td><strong>mysql &gt; select * from log limit 10;<img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image028.png" alt="img"></strong></td></tr></tbody></table><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image030.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image032.png" alt="img"></p><h2 id="5-3-åˆ©ç”¨Sqoopä»Hiveä¸­å¯¼å‡ºæ•°æ®åˆ°MySQL"><a href="#5-3-åˆ©ç”¨Sqoopä»Hiveä¸­å¯¼å‡ºæ•°æ®åˆ°MySQL" class="headerlink" title="5.3 åˆ©ç”¨Sqoopä»Hiveä¸­å¯¼å‡ºæ•°æ®åˆ°MySQL"></a>5.3 åˆ©ç”¨Sqoopä»Hiveä¸­å¯¼å‡ºæ•°æ®åˆ°MySQL</h2><p>åœ¨åˆ©ç”¨sqoopå¤„ç†æ•°æ®çš„æ—¶å€™è¦æ³¨æ„ï¼Œå¦‚æœhiveè¡¨ä¸­å­˜åœ¨å±æ€§ä¸ºæ•°å€¼è¡Œçš„noneå€¼ï¼Œè¦æ³¨æ„åˆ‡æ¢ä¸ºå­—ç¬¦NULLï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚</p><table><thead><tr><th><strong># sqoop export â€“connect  jdbc:mysql:&#x2F;&#x2F;192.168.174.101:3306&#x2F;crime â€“username root â€“password 123456  â€“table log â€“export-dir â€˜&#x2F;user&#x2F;hive&#x2F;wavehouse&#x2F;crime.db&#x2F;logâ€™ â€“fields-terminated-by  â€˜,â€™ -m 1;</strong></th></tr></thead><tbody><tr><td><strong>mysql &gt; select * from crime.log limit 10;</strong></td></tr></tbody></table><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image034.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image036.png" alt="img"></p><h2 id="5-4-åˆ©ç”¨Sqoopä»MySQLä¸­å¯¼å‡ºæ•°æ®åˆ°Hbase"><a href="#5-4-åˆ©ç”¨Sqoopä»MySQLä¸­å¯¼å‡ºæ•°æ®åˆ°Hbase" class="headerlink" title="5.4 åˆ©ç”¨Sqoopä»MySQLä¸­å¯¼å‡ºæ•°æ®åˆ°Hbase"></a>5.4 åˆ©ç”¨Sqoopä»MySQLä¸­å¯¼å‡ºæ•°æ®åˆ°Hbase</h2><p>ç”±äºè¯¥æ•°æ®é›†å¹¶æ²¡æœ‰ä¸»é”®çš„å­˜åœ¨ï¼Œå¹¶ä¸èƒ½å¾ˆå¥½çš„æ ‡è®°å„ä¸ªè®°å½•ã€‚æ‰€ä»¥è¿™é‡Œéœ€è¦ç»™mysqlè¡¨æ·»åŠ ä¸€ä¸ªidçš„ä¸»é”®ï¼Œä»¥æ ‡è®°å„ä¸ªè®°å½•ã€‚</p><table><thead><tr><th><code>**mysql &gt; alter table log add id int**</code></th></tr></thead><tbody><tr><td><strong>mysql &gt; alter  table <code>node_table</code> change id id int not null auto_increment primary key;</strong>  <strong>mysql &gt;  select * from log limit 10;</strong></td></tr></tbody></table><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image038.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image040.png" alt="img"></p><p>åˆ›å»ºhbaseè¡¨ï¼š</p><table><thead><tr><th><code>**hbase(main):003:0&gt; create â€logâ€,â€infoâ€**</code></th></tr></thead><tbody><tr><td><code>**hbase(main):004:0&gt; list**</code></td></tr></tbody></table><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image042.png" alt="img"></p><p>åˆ©ç”¨sqoopä»mysqlå¯¼å…¥æ•°æ®åˆ°hbaseï¼š</p><table><thead><tr><th><code>**# sqoop import --connect jdbc:mysql://192.168.174.101:3306/crime --username root --password 123456 --table log --columns &quot;dates,category,descript,dayofweek,pddistrict,resolution,address,x,y,id&quot; --column-family &quot;info&quot; --hbase-create-table --hbase-table &quot;log&quot; --hbase-row-key &quot;id&quot; --num-mappers 1 --split-by id**</code></th></tr></thead><tbody><tr><td><code>**hbase(main):001:0&gt; scan â€˜logâ€™**</code></td></tr></tbody></table><p>(scan æŸ¥è¯¢æ•°ç›®å¤ªå¤šï¼Œæ²¡æœ‰åŠæ³•æˆªä¸‹æ¥)</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image044.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image046.png" alt="img"></p><h2 id="5-5-Hiveä¸Hbaseçš„æ•°æ®æ˜ å°„"><a href="#5-5-Hiveä¸Hbaseçš„æ•°æ®æ˜ å°„" class="headerlink" title="5.5  Hiveä¸Hbaseçš„æ•°æ®æ˜ å°„"></a>5.5  Hiveä¸Hbaseçš„æ•°æ®æ˜ å°„</h2><p>å°†HBaseæ•°æ®ä»“åº“ä¸­logæ•°æ®æ˜ å°„åˆ°Hiveæ•°æ®åº“çš„å¤–éƒ¨è¡¨hive_logä¸­</p><table><thead><tr><th><code>**hive&gt; create external table hive_log(Dates string, Category string, Descript String, DayOfWeek string ,PdDistrict string, Resolution string, Address String, X string, Y string,id int )STORED BY &#39;org.apache.hadoop.hive.hbase.HBaseStorageHandler&#39; WITH SERDEPROPERTIES (&quot;hbase.columns.mapping&quot; = &quot;info:dates,info:category,info:descript,info:dayofweek,info:pddistrict,info:resolution,info:address,info:x,info:y,:key&quot;) TBLPROPERTIES (&quot;hbase.table.name&quot; = &quot;log&quot;);**</code></th></tr></thead><tbody><tr><td><code>**hive&gt; show tables;**</code></td></tr><tr><td><code>**hive&gt; desc hive_log;**</code></td></tr></tbody></table><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image048.png" alt="img"></p><p>è‡³æ­¤ï¼Œæ•°æ®ä»“åº“ã€ä¸¤ä¸ªæ•°æ®åº“ä¹‹é—´çš„æ•°æ®å·²ç»å…¨éƒ¨åŠ è½½å®Œæˆã€‚</p><h1 id="å…­ï¼Hiveæ•°æ®åˆ†æ"><a href="#å…­ï¼Hiveæ•°æ®åˆ†æ" class="headerlink" title="å…­ï¼Hiveæ•°æ®åˆ†æ"></a>å…­ï¼Hiveæ•°æ®åˆ†æ</h1><p>6.1 åˆ†æçŠ¯ç½ªç±»å‹å‘ç”Ÿçš„æ¬¡æ•°æœ€å¤šçš„10ä¸ª</p><table><thead><tr><th>hive&gt; select category,count(*) as category_count from  log group by category order by category_count desc limit 10;</th></tr></thead><tbody><tr><td><strong><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image050.png" alt="img"></strong></td></tr></tbody></table><p>6.2 åˆ†æå‘ç”ŸçŠ¯ç½ªæœ€å¤šçš„20ä¸ªè¡—åŒº</p><table><thead><tr><th>hive&gt; select pddistrict,count(*) as pddistrict_count  from log group by pddistrict order by pddistrict_count desc limit 20;</th></tr></thead><tbody><tr><td><strong><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image052.png" alt="img"></strong></td></tr></tbody></table><p>6.3 åˆ†ææ¯ä¸ªæ˜ŸæœŸå†…å‘è¯çŠ¯ç½ªçš„æƒ…å†µ</p><table><thead><tr><th>hive&gt; select dayofweek,count(*) from log group by dayofweek  ;</th></tr></thead><tbody><tr><td><strong><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image054.png" alt="img"></strong></td></tr></tbody></table><h1 id="ä¸ƒï¼Sparkæ•°æ®åˆ†æä¸å¯è§†åŒ–"><a href="#ä¸ƒï¼Sparkæ•°æ®åˆ†æä¸å¯è§†åŒ–" class="headerlink" title="ä¸ƒï¼Sparkæ•°æ®åˆ†æä¸å¯è§†åŒ–"></a>ä¸ƒï¼Sparkæ•°æ®åˆ†æä¸å¯è§†åŒ–</h1><p>è¿™é‡Œçš„Sparkçš„ç¼–ç¨‹è¯­è¨€é€‰æ‹©çš„Pythonï¼Œè¿è¡Œçš„å¹³å°æ˜¯Jupyter</p><h2 id="7-1-Sparkæ•°æ®å¯è§†åŒ–"><a href="#7-1-Sparkæ•°æ®å¯è§†åŒ–" class="headerlink" title="7.1 Sparkæ•°æ®å¯è§†åŒ–"></a>7.1 Sparkæ•°æ®å¯è§†åŒ–</h2><h3 id="7-1-1-å„çŠ¯ç½ªç±»å‹æ•°é‡ç»Ÿè®¡"><a href="#7-1-1-å„çŠ¯ç½ªç±»å‹æ•°é‡ç»Ÿè®¡" class="headerlink" title="7.1.1 å„çŠ¯ç½ªç±»å‹æ•°é‡ç»Ÿè®¡"></a>7.1.1 å„çŠ¯ç½ªç±»å‹æ•°é‡ç»Ÿè®¡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.rcParams[<span class="hljs-string">&#x27;figure.figsize&#x27;</span>]=(<span class="hljs-number">20</span>,<span class="hljs-number">9</span>) plt.style.use(<span class="hljs-string">&#x27;dark_background&#x27;</span>) sns.countplot(dataset[<span class="hljs-string">&#x27;Category&#x27;</span>],palette=<span class="hljs-string">&#x27;gnuplot&#x27;</span>) plt.title(<span class="hljs-string">&#x27;Major Crimes in  Sanfrancisco&#x27;</span>,fontweight=<span class="hljs-number">30</span>,fontsize=<span class="hljs-number">20</span>) plt.xticks(rotation=<span class="hljs-number">90</span>)  plt.show() <br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image056.png" alt="img"></p><p>ç”±å›¾å¯ä»¥æ˜æ˜¾çš„çœ‹å‡ºæ¥ï¼Œåœ¨SanFrancisco LARCENY&#x2F;THEFTå’ŒOTHER OFFENSESè¿™ä¸¤ç±»çŠ¯ç½ªæ˜¯æœ€å¤šçš„</p><h3 id="7-1-2-å„ä¸ªè¡—åŒºçš„çŠ¯ç½ªå¯¹æ¯”ç¤ºæ„å›¾"><a href="#7-1-2-å„ä¸ªè¡—åŒºçš„çŠ¯ç½ªå¯¹æ¯”ç¤ºæ„å›¾" class="headerlink" title="7.1.2 å„ä¸ªè¡—åŒºçš„çŠ¯ç½ªå¯¹æ¯”ç¤ºæ„å›¾"></a>7.1.2 å„ä¸ªè¡—åŒºçš„çŠ¯ç½ªå¯¹æ¯”ç¤ºæ„å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">df =  pd.crosstab(dataset[<span class="hljs-string">&#x27;Category&#x27;</span>],dataset[<span class="hljs-string">&#x27;PdDistrict&#x27;</span>])<br>color =  plt.cm.Greys(np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>))<br>df.div(df.<span class="hljs-built_in">sum</span>(<span class="hljs-number">1</span>).astype(<span class="hljs-built_in">float</span>),  axis = <span class="hljs-number">0</span>).plot.bar(stacked = <span class="hljs-literal">True</span>, color = color, figsize = (<span class="hljs-number">18</span>, <span class="hljs-number">12</span>))<br>plt.title(<span class="hljs-string">&#x27;District vs Category of  Crime&#x27;</span>, fontweight = <span class="hljs-number">30</span>, fontsize = <span class="hljs-number">20</span>)<br>plt.xticks(rotation = <span class="hljs-number">90</span>)<br>plt.show()  <br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image058.png" alt="img"></p><p>æœ‰å›¾å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œåœ°åŒºä¹‹é—´å·®å¼‚è¿˜æ˜¯æŒºå¤§çš„ï¼Œsouthernåœ°åŒºçŠ¯ç½ªç‡è¾ƒé«˜ï¼Œæ²»å®‰æœ€å¥½çš„æ˜¯Richmond</p><h3 id="7-1-3-æŒ‰æ—¶é—´å¯¹çŠ¯ç½ªè¿›è¡Œåˆ’åˆ†å¹¶åˆ†æ"><a href="#7-1-3-æŒ‰æ—¶é—´å¯¹çŠ¯ç½ªè¿›è¡Œåˆ’åˆ†å¹¶åˆ†æ" class="headerlink" title="7.1.3 æŒ‰æ—¶é—´å¯¹çŠ¯ç½ªè¿›è¡Œåˆ’åˆ†å¹¶åˆ†æ"></a>7.1.3 æŒ‰æ—¶é—´å¯¹çŠ¯ç½ªè¿›è¡Œåˆ’åˆ†å¹¶åˆ†æ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">dataset[<span class="hljs-string">&#x27;year&#x27;</span>] = dataset[<span class="hljs-string">&#x27;Dates&#x27;</span>].dt.year  <br>dataset[<span class="hljs-string">&#x27;month&#x27;</span>] = dataset[<span class="hljs-string">&#x27;Dates&#x27;</span>].dt.month  <br>dataset[<span class="hljs-string">&#x27;day&#x27;</span>] = dataset[<span class="hljs-string">&#x27;Dates&#x27;</span>].dt.day  dataset[<span class="hljs-string">&#x27;hour&#x27;</span>] = dataset[<span class="hljs-string">&#x27;Dates&#x27;</span>].dt.hour  <br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">19</span>))  <br>plt.style.use(<span class="hljs-string">&#x27;fivethirtyeight&#x27;</span>)     <br>year_group = dataset.groupby(<span class="hljs-string">&#x27;year&#x27;</span>).size() <br>plt.subplot(<span class="hljs-number">311</span>) <br>plt.plot(year_group.index[:-<span class="hljs-number">1</span>],year_group[:-<span class="hljs-number">1</span>],<span class="hljs-string">&#x27;ks-&#x27;</span>) plt.xlabel(<span class="hljs-string">&#x27;year&#x27;</span>)  <br>month_group = dataset.groupby(<span class="hljs-string">&#x27;month&#x27;</span>).size()<br>plt.subplot(<span class="hljs-number">312</span>)  <br>plt.plot(month_group,<span class="hljs-string">&#x27;ks-&#x27;</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;month&#x27;</span>)  <br>day_group = dataset.groupby(<span class="hljs-string">&#x27;day&#x27;</span>).size()  <br>plt.subplot(<span class="hljs-number">313</span>)  <br>plt.plot(day_group,<span class="hljs-string">&#x27;ks-&#x27;</span>)  <br>plt.xlabel(<span class="hljs-string">&#x27;day&#x27;</span>)  <br>plt.show()  <br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image060.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image064.png" alt="img"></p><p>ä»ä¸Šå›¾å¯çŸ¥ï¼Œåœ¨2011å¹´å‰SFçš„çŠ¯ç½ªæ•°åŸºæœ¬ä¸Šå‘ˆé€’å‡è¶‹åŠ¿ï¼Œ2011åæ•°é‡æ¿€å¢ï¼Œæ¡ˆä»¶é«˜å‘æœŸæ˜¯åœ¨ä¸€å¹´ä¸­çš„5æœˆå’Œ10æœˆï¼Œåœ¨æ¯ä¸ªæœˆçš„æœˆåˆä¼šæœ‰æ¶¨å¹…ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">week_group =  dataset.groupby([<span class="hljs-string">&#x27;DayOfWeek&#x27;</span>,<span class="hljs-string">&#x27;hour&#x27;</span>]).size()<br><span class="hljs-comment">#å¤šé‡åˆ†ç»„  </span><br>week_group = week_group.unstack()<br><span class="hljs-comment">#å¯¹åˆ†ç»„åçš„å¤šé‡ç´¢å¼•è½¬ä¸ºxyç´¢å¼•    </span><br>week_group.T.plot(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">8</span>))<span class="hljs-comment">#è¡Œåˆ—äº’æ¢åç”»</span><br>plt.xlabel(<span class="hljs-string">&#x27;hour of day&#x27;</span>,size=<span class="hljs-number">15</span>)  <br>plt.ylabel(<span class="hljs-string">&#x27;Number of crimes&#x27;</span>,size=<span class="hljs-number">15</span>)  <br>plt.show()  <br></code></pre></td></tr></table></figure><p>Â·<img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image066.png" alt="img"></p><p>å¯ä»¥çœ‹å‡ºï¼Œæ¡ˆä»¶é«˜å‘æ—¶é—´æ˜¯åœ¨12ç‚¹å’Œ18ç‚¹å·¦å³ï¼Œå‡Œæ™¨åæ•°é‡ä¼šæ˜¾è‘—å‡å°‘ï¼Œåœ¨å‘¨äº”å‘¨å…­çš„æ™šä¸Š8ç‚¹åæ¡ˆä»¶å‘ç”Ÿç‡ä¼šæ¯”å¹³æ—¶è¦é«˜ã€‚</p><h3 id="7-1-4-é«˜å‘æ¡ˆä»¶çš„æ—¶é—´ç»“åˆåœ°ç‚¹çš„åˆ†æ"><a href="#7-1-4-é«˜å‘æ¡ˆä»¶çš„æ—¶é—´ç»“åˆåœ°ç‚¹çš„åˆ†æ" class="headerlink" title="7.1.4 é«˜å‘æ¡ˆä»¶çš„æ—¶é—´ç»“åˆåœ°ç‚¹çš„åˆ†æ"></a>7.1.4 é«˜å‘æ¡ˆä»¶çš„æ—¶é—´ç»“åˆåœ°ç‚¹çš„åˆ†æ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">cate_group = dataset.groupby(by=<span class="hljs-string">&#x27;Category&#x27;</span>).size()  <br>top6 = <span class="hljs-built_in">list</span>(cate_group.index[:<span class="hljs-number">6</span>])  <br>tmp = dataset[dataset[<span class="hljs-string">&#x27;Category&#x27;</span>].isin(top6)]  <br>tmp_group = tmp.groupby([<span class="hljs-string">&#x27;Category&#x27;</span>,<span class="hljs-string">&#x27;hour&#x27;</span>]).size()<br>tmp_group = tmp_group.unstack()  <br>tmp_group.T.plot(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">6</span>),style=<span class="hljs-string">&#x27;o-&#x27;</span>)  <br>plt.show()  <br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image068.png" alt="img"></p><p>æ—¶é—´ä¸Šä¸ä¸Šè¿°åˆ†ææ˜¯ä¸€è‡´çš„ï¼Œå¯¹äºå·ç›—ç±»æ¡ˆä»¶åœ¨12ã€18ç‚¹å‘ç”Ÿç‡æ›´é«˜ï¼›assaultç±»æ¡ˆä»¶åœ¨æ™šä¸Š6ç‚¹åæ²¡æœ‰ä¸‹é™è¶‹åŠ¿ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">tmp2 = tmp.groupby([<span class="hljs-string">&#x27;Category&#x27;</span>,<span class="hljs-string">&#x27;PdDistrict&#x27;</span>]).size() tmp2.unstack().T.plot(kind=<span class="hljs-string">&#x27;bar&#x27;</span>,figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">6</span>),rot=<span class="hljs-number">45</span>) plt.show()  <br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image070.png" alt="img"></p><p>ä»ä¸Šå›¾å¯çŸ¥ï¼ŒçŠ¯ç½ªç‡æœ€é«˜çš„Southernåœ°åŒºï¼Œå·çªƒç±»ã€æš´åŠ›å†²çªç±»æ¡ˆä»¶æ•°é‡æœ€å¤šï¼Œè½¦è¾†å¤±çªƒç±»æ¡ˆä»¶è¾ƒå°‘ï¼ŒçŒœæµ‹å¯èƒ½å±äºè´«å›°åœ°åŒºï¼Œæ²»å®‰å¾ˆå¥½çš„åœ°åŒºPark,Richmondä¸­ï¼Œæ¯’å“ã€äººèº«æ”»å‡»ç±»æ¡ˆä»¶æ¯”ä¾‹æ˜æ˜¾è¾ƒå°‘.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">tmp3 = tmp.groupby([<span class="hljs-string">&#x27;Category&#x27;</span>,<span class="hljs-string">&#x27;DayOfWeek&#x27;</span>]).size()  <br>tmp3 = tmp3.unstack()  <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>):      <br>    tmp3.iloc[i] = tmp3.iloc[i]/tmp3.<span class="hljs-built_in">sum</span>(axis=<span class="hljs-number">1</span>)[i] <span class="hljs-built_in">print</span>(tmp3)  <br>tmp3.T.plot(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">6</span>),style=<span class="hljs-string">&#x27;o-&#x27;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;weekday&quot;</span>,size=<span class="hljs-number">20</span>)  <br><span class="hljs-comment">#plt.axes.set_xticks([])  </span><br>plt.xticks([<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>],[<span class="hljs-string">&#x27;Mon&#x27;</span>,<span class="hljs-string">&#x27;Tue&#x27;</span>,<span class="hljs-string">&#x27;Wed&#x27;</span>,<span class="hljs-string">&#x27;Thur&#x27;</span>,<span class="hljs-string">&#x27;Fri&#x27;</span>,<span class="hljs-string">&#x27;Sat&#x27;</span>,<span class="hljs-string">&#x27;Sun&#x27;</span>])  <br>plt.show()  <br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image072.png" alt="img"></p><p>è¶‹åŠ¿ä¸å¤ªä¸€æ ·çš„æ˜¯ï¼¢ï¼¡ï¼¤ã€€ï¼£ï¼¨ï¼¥ï¼£ï¼«ç±»æ¡ˆä»¶ï¼Œåœ¨å‘¨ä¸‰å‘ç”Ÿæœ€å¤šï¼Œå‘¨æœ«æœ‰æ€¥å‰§ä¸‹é™çš„è¶‹åŠ¿ï¼›å…¶ä½™å¤šæ•°æ¡ˆä»¶ï¼Œé™¤äº†other offenseså¤–ï¼Œéƒ½åœ¨å‘¨äº”å‘¨å…­æœ‰æ‰€å¢å¤šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">mon_g = tmp.groupby([<span class="hljs-string">&#x27;Category&#x27;</span>,<span class="hljs-string">&#x27;month&#x27;</span>]).size()  <br>mon_g = mon_g.unstack()  <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>):      <br>    mon_g.iloc[i] = mon_g.iloc[i]/mon_g.<span class="hljs-built_in">sum</span>(axis=<span class="hljs-number">1</span>)[i] mon_g.T.plot(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">6</span>),style=<span class="hljs-string">&#x27;o-&#x27;</span>)  <br>plt.show()  <br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image074.png" alt="img"></p><p>åˆ†ç±»å˜åŒ–è¶‹åŠ¿ä¸æ€»ä½“åŸºæœ¬ä¸€è‡´ï¼Œ2-6æœˆå’Œ8-12æœˆæ˜¯æ¡ˆä»¶é«˜å‘æœŸï¼Œ1-2æœˆbadcheckæ¡ˆå‘ç‡è¾ƒä½ã€‚</p><h3 id="7-1-5-é«˜å‘æ¡ˆä»¶çš„æ—¶é—´è¶‹åŠ¿åˆ†æ"><a href="#7-1-5-é«˜å‘æ¡ˆä»¶çš„æ—¶é—´è¶‹åŠ¿åˆ†æ" class="headerlink" title="7.1.5 é«˜å‘æ¡ˆä»¶çš„æ—¶é—´è¶‹åŠ¿åˆ†æ"></a>7.1.5 é«˜å‘æ¡ˆä»¶çš„æ—¶é—´è¶‹åŠ¿åˆ†æ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">ddf =  tmp.groupby([<span class="hljs-string">&#x27;Category&#x27;</span>,pd.Grouper(<span class="hljs-string">&#x27;Dates&#x27;</span>)]).size() ddf = ddf.unstack().fillna(<span class="hljs-number">0</span>)  <br>ddf = ddf.T  <br>df2 = ddf.resample(<span class="hljs-string">&#x27;m&#x27;</span>,how=<span class="hljs-string">&#x27;sum&#x27;</span>)<span class="hljs-comment">#æŒ‰æœˆæ±‚å’Œ</span><br>plt.style.use(<span class="hljs-string">&#x27;dark_background&#x27;</span>)  <br>moav = df2.rolling(<span class="hljs-number">12</span>).mean()<span class="hljs-comment">#æ¯12ä¸ªæœˆç»Ÿè®¡å¹³å‡ï¼Œç›¸å½“äºåŠ äº†ä¸ªçª—  </span><br>i = <span class="hljs-number">1</span>  <br><span class="hljs-keyword">for</span> cat <span class="hljs-keyword">in</span> df2.columns:      <br>    plt.figure(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">15</span>))    <br>    ax =  plt.subplot(<span class="hljs-number">6</span>,<span class="hljs-number">1</span>,i)<br>    plt.plot(df2.index,df2[cat])<br>    plt.plot(df2.index,moav[cat])<br>    plt.title(cat)<br>    i+=<span class="hljs-number">1</span><br>df2.plot()  <br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image076.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image078.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image080.png" alt="img"> <img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image082-1640092446805.png" alt="img"> <img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image084-1640092449858.png" alt="img"> <img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image086-1640092452099.png" alt="img"> <img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image088-1640092454204.png" alt="img"></p><p>å¯è§ï¼Œä¸åŒç§ç±»çš„æ¡ˆä»¶éšæ—¶é—´æ˜¯æœ‰ä¸åŒå˜åŒ–çš„ï¼Œå¦‚assaultåœ¨15å¹´åæ€¥å‰§ä¸‹é™ï¼Œå¯èƒ½æœ‰ä¸“é¡¹æ•´æ²»ç­‰æ´»åŠ¨ã€‚</p><h2 id="7-2-Sparkæ•°æ®åˆ†æ"><a href="#7-2-Sparkæ•°æ®åˆ†æ" class="headerlink" title="7.2 Sparkæ•°æ®åˆ†æ"></a>7.2 Sparkæ•°æ®åˆ†æ</h2><h3 id="7-2-1-Spark-Mlibä»‹ç»"><a href="#7-2-1-Spark-Mlibä»‹ç»" class="headerlink" title="7.2.1 Spark.Mlibä»‹ç»"></a>7.2.1 Spark.Mlibä»‹ç»</h3><p>Sparkæ•°æ®åˆ†æå»ºæ¨¡ä¸»è¦åˆ©ç”¨çš„æ˜¯Spark.Mlibä¸‹çš„æœºå™¨å­¦ä¹ è¿›è¡Œåˆ†ç±»ã€é¢„æµ‹ã€å›å½’é—®é¢˜ã€‚Mlibå…¶å®å°±æ˜¯å°†æ•°æ®ä»¥RDDçš„å½¢å¼è¿›è¡Œè¡¨ç¤ºï¼Œåœ¨åˆ†å¸ƒå¼æ•°æ®é›†ä¸Šè°ƒç”¨å„ç§ç®—æ³•ã€‚</p><p><strong>Mlib</strong>çš„ä½¿ç”¨æ–¹æ³•ï¼š</p><p>MLlibä¸­åŒ…å«èƒ½å¤Ÿåœ¨é›†ç¾¤ä¸Šè¿è¡Œè‰¯å¥½çš„å¹¶è¡Œç®—æ³•ï¼Œå¦‚kmeansã€åˆ†å¸ƒå¼RFã€äº¤æ›¿æœ€å°äºŒä¹˜ç­‰ï¼Œè¿™èƒ½å¤Ÿè®©MLibä¸­çš„æ¯ä¸ªç®—æ³•éƒ½èƒ½å¤Ÿé€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®é›†</p><p>ä¹Ÿå¯ä»¥å°†åŒä¸€ç®—æ³•çš„ä¸åŒå‚æ•°åˆ—è¡¨é€šè¿‡parallelize()ï¼Œåœ¨ä¸åŒèŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œæœ€ç»ˆæ‰¾åˆ°æ€§èƒ½æœ€å¥½çš„ä¸€ç»„å‚æ•°ï¼Œè¿™å¯ä»¥èŠ‚çœå°è§„æ¨¡æ•°æ®é›†ä¸Šå‚æ•°é€‰æ‹©çš„æ—¶é—´ã€‚</p><p>  <strong>Mlib</strong>ä¸­çš„æ•°æ®ç±»å‹ï¼š</p><p>  Vectorï¼šåœ¨mllib.linalg.vectorsä¸­ï¼Œæ—¢æ”¯æŒç¨ å¯†å‘é‡ï¼Œä¹Ÿæ”¯æŒç¨€ç–å‘é‡</p><p>  LabeledPointï¼šåœ¨mllib.regressionä¸­ï¼Œç”¨äºç›‘ç£å­¦ä¹ ç®—æ³•ä¸­ï¼Œè¡¨ç¤ºå¸¦æœ‰æ ‡ç­¾çš„æ•°æ®ç‚¹</p><p>  Ratingï¼šåœ¨mllib.recommendationä¸­ï¼Œç”¨äºäº§å“æ¨èï¼Œè¡¨ç¤ºç”¨æˆ·å¯¹ä¸€ä¸ªäº§å“çš„æ‰“åˆ†</p><p>å„ç§Labelç±»ï¼šæ¯ä¸ªModeléƒ½æ˜¯è®­ç»ƒç®—æ³•çš„ç»“æœï¼Œå¯ä»¥ç”¨trainè¿›è¡Œè®­ç»ƒï¼Œç”¨predictè¿›è¡Œé¢„æµ‹</p><h3 id="7-2-2-åŸºäºDescribeå±æ€§åˆ†è¯å¤„ç†çš„æ•°æ®åˆ†æ"><a href="#7-2-2-åŸºäºDescribeå±æ€§åˆ†è¯å¤„ç†çš„æ•°æ®åˆ†æ" class="headerlink" title="7.2.2 åŸºäºDescribeå±æ€§åˆ†è¯å¤„ç†çš„æ•°æ®åˆ†æ"></a>7.2.2 åŸºäºDescribeå±æ€§åˆ†è¯å¤„ç†çš„æ•°æ®åˆ†æ</h3><p>æµç¨‹å’Œscikit-learnç‰ˆæœ¬çš„å¾ˆç›¸ä¼¼ï¼ŒåŒ…å«3ä¸ªæ­¥éª¤ï¼š</p><p>1.regexTokenizer: åˆ©ç”¨æ­£åˆ™åˆ‡åˆ†å•è¯</p><p>2.stopwordsRemover: ç§»é™¤åœç”¨è¯</p><p>3.countVectors: æ„å»ºè¯é¢‘å‘é‡</p><p>RegexTokenizerï¼šåŸºäºæ­£åˆ™çš„æ–¹å¼è¿›è¡Œæ–‡æ¡£åˆ‡åˆ†æˆå•è¯ç»„ inputCol: è¾“å…¥å­—æ®µï¼›outputCol: è¾“å‡ºå­—æ®µï¼›patternï¼š åŒ¹é…æ¨¡å¼ï¼Œæ ¹æ®åŒ¹é…åˆ°çš„å†…å®¹åˆ‡åˆ†å•è¯ã€‚</p><p>CountVectorizerï¼šæ„å»ºè¯é¢‘å‘é‡ï¼›covabSize: é™åˆ¶çš„è¯é¢‘æ•°ï¼›minDFï¼šå¦‚æœæ˜¯floatï¼Œåˆ™è¡¨ç¤ºå‡ºç°çš„ç™¾åˆ†æ¯”å°äºminDF,ä¸ä¼šè¢«å½“åšå…³é”®è¯</p><p>StringIndexerå°†ä¸€åˆ—å­—ç¬¦ä¸²labelç¼–ç ä¸ºä¸€åˆ—ç´¢å¼•å·ï¼Œæ ¹æ®labelå‡ºç°çš„é¢‘ç‡æ’åºï¼Œæœ€é¢‘ç¹å‡ºç°çš„labelçš„indexä¸º0</p><p>è¯¥ä¾‹å­ä¸­ï¼Œlabelä¼šè¢«ç¼–ç æˆä»0-32çš„æ•´æ•°ï¼Œæœ€é¢‘ç¹çš„labelè¢«ç¼–ç æˆ0</p><p>Pipelineæ˜¯åŸºäºDataFrameçš„é«˜å±‚APIï¼Œå¯ä»¥æ–¹ä¾¿ç”¨æˆ·æ„å»ºå’Œè°ƒè¯•æœºå™¨å­¦ä¹ æµæ°´çº¿ï¼Œå¯ä»¥ä½¿å¾—å¤šä¸ªæœºå™¨å­¦ä¹ ç®—æ³•é¡ºåºæ‰§è¡Œï¼Œè¾¾åˆ°é«˜æ•ˆçš„æ•°æ®å¤„ç†çš„ç›®çš„ã€‚</p><table><thead><tr><th><strong>ä»¥è¯é¢‘ä½œä¸ºç‰¹å¾ï¼Œåˆ©ç”¨é€»è¾‘å›å½’è¿›è¡Œåˆ†ç±»</strong>    LRç”¨äºç›‘ç£å¼åˆ†ç±»é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨SGDç­‰æ–¹æ³•å¯¹LRè¿›è¡Œè®­ç»ƒï¼Œ    clearThresholdä¹‹åï¼ŒLRä¼šè¾“å‡ºåŸå§‹æ¦‚ç‡ï¼Œä¹Ÿå¯ä»¥è®¾ç½®æ¦‚ç‡é˜ˆå€¼ï¼Œç›´æ¥è¾“å‡ºåˆ†ç±»ç»“æœ</th></tr></thead><tbody><tr><td>drop_list  &#x3D; [â€˜Datesâ€™, â€˜DayOfWeekâ€™, â€˜PdDistrictâ€™, â€˜Resolutionâ€™, â€˜Addressâ€™, â€˜Xâ€™, â€˜Yâ€™]  data &#x3D;  data.select([column for column in data.columns if column not in drop_list])  from pyspark.ml.feature import RegexTokenizer,  StopWordsRemover, CountVectorizer  from pyspark.ml.classification import  LogisticRegression  # regular expression tokenizer  regexTokenizer &#x3D;  RegexTokenizer(inputCol&#x3D;â€Descriptâ€, outputCol&#x3D;â€wordsâ€,  pattern&#x3D;â€\Wâ€)  # stop words  add_stopwords &#x3D;  [â€œhttpâ€,â€httpsâ€,â€ampâ€,â€rtâ€,â€tâ€,â€câ€,â€theâ€]    stopwordsRemover &#x3D;  StopWordsRemover(inputCol&#x3D;â€wordsâ€,  outputCol&#x3D;â€filteredâ€).setStopWords(add_stopwords)  # bag of words count  countVectors &#x3D;  CountVectorizer(inputCol&#x3D;â€filteredâ€,  outputCol&#x3D;â€featuresâ€,vocabSize&#x3D;10000, minDF&#x3D;5)</td></tr><tr><td>label_stringIdx &#x3D; StringIndexer(inputCol &#x3D; â€œCategoryâ€,  outputCol &#x3D; â€œlabelâ€)  pipeline &#x3D; Pipeline(stages&#x3D;[regexTokenizer, stopwordsRemover,  countVectors, label_stringIdx])  # Fit the pipeline to training documents.  pipelineFit &#x3D; pipeline.fit(data)  dataset &#x3D; pipelineFit.transform(data)  (trainingData, testData) &#x3D; dataset.randomSplit([0.7, 0.3], seed &#x3D; 100)     lr &#x3D; LogisticRegression(maxIter&#x3D;20, regParam&#x3D;0.3, elasticNetParam&#x3D;0)  lrModel &#x3D; lr.fit(trainingData)  predictions &#x3D; lrModel.transform(testData)  predictions.filter(predictions[â€˜predictionâ€™] &#x3D;&#x3D; 0) \      .select(â€œDescriptâ€,â€Categoryâ€,â€probabilityâ€,â€labelâ€,â€predictionâ€)  \      .orderBy(â€œprobabilityâ€, ascending&#x3D;False) \    .show(n &#x3D; 10, truncate &#x3D; 30)  evaluator &#x3D;  MulticlassClassificationEvaluator(predictionCol&#x3D;â€predictionâ€)  evaluator.evaluate(predictions)</td></tr><tr><td><strong><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image090.png" alt="img"></strong></td></tr><tr><td><strong>ä»¥TF-IDä½œä¸ºç‰¹å¾ï¼Œåˆ©ç”¨é€»è¾‘å›å½’è¿›è¡Œåˆ†ç±»</strong>  TFIDFæ˜¯ä¸€ç§ä»æ–‡æœ¬æ–‡æ¡£ç”Ÿæˆç‰¹å¾å‘é‡çš„ç®€å•æ–¹æ³•ï¼Œæ–‡æ¡£ä¸­çš„è¯æœ‰2ä¸ªç»Ÿè®¡å€¼ï¼šTFä¸IDFï¼ŒTFæŒ‡çš„æ˜¯æ¯ä¸ªè¯å’‹æ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°ï¼ŒIDFç”¨äºè¡¡é‡ä¸€ä¸ªè¯åœ¨æ•´ä¸ªæ–‡æ¡£è¯­æ–™åº“ä¸­å‡ºç°çš„(é€†)é¢‘ç¹ç¨‹åº¦  HashingTFç”¨äºè®¡ç®—TFï¼ŒIDFç”¨äºIDFï¼ŒhashingTFç”¨çš„æ˜¯å“ˆå¸Œçš„æ–¹æ³•ï¼Œç”Ÿæˆç¨€ç–å‘é‡</td></tr><tr><td>from pyspark.ml.feature import HashingTF, IDF  hashingTF &#x3D; HashingTF(inputCol&#x3D;â€filteredâ€,  outputCol&#x3D;â€rawFeaturesâ€, numFeatures&#x3D;10000)  idf &#x3D; IDF(inputCol&#x3D;â€rawFeaturesâ€,  outputCol&#x3D;â€featuresâ€, minDocFreq&#x3D;5)   #minDocFreq: remove sparse terms  pipeline &#x3D; Pipeline(stages&#x3D;[regexTokenizer,  stopwordsRemover, hashingTF, idf, label_stringIdx])  pipelineFit &#x3D; pipeline.fit(data)  dataset &#x3D; pipelineFit.transform(data)     lr &#x3D; LogisticRegression(maxIter&#x3D;20, regParam&#x3D;0.3,  elasticNetParam&#x3D;0)  lrModel &#x3D; lr.fit(trainingData)  predictions &#x3D; lrModel.transform(testData)  predictions.filter(predictions[â€˜predictionâ€™] &#x3D;&#x3D; 0) \      .select(â€œDescriptâ€,â€Categoryâ€,â€probabilityâ€,â€labelâ€,â€predictionâ€)  \      .orderBy(â€œprobabilityâ€, ascending&#x3D;False) \    .show(n &#x3D; 10,  truncate &#x3D; 30)      evaluator &#x3D;  MulticlassClassificationEvaluator(predictionCol&#x3D;â€predictionâ€)  evaluator.evaluate(predictions)</td></tr><tr><td><strong><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image092.png" alt="img"></strong></td></tr><tr><td><strong>äº¤å‰éªŒè¯</strong>  ç”¨äº¤å‰éªŒè¯æ¥ä¼˜åŒ–å‚æ•°ï¼Œè¿™é‡Œé’ˆå¯¹åŸºäºè¯é¢‘ç‰¹å¾çš„é€»è¾‘å›å½’æ¨¡å‹è¿›è¡Œä¼˜åŒ–</td></tr><tr><td>#äº¤å‰éªŒè¯  from pyspark.ml import Pipeline  pipelinec &#x3D; Pipeline(stages&#x3D;[regexTokenizer,  stopwordsRemover, countVectors, label_stringIdx])  pipelineFit &#x3D; pipelinec.fit(data)  dataset &#x3D; pipelineFit.transform(data)  (trainingData, testData) &#x3D; dataset.randomSplit([0.7,  0.3], seed &#x3D; 100)  lr &#x3D; LogisticRegression(maxIter&#x3D;20, regParam&#x3D;0.3,  elasticNetParam&#x3D;0)  from pyspark.ml.tuning import ParamGridBuilder,  CrossValidator  # Create ParamGrid for Cross Validation  paramGrid &#x3D; (ParamGridBuilder()          .addGrid(lr.regParam, [0.1, 0.3, 0.5]) # regularization parameter          .addGrid(lr.elasticNetParam, [0.0, 0.1, 0.2])              # Elastic Net Parameter (Ridge &#x3D; 0)  #        .addGrid(model.maxIter, [10, 20, 50]) #Number of iterations  #        .addGrid(idf.numFeatures, [10, 100, 1000]) # Number of features          .build())  from pyspark.ml.evaluation import  MulticlassClassificationEvaluator  evaluator &#x3D;  MulticlassClassificationEvaluator(predictionCol&#x3D;â€predictionâ€)  # Create 5-fold CrossValidator  cv &#x3D; CrossValidator(estimator&#x3D;lr, \              estimatorParamMaps&#x3D;paramGrid, \              evaluator&#x3D;evaluator, \              numFolds&#x3D;5)  cvModel &#x3D; cv.fit(trainingData)  predictions &#x3D; cvModel.transform(testData)  # Evaluate best model  evaluator.evaluate(predictions)</td></tr><tr><td><strong><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image093.png" alt="img"></strong></td></tr><tr><td><strong>æœ´ç´ è´å¶æ–¯</strong></td></tr><tr><td>from pyspark.ml.classification import NaiveBayes  nb &#x3D; NaiveBayes(smoothing&#x3D;1)  model &#x3D; nb.fit(trainingData)  predictions &#x3D; model.transform(testData)  predictions.filter(predictions[â€˜predictionâ€™] &#x3D;&#x3D; 0) \      .select(â€œDescriptâ€,â€Categoryâ€,â€probabilityâ€,â€labelâ€,â€predictionâ€)  \      .orderBy(â€œprobabilityâ€, ascending&#x3D;False) \    .show(n &#x3D; 10,  truncate &#x3D; 30)     from pyspark.ml.evaluation import  MulticlassClassificationEvaluator  evaluator &#x3D;  MulticlassClassificationEvaluator(predictionCol&#x3D;â€predictionâ€)  evaluator.evaluate(predictions)</td></tr><tr><td><strong><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image095.png" alt="img"></strong></td></tr><tr><td><strong>éšæœºæ£®æ—</strong>  å‚æ•°è§£é‡Šï¼š  ataï¼šç”±LabeledPointç»„æˆçš„rdd  numClassesï¼šåˆ†ç±»ä»»åŠ¡æ—¶ï¼Œæœ‰è¯¥å‚æ•°ï¼Œè¡¨ç¤ºç±»åˆ«æ•°é‡  impurityï¼šèŠ‚ç‚¹çš„ä¸çº¯åº¦æµ‹é‡ï¼Œå¯¹äºåˆ†ç±»å¯ä»¥ä½¿ç”¨giniç³»æ•°æˆ–è€…ä¿¡æ¯ç†µï¼Œå¯¹å›å½’åªèƒ½æ˜¯varainace  maxDepthï¼šæ•°çš„æœ€å¤§æ·±åº¦ï¼Œé»˜è®¤ä¸º5ã€‚  maxBinsï¼šåœ¨æ„å»ºå„èŠ‚ç‚¹æ—¶ï¼Œå°†æ•°æ®åˆ†åˆ°å¤šå°‘ä¸ªç®±å­ä¸­  cateoricalFeaturesInfoï¼šæŒ‡å®šå“ªäº›ç‰¹å¾æ˜¯ç”¨äºåˆ†ç±»çš„ï¼Œä»¥åŠæœ‰å¤šå°‘ä¸ªåˆ†ç±»ã€‚  numTreesï¼Œå³å†³ç­–æ ‘çš„ä¸ªæ•°ã€‚  * featureSubsetStrategyï¼šåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šåšå†³å®šæ—¶æ‰€è€ƒè™‘çš„ç‰¹å¾çš„æ•°é‡ï¼Œå¯ä»¥æ˜¯autoã€allã€sqrtã€log2ã€onethirdç­‰ï¼Œæ•°ç›®è¶Šå¤§ï¼Œè®¡ç®—çš„ä»£ä»·è¶Šå¤§ã€‚  * seedï¼šé‡‡ç”¨çš„éšæœºæ•°ç§å­</td></tr><tr><td>from pyspark.ml.classification import  RandomForestClassifier  rf &#x3D; RandomForestClassifier(labelCol&#x3D;â€labelâ€,  \                  featuresCol&#x3D;â€featuresâ€, \                numTrees &#x3D; 100, \                maxDepth &#x3D; 4, \                maxBins &#x3D; 32)  # Train model with Training Data  rfModel &#x3D; rf.fit(trainingData)  predictions &#x3D; rfModel.transform(testData)  predictions.filter(predictions[â€˜predictionâ€™] &#x3D;&#x3D; 0) \      .select(â€œDescriptâ€,â€Categoryâ€,â€probabilityâ€,â€labelâ€,â€predictionâ€)  \      .orderBy(â€œprobabilityâ€, ascending&#x3D;False) \    .show(n &#x3D; 10,  truncate &#x3D; 30)      evaluator &#x3D; MulticlassClassificationEvaluator(predictionCol&#x3D;â€predictionâ€)  evaluator.evaluate(predictions)</td></tr><tr><td><strong><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image097.png" alt="img"></strong></td></tr></tbody></table><p>ä¸Šé¢çš„ç»“æœå¯ä»¥çœ‹å‡ºï¼šæœ´ç´ è´å¶æ–¯æ˜¯ä¼˜ç§€çš„ã€é²æ£’çš„é€šç”¨æ¨¡å‹ã€‚åŒæ ·é€‰æ‹©ä½¿ç”¨äº¤å‰éªŒè¯çš„é€»è¾‘å›å½’ä¹Ÿæ˜¯ä¸ªæ˜æ™ºçš„é€‰æ‹©ã€‚ä½†æ˜¯é€‰æ‹©äº¤å‰éªŒè¯çš„é€»è¾‘å›å½’æ—¶éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼šç”±äºä½¿ç”¨äº†äº¤å‰éªŒè¯ï¼Œè®­ç»ƒæ—¶é—´ä¼šè¿‡é•¿ï¼Œåœ¨å®é™…çš„åº”ç”¨åœºæ™¯ä¸­è¦æ ¹æ®ä¸šåŠ¡é€‰æ‹©æœ€åˆé€‚çš„æ¨¡å‹ã€‚</p><h1 id="å…«ï¼é—®é¢˜"><a href="#å…«ï¼é—®é¢˜" class="headerlink" title="å…«ï¼é—®é¢˜"></a>å…«ï¼é—®é¢˜</h1><ol><li><p>Question:Hbaseå‡ºç°ERROR: Canâ€™t get master address from ZooKeeper; znode data &#x3D;&#x3D; nullè§£å†³åŠæ³•</p><p>Reason: å‡ºç°æ­¤é—®é¢˜å¯èƒ½æ˜¯zookeeperä¸ç¨³å®šé€ æˆçš„ï¼Œé‡‡ç”¨çš„æ˜¯è™šæ‹Ÿæœºï¼Œç»å¸¸æŒ‚èµ·çš„çŠ¶æ€ï¼Œä½¿ç”¨hbaseçš„listå‘½ä»¤å‡ºç°ä¸‹é¢é”™è¯¯ï¼Œè¿™ä¸ªå¯èƒ½æ˜¯hbaseçš„ç¨³å®šæ€§é€ æˆçš„ã€‚æˆ–è€…æ˜¯è¿è¡Œhbase(zookeeper)çš„ç”¨æˆ·æ— æ³•å†™å…¥zookeeperæ–‡ä»¶ï¼Œå¯¼è‡´znode dataä¸ºç©ºã€‚</p><p>Solutionï¼šæ–¹æ³•ä¸€ï¼šé‡å¯hbaseã€‚Stop-hbase.sh  start-hbase.sh</p><p>â€‹        æ–¹æ³•äºŒï¼šä¿®æ”¹hbase-site.xmlä¸­çš„hbase.zookeeper.property.dataDiræ–‡ä»¶å¤¹çš„æƒé™ï¼Œå¹¶æ³¨æ„rootdirä¸­çš„IPè®¾å®šå¾ˆé‡è¦ï¼Œéœ€è¦è®¾å®šå¯¹åº”çš„IPä¸hadoopä¸‹çš„core-site.xmlä¸­fs.defaultFSä¸­çš„è·¯å¾„ä¸ç›¸åŒï¼Œåé‡å¯hbaseã€zookeeper</p></li><li><p>Questionï¼šåœ¨ä½¿ç”¨sqoopè¿›è¡Œä¸€ç³»åˆ—æ•°æ®ä¼ è¾“çš„å°é—®é¢˜ï¼š</p><p>2.1ï¼šERROR tool.ImportTool: Encountered IOException running import job: java.io.IOException:</p><p>2.2ï¼šERROR mapreduce.ExportJobBase: Export job failed!</p><p>â€‹ERROR tool.ExportTool: Error during export: </p><p>â€‹Export job failed!</p><p>Solutionï¼š2.1 è¿™ä¸ªæ˜¯ç”±äºmysql-connector-javaçš„bugé€ æˆçš„ï¼Œå‡ºé”™æ—¶æˆ‘ç”¨çš„æ˜¯mysql-connector-java-5.1.10-bin.jarï¼Œæ›´æ–°æˆmysql-connector-java-5.1.32-bin.jarå°±å¯ä»¥äº†ã€‚åŒæ—¶ä¹Ÿè¦æ³¨æ„è¯­å¥ä¸­ipçš„æ‹¼å†™</p><p>2.2 ç¬¬ä¸€æ­¥ï¼šå®Œæ•´çš„æ£€æŸ¥mysqlå’Œhiveè¡¨çš„ç»“æ„(å­—æ®µåç§°å’Œæ•°æ®ç±»å‹)æ˜¯å¦ä¸€è‡´ã€‚</p><p>ç¬¬äºŒæ­¥ï¼šæŸ¥çœ‹æ•°æ®æœ‰æ²¡æœ‰å¯¼å…¥ï¼Ÿå¦‚æœæ•°æ®æ²¡æœ‰å¯¼å…¥ï¼Œè¯·åœ¨æ£€æŸ¥ç¬¬ä¸€æ­¥æ“ä½œï¼Œå¯ä»¥å°†mysqlå’Œhiveä¸­çš„æ—¶é—´ç±»å‹éƒ½æ”¹æˆstringæˆ–varcharç±»å‹è¯•ä¸€ä¸‹ã€‚å¦‚æœæœ‰å¯¼å…¥ï¼Œä½†æ˜¯å¯¼å…¥çš„æ•°æ®ä¸å…¨æˆ–è€…ä¸å¯¹ã€‚è¯´æ˜è‚¯å®šæ˜¯ä½ çš„æ•°æ®ç±»å‹å’Œå®é™…çš„æ•°æ®ä¸ä¸€è‡´ã€‚ä¸‹é¢åˆ†ä¸¤ç§æƒ…å†µã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼šåœ¨mysqlåˆ°hiveä¸­ï¼Œè¯·åŠ¡å¿…æ£€æŸ¥ä½ çš„æ•°æ®ä¸­æ˜¯å¦åŒ…å«hiveå»ºè¡¨é»˜è®¤çš„æ¢è¡Œç¬¦ \n (LINES TERMINATED BY â€˜\nâ€™)ã€‚ </p><p>ç¬¬å››æ­¥ï¼šåœ¨mysqlåˆ°hiveä¸­ï¼Œè¯·åŠ¡å¿…æ£€æŸ¥ä½ çš„æ•°æ®ä¸­æ˜¯å¦åŒ…å«hiveå»ºè¡¨å¸¸ç”¨çš„å­—æ®µåˆ†éš”ç¬¦ \t(FIELDS TERMINATED BY â€˜\tâ€™)ã€‚å¦‚æœæœ‰ï¼Œåˆ™sqoopè¯­å¥ä¸­ fields-terminated-by å‚æ•°ä¸èƒ½ç”¨ \t</p></li><li><p>Questionï¼šInput path does not exist:hdfs:&#x2F;&#x2F;Master:9000&#x2F;user&#x2F;hive&#x2F;wavehouse&#x2F;crime.db&#x2F;log</p><p>Reasonï¼šå…¶å®å¾ˆç®€å•ï¼Œlogæ˜¯å¤–éƒ¨è¡¨ï¼Œåœ¨å¯¹åº”hiveæ•°æ®åº“çš„å­˜æ”¾åœ°å€å†…æ˜¯è®¿é—®ä¸åˆ°çš„</p><p>Solutionï¼šéœ€è¦å»ºä¸€ä¸ªå†…éƒ¨è¡¨å¤åˆ¶ä¸€ä¸‹å¤–éƒ¨è¡¨å°±å¯ä»¥è®¿é—®åˆ°äº†</p></li><li><p>Questionï¼šåœ¨æŒ‚èµ·å›å¤ä»¥åï¼Œhbsaeçš„å­èŠ‚ç‚¹ä¸Šçš„è¿›ç¨‹HRegionServeræŒ‚æ‰ã€‚</p><p>Reasonï¼šæ³¨æ„æŸ¥çœ‹logæ—¥å¿—æŠ¥å‘Šçš„å…·ä½“é”™è¯¯ä¿¡æ¯ã€‚ZooKeeper delete failed after 4 attemptsï¼Œzookeeperå¯¹äºHmasterçš„é€‰ä¸¾äº§ç”Ÿäº†é˜»ç¢æ•ˆæœã€‚Solutionï¼š</p><p>é¦–å…ˆå…³é—­Hbaseã€Zookeeperã€‚æŸ¥çœ‹Hbaseè‡ªå¸¦zookeeperæ˜¯å¦å ç”¨2181ç«¯å£ã€‚</p><p>å¯åŠ¨zookeeper</p><ul><li>ç›´æ¥å¯åŠ¨å®¢æˆ·ç«¯è„šæœ¬ zkCli.sh</li><li>æŸ¥çœ‹ZookeeperèŠ‚ç‚¹ä¿¡æ¯ ls &#x2F;</li><li>é€’å½’åˆ é™¤HbaseèŠ‚ç‚¹ rmr &#x2F;hbase</li><li>é€€å‡ºå®¢æˆ·ç«¯ quit</li><li>é‡å¯ZookeeperæœåŠ¡  zkServer.sh restart</li></ul><p>å½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯æ—¶é—´ä¸ä¸€è‡´å¯¼è‡´çš„ï¼Œæ³¨æ„åŒæ­¥å„èŠ‚ç‚¹çš„æ—¶é—´</p><p>å†å¯åŠ¨Hbaseå³å¯ã€‚</p></li></ol><h1 id="ä¹ï¼å°ç»“"><a href="#ä¹ï¼å°ç»“" class="headerlink" title="ä¹ï¼å°ç»“"></a>ä¹ï¼å°ç»“</h1><p>æœ¬æ¬¡å¤§ä½œä¸šçš„è®¾è®¡å°½å¯èƒ½åœ°è¿ç”¨åˆ°äº†æœ¬è¯¾ç¨‹ä¸­æ‰€æœ‰çš„å­¦ä¹ éƒ¨åˆ†ï¼šHadoopåˆ†å¸ƒå¼å¤„ç†æ¡†æ¶ã€Hdfsåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€Hbaseåˆ†å¸ƒå¼åˆ—å­˜å‚¨æ•°æ®åº“ã€Hiveæ•°æ®ä»“åº“ã€Zookeeperåˆ†å¸ƒå¼åä½œæœåŠ¡ã€SparkåŸºäºå†…å­˜çš„åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ã€Sqoopæ•°æ®åŒæ­¥å·¥å…·ã€‚å½“ä½œæ˜¯æˆ‘å¯¹æœ¬æ¬¡è¯¾ç¨‹çš„ä¸€æ¬¡æ£€æµ‹ã€‚å½“ç„¶è¿˜å­˜åœ¨å¾ˆå¤šåŸºç¡€çš„æ¡†æ¶åº”ç”¨ç­‰å¾…æˆ‘ä»¬å­¦ä¹ å¦‚Kafkaåˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ã€Flumeæ—¥å¿—æ”¶é›†å·¥å…·Stromã€Flinkåˆ†å¸ƒå¼æµè®¡ç®—æ¡†æ¶ã€Oozieå·¥ä½œæµè°ƒåº¦å™¨ç­‰ã€‚å¤§æ•°æ®çš„å­¦ä¹ æ°¸æ— æ­¢å¢ƒï¼</p><p>æœ¬è¯¾è®¾é‡‡ç”¨çš„æ•°æ®é›†æ˜¯æ—§é‡‘å±±çš„çŠ¯ç½ªæ•°æ®ã€‚è™½ç„¶ä¸æ˜¯å›½å†…æ•°æ®ï¼Œæ—¶æ•ˆä¹Ÿä¸å¤ªå¥½ï¼Œä½†æ˜¯æ„æˆäº†ä¸€ä¸ªå®Œæ•´çš„å¤„ç†æ•°æ®çš„æµç¨‹ã€‚æ•°æ®æ¸…æ´—ï¼Œæ•°æ®åˆ†æï¼Œæ•°æ®å»ºæ¨¡ï¼Œæ•°æ®é¢„æµ‹ã€‚å½“ç„¶åœ¨ç”±äºhiveè¯­å¥æ²¡æœ‰pythonç†Ÿç»ƒçš„ç¼˜æ•…ï¼ŒHqlè°ƒç”¨çš„æ¯”è¾ƒå°‘ï¼Œåªèƒ½ç®€å•æŸ¥çœ‹ä¸€äº›ã€‚é«˜çº§ä¸€äº›çš„æ•°æ®å±æ€§ä¹‹é—´çš„å…³è”ä»ç„¶æ˜¯è¾ƒå°‘çš„ã€‚ä½†å¥½åœ¨åœ¨pythonå¯è§†åŒ–çš„æ—¶å€™ï¼Œåˆ©ç”¨pythonåšäº†ä¸€äº›æ•°æ®çš„å¤„ç†ï¼Œä¹Ÿå‘ˆç°å‡ºä¸€äº›è‰¯å¥½çš„æ•ˆæœï¼Œè§‚å¯Ÿåˆ°ä¸€äº›æœ‰ç”¨çš„èµ°åŠ¿å’Œæ³¢åŠ¨ã€‚åŒæ ·åœ¨æ•°æ®å»ºæ¨¡çš„æ—¶å€™ï¼Œè¿ç”¨çš„æ¯”è¾ƒç®€å•ï¼Œå¯¹äºæ•°æ®é™ç»´ï¼Œå¤šå±æ€§æ•°æ®çš„ç‰¹å¾æå–è¿™ç±»æ–¹æ³•è¿ç”¨çš„ä¸æ·±ã€‚å•çº¯çš„é€šè¿‡å•ä¸€çš„æ¨¡å‹æ¥å¤„ç†æ•ˆæœå¹¶ä¸æ˜¯å¾ˆç†æƒ³ï¼Œéœ€è¦æˆ‘è¿›ä¸€æ­¥åˆ©ç”¨ç½‘ç»œå¯¹è´å¶æ–¯å¤„ç†å¥½çš„æ•°æ®è¿›è¡Œæ·±å±‚æ¬¡çš„è¾¨æã€‚ä¹Ÿè®¸ä¼šå¾—åˆ°æ›´å¥½çš„æ•ˆæœã€‚å½“ç„¶åœ¨kaggleä¸Šä¹Ÿæœ‰å¾ˆå¤šå¤§ç¥åœ¨è¿™ä¸ªç«èµ›ä¸­æäº¤äº†ç›¸å½“æœ‰è¶£çš„ä»£ç ï¼Œä¾‹å¦‚xgboostå’Œlightgbmï¼Œè¿™å€¼å¾—æˆ‘å»å­¦ä¹ ï¼Œå°è¯•ç€æ¥ä¸‹é‡Œæ¥è¿™äº›ä»£ç éƒ¨ç½²åˆ°sparkä¸­å®ç°ã€‚</p><p>æœ¬æ¬¡ä½œä¸šçš„å®Œæˆï¼Œé¢„ç¤ºä¸€æ®µå­¦ä¹ çš„ç»“æŸï¼Œæ˜¯å¯¹æˆ‘è¿™æ®µæ—¶é—´å­¦ä¹ çš„è¯„ä»·ã€‚åŒæ ·ä¹Ÿä¸ºæˆ‘æ­å¼€äº†ä¸‹ä¸€æ­¥å­¦ä¹ çš„åºå¹•ã€‚åœ¨å®ç°å„ä¸ªè¿‡ç¨‹ä¸­çš„ç»†èŠ‚å’Œä¸è¶³éƒ½æˆæˆ‘ç»§ç»­å‰è¿›çš„åŠ¨åŠ›ï¼Œå¯¹äºæ›´å¥½æ›´ä¾¿æ·çš„æ¡†æ¶æ›´å¸å¼•ç€æˆ‘ã€‚ï¿½ï¿½</p>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>PySpark</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”1.HADOOPç›¸å…³çŸ¥è¯†</title>
    <link href="/2022/01/01/BigData&amp;Linux/1.Hadoop%E7%9B%B8%E5%85%B3/"/>
    <url>/2022/01/01/BigData&amp;Linux/1.Hadoop%E7%9B%B8%E5%85%B3/</url>
    
    <content type="html"><![CDATA[<h1 id="HADOOP-ç›¸å…³çŸ¥è¯†"><a href="#HADOOP-ç›¸å…³çŸ¥è¯†" class="headerlink" title="HADOOP ç›¸å…³çŸ¥è¯†"></a>HADOOP ç›¸å…³çŸ¥è¯†</h1><h2 id="Hadoopçš„ä¼˜åŠ¿"><a href="#Hadoopçš„ä¼˜åŠ¿" class="headerlink" title="Hadoopçš„ä¼˜åŠ¿"></a>Hadoopçš„ä¼˜åŠ¿</h2><p>â’ˆé«˜å¯é æ€§ã€‚HadoopæŒ‰ä½å­˜å‚¨å’Œå¤„ç†æ•°æ®çš„èƒ½åŠ›å€¼å¾—äººä»¬ä¿¡èµ–ã€‚<br>â’‰é«˜æ‰©å±•æ€§ã€‚Hadoopæ˜¯åœ¨å¯ç”¨çš„è®¡ç®—æœºé›†ç°‡é—´åˆ†é…æ•°æ®å¹¶å®Œæˆè®¡ç®—ä»»åŠ¡çš„ï¼Œè¿™äº›é›†ç°‡å¯ä»¥æ–¹ä¾¿åœ°æ‰©å±•åˆ°æ•°ä»¥åƒè®¡çš„èŠ‚ç‚¹ä¸­ã€‚<br>â’Šé«˜æ•ˆæ€§ã€‚Hadoopèƒ½å¤Ÿåœ¨èŠ‚ç‚¹ä¹‹é—´åŠ¨æ€åœ°ç§»åŠ¨æ•°æ®ï¼Œå¹¶ä¿è¯å„ä¸ªèŠ‚ç‚¹çš„åŠ¨æ€å¹³è¡¡ï¼Œå› æ­¤å¤„ç†é€Ÿåº¦éå¸¸å¿«ã€‚<br>â’‹é«˜å®¹é”™æ€§ã€‚Hadoopèƒ½å¤Ÿè‡ªåŠ¨ä¿å­˜æ•°æ®çš„å¤šä¸ªå‰¯æœ¬ï¼Œå¹¶ä¸”èƒ½å¤Ÿè‡ªåŠ¨å°†å¤±è´¥çš„ä»»åŠ¡é‡æ–°åˆ†é…ã€‚</p><h2 id="Hadoopå¯åŠ¨åèƒ½çœ‹åˆ°å“ªäº›è¿›ç¨‹"><a href="#Hadoopå¯åŠ¨åèƒ½çœ‹åˆ°å“ªäº›è¿›ç¨‹" class="headerlink" title="Hadoopå¯åŠ¨åèƒ½çœ‹åˆ°å“ªäº›è¿›ç¨‹"></a>Hadoopå¯åŠ¨åèƒ½çœ‹åˆ°å“ªäº›è¿›ç¨‹</h2><p>å¯ä»¥çœ‹åˆ°ä¸»èŠ‚ç‚¹ä¸Šæœ‰ä¸‰ä¸ªè¿›ç¨‹ : Namenodeã€Secondarnamenodeã€Resourcemanager<br>ä»èŠ‚ç‚¹ä¸Šæœ‰ä¸¤ä¸ªè¿›ç¨‹ : Datanodeå’ŒNodenodemanager</p><ul><li>Namenodeï¼šå®ƒæ˜¯Hadoop ä¸­çš„ä¸»æœåŠ¡å™¨ï¼Œç®¡ç†æ–‡ä»¶ç³»ç»Ÿåç§°ç©ºé—´å’Œå¯¹é›†ç¾¤ä¸­å­˜å‚¨çš„æ–‡ä»¶çš„è®¿é—®ã€‚</li><li>Secondarnamenodeï¼šå®ƒä¸æ˜¯ namenode çš„å†—ä½™å®ˆæŠ¤è¿›ç¨‹ï¼Œè€Œæ˜¯æä¾›å‘¨æœŸæ£€æŸ¥ç‚¹å’Œæ¸…ç†ä»»åŠ¡ã€‚ç”¨æ¥ç›‘æ§HDFSçŠ¶æ€çš„è¾…åŠ©åå°ç¨‹åº</li><li>Resourcemanager: YARNä¸­ï¼ŒResourceManagerè´Ÿè´£é›†ç¾¤ä¸­æ‰€æœ‰èµ„æºçš„ç»Ÿä¸€ç®¡ç†å’Œåˆ†é…ï¼Œå®ƒæ¥æ”¶æ¥è‡ªå„ä¸ªèŠ‚ç‚¹çš„èµ„æºæ±‡æŠ¥ä¿¡æ¯ï¼Œå¹¶æŠŠè¿™äº›ä¿¡æ¯æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥åˆ†é…ç»™å„ä¸ªåº”ç”¨ç¨‹åºä¸æ¯ä¸ªèŠ‚ç‚¹çš„ç®¡ç†è€…å’Œæ¯ä¸ªåº”ç”¨å¼€å‘è€…ä¸€èµ·å·¥ä½œã€‚</li><li>Datanodeï¼šè´Ÿè´£ç®¡ç†å®ƒæ‰€åœ¨ç»“ç‚¹ä¸Šå­˜å‚¨çš„æ•°æ®çš„è¯»å†™ï¼ŒåŠå­˜å‚¨æ•°æ®ï¼›æ¯ä¸ªDatanodeç»“ç‚¹ä¼šå‘¨æœŸæ€§åœ°å‘Namenodeå‘é€å¿ƒè·³ä¿¡å·å’Œæ–‡ä»¶å—çŠ¶æ€æŠ¥å‘Šï¼›æ‰§è¡Œæ•°æ®çš„æµæ°´çº¿å¤åˆ¶ã€‚</li><li>Nodenodemanagerï¼šè¿è¡Œåœ¨å•ä¸ªèŠ‚ç‚¹ä¸Šçš„ä»£ç†ï¼Œå®ƒç®¡ç†Hadoopé›†ç¾¤ä¸­å•ä¸ªè®¡ç®—èŠ‚ç‚¹ï¼ŒåŠŸèƒ½åŒ…æ‹¬ä¸ResourceManagerä¿æŒé€šä¿¡ï¼Œç®¡ç†Containerçš„ç”Ÿå‘½å‘¨æœŸã€ç›‘æ§æ¯ä¸ªContainerçš„èµ„æºä½¿ç”¨(å†…å­˜ã€CPUç­‰ï¼‰æƒ…å†µã€è¿½è¸ªèŠ‚ç‚¹å¥åº·çŠ¶å†µã€ç®¡ç†æ—¥å¿—å’Œä¸åŒåº”ç”¨ç¨‹åºç”¨åˆ°çš„é™„å±æœåŠ¡</li></ul>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>10.Nosqlåˆ†ç‰‡å¤åˆ¶</title>
    <link href="/2022/01/01/BigData&amp;Linux/10.Nosql%E5%88%86%E7%89%87%E5%A4%8D%E5%88%B6/"/>
    <url>/2022/01/01/BigData&amp;Linux/10.Nosql%E5%88%86%E7%89%87%E5%A4%8D%E5%88%B6/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€ç³»ç»Ÿç¯å¢ƒ"><a href="#ä¸€ã€ç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="ä¸€ã€ç³»ç»Ÿç¯å¢ƒ"></a>ä¸€ã€ç³»ç»Ÿç¯å¢ƒ</h1><p>Centos MongoDB å…³é—­é˜²ç«å¢™</p><table><thead><tr><th><strong>192.168.174.131</strong></th><th><strong>192.168.174.132</strong></th><th><strong>192.168.174.133</strong></th></tr></thead><tbody><tr><td>mongos</td><td>mongos</td><td>mongos</td></tr><tr><td>config server</td><td>config server</td><td>config server</td></tr><tr><td>shard server1 ä¸»èŠ‚ç‚¹</td><td>shard server1 å‰¯èŠ‚ç‚¹</td><td>shard server1 ä»²è£</td></tr><tr><td>shard server2 ä»²è£</td><td>shard server2 ä¸»èŠ‚ç‚¹</td><td>shard server2 å‰¯èŠ‚ç‚¹</td></tr><tr><td>shard server3 å‰¯èŠ‚ç‚¹</td><td>shard server3 ä»²è£</td><td>shard server3 ä¸»èŠ‚ç‚¹</td></tr></tbody></table><p>ç«¯å£åˆ†é…ï¼š</p><ul><li><p>mongosï¼š20000</p></li><li><p>configï¼š21000</p></li><li><p>shard1ï¼š27001</p></li><li><p>shard2ï¼š27002</p></li><li><p>shard3ï¼š27003</p></li></ul><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204437568.png" alt="image-20211221204437568"></p><p>ä¸‰å°æœºå™¨çš„é…ç½®æœåŠ¡(21000)å½¢æˆå¤åˆ¶é›†ï¼Œåˆ†ç‰‡1ã€2ã€3ä¹Ÿåœ¨å„æœºå™¨éƒ½éƒ¨ç½²ä¸€ä¸ªå®ä¾‹ï¼Œå®ƒä»¬ä¹‹é—´å½¢æˆå¤åˆ¶é›†ï¼Œå®¢æˆ·ç«¯ç›´æ¥è¿æ¥3ä¸ªè·¯ç”±æœåŠ¡ä¸ä¹‹äº¤äº’ï¼Œé…ç½®æœåŠ¡å’Œåˆ†ç‰‡æœåŠ¡å¯¹å®¢æˆ·ç«¯æ˜¯é€æ˜çš„ã€‚</p><h1 id="äºŒã€å®‰è£…MangoDB"><a href="#äºŒã€å®‰è£…MangoDB" class="headerlink" title="äºŒã€å®‰è£…MangoDB"></a>äºŒã€å®‰è£…MangoDB</h1><h2 id="2-1ä¸‹è½½è§£å‹MongoDB"><a href="#2-1ä¸‹è½½è§£å‹MongoDB" class="headerlink" title="2.1ä¸‹è½½è§£å‹MongoDB"></a>2.1ä¸‹è½½è§£å‹MongoDB</h2><p>tar -xzvf<br>mongodb-linux-x86_64-rhel70-3.2.22.tgz -C &#x2F;nosql&#x2F;</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204457194.png"></p><p>æ”¹åï¼š</p><figure class="highlight plaintext"><figcaption><span>basic</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs visual">cd /nosql/<br><br>mv mongodb-linux-x86_64-rhel70-3.2.22 mongodb<br></code></pre></td></tr></table></figure><h2 id="2-2åˆ›å»ºè·¯ç”±ã€é…ç½®ã€åˆ†ç‰‡ç­‰çš„ç›¸å…³ç›®å½•ä¸æ–‡ä»¶"><a href="#2-2åˆ›å»ºè·¯ç”±ã€é…ç½®ã€åˆ†ç‰‡ç­‰çš„ç›¸å…³ç›®å½•ä¸æ–‡ä»¶" class="headerlink" title="2.2åˆ›å»ºè·¯ç”±ã€é…ç½®ã€åˆ†ç‰‡ç­‰çš„ç›¸å…³ç›®å½•ä¸æ–‡ä»¶"></a>2.2åˆ›å»ºè·¯ç”±ã€é…ç½®ã€åˆ†ç‰‡ç­‰çš„ç›¸å…³ç›®å½•ä¸æ–‡ä»¶</h2><p>åˆ†åˆ«åœ¨æ¯å°æœºå™¨å»ºç«‹confã€mongosã€configã€shard1ã€shard2ã€shard3å…­ä¸ªç›®å½•ï¼Œå› ä¸ºmongosä¸å­˜å‚¨æ•°æ®ï¼Œåªéœ€è¦å»ºç«‹æ—¥å¿—æ–‡ä»¶ç›®å½•å³å¯ã€‚</p><p>å¯åŠ¨é…ç½®æ–‡ä»¶å­˜æ”¾çš„æ–‡ä»¶å¤¹ï¼šmkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;conf </p><p>è·¯ç”±æœåŠ¡æ—¥å¿—å­˜æ”¾æ–‡ä»¶ï¼š  mkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;mongos&#x2F;log</p><p>é…ç½®æœåŠ¡æ•°æ®å­˜æ”¾ç›®å½•ï¼š  mkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;config&#x2F;data</p><p>é…ç½®æœåŠ¡æ—¥å¿—å­˜æ”¾æ–‡ä»¶ï¼š  mkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;config&#x2F;log</p><p>åˆ†ç‰‡1æœåŠ¡æ•°æ®å­˜æ”¾ç›®å½•ï¼šmkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;shard1&#x2F;data</p><p>åˆ†ç‰‡1æœåŠ¡æ—¥å¿—å­˜æ”¾æ–‡ä»¶ï¼šmkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;shard1&#x2F;log</p><p>åˆ†ç‰‡2æœåŠ¡æ•°æ®å­˜æ”¾ç›®å½•ï¼šÂ mkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;shard2&#x2F;data</p><p>åˆ†ç‰‡2æœåŠ¡æ—¥å¿—å­˜æ”¾æ–‡ä»¶ï¼šÂ mkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;shard2&#x2F;log</p><p>åˆ†ç‰‡3æœåŠ¡æ•°æ®å­˜æ”¾ç›®å½•ï¼šÂ mkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;shard3&#x2F;data</p><p>åˆ†ç‰‡3æœåŠ¡æ—¥å¿—å­˜æ”¾æ–‡ä»¶ï¼šmkdir -p &#x2F;nosql&#x2F;mongodb&#x2F;shard3&#x2F;log</p><h2 id="2-3é…ç½®ç¯å¢ƒå˜é‡"><a href="#2-3é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="2.3é…ç½®ç¯å¢ƒå˜é‡"></a>2.3é…ç½®ç¯å¢ƒå˜é‡</h2><p>vi &#x2F;etc&#x2F;profile</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> MONGODB_HOME=/nosql/mongodb<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$MONGODB_HOME</span>/bin:<span class="hljs-variable">$PATH</span><br></code></pre></td></tr></table></figure><p>ç«‹å³ç”Ÿæ•ˆï¼š</p><p>source &#x2F;etc&#x2F;profile</p><h1 id="ä¸‰ã€config-serveré…ç½®æœåŠ¡å™¨"><a href="#ä¸‰ã€config-serveré…ç½®æœåŠ¡å™¨" class="headerlink" title="ä¸‰ã€config serveré…ç½®æœåŠ¡å™¨"></a>ä¸‰ã€config serveré…ç½®æœåŠ¡å™¨</h1><h2 id="3-1ï¼ˆä¸‰å°æœºå™¨ï¼‰æ·»åŠ é…ç½®æ–‡ä»¶"><a href="#3-1ï¼ˆä¸‰å°æœºå™¨ï¼‰æ·»åŠ é…ç½®æ–‡ä»¶" class="headerlink" title="3.1ï¼ˆä¸‰å°æœºå™¨ï¼‰æ·»åŠ é…ç½®æ–‡ä»¶"></a>3.1ï¼ˆä¸‰å°æœºå™¨ï¼‰æ·»åŠ é…ç½®æ–‡ä»¶</h2><p>vi &#x2F;nosql&#x2F;mongodb&#x2F;conf&#x2F;config.conf</p><h2 id="é…ç½®æ–‡ä»¶å†…å®¹"><a href="#é…ç½®æ–‡ä»¶å†…å®¹" class="headerlink" title="é…ç½®æ–‡ä»¶å†…å®¹"></a>é…ç½®æ–‡ä»¶å†…å®¹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">pidfilepath = /nosql/mongodb/config/log/configsrv.pid<br>dbpath = /nosql/mongodb/config/data<br>logpath = /nosql/mongodb/config/log/congigsrv.log<br>logappend =<span class="hljs-literal">true</span><br><br>bind_ip =0.0.0.0<br>port = 21000<br>fork = <span class="hljs-literal">true</span><br>configsvr =<span class="hljs-literal">true</span><br><br><span class="hljs-comment">#å‰¯æœ¬é›†åç§°</span><br>replSet =configs<br><span class="hljs-comment">#è®¾ç½®æœ€å¤§è¿æ¥æ•°</span><br>maxConns =20000<br></code></pre></td></tr></table></figure><h2 id="3-2é…ç½®å‰¯æœ¬é›†"><a href="#3-2é…ç½®å‰¯æœ¬é›†" class="headerlink" title="3.2é…ç½®å‰¯æœ¬é›†"></a>3.2é…ç½®å‰¯æœ¬é›†</h2><p>å¯åŠ¨ä¸‰å°æœåŠ¡å™¨çš„config server</p><p>mongod -f &#x2F;nosql&#x2F;mongodb&#x2F;conf&#x2F;config.conf</p><p>ç™»å½•ä»»æ„ä¸€å°é…ç½®æœåŠ¡å™¨ï¼Œåˆå§‹åŒ–é…ç½®å‰¯æœ¬é›†</p><p>è¿æ¥ MongoDBï¼š Â mongo â€“port 21000</p><dl><dt>å…¶ä¸­ï¼Œâ€_idâ€</dt><dd>â€œconfigsâ€åº”ä¸é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„ replicaction.replSetName ä¸€è‡´ï¼Œâ€membersâ€ ä¸­çš„ â€œhostâ€ ä¸ºä¸‰ä¸ªèŠ‚ç‚¹çš„ ip å’Œ portã€‚å“åº”å†…å®¹å¦‚ä¸‹ï¼š</dd></dl><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204545001.png" alt="image-20211221204545001"></p><h1 id="å››ã€é…ç½®åˆ†ç‰‡å‰¯æœ¬é›†"><a href="#å››ã€é…ç½®åˆ†ç‰‡å‰¯æœ¬é›†" class="headerlink" title="å››ã€é…ç½®åˆ†ç‰‡å‰¯æœ¬é›†"></a>å››ã€é…ç½®åˆ†ç‰‡å‰¯æœ¬é›†</h1><h2 id="4-1è®¾ç½®ç¬¬ä¸€ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†"><a href="#4-1è®¾ç½®ç¬¬ä¸€ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†" class="headerlink" title="4.1è®¾ç½®ç¬¬ä¸€ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†"></a>4.1è®¾ç½®ç¬¬ä¸€ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†</h2><p>â‘ é…ç½®æ–‡ä»¶</p><p>vi &#x2F;nosql&#x2F;mongodb&#x2F;conf&#x2F;shard1.conf</p><p>#é…ç½®æ–‡ä»¶å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">pidfilepath = /nosql/mongodb/shard1/log/shard1.pid<br>dbpath = /nosql/mongodb/shard1/data<br>logpath = /nosql/mongodb/shard1/log/shard1.<span class="hljs-built_in">log</span><br>logappend =<span class="hljs-literal">true</span><br>bind_ip =0.0.0.0<br>port = 27001<br>fork = <span class="hljs-literal">true</span><br><span class="hljs-comment">#å‰¯æœ¬é›†åç§°</span><br><br>replSet =shard1<br><span class="hljs-comment">#declare this is a shard db of a cluster;</span><br>shardsvr = <span class="hljs-literal">true</span><br><span class="hljs-comment">#è®¾ç½®æœ€å¤§è¿æ¥æ•°</span><br>maxConns=20000<br></code></pre></td></tr></table></figure><p>â‘¡å¯åŠ¨ä¸‰å°æœåŠ¡å™¨çš„shard1 server</p><p>mongod -f &#x2F;nosql&#x2F;mongodb&#x2F;conf&#x2F;shard1.conf</p><p>â‘¢ç™»é™†ä»»æ„ä¸€å°æœåŠ¡å™¨ï¼Œåˆå§‹åŒ–å‰¯æœ¬é›†</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204651678.png" alt="image-20211221204651678"></p><h2 id="4-2è®¾ç½®ç¬¬äºŒä¸ªåˆ†ç‰‡å‰¯æœ¬é›†"><a href="#4-2è®¾ç½®ç¬¬äºŒä¸ªåˆ†ç‰‡å‰¯æœ¬é›†" class="headerlink" title="4.2è®¾ç½®ç¬¬äºŒä¸ªåˆ†ç‰‡å‰¯æœ¬é›†"></a>4.2è®¾ç½®ç¬¬äºŒä¸ªåˆ†ç‰‡å‰¯æœ¬é›†</h2><p>è¿‡ç¨‹ä¸è®¾ç½®ç¬¬ä¸€ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†ç±»ä¼¼ï¼Œè¿™é‡Œç›´æ¥ç»™å‡ºè®¾ç½®ç»“æœï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204657752.png" alt="image-20211221204657752"></p><h2 id="4-3è®¾ç½®ç¬¬ä¸‰ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†"><a href="#4-3è®¾ç½®ç¬¬ä¸‰ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†" class="headerlink" title="4.3è®¾ç½®ç¬¬ä¸‰ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†"></a>4.3è®¾ç½®ç¬¬ä¸‰ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†</h2><p>è¿‡ç¨‹ä¸è®¾ç½®ç¬¬ä¸€ä¸ªåˆ†ç‰‡å‰¯æœ¬é›†ç±»ä¼¼ï¼Œè¿™é‡Œç›´æ¥ç»™å‡ºè®¾ç½®ç»“æœï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204703056.png" alt="image-20211221204703056"></p><h2 id="4-4é…ç½®è·¯ç”±å™¨mongos"><a href="#4-4é…ç½®è·¯ç”±å™¨mongos" class="headerlink" title="4.4é…ç½®è·¯ç”±å™¨mongos"></a>4.4é…ç½®è·¯ç”±å™¨mongos</h2><p>ä¸‰å°æœºå™¨ï¼‰å…ˆå¯åŠ¨é…ç½®æœåŠ¡å™¨å’Œåˆ†ç‰‡æœåŠ¡å™¨,åå¯åŠ¨è·¯ç”±å®ä¾‹å¯åŠ¨è·¯ç”±å®ä¾‹:</p><p>vi &#x2F;nosql&#x2F;mongodb&#x2F;conf&#x2F;mongos.conf</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#å†…å®¹</span><br>pidfilepath = /nosql/mongodb/mongos/log/mongos.pid<br>logpath = /nosql/mongodb/mongos/log/mongos.log<br>logappend =<span class="hljs-literal">true</span><br><br>bind_ip =0.0.0.0<br>port = 20000<br>fork = <span class="hljs-literal">true</span><br><span class="hljs-comment">#ç›‘å¬çš„é…ç½®æœåŠ¡å™¨,åªèƒ½æœ‰1ä¸ªæˆ–è€…3ä¸ª configsä¸ºé…ç½®æœåŠ¡å™¨çš„å‰¯æœ¬é›†åå­—</span><br>configdb =<br>configs/192.168.252.121:21000,192.168.252.122:21000,192.168.252.123:21000<br><span class="hljs-comment">#è®¾ç½®æœ€å¤§è¿æ¥æ•°</span><br>maxConns =20000<br></code></pre></td></tr></table></figure><p>å¯åŠ¨ä¸‰å°æœåŠ¡å™¨çš„mongos server</p><p>mongos -f &#x2F;nosql&#x2F;mongodb&#x2F;conf&#x2F;mongos.conf</p><h1 id="äº”ã€ä¸²è”è·¯ç”±æœåŠ¡å™¨"><a href="#äº”ã€ä¸²è”è·¯ç”±æœåŠ¡å™¨" class="headerlink" title="äº”ã€ä¸²è”è·¯ç”±æœåŠ¡å™¨"></a>äº”ã€ä¸²è”è·¯ç”±æœåŠ¡å™¨</h1><p>ç›®å‰æ­å»ºäº†mongodbé…ç½®æœåŠ¡å™¨ã€è·¯ç”±æœåŠ¡å™¨ï¼Œå„ä¸ªåˆ†ç‰‡æœåŠ¡å™¨ï¼Œä¸è¿‡åº”ç”¨ç¨‹åºè¿æ¥åˆ°mongosè·¯ç”±æœåŠ¡å™¨å¹¶ä¸èƒ½ä½¿ç”¨åˆ†ç‰‡æœºåˆ¶ï¼Œè¿˜éœ€è¦åœ¨ç¨‹åºé‡Œè®¾ç½®åˆ†ç‰‡é…ç½®ï¼Œè®©åˆ†ç‰‡ç”Ÿæ•ˆã€‚</p><h2 id="5-1ä¸²è”è·¯ç”±æœåŠ¡å™¨ä¸åˆ†é…å‰¯æœ¬é›†"><a href="#5-1ä¸²è”è·¯ç”±æœåŠ¡å™¨ä¸åˆ†é…å‰¯æœ¬é›†" class="headerlink" title="5.1ä¸²è”è·¯ç”±æœåŠ¡å™¨ä¸åˆ†é…å‰¯æœ¬é›†"></a>5.1ä¸²è”è·¯ç”±æœåŠ¡å™¨ä¸åˆ†é…å‰¯æœ¬é›†</h2><p>ç™»é™†ä»»æ„ä¸€å°mongos ï¼šmongo â€“port 20000</p><p>ä½¿ç”¨adminæ•°æ®åº“ï¼š use admin</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204745082.png" alt="image-20211221204745082"></p><h2 id="5-2æŸ¥çœ‹é›†ç¾¤çŠ¶æ€"><a href="#5-2æŸ¥çœ‹é›†ç¾¤çŠ¶æ€" class="headerlink" title="5.2æŸ¥çœ‹é›†ç¾¤çŠ¶æ€"></a>5.2æŸ¥çœ‹é›†ç¾¤çŠ¶æ€</h2><p>å“åº”å†…å®¹å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204750630.png" alt="image-20211221204750630"></p><h1 id="å…­ã€å¯ç”¨é›†åˆåˆ†ç‰‡ç”Ÿæ•ˆ"><a href="#å…­ã€å¯ç”¨é›†åˆåˆ†ç‰‡ç”Ÿæ•ˆ" class="headerlink" title="å…­ã€å¯ç”¨é›†åˆåˆ†ç‰‡ç”Ÿæ•ˆ"></a>å…­ã€å¯ç”¨é›†åˆåˆ†ç‰‡ç”Ÿæ•ˆ</h1><p>ç›®å‰é…ç½®æœåŠ¡ã€è·¯ç”±æœåŠ¡ã€åˆ†ç‰‡æœåŠ¡ã€å‰¯æœ¬é›†æœåŠ¡éƒ½å·²ç»ä¸²è”èµ·æ¥äº†ï¼Œä½†æˆ‘ä»¬çš„ç›®çš„æ˜¯å¸Œæœ›æ’å…¥æ•°æ®ï¼Œæ•°æ®èƒ½å¤Ÿè‡ªåŠ¨åˆ†ç‰‡ã€‚è¿æ¥åœ¨mongosä¸Šï¼Œå‡†å¤‡è®©æŒ‡å®šçš„æ•°æ®åº“ã€æŒ‡å®šçš„é›†åˆåˆ†ç‰‡ç”Ÿæ•ˆã€‚</p><h2 id="6-1æŒ‡å®štestdbåˆ†ç‰‡ç”Ÿæ•ˆ"><a href="#6-1æŒ‡å®štestdbåˆ†ç‰‡ç”Ÿæ•ˆ" class="headerlink" title="6.1æŒ‡å®štestdbåˆ†ç‰‡ç”Ÿæ•ˆ"></a>6.1æŒ‡å®štestdbåˆ†ç‰‡ç”Ÿæ•ˆ</h2><p>db.runCommand(<br>{ enablesharding :â€testdbâ€});</p><h2 id="6-2æŒ‡å®šæ•°æ®åº“é‡Œéœ€è¦åˆ†ç‰‡çš„é›†åˆå’Œç‰‡é”®ï¼Œå“ˆå¸Œid-åˆ†ç‰‡"><a href="#6-2æŒ‡å®šæ•°æ®åº“é‡Œéœ€è¦åˆ†ç‰‡çš„é›†åˆå’Œç‰‡é”®ï¼Œå“ˆå¸Œid-åˆ†ç‰‡" class="headerlink" title="6.2æŒ‡å®šæ•°æ®åº“é‡Œéœ€è¦åˆ†ç‰‡çš„é›†åˆå’Œç‰‡é”®ï¼Œå“ˆå¸Œid åˆ†ç‰‡"></a>6.2æŒ‡å®šæ•°æ®åº“é‡Œéœ€è¦åˆ†ç‰‡çš„é›†åˆå’Œç‰‡é”®ï¼Œå“ˆå¸Œid åˆ†ç‰‡</h2><p>db.runCommand(<br>{ shardcollection : â€œtestdb.table1â€,key : {â€œidâ€:<br>â€œhashedâ€} } );</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204816544.png" alt="image-20211221204816544"></p><h2 id="6-3æµ‹è¯•åˆ†ç‰‡é…ç½®ç»“æœ"><a href="#6-3æµ‹è¯•åˆ†ç‰‡é…ç½®ç»“æœ" class="headerlink" title="6.3æµ‹è¯•åˆ†ç‰‡é…ç½®ç»“æœ"></a>6.3æµ‹è¯•åˆ†ç‰‡é…ç½®ç»“æœ</h2><p>æˆ‘ä»¬è®¾ç½®testdbçš„ table1 è¡¨éœ€è¦åˆ†ç‰‡ï¼Œæ ¹æ® id è‡ªåŠ¨åˆ†ç‰‡åˆ° shard1 ï¼Œshard2ï¼Œshard3 ä¸Šé¢å»ã€‚è¦è¿™æ ·è®¾ç½®æ˜¯å› ä¸ºä¸æ˜¯æ‰€æœ‰mongodb çš„æ•°æ®åº“å’Œè¡¨éƒ½éœ€è¦åˆ†ç‰‡ã€‚</p><p>åˆ‡æ¢åˆ° testdb æ•°æ®åº“ æ’å…¥æµ‹è¯•æ•°æ®</p><p>use testdb;</p><p>for(i&#x3D;1;i&lt;&#x3D;100000;i++){db.table1.insert({â€œidâ€:i,â€nameâ€:â€pengleiâ€})};</p><p>æŸ¥çœ‹æ­¤æ—¶çš„é›†ç¾¤çŠ¶æ€ï¼Œå¹¶åˆ†ç»„æŸ¥çœ‹æ€»æ•°é‡ï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/image-20211221204825840.png" alt="image-20211221204825840"></p><p>åˆ†ç»„æŸ¥çœ‹æ€»æ•°é‡æ˜¯ï¼š100000</p>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>MongoDB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”11.Sparkçš„æ­å»º</title>
    <link href="/2022/01/01/BigData&amp;Linux/11.Spark/"/>
    <url>/2022/01/01/BigData&amp;Linux/11.Spark/</url>
    
    <content type="html"><![CDATA[<h1 id="Sparkçš„æ­å»º"><a href="#Sparkçš„æ­å»º" class="headerlink" title="Sparkçš„æ­å»º"></a>Sparkçš„æ­å»º</h1><h1 id="å®‰è£…Scala"><a href="#å®‰è£…Scala" class="headerlink" title="å®‰è£…Scala"></a>å®‰è£…Scala</h1><p>ç”±äºScalaåªæ˜¯ä¸€ä¸ªåº”ç”¨è½¯ä»¶ï¼Œåªéœ€è¦å®‰è£…åœ¨masterèŠ‚ç‚¹å³å¯ã€‚</p><h2 id="ä¸Šä¼ scalaå®‰è£…åŒ…"><a href="#ä¸Šä¼ scalaå®‰è£…åŒ…" class="headerlink" title="ä¸Šä¼ scalaå®‰è£…åŒ…"></a>ä¸Šä¼ scalaå®‰è£…åŒ…</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/bigdata/</span>packet/scala-<span class="hljs-number">2.11</span>.<span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><h2 id="è§£å‹scalaå®‰è£…åŒ…"><a href="#è§£å‹scalaå®‰è£…åŒ…" class="headerlink" title="è§£å‹scalaå®‰è£…åŒ…"></a>è§£å‹scalaå®‰è£…åŒ…</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf scala-<span class="hljs-number">2</span>.<span class="hljs-number">11</span>.<span class="hljs-number">8</span>.tgz -C /bigdata<br></code></pre></td></tr></table></figure><h2 id="ç¯å¢ƒå˜é‡é…ç½®ï¼ˆä¸‰å°æœºå™¨éƒ½åšä¸€éï¼‰ï¼š"><a href="#ç¯å¢ƒå˜é‡é…ç½®ï¼ˆä¸‰å°æœºå™¨éƒ½åšä¸€éï¼‰ï¼š" class="headerlink" title="ç¯å¢ƒå˜é‡é…ç½®ï¼ˆä¸‰å°æœºå™¨éƒ½åšä¸€éï¼‰ï¼š"></a>ç¯å¢ƒå˜é‡é…ç½®ï¼ˆä¸‰å°æœºå™¨éƒ½åšä¸€éï¼‰ï¼š</h2><p>vim &#x2F;etc&#x2F;profile</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#scala</span><br><span class="hljs-built_in">export</span> SCALA_HOME= /bigdata/scala-2.11.8<br><span class="hljs-built_in">export</span> PATH =<span class="hljs-variable">$SCALA_HOME</span>/bin:<span class="hljs-variable">$PATH</span><br></code></pre></td></tr></table></figure><p>ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼š</p><p>source &#x2F;etc&#x2F;profile</p><h2 id="éªŒè¯Scalaæ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#éªŒè¯Scalaæ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="éªŒè¯Scalaæ˜¯å¦å®‰è£…æˆåŠŸ"></a>éªŒè¯Scalaæ˜¯å¦å®‰è£…æˆåŠŸ</h2><p>è¾“å…¥scalaå‘½ä»¤ï¼Œå¦‚ä¸‹è¿›å…¥scalaç¯å¢ƒï¼Œåˆ™è¯æ˜scalaå®‰è£…æˆåŠŸï¼š</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image002.png" alt="img"></p><h2 id="åˆ†å‘åˆ°ä»èŠ‚ç‚¹"><a href="#åˆ†å‘åˆ°ä»èŠ‚ç‚¹" class="headerlink" title="åˆ†å‘åˆ°ä»èŠ‚ç‚¹"></a>åˆ†å‘åˆ°ä»èŠ‚ç‚¹</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">scp</span>  -rp /bigdata/scala-<span class="hljs-number">2</span>.<span class="hljs-number">11</span>.<span class="hljs-number">8</span>  node1: /bigdata<br><span class="hljs-attribute">scp</span>  -rp /bigdata/scala-<span class="hljs-number">2</span>.<span class="hljs-number">11</span>.<span class="hljs-number">8</span>  node2:/ bigdata<br></code></pre></td></tr></table></figure><h1 id="å®‰è£…Spark"><a href="#å®‰è£…Spark" class="headerlink" title="å®‰è£…Spark"></a>å®‰è£…Spark</h1><h2 id="ä¸Šä¼ sparkå®‰è£…åŒ…"><a href="#ä¸Šä¼ sparkå®‰è£…åŒ…" class="headerlink" title="ä¸Šä¼ sparkå®‰è£…åŒ…"></a>ä¸Šä¼ sparkå®‰è£…åŒ…</h2><p>&#x2F;bigdata&#x2F;packet&#x2F;spark-2.4.8-bin-hadoop2.6.tgz</p><h2 id="è§£å‹sparkå®‰è£…åŒ…"><a href="#è§£å‹sparkå®‰è£…åŒ…" class="headerlink" title="è§£å‹sparkå®‰è£…åŒ…"></a>è§£å‹sparkå®‰è£…åŒ…</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf  spark-<span class="hljs-number">2</span>.<span class="hljs-number">4</span>.<span class="hljs-number">8</span>-bin-hadoop2.<span class="hljs-number">6</span>.tgz -C /bigdata<br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image004.png" alt="img"></p><h2 id="é…ç½®sparkå‚æ•°"><a href="#é…ç½®sparkå‚æ•°" class="headerlink" title="é…ç½®sparkå‚æ•°"></a>é…ç½®sparkå‚æ•°</h2><h3 id="é…ç½®spark-env-shæ–‡ä»¶ï¼š"><a href="#é…ç½®spark-env-shæ–‡ä»¶ï¼š" class="headerlink" title="é…ç½®spark-env.shæ–‡ä»¶ï¼š"></a>é…ç½®spark-env.shæ–‡ä»¶ï¼š</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">cp</span> spark-env.<span class="hljs-keyword">sh</span>.template spark-env.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image006.png" alt="img"></p><p># vim spark-env.sh</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">export</span> <span class="hljs-attribute">JAVA_HOME</span>=/bigdata/jdk1.8.0<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">HADOOP_HOOME</span>=/bigdata/hadoop-2.6.0<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">HADOOP_CONF_DIR</span>=/bigdata/hadoop-2.6.0/etc/hadoop<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">SCALA_HOME</span>=/bigdata/scala-2.11.8<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">SPARK_MASTER_HOST</span>=master<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">SPARK_MASTER_PORT</span>=7077<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">SPARK_WORKER_CORES</span>=1<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">SPARK_WORKER_MEMORY</span>=1G<br></code></pre></td></tr></table></figure><h3 id="é…ç½®slavesæ–‡ä»¶ï¼š"><a href="#é…ç½®slavesæ–‡ä»¶ï¼š" class="headerlink" title="é…ç½®slavesæ–‡ä»¶ï¼š"></a>é…ç½®slavesæ–‡ä»¶ï¼š</h3><p># cp slaves.template slaves</p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image010.png" alt="img"></p><p># vim slaves</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gcode"><span class="hljs-symbol">node1</span><br><span class="hljs-symbol">node2</span><br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image012.png" alt="img"></p><h2 id="é…ç½®sparkç¯å¢ƒå˜é‡"><a href="#é…ç½®sparkç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®sparkç¯å¢ƒå˜é‡"></a>é…ç½®sparkç¯å¢ƒå˜é‡</h2><p>vim &#x2F;etc&#x2F;profile</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">export</span> <span class="hljs-attribute">SCALA_HOME</span>=/bigdata/scala-2.11.8<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">PATH</span>=<span class="hljs-variable">$SCALA_HOME</span>/bin:$PATH<br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image014.png" alt="img"></p><p>ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼šsource &#x2F;etc&#x2F;profile</p><h2 id="åˆ†å‘é…ç½®æ–‡ä»¶åˆ°å­æœº"><a href="#åˆ†å‘é…ç½®æ–‡ä»¶åˆ°å­æœº" class="headerlink" title="åˆ†å‘é…ç½®æ–‡ä»¶åˆ°å­æœº"></a>åˆ†å‘é…ç½®æ–‡ä»¶åˆ°å­æœº</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">scp -r <span class="hljs-regexp">/bigdata/</span>spark-<span class="hljs-number">2.4</span>.<span class="hljs-number">8</span> node1:/bigdata<br>scp -r <span class="hljs-regexp">/bigdata/</span>spark-<span class="hljs-number">2.4</span>.<span class="hljs-number">8</span> node2:/bigdata<br><br>scp <span class="hljs-regexp">/etc/</span>profile  node1:<span class="hljs-regexp">/etc/</span>profile<br>scp <span class="hljs-regexp">/etc/</span>profile  node2:<span class="hljs-regexp">/etc/</span>profile<br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹æ‰§è¡Œå‘½ä»¤"><a href="#ä¿®æ”¹æ‰§è¡Œå‘½ä»¤" class="headerlink" title="ä¿®æ”¹æ‰§è¡Œå‘½ä»¤"></a>ä¿®æ”¹æ‰§è¡Œå‘½ä»¤</h2><p>å› ä¸ºhadoopå’Œsparkçš„å¿«æ·å¯åŠ¨shæ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¿™é‡Œå¯¹ä¸¤è€…è¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹ä¸ºhadoop-start-all.shå’Œspark-start-all.sh</p><h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><p>spark åœ¨å¯åŠ¨sparkä¹‹å‰ä¸€å®šè¦æ£€æŸ¥hadoopæ˜¯å¦å¼€å¯ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">spark-<span class="hljs-keyword">start</span>-<span class="hljs-keyword">all</span>.sh<br></code></pre></td></tr></table></figure><p>å„ä¸ªèŠ‚ç‚¹çš„è¿›ç¨‹:<img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image016.png" alt="img"></p><p><img src="https://gitee.com/xiang976young/note/raw/master/img/clip_image018.png" alt="img"></p>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>Spark</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”13.Q&amp;A Notice2</title>
    <link href="/2022/01/01/BigData&amp;Linux/13.Question/"/>
    <url>/2022/01/01/BigData&amp;Linux/13.Question/</url>
    
    <content type="html"><![CDATA[<h1 id="Q-amp-A-Notice"><a href="#Q-amp-A-Notice" class="headerlink" title="Q&amp;A Notice"></a>Q&amp;A Notice</h1><h2 id="Mysqlå®‰è£…é‡è§é—®é¢˜ï¼š"><a href="#Mysqlå®‰è£…é‡è§é—®é¢˜ï¼š" class="headerlink" title="Mysqlå®‰è£…é‡è§é—®é¢˜ï¼š"></a>Mysqlå®‰è£…é‡è§é—®é¢˜ï¼š</h2><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs subunit"><span class="hljs-keyword">error: </span>Failed dependencies:  MySQL conflicts with mysql<span class="hljs-string">-5</span>.1.71<span class="hljs-string">-1</span>.el6.x86_64   <br></code></pre></td></tr></table></figure><p>è§£å†³åŠæ³•</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs perl">ps aux | <span class="hljs-keyword">grep</span> mysql   <br> <span class="hljs-keyword">kill</span> -<span class="hljs-number">9</span> è¿›ç¨‹å·<br></code></pre></td></tr></table></figure><p>mysqlçš„ç›¸å…³å‘½ä»¤æ˜¯</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/etc/i</span>nit.d<span class="hljs-regexp">/mysql status/</span>start<span class="hljs-regexp">/stop/</span>..<br></code></pre></td></tr></table></figure><h2 id="HbaseæŒ‚æ‰å­èŠ‚ç‚¹ï¼š"><a href="#HbaseæŒ‚æ‰å­èŠ‚ç‚¹ï¼š" class="headerlink" title="HbaseæŒ‚æ‰å­èŠ‚ç‚¹ï¼š"></a>HbaseæŒ‚æ‰å­èŠ‚ç‚¹ï¼š</h2><p>å­èŠ‚ç‚¹çš„HRegionServerè¿›ç¨‹æŒ‚æ‰äº†</p><p>æŸ¥çœ‹LOGæ—¥å¿—</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">zookeeper.RecoverableZooKeep er: ZooKeeper <span class="hljs-built_in">delete</span> failed <span class="hljs-keyword">after</span> <span class="hljs-number">4</span> attempts <br></code></pre></td></tr></table></figure><p>é¦–å…ˆå…³é—­hbaseã€zookeeperã€‚</p><p>æŸ¥çœ‹hbaseè‡ªå¸¦zookeeperæ˜¯å¦å ç”¨2181ç«¯å£ã€‚ å¯åŠ¨zookeeper</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vim">zkCli.<span class="hljs-keyword">sh</span><br><span class="hljs-keyword">ls</span> /<br>rmr /hbase<br><span class="hljs-keyword">quit</span><br>zkServer.<span class="hljs-keyword">sh</span> restart<br></code></pre></td></tr></table></figure><p>å½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯æ—¶é—´ä¸ä¸€è‡´å¯¼è‡´çš„ï¼Œæ³¨æ„åŒæ­¥å„èŠ‚ç‚¹çš„æ—¶é—´ å†å¯åŠ¨hbaseå³å¯ã€‚</p><h2 id="è§£å†³å…³é—­Hadoopæ—¶no-namenode-to-stopå¼‚å¸¸"><a href="#è§£å†³å…³é—­Hadoopæ—¶no-namenode-to-stopå¼‚å¸¸" class="headerlink" title="è§£å†³å…³é—­Hadoopæ—¶no namenode to stopå¼‚å¸¸"></a>è§£å†³å…³é—­Hadoopæ—¶no namenode to stopå¼‚å¸¸</h2><p>åœ¨å®è¡Œäº†hadoop-stop-all.shå‘½ä»¤ä»¥åï¼Œç›¸å…³hadoopè¿›ç¨‹æ²¡æœ‰å…³æ‰ã€‚</p><p>åœ¨$hadoop-2.6.0&#x2F;sbin&#x2F;hadoop-daemon.shä¸­å¯ä»¥å‘ç°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">if [ -f $pid ]; then<br>     ....#çœç•¥nå¤šè¡Œ<br>    else<br>      echo no $command to stop<br> fi<br></code></pre></td></tr></table></figure><p> è¿™æ ·å°±å¾ˆæ˜æ˜¾äº†ï¼Œå¦‚æœpidæ–‡ä»¶ä¸å­˜åœ¨å°±ä¼šæ‰“å°:no xxx to stop</p><p>é‚£ä¹ˆpidæ˜¯ä»€ä¹ˆæ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆä¼šä¸å­˜åœ¨ï¼Œæ‰¾åˆ°pidå˜é‡çš„å£°æ˜è¯­å¥ï¼Œåœ¨è„šæœ¬æ–‡ä»¶çš„ç¬¬107è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">pid=$HADOOP_PID_DIR/hadoop-$HADOOP_IDENT_STRING-$command.pid #ç¬¬107è¡Œ<br></code></pre></td></tr></table></figure><p> æ¥ç€å†æ‰¾HADOOP_PID_DIRå˜é‡çš„å£°æ˜éƒ¨åˆ†ï¼š</p><p> é¦–å…ˆåœ¨è„šæœ¬æ³¨é‡Šéƒ¨åˆ†æ‰¾äº†å¾ˆå…³é”®çš„ä¸€å¥è¯ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment">#   HADOOP_PID_DIR   The pid files are stored. /tmp by default.</span><br></code></pre></td></tr></table></figure><p> æˆ‘ä»¬çŸ¥é“äº†ï¼ŒHADOOP_PID_DIR å˜é‡ä¿å­˜çš„æ˜¯pidæ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ã€‚é»˜è®¤å­˜å‚¨åœ¨&#x2F;tmpç›®å½•ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs abnf">if [ <span class="hljs-string">&quot;$HADOOP_PID_DIR&quot;</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span> ]<span class="hljs-comment">; then   //97~99è¡Œ</span><br>  HADOOP_PID_DIR<span class="hljs-operator">=/</span>tmp<br>fi<br></code></pre></td></tr></table></figure><p> é‚£ä¹ˆè¿™ä¸ªpidæ–‡ä»¶æ˜¯å•¥å‘¢ã€‚Hadoopå¯åŠ¨åï¼Œä¼šæŠŠè¿›ç¨‹çš„PIDå·å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™æ ·æ‰§è¡Œstop-dfsè„šæœ¬æ—¶å°±å¯ä»¥æŒ‰ç…§è¿›ç¨‹PIDå»å…³é—­è¿›ç¨‹äº†ã€‚</p><p> ç°åœ¨é—®é¢˜åŸå› å¾ˆæ˜ç¡®äº†ï¼Œå°±æ˜¯&#x2F;tmpç›®å½•ä¸‹çš„hadoop-*.pidçš„æ–‡ä»¶æ‰¾ä¸åˆ°äº†ã€‚å¯ä»¥ç¿»çœ‹å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œé™¤äº†æˆ‘ä»¬éœ€è¦çš„ï¼Œå…¶ä»–å•¥éƒ½æœ‰ï¼</p><p> æˆ‘ä»¬çŸ¥é“&#x2F;tmpæ˜¯ä¸´æ—¶ç›®å½•ï¼Œç³»ç»Ÿä¼šå®šæ—¶æ¸…ç†è¯¥ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚æ˜¾ç„¶æŠŠpidæ–‡ä»¶æ”¾åœ¨è¿™é‡Œæ˜¯ä¸é è°±çš„ï¼Œpidæ–‡ä»¶é•¿æ—¶é—´ä¸è¢«è®¿é—®ï¼Œæ—©è¢«æ¸…ç†äº†!</p><p> æ—¢ç„¶Hadoopä¸çŸ¥é“éœ€è¦å…³é—­å“ªäº›è¿›ç¨‹äº†ï¼Œé‚£æˆ‘ä»¬åªèƒ½æ‰‹åŠ¨å…³é—­äº†ï¼</p><p> å…ˆç”¨ps -efæŸ¥çœ‹namenode\datanodeç­‰è¿›ç¨‹çš„PIDï¼Œç„¶åç”¨kill -9å¹²æ‰å³å¯ï¼</p><p>ä¸ºäº†é¿å…ä»¥ä¸Šæƒ…å†µé‡å¤å‘ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹pidæ–‡ä»¶çš„ä½ç½®ï¼Œä»¥å…pidæ–‡ä»¶è¢«æ¸…ç†ï¼Œä»è€Œå½±å“åˆ°æˆ‘ä»¬è„šæœ¬çš„è¿è¡Œã€‚</p><p> ä¿®æ”¹pidæ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œåªéœ€è¦åœ¨hadoop-daemon.shè„šæœ¬ä¸­æ·»åŠ ä¸€è¡Œå£°æ˜å³å¯ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">HADOOP_PID_DIR=<span class="hljs-regexp">/root/</span>hadoop/pid  <span class="hljs-comment">#ç¬¬25è¡Œ</span><br></code></pre></td></tr></table></figure><p> è®°ä½è¦å…ˆå…³é—­Hadoopå†ä¿®æ”¹ï¼Œä¸ç„¶ä½ ä¿®æ”¹å®Œåˆæ— æ³•å…³é—­äº†ï¼åŒæ ·çš„é“ç†ï¼Œä½ è¿˜éœ€è¦ä¿®æ”¹yarn-daemon.sh</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">YARN_PID_DIR=<span class="hljs-regexp">/root/</span>hadoop/pid<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”3.HDFS shellæ“ä½œ</title>
    <link href="/2022/01/01/BigData&amp;Linux/3.HDFS%20shell/"/>
    <url>/2022/01/01/BigData&amp;Linux/3.HDFS%20shell/</url>
    
    <content type="html"><![CDATA[<h1 id="HDFS-shellæ“ä½œ"><a href="#HDFS-shellæ“ä½œ" class="headerlink" title="HDFS shellæ“ä½œ"></a>HDFS shellæ“ä½œ</h1><p>é…ç½®hadoopç¯å¢ƒå˜é‡ vi &#x2F;etc&#x2F;profileï¼š<br>export HADOOP_HOME&#x3D;&#x2F;usr&#x2F;local&#x2F;soft&#x2F;hadoop-2.6.0<br>export PATH&#x3D;.:$JAVA_HOME&#x2F;bin:$HADOOP_HOME&#x2F;bin:$PATH<br>ç„¶åæ‰§è¡Œ source &#x2F;etc&#x2F;profile</p><p>hdfs ï¼›hdfsä¸­è¾“å…¥çš„è·¯å¾„éœ€è¦æ˜¯ç»å¯¹è·¯å¾„<br>é€šè¿‡hadoop fs -xx æˆ–è€… hdfs dfs -xx<br>æŸ¥çœ‹hdfsç›®å½•ï¼šå¦‚æŸ¥çœ‹æ ¹ç›®å½•ï¼šhadoop fs -ls &#x2F;<br>åˆ›å»ºç›®å½•å‘½ä»¤ï¼šhadoop fs -mkdir &#x2F;data<br>åˆ é™¤ç›®å½•æˆ–è€…æ–‡ä»¶ï¼šhadoop fs -rm -r &#x2F;data<br>hdfs å°†linuxæœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°hdfs çš„è·¯å¾„ä¸‹ï¼šå¦‚ hadoop fs -put dianxin_data.csv &#x2F;data<br>hdfs å°†æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚hadoop fs -get &#x2F;data&#x2F;dianxin_data.csv &#x2F;usr&#x2F;local&#x2F;soft&#x2F;<br>hdfs ç§»åŠ¨ä¸€ä¸ªæ–‡ä»¶ï¼šhadoop fs -mv<br>hdfs æŸ¥çœ‹æ–‡ä»¶å†…å®¹ ï¼šhadooop fs -cat &#x2F;data&#x2F;dianxin_data.csv</p>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>HDFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”2.HADOOPæ­å»º</title>
    <link href="/2022/01/01/BigData&amp;Linux/2.Hadoop%E6%90%AD%E5%BB%BA/"/>
    <url>/2022/01/01/BigData&amp;Linux/2.Hadoop%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="HADOOPæ­å»º"><a href="#HADOOPæ­å»º" class="headerlink" title="HADOOPæ­å»º"></a>HADOOPæ­å»º</h1><h2 id="å‡†å¤‡ï¼š"><a href="#å‡†å¤‡ï¼š" class="headerlink" title="å‡†å¤‡ï¼š"></a>å‡†å¤‡ï¼š</h2><p>éœ€è¦ä¸‰å°è™šæ‹Ÿæœºï¼ˆä¿®æ”¹å¥½IPåœ°å€å¹¶å®‰è£…JAVAï¼‰</p><p>ä¿®æ”¹å½“å‰ç½‘ç»œæ—¶é—´ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">date</span> -s â€<span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">23</span> <span class="hljs-number">08</span>:<span class="hljs-number">47</span>:<span class="hljs-number">00</span>â€œ<br></code></pre></td></tr></table></figure><p>å…³é—­é˜²ç«å¢™å¹¶ä¸”å…³é—­é˜²ç«å¢™è‡ªå¯åŠ¨</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">service iptables <span class="hljs-built_in">stop</span>/status/<span class="hljs-built_in">start</span>/resrtart<span class="hljs-comment"> //é˜²ç«å¢™çš„ç›¸å…³å‘½ä»¤</span><br>chkconfig iptables off<span class="hljs-comment"> //å…³é—­é˜²ç«å¢™è‡ªå¯åŠ¨</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®ä¸‰å°ä¸»æœºsshå…å¯†ç™»é™†</p><p>ç°ä¿®æ”¹&#x2F;etc&#x2F;hostsçš„æ˜ å°„ æ·»åŠ ä¸‰å°æœºå­çš„IPä¸name</p><p>å°†æ˜ å°„æ–‡ä»¶ä¼ ç»™å…¶ä»–èŠ‚ç‚¹</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">scp <span class="hljs-regexp">/etc/</span>hosts node1:<span class="hljs-regexp">/etc/</span>hosts<br>scp <span class="hljs-regexp">/etc/</span>hosts node2:<span class="hljs-regexp">/etc/</span>hosts<br></code></pre></td></tr></table></figure><p>ä¸»èŠ‚ç‚¹æ‰§è¡Œssh-keygen -t rsa å¹¶ä¸€ç›´å›è½¦ ç”Ÿæˆå¯†é’¥</p><p>å°†å¯†é’¥æ‹·è´åˆ°å…¶ä»–ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œå®ç°å…å¯†ç ç™»å½•åˆ°å­èŠ‚ç‚¹ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">ssh-<span class="hljs-keyword">copy</span>-<span class="hljs-built_in">id</span> -i node1 <br>ssh-<span class="hljs-keyword">copy</span>-<span class="hljs-built_in">id</span> -i node2<br></code></pre></td></tr></table></figure><p>å®ç°ä¸»èŠ‚ç‚¹masteræœ¬åœ°å…å¯†ç ç™»å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /root/.ssh<br><span class="hljs-built_in">cat</span> ./id_rsa.pub &gt;&gt; ./authorized_keys<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…hadoopï¼š"><a href="#å®‰è£…hadoopï¼š" class="headerlink" title="å®‰è£…hadoopï¼š"></a>å®‰è£…hadoopï¼š</h2><p>æ–°å»ºæ–‡ä»¶ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /bigdata    <br></code></pre></td></tr></table></figure><p>è§£å‹hadoop-2.6.0</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf hadoop-<span class="hljs-number">2</span>.<span class="hljs-number">6</span>.<span class="hljs-number">0</span>.tar.gz -C /bigdata<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹hadoopçš„é…ç½®ç¯å¢ƒï¼Œç›®å½•æ˜¯åœ¨&#x2F;bigdata&#x2F;hadoop-2.6.0&#x2F;etc&#x2F;hadoopå†…</p><ul><li><p>ä¿®æ”¹hadoop-env.sh  æ ¹æ®ä¸ªäººç¯å¢ƒJAVAçš„å®‰è£…ç›®å½•æ¥</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">export</span> <span class="hljs-attribute">JAVA_HOME</span>=/bigdata/jdk1.8.0<br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹slaves </p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gcode"><span class="hljs-symbol">node1</span><br><span class="hljs-symbol">node2</span><br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹core-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>fs.defaultFS<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hdfs://master:9000<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hadoop.tmp.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/bigdata/hadoop-2.6.0/tmp<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>fs.trash.interval<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>1440<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹hdfs-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.replication<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.permissions<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹yarn-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>master<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>mapreduce_shuffle<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.log-aggregation-enable<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.log-aggregation.retain-seconds<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>604800<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.resource.memory-mb<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>20480<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.scheduler.minimum-allocation-mb<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>2048<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>  <br>         <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.vmem-pmem-ratio<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span> <br>         <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>2.1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹mapred-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml">cp mapred-site.xml.template mapred-site.xml<br><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mapreduce.framework.name<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>yarn<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mapreduce.jobhistory.address<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>master:10020<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mapreduce.jobhistory.webapp.address<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>master:19888<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><p>å°†ä¿®æ”¹å¥½çš„hadoopé…ç½®å‘é€åˆ°å…¶ä»–å­æœºä¸Šï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">scp</span> -r /bigdata/hadoop-<span class="hljs-number">2</span>.<span class="hljs-number">6</span>.<span class="hljs-number">0</span>  node1:/bigdata<br><span class="hljs-attribute">scp</span> -r /bigdata/hadoop-<span class="hljs-number">2</span>.<span class="hljs-number">6</span>.<span class="hljs-number">0</span>  node2:/bigdata<br></code></pre></td></tr></table></figure><p>ç¯å¢ƒé…ç½®å°±ç›´æ¥åœ¨&#x2F;etc&#x2F;profileé‡Œé¢å†™å°±è¡Œäº†</p><p>ç„¶ååœ¨ä¸»èŠ‚ç‚¹ç»ˆç«¯ å…ˆå¯¹namenodeæ ¼å¼åŒ– ç„¶ååœ¨å¯åŠ¨hadoopå³å¯</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">hdfs namenode -<span class="hljs-keyword">format</span><br><span class="hljs-keyword">start</span>-<span class="hljs-keyword">all</span>.sh<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”5.æ­å»ºzookeeperï¼š</title>
    <link href="/2022/01/01/BigData&amp;Linux/5.Zookeeper%E5%AE%89%E8%A3%85/"/>
    <url>/2022/01/01/BigData&amp;Linux/5.Zookeeper%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h1 id="æ­å»ºzookeeperï¼š"><a href="#æ­å»ºzookeeperï¼š" class="headerlink" title="æ­å»ºzookeeperï¼š"></a>æ­å»ºzookeeperï¼š</h1><p> 1ã€ä¸‹è½½zookeeperå¹¶è§£å‹ </p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf zookeeper-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>.<span class="hljs-number">6</span>.tar.gz -C /bigdata**<br></code></pre></td></tr></table></figure><p><img src="/../src/clip_image002-1640091876388.gif" alt="img"></p><p>2ã€ä¿®æ”¹zookeeperçš„é…ç½®æ–‡ä»¶ï¼Œå¹¶å»ºç«‹æ•°æ®ç›®å½•dataå’Œæ—¥å¿—ç›®å½•logs</p><p><strong>cd zookeeper-3.4.6</strong></p><p><strong>mkdir data</strong></p><p><strong>mkdir logs</strong></p><p><img src="/../src/clip_image004-1640091876388.gif" alt="img"></p><p><strong>cd conf&#x2F;</strong></p><p><strong>cp zoo_sample.cfg zoo.cfg</strong></p><p><img src="/../src/clip_image006.gif" alt="img"></p><p><strong>vi zoo.cfg</strong></p><p>æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">dataDir</span>=/bigdata/zookeeper-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>.<span class="hljs-number">6</span>/data<br><span class="hljs-attribute">dataLogDir</span>=/bigdata/zookeeper-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>.<span class="hljs-number">6</span>/logs<br><span class="hljs-attribute">server</span>.<span class="hljs-number">1</span>=master:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span><br><span class="hljs-attribute">server</span>.<span class="hljs-number">2</span>=node1:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span><br><span class="hljs-attribute">server</span>.<span class="hljs-number">3</span>=node2:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span><br></code></pre></td></tr></table></figure><p><img src="/../src/clip_image008.gif" alt="img"></p><p><strong>cd data</strong></p><p>æ–°å»ºä¸€ä¸ª<strong>myid</strong>æ–‡ä»¶</p><p><strong>vi myid</strong></p><p><strong>1</strong></p><p><img src="/../src/clip_image010.gif" alt="img"></p><p>3ã€å¤åˆ¶masterçš„zookeeper-3.4.6åˆ°<strong>node1</strong>å’Œ<strong>node2</strong>ä¸Š</p><p><img src="/../src/clip_image012.gif" alt="img"></p><p><img src="/../src/clip_image014.gif" alt="img"></p><p>4ã€åˆ†åˆ«ä¿®æ”¹<strong>node1</strong>å’Œ<strong>node2</strong>ä¸Šmyidçš„å€¼ä¸º2å’Œ3</p><p><strong>cd &#x2F;bigdata&#x2F;zookeeper-3.4.6&#x2F;data</strong></p><p><strong>vi myid</strong></p><p><strong>2</strong></p><p><strong>vi myid</strong></p><p><strong>3</strong></p><img src="../src/clip_image016.gif" alt="img" style="zoom:33%;" /><p> 5ã€åˆ†åˆ«å¯åŠ¨master,<strong>node1</strong>,<strong>node2</strong>ä¸Šçš„zookeeperï¼ˆzookeeperä¸‰å°éƒ½è¦å¯åŠ¨ï¼‰</p><p><strong>zkServer.sh start</strong> </p><p><img src="/../src/clip_image020.gif" alt="img"></p><p>(å¯ä»¥åœ¨ç¯å¢ƒå˜é‡é‡Œè®¾ç½®ï¼Œä»¥ä¾¿äºä¸‹æ¬¡ä¸ç”¨å†è¿›å…¥binä¸­æ“ä½œ)</p><p>6ã€æŸ¥çœ‹zookeeperçš„çŠ¶æ€</p><p><strong>zkServer.sh status</strong></p><p><img src="/../src/clip_image022.gif" alt="img"></p><p>7ã€éªŒè¯zookeeperé›†ç¾¤ï¼Œå¯åŠ¨å®¢æˆ·ç«¯</p><p><strong>bin&#x2F;zkCli.sh</strong></p><p><img src="/../src/clip_image028.gif" alt="img"></p><p><img src="/../src/clip_image030.gif" alt="img"></p><p>è‡³æ­¤ï¼šzookeeperé›†ç¾¤å®‰è£…å®Œæ¯•ï¼</p><p>PS:</p><p>ç”±äºzkè¿è¡Œä¸€æ®µæ—¶é—´åï¼Œä¼šäº§ç”Ÿå¤§é‡çš„æ—¥å¿—æ–‡ä»¶ï¼ŒæŠŠç£ç›˜ç©ºé—´å æ»¡ï¼Œå¯¼è‡´æ•´ä¸ªæœºå™¨è¿›ç¨‹éƒ½ä¸èƒ½æ´»åŠ¨äº†ï¼Œæ‰€ä»¥éœ€è¦å®šæœŸæ¸…ç†è¿™äº›æ—¥å¿—æ–‡ä»¶ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li>å†™ä¸€ä¸ªè„šæœ¬æ–‡ä»¶cleanup.shå†…å®¹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">java</span> -cp zookeeper.jar:lib/slf4j-api-<span class="hljs-number">1</span>.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>.jar:lib/slf4j-log4j12-<span class="hljs-number">1</span>.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>.jar:lib/log4j-<span class="hljs-number">1</span>.<span class="hljs-number">2</span>.<span class="hljs-number">15</span>.jar:conf org.apache.zookeeper.server.PurgeTxnLog &lt;dataDir&gt; &lt;snapDir&gt; -n &lt;count&gt;<br></code></pre></td></tr></table></figure><p> å…¶ä¸­ï¼šdataDirï¼šå³ä¸Šé¢é…ç½®çš„dataDirçš„ç›®å½•ï¼› snapDirï¼šå³ä¸Šé¢é…ç½®çš„dataLogDirçš„ç›®å½•ï¼›countï¼šä¿ç•™å‰å‡ ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤ä¸º3</p><p><img src="/../src/clip_image032.gif" alt="img"></p><ul><li>é€šè¿‡crontabå†™å®šæ—¶ä»»åŠ¡ï¼Œæ¥å®Œæˆå®šæ—¶æ¸…ç†æ—¥å¿—çš„éœ€æ±‚</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">crontab</span> -e <span class="hljs-number">0</span> <span class="hljs-number">0</span> * * /opt/zookeeper-<span class="hljs-number">3</span>.<span class="hljs-number">4</span>.<span class="hljs-number">10</span>/bin/cleanup.sh<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>Zookeeper</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”6.å®‰è£…hbase</title>
    <link href="/2022/01/01/BigData&amp;Linux/6.Hbase%E6%90%AD%E5%BB%BA/"/>
    <url>/2022/01/01/BigData&amp;Linux/6.Hbase%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…hbase"><a href="#å®‰è£…hbase" class="headerlink" title="å®‰è£…hbase"></a>å®‰è£…hbase</h1><p>1ï¼è§£å‹ç¼©hbaseçš„è½¯ä»¶åŒ…ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf hbase-<span class="hljs-number">1</span>.<span class="hljs-number">3</span>.<span class="hljs-number">0</span>-bin.tar.gz <br></code></pre></td></tr></table></figure><p>2ï¼è¿›å…¥hbaseçš„é…ç½®ç›®å½•ï¼Œåœ¨hbase-env.shæ–‡ä»¶é‡Œé¢åŠ å…¥javaç¯å¢ƒå˜é‡.å³ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> JAVA_HOME=/bigdata/jdk1.8.0_121<br><span class="hljs-comment">#å…³é—­HBaseè‡ªå¸¦çš„Zookeeper,ä½¿ç”¨Zookeeperé›†ç¾¤ï¼š</span><br><span class="hljs-built_in">export</span> HBASE_MANAGES_ZK=<span class="hljs-literal">false</span> <br></code></pre></td></tr></table></figure><p>\3. ç¼–è¾‘hbase-site.xml ï¼Œæ·»åŠ é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;?xml-stylesheet type=<span class="hljs-string">&quot;text/xsl&quot;</span> href=<span class="hljs-string">&quot;configuration.xsl&quot;</span>?&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span> <br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hbase.rootdir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span> <br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hdfs://master:9000/hbase<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span> <br>ã€€ã€€<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> <br>ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span> <br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hbase.cluster.distributed<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span> <br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span> <br>ã€€ã€€<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> <br>ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span> <br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hbase.zookeeper.quorum<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span> <br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>master,node1,node2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span> <br>ã€€ã€€<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>\4. ç¼–è¾‘é…ç½®ç›®å½•ä¸‹é¢çš„æ–‡ä»¶regionserverså‘½ä»¤ï¼š</p><p>vi  regionservers  </p><p>åŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gcode"><span class="hljs-symbol">node1</span><br><span class="hljs-symbol">node2</span><br></code></pre></td></tr></table></figure><p>\5. æŠŠHbaseå¤åˆ¶åˆ°å…¶ä»–æœºå™¨ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">scp -r <span class="hljs-regexp">/bigdata/</span>hbase-<span class="hljs-number">1.0</span>.<span class="hljs-number">1.1</span> node1: /bigdata<br>scp -r <span class="hljs-regexp">/bigdata/</span>hbase-<span class="hljs-number">1.0</span>.<span class="hljs-number">1.1</span> ndoe2: /bigdata<br></code></pre></td></tr></table></figure><p>\6. åœ¨node1æœºå™¨å¼€å¯hbaseæœåŠ¡ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</p><p>start-hbase.sh</p><p>ï¼ˆå…ˆåœ¨ç¯å¢ƒå˜é‡é‡Œé…ç½®å¥½ï¼‰</p><p>åœ¨masterã€node1ã€node2ä¸­çš„ä»»æ„ä¸€å°æœºå™¨ä½¿ç”¨å‘½ä»¤</p><p>hbase shell</p><p>è¿›å…¥hbaseè‡ªå¸¦çš„shellç¯å¢ƒï¼Œç„¶åä½¿ç”¨å‘½ä»¤versionç­‰ï¼Œè¿›è¡ŒæŸ¥çœ‹hbaseä¿¡æ¯åŠå»ºç«‹è¡¨ç­‰æ“ä½œã€‚ </p><p><img src="/../src/clip_image002-1640092020441.gif" alt="img"></p><p>ä¹Ÿå¯ä»¥æ‰“å¼€master:60010åœ¨ç«¯å£æ‰“å¼€</p><p><img src="/../src/clip_image004-1640092020442.gif" alt="img"></p>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>Hbase</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”8.Hiveå®‰è£…</title>
    <link href="/2022/01/01/BigData&amp;Linux/8.Hive%E5%AE%89%E8%A3%85/"/>
    <url>/2022/01/01/BigData&amp;Linux/8.Hive%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h1 id="Hiveå®‰è£…"><a href="#Hiveå®‰è£…" class="headerlink" title="Hiveå®‰è£…"></a>Hiveå®‰è£…</h1><h2 id="é¦–å…ˆå®‰è£…MySQL"><a href="#é¦–å…ˆå®‰è£…MySQL" class="headerlink" title="é¦–å…ˆå®‰è£…MySQL"></a>é¦–å…ˆå®‰è£…MySQL</h2><p>1ã€æŸ¥çœ‹mysqlçš„ä¾èµ– </p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic">rpm -qa | grep mysql<br></code></pre></td></tr></table></figure><p>2ã€åˆ é™¤mysqlçš„ä¾èµ–</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic">rpm -e --nodeps `rpm -qa | grep mysql`<br>rpm -e --nodeps `rpm -qa | grep MySQL`<br></code></pre></td></tr></table></figure><p>3ã€ç¦»çº¿å®‰è£…mysql </p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic">rpm -ivh MySQL-server-<span class="hljs-number">5.1</span>.<span class="hljs-number">73</span>-<span class="hljs-number">1</span>.glibc23.x86_64.rpm   <br>rpm -ivh MySQL-client-<span class="hljs-number">5.1</span>.<span class="hljs-number">73</span>-<span class="hljs-number">1</span>.glibc23.x86_64.rpm<br></code></pre></td></tr></table></figure><p>4ã€å¯åŠ¨mysqlæœåŠ¡ ï¼ˆcentos6ç³»ç»Ÿï¼‰</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic">service mysql start<br></code></pre></td></tr></table></figure><p>5ã€åŠ å…¥åˆ°å¼€æœºå¯åŠ¨é¡¹  </p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic">chkconfig mysql <span class="hljs-keyword">on</span><br></code></pre></td></tr></table></figure><p>6ã€è®¿é—®mysqlæœåŠ¡å¹¶ä¿®æ”¹æƒé™</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic">mysql -uroot -p123456<br></code></pre></td></tr></table></figure><p>åˆ‡æ¢æ•°æ®åº“ï¼šuse mysql;</p><p>æŸ¥çœ‹ç”¨æˆ·æƒé™è¡¨ï¼š select user,host from user</p><p>update user set host &#x3D; â€˜%â€™ where user &#x3D; â€˜rootâ€™ ï¼ˆæç¤ºæŠ¥é”™ä¸ç”¨ç®¡ï¼Œå¿½ç•¥ï¼‰</p><p>åˆ·æ–°æƒé™ï¼šflush privileges;</p><h2 id="å†å®‰è£…HIVE"><a href="#å†å®‰è£…HIVE" class="headerlink" title="å†å®‰è£…HIVE"></a>å†å®‰è£…HIVE</h2><p>1ã€è§£å‹hiveçš„å®‰è£…åŒ…</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf apache-hive-<span class="hljs-number">1</span>.<span class="hljs-number">2</span>.<span class="hljs-number">1</span>-bin.tar.gz <br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸‹ç›®å½•åç§°</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">mv</span> apache-hive-<span class="hljs-number">1</span>.<span class="hljs-number">2</span>.<span class="hljs-number">1</span>-bin hive-<span class="hljs-number">1</span>.<span class="hljs-number">2</span>.<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>2ã€å¤‡ä»½é…ç½®æ–‡ä»¶</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">cp hive-env.sh.<span class="hljs-keyword">template</span> hive-env.sh<br>cp hive-<span class="hljs-keyword">default</span>.xml.<span class="hljs-keyword">template</span> hive-site.xml<br></code></pre></td></tr></table></figure><p>3ã€ä¿®æ”¹é…ç½®æ–‡ä»¶</p><p>ä¿®æ”¹hive-env.sh</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">HADOOP_HOME</span>=/bigdata/hadoop-<span class="hljs-number">2</span>.<span class="hljs-number">6</span>.<span class="hljs-number">0</span><br><span class="hljs-attribute">JAVA_HOME</span>=/bigdata/jdk1.<span class="hljs-number">8</span>.<span class="hljs-number">0</span>_171<br><span class="hljs-attribute">HIVE_HOME</span>=/bigdata/hive-<span class="hljs-number">1</span>.<span class="hljs-number">2</span>.<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><img src="/../src/clip_image002.gif" alt="img"></p><p>ä¿®æ”¹hive-site.xml</p><p>&lt;å»ºè®®ä½¿ç”¨æ¨¡å¼åŒ¹é…è¿›è¡ŒæŸ¥æ‰¾æ›¿æ¢ï¼Œæ–‡ä»¶å¾ˆé•¿</p><p>ä¹Ÿå¯ä»¥æŠŠxmlæ–‡ä»¶æ”¾åˆ°windowsç¯å¢ƒä¸‹ï¼Œåˆ©ç”¨sublimetext3ç­‰å·¥å…·æœç´¢æ›¿æ¢&gt;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>jdbc:mysql://master:3306/hive?useSSL=false<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>javax.jdo.option.ConnectionDriverName<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>com.mysql.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>javax.jdo.option.ConnectionUserName<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>javax.jdo.option.ConnectionPassword<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>123456<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hive.querylog.location<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/bigdata/hive-1.2.1/tmp<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hive.exec.local.scratchdir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/bigdata/hive-1.2.1/tmp<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hive.downloaded.resources.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/bigdata/hive-1.2.1/tmp<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><p>4ã€æ›¿æ¢ç›¸å…³çš„jaråŒ…</p><p>æ‹·è´mysqlé©±åŠ¨åˆ°&#x2F;usr&#x2F;local&#x2F;soft&#x2F;hive-1.2.1&#x2F;libç›®å½•ä¸‹</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cp <span class="hljs-regexp">/bigdata/</span>packet<span class="hljs-regexp">/mysql-connector-java-5.1.17.jar ../</span>lib/<br></code></pre></td></tr></table></figure><p>å°†hadoopçš„jline-0.9.94.jarçš„jaræ›¿æ¢æˆhiveçš„ç‰ˆæœ¬ã€‚</p><p>hiveçš„ jline-2.12.jar ä½ç½®åœ¨ &#x2F;bigdata&#x2F;hive-1.2.1&#x2F;lib&#x2F;jline-2.12.jar</p><p>å°†Hadoopçš„åˆ é™¤</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">rm</span> -rf  /bigdata/hadoop-<span class="hljs-number">2</span>.<span class="hljs-number">6</span>.<span class="hljs-number">0</span>/share/hadoop/yarn/lib/jline-<span class="hljs-number">0</span>.<span class="hljs-number">9</span>.<span class="hljs-number">94</span>.jar<br></code></pre></td></tr></table></figure><p>ç„¶åå°†hiveçš„jaræ‹·è¿‡å»hadoopä¸‹ï¼š</p><p>å‘½ä»¤ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cp  <span class="hljs-regexp">/bigdata/</span>hive-<span class="hljs-number">1.2</span>.<span class="hljs-number">1</span><span class="hljs-regexp">/lib/</span>jline-<span class="hljs-number">2.12</span>.jar <span class="hljs-regexp">/bigdata/</span>hadoop-<span class="hljs-number">2.6</span>.<span class="hljs-number">0</span><span class="hljs-regexp">/share/</span>hadoop<span class="hljs-regexp">/yarn/</span>lib/<br></code></pre></td></tr></table></figure><p>5ã€å¯åŠ¨åœ¨ä¸»èŠ‚ç‚¹&#x2F;bigdata&#x2F;hive-1.2.1&#x2F;binç›®å½•ä¸‹æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./schematool -dbType mysql -initSchema<br></code></pre></td></tr></table></figure><p> &#x2F;&#x2F;åˆå§‹åŒ–å…ƒæ•°æ®</p><p>6ã€å¯åŠ¨Hive   .&#x2F;hive <img src="/../src/clip_image004.gif" alt="img"></p><p><strong>é‡è§çš„é—®é¢˜ï¼š</strong></p><p>åœ¨å®‰è£…mysqlçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šæœ‰centosè‡ªå¸¦çš„mysqlä¼šæœ‰ç«¯å£å†²çªã€‚</p><p>å¦‚æœé‡è§error: Failed dependencies: MySQL conflicts with mysql-5.1.71-1.el6.x86_64  ä½¿ç”¨rpm -e mysql-5.1.73-5.el6_7.1.x86_64 â€“nodepsåˆ é™¤ä»–</p><p>å¦‚æœå‘ç°MySQLçš„æœåŠ¡ä¸åœ¨çŠ¶æ€ å°±å¯ä»¥psæ‰¾ä¸€ä¸‹è¿›ç¨‹å· killæ€æ­» é‡æ–°å¯åŠ¨ä¸€ä¸‹å°±OKäº† ps aux | grep mysql  kill -9 è¿›ç¨‹å·</p><p>mysql çš„ç›¸å…³å‘½ä»¤æ˜¯&#x2F;etc&#x2F;init.d&#x2F;mysql status&#x2F;stop&#x2F;start&#x2F;â€¦</p>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>Hive</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”7.Hbase Shellçš„ç”¨æ³•</title>
    <link href="/2022/01/01/BigData&amp;Linux/7.Hbase%20Shell/"/>
    <url>/2022/01/01/BigData&amp;Linux/7.Hbase%20Shell/</url>
    
    <content type="html"><![CDATA[<h1 id="Hbase-Shellçš„ç”¨æ³•"><a href="#Hbase-Shellçš„ç”¨æ³•" class="headerlink" title="Hbase Shellçš„ç”¨æ³•"></a>Hbase Shellçš„ç”¨æ³•</h1><ul><li>whoami    æˆ‘æ˜¯è°    whoami</li><li>version    è¿”å›hbaseç‰ˆæœ¬ä¿¡æ¯    version</li><li>status    è¿”å›hbaseé›†ç¾¤çš„çŠ¶æ€ä¿¡æ¯    status</li><li>table_help    æŸ¥çœ‹å¦‚ä½•æ“ä½œè¡¨    table_help</li><li>create    åˆ›å»ºè¡¨    create â€˜è¡¨åâ€™, â€˜åˆ—æ—å1â€™, â€˜åˆ—æ—å2â€™, â€˜åˆ—æ—åNâ€™</li><li>alter    ä¿®æ”¹åˆ—æ—    æ·»åŠ ä¸€ä¸ªåˆ—æ—ï¼šalter â€˜è¡¨åâ€™, â€˜åˆ—æ—åâ€™</li><li>åˆ é™¤åˆ—æ—ï¼šalter â€˜è¡¨åâ€™, {NAME&#x3D;&gt; â€˜åˆ—æ—åâ€™, METHOD&#x3D;&gt; â€˜deleteâ€™}</li><li>describe    æ˜¾ç¤ºè¡¨ç›¸å…³çš„è¯¦ç»†ä¿¡æ¯    describe â€˜è¡¨åâ€™</li><li>list    åˆ—å‡ºhbaseä¸­å­˜åœ¨çš„æ‰€æœ‰è¡¨    list</li><li>exists    æµ‹è¯•è¡¨æ˜¯å¦å­˜åœ¨    exists â€˜è¡¨åâ€™</li><li>put    æ·»åŠ æˆ–ä¿®æ”¹çš„è¡¨çš„å€¼    put â€˜è¡¨åâ€™, â€˜è¡Œé”®â€™, â€˜åˆ—æ—åâ€™, â€˜åˆ—å€¼â€™</li><li>put â€˜è¡¨åâ€™, â€˜è¡Œé”®â€™, â€˜åˆ—æ—å:åˆ—åâ€™, â€˜åˆ—å€¼â€™</li><li>scan    é€šè¿‡å¯¹è¡¨çš„æ‰«ææ¥è·å–å¯¹ç”¨çš„å€¼    scan â€˜è¡¨åâ€™</li><li>æ‰«ææŸä¸ªåˆ—æ—ï¼š scan â€˜è¡¨åâ€™, {COLUMN&#x3D;&gt;â€˜åˆ—æ—åâ€™}</li><li>æ‰«ææŸä¸ªåˆ—æ—çš„æŸä¸ªåˆ—ï¼š scan â€˜è¡¨åâ€™, {COLUMN&#x3D;&gt;â€˜åˆ—æ—å:åˆ—åâ€™}</li><li>æŸ¥è¯¢åŒä¸€ä¸ªåˆ—æ—çš„å¤šä¸ªåˆ—ï¼š scan â€˜è¡¨åâ€™, {COLUMNS &#x3D;&gt; [ â€˜åˆ—æ—å1:åˆ—å1â€™, â€˜åˆ—æ—å1:åˆ—å2â€™, â€¦]}</li><li>get    è·å–è¡Œæˆ–å•å…ƒï¼ˆcellï¼‰çš„å€¼    get â€˜è¡¨åâ€™, â€˜è¡Œé”®â€™</li><li>get â€˜è¡¨åâ€™, â€˜è¡Œé”®â€™, â€˜åˆ—æ—åâ€™</li><li>count    ç»Ÿè®¡è¡¨ä¸­è¡Œçš„æ•°é‡    count â€˜è¡¨åâ€™</li><li>incr    å¢åŠ æŒ‡å®šè¡¨è¡Œæˆ–åˆ—çš„å€¼    incr â€˜è¡¨åâ€™, â€˜è¡Œé”®â€™, â€˜åˆ—æ—:åˆ—åâ€™, æ­¥é•¿å€¼</li><li>get_counter    è·å–è®¡æ•°å™¨    get_counter â€˜è¡¨åâ€™, â€˜è¡Œé”®â€™, â€˜åˆ—æ—:åˆ—åâ€™</li><li>delete    åˆ é™¤æŒ‡å®šå¯¹è±¡çš„å€¼ï¼ˆå¯ä»¥ä¸ºè¡¨ï¼Œè¡Œï¼Œåˆ—å¯¹åº”çš„å€¼ï¼Œå¦å¤–ä¹Ÿå¯ä»¥æŒ‡å®šæ—¶é—´æˆ³çš„å€¼ï¼‰    åˆ é™¤åˆ—æ—çš„æŸä¸ªåˆ—ï¼š delete â€˜è¡¨åâ€™, â€˜è¡Œé”®â€™, â€˜åˆ—æ—å:åˆ—åâ€™</li><li>deleteall    åˆ é™¤æŒ‡å®šè¡Œçš„æ‰€æœ‰å…ƒç´ å€¼    deleteall â€˜è¡¨åâ€™, â€˜è¡Œé”®â€™</li><li>truncate    é‡æ–°åˆ›å»ºæŒ‡å®šè¡¨    truncate â€˜è¡¨åâ€™</li><li>enable    ä½¿è¡¨æœ‰æ•ˆ    enable â€˜è¡¨åâ€™</li><li>is_enabled    æ˜¯å¦å¯ç”¨    is_enabled â€˜è¡¨åâ€™</li><li>disable    ä½¿è¡¨æ— æ•ˆ    disable â€˜è¡¨åâ€™</li><li>is_disabled    æ˜¯å¦æ— æ•ˆ    is_disabled â€˜è¡¨åâ€™</li><li>drop    åˆ é™¤è¡¨    dropçš„è¡¨å¿…é¡»æ˜¯disableçš„</li><li>disable â€˜è¡¨åâ€™</li><li>drop â€˜è¡¨åâ€™</li><li>shutdown    å…³é—­hbaseé›†ç¾¤ï¼ˆä¸exitä¸åŒï¼‰    </li><li>tools    åˆ—å‡ºhbaseæ‰€æ”¯æŒçš„å·¥å…·    </li><li>exit    é€€å‡ºhbase shell</li></ul>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>Hbase</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BigDataâ€”â€”9.Hiveç¬”è®°</title>
    <link href="/2022/01/01/BigData&amp;Linux/9.HIVE%20%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/01/01/BigData&amp;Linux/9.HIVE%20%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Hiveç¬”è®°"><a href="#Hiveç¬”è®°" class="headerlink" title="Hiveç¬”è®°"></a>Hiveç¬”è®°</h1><h2 id="hiveçš„å­˜å‚¨æ ¼å¼ï¼š"><a href="#hiveçš„å­˜å‚¨æ ¼å¼ï¼š" class="headerlink" title="hiveçš„å­˜å‚¨æ ¼å¼ï¼š"></a>hiveçš„å­˜å‚¨æ ¼å¼ï¼š</h2><p>1 textfile æ²¡æœ‰å‹ç¼©ï¼Œä½†æ˜¯æ¯”è¾ƒå ç”¨å­˜å‚¨ç©ºé—´ã€‚è¯»å–æ•ˆç‡æœ€é«˜<br>2 rcfile æœ‰å‹ç¼©ï¼Œç©ºé—´å ç”¨å°ã€‚ æ¯”è¾ƒèŠ‚çœç©ºé—´ã€‚<br>3 SequenceFile é€‚åˆå°æ–‡ä»¶å­˜å‚¨ã€‚<br>hiveå’Œhdfsçš„å…³ç³»ï¼š<br>hiveçš„å­˜å‚¨æ˜¯åŸºäºhdfsçš„ï¼Œåœ¨hiveä¸­åˆ›å»ºä¸€ä¸ªåº“ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨hdfsä¸Šçš„å½“å‰ç”¨æˆ·<br>è·¯å¾„ä¸‹åˆ›å»ºäº†ä¸€ä¸ªç›®å½•ï¼›<br>æ¯”å¦‚ create database szï¼›<br>hdfs:&#x2F;&#x2F;master:9000&#x2F;user&#x2F;hive&#x2F;warehouse&#x2F;sz.db<br>hiveä¸­çš„åº“å’Œhdfsçš„æ˜ å°„å…³ç³»ï¼Œæ˜¯å­˜æ”¾åœ¨mysqlä¸­çš„ï¼›</p><h2 id="hiveçš„æ“ä½œ"><a href="#hiveçš„æ“ä½œ" class="headerlink" title="hiveçš„æ“ä½œ"></a>hiveçš„æ“ä½œ</h2><p>hiveåˆ›å»ºåº“ï¼šcreate database åº“å<br>hive æŸ¥çœ‹æ•°æ®åï¼šshow databases;<br>hiveåˆ‡æ¢æ•°æ®åº“ï¼šuse szï¼›<br>hiveå»ºè¡¨ï¼š<br>create [EXTERNAL] table vv_stat_fact &#x2F;&#x2F;EXTERNALå…³é”®å­—ï¼Œæ ‡è¯†æ˜¯å¤–éƒ¨è¡¨çš„<br>(<br>userid  string, &#x2F;&#x2F;è¡¨ä¸­çš„å­—æ®µå’Œç±»å‹<br>stat_date string,<br>tryvv int,<br>sucvv int,<br>ptime float<br>)<br>ROW FORMAT DELIMITED FIELDS TERMINATED BY â€˜\tâ€™ &#x2F;&#x2F;æŒ‡å®šåˆ—çš„åˆ†éš”ç¬¦<br>STORED AS textfile &#x2F;&#x2F;æŒ‡å®šå‹ç¼©æ ¼å¼ï¼Œå¦‚æœéœ€è¦ç›´æ¥å°†æ•°æ®æ–‡æœ¬åŠ è½½åˆ°è¡¨ä¸­ï¼Œå‹ç¼©æ ¼å¼éœ€è¦æ—¶textfile<br>location â€˜&#x2F;testdata&#x2F;â€˜; &#x2F;&#x2F;å¯ä»¥è‡ªå®šä¹‰æ•°æ®å­˜å‚¨çš„hdfsçš„ä½ç½®ç›®å½•<br>ä¾‹å­ï¼š<br>create table wc<br>(<br>userid  string<br>)<br>ROW FORMAT DELIMITED FIELDS TERMINATED BY â€˜\nâ€™<br>STORED AS textfile<br>hiveä¸­è¡¨å°±æ˜¯hdfsä¸Šçš„ä¸€ä¸ªç›®å½•ã€‚<br>hiveå»ºè¡¨ï¼Œé»˜è®¤çš„å­˜å‚¨è·¯å¾„åœ¨&#x2F;user&#x2F;hive&#x2F;warehouse<br>åˆ›å»ºhiveçš„å¤–éƒ¨è¡¨ï¼š<br>create EXTERNAL table wc_ext<br>(<br>userid  string<br>)<br>ROW FORMAT DELIMITED FIELDS TERMINATED BY â€˜\nâ€™<br>STORED AS textfile<br>hive åˆ é™¤è¡¨ï¼šdrop table wc_ext;<br>å¦‚æœæ˜¯æ™®é€šè¡¨ï¼Œä¼šåˆ é™¤hdfsä¸Šçš„å¯¹åº”çš„ç›®å½•ï¼ŒåŒæ—¶ä¼šåˆ é™¤æ•°æ®æ–‡ä»¶ã€‚<br>å¦‚æœæ˜¯å¤–éƒ¨è¡¨çš„è¯ï¼Œåªä¼šåˆ é™¤mysqlä¸­å…ƒä¿¡æ¯ï¼Œå¹¶ä¸ä¼šåˆ é™¤hdfsä¸Šå¯¹åº”çš„ç›®å½•å’Œæ•°æ®</p><p>ç»ƒä¹ ï¼šåˆ›å»ºå‘˜å·¥è¡¨æ€»è¡¨<br>EMPNO\ENAME\JOB\MGR\HIREDATE \SAL\COMM\DEPTNO<br>å­—æ®µæ˜¯ï¼šå·¥å·ï¼Œå§“åï¼Œå·¥ä½œå²—ä½ï¼Œéƒ¨é—¨ç»ç†ï¼Œå—é›‡æ—¥æœŸï¼Œè–ªé‡‘ï¼Œå¥–é‡‘ï¼Œéƒ¨é—¨ç¼–å·<br>create table emp<br>(<br>EMPNO  string,<br>ENAME  string,<br>JOB string,<br>MGR string,<br>HIREDATE string,<br>SAL int,<br>COMM int,<br>DEPTNO string<br>)<br>ROW FORMAT DELIMITED FIELDS TERMINATED BY â€˜,â€™<br>STORED AS textfile<br>å°†dept.txtæ•°æ®æ’å…¥è¡¨å­—æ®µï¼ˆDEPTNOã€DNAMEã€LOCï¼‰<br>create table deptl<br>(<br>DEPTNO  string,<br>DNAME  string,<br>LOC string<br>)<br>ROW FORMAT DELIMITED FIELDS TERMINATED BY â€˜,â€™<br>STORED AS textfile<br>location â€˜&#x2F;testdata&#x2F;â€˜;</p><p>hiveçš„åˆ†åŒºè¡¨ï¼š<br>ä¼˜ç‚¹ï¼šé¿å…å…¨è¡¨æ‰«æï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚<br>åˆ›å»ºåˆ†åŒºè¡¨;<br>create table dept_p<br>(<br>DEPTNO  string,<br>DNAME  string,<br>LOC string<br>) PARTITIONED BY (dt string)<br>ROW FORMAT DELIMITED FIELDS TERMINATED BY â€˜,â€™<br>STORED AS textfile;<br>æ‰‹åŠ¨å¢åŠ åˆ†åŒºï¼š<br>alter table dept_p add partition (dt&#x3D;â€™20190715â€™);<br>æŸ¥çœ‹è¡¨çš„å±æ€§ï¼šdesc dept_p</p><p>hive åŠ è½½æ•°æ®ï¼š<br>loadå‘½ä»¤</p><p>load data [local] inpath â€˜æ•°æ®çš„è·¯å¾„â€™ into table è¡¨åç§°ï¼›</p><p>ç»™ä¸€ä¸ªè¡¨å¢åŠ &#x2F;åˆ é™¤åˆ†åŒºå‘½ä»¤ï¼šç›®æ ‡è¡¨å¿…é¡»æ˜¯åˆ†åŒºè¡¨ï¼Œå»ºè¡¨çš„æ—¶å€™å°±è¦æŒ‡å®š<br>   alter table test_table add partition (pt&#x3D;xxxx)<br>    alter table test_table drop if exists partition(â€¦);<br>    ä¾‹å­ï¼š<br>    å¢åŠ åˆ†åŒº<br>    alter table dept_p add partition(dt&#x3D;â€™20180707â€™);<br>    åˆ é™¤ä¸€ä¸ªåˆ†åŒºï¼š<br>    alter table dept_p drop partition(dt&#x3D;â€™20180707â€™);<br>å¦‚ä½•è§„åˆ’å»ºåˆ†åŒºè¡¨è¿˜æ˜¯æ™®é€šè¡¨ï¼š<br>å¦‚æœæ•°æ®é‡æ¯å¤©æˆ–è€…æœ‰è§„å¾‹çš„å¢åŠ ï¼Œå¯ä»¥é¢„çŸ¥æ•°æ®é‡ä¼šéå¸¸å¤§ã€‚å¯ä»¥é‡‡ç”¨åˆ†åŒºè¡¨<br>å¦‚æœæ•°æ®é‡æ¯”è¾ƒå°æˆ–è€…æ˜¯é™æ€æ•°æ®ã€‚å¯ä»¥åˆ›å»ºæ™®é€šè¡¨ã€‚</p><h2 id="hiveè¯­æ³•ï¼š"><a href="#hiveè¯­æ³•ï¼š" class="headerlink" title="hiveè¯­æ³•ï¼š"></a><strong>hiveè¯­æ³•ï¼š</strong></h2><p>whereç”¨æ³•ï¼šç”¨äºè¿‡æ»¤æ•°æ®ï¼Œå°¤å…¶æ˜¯åˆ†åŒºè¡¨çš„æ•°æ®ï¼Œæ·»åŠ è¿‡æ»¤æ¡ä»¶<br>select * from emp where sal &gt; 1000 and comm &gt; 1000;<br>åˆ†åŒºè¡¨åŒæ ·æŠŠåˆ†åŒºå­—æ®µå½“åšwhereæ¡ä»¶è¿‡æ»¤å­—æ®µã€‚<br>ä¸æ”¯æŒå­æŸ¥è¯¢æ¡ä»¶:å¦‚<br>select * from emp where sal &gt; (select max(sal) as s from emp ) and comm &gt; 1000;</p><p>joinçš„ç”¨æ³•ï¼š<br>left join ç”¨æ³•ï¼šä¼šæŒ‰ç…§å·¦è¾¹çš„è¡¨è¿›è¡Œè¾“å‡ºï¼Œå³è¾¹æ— è®ºæœ‰æ²¡æœ‰å…³è”ä¸Šï¼Œå·¦è¾¹éƒ½ä¼šå…¨éƒ¨è¾“å‡º<br>å³è¾¹æ²¡æœ‰å…³è”ä¸Šçš„ï¼Œä¼šä»¥nullè¡¥å……<br>zs 10  10 shanghai<br>lisi  20  null<br>å‡è®¾æƒ³è¦æŸ¥å‡ºå‘˜å·¥è¡¨empä¸­éƒ¨é—¨æ‰€åœ¨åœ°æ˜¯çº½çº¦çš„å‘˜å·¥çš„å§“åå’Œè–ªæ°´ã€‚<br>select e.ename,e.sal from emp e left join dept d on e.deptno&#x3D;d.deptno where d.loc&#x3D;â€™NEW YORKâ€™;<br>ç¬¬äºŒç§å†™æ³•ï¼š<br>select e.ename,e.sal,d.loc from emp e left join (select deptno,loc from dept  where loc&#x3D;â€™NEW YORKâ€™) d on e.deptno&#x3D;d.deptno where  d.loc is not null </p><p>group by åˆ†ç»„èšåˆï¼š<br>ä¾‹å­ï¼šæ±‚æ¯ä¸ªéƒ¨é—¨ä¸­çš„å¹³å‡è–ªæ°´æ˜¯å¤šå°‘ï¼š<br>select deptno,round(avg(sal),1) as a_s from emp group by deptno ;<br>åœ¨hiveä¸­ å‚ä¸è®¡ç®—çš„ç»´åº¦ï¼Œå¿…é¡»è¦å‡ºç°åœ¨ group by åé¢<br>distinct å»é‡ï¼š</p><h2 id="hive-å¸¸ç”¨çš„å‡½æ•°ï¼š"><a href="#hive-å¸¸ç”¨çš„å‡½æ•°ï¼š" class="headerlink" title="hive å¸¸ç”¨çš„å‡½æ•°ï¼š"></a>hive å¸¸ç”¨çš„å‡½æ•°ï¼š</h2><p>if(æ¡ä»¶è¡¨è¾¾å¼,æ¡ä»¶ä¸ºçœŸè¿”å›å€¼,å¦åˆ™è¿”å›)ï¼›<br>ä¾‹å­ï¼Œ<br>å¦‚æœempä¸­å°äº1000å‘˜å·¥ï¼Œnameæ¯ä¸ªå‘˜å·¥å·¥èµ„+500<br>select s.ename,s.sal+500 from (select * from emp where sal &lt; 1000) s;<br>ç”¨ifå‡½æ•°å†™<br>select ename,if(sal&lt;1000,sal+500,sal) as sal from emp;<br>ä¹Ÿå¯ä»¥ç”¨case when<br>select ename,case when sal&lt;1000 then sal+500 else sal end as sal from emp;<br>null åˆ¤æ–­ï¼š<br>select ename,comm from emp where comm is not null;<br>çª—å£å‡½æ•°ä¹‹row_number() over()ï¼š<br>ä¾‹å­ï¼šæƒ³è¦æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨ä¸­å‰2åå·¥èµ„é«˜çš„å‘˜å·¥ã€‚<br>select deptno,ename,sal  from<br>(select deptno,ename,sal,row_number() over(partition by deptno order by sal desc ) as rn from emp) e<br>where e.rn&lt;&#x3D;2 ;</p><p>é«˜çº§å‡½æ•°ï¼šsplit() å¯ä»¥å¯¹ç›®æ ‡å­—æ®µè¿›è¡Œåˆ‡åˆ†ï¼Œè¿”å›æ•°ç»„ç±»å‹<br>explode å¯ä»¥å°†è¡Œè½¬åˆ—ï¼›<br>wordcountçš„ä¾‹å­ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> w.word,<span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) cn <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> explode(split(userid,<span class="hljs-string">&#x27;,&#x27;</span>)) <span class="hljs-keyword">as</span> w<br>ord <span class="hljs-keyword">from</span> wc) w <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> w.word;<br></code></pre></td></tr></table></figure><p>hiveç¬”è®°3<br>æ—¥æœŸå‡½æ•°ï¼š<br>datediff<br>ä¾‹å­ï¼š select datediff(â€˜2019-07-16â€™,â€™2019-07-13â€™)<br>date_add(string startdate, int days)<br>ä¾‹å­ï¼šdate_add(â€˜2019-07-16â€™,50)<br>from_unixtime å°†æ—¶é—´æˆ³è½¬æ¢æˆ æ—¥æœŸå‡½æ•°ï¼š<br>select from_unixtime(1563261771)</p><p>å­—ç¬¦ä¸²å‡½æ•°ï¼šconcat<br>select concat(â€˜zhangsanâ€™,â€™lisiâ€™)</p><p>å‡½æ•°ç»ƒä¹ çš„ä¾‹å­ï¼šæ•°æ®<br>2018&#x2F;6&#x2F;1,10<br>2018&#x2F;6&#x2F;2,11<br>2018&#x2F;6&#x2F;3,11<br>2018&#x2F;6&#x2F;4,12<br>2018&#x2F;6&#x2F;5,14<br>2018&#x2F;6&#x2F;6,15<br>2018&#x2F;6&#x2F;7,13<br>2018&#x2F;6&#x2F;8,37<br>2018&#x2F;6&#x2F;9,18<br>2018&#x2F;6&#x2F;10,19<br>2018&#x2F;6&#x2F;11,10<br>2018&#x2F;6&#x2F;12,11<br>2018&#x2F;6&#x2F;13,11<br>2018&#x2F;6&#x2F;14,12<br>2018&#x2F;6&#x2F;15,14<br>2018&#x2F;6&#x2F;16,15</p><p>éœ€æ±‚ï¼šæƒ³è¦æ¯éš”7å¤©çš„å¹³å‡æ¶ˆè´¹é‡‘é¢ã€‚<br>2018-6-1<del>2018-6-7 20<br>2018-6-8</del>2018-6-14 15</p><p>ç¬¬ä¸€æ­¥ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> split(date_time,<span class="hljs-string">&#x27;/&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> concat_ws(<span class="hljs-string">&#x27;-&#x27;</span>,split(date_time,<span class="hljs-string">&#x27;/&#x27;</span>))<br></code></pre></td></tr></table></figure><p>ç¬¬ä¸‰æ­¥ï¼šå¯¹æ—¥æœŸæ±‚å•† </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">floor</span>(datediff(concat_ws(<span class="hljs-string">&#x27;-&#x27;</span>,split(date_time,<span class="hljs-string">&#x27;/&#x27;</span>)),<span class="hljs-string">&#x27;2018-6-1&#x27;</span>)<span class="hljs-operator">/</span><span class="hljs-number">7</span>)<span class="hljs-operator">*</span><span class="hljs-number">7</span><br></code></pre></td></tr></table></figure><p>ç¬¬å››æ­¥ï¼šå¯¹æ—¥æœŸè¿›è¡ŒåŠ </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> date_add(<span class="hljs-string">&#x27;2018-6-1&#x27;</span>,<span class="hljs-built_in">cast</span>(<span class="hljs-built_in">floor</span>(datediff(concat_ws(<span class="hljs-string">&#x27;-&#x27;</span>,split(date_time,<span class="hljs-string">&#x27;/&#x27;</span>)),<span class="hljs-string">&#x27;2018-6-1&#x27;</span>)<span class="hljs-operator">/</span><span class="hljs-number">7</span>)<span class="hljs-operator">*</span><span class="hljs-number">7</span> <span class="hljs-keyword">as</span> <span class="hljs-type">int</span>))<br><span class="hljs-keyword">select</span> date_add(<span class="hljs-string">&#x27;2018-6-1&#x27;</span>,<span class="hljs-built_in">cast</span>(<span class="hljs-built_in">floor</span>(datediff(concat_ws(<span class="hljs-string">&#x27;-&#x27;</span>,split(date_time,<span class="hljs-string">&#x27;/&#x27;</span>)),<span class="hljs-string">&#x27;2018-6-1&#x27;</span>)<span class="hljs-operator">/</span><span class="hljs-number">7</span>)<span class="hljs-operator">*</span><span class="hljs-number">7</span><span class="hljs-operator">+</span><span class="hljs-number">6</span> <span class="hljs-keyword">as</span> <span class="hljs-type">int</span>))<br></code></pre></td></tr></table></figure><p>ç¬¬äº”æ­¥æ‹¼æ¥æ—¥æœŸï¼š(hiveä¸­group by åé¢æ˜¯ä¸å…è®¸è·Ÿåˆ«åï¼Œéœ€è¦è·Ÿå®é™…å‚ä¸åˆ†ç»„çš„å­—æ®µ)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> concat(date_add(<span class="hljs-string">&#x27;2018-6-1&#x27;</span>,<span class="hljs-built_in">cast</span>(<span class="hljs-built_in">floor</span>(datediff(concat_ws(<span class="hljs-string">&#x27;-&#x27;</span>,split(date_time,<span class="hljs-string">&#x27;/&#x27;</span>)),<span class="hljs-string">&#x27;2018-6-1&#x27;</span>)<span class="hljs-operator">/</span><span class="hljs-number">7</span>)<span class="hljs-operator">*</span><span class="hljs-number">7</span> <span class="hljs-keyword">as</span> <span class="hljs-type">int</span>)),<span class="hljs-string">&#x27;~&#x27;</span>,date_add(<span class="hljs-string">&#x27;2018-6-1&#x27;</span>,<span class="hljs-built_in">cast</span>(<span class="hljs-built_in">floor</span>(datediff(concat_ws(<span class="hljs-string">&#x27;-&#x27;</span>,split(date_time,<span class="hljs-string">&#x27;/&#x27;</span>)),<span class="hljs-string">&#x27;2018-6-1&#x27;</span>)<span class="hljs-operator">/</span><span class="hljs-number">7</span>)<span class="hljs-operator">*</span><span class="hljs-number">7</span><span class="hljs-operator">+</span><span class="hljs-number">6</span> <span class="hljs-keyword">as</span> <span class="hljs-type">int</span>))) <span class="hljs-keyword">as</span> dt,round(<span class="hljs-built_in">avg</span>(cost),<span class="hljs-number">1</span>) <br><span class="hljs-keyword">from</span> dp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> concat(date_add(<span class="hljs-string">&#x27;2018-6-1&#x27;</span>,<span class="hljs-built_in">cast</span>(<span class="hljs-built_in">floor</span>(datediff(concat_ws(<span class="hljs-string">&#x27;-&#x27;</span>,split(date_time,<span class="hljs-string">&#x27;/&#x27;</span>)),<span class="hljs-string">&#x27;2018-6-1&#x27;</span>)<span class="hljs-operator">/</span><span class="hljs-number">7</span>)<span class="hljs-operator">*</span><span class="hljs-number">7</span> <span class="hljs-keyword">as</span> <span class="hljs-type">int</span>)),<span class="hljs-string">&#x27;~&#x27;</span>,date_add(<span class="hljs-string">&#x27;2018-6-1&#x27;</span>,<span class="hljs-built_in">cast</span>(<span class="hljs-built_in">floor</span>(datediff(concat_ws(<span class="hljs-string">&#x27;-&#x27;</span>,split(date_time,<span class="hljs-string">&#x27;/&#x27;</span>)),<span class="hljs-string">&#x27;2018-6-1&#x27;</span>)<span class="hljs-operator">/</span><span class="hljs-number">7</span>)<span class="hljs-operator">*</span><span class="hljs-number">7</span><span class="hljs-operator">+</span><span class="hljs-number">6</span> <span class="hljs-keyword">as</span> <span class="hljs-type">int</span>))) <br></code></pre></td></tr></table></figure><p>ç»“æœ</p><p>2018-06-01<del>2018-06-07    12.3<br>2018-06-08</del>2018-06-14    16.9<br>2018-06-15<del>2018-06-21    16.6<br>2018-06-22</del>2018-06-28    23.3<br>2018-06-29<del>2018-07-05    37.9<br>2018-07-06</del>2018-07-12    47.6<br>2018-07-13<del>2018-07-19    54.3<br>2018-07-20</del>2018-07-26    36.0<br>2018-07-27<del>2018-08-02    51.3<br>2018-08-03</del>2018-08-09    75.4<br>2018-08-10~2018-08-16    80.7</p><p>create table if not exists  movie(<br>  stat_date string,<br>  userid string,<br>  uid string,<br>  version string,<br>  country string,<br>  province string,<br>  movie_tryvv int,<br>  movie_sucvv int,<br>  movie_ptime int<br>)<br> PARTITIONED BY (<br>  dt string)<br>clustered by (userid) into 3000 buckets<br>ROW FORMAT DELIMITED<br>  FIELDS TERMINATED BY â€˜,â€™<br>STORED AS textfile;</p><p>æ¸…ç©ºè¡¨æ•°æ®ï¼štruncate table xxx<br>åŠ è½½åˆ†åŒºè¡¨æ•°æ®<br>load data local inpath â€˜&#x2F;usr&#x2F;local&#x2F;soft&#x2F;datadir&#x2F;movedata.csvâ€™ into tab<br>le movie_vv partition(dt&#x3D;â€™20190717â€™);<br>ç®€å•æŒ‡æ ‡ï¼š<br>pv:é¡µé¢è®¿é—®æ¬¡æ•°<br>uvï¼šç”¨æˆ·ç‹¬ç«‹è®¿é—®æ¬¡æ•°<br>select count(*) as pv, count(distinct userid) as uv from movie_vv;</p><p>ç»ƒä¹ ï¼šä¸€å¥sqlç®—å‡ºï¼Œå¯ä»¥ç”¨åˆ°ifå‡½æ•°<br>0-5åˆ†é’Ÿï¼Œè§‚å½±äººæ•°ã€‚5-20åˆ†é’Ÿè§‚å½±äººæ•°ï¼Œ50-100</p><p>hiveçš„udfï¼š<br>åˆ†ä¸‰ç±»udf<br>ï¼šudf è¾“å…¥ä¸€è¡Œæ•°æ®è¿”å›ä¸€è¡Œæ•°æ®ï¼Œä¸€å¯¹ä¸€çš„å…³ç³»<br>ï¼šUDAFè¾“å…¥å¤šè¡Œæ•°æ®ï¼Œè¿”å›ä¸€è¡Œæ•°æ®ï¼Œé€šå¸¸æ˜¯èšåˆå‡½æ•°<br>ï¼šUDTF è¾“å…¥ä¸€è¡Œæ•°æ®ï¼Œè¿”å›å¤šè¡Œæ•°æ®ï¼Œé€šå¸¸æ˜¯è¡Œè½¬åˆ—çš„æ“ä½œï¼Œæˆ–è€…åˆ‡å‰²çš„æ“ä½œã€‚</p><p>ç¬¬ä¸€æ­¥ï¼šmavenæ·»åŠ ä¾èµ–ï¼š<br>      <dependency><br>            <groupId>org.apache.hive</groupId><br>            <artifactId>hive-exec</artifactId><br>            <version>1.2.1</version><br>        </dependency><br>ç¬¬äºŒæ­¥ï¼šç¼–å†™udfçš„ç¨‹åºï¼š<br>import org.apache.hadoop.hive.ql.exec.UDF;</p><p>public class hive_udf_demo extends UDF{<br>&#x2F;&#x2F;æ–¹æ³•åç§°å¿…é¡»æ˜¯ï¼ševaluate<br>&#x2F;&#x2F;è¿™é‡Œçš„å‚æ•° s å°±æ˜¯sqlä¸­å‡½æ•°éœ€è¦ä¼ å…¥çš„é‚£ä¸ªå­—æ®µï¼Œ<br>    public String evaluate(String s){<br>        &#x2F;&#x2F;åœ¨å‡½æ•°å†…å®ç°è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚<br>        if (s&#x3D;&#x3D;â€JONESâ€) {<br>            s&#x3D;â€shangdanâ€;<br>        }<br>        return s.toLowerCase();<br>    }</p><p>}<br>ç¬¬ä¸‰æ­¥ï¼šå°†jaråŒ…ä¸Šä¼ åˆ°hiveä¸­<br>ç¬¬å››æ­¥ï¼šhiveåŠ è½½jaråŒ…<br>add jar &#x2F;usr&#x2F;local&#x2F;soft&#x2F;datadir&#x2F;hive_udf_low.jar;<br>ç¬¬äº”æ­¥ï¼šåˆ›å»ºhiveå‡½æ•°<br>CREATE TEMPORARY FUNCTION my_lower as â€˜hadoop04.shujia04.hive_udf_demo<br>â€˜;</p><p>hiveçš„shell æ“ä½œï¼š<br>å¯ä»¥åˆ›å»ºä¸€ä¸ªshellè„šæœ¬ï¼Œè„šæœ¬ä¸­é€šè¿‡hive -eçš„æ–¹å¼å†™sql<br>#!&#x2F;bin&#x2F;bash<br>source &#x2F;etc&#x2F;profile<br>hive -e â€˜select * from sz.dpâ€™<br>å¯åŠ¨å‘½ä»¤ï¼šæ¯”å¦‚shell æ–‡ä»¶åç§°æ˜¯ hivesql.sh<br>sh hivesql.sh<br>ä¹Ÿå¯ä»¥é€šè¿‡hqlæ–‡ä»¶å†™sqlï¼Œç„¶åæ‰§è¡Œæ–‡ä»¶<br>hive -f test.hql</p><p>å°†å‘½ä»¤åŠ å…¥åˆ°å®šæ—¶æœåŠ¡å™¨<br><a href="https://baijiahao.baidu.com/s?id=1609952845993989858&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1609952845993989858&amp;wfr=spider&amp;for=pc</a><br>æ‰“å¼€å®šæ—¶ä»»åŠ¡æ¸…å•ï¼šcrontab -e</p><h2 id="exercise"><a href="#exercise" class="headerlink" title="exercise"></a>exercise</h2><p>ä¸€ å°†empdata.txtæ•°æ®æ’å…¥hiveè¡¨ã€‚<br>EMPNO\ENAME\JOB\MGR\HIREDATE \SAL\COMM\DEPTNO<br>å­—æ®µä¸­æ–‡åå­—ä¾æ¬¡æ˜¯ï¼šå·¥å·ï¼Œå§“åï¼Œå·¥ä½œå²—ä½ï¼Œéƒ¨é—¨ç»ç†ï¼Œå—é›‡æ—¥æœŸï¼Œè–ªé‡‘ï¼Œå¥–é‡‘ï¼Œéƒ¨é—¨ç¼–å·<br>å°†dept.txtæ•°æ®æ’å…¥è¡¨å­—æ®µï¼ˆDEPTNOã€DNAMEã€LOCï¼‰<br>10,ACCOUNTING,NEW YORK<br>10,ACCOUNTING,shanghai<br>20,RESEARCH,DALLAS<br>30,SALES,CHICAGO<br>40,OPERATIONS,BOSTON</p><p>ç„¶åæŸ¥è¯¢ï¼ˆsqlå’Œè¿è¡Œç»“æœæˆªå›¾ï¼‰ï¼š<br>1ï¼ åˆ—å‡ºè‡³å°‘æœ‰4ä¸ªå‘˜å·¥çš„æ‰€æœ‰éƒ¨é—¨ç¼–å·å’Œåç§°ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ss.DEPTNO,d.DNAME <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> DEPTNO <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> DEPTNO,<span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">as</span> cn <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">group</span> <br><span class="hljs-keyword">by</span> DEPTNO)s  <span class="hljs-keyword">where</span> s.cn<span class="hljs-operator">&gt;=</span><span class="hljs-number">4</span>)ss <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> dept d <span class="hljs-keyword">on</span> ss.DEPTNO<span class="hljs-operator">=</span>d.DEPTNO; <br><br><span class="hljs-keyword">select</span> ss.DEPTNO,d.DNAME <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> DEPTNO,<span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">as</span> cn <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> DEPTNO <span class="hljs-keyword">having</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;</span> <span class="hljs-number">4</span>)ss <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> dept d <span class="hljs-keyword">on</span> ss.DEPTNO<span class="hljs-operator">=</span>d.DEPTNO; <br></code></pre></td></tr></table></figure><p>2ï¼ åˆ—å‡ºè–ªé‡‘æ¯”â€œSCOTTâ€å¤šçš„æ‰€æœ‰å‘˜å·¥ã€‚<br>     ç¬¬ä¸€ç§ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ENAME,SAL <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal<span class="hljs-operator">&gt;</span>(<span class="hljs-keyword">select</span> sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> ENAME<span class="hljs-operator">=</span><span class="hljs-string">&#x27;SCOTT&#x27;</span>);<br></code></pre></td></tr></table></figure><p>â€‹     ç¬¬äºŒç§: </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> e.ENAME, e.SAL <span class="hljs-keyword">from</span> (<br> <span class="hljs-keyword">select</span> ENAME,SAL,<span class="hljs-number">1</span> <span class="hljs-keyword">as</span> cid  <span class="hljs-keyword">from</span> emp)e <br> <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> SAL,<span class="hljs-number">1</span> <span class="hljs-keyword">as</span> cid  <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> ENAME<span class="hljs-operator">=</span><span class="hljs-string">&#x27;SCOTT&#x27;</span> )s <br> <span class="hljs-keyword">on</span> e.cid<span class="hljs-operator">=</span>s.cid <span class="hljs-keyword">where</span> e.SAL<span class="hljs-operator">&gt;</span>s.SAL;<br></code></pre></td></tr></table></figure><p>3ï¼ åˆ—å‡ºæ‰€æœ‰å‘˜å·¥çš„å§“ååŠå…¶ç›´æ¥ä¸Šçº§çš„å§“åã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> e.ENAME,ee.ENAME <span class="hljs-keyword">from</span> hemp e <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> empno,ENAME,MGR <span class="hljs-keyword">from</span> hemp ) ee <span class="hljs-keyword">on</span> e.MGR<span class="hljs-operator">=</span>ee.empno;<br></code></pre></td></tr></table></figure><p>4ï¼ åˆ—å‡ºå—é›‡æ—¥æœŸæ—©äºå…¶ç›´æ¥ä¸Šçº§çš„æ‰€æœ‰å‘˜å·¥ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> e.ENAME <span class="hljs-keyword">from</span> hemp e <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> hemp ) ee <span class="hljs-keyword">on</span> e.MGR<span class="hljs-operator">=</span>ee.empno <span class="hljs-keyword">where</span> e.hiredate<span class="hljs-operator">&lt;</span>ee.hiredate;<br></code></pre></td></tr></table></figure><p>5ï¼ åˆ—å‡ºéƒ¨é—¨åç§°å’Œè¿™äº›éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯ï¼ŒåŒæ—¶åˆ—å‡ºé‚£äº›æ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span>  <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> dept d <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> emp  e <span class="hljs-keyword">on</span> d.DEPTNO<span class="hljs-operator">=</span>e.DEPTNO;<br></code></pre></td></tr></table></figure><p>6ï¼ åˆ—å‡ºæ‰€æœ‰â€œCLERKâ€ï¼ˆåŠäº‹å‘˜ï¼‰çš„å§“ååŠå…¶éƒ¨é—¨åç§°ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> j.ENAME,d.DNAME <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">where</span> JOB<span class="hljs-operator">=</span> &quot;CLERK&quot; ) j <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> hdept d <span class="hljs-keyword">on</span> j.deptno<span class="hljs-operator">=</span>d.deptno;<br></code></pre></td></tr></table></figure><p>7ï¼ åˆ—å‡ºæœ€ä½è–ªé‡‘å¤§äº1500çš„å„ç§å·¥ä½œã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span>  <span class="hljs-keyword">distinct</span> JOB <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">where</span> SAL <span class="hljs-operator">&gt;</span> <span class="hljs-number">1500</span>;<br></code></pre></td></tr></table></figure><p>8ï¼ åˆ—å‡ºåœ¨éƒ¨é—¨â€œSALESâ€ï¼ˆé”€å”®éƒ¨ï¼‰å·¥ä½œçš„å‘˜å·¥çš„å§“åï¼Œå‡å®šä¸çŸ¥é“é”€å”®éƒ¨çš„éƒ¨é—¨ç¼–å·</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> e.ENAME <span class="hljs-keyword">from</span> hemp e <span class="hljs-keyword">join</span>  hdept d <span class="hljs-keyword">on</span> d.deptno<span class="hljs-operator">=</span>e.deptno <span class="hljs-keyword">where</span> d.DNAME<span class="hljs-operator">=</span>&quot;SALES&quot;;<br></code></pre></td></tr></table></figure><p>9ï¼ åˆ—å‡ºè–ªé‡‘é«˜äºå…¬å¸å¹³å‡è–ªé‡‘çš„æ‰€æœ‰å‘˜å·¥ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> e.ENAME <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span>  <span class="hljs-operator">*</span>,<span class="hljs-number">1</span> <span class="hljs-keyword">as</span> cid <span class="hljs-keyword">from</span> emp) e<br> <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-built_in">avg</span>(SAL) cn,<span class="hljs-number">1</span> <span class="hljs-keyword">as</span> cid <span class="hljs-keyword">from</span> emp) s <br> <span class="hljs-keyword">on</span> e.cid<span class="hljs-operator">=</span>s.cid <br> <span class="hljs-keyword">where</span> e.sal<span class="hljs-operator">&gt;</span>s.cn;<br></code></pre></td></tr></table></figure><p>10ï¼åˆ—å‡ºä¸â€œSCOTTâ€ä»äº‹ç›¸åŒå·¥ä½œçš„æ‰€æœ‰å‘˜å·¥ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> p.ENAME <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">where</span>  ENAME<span class="hljs-operator">=</span><span class="hljs-string">&#x27;SCOTT&#x27;</span> ) e <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">where</span>  ENAME<span class="hljs-operator">!=</span><span class="hljs-string">&#x27;SCOTT&#x27;</span> ) p <span class="hljs-keyword">on</span> e.JOB<span class="hljs-operator">=</span>p.JOB;<br></code></pre></td></tr></table></figure><p>11ï¼åˆ—å‡ºè–ªé‡‘ç­‰äºéƒ¨é—¨30ä¸­å‘˜å·¥çš„è–ªé‡‘çš„æ‰€æœ‰å‘˜å·¥çš„å§“åå’Œè–ªé‡‘ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ep.ENAME,ep.SAL <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> sal <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">where</span> DEPTNO<span class="hljs-operator">=</span><span class="hljs-string">&#x27;30&#x27;</span>) e <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> hemp ep <span class="hljs-keyword">on</span> e.SAL<span class="hljs-operator">=</span>ep.SAL;<br></code></pre></td></tr></table></figure><p>12ï¼åˆ—å‡ºè–ªé‡‘é«˜äºåœ¨éƒ¨é—¨30å·¥ä½œçš„æ‰€æœ‰å‘˜å·¥çš„è–ªé‡‘çš„å‘˜å·¥å§“åå’Œè–ªé‡‘ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> e.ENAME,e.SAL <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span>  <span class="hljs-operator">*</span>,<span class="hljs-number">1</span> <span class="hljs-keyword">as</span> cid <span class="hljs-keyword">from</span> hemp) e <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(SAL) cn,<span class="hljs-number">1</span> <span class="hljs-keyword">as</span> cid <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">where</span>  DEPTNO<span class="hljs-operator">=</span><span class="hljs-string">&#x27;30&#x27;</span>) s <span class="hljs-keyword">on</span> e.cid<span class="hljs-operator">=</span>s.cid <span class="hljs-keyword">where</span> e.sal<span class="hljs-operator">&gt;</span>s.cn;<br></code></pre></td></tr></table></figure><p>13ï¼åˆ—å‡ºåœ¨æ¯ä¸ªéƒ¨é—¨å·¥ä½œçš„å‘˜å·¥æ•°é‡ã€å¹³å‡å·¥èµ„å’Œå¹³å‡æœåŠ¡æœŸé™ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span>  DEPTNO,<span class="hljs-built_in">count</span>(ENAME) <span class="hljs-keyword">as</span> name ,<span class="hljs-built_in">avg</span>(sal) <span class="hljs-keyword">as</span> avg_sal,round(<span class="hljs-built_in">avg</span>(datediff(<span class="hljs-built_in">current_timestamp</span>,hiredate)),<span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> avg_day <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> DEPTNO;<br></code></pre></td></tr></table></figure><p>14ï¼åˆ—å‡ºæ‰€æœ‰å‘˜å·¥çš„å§“åã€éƒ¨é—¨åç§°å’Œå·¥èµ„ã€‚ </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> e.ENAME,d.DNAME,e.sal <span class="hljs-keyword">from</span> hemp e <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> hdept d <span class="hljs-keyword">on</span> e.DEPTNO<span class="hljs-operator">=</span>d.DEPTNO;<br></code></pre></td></tr></table></figure><p>15ï¼åˆ—å‡ºæ‰€æœ‰éƒ¨é—¨çš„è¯¦ç»†ä¿¡æ¯å’Œéƒ¨é—¨äººæ•°ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> hdept d <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> DEPTNO,<span class="hljs-built_in">count</span>(ENAME) <span class="hljs-keyword">as</span> cn <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> DEPTNO )  e <span class="hljs-keyword">on</span> e.DEPTNO<span class="hljs-operator">=</span>d.DEPTNO;<br></code></pre></td></tr></table></figure><p>16ï¼åˆ—å‡ºå„ç§å·¥ä½œçš„æœ€ä½å·¥èµ„ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> job,<span class="hljs-built_in">min</span>(sal)  <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> job;<br></code></pre></td></tr></table></figure><p>17ï¼åˆ—å‡ºå„ä¸ªéƒ¨é—¨çš„MANAGERï¼ˆç»ç†ï¼‰çš„æœ€ä½è–ªé‡‘ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> DEPTNO,<span class="hljs-built_in">min</span>(SAL)  <span class="hljs-keyword">FROM</span> hemp <span class="hljs-keyword">where</span> job <span class="hljs-operator">=</span><span class="hljs-string">&#x27;MANAGER&#x27;</span> <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> DEPTNO;<br></code></pre></td></tr></table></figure><p>18ï¼åˆ—å‡ºæ‰€æœ‰å‘˜å·¥çš„å¹´å·¥èµ„,åˆ—å‡ºå¹´è–ªæœ€é«˜çš„å‰3ä¸ªå‘˜å·¥ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ENAME,sal<span class="hljs-operator">*</span><span class="hljs-number">12</span><span class="hljs-operator">+</span>COMM <span class="hljs-keyword">as</span> all_m <span class="hljs-keyword">from</span> hemp <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> all_m <span class="hljs-keyword">desc</span> limit <span class="hljs-number">3</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> ENAME,sal<span class="hljs-operator">*</span><span class="hljs-number">12</span><span class="hljs-operator">+</span>COMM <span class="hljs-keyword">as</span> all_m <span class="hljs-keyword">from</span> hemp) e <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> e.all_m <span class="hljs-keyword">desc</span> limit <span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure><p>æ€è€ƒï¼š åˆ—å‡ºæ¯ä¸ªéƒ¨é—¨è–ªæ°´å‰ä¸¤åæœ€é«˜çš„äººå‘˜åç§°ä»¥åŠè–ªæ°´</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename,sal,deptno <span class="hljs-keyword">from</span> <br>(<span class="hljs-keyword">select</span> ename,sal,deptno,<span class="hljs-built_in">row_number</span>() <span class="hljs-keyword">over</span>(<span class="hljs-keyword">partition</span> <span class="hljs-keyword">by</span> deptno <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> sal <span class="hljs-keyword">desc</span>) <span class="hljs-keyword">as</span> num <span class="hljs-keyword">from</span> hemp ) <br><span class="hljs-keyword">where</span> num <span class="hljs-operator">&lt;=</span><span class="hljs-number">2</span>;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>BigData</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BigData</tag>
      
      <tag>Hive</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
